\hypertarget{classns3_1_1ObjectFactory}{}\section{ns3\+:\+:Object\+Factory Class Reference}
\label{classns3_1_1ObjectFactory}\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}


Instantiate subclasses of \hyperlink{classns3_1_1Object}{ns3\+::\+Object}.  




{\ttfamily \#include $<$object-\/factory.\+h$>$}



Collaboration diagram for ns3\+:\+:Object\+Factory\+:
% FIG 0
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1ObjectFactory_aa33bb9cd0a190a10239e834383667764}{Object\+Factory} ()
\item 
\hyperlink{classns3_1_1ObjectFactory_ab33a5e24c3393daa01f669b68a448d65}{Object\+Factory} (std\+::string type\+Id)
\item 
void \hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (std\+::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, const \hyperlink{classns3_1_1AttributeValue}{Attribute\+Value} \&value)
\item 
\hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1ObjectFactory_a14baab41e2bd984a3eee543b8d8086d7}{Get\+Type\+Id} (void) const 
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Object}{Object} $>$ \hyperlink{classns3_1_1ObjectFactory_a18152e93f0a6fe184ed7300cb31e9896}{Create} (void) const 
\item 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classns3_1_1Ptr}{Ptr}$<$ T $>$ \hyperlink{classns3_1_1ObjectFactory_a87f49a6ba741eaf6314b827ee46e9fb0}{Create} (void) const 
\end{DoxyCompactItemize}
{\bf }\par
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1ObjectFactory_a77dcd099064038a1eb7a6b8251229ec3}{Set\+Type\+Id} (\hyperlink{classns3_1_1TypeId}{Type\+Id} tid)
\item 
void \hyperlink{classns3_1_1ObjectFactory_a18dc654db27aa0885075cd468f62679b}{Set\+Type\+Id} (const char $\ast$tid)
\item 
void \hyperlink{classns3_1_1ObjectFactory_affafbb7457b9b2614f57858126e576b1}{Set\+Type\+Id} (std\+::string tid)
\end{DoxyCompactItemize}

\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{m\+\_\+tid}
\item 
\hyperlink{classns3_1_1AttributeConstructionList}{Attribute\+Construction\+List} \hyperlink{classns3_1_1ObjectFactory_ad0f5d67c7039a3c60a80a0030bc9ca48}{m\+\_\+parameters}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
std\+::ostream \& \hyperlink{classns3_1_1ObjectFactory_a2b57d69e2e93db250b04f4819033238e}{operator$<$$<$} (std\+::ostream \&os, const \hyperlink{classns3_1_1ObjectFactory}{Object\+Factory} \&factory)
\item 
std\+::istream \& \hyperlink{classns3_1_1ObjectFactory_a73e69127dbdfbec1915172786a920a47}{operator$>$$>$} (std\+::istream \&is, \hyperlink{classns3_1_1ObjectFactory}{Object\+Factory} \&factory)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Instantiate subclasses of \hyperlink{classns3_1_1Object}{ns3\+::\+Object}. 

This class can also hold a set of attributes to set automatically during the object construction.

\begin{DoxySeeAlso}{See also}
attribute\+\_\+\+Object\+Factory 
\end{DoxySeeAlso}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!Object\+Factory@{Object\+Factory}}
\index{Object\+Factory@{Object\+Factory}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{Object\+Factory()}{ObjectFactory()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Object\+Factory\+::\+Object\+Factory (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ObjectFactory_aa33bb9cd0a190a10239e834383667764}{}\label{classns3_1_1ObjectFactory_aa33bb9cd0a190a10239e834383667764}
Default constructor.

This factory is not capable of constructing a real \hyperlink{classns3_1_1Object}{Object} until it has at least a \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\begin{DoxyCode}
35 \{
36   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
37 \}
\end{DoxyCode}
\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!Object\+Factory@{Object\+Factory}}
\index{Object\+Factory@{Object\+Factory}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{Object\+Factory(std\+::string type\+Id)}{ObjectFactory(std::string typeId)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Object\+Factory\+::\+Object\+Factory (
\begin{DoxyParamCaption}
\item[{std\+::string}]{type\+Id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ObjectFactory_ab33a5e24c3393daa01f669b68a448d65}{}\label{classns3_1_1ObjectFactory_ab33a5e24c3393daa01f669b68a448d65}
Construct a factory for a specific \hyperlink{classns3_1_1TypeId}{Type\+Id} by name.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em type\+Id} & The name of the \hyperlink{classns3_1_1TypeId}{Type\+Id} this factory should create. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
40 \{
41   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << typeId);
42   \hyperlink{classns3_1_1ObjectFactory_a77dcd099064038a1eb7a6b8251229ec3}{SetTypeId} (typeId);
43 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1




\subsection{Member Function Documentation}
\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!Create@{Create}}
\index{Create@{Create}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{Create(void) const }{Create(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Object} $>$ ns3\+::\+Object\+Factory\+::\+Create (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1ObjectFactory_a18152e93f0a6fe184ed7300cb31e9896}{}\label{classns3_1_1ObjectFactory_a18152e93f0a6fe184ed7300cb31e9896}
Create an \hyperlink{classns3_1_1Object}{Object} instance of the configured \hyperlink{classns3_1_1TypeId}{Type\+Id}.

\begin{DoxyReturn}{Returns}
A new object instance. 
\end{DoxyReturn}

\begin{DoxyCode}
96 \{
97   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
98   Callback<ObjectBase *> cb = \hyperlink{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{m\_tid}.\hyperlink{classns3_1_1TypeId_ad9b0bc71ee7593a1ff23ff8d53938e95}{GetConstructor} ();
99   ObjectBase *base = cb ();
100   Object *derived = \textcolor{keyword}{dynamic\_cast<}Object *\textcolor{keyword}{>} (base);
101   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (derived != 0);
102   derived->SetTypeId (\hyperlink{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{m\_tid});
103   derived->Construct (\hyperlink{classns3_1_1ObjectFactory_ad0f5d67c7039a3c60a80a0030bc9ca48}{m\_parameters});
104   Ptr<Object> \textcolor{keywordtype}{object} = Ptr<Object> (derived, \textcolor{keyword}{false});
105   \textcolor{keywordflow}{return} object;
106 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!Create@{Create}}
\index{Create@{Create}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{Create(void) const }{Create(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ {\bf Ptr}$<$ T $>$ ns3\+::\+Object\+Factory\+::\+Create (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1ObjectFactory_a87f49a6ba741eaf6314b827ee46e9fb0}{}\label{classns3_1_1ObjectFactory_a87f49a6ba741eaf6314b827ee46e9fb0}
Create an \hyperlink{classns3_1_1Object}{Object} instance of the requested type.

This method performs an extra call to \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{ns3\+::\+Object\+::\+Get\+Object} before returning a pointer of the requested type to the user. This method is really syntactical sugar.


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The requested \hyperlink{classns3_1_1Object}{Object} type. \\
\hline
\end{DoxyTemplParams}
\begin{DoxyReturn}{Returns}
A new object instance. 
\end{DoxyReturn}

\begin{DoxyCode}
199 \{
200   Ptr<Object> \textcolor{keywordtype}{object} = \hyperlink{classns3_1_1ObjectFactory_a18152e93f0a6fe184ed7300cb31e9896}{Create} ();
201   \textcolor{keywordflow}{return} \textcolor{keywordtype}{object}->GetObject<T> ();
202 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void) const }{GetTypeId(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Object\+Factory\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1ObjectFactory_a14baab41e2bd984a3eee543b8d8086d7}{}\label{classns3_1_1ObjectFactory_a14baab41e2bd984a3eee543b8d8086d7}
Get the \hyperlink{classns3_1_1TypeId}{Type\+Id} which will be created by this \hyperlink{classns3_1_1ObjectFactory}{Object\+Factory}. \begin{DoxyReturn}{Returns}
The currently-\/selected \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
89 \{
90   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
91   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{m\_tid};
92 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!Set@{Set}}
\index{Set@{Set}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{Set(std\+::string name, const Attribute\+Value \&value)}{Set(std::string name, const AttributeValue &value)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Object\+Factory\+::\+Set (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name, }
\item[{const {\bf Attribute\+Value} \&}]{value}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{}\label{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}
Set an attribute to be set during construction.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em name} & The name of the attribute to set. \\
\hline
\mbox{\tt in}  & {\em value} & The value of the attribute to set. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
65 \{
66   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name} << &value);
67   \textcolor{keywordflow}{if} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name} == \textcolor{stringliteral}{""})
68     \{
69       \textcolor{keywordflow}{return};
70     \}
71   
72   \textcolor{keyword}{struct }TypeId::AttributeInformation info;
73   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{m\_tid}.\hyperlink{classns3_1_1TypeId_ac0a446957d516129937e2f2285aab58b}{LookupAttributeByName} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, &info))
74     \{
75       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Invalid attribute set ("} << \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name} << \textcolor{stringliteral}{") on "} << 
      \hyperlink{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{m\_tid}.\hyperlink{classns3_1_1TypeId_aa3c41c79ae428b3cb396a9c6bb3ef314}{GetName} ());
76       \textcolor{keywordflow}{return};
77     \}
78   Ptr<AttributeValue> v = info.checker->CreateValidValue (value);
79   \textcolor{keywordflow}{if} (v == 0)
80     \{
81       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Invalid value for attribute set ("} << \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name} << \textcolor{stringliteral}{") on "} << 
      \hyperlink{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{m\_tid}.\hyperlink{classns3_1_1TypeId_aa3c41c79ae428b3cb396a9c6bb3ef314}{GetName} ());
82       \textcolor{keywordflow}{return};
83     \}
84   \hyperlink{classns3_1_1ObjectFactory_ad0f5d67c7039a3c60a80a0030bc9ca48}{m\_parameters}.\hyperlink{classns3_1_1AttributeConstructionList_a6f418bf1a2de8828ae99278c9d3facdd}{Add} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, info.checker, value.Copy ());
85 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!Set\+Type\+Id@{Set\+Type\+Id}}
\index{Set\+Type\+Id@{Set\+Type\+Id}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{Set\+Type\+Id(\+Type\+Id tid)}{SetTypeId(TypeId tid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Object\+Factory\+::\+Set\+Type\+Id (
\begin{DoxyParamCaption}
\item[{{\bf Type\+Id}}]{tid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ObjectFactory_a77dcd099064038a1eb7a6b8251229ec3}{}\label{classns3_1_1ObjectFactory_a77dcd099064038a1eb7a6b8251229ec3}
Set the \hyperlink{classns3_1_1TypeId}{Type\+Id} of the Objects to be created by this factory.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em tid} & The \hyperlink{classns3_1_1TypeId}{Type\+Id} of the object to instantiate. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
47 \{
48   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << tid.GetName ());
49   \hyperlink{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{m\_tid} = tid;
50 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!Set\+Type\+Id@{Set\+Type\+Id}}
\index{Set\+Type\+Id@{Set\+Type\+Id}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{Set\+Type\+Id(const char $\ast$tid)}{SetTypeId(const char *tid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Object\+Factory\+::\+Set\+Type\+Id (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{tid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ObjectFactory_a18dc654db27aa0885075cd468f62679b}{}\label{classns3_1_1ObjectFactory_a18dc654db27aa0885075cd468f62679b}

\begin{DoxyCode}
59 \{
60   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << tid);
61   \hyperlink{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{m\_tid} = \hyperlink{classns3_1_1TypeId_a119cf99c20931fdc294602cd360b180e}{TypeId::LookupByName} (tid);
62 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!Set\+Type\+Id@{Set\+Type\+Id}}
\index{Set\+Type\+Id@{Set\+Type\+Id}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{Set\+Type\+Id(std\+::string tid)}{SetTypeId(std::string tid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Object\+Factory\+::\+Set\+Type\+Id (
\begin{DoxyParamCaption}
\item[{std\+::string}]{tid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ObjectFactory_affafbb7457b9b2614f57858126e576b1}{}\label{classns3_1_1ObjectFactory_affafbb7457b9b2614f57858126e576b1}

\begin{DoxyCode}
53 \{
54   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << tid);
55   \hyperlink{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{m\_tid} = \hyperlink{classns3_1_1TypeId_a119cf99c20931fdc294602cd360b180e}{TypeId::LookupByName} (tid);
56 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{operator$<$$<$}{operator<<}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::ostream\& operator$<$$<$ (
\begin{DoxyParamCaption}
\item[{std\+::ostream \&}]{os, }
\item[{const {\bf Object\+Factory} \&}]{factory}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1ObjectFactory_a2b57d69e2e93db250b04f4819033238e}{}\label{classns3_1_1ObjectFactory_a2b57d69e2e93db250b04f4819033238e}
Print the factory configuration on an output stream.

The configuration will be printed as a string with the form \char`\"{}$<$\+Type\+Id-\/name$>$\mbox{[}$<$attribute-\/name$>$=$<$attribute-\/value$>$$\vert$...\mbox{]}\char`\"{}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em os} & The stream. \\
\hline
\mbox{\tt in}  & {\em factory} & The \hyperlink{classns3_1_1ObjectFactory}{Object\+Factory}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The stream. 
\end{DoxyReturn}

\begin{DoxyCode}
109 \{
110   os << factory.m\_tid.GetName () << \textcolor{stringliteral}{"["};
111   \textcolor{keywordtype}{bool} first = \textcolor{keyword}{true};
112   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1AttributeConstructionList_aa1a046c928d9d1870a5f8ab8cb6cf6e9}{AttributeConstructionList::CIterator} 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = factory.m\_parameters.Begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != factory.m\_parameters.End (); ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
113     \{
114       os << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->name << \textcolor{stringliteral}{"="} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->value->SerializeToString (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->checker);
115       \textcolor{keywordflow}{if} (first)
116         \{
117           os << \textcolor{stringliteral}{"|"};
118         \}
119     \}
120   os << \textcolor{stringliteral}{"]"};
121   \textcolor{keywordflow}{return} os;
122 \}
\end{DoxyCode}
\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{operator$>$$>$}{operator>>}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::istream\& operator$>$$>$ (
\begin{DoxyParamCaption}
\item[{std\+::istream \&}]{is, }
\item[{{\bf Object\+Factory} \&}]{factory}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1ObjectFactory_a73e69127dbdfbec1915172786a920a47}{}\label{classns3_1_1ObjectFactory_a73e69127dbdfbec1915172786a920a47}
Read a factory configuration from an input stream.

The configuration should be in the form \char`\"{}$<$\+Type\+Id-\/name$>$\mbox{[}$<$attribute-\/name$>$=$<$attribute-\/value$>$$\vert$...\mbox{]}\char`\"{}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em is} & The input stream. \\
\hline
\mbox{\tt out}  & {\em factory} & The factory to configure as described by the stream. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The stream. 
\end{DoxyReturn}

\begin{DoxyCode}
124 \{
125   std::string v;
126   is >> v;
127   std::string::size\_type lbracket, rbracket;
128   lbracket = v.find (\textcolor{stringliteral}{"["});
129   rbracket = v.find (\textcolor{stringliteral}{"]"});
130   \textcolor{keywordflow}{if} (lbracket == std::string::npos && rbracket == std::string::npos)
131     \{
132       factory.SetTypeId (v);
133       \textcolor{keywordflow}{return} is;
134     \}
135   \textcolor{keywordflow}{if} (lbracket == std::string::npos || rbracket == std::string::npos)
136     \{
137       \textcolor{keywordflow}{return} is;
138     \}
139   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (lbracket != std::string::npos);
140   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (rbracket != std::string::npos);
141   std::string tid = v.substr (0, lbracket);
142   std::string \hyperlink{design_8txt_a61257d1df1c87e8bd4ba94cacb4982cf}{parameters} = v.substr (lbracket+1,rbracket-(lbracket+1));
143   factory.SetTypeId (tid);
144   std::string::size\_type cur;
145   cur = 0;
146   \textcolor{keywordflow}{while} (cur != parameters.size ())
147     \{
148       std::string::size\_type equal = parameters.find (\textcolor{stringliteral}{"="}, cur);
149       \textcolor{keywordflow}{if} (equal == std::string::npos)
150         \{
151           is.setstate (std::ios\_base::failbit);
152           \textcolor{keywordflow}{break};
153         \}
154       \textcolor{keywordflow}{else}
155         \{
156           std::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name} = parameters.substr (cur, equal-cur);
157           \textcolor{keyword}{struct }TypeId::AttributeInformation info;
158           \textcolor{keywordflow}{if} (!factory.m\_tid.LookupAttributeByName (name, &info))
159             \{
160               is.setstate (std::ios\_base::failbit);
161               \textcolor{keywordflow}{break};
162             \}
163           \textcolor{keywordflow}{else}
164             \{
165               std::string::size\_type next = parameters.find (\textcolor{stringliteral}{"|"}, cur);
166               std::string value;
167               \textcolor{keywordflow}{if} (next == std::string::npos)
168                 \{
169                   value = parameters.substr (equal+1, parameters.size () - (equal+1));
170                   cur = parameters.size ();
171                 \}
172               \textcolor{keywordflow}{else}
173                 \{
174                   value = parameters.substr (equal+1, next - (equal+1));
175                   cur = next + 1;
176                 \}
177               Ptr<AttributeValue> val = info.checker->Create ();
178               \textcolor{keywordtype}{bool} ok = val->DeserializeFromString (value, info.checker);
179               \textcolor{keywordflow}{if} (!ok)
180                 \{
181                   is.setstate (std::ios\_base::failbit);
182                   \textcolor{keywordflow}{break};
183                 \}
184               \textcolor{keywordflow}{else}
185                 \{
186                   factory.m\_parameters.Add (name, info.checker, val);
187                 \}
188             \}
189         \}
190     \}
191   \hyperlink{group__fatal_ga6653324225bc139e46deea177614ceee}{NS\_ABORT\_MSG\_IF} (is.bad (), \textcolor{stringliteral}{"Failure to parse "} << \hyperlink{design_8txt_a61257d1df1c87e8bd4ba94cacb4982cf}{parameters});
192   \textcolor{keywordflow}{return} is;
193 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!m\+\_\+parameters@{m\+\_\+parameters}}
\index{m\+\_\+parameters@{m\+\_\+parameters}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{m\+\_\+parameters}{m_parameters}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Attribute\+Construction\+List} ns3\+::\+Object\+Factory\+::m\+\_\+parameters\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ObjectFactory_ad0f5d67c7039a3c60a80a0030bc9ca48}{}\label{classns3_1_1ObjectFactory_ad0f5d67c7039a3c60a80a0030bc9ca48}
The list of attributes and values to be used in constructing objects by this factory. \index{ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}!m\+\_\+tid@{m\+\_\+tid}}
\index{m\+\_\+tid@{m\+\_\+tid}!ns3\+::\+Object\+Factory@{ns3\+::\+Object\+Factory}}
\subsubsection[{\texorpdfstring{m\+\_\+tid}{m_tid}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Object\+Factory\+::m\+\_\+tid\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}{}\label{classns3_1_1ObjectFactory_a8ca23503729ed332d29c5106d2e750f5}
The \hyperlink{classns3_1_1TypeId}{Type\+Id} this factory will create. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
core/model/\hyperlink{object-factory_8h}{object-\/factory.\+h}\item 
core/model/\hyperlink{object-factory_8cc}{object-\/factory.\+cc}\end{DoxyCompactItemize}
