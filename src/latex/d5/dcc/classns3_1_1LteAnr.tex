\hypertarget{classns3_1_1LteAnr}{}\section{ns3\+:\+:Lte\+Anr Class Reference}
\label{classns3_1_1LteAnr}\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}


Automatic Neighbour Relation function.  




{\ttfamily \#include $<$lte-\/anr.\+h$>$}



Inheritance diagram for ns3\+:\+:Lte\+Anr\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Lte\+Anr\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1LteAnr_1_1NeighbourRelation__t}{Neighbour\+Relation\+\_\+t}
\begin{DoxyCompactList}\small\item\em Neighbour Relation between two e\+Node\+Bs (serving e\+NodeB and neighbour e\+NodeB). \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1LteAnr_a87156ea4712fa102a094626a93a1c70b}{Lte\+Anr} (uint16\+\_\+t serving\+Cell\+Id)
\begin{DoxyCompactList}\small\item\em Creates an A\+NR instance. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1LteAnr_ac460bc19a764741725eb1d3ddd61ec62}{$\sim$\+Lte\+Anr} ()
\item 
void \hyperlink{classns3_1_1LteAnr_a989f8f704d368cf850555f7a425c800d}{Add\+Neighbour\+Relation} (uint16\+\_\+t cell\+Id)
\begin{DoxyCompactList}\small\item\em Provide an advance information about a related neighbouring cell and add it as a new Neighbour Relation entry. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1LteAnr_a6c9214f71ded72cea62e20d24f2dd62a}{Remove\+Neighbour\+Relation} (uint16\+\_\+t cell\+Id)
\begin{DoxyCompactList}\small\item\em Remove an existing Neighbour Relation entry. \end{DoxyCompactList}\item 
virtual void \hyperlink{classns3_1_1LteAnr_ad39591ffe1017103df3105ba75cfe4af}{Set\+Lte\+Anr\+Sap\+User} (\hyperlink{classns3_1_1LteAnrSapUser}{Lte\+Anr\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\begin{DoxyCompactList}\small\item\em Set the \char`\"{}user\char`\"{} part of the A\+NR S\+AP interface that this A\+NR instance will interact with. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1LteAnrSapProvider}{Lte\+Anr\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1LteAnr_a3603512c5cd9c7fd17e87cdf6cbbd7b4}{Get\+Lte\+Anr\+Sap\+Provider} ()
\begin{DoxyCompactList}\small\item\em Export the \char`\"{}provider\char`\"{} part of the A\+NR S\+AP interface. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1LteAnr_a656ceb99d5b4cac521839c29c81d68ac}{Get\+Type\+Id} ()
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1LteAnr_a734219c83a371c70dbffea2c7febc0d5}{Do\+Initialize} ()
\item 
virtual void \hyperlink{classns3_1_1LteAnr_a8fdcd520ddb394361ce66342e3ad799c}{Do\+Dispose} ()
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1LteAnr_1_1NeighbourRelation__t}{Neighbour\+Relation\+\_\+t} $>$ \hyperlink{classns3_1_1LteAnr_aac9b97c306ecc1d3d75ab85c32ba2bfc}{Neighbour\+Relation\+Table\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1LteAnr_a38b89263374eecf88cd53e426334067e}{Do\+Report\+Ue\+Meas} (\hyperlink{structns3_1_1LteRrcSap_1_1MeasResults}{Lte\+Rrc\+Sap\+::\+Meas\+Results} meas\+Results)
\begin{DoxyCompactList}\small\item\em Implementation of \hyperlink{classns3_1_1LteAnrSapProvider_ac4f1114bd33d0c189e2ce2624089e587}{Lte\+Anr\+Sap\+Provider\+::\+Report\+Ue\+Meas}. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1LteAnr_a938fd5dabbd1367a1867fdc73e18a33c}{Do\+Add\+Neighbour\+Relation} (uint16\+\_\+t cell\+Id)
\begin{DoxyCompactList}\small\item\em Implementation of \hyperlink{classns3_1_1LteAnrSapProvider_a43054257bfdafb714e3d3821b82e2e33}{Lte\+Anr\+Sap\+Provider\+::\+Add\+Neighbour\+Relation}. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1LteAnr_a3fc7d47f8c9c225ec9acf4b18cbc3a17}{Do\+Get\+No\+Remove} (uint16\+\_\+t cell\+Id) const 
\begin{DoxyCompactList}\small\item\em Implementation of \hyperlink{classns3_1_1LteAnrSapProvider_adaf22322995ffba65c3d606181dcb6a4}{Lte\+Anr\+Sap\+Provider\+::\+Get\+No\+Remove}. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1LteAnr_aad770645a80e31c8a79103bac0d5e061}{Do\+Get\+No\+Ho} (uint16\+\_\+t cell\+Id) const 
\begin{DoxyCompactList}\small\item\em Implementation of \hyperlink{classns3_1_1LteAnrSapProvider_a825c724cb173ca628ad1fc42f6b86e9f}{Lte\+Anr\+Sap\+Provider\+::\+Get\+No\+Ho}. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1LteAnr_ae18c6d9981b08976d6014e7ee637d732}{Do\+Get\+No\+X2} (uint16\+\_\+t cell\+Id) const 
\begin{DoxyCompactList}\small\item\em Implementation of \hyperlink{classns3_1_1LteAnrSapProvider_a7781c81a1d796484f58a23f4ea44ebd6}{Lte\+Anr\+Sap\+Provider\+::\+Get\+No\+X2}. \end{DoxyCompactList}\item 
const \hyperlink{structns3_1_1LteAnr_1_1NeighbourRelation__t}{Neighbour\+Relation\+\_\+t} $\ast$ \hyperlink{classns3_1_1LteAnr_adf05e409c9c68690843b73df6fed37d5}{Find} (uint16\+\_\+t cell\+Id) const 
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1LteAnrSapProvider}{Lte\+Anr\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1LteAnr_a5355c7d93e18c6297707280bcabebe15}{m\+\_\+anr\+Sap\+Provider}
\begin{DoxyCompactList}\small\item\em Reference to the \char`\"{}provider\char`\"{} part of the A\+NR S\+AP interface, which is automatically created when this class instantiates. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1LteAnrSapUser}{Lte\+Anr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1LteAnr_a5bad60480cc567b130599b0077854a5b}{m\+\_\+anr\+Sap\+User}
\begin{DoxyCompactList}\small\item\em Reference to the \char`\"{}user\char`\"{} part of the A\+NR S\+AP interface, which is provided by the e\+NodeB R\+RC instance. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1LteAnr_a8583b924012fe4beea794d9e0be15492}{m\+\_\+threshold}
\begin{DoxyCompactList}\small\item\em The attribute Threshold. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1LteAnr_aac9b97c306ecc1d3d75ab85c32ba2bfc}{Neighbour\+Relation\+Table\+\_\+t} \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\+\_\+neighbour\+Relation\+Table}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1LteAnr_a59e92d899d5e105c0dad69d79310a844}{m\+\_\+meas\+Id}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\+\_\+serving\+Cell\+Id}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1LteAnr_a1884baf4c43e274dbe297cd3b594db70}{Member\+Lte\+Anr\+Sap\+Provider$<$ Lte\+Anr $>$}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Automatic Neighbour Relation function. 

A\+NR is a conceptually a list of neighbouring cells called the Neighbour Relation Table (N\+RT). A\+NR has the capability of automatically inserting new entries into N\+RT based on measurement reports obtained from the e\+NodeB R\+RC instance. Besides this, A\+NR also supports manual insertion and accepts queries for the N\+RT content.

The \hyperlink{classns3_1_1LteHelper}{Lte\+Helper} class automatically installs one A\+NR instance for each e\+NodeB R\+RC instance. When installed, A\+NR will assist the e\+NodeB R\+RC\textquotesingle{}s handover function, e.\+g., by preventing an X2-\/based handover execution if there is no X2 interface to the target neighbour cell. If this is not desired, it can be disabled by the following code sample\+: \begin{DoxyVerb}Config::SetDefault ("ns3::LteHelper::AnrEnabled", BooleanValue (false));
Ptr<LteHelper> lteHelper = CreateObject<LteHelper> ();
\end{DoxyVerb}


The communication between an A\+NR instance and the e\+NodeB R\+RC instance is done through the {\itshape A\+NR S\+AP} interface. The A\+NR instance corresponds to the \char`\"{}provider\char`\"{} part of this interface, while the e\+NodeB R\+RC instance takes the role of the \char`\"{}user\char`\"{} part. The following code skeleton establishes the connection between both instances\+: \begin{DoxyVerb}Ptr<LteEnbRrc> u = ...;
Ptr<LteAnr> p = ...;
u->SetLteAnrSapProvider (p->GetLteAnrSapProvider ());
p->SetLteAnrSapUser (u->GetLteAnrSapUser ());
\end{DoxyVerb}


However, user rarely needs to use the above code, since it has already been taken care by \hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{Lte\+Helper\+::\+Install\+Enb\+Device}.

The current A\+NR model is inspired from Section 22.\+3.\+2a and 22.\+3.\+3 of 3\+G\+PP TS 36.\+300.

\begin{DoxySeeAlso}{See also}
Set\+Lte\+Anr\+Sap\+Provider, \hyperlink{classns3_1_1LteAnr_ad39591ffe1017103df3105ba75cfe4af}{Set\+Lte\+Anr\+Sap\+User} 
\end{DoxySeeAlso}


\subsection{Member Typedef Documentation}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Neighbour\+Relation\+Table\+\_\+t@{Neighbour\+Relation\+Table\+\_\+t}}
\index{Neighbour\+Relation\+Table\+\_\+t@{Neighbour\+Relation\+Table\+\_\+t}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Neighbour\+Relation\+Table\+\_\+t}{NeighbourRelationTable_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$uint16\+\_\+t, {\bf Neighbour\+Relation\+\_\+t}$>$ {\bf ns3\+::\+Lte\+Anr\+::\+Neighbour\+Relation\+Table\+\_\+t}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_aac9b97c306ecc1d3d75ab85c32ba2bfc}{}\label{classns3_1_1LteAnr_aac9b97c306ecc1d3d75ab85c32ba2bfc}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Lte\+Anr@{Lte\+Anr}}
\index{Lte\+Anr@{Lte\+Anr}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Lte\+Anr(uint16\+\_\+t serving\+Cell\+Id)}{LteAnr(uint16_t servingCellId)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Lte\+Anr\+::\+Lte\+Anr (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{serving\+Cell\+Id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LteAnr_a87156ea4712fa102a094626a93a1c70b}{}\label{classns3_1_1LteAnr_a87156ea4712fa102a094626a93a1c70b}


Creates an A\+NR instance. 


\begin{DoxyParams}{Parameters}
{\em serving\+Cell\+Id} & the cell ID of the e\+NodeB instance whom this A\+NR instance is to be associated with \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
40   : \hyperlink{classns3_1_1LteAnr_a5bad60480cc567b130599b0077854a5b}{m\_anrSapUser} (0),
41     \hyperlink{classns3_1_1LteAnr_a8583b924012fe4beea794d9e0be15492}{m\_threshold} (0),
42     \hyperlink{classns3_1_1LteAnr_a59e92d899d5e105c0dad69d79310a844}{m\_measId} (0),
43     \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId} (servingCellId)
44 \{
45   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << servingCellId);
46   \hyperlink{classns3_1_1LteAnr_a5355c7d93e18c6297707280bcabebe15}{m\_anrSapProvider} = \textcolor{keyword}{new} \hyperlink{classns3_1_1LteAnr_a1884baf4c43e274dbe297cd3b594db70}{MemberLteAnrSapProvider<LteAnr>} (\textcolor{keyword}{
      this});
47 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!````~Lte\+Anr@{$\sim$\+Lte\+Anr}}
\index{````~Lte\+Anr@{$\sim$\+Lte\+Anr}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{$\sim$\+Lte\+Anr()}{~LteAnr()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Lte\+Anr\+::$\sim$\+Lte\+Anr (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteAnr_ac460bc19a764741725eb1d3ddd61ec62}{}\label{classns3_1_1LteAnr_ac460bc19a764741725eb1d3ddd61ec62}

\begin{DoxyCode}
51 \{
52   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId});
53 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Add\+Neighbour\+Relation@{Add\+Neighbour\+Relation}}
\index{Add\+Neighbour\+Relation@{Add\+Neighbour\+Relation}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Add\+Neighbour\+Relation(uint16\+\_\+t cell\+Id)}{AddNeighbourRelation(uint16_t cellId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Anr\+::\+Add\+Neighbour\+Relation (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LteAnr_a989f8f704d368cf850555f7a425c800d}{}\label{classns3_1_1LteAnr_a989f8f704d368cf850555f7a425c800d}


Provide an advance information about a related neighbouring cell and add it as a new Neighbour Relation entry. 


\begin{DoxyParams}{Parameters}
{\em cell\+Id} & the cell ID of the new neighbour\\
\hline
\end{DoxyParams}
This function simulates the Neighbour Relation addition operation by network operations and maintenance, as depicted in Section 22.\+3.\+2a of 3\+G\+PP TS 36.\+300.

An entry added by this function will have the No\+Remove flag set to T\+R\+UE and the No\+Ho flag set to T\+R\+UE. Hence, the cell may not act as the target cell of a handover, unless a measurement report of the cell is received, which will update the No\+Ho flag to F\+A\+L\+SE. 
\begin{DoxyCode}
74 \{
75   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId} << cellId);
76 
77   \textcolor{keywordflow}{if} (cellId == \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId})
78     \{
79       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Serving cell ID "} << cellId << \textcolor{stringliteral}{" may not be added into NRT"});
80     \}
81 
82   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}.find (cellId) != 
      \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}.end ())
83     \{
84       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"There is already an entry in the NRT for cell ID "} << cellId);
85     \}
86 
87   NeighbourRelation\_t neighbourRelation;
88   neighbourRelation.noRemove = \textcolor{keyword}{true};
89   neighbourRelation.noHo = \textcolor{keyword}{true};
90   neighbourRelation.noX2 = \textcolor{keyword}{false};
91   neighbourRelation.detectedAsNeighbour = \textcolor{keyword}{false};
92   \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}[cellId] = neighbourRelation;
93 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Do\+Add\+Neighbour\+Relation@{Do\+Add\+Neighbour\+Relation}}
\index{Do\+Add\+Neighbour\+Relation@{Do\+Add\+Neighbour\+Relation}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Do\+Add\+Neighbour\+Relation(uint16\+\_\+t cell\+Id)}{DoAddNeighbourRelation(uint16_t cellId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Anr\+::\+Do\+Add\+Neighbour\+Relation (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_a938fd5dabbd1367a1867fdc73e18a33c}{}\label{classns3_1_1LteAnr_a938fd5dabbd1367a1867fdc73e18a33c}


Implementation of \hyperlink{classns3_1_1LteAnrSapProvider_a43054257bfdafb714e3d3821b82e2e33}{Lte\+Anr\+Sap\+Provider\+::\+Add\+Neighbour\+Relation}. 


\begin{DoxyParams}{Parameters}
{\em cell\+Id} & the Physical Cell ID of the new neighbouring cell \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
221 \{
222   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << cellId);
223   \hyperlink{classns3_1_1LteAnr_a989f8f704d368cf850555f7a425c800d}{AddNeighbourRelation} (cellId);
224 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Anr\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1LteAnr_a8fdcd520ddb394361ce66342e3ad799c}{}\label{classns3_1_1LteAnr_a8fdcd520ddb394361ce66342e3ad799c}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1LteAnr_a8fdcd520ddb394361ce66342e3ad799c}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
145 \{
146   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
147   \textcolor{keyword}{delete} \hyperlink{classns3_1_1LteAnr_a5355c7d93e18c6297707280bcabebe15}{m\_anrSapProvider};
148   \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}.clear ();
149 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Do\+Get\+No\+Ho@{Do\+Get\+No\+Ho}}
\index{Do\+Get\+No\+Ho@{Do\+Get\+No\+Ho}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Do\+Get\+No\+Ho(uint16\+\_\+t cell\+Id) const }{DoGetNoHo(uint16_t cellId) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lte\+Anr\+::\+Do\+Get\+No\+Ho (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_aad770645a80e31c8a79103bac0d5e061}{}\label{classns3_1_1LteAnr_aad770645a80e31c8a79103bac0d5e061}


Implementation of \hyperlink{classns3_1_1LteAnrSapProvider_a825c724cb173ca628ad1fc42f6b86e9f}{Lte\+Anr\+Sap\+Provider\+::\+Get\+No\+Ho}. 


\begin{DoxyParams}{Parameters}
{\em cell\+Id} & the Physical Cell ID of the neighbouring cell of interest \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
if true, the Neighbour Relation shall {\itshape not} be used by the e\+NodeB for handover reasons 
\end{DoxyReturn}

\begin{DoxyCode}
237 \{
238   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId} << cellId);
239   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteAnr_adf05e409c9c68690843b73df6fed37d5}{Find} (cellId)->\hyperlink{structns3_1_1LteAnr_1_1NeighbourRelation__t_a358a8de6a7af0d2cd1b7f3098a847b06}{noHo};
240 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Do\+Get\+No\+Remove@{Do\+Get\+No\+Remove}}
\index{Do\+Get\+No\+Remove@{Do\+Get\+No\+Remove}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Do\+Get\+No\+Remove(uint16\+\_\+t cell\+Id) const }{DoGetNoRemove(uint16_t cellId) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lte\+Anr\+::\+Do\+Get\+No\+Remove (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_a3fc7d47f8c9c225ec9acf4b18cbc3a17}{}\label{classns3_1_1LteAnr_a3fc7d47f8c9c225ec9acf4b18cbc3a17}


Implementation of \hyperlink{classns3_1_1LteAnrSapProvider_adaf22322995ffba65c3d606181dcb6a4}{Lte\+Anr\+Sap\+Provider\+::\+Get\+No\+Remove}. 


\begin{DoxyParams}{Parameters}
{\em cell\+Id} & the Physical Cell ID of the neighbouring cell of interest \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
if true, the Neighbour Relation shall {\itshape not} be removed from the N\+RT 
\end{DoxyReturn}

\begin{DoxyCode}
229 \{
230   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId} << cellId);
231   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteAnr_adf05e409c9c68690843b73df6fed37d5}{Find} (cellId)->\hyperlink{structns3_1_1LteAnr_1_1NeighbourRelation__t_ad83a00dc9c81d875b32839fd06df8b65}{noRemove};
232 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Do\+Get\+No\+X2@{Do\+Get\+No\+X2}}
\index{Do\+Get\+No\+X2@{Do\+Get\+No\+X2}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Do\+Get\+No\+X2(uint16\+\_\+t cell\+Id) const }{DoGetNoX2(uint16_t cellId) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lte\+Anr\+::\+Do\+Get\+No\+X2 (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_ae18c6d9981b08976d6014e7ee637d732}{}\label{classns3_1_1LteAnr_ae18c6d9981b08976d6014e7ee637d732}


Implementation of \hyperlink{classns3_1_1LteAnrSapProvider_a7781c81a1d796484f58a23f4ea44ebd6}{Lte\+Anr\+Sap\+Provider\+::\+Get\+No\+X2}. 


\begin{DoxyParams}{Parameters}
{\em cell\+Id} & the Physical Cell ID of the neighbouring cell of interest \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
if true, the Neighbour Relation shall {\itshape not} use an X2 interface in order to initiate procedures towards the e\+NodeB parenting the target cell 
\end{DoxyReturn}

\begin{DoxyCode}
245 \{
246   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId} << cellId);
247   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteAnr_adf05e409c9c68690843b73df6fed37d5}{Find} (cellId)->\hyperlink{structns3_1_1LteAnr_1_1NeighbourRelation__t_ada3a5ebbe0afc8b6a30bcdc1bc11ca84}{noX2};
248 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Do\+Initialize@{Do\+Initialize}}
\index{Do\+Initialize@{Do\+Initialize}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Do\+Initialize()}{DoInitialize()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Anr\+::\+Do\+Initialize (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1LteAnr_a734219c83a371c70dbffea2c7febc0d5}{}\label{classns3_1_1LteAnr_a734219c83a371c70dbffea2c7febc0d5}
\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} implementation.

This method is called only once by \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()}. If the user calls \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} multiple times, \hyperlink{classns3_1_1LteAnr_a734219c83a371c70dbffea2c7febc0d5}{Do\+Initialize()} is called only the first time.

Subclasses are expected to override this method and chain up to their parent\textquotesingle{}s implementation once they are done. It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} and \hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{Aggregate\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_af8482a521433409fb5c7f749398c9dbe}{ns3\+::\+Object}.


\begin{DoxyCode}
129 \{
130   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
131   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" requesting Event A4 measurements"}
132                      << \textcolor{stringliteral}{" (threshold="} << (uint16\_t) \hyperlink{classns3_1_1LteAnr_a8583b924012fe4beea794d9e0be15492}{m\_threshold} << \textcolor{stringliteral}{")"});
133   LteRrcSap::ReportConfigEutra reportConfig;
134   reportConfig.eventId = \hyperlink{structns3_1_1LteRrcSap_1_1ReportConfigEutra_ab8152dc095987f60bee2e9115046902fa6b8e5f5e5eea05c9441816bd32aaf6c0}{LteRrcSap::ReportConfigEutra::EVENT\_A4};
135   reportConfig.threshold1.choice = \hyperlink{structns3_1_1LteRrcSap_1_1ThresholdEutra_ad3ed2704b836132980dd2e97cb03822ca6e8bda2b99825f09f53388c29b6402b4}{LteRrcSap::ThresholdEutra::THRESHOLD\_RSRQ}
      ;
136   reportConfig.threshold1.range = \hyperlink{classns3_1_1LteAnr_a8583b924012fe4beea794d9e0be15492}{m\_threshold};
137   reportConfig.triggerQuantity = \hyperlink{structns3_1_1LteRrcSap_1_1ReportConfigEutra_a82343ddf526faba0483431ea5882a3efaa4e09cb3c7154d7ab732115a2647325f}{LteRrcSap::ReportConfigEutra::RSRQ};
138   reportConfig.reportInterval = \hyperlink{structns3_1_1LteRrcSap_1_1ReportConfigEutra_aa04b2781a844eb212d59762829e41d31a62abaecf01626941b93ca2792987c8df}{LteRrcSap::ReportConfigEutra::MS480};
139   \hyperlink{classns3_1_1LteAnr_a59e92d899d5e105c0dad69d79310a844}{m\_measId} = \hyperlink{classns3_1_1LteAnr_a5bad60480cc567b130599b0077854a5b}{m\_anrSapUser}->\hyperlink{classns3_1_1LteAnrSapUser_ac65225b3a8f1e011cc0ed2c99df4d139}{AddUeMeasReportConfigForAnr} (
      reportConfig);
140 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Do\+Report\+Ue\+Meas@{Do\+Report\+Ue\+Meas}}
\index{Do\+Report\+Ue\+Meas@{Do\+Report\+Ue\+Meas}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Do\+Report\+Ue\+Meas(\+Lte\+Rrc\+Sap\+::\+Meas\+Results meas\+Results)}{DoReportUeMeas(LteRrcSap::MeasResults measResults)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Anr\+::\+Do\+Report\+Ue\+Meas (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Rrc\+Sap\+::\+Meas\+Results}}]{meas\+Results}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_a38b89263374eecf88cd53e426334067e}{}\label{classns3_1_1LteAnr_a38b89263374eecf88cd53e426334067e}


Implementation of \hyperlink{classns3_1_1LteAnrSapProvider_ac4f1114bd33d0c189e2ce2624089e587}{Lte\+Anr\+Sap\+Provider\+::\+Report\+Ue\+Meas}. 


\begin{DoxyParams}{Parameters}
{\em meas\+Results} & a single report of one measurement identity \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000081}{Todo}]Remove neighbours in the N\+RT. \end{DoxyRefDesc}

\begin{DoxyCode}
154 \{
155   uint8\_t measId = measResults.measId;
156   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId} << (uint16\_t) measId);
157 
158   \textcolor{keywordflow}{if} (measId != \hyperlink{classns3_1_1LteAnr_a59e92d899d5e105c0dad69d79310a844}{m\_measId})
159     \{
160       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Skipping unexpected measurement identity "} << (uint16\_t) measId);
161     \}
162   \textcolor{keywordflow}{else}
163     \{
164       \textcolor{keywordflow}{if} (measResults.haveMeasResultNeighCells
165           && !(measResults.measResultListEutra.empty ()))
166         \{
167           \textcolor{keywordflow}{for} (std::list <LteRrcSap::MeasResultEutra>::iterator it = measResults.measResultListEutra.begin 
      ();
168                it != measResults.measResultListEutra.end ();
169                ++it)
170             \{
171               \textcolor{comment}{// Keep new RSRQ value reported for the neighbour cell}
172               \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it->haveRsrqResult == \textcolor{keyword}{true},
173                              \textcolor{stringliteral}{"RSRQ measure missing for cellId "} << it->physCellId);
174 
175               \textcolor{comment}{// Update Neighbour Relation Table}
176               NeighbourRelationTable\_t::iterator itNrt = 
      \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}.find (it->physCellId);
177               \textcolor{keywordflow}{if} (itNrt != \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}.end ())
178                 \{
179                   \textcolor{comment}{// Update neighbour relation entry}
180                   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" updating NRT of cell "} << 
      \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId}
181                                      << \textcolor{stringliteral}{" with entry of cell "} << it->physCellId);
182                   \textcolor{keywordflow}{if} (itNrt->second.noX2 == \textcolor{keyword}{false})
183                     \{
184                       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" enabling handover"}
185                                          << \textcolor{stringliteral}{" from cell "} << \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId}
186                                          << \textcolor{stringliteral}{" to cell "} << it->physCellId);
187                       itNrt->second.noHo = \textcolor{keyword}{false};
188                     \}
189                   itNrt->second.detectedAsNeighbour = \textcolor{keyword}{true};
190                 \}
191               \textcolor{keywordflow}{else}
192                 \{
193                   \textcolor{comment}{// Discovered new neighbour}
194                   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" inserting NRT of cell "} << 
      \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId}
195                                      << \textcolor{stringliteral}{" with newly discovered neighbouring cell "}
196                                      << it->physCellId);
197                   NeighbourRelation\_t neighbourRelation;
198                   neighbourRelation.noRemove = \textcolor{keyword}{false};
199                   neighbourRelation.noHo = \textcolor{keyword}{true};
200                   neighbourRelation.noX2 = \textcolor{keyword}{true};
201                   neighbourRelation.detectedAsNeighbour = \textcolor{keyword}{true};
202                   \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}[it->physCellId] = neighbourRelation;
203                 \}
204 
205             \} \textcolor{comment}{// end of for (it = measResults.measResultListEutra.begin ())}
206 
207         \} \textcolor{comment}{// end of if (measResults.haveMeasResultNeighCells && !(measResults.measResultListEutra.empty
       ()))}
208       \textcolor{keywordflow}{else}
209         \{
210           \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Event A4 received without measurement results from neighbouring
       cells"});
212         \}
213 
214     \} \textcolor{comment}{// end of else of if (measId != m\_measId)}
215 
216 \} \textcolor{comment}{// end of DoReportUeMeas}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Find@{Find}}
\index{Find@{Find}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Find(uint16\+\_\+t cell\+Id) const }{Find(uint16_t cellId) const }}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Lte\+Anr\+::\+Neighbour\+Relation\+\_\+t} $\ast$ ns3\+::\+Lte\+Anr\+::\+Find (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_adf05e409c9c68690843b73df6fed37d5}{}\label{classns3_1_1LteAnr_adf05e409c9c68690843b73df6fed37d5}

\begin{DoxyCode}
253 \{
254   NeighbourRelationTable\_t::const\_iterator it = \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}.find (
      cellId);
255   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}.end ())
256     \{
257       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Cell ID "} << cellId << \textcolor{stringliteral}{" cannot be found in NRT"});
258     \}
259   \textcolor{keywordflow}{return} &(it->second);
260 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Get\+Lte\+Anr\+Sap\+Provider@{Get\+Lte\+Anr\+Sap\+Provider}}
\index{Get\+Lte\+Anr\+Sap\+Provider@{Get\+Lte\+Anr\+Sap\+Provider}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Get\+Lte\+Anr\+Sap\+Provider()}{GetLteAnrSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Anr\+Sap\+Provider} $\ast$ ns3\+::\+Lte\+Anr\+::\+Get\+Lte\+Anr\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteAnr_a3603512c5cd9c7fd17e87cdf6cbbd7b4}{}\label{classns3_1_1LteAnr_a3603512c5cd9c7fd17e87cdf6cbbd7b4}


Export the \char`\"{}provider\char`\"{} part of the A\+NR S\+AP interface. 

\begin{DoxyReturn}{Returns}
the reference to the \char`\"{}provider\char`\"{} part of the interface, typically to be kept by an \hyperlink{classns3_1_1LteEnbRrc}{Lte\+Enb\+Rrc} instance 
\end{DoxyReturn}

\begin{DoxyCode}
121 \{
122   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
123   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteAnr_a5355c7d93e18c6297707280bcabebe15}{m\_anrSapProvider};
124 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id()}{GetTypeId()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Lte\+Anr\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteAnr_a656ceb99d5b4cac521839c29c81d68ac}{}\label{classns3_1_1LteAnr_a656ceb99d5b4cac521839c29c81d68ac}

\begin{DoxyCode}
58 \{
59   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::LteAnr"})
60     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
61     .SetGroupName(\textcolor{stringliteral}{"Lte"})
62     .AddAttribute (\textcolor{stringliteral}{"Threshold"},
63                    \textcolor{stringliteral}{"Minimum RSRQ range value required for detecting a neighbour cell"},
64                    UintegerValue (0),
65                    MakeUintegerAccessor (&\hyperlink{classns3_1_1LteAnr_a8583b924012fe4beea794d9e0be15492}{LteAnr::m\_threshold}),
66                    MakeUintegerChecker<uint8\_t> (0, 34)) \textcolor{comment}{// RSRQ range is [0..34] as per Section 9.1.7 of
       3GPP TS 36.133}
67   ;
68   \textcolor{keywordflow}{return} tid;
69 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Remove\+Neighbour\+Relation@{Remove\+Neighbour\+Relation}}
\index{Remove\+Neighbour\+Relation@{Remove\+Neighbour\+Relation}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Remove\+Neighbour\+Relation(uint16\+\_\+t cell\+Id)}{RemoveNeighbourRelation(uint16_t cellId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Anr\+::\+Remove\+Neighbour\+Relation (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LteAnr_a6c9214f71ded72cea62e20d24f2dd62a}{}\label{classns3_1_1LteAnr_a6c9214f71ded72cea62e20d24f2dd62a}


Remove an existing Neighbour Relation entry. 


\begin{DoxyParams}{Parameters}
{\em cell\+Id} & the cell ID to be removed from the N\+RT\\
\hline
\end{DoxyParams}
This function simulates the Neighbour Relation removal operation by network operations and maintenance, as depicted in Section 22.\+3.\+2a of 3\+G\+PP TS 36.\+300. 
\begin{DoxyCode}
98 \{
99   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{m\_servingCellId} << cellId);
100 
101   NeighbourRelationTable\_t::iterator it = \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}.find (cellId);
102   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}.end ())
103     \{
104       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Cell ID "} << cellId << \textcolor{stringliteral}{" cannot be found in NRT"});
105     \}
106 
107   \hyperlink{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{m\_neighbourRelationTable}.erase (it);
108 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Set\+Lte\+Anr\+Sap\+User@{Set\+Lte\+Anr\+Sap\+User}}
\index{Set\+Lte\+Anr\+Sap\+User@{Set\+Lte\+Anr\+Sap\+User}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Set\+Lte\+Anr\+Sap\+User(\+Lte\+Anr\+Sap\+User $\ast$s)}{SetLteAnrSapUser(LteAnrSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Anr\+::\+Set\+Lte\+Anr\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Anr\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteAnr_ad39591ffe1017103df3105ba75cfe4af}{}\label{classns3_1_1LteAnr_ad39591ffe1017103df3105ba75cfe4af}


Set the \char`\"{}user\char`\"{} part of the A\+NR S\+AP interface that this A\+NR instance will interact with. 


\begin{DoxyParams}{Parameters}
{\em s} & a reference to the \char`\"{}user\char`\"{} part of the interface, typically a member of an \hyperlink{classns3_1_1LteEnbRrc}{Lte\+Enb\+Rrc} instance \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
113 \{
114   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s});
115   \hyperlink{classns3_1_1LteAnr_a5bad60480cc567b130599b0077854a5b}{m\_anrSapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
116 \}
\end{DoxyCode}


\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!Member\+Lte\+Anr\+Sap\+Provider$<$ Lte\+Anr $>$@{Member\+Lte\+Anr\+Sap\+Provider$<$ Lte\+Anr $>$}}
\index{Member\+Lte\+Anr\+Sap\+Provider$<$ Lte\+Anr $>$@{Member\+Lte\+Anr\+Sap\+Provider$<$ Lte\+Anr $>$}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{Member\+Lte\+Anr\+Sap\+Provider$<$ Lte\+Anr $>$}{MemberLteAnrSapProvider< LteAnr >}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Member\+Lte\+Anr\+Sap\+Provider}$<$ {\bf Lte\+Anr} $>$\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1LteAnr_a1884baf4c43e274dbe297cd3b594db70}{}\label{classns3_1_1LteAnr_a1884baf4c43e274dbe297cd3b594db70}


\subsection{Member Data Documentation}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!m\+\_\+anr\+Sap\+Provider@{m\+\_\+anr\+Sap\+Provider}}
\index{m\+\_\+anr\+Sap\+Provider@{m\+\_\+anr\+Sap\+Provider}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{m\+\_\+anr\+Sap\+Provider}{m_anrSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Anr\+Sap\+Provider}$\ast$ ns3\+::\+Lte\+Anr\+::m\+\_\+anr\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_a5355c7d93e18c6297707280bcabebe15}{}\label{classns3_1_1LteAnr_a5355c7d93e18c6297707280bcabebe15}


Reference to the \char`\"{}provider\char`\"{} part of the A\+NR S\+AP interface, which is automatically created when this class instantiates. 

\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!m\+\_\+anr\+Sap\+User@{m\+\_\+anr\+Sap\+User}}
\index{m\+\_\+anr\+Sap\+User@{m\+\_\+anr\+Sap\+User}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{m\+\_\+anr\+Sap\+User}{m_anrSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Anr\+Sap\+User}$\ast$ ns3\+::\+Lte\+Anr\+::m\+\_\+anr\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_a5bad60480cc567b130599b0077854a5b}{}\label{classns3_1_1LteAnr_a5bad60480cc567b130599b0077854a5b}


Reference to the \char`\"{}user\char`\"{} part of the A\+NR S\+AP interface, which is provided by the e\+NodeB R\+RC instance. 

\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!m\+\_\+meas\+Id@{m\+\_\+meas\+Id}}
\index{m\+\_\+meas\+Id@{m\+\_\+meas\+Id}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{m\+\_\+meas\+Id}{m_measId}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Lte\+Anr\+::m\+\_\+meas\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_a59e92d899d5e105c0dad69d79310a844}{}\label{classns3_1_1LteAnr_a59e92d899d5e105c0dad69d79310a844}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!m\+\_\+neighbour\+Relation\+Table@{m\+\_\+neighbour\+Relation\+Table}}
\index{m\+\_\+neighbour\+Relation\+Table@{m\+\_\+neighbour\+Relation\+Table}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{m\+\_\+neighbour\+Relation\+Table}{m_neighbourRelationTable}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Neighbour\+Relation\+Table\+\_\+t} ns3\+::\+Lte\+Anr\+::m\+\_\+neighbour\+Relation\+Table\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}{}\label{classns3_1_1LteAnr_a90fc8417020463e795dc960f2f53bc24}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!m\+\_\+serving\+Cell\+Id@{m\+\_\+serving\+Cell\+Id}}
\index{m\+\_\+serving\+Cell\+Id@{m\+\_\+serving\+Cell\+Id}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{m\+\_\+serving\+Cell\+Id}{m_servingCellId}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Lte\+Anr\+::m\+\_\+serving\+Cell\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}{}\label{classns3_1_1LteAnr_a9a2e5aef479439b1f909f46f260f7092}
\index{ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}!m\+\_\+threshold@{m\+\_\+threshold}}
\index{m\+\_\+threshold@{m\+\_\+threshold}!ns3\+::\+Lte\+Anr@{ns3\+::\+Lte\+Anr}}
\subsubsection[{\texorpdfstring{m\+\_\+threshold}{m_threshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Lte\+Anr\+::m\+\_\+threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteAnr_a8583b924012fe4beea794d9e0be15492}{}\label{classns3_1_1LteAnr_a8583b924012fe4beea794d9e0be15492}


The attribute Threshold. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{lte-anr_8h}{lte-\/anr.\+h}\item 
lte/model/\hyperlink{lte-anr_8cc}{lte-\/anr.\+cc}\end{DoxyCompactItemize}
