\hypertarget{classns3_1_1BsServiceFlowManager}{}\section{ns3\+:\+:Bs\+Service\+Flow\+Manager Class Reference}
\label{classns3_1_1BsServiceFlowManager}\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}


\hyperlink{classns3_1_1BsServiceFlowManager}{Bs\+Service\+Flow\+Manager}.  




{\ttfamily \#include $<$bs-\/service-\/flow-\/manager.\+h$>$}



Inheritance diagram for ns3\+:\+:Bs\+Service\+Flow\+Manager\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Bs\+Service\+Flow\+Manager\+:
% FIG 1
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523}{Confirmation\+Code} \{ \hyperlink{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523a0cd742fb80a8828c02e66f504c35df8c}{C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+S\+U\+C\+C\+E\+SS}, 
\hyperlink{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523adc4b9508982fb872a4829b0b9d7fa1fa}{C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+R\+E\+J\+E\+CT}
 \}\begin{DoxyCompactList}\small\item\em Confirmation code enumeration. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1BsServiceFlowManager_ae2c4cfd5abb65a2d97aa6b9237f202f5}{Bs\+Service\+Flow\+Manager} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1BaseStationNetDevice}{Base\+Station\+Net\+Device} $>$ device)
\item 
\hyperlink{classns3_1_1BsServiceFlowManager_aaec735f6b6cc01e67dce0c934820586d}{$\sim$\+Bs\+Service\+Flow\+Manager} (void)
\item 
void \hyperlink{classns3_1_1BsServiceFlowManager_a1f0553419a6ddb7f5ac324f45e7a6a71}{Do\+Dispose} (void)
\item 
void \hyperlink{classns3_1_1BsServiceFlowManager_a9760cac0b022df419803d63dc9e84014}{Add\+Service\+Flow} (\hyperlink{classns3_1_1ServiceFlow}{Service\+Flow} $\ast$service\+Flow)
\begin{DoxyCompactList}\small\item\em Add a new service flow. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1ServiceFlow}{Service\+Flow} $\ast$ \hyperlink{classns3_1_1BsServiceFlowManager_ad810acaf5c36eafeb62085667d1fac31}{Get\+Service\+Flow} (uint32\+\_\+t sfid) const 
\item 
\hyperlink{classns3_1_1ServiceFlow}{Service\+Flow} $\ast$ \hyperlink{classns3_1_1BsServiceFlowManager_a430f86ac46e4283b15a9586b6d64e460}{Get\+Service\+Flow} (\hyperlink{classns3_1_1Cid}{Cid} cid) const 
\item 
std\+::vector$<$ \hyperlink{classns3_1_1ServiceFlow}{Service\+Flow} $\ast$ $>$ \hyperlink{classns3_1_1BsServiceFlowManager_a0e5a8e6d2c896b917b3c94583e2c5efe}{Get\+Service\+Flows} (\hyperlink{classns3_1_1ServiceFlow_a7990ba10be1e098328fd1e6382a26235}{Service\+Flow\+::\+Scheduling\+Type} scheduling\+Type) const 
\item 
void \hyperlink{classns3_1_1BsServiceFlowManager_aaa142ead754a4b506c7f19e4c43f6c08}{Set\+Max\+Dsa\+Rsp\+Retries} (uint8\+\_\+t max\+Dsa\+Rsp\+Retries)
\begin{DoxyCompactList}\small\item\em set the maximum Dynamic \hyperlink{classns3_1_1ServiceFlow}{Service\+Flow} Add (D\+SA) retries \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1BsServiceFlowManager_ae88420e41d1b90f34fefee9f6a5b4c4c}{Get\+Dsa\+Ack\+Timeout\+Event} (void) const 
\item 
void \hyperlink{classns3_1_1BsServiceFlowManager_a2c9d6e3696af0e9bc15bcbe4089ab489}{Allocate\+Service\+Flows} (const \hyperlink{classns3_1_1DsaReq}{Dsa\+Req} \&dsa\+Req, \hyperlink{classns3_1_1Cid}{Cid} cid)
\begin{DoxyCompactList}\small\item\em allocate service flows \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1BsServiceFlowManager_a608f17a9cc0c559ed3f47c8947c95659}{Add\+Multicast\+Service\+Flow} (\hyperlink{classns3_1_1ServiceFlow}{Service\+Flow} sf, enum \hyperlink{classns3_1_1WimaxPhy_a044c5d8a48ca992c39c2a946f6e755fa}{Wimax\+Phy\+::\+Modulation\+Type} modulation)
\begin{DoxyCompactList}\small\item\em add a multicast service flow \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1BsServiceFlowManager_a8a3d973a3b22ebc565f65c61fc9a56f1}{Process\+Dsa\+Ack} (const \hyperlink{classns3_1_1DsaAck}{Dsa\+Ack} \&dsa\+Ack, \hyperlink{classns3_1_1Cid}{Cid} cid)
\begin{DoxyCompactList}\small\item\em process a D\+S\+A-\/\+A\+CK message \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1ServiceFlow}{Service\+Flow} $\ast$ \hyperlink{classns3_1_1BsServiceFlowManager_afba823b624d516de570c0c7a6312de2b}{Process\+Dsa\+Req} (const \hyperlink{classns3_1_1DsaReq}{Dsa\+Req} \&dsa\+Req, \hyperlink{classns3_1_1Cid}{Cid} cid)
\begin{DoxyCompactList}\small\item\em process a D\+S\+A-\/\+Req message \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1BsServiceFlowManager_ae13d0dff1473149c3daec527c08103a9}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1DsaRsp}{Dsa\+Rsp} \hyperlink{classns3_1_1BsServiceFlowManager_ac67cef767e9e9c07403b9b0ed795619b}{Create\+Dsa\+Rsp} (const \hyperlink{classns3_1_1ServiceFlow}{Service\+Flow} $\ast$service\+Flow, uint16\+\_\+t transaction\+Id)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1BsServiceFlowManager_a927caa1f79f0f770bc15cb62ad2e8495}{Get\+Max\+Dsa\+Rsp\+Retries} (void) const 
\item 
void \hyperlink{classns3_1_1BsServiceFlowManager_a70acd126e153faa38588075406ec1d5b}{Schedule\+Dsa\+Rsp} (\hyperlink{classns3_1_1ServiceFlow}{Service\+Flow} $\ast$service\+Flow, \hyperlink{classns3_1_1Cid}{Cid} cid)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WimaxNetDevice}{Wimax\+Net\+Device} $>$ \hyperlink{classns3_1_1BsServiceFlowManager_a6fa275f84e4458c687787b1974a00382}{m\+\_\+device}
\begin{DoxyCompactList}\small\item\em the device \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1BsServiceFlowManager_af08f7e386d477d94d6ed94f39c692c4f}{m\+\_\+sfid\+Index}
\begin{DoxyCompactList}\small\item\em S\+F\+ID index. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1BsServiceFlowManager_a187563222d3a6b050019ba4e71f916d8}{m\+\_\+max\+Dsa\+Rsp\+Retries}
\begin{DoxyCompactList}\small\item\em maximum number of D\+SA response retries \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1BsServiceFlowManager_adc5e10a0a7b826157a09da28fb4f3c0f}{m\+\_\+dsa\+Ack\+Timeout\+Event}
\begin{DoxyCompactList}\small\item\em D\+SA ack timeout event. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Cid}{Cid} \hyperlink{classns3_1_1BsServiceFlowManager_a5bb3b84ebe38fc20af15f618add2227a}{m\+\_\+inuse\+Schedule\+Dsa\+Rsp\+Cid}
\begin{DoxyCompactList}\small\item\em in use schedule D\+SA response C\+ID \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\hyperlink{classns3_1_1BsServiceFlowManager}{Bs\+Service\+Flow\+Manager}. 

\subsection{Member Enumeration Documentation}
\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Confirmation\+Code@{Confirmation\+Code}}
\index{Confirmation\+Code@{Confirmation\+Code}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Confirmation\+Code}{ConfirmationCode}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Confirmation\+Code}}\hypertarget{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523}{}\label{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523}


Confirmation code enumeration. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+S\+U\+C\+C\+E\+SS@{C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+S\+U\+C\+C\+E\+SS}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+S\+U\+C\+C\+E\+SS@{C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+S\+U\+C\+C\+E\+SS}}\item[{\em 
C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+S\+U\+C\+C\+E\+SS\hypertarget{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523a0cd742fb80a8828c02e66f504c35df8c}{}\label{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523a0cd742fb80a8828c02e66f504c35df8c}
}]\index{C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+R\+E\+J\+E\+CT@{C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+R\+E\+J\+E\+CT}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+R\+E\+J\+E\+CT@{C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+R\+E\+J\+E\+CT}}\item[{\em 
C\+O\+N\+F\+I\+R\+M\+A\+T\+I\+O\+N\+\_\+\+C\+O\+D\+E\+\_\+\+R\+E\+J\+E\+CT\hypertarget{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523adc4b9508982fb872a4829b0b9d7fa1fa}{}\label{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523adc4b9508982fb872a4829b0b9d7fa1fa}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
49   \{
50     \hyperlink{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523a0cd742fb80a8828c02e66f504c35df8c}{CONFIRMATION\_CODE\_SUCCESS}, \hyperlink{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523adc4b9508982fb872a4829b0b9d7fa1fa}{CONFIRMATION\_CODE\_REJECT}
51   \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Bs\+Service\+Flow\+Manager@{Bs\+Service\+Flow\+Manager}}
\index{Bs\+Service\+Flow\+Manager@{Bs\+Service\+Flow\+Manager}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Bs\+Service\+Flow\+Manager(\+Ptr$<$ Base\+Station\+Net\+Device $>$ device)}{BsServiceFlowManager(Ptr< BaseStationNetDevice > device)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Bs\+Service\+Flow\+Manager (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Base\+Station\+Net\+Device} $>$}]{device}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BsServiceFlowManager_ae2c4cfd5abb65a2d97aa6b9237f202f5}{}\label{classns3_1_1BsServiceFlowManager_ae2c4cfd5abb65a2d97aa6b9237f202f5}
Constructor


\begin{DoxyParams}{Parameters}
{\em device} & base station device \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
46   : \hyperlink{classns3_1_1BsServiceFlowManager_a6fa275f84e4458c687787b1974a00382}{m\_device} (device),
47     \hyperlink{classns3_1_1BsServiceFlowManager_af08f7e386d477d94d6ed94f39c692c4f}{m\_sfidIndex} (100),
48     \hyperlink{classns3_1_1BsServiceFlowManager_a187563222d3a6b050019ba4e71f916d8}{m\_maxDsaRspRetries} (100)                                     \textcolor{comment}{// default value}
49 \{
50   \hyperlink{classns3_1_1BsServiceFlowManager_a5bb3b84ebe38fc20af15f618add2227a}{m\_inuseScheduleDsaRspCid} = \hyperlink{classns3_1_1Cid_a5c204ab0df783c7594c764bae1611436}{Cid::InitialRanging} ();
51 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!````~Bs\+Service\+Flow\+Manager@{$\sim$\+Bs\+Service\+Flow\+Manager}}
\index{````~Bs\+Service\+Flow\+Manager@{$\sim$\+Bs\+Service\+Flow\+Manager}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{$\sim$\+Bs\+Service\+Flow\+Manager(void)}{~BsServiceFlowManager(void)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Bs\+Service\+Flow\+Manager\+::$\sim$\+Bs\+Service\+Flow\+Manager (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BsServiceFlowManager_aaec735f6b6cc01e67dce0c934820586d}{}\label{classns3_1_1BsServiceFlowManager_aaec735f6b6cc01e67dce0c934820586d}

\begin{DoxyCode}
54 \{
55 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Add\+Multicast\+Service\+Flow@{Add\+Multicast\+Service\+Flow}}
\index{Add\+Multicast\+Service\+Flow@{Add\+Multicast\+Service\+Flow}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Add\+Multicast\+Service\+Flow(\+Service\+Flow sf, enum Wimax\+Phy\+::\+Modulation\+Type modulation)}{AddMulticastServiceFlow(ServiceFlow sf, enum WimaxPhy::ModulationType modulation)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Add\+Multicast\+Service\+Flow (
\begin{DoxyParamCaption}
\item[{{\bf Service\+Flow}}]{sf, }
\item[{enum {\bf Wimax\+Phy\+::\+Modulation\+Type}}]{modulation}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BsServiceFlowManager_a608f17a9cc0c559ed3f47c8947c95659}{}\label{classns3_1_1BsServiceFlowManager_a608f17a9cc0c559ed3f47c8947c95659}


add a multicast service flow 


\begin{DoxyCode}
224 \{
225   ServiceFlow * serviceFlow = \textcolor{keyword}{new} ServiceFlow ();
226   serviceFlow->CopyParametersFrom (sf);
227   Ptr<BaseStationNetDevice> bs = \hyperlink{classns3_1_1BsServiceFlowManager_a6fa275f84e4458c687787b1974a00382}{m\_device}->GetObject<BaseStationNetDevice> ();
228   Ptr<WimaxConnection> multicastConnection = bs->GetConnectionManager ()->CreateConnection (
      \hyperlink{classns3_1_1Cid_a10b8f92080ca5790e65a0bfa2f557e0aa4d3bf31623ed09b9755d86bdfa345a4a}{Cid::MULTICAST});
229   serviceFlow->SetConnection (multicastConnection);
230   \hyperlink{classns3_1_1BsServiceFlowManager_a9760cac0b022df419803d63dc9e84014}{AddServiceFlow} (serviceFlow);
231   serviceFlow->SetIsEnabled (\textcolor{keyword}{true});
232   serviceFlow->SetType (\hyperlink{classns3_1_1ServiceFlow_a95a18bd8cae3a4eaa3568dad45ae941da68cc7128fe19a5d911aace393cc12bd5}{ServiceFlow::SF\_TYPE\_ACTIVE});
233   serviceFlow->SetIsMulticast (\textcolor{keyword}{true});
234   serviceFlow->SetModulation (modulation);
235   bs->GetUplinkScheduler ()->SetupServiceFlow (0, serviceFlow);
236 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Add\+Service\+Flow@{Add\+Service\+Flow}}
\index{Add\+Service\+Flow@{Add\+Service\+Flow}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Add\+Service\+Flow(\+Service\+Flow $\ast$service\+Flow)}{AddServiceFlow(ServiceFlow *serviceFlow)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Add\+Service\+Flow (
\begin{DoxyParamCaption}
\item[{{\bf Service\+Flow} $\ast$}]{service\+Flow}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BsServiceFlowManager_a9760cac0b022df419803d63dc9e84014}{}\label{classns3_1_1BsServiceFlowManager_a9760cac0b022df419803d63dc9e84014}


Add a new service flow. 


\begin{DoxyParams}{Parameters}
{\em service\+Flow} & the service flow to add \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
95 \{
96   \hyperlink{classns3_1_1ServiceFlowManager_a0a891935b94be6fcd17690801271c38d}{ServiceFlowManager::AddServiceFlow} (serviceFlow);
97 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Allocate\+Service\+Flows@{Allocate\+Service\+Flows}}
\index{Allocate\+Service\+Flows@{Allocate\+Service\+Flows}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Allocate\+Service\+Flows(const Dsa\+Req \&dsa\+Req, Cid cid)}{AllocateServiceFlows(const DsaReq &dsaReq, Cid cid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Allocate\+Service\+Flows (
\begin{DoxyParamCaption}
\item[{const {\bf Dsa\+Req} \&}]{dsa\+Req, }
\item[{{\bf Cid}}]{cid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BsServiceFlowManager_a2c9d6e3696af0e9bc15bcbe4089ab489}{}\label{classns3_1_1BsServiceFlowManager_a2c9d6e3696af0e9bc15bcbe4089ab489}


allocate service flows 


\begin{DoxyParams}{Parameters}
{\em dsa\+Req} & the D\+SA request \\
\hline
{\em cid} & the connection identifier \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
240 \{
241   ServiceFlow *serviceFlow = \hyperlink{classns3_1_1BsServiceFlowManager_afba823b624d516de570c0c7a6312de2b}{ProcessDsaReq} (dsaReq, cid);
242   \textcolor{keywordflow}{if} (serviceFlow) \{
243       \hyperlink{classns3_1_1BsServiceFlowManager_a70acd126e153faa38588075406ec1d5b}{ScheduleDsaRsp} (serviceFlow, cid);
244     \} \textcolor{keywordflow}{else} \{
245       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"No service Flow. Could not connect."});
246     \}
247 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Create\+Dsa\+Rsp@{Create\+Dsa\+Rsp}}
\index{Create\+Dsa\+Rsp@{Create\+Dsa\+Rsp}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Create\+Dsa\+Rsp(const Service\+Flow $\ast$service\+Flow, uint16\+\_\+t transaction\+Id)}{CreateDsaRsp(const ServiceFlow *serviceFlow, uint16_t transactionId)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Dsa\+Rsp} ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Create\+Dsa\+Rsp (
\begin{DoxyParamCaption}
\item[{const {\bf Service\+Flow} $\ast$}]{service\+Flow, }
\item[{uint16\+\_\+t}]{transaction\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BsServiceFlowManager_ac67cef767e9e9c07403b9b0ed795619b}{}\label{classns3_1_1BsServiceFlowManager_ac67cef767e9e9c07403b9b0ed795619b}
Create D\+SA response function 
\begin{DoxyParams}{Parameters}
{\em service\+Flow} & service flow \\
\hline
{\em transaction\+Id} & transaction ID \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the D\+SA response 
\end{DoxyReturn}

\begin{DoxyCode}
119 \{
120   DsaRsp dsaRsp;
121   dsaRsp.SetTransactionId (transactionId);
122   dsaRsp.SetServiceFlow (*serviceFlow);
123   \textcolor{comment}{// assuming SS can supports all of the service flow parameters}
124   dsaRsp.SetConfirmationCode (\hyperlink{classns3_1_1BsServiceFlowManager_a7caa3307401b19d092e9dd656d5aa523a0cd742fb80a8828c02e66f504c35df8c}{CONFIRMATION\_CODE\_SUCCESS});
125 
126   \textcolor{keywordflow}{return} dsaRsp;
127 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1BsServiceFlowManager_a1f0553419a6ddb7f5ac324f45e7a6a71}{}\label{classns3_1_1BsServiceFlowManager_a1f0553419a6ddb7f5ac324f45e7a6a71}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1BsServiceFlowManager_a1f0553419a6ddb7f5ac324f45e7a6a71}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
71 \{
72   \hyperlink{classns3_1_1ServiceFlowManager_acb8511926dd8ca0ab15c9fcffd4652e6}{ServiceFlowManager::DoDispose} ();
73 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Get\+Dsa\+Ack\+Timeout\+Event@{Get\+Dsa\+Ack\+Timeout\+Event}}
\index{Get\+Dsa\+Ack\+Timeout\+Event@{Get\+Dsa\+Ack\+Timeout\+Event}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Dsa\+Ack\+Timeout\+Event(void) const }{GetDsaAckTimeoutEvent(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Get\+Dsa\+Ack\+Timeout\+Event (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1BsServiceFlowManager_ae88420e41d1b90f34fefee9f6a5b4c4c}{}\label{classns3_1_1BsServiceFlowManager_ae88420e41d1b90f34fefee9f6a5b4c4c}
\begin{DoxyReturn}{Returns}
the D\+SA ack timeout event 
\end{DoxyReturn}

\begin{DoxyCode}
89 \{
90   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1BsServiceFlowManager_adc5e10a0a7b826157a09da28fb4f3c0f}{m\_dsaAckTimeoutEvent};
91 \}
\end{DoxyCode}
\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Get\+Max\+Dsa\+Rsp\+Retries@{Get\+Max\+Dsa\+Rsp\+Retries}}
\index{Get\+Max\+Dsa\+Rsp\+Retries@{Get\+Max\+Dsa\+Rsp\+Retries}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Max\+Dsa\+Rsp\+Retries(void) const }{GetMaxDsaRspRetries(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Get\+Max\+Dsa\+Rsp\+Retries (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BsServiceFlowManager_a927caa1f79f0f770bc15cb62ad2e8495}{}\label{classns3_1_1BsServiceFlowManager_a927caa1f79f0f770bc15cb62ad2e8495}
\begin{DoxyReturn}{Returns}
the maximum D\+SA response retries 
\end{DoxyReturn}

\begin{DoxyCode}
83 \{
84   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1BsServiceFlowManager_a187563222d3a6b050019ba4e71f916d8}{m\_maxDsaRspRetries};
85 \}
\end{DoxyCode}
\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Get\+Service\+Flow@{Get\+Service\+Flow}}
\index{Get\+Service\+Flow@{Get\+Service\+Flow}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Service\+Flow(uint32\+\_\+t sfid) const }{GetServiceFlow(uint32_t sfid) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Service\+Flow} $\ast$ ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Get\+Service\+Flow (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{sfid}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1BsServiceFlowManager_ad810acaf5c36eafeb62085667d1fac31}{}\label{classns3_1_1BsServiceFlowManager_ad810acaf5c36eafeb62085667d1fac31}

\begin{DoxyParams}{Parameters}
{\em sfid} & the service flow identifier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the service flow which has as identifier sfid 
\end{DoxyReturn}

\begin{DoxyCode}
101 \{
102   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1ServiceFlowManager_ae99d01afa5c232e1a8d0f707811eff24}{ServiceFlowManager::GetServiceFlow} (sfid);
103 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Get\+Service\+Flow@{Get\+Service\+Flow}}
\index{Get\+Service\+Flow@{Get\+Service\+Flow}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Service\+Flow(\+Cid cid) const }{GetServiceFlow(Cid cid) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Service\+Flow} $\ast$ ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Get\+Service\+Flow (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1BsServiceFlowManager_a430f86ac46e4283b15a9586b6d64e460}{}\label{classns3_1_1BsServiceFlowManager_a430f86ac46e4283b15a9586b6d64e460}

\begin{DoxyParams}{Parameters}
{\em cid} & the connection identifier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the service flow which has as connection identifier cid 
\end{DoxyReturn}

\begin{DoxyCode}
107 \{
108   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1ServiceFlowManager_ae99d01afa5c232e1a8d0f707811eff24}{ServiceFlowManager::GetServiceFlow} (cid);
109 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Get\+Service\+Flows@{Get\+Service\+Flows}}
\index{Get\+Service\+Flows@{Get\+Service\+Flows}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Service\+Flows(\+Service\+Flow\+::\+Scheduling\+Type scheduling\+Type) const }{GetServiceFlows(ServiceFlow::SchedulingType schedulingType) const }}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Service\+Flow} $\ast$ $>$ ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Get\+Service\+Flows (
\begin{DoxyParamCaption}
\item[{{\bf Service\+Flow\+::\+Scheduling\+Type}}]{scheduling\+Type}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1BsServiceFlowManager_a0e5a8e6d2c896b917b3c94583e2c5efe}{}\label{classns3_1_1BsServiceFlowManager_a0e5a8e6d2c896b917b3c94583e2c5efe}

\begin{DoxyParams}{Parameters}
{\em scheduling\+Type} & the scheduling type \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the list of service flows configured with scheduling\+Type as a QoS class 
\end{DoxyReturn}

\begin{DoxyCode}
113 \{
114   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1ServiceFlowManager_adce26cf358c78252248f0bfab7032cee}{ServiceFlowManager::GetServiceFlows} (schedulingType);
115 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1BsServiceFlowManager_ae13d0dff1473149c3daec527c08103a9}{}\label{classns3_1_1BsServiceFlowManager_ae13d0dff1473149c3daec527c08103a9}
Register this type. \begin{DoxyReturn}{Returns}
The \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
60 \{
61   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::BsServiceFlowManager"})
62     .SetParent<\hyperlink{classns3_1_1ServiceFlowManager_a78a4c85fb73a9ff0c384bbd28b44b5d0}{ServiceFlowManager}> ()
63     .SetGroupName (\textcolor{stringliteral}{"Wifi"})
64     \textcolor{comment}{// No AddConstructor because this class has no default constructor.}
65   ;
66   \textcolor{keywordflow}{return} tid;
67 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Process\+Dsa\+Ack@{Process\+Dsa\+Ack}}
\index{Process\+Dsa\+Ack@{Process\+Dsa\+Ack}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Process\+Dsa\+Ack(const Dsa\+Ack \&dsa\+Ack, Cid cid)}{ProcessDsaAck(const DsaAck &dsaAck, Cid cid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Process\+Dsa\+Ack (
\begin{DoxyParamCaption}
\item[{const {\bf Dsa\+Ack} \&}]{dsa\+Ack, }
\item[{{\bf Cid}}]{cid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BsServiceFlowManager_a8a3d973a3b22ebc565f65c61fc9a56f1}{}\label{classns3_1_1BsServiceFlowManager_a8a3d973a3b22ebc565f65c61fc9a56f1}


process a D\+S\+A-\/\+A\+CK message 


\begin{DoxyParams}{Parameters}
{\em dsa\+Ack} & the message to process \\
\hline
{\em cid} & the identifier of the connection on which the message was received \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
251 \{
252   Ptr<BaseStationNetDevice> bs = \hyperlink{classns3_1_1BsServiceFlowManager_a6fa275f84e4458c687787b1974a00382}{m\_device}->GetObject<BaseStationNetDevice> ();
253   SSRecord *ssRecord = bs->GetSSManager ()->GetSSRecord (cid);
254 
255   \textcolor{keywordflow}{if} (dsaAck.GetTransactionId () != ssRecord->GetSfTransactionId ())
256     \{
257       \textcolor{keywordflow}{return};
258     \}
259 
260   ssRecord->SetDsaRspRetries (0);
261   ssRecord->SetSfTransactionId (0);
262 
263   \textcolor{comment}{// check if all service flow have been initiated}
264   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1ServiceFlowManager_a9338182ed1860eb7e07ea49d79c4414a}{AreServiceFlowsAllocated} (ssRecord->GetServiceFlows (
      \hyperlink{classns3_1_1ServiceFlow_a7990ba10be1e098328fd1e6382a26235aaf7e58e43027cc9d351cd100a9d6dee3}{ServiceFlow::SF\_TYPE\_ALL})))
265     \{
266       ssRecord->SetAreServiceFlowsAllocated (\textcolor{keyword}{true});
267     \}
268 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Process\+Dsa\+Req@{Process\+Dsa\+Req}}
\index{Process\+Dsa\+Req@{Process\+Dsa\+Req}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Process\+Dsa\+Req(const Dsa\+Req \&dsa\+Req, Cid cid)}{ProcessDsaReq(const DsaReq &dsaReq, Cid cid)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Service\+Flow} $\ast$ ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Process\+Dsa\+Req (
\begin{DoxyParamCaption}
\item[{const {\bf Dsa\+Req} \&}]{dsa\+Req, }
\item[{{\bf Cid}}]{cid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BsServiceFlowManager_afba823b624d516de570c0c7a6312de2b}{}\label{classns3_1_1BsServiceFlowManager_afba823b624d516de570c0c7a6312de2b}


process a D\+S\+A-\/\+Req message 


\begin{DoxyParams}{Parameters}
{\em dsa\+Req} & the message to process \\
\hline
{\em cid} & the identifier of the connection on which the message was received \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the service flow 
\end{DoxyReturn}

\begin{DoxyCode}
189 \{
190   ServiceFlow * serviceFlow;
191   Ptr<BaseStationNetDevice> bs = \hyperlink{classns3_1_1BsServiceFlowManager_a6fa275f84e4458c687787b1974a00382}{m\_device}->GetObject<BaseStationNetDevice> ();
192   SSRecord *ssRecord = bs->GetSSManager ()->GetSSRecord (cid);
193 
194   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"BsServiceFlowManager: Processing DSA-REQ..."});
195   \textcolor{keywordflow}{if} (ssRecord->GetSfTransactionId () != 0)
196     \{
197       \textcolor{comment}{// had already received DSA-REQ. DSA-RSP was lost}
198       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (dsaReq.GetTransactionId () == ssRecord->GetSfTransactionId (),
199                      \textcolor{stringliteral}{"Error while processing DSA request:the received transaction ID is not expected"});
200       serviceFlow = \hyperlink{classns3_1_1BsServiceFlowManager_ad810acaf5c36eafeb62085667d1fac31}{GetServiceFlow} (ssRecord->GetDsaRsp ().GetSfid ());
201     \}
202   \textcolor{keywordflow}{else}
203     \{
204       ServiceFlow sf = dsaReq.GetServiceFlow ();
205       Ptr<WimaxConnection> transportConnection;
206       Ptr<ConnectionManager> BsConManager = bs->GetConnectionManager ();
207       transportConnection = BsConManager->CreateConnection (\hyperlink{classns3_1_1Cid_a10b8f92080ca5790e65a0bfa2f557e0aa46fbed56841c3bf471aa84de022edf87}{Cid::TRANSPORT});
208       serviceFlow = \textcolor{keyword}{new} ServiceFlow (\hyperlink{classns3_1_1BsServiceFlowManager_af08f7e386d477d94d6ed94f39c692c4f}{m\_sfidIndex}++, sf.GetDirection (), transportConnection);
209       transportConnection->SetServiceFlow (serviceFlow);
210       serviceFlow->\hyperlink{classns3_1_1ServiceFlow_aae60e9fc7ea6b727946980e1ad376da7}{CopyParametersFrom} (sf);
211       serviceFlow->SetUnsolicitedGrantInterval (1);
212       serviceFlow->SetUnsolicitedPollingInterval (1);
213       serviceFlow->SetConvergenceSublayerParam (sf.GetConvergenceSublayerParam ());
214       \hyperlink{classns3_1_1BsServiceFlowManager_a9760cac0b022df419803d63dc9e84014}{AddServiceFlow} (serviceFlow);
215       ssRecord->SetSfTransactionId (dsaReq.GetTransactionId ());
216       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"BsServiceFlowManager: Creating a new Service flow: SFID = "} << serviceFlow->
      GetSfid () << \textcolor{stringliteral}{" CID = "}
217                                                                                 << serviceFlow->GetCid ());
218     \}
219   \textcolor{keywordflow}{return} serviceFlow;
220 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Schedule\+Dsa\+Rsp@{Schedule\+Dsa\+Rsp}}
\index{Schedule\+Dsa\+Rsp@{Schedule\+Dsa\+Rsp}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Schedule\+Dsa\+Rsp(\+Service\+Flow $\ast$service\+Flow, Cid cid)}{ScheduleDsaRsp(ServiceFlow *serviceFlow, Cid cid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Schedule\+Dsa\+Rsp (
\begin{DoxyParamCaption}
\item[{{\bf Service\+Flow} $\ast$}]{service\+Flow, }
\item[{{\bf Cid}}]{cid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BsServiceFlowManager_a70acd126e153faa38588075406ec1d5b}{}\label{classns3_1_1BsServiceFlowManager_a70acd126e153faa38588075406ec1d5b}
Create D\+SA response function 
\begin{DoxyCode}
131 \{
132   Ptr<BaseStationNetDevice> bs = \hyperlink{classns3_1_1BsServiceFlowManager_a6fa275f84e4458c687787b1974a00382}{m\_device}->GetObject<BaseStationNetDevice> ();
133 
134   SSRecord *ssRecord = bs->GetSSManager ()->GetSSRecord (cid);
135   \textcolor{keywordflow}{if} (ssRecord == 0)
136     \{
137       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"SS not registered with the BS CID:"} << cid);
138       \textcolor{keywordflow}{return};
139     \}
140 
141   serviceFlow->SetIsEnabled (\textcolor{keyword}{true});
142   serviceFlow->SetType (\hyperlink{classns3_1_1ServiceFlow_a95a18bd8cae3a4eaa3568dad45ae941da68cc7128fe19a5d911aace393cc12bd5}{ServiceFlow::SF\_TYPE\_ACTIVE});
143   ssRecord->AddServiceFlow (serviceFlow);
144 
145 
146   bs->GetUplinkScheduler ()->SetupServiceFlow (ssRecord, serviceFlow);
147 
148   Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> ();
149   DsaRsp dsaRsp;
150 
151   \textcolor{keywordflow}{if} (ssRecord->GetDsaRspRetries () == 0)
152     \{
153       dsaRsp = \hyperlink{classns3_1_1BsServiceFlowManager_ac67cef767e9e9c07403b9b0ed795619b}{CreateDsaRsp} (serviceFlow, ssRecord->GetSfTransactionId ());
154       p->AddHeader (dsaRsp);
155       ssRecord->SetDsaRsp (dsaRsp);
156     \}
157   \textcolor{keywordflow}{else}
158     \{
159       \textcolor{keywordflow}{if} (ssRecord->GetDsaRspRetries () < \hyperlink{classns3_1_1BsServiceFlowManager_a187563222d3a6b050019ba4e71f916d8}{m\_maxDsaRspRetries})
160         \{
161           p->AddHeader (ssRecord->GetDsaRsp ());
162         \}
163       \textcolor{keywordflow}{else}
164         \{
165           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Service flows could not be initialized!"});
166         \}
167     \}
168 
169   ssRecord->IncrementDsaRspRetries ();
170   p->AddHeader (ManagementMessageType (
      \hyperlink{classns3_1_1ManagementMessageType_a0e0c7a1e263538f0379d1bdb015abe3dafcc36bf51cd0bf98daaa56183458c2af}{ManagementMessageType::MESSAGE\_TYPE\_DSA\_RSP}));
171 
172   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1BsServiceFlowManager_adc5e10a0a7b826157a09da28fb4f3c0f}{m\_dsaAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
173     \{
174       \hyperlink{classns3_1_1Simulator_a1b903a62d6117ef28f7ba3c6500689bf}{Simulator::Cancel} (\hyperlink{classns3_1_1BsServiceFlowManager_adc5e10a0a7b826157a09da28fb4f3c0f}{m\_dsaAckTimeoutEvent});
175     \}
176 
177   \hyperlink{classns3_1_1BsServiceFlowManager_a5bb3b84ebe38fc20af15f618add2227a}{m\_inuseScheduleDsaRspCid} = cid;
178 
179   \hyperlink{classns3_1_1BsServiceFlowManager_adc5e10a0a7b826157a09da28fb4f3c0f}{m\_dsaAckTimeoutEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (bs->GetIntervalT8 (),
180                                               &
      \hyperlink{classns3_1_1BsServiceFlowManager_a70acd126e153faa38588075406ec1d5b}{BsServiceFlowManager::ScheduleDsaRsp},
181                                               \textcolor{keyword}{this},
182                                               serviceFlow,
183                                               cid);
184   \hyperlink{classns3_1_1BsServiceFlowManager_a6fa275f84e4458c687787b1974a00382}{m\_device}->Enqueue (p, MacHeaderType (), bs->GetConnection (ssRecord->GetPrimaryCid ()));
185 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!Set\+Max\+Dsa\+Rsp\+Retries@{Set\+Max\+Dsa\+Rsp\+Retries}}
\index{Set\+Max\+Dsa\+Rsp\+Retries@{Set\+Max\+Dsa\+Rsp\+Retries}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{Set\+Max\+Dsa\+Rsp\+Retries(uint8\+\_\+t max\+Dsa\+Rsp\+Retries)}{SetMaxDsaRspRetries(uint8_t maxDsaRspRetries)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Bs\+Service\+Flow\+Manager\+::\+Set\+Max\+Dsa\+Rsp\+Retries (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{max\+Dsa\+Rsp\+Retries}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BsServiceFlowManager_aaa142ead754a4b506c7f19e4c43f6c08}{}\label{classns3_1_1BsServiceFlowManager_aaa142ead754a4b506c7f19e4c43f6c08}


set the maximum Dynamic \hyperlink{classns3_1_1ServiceFlow}{Service\+Flow} Add (D\+SA) retries 


\begin{DoxyParams}{Parameters}
{\em max\+Dsa\+Rsp\+Retries} & the maximum D\+SA response retries \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
77 \{
78   \hyperlink{classns3_1_1BsServiceFlowManager_a187563222d3a6b050019ba4e71f916d8}{m\_maxDsaRspRetries} = maxDsaRspRetries;
79 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!m\+\_\+device@{m\+\_\+device}}
\index{m\+\_\+device@{m\+\_\+device}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+device}{m_device}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Wimax\+Net\+Device}$>$ ns3\+::\+Bs\+Service\+Flow\+Manager\+::m\+\_\+device\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BsServiceFlowManager_a6fa275f84e4458c687787b1974a00382}{}\label{classns3_1_1BsServiceFlowManager_a6fa275f84e4458c687787b1974a00382}


the device 

\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!m\+\_\+dsa\+Ack\+Timeout\+Event@{m\+\_\+dsa\+Ack\+Timeout\+Event}}
\index{m\+\_\+dsa\+Ack\+Timeout\+Event@{m\+\_\+dsa\+Ack\+Timeout\+Event}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+dsa\+Ack\+Timeout\+Event}{m_dsaAckTimeoutEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Bs\+Service\+Flow\+Manager\+::m\+\_\+dsa\+Ack\+Timeout\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BsServiceFlowManager_adc5e10a0a7b826157a09da28fb4f3c0f}{}\label{classns3_1_1BsServiceFlowManager_adc5e10a0a7b826157a09da28fb4f3c0f}


D\+SA ack timeout event. 

\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!m\+\_\+inuse\+Schedule\+Dsa\+Rsp\+Cid@{m\+\_\+inuse\+Schedule\+Dsa\+Rsp\+Cid}}
\index{m\+\_\+inuse\+Schedule\+Dsa\+Rsp\+Cid@{m\+\_\+inuse\+Schedule\+Dsa\+Rsp\+Cid}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+inuse\+Schedule\+Dsa\+Rsp\+Cid}{m_inuseScheduleDsaRspCid}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Cid} ns3\+::\+Bs\+Service\+Flow\+Manager\+::m\+\_\+inuse\+Schedule\+Dsa\+Rsp\+Cid\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BsServiceFlowManager_a5bb3b84ebe38fc20af15f618add2227a}{}\label{classns3_1_1BsServiceFlowManager_a5bb3b84ebe38fc20af15f618add2227a}


in use schedule D\+SA response C\+ID 

\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!m\+\_\+max\+Dsa\+Rsp\+Retries@{m\+\_\+max\+Dsa\+Rsp\+Retries}}
\index{m\+\_\+max\+Dsa\+Rsp\+Retries@{m\+\_\+max\+Dsa\+Rsp\+Retries}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+max\+Dsa\+Rsp\+Retries}{m_maxDsaRspRetries}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Bs\+Service\+Flow\+Manager\+::m\+\_\+max\+Dsa\+Rsp\+Retries\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BsServiceFlowManager_a187563222d3a6b050019ba4e71f916d8}{}\label{classns3_1_1BsServiceFlowManager_a187563222d3a6b050019ba4e71f916d8}


maximum number of D\+SA response retries 

\index{ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}!m\+\_\+sfid\+Index@{m\+\_\+sfid\+Index}}
\index{m\+\_\+sfid\+Index@{m\+\_\+sfid\+Index}!ns3\+::\+Bs\+Service\+Flow\+Manager@{ns3\+::\+Bs\+Service\+Flow\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+sfid\+Index}{m_sfidIndex}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Bs\+Service\+Flow\+Manager\+::m\+\_\+sfid\+Index\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BsServiceFlowManager_af08f7e386d477d94d6ed94f39c692c4f}{}\label{classns3_1_1BsServiceFlowManager_af08f7e386d477d94d6ed94f39c692c4f}


S\+F\+ID index. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wimax/model/\hyperlink{bs-service-flow-manager_8h}{bs-\/service-\/flow-\/manager.\+h}\item 
wimax/model/\hyperlink{bs-service-flow-manager_8cc}{bs-\/service-\/flow-\/manager.\+cc}\end{DoxyCompactItemize}
