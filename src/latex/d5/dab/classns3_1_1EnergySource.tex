\hypertarget{classns3_1_1EnergySource}{}\section{ns3\+:\+:Energy\+Source Class Reference}
\label{classns3_1_1EnergySource}\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}


{\ttfamily \#include $<$energy-\/source.\+h$>$}



Inheritance diagram for ns3\+:\+:Energy\+Source\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Energy\+Source\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1EnergySource_a820794a417c3d2f7909f987ba6064cde}{Energy\+Source} ()
\item 
virtual \hyperlink{classns3_1_1EnergySource_a3bbcac784333cd193aeaab94873fe9df}{$\sim$\+Energy\+Source} ()
\item 
virtual double \hyperlink{classns3_1_1EnergySource_a834c547d15a1e5a5295d833c7d542177}{Get\+Supply\+Voltage} (void) const =0
\item 
virtual double \hyperlink{classns3_1_1EnergySource_ae83935d4347fb88be5d823434a555365}{Get\+Initial\+Energy} (void) const =0
\item 
virtual double \hyperlink{classns3_1_1EnergySource_a61bab0597d0ea719643a525515a3f5f1}{Get\+Remaining\+Energy} (void)=0
\item 
virtual double \hyperlink{classns3_1_1EnergySource_acf39f7e41309ae58baf3f179263425c3}{Get\+Energy\+Fraction} (void)=0
\item 
virtual void \hyperlink{classns3_1_1EnergySource_a528aca240cc8d85076982c5042a85e66}{Update\+Energy\+Source} (void)=0
\item 
void \hyperlink{classns3_1_1EnergySource_ae6e7032250a3e851092cd6d0bc3716aa}{Set\+Node} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node)
\begin{DoxyCompactList}\small\item\em Sets pointer to node containing this \hyperlink{classns3_1_1EnergySource}{Energy\+Source}. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classns3_1_1EnergySource_acac258882d8c38efa49d1f6053eb97ae}{Get\+Node} (void) const 
\item 
void \hyperlink{classns3_1_1EnergySource_a075fe242ae7523cc071752ab1b6b7c02}{Append\+Device\+Energy\+Model} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model} $>$ device\+Energy\+Model\+Ptr)
\item 
\hyperlink{classns3_1_1DeviceEnergyModelContainer}{Device\+Energy\+Model\+Container} \hyperlink{classns3_1_1EnergySource_ad2be8bb25ea8bd09dc15f035fda7fd67}{Find\+Device\+Energy\+Models} (\hyperlink{classns3_1_1TypeId}{Type\+Id} tid)
\item 
\hyperlink{classns3_1_1DeviceEnergyModelContainer}{Device\+Energy\+Model\+Container} \hyperlink{classns3_1_1EnergySource_a555cada15ab2bc3c7847b96bc6763773}{Find\+Device\+Energy\+Models} (std\+::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name})
\item 
void \hyperlink{classns3_1_1EnergySource_aac5fe233a38918d36150b0af007c7ea8}{Initialize\+Device\+Models} (void)
\item 
void \hyperlink{classns3_1_1EnergySource_a1da1997d065a1280fa71779ba930cce9}{Dispose\+Device\+Models} (void)
\item 
void \hyperlink{classns3_1_1EnergySource_a0b1d1080b0ab578cd2693e1029641d61}{Connect\+Energy\+Harvester} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1EnergyHarvester}{Energy\+Harvester} $>$ energy\+Harvester\+Ptr)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1EnergySource_afa2c35556f37551e8674e63bb3b97d21}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classns3_1_1EnergySource_ac8b121ba1389d5545705e52d1a6fd602}{Calculate\+Total\+Current} (void)
\item 
void \hyperlink{classns3_1_1EnergySource_af93e047506b5bed57c14f10e28725e9f}{Notify\+Energy\+Drained} (void)
\item 
void \hyperlink{classns3_1_1EnergySource_a184eb82e77cfc3ab7f9a1a577f34575d}{Notify\+Energy\+Recharged} (void)
\item 
void \hyperlink{classns3_1_1EnergySource_a7a91665a6b2e6a01bf6b4a641b53bd45}{Break\+Device\+Energy\+Model\+Ref\+Cycle} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1EnergySource_adf10a9a0ac6bc62be24eea31a8c22a12}{Do\+Dispose} (void)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1DeviceEnergyModelContainer}{Device\+Energy\+Model\+Container} \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\+\_\+models}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classns3_1_1EnergySource_a9713a3d997239bf17b3779694365e1a7}{m\+\_\+node}
\item 
std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1EnergyHarvester}{Energy\+Harvester} $>$ $>$ \hyperlink{classns3_1_1EnergySource_a691b18205f260bcd09fc09fedb4eca8d}{m\+\_\+harvesters}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Energy\+Source@{Energy\+Source}}
\index{Energy\+Source@{Energy\+Source}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Energy\+Source()}{EnergySource()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Energy\+Source\+::\+Energy\+Source (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EnergySource_a820794a417c3d2f7909f987ba6064cde}{}\label{classns3_1_1EnergySource_a820794a417c3d2f7909f987ba6064cde}

\begin{DoxyCode}
46 \{
47   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
48 \}
\end{DoxyCode}
\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!````~Energy\+Source@{$\sim$\+Energy\+Source}}
\index{````~Energy\+Source@{$\sim$\+Energy\+Source}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{$\sim$\+Energy\+Source()}{~EnergySource()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Energy\+Source\+::$\sim$\+Energy\+Source (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EnergySource_a3bbcac784333cd193aeaab94873fe9df}{}\label{classns3_1_1EnergySource_a3bbcac784333cd193aeaab94873fe9df}

\begin{DoxyCode}
51 \{
52   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
53 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Append\+Device\+Energy\+Model@{Append\+Device\+Energy\+Model}}
\index{Append\+Device\+Energy\+Model@{Append\+Device\+Energy\+Model}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Append\+Device\+Energy\+Model(\+Ptr$<$ Device\+Energy\+Model $>$ device\+Energy\+Model\+Ptr)}{AppendDeviceEnergyModel(Ptr< DeviceEnergyModel > deviceEnergyModelPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Energy\+Source\+::\+Append\+Device\+Energy\+Model (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Device\+Energy\+Model} $>$}]{device\+Energy\+Model\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EnergySource_a075fe242ae7523cc071752ab1b6b7c02}{}\label{classns3_1_1EnergySource_a075fe242ae7523cc071752ab1b6b7c02}

\begin{DoxyParams}{Parameters}
{\em device\+Energy\+Model\+Ptr} & Pointer to device energy model.\\
\hline
\end{DoxyParams}
This function appends a device energy model to the end of a list of Device\+Energy\+Model\+Info structs. 
\begin{DoxyCode}
72 \{
73   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << deviceEnergyModelPtr);
74   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (deviceEnergyModelPtr != NULL); \textcolor{comment}{// model must exist}
75   \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a26b884d9e349f58596eb5596868f0ab0}{Add} (deviceEnergyModelPtr);
76 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Break\+Device\+Energy\+Model\+Ref\+Cycle@{Break\+Device\+Energy\+Model\+Ref\+Cycle}}
\index{Break\+Device\+Energy\+Model\+Ref\+Cycle@{Break\+Device\+Energy\+Model\+Ref\+Cycle}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Break\+Device\+Energy\+Model\+Ref\+Cycle(void)}{BreakDeviceEnergyModelRefCycle(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Energy\+Source\+::\+Break\+Device\+Energy\+Model\+Ref\+Cycle (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1EnergySource_a7a91665a6b2e6a01bf6b4a641b53bd45}{}\label{classns3_1_1EnergySource_a7a91665a6b2e6a01bf6b4a641b53bd45}
This function is called to break reference cycle between \hyperlink{classns3_1_1EnergySource}{Energy\+Source} and \hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model}. Child of the \hyperlink{classns3_1_1EnergySource}{Energy\+Source} base class must call this function in their implementation of Do\+Dispose to make sure the reference cycle is broken.

Normally this work will be completed by the Do\+Dispose function. However it will be overridden in the child class. Hence we introduced this function. 
\begin{DoxyCode}
218 \{
219   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
220   \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_ae7952e38cc6957a941d9d03435db03d3}{Clear} ();
221   \hyperlink{classns3_1_1EnergySource_a691b18205f260bcd09fc09fedb4eca8d}{m\_harvesters}.clear ();
222   \hyperlink{classns3_1_1EnergySource_a9713a3d997239bf17b3779694365e1a7}{m\_node} = NULL;
223 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Calculate\+Total\+Current@{Calculate\+Total\+Current}}
\index{Calculate\+Total\+Current@{Calculate\+Total\+Current}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Calculate\+Total\+Current(void)}{CalculateTotalCurrent(void)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Energy\+Source\+::\+Calculate\+Total\+Current (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1EnergySource_ac8b121ba1389d5545705e52d1a6fd602}{}\label{classns3_1_1EnergySource_ac8b121ba1389d5545705e52d1a6fd602}
\begin{DoxyReturn}{Returns}
Total current draw from all Device\+Energy\+Models. 
\end{DoxyReturn}

\begin{DoxyCode}
165 \{
166   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
167   \textcolor{keywordtype}{double} totalCurrentA = 0.0;
168   \hyperlink{classns3_1_1DeviceEnergyModelContainer_a7e8b57fa36903db5c468cc8a8e00af3b}{DeviceEnergyModelContainer::Iterator} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
169   \textcolor{keywordflow}{for} (i = \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a4fe48a4bd94d73c3e8966771a4c23b11}{Begin} (); i != \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a2cedd9f88ba5587150d09d1e230cd4be}{End} (); i++)
170     \{
171       totalCurrentA += (*i)->GetCurrentA ();
172     \}
173   
174   \textcolor{keywordtype}{double} totalHarvestedPower = 0.0;
175   
176   std::vector< Ptr<EnergyHarvester> >::const\_iterator harvester;
177   \textcolor{keywordflow}{for} (harvester = \hyperlink{classns3_1_1EnergySource_a691b18205f260bcd09fc09fedb4eca8d}{m\_harvesters}.begin (); harvester != \hyperlink{classns3_1_1EnergySource_a691b18205f260bcd09fc09fedb4eca8d}{m\_harvesters}.end (); 
      harvester++)
178   \{
179     totalHarvestedPower += (*harvester)->GetPower ();
180   \}
181   
182   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"EnergySource("}<< \hyperlink{classns3_1_1EnergySource_acac258882d8c38efa49d1f6053eb97ae}{GetNode} ()->GetId () << \textcolor{stringliteral}{"): Total harvested power = "} 
      << totalHarvestedPower);
183 
184   \textcolor{keywordtype}{double} currentHarvestersA = totalHarvestedPower / \hyperlink{classns3_1_1EnergySource_a834c547d15a1e5a5295d833c7d542177}{GetSupplyVoltage} ();
185   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"EnergySource("}<< \hyperlink{classns3_1_1EnergySource_acac258882d8c38efa49d1f6053eb97ae}{GetNode} ()->GetId () << \textcolor{stringliteral}{"): Current from harvesters = 
      "} << currentHarvestersA);
186   
187   totalCurrentA -= currentHarvestersA;
188   
189   \textcolor{keywordflow}{return} totalCurrentA;
190 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Connect\+Energy\+Harvester@{Connect\+Energy\+Harvester}}
\index{Connect\+Energy\+Harvester@{Connect\+Energy\+Harvester}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Connect\+Energy\+Harvester(\+Ptr$<$ Energy\+Harvester $>$ energy\+Harvester\+Ptr)}{ConnectEnergyHarvester(Ptr< EnergyHarvester > energyHarvesterPtr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Energy\+Source\+::\+Connect\+Energy\+Harvester (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Energy\+Harvester} $>$}]{energy\+Harvester\+Ptr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EnergySource_a0b1d1080b0ab578cd2693e1029641d61}{}\label{classns3_1_1EnergySource_a0b1d1080b0ab578cd2693e1029641d61}

\begin{DoxyParams}{Parameters}
{\em energy\+Harvester\+Ptr} & Pointer to energy harvester.\\
\hline
\end{DoxyParams}
This function connect an energy harvester to the energy source. After the execution of this method, the pointer to the energy harvester is appended to the end of a vector of \hyperlink{classns3_1_1EnergyHarvester}{Energy\+Harvester} pointer. Note that the order in which different energy harvester are added to the energy source does not impact the simulation results. 
\begin{DoxyCode}
142 \{
143   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << energyHarvesterPtr);
144   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (energyHarvesterPtr != 0); \textcolor{comment}{// energy harvester must exist}
145   \hyperlink{classns3_1_1EnergySource_a691b18205f260bcd09fc09fedb4eca8d}{m\_harvesters}.push\_back (energyHarvesterPtr);
146 \}
\end{DoxyCode}
\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Dispose\+Device\+Models@{Dispose\+Device\+Models}}
\index{Dispose\+Device\+Models@{Dispose\+Device\+Models}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Dispose\+Device\+Models(void)}{DisposeDeviceModels(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Energy\+Source\+::\+Dispose\+Device\+Models (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EnergySource_a1da1997d065a1280fa71779ba930cce9}{}\label{classns3_1_1EnergySource_a1da1997d065a1280fa71779ba930cce9}
Calls Dispose () method of the device energy models. Device energy models are not aggregated to the node, therefore we need to manually start them here. Called by \hyperlink{classns3_1_1EnergySourceContainer}{Energy\+Source\+Container}, which is aggregated to the node. 
\begin{DoxyCode}
127 \{
128   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
129   \textcolor{comment}{/*}
130 \textcolor{comment}{   * Device models are not aggregated to the node, hence we have to manually}
131 \textcolor{comment}{   * call dispose method here.}
132 \textcolor{comment}{   */}
133   \hyperlink{classns3_1_1DeviceEnergyModelContainer_a7e8b57fa36903db5c468cc8a8e00af3b}{DeviceEnergyModelContainer::Iterator} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
134   \textcolor{keywordflow}{for} (i = \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a4fe48a4bd94d73c3e8966771a4c23b11}{Begin} (); i != \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a2cedd9f88ba5587150d09d1e230cd4be}{End} (); i++)
135     \{
136       (*i)->Dispose ();
137     \}
138 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Energy\+Source\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1EnergySource_adf10a9a0ac6bc62be24eea31a8c22a12}{}\label{classns3_1_1EnergySource_adf10a9a0ac6bc62be24eea31a8c22a12}
All child\textquotesingle{}s implementation must call Break\+Device\+Energy\+Model\+Ref\+Cycle to ensure reference cycles to \hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model} objects are broken.

Defined in \hyperlink{classns3_1_1Object}{ns3\+::\+Object} 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.



Reimplemented in \hyperlink{classns3_1_1RvBatteryModel_a9e659d4a7f9472fa53ccfbc0ef6a8c63}{ns3\+::\+Rv\+Battery\+Model}, \hyperlink{classns3_1_1LiIonEnergySource_a3687fbcb075b7ff5b261b0a4e3b12a08}{ns3\+::\+Li\+Ion\+Energy\+Source}, and \hyperlink{classns3_1_1BasicEnergySource_ae40ac69647863cc10a00d3a52699ac38}{ns3\+::\+Basic\+Energy\+Source}.


\begin{DoxyCode}
154 \{
155   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
156   \hyperlink{classns3_1_1EnergySource_a7a91665a6b2e6a01bf6b4a641b53bd45}{BreakDeviceEnergyModelRefCycle} ();
157 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Find\+Device\+Energy\+Models@{Find\+Device\+Energy\+Models}}
\index{Find\+Device\+Energy\+Models@{Find\+Device\+Energy\+Models}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Find\+Device\+Energy\+Models(\+Type\+Id tid)}{FindDeviceEnergyModels(TypeId tid)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Device\+Energy\+Model\+Container} ns3\+::\+Energy\+Source\+::\+Find\+Device\+Energy\+Models (
\begin{DoxyParamCaption}
\item[{{\bf Type\+Id}}]{tid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EnergySource_ad2be8bb25ea8bd09dc15f035fda7fd67}{}\label{classns3_1_1EnergySource_ad2be8bb25ea8bd09dc15f035fda7fd67}

\begin{DoxyParams}{Parameters}
{\em tid} & \hyperlink{classns3_1_1TypeId}{Type\+Id} of the \hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model} we are searching for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
List of pointers to \hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model} objects installed on node. 
\end{DoxyReturn}

\begin{DoxyCode}
80 \{
81   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << tid);
82   DeviceEnergyModelContainer container;
83   \hyperlink{classns3_1_1DeviceEnergyModelContainer_a7e8b57fa36903db5c468cc8a8e00af3b}{DeviceEnergyModelContainer::Iterator} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
84   \textcolor{keywordflow}{for} (i = \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a4fe48a4bd94d73c3e8966771a4c23b11}{Begin} (); i != \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a2cedd9f88ba5587150d09d1e230cd4be}{End} (); i++)
85     \{
86       \textcolor{keywordflow}{if} ((*i)->GetInstanceTypeId () == tid)
87         \{
88           container.Add (*i);
89         \}
90     \}
91   \textcolor{keywordflow}{return} container;
92 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Find\+Device\+Energy\+Models@{Find\+Device\+Energy\+Models}}
\index{Find\+Device\+Energy\+Models@{Find\+Device\+Energy\+Models}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Find\+Device\+Energy\+Models(std\+::string name)}{FindDeviceEnergyModels(std::string name)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Device\+Energy\+Model\+Container} ns3\+::\+Energy\+Source\+::\+Find\+Device\+Energy\+Models (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EnergySource_a555cada15ab2bc3c7847b96bc6763773}{}\label{classns3_1_1EnergySource_a555cada15ab2bc3c7847b96bc6763773}

\begin{DoxyParams}{Parameters}
{\em name} & name of the \hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model} we are searching for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
List of pointers to \hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model} objects installed on node. 
\end{DoxyReturn}

\begin{DoxyCode}
96 \{
97   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name});
98   DeviceEnergyModelContainer container;
99   \hyperlink{classns3_1_1DeviceEnergyModelContainer_a7e8b57fa36903db5c468cc8a8e00af3b}{DeviceEnergyModelContainer::Iterator} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
100   \textcolor{keywordflow}{for} (i = \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a4fe48a4bd94d73c3e8966771a4c23b11}{Begin} (); i != \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a2cedd9f88ba5587150d09d1e230cd4be}{End} (); i++)
101     \{
102       \textcolor{keywordflow}{if} ((*i)->GetInstanceTypeId ().GetName ().compare (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}) == 0)
103         \{
104           container.Add (*i);
105         \}
106     \}
107   \textcolor{keywordflow}{return} container;
108 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Get\+Energy\+Fraction@{Get\+Energy\+Fraction}}
\index{Get\+Energy\+Fraction@{Get\+Energy\+Fraction}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Get\+Energy\+Fraction(void)=0}{GetEnergyFraction(void)=0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual double ns3\+::\+Energy\+Source\+::\+Get\+Energy\+Fraction (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1EnergySource_acf39f7e41309ae58baf3f179263425c3}{}\label{classns3_1_1EnergySource_acf39f7e41309ae58baf3f179263425c3}
\begin{DoxyReturn}{Returns}
Energy fraction = remaining energy / initial energy \mbox{[}0, 1\mbox{]}
\end{DoxyReturn}
This function returns the percentage of energy left in the energy source. 

Implemented in \hyperlink{classns3_1_1LiIonEnergySource_aa3844868e0940b3aa5a7817388de7dd0}{ns3\+::\+Li\+Ion\+Energy\+Source}, \hyperlink{classns3_1_1RvBatteryModel_a38e73ce97ec3d6d1c996fe897d121060}{ns3\+::\+Rv\+Battery\+Model}, and \hyperlink{classns3_1_1BasicEnergySource_aa8f5de0d9c0707b8ae2a005f7a57680e}{ns3\+::\+Basic\+Energy\+Source}.

\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Get\+Initial\+Energy@{Get\+Initial\+Energy}}
\index{Get\+Initial\+Energy@{Get\+Initial\+Energy}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Get\+Initial\+Energy(void) const =0}{GetInitialEnergy(void) const =0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual double ns3\+::\+Energy\+Source\+::\+Get\+Initial\+Energy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1EnergySource_ae83935d4347fb88be5d823434a555365}{}\label{classns3_1_1EnergySource_ae83935d4347fb88be5d823434a555365}
\begin{DoxyReturn}{Returns}
Initial energy (capacity) of the energy source.
\end{DoxyReturn}
Set method is to be defined in child class only if necessary. For sources with a fixed initial energy (energy capacity), set method is not needed. 

Implemented in \hyperlink{classns3_1_1LiIonEnergySource_a94b5b14c757a4679ea74fb402c954ff3}{ns3\+::\+Li\+Ion\+Energy\+Source}, \hyperlink{classns3_1_1RvBatteryModel_a758f091570aee1b6618376217f6b3b19}{ns3\+::\+Rv\+Battery\+Model}, and \hyperlink{classns3_1_1BasicEnergySource_a416b12327490de666d341bf0cd4331ce}{ns3\+::\+Basic\+Energy\+Source}.



Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Get\+Node@{Get\+Node}}
\index{Get\+Node@{Get\+Node}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Get\+Node(void) const }{GetNode(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Node} $>$ ns3\+::\+Energy\+Source\+::\+Get\+Node (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1EnergySource_acac258882d8c38efa49d1f6053eb97ae}{}\label{classns3_1_1EnergySource_acac258882d8c38efa49d1f6053eb97ae}
\begin{DoxyReturn}{Returns}
Pointer to node containing this \hyperlink{classns3_1_1EnergySource}{Energy\+Source}.
\end{DoxyReturn}
When a subclass needs to get access to the underlying node base class to print the node\+Id for example, it can invoke this method. 
\begin{DoxyCode}
65 \{
66   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
67   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EnergySource_a9713a3d997239bf17b3779694365e1a7}{m\_node};
68 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Get\+Remaining\+Energy@{Get\+Remaining\+Energy}}
\index{Get\+Remaining\+Energy@{Get\+Remaining\+Energy}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Get\+Remaining\+Energy(void)=0}{GetRemainingEnergy(void)=0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual double ns3\+::\+Energy\+Source\+::\+Get\+Remaining\+Energy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1EnergySource_a61bab0597d0ea719643a525515a3f5f1}{}\label{classns3_1_1EnergySource_a61bab0597d0ea719643a525515a3f5f1}
\begin{DoxyReturn}{Returns}
Remaining energy at the energy source. 
\end{DoxyReturn}


Implemented in \hyperlink{classns3_1_1LiIonEnergySource_a519935a69b4b4b3f347855cee794d4d8}{ns3\+::\+Li\+Ion\+Energy\+Source}, \hyperlink{classns3_1_1RvBatteryModel_a7ab2862fe0f9006fecefe5ee8a5a1c52}{ns3\+::\+Rv\+Battery\+Model}, and \hyperlink{classns3_1_1BasicEnergySource_a35775aa9a2496255e9f075a9709886b0}{ns3\+::\+Basic\+Energy\+Source}.



Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Get\+Supply\+Voltage@{Get\+Supply\+Voltage}}
\index{Get\+Supply\+Voltage@{Get\+Supply\+Voltage}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Get\+Supply\+Voltage(void) const =0}{GetSupplyVoltage(void) const =0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual double ns3\+::\+Energy\+Source\+::\+Get\+Supply\+Voltage (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1EnergySource_a834c547d15a1e5a5295d833c7d542177}{}\label{classns3_1_1EnergySource_a834c547d15a1e5a5295d833c7d542177}
\begin{DoxyReturn}{Returns}
Supply voltage of the energy source.
\end{DoxyReturn}
Set method is to be defined in child class only if necessary. For sources with a fixed supply voltage, set method is not needed. 

Implemented in \hyperlink{classns3_1_1LiIonEnergySource_a48b2c773b3a8aaf1e95bccfa851ededb}{ns3\+::\+Li\+Ion\+Energy\+Source}, \hyperlink{classns3_1_1RvBatteryModel_afacc0bd74d865bdbfc51c515cff7efee}{ns3\+::\+Rv\+Battery\+Model}, and \hyperlink{classns3_1_1BasicEnergySource_a19f4054a9ae5f63216067b9ff7132ae6}{ns3\+::\+Basic\+Energy\+Source}.



Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Energy\+Source\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1EnergySource_afa2c35556f37551e8674e63bb3b97d21}{}\label{classns3_1_1EnergySource_afa2c35556f37551e8674e63bb3b97d21}

\begin{DoxyCode}
37 \{
38   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::EnergySource"})
39     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
40     .SetGroupName (\textcolor{stringliteral}{"Energy"})
41   ;
42   \textcolor{keywordflow}{return} tid;
43 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Initialize\+Device\+Models@{Initialize\+Device\+Models}}
\index{Initialize\+Device\+Models@{Initialize\+Device\+Models}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Initialize\+Device\+Models(void)}{InitializeDeviceModels(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Energy\+Source\+::\+Initialize\+Device\+Models (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EnergySource_aac5fe233a38918d36150b0af007c7ea8}{}\label{classns3_1_1EnergySource_aac5fe233a38918d36150b0af007c7ea8}
Calls Start () method of the device energy models. Device energy models are not aggregated to the node, therefore we need to manually start them here. Called by \hyperlink{classns3_1_1EnergySourceContainer}{Energy\+Source\+Container}, which is aggregated to the node. 
\begin{DoxyCode}
112 \{
113   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
114   \textcolor{comment}{/*}
115 \textcolor{comment}{   * Device models are not aggregated to the node, hence we have to manually}
116 \textcolor{comment}{   * call dispose method here.}
117 \textcolor{comment}{   */}
118   \hyperlink{classns3_1_1DeviceEnergyModelContainer_a7e8b57fa36903db5c468cc8a8e00af3b}{DeviceEnergyModelContainer::Iterator} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
119   \textcolor{keywordflow}{for} (i = \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a4fe48a4bd94d73c3e8966771a4c23b11}{Begin} (); i != \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a2cedd9f88ba5587150d09d1e230cd4be}{End} (); i++)
120     \{
121       (*i)->Initialize ();
122     \}
123 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Notify\+Energy\+Drained@{Notify\+Energy\+Drained}}
\index{Notify\+Energy\+Drained@{Notify\+Energy\+Drained}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Notify\+Energy\+Drained(void)}{NotifyEnergyDrained(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Energy\+Source\+::\+Notify\+Energy\+Drained (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1EnergySource_af93e047506b5bed57c14f10e28725e9f}{}\label{classns3_1_1EnergySource_af93e047506b5bed57c14f10e28725e9f}
This function notifies all \hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model} of energy depletion event. It is called by the child \hyperlink{classns3_1_1EnergySource}{Energy\+Source} class when energy depletion happens. 
\begin{DoxyCode}
194 \{
195   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
196   \textcolor{comment}{// notify all device energy models installed on node}
197   \hyperlink{classns3_1_1DeviceEnergyModelContainer_a7e8b57fa36903db5c468cc8a8e00af3b}{DeviceEnergyModelContainer::Iterator} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
198   \textcolor{keywordflow}{for} (i = \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a4fe48a4bd94d73c3e8966771a4c23b11}{Begin} (); i != \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a2cedd9f88ba5587150d09d1e230cd4be}{End} (); i++)
199     \{
200       (*i)->HandleEnergyDepletion ();
201     \}
202 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Notify\+Energy\+Recharged@{Notify\+Energy\+Recharged}}
\index{Notify\+Energy\+Recharged@{Notify\+Energy\+Recharged}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Notify\+Energy\+Recharged(void)}{NotifyEnergyRecharged(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Energy\+Source\+::\+Notify\+Energy\+Recharged (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1EnergySource_a184eb82e77cfc3ab7f9a1a577f34575d}{}\label{classns3_1_1EnergySource_a184eb82e77cfc3ab7f9a1a577f34575d}
This function notifies all \hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model} of energy recharged event. It is called by the child \hyperlink{classns3_1_1EnergySource}{Energy\+Source} class when energy source is recharged. 
\begin{DoxyCode}
206 \{
207   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
208   \textcolor{comment}{// notify all device energy models installed on node}
209   \hyperlink{classns3_1_1DeviceEnergyModelContainer_a7e8b57fa36903db5c468cc8a8e00af3b}{DeviceEnergyModelContainer::Iterator} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
210   \textcolor{keywordflow}{for} (i = \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a4fe48a4bd94d73c3e8966771a4c23b11}{Begin} (); i != \hyperlink{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{m\_models}.\hyperlink{classns3_1_1DeviceEnergyModelContainer_a2cedd9f88ba5587150d09d1e230cd4be}{End} (); i++)
211     \{
212       (*i)->HandleEnergyRecharged ();
213     \}
214 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 20




Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Set\+Node@{Set\+Node}}
\index{Set\+Node@{Set\+Node}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Set\+Node(\+Ptr$<$ Node $>$ node)}{SetNode(Ptr< Node > node)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Energy\+Source\+::\+Set\+Node (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EnergySource_ae6e7032250a3e851092cd6d0bc3716aa}{}\label{classns3_1_1EnergySource_ae6e7032250a3e851092cd6d0bc3716aa}


Sets pointer to node containing this \hyperlink{classns3_1_1EnergySource}{Energy\+Source}. 


\begin{DoxyParams}{Parameters}
{\em node} & Pointer to node containing this \hyperlink{classns3_1_1EnergySource}{Energy\+Source}. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
57 \{
58   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
59   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (node != NULL);
60   \hyperlink{classns3_1_1EnergySource_a9713a3d997239bf17b3779694365e1a7}{m\_node} = node;
61 \}
\end{DoxyCode}
\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!Update\+Energy\+Source@{Update\+Energy\+Source}}
\index{Update\+Energy\+Source@{Update\+Energy\+Source}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{Update\+Energy\+Source(void)=0}{UpdateEnergySource(void)=0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Energy\+Source\+::\+Update\+Energy\+Source (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1EnergySource_a528aca240cc8d85076982c5042a85e66}{}\label{classns3_1_1EnergySource_a528aca240cc8d85076982c5042a85e66}
This function goes through the list of Device\+Energy\+Models to obtain total current draw at the energy source and updates remaining energy. Called by Device\+Energy\+Models to inform \hyperlink{classns3_1_1EnergySource}{Energy\+Source} of a state change. 

Implemented in \hyperlink{classns3_1_1LiIonEnergySource_a189ac70234f5af2d1b1457ea43bd1b9f}{ns3\+::\+Li\+Ion\+Energy\+Source}, \hyperlink{classns3_1_1RvBatteryModel_ac0885eeb1b510ffe52531e7e68039d3e}{ns3\+::\+Rv\+Battery\+Model}, and \hyperlink{classns3_1_1BasicEnergySource_a184cad1de97de7162e18f976d987bdaf}{ns3\+::\+Basic\+Energy\+Source}.



\subsection{Member Data Documentation}
\index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!m\+\_\+harvesters@{m\+\_\+harvesters}}
\index{m\+\_\+harvesters@{m\+\_\+harvesters}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{m\+\_\+harvesters}{m_harvesters}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Ptr}$<${\bf Energy\+Harvester}$>$ $>$ ns3\+::\+Energy\+Source\+::m\+\_\+harvesters\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EnergySource_a691b18205f260bcd09fc09fedb4eca8d}{}\label{classns3_1_1EnergySource_a691b18205f260bcd09fc09fedb4eca8d}
Vector of \hyperlink{classns3_1_1EnergyHarvester}{Energy\+Harvester} pointer connected to the same energy source. This vector is used by the Calculate\+Total\+Current method to determine the total power provided by the energy harvesters connected to the energy source. \index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!m\+\_\+models@{m\+\_\+models}}
\index{m\+\_\+models@{m\+\_\+models}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{m\+\_\+models}{m_models}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Device\+Energy\+Model\+Container} ns3\+::\+Energy\+Source\+::m\+\_\+models\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}{}\label{classns3_1_1EnergySource_a82cef6362500415c287d0193ea136c5b}
List of device energy models installed on the same node. \index{ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}!m\+\_\+node@{m\+\_\+node}}
\index{m\+\_\+node@{m\+\_\+node}!ns3\+::\+Energy\+Source@{ns3\+::\+Energy\+Source}}
\subsubsection[{\texorpdfstring{m\+\_\+node}{m_node}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Node}$>$ ns3\+::\+Energy\+Source\+::m\+\_\+node\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EnergySource_a9713a3d997239bf17b3779694365e1a7}{}\label{classns3_1_1EnergySource_a9713a3d997239bf17b3779694365e1a7}
Pointer to node containing this \hyperlink{classns3_1_1EnergySource}{Energy\+Source}. Used by helper class to make sure device models are installed onto the corresponding node. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
energy/model/\hyperlink{energy-source_8h}{energy-\/source.\+h}\item 
energy/model/\hyperlink{energy-source_8cc}{energy-\/source.\+cc}\end{DoxyCompactItemize}
