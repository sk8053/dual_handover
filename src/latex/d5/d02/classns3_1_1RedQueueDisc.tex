\hypertarget{classns3_1_1RedQueueDisc}{}\section{ns3\+:\+:Red\+Queue\+Disc Class Reference}
\label{classns3_1_1RedQueueDisc}\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}


A R\+ED packet queue disc.  




{\ttfamily \#include $<$red-\/queue-\/disc.\+h$>$}



Inheritance diagram for ns3\+:\+:Red\+Queue\+Disc\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Red\+Queue\+Disc\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1RedQueueDisc_1_1Stats}{Stats}
\begin{DoxyCompactList}\small\item\em \hyperlink{structns3_1_1RedQueueDisc_1_1Stats}{Stats}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \{ \hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca875c18e83b2c08e443231f98a46f104c}{D\+T\+Y\+P\+E\+\_\+\+N\+O\+NE}, 
\hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca65211b6708c279be68d252f83012f2a9}{D\+T\+Y\+P\+E\+\_\+\+F\+O\+R\+C\+ED}, 
\hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca3facf8866765dbac0549784f2dbee8c3}{D\+T\+Y\+P\+E\+\_\+\+U\+N\+F\+O\+R\+C\+ED}
 \}\begin{DoxyCompactList}\small\item\em Drop types. \end{DoxyCompactList}
\item 
enum \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30}{Queue\+Disc\+Mode} \{ \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}{Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+P\+A\+C\+K\+E\+TS}, 
\hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+B\+Y\+T\+ES}
 \}\begin{DoxyCompactList}\small\item\em Enumeration of the modes supported in the class. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1RedQueueDisc_a0173a0792bb22425223a1d2dba185a6f}{Red\+Queue\+Disc} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1RedQueueDisc}{Red\+Queue\+Disc} Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1RedQueueDisc_a23a655d0ba66587d832899225c8cfcde}{$\sim$\+Red\+Queue\+Disc} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1RedQueueDisc_ac87e3eb66b4e47593dde63a4638ad02f}{Set\+Mode} (\hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30}{Queue\+Disc\+Mode} mode)
\begin{DoxyCompactList}\small\item\em Set the operating mode of this queue disc. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30}{Queue\+Disc\+Mode} \hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{Get\+Mode} (void)
\begin{DoxyCompactList}\small\item\em Get the operating mode of this queue disc. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_aa201a831b85c287a99d7a5e04455b463}{Get\+Queue\+Size} (void)
\begin{DoxyCompactList}\small\item\em Get the current value of the queue in bytes or packets. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1RedQueueDisc_a8fb1a23699ad8fcc955b58c5988bc949}{Set\+Ared\+Alpha} (double \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha})
\begin{DoxyCompactList}\small\item\em Set the alpha value to adapt m\+\_\+cur\+MaxP. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_adefdb5b123821bb0ee34221acdee4425}{Get\+Ared\+Alpha} (void)
\begin{DoxyCompactList}\small\item\em Get the alpha value to adapt m\+\_\+cur\+MaxP. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1RedQueueDisc_a1afbf8c26f597bd39328710e393de5f1}{Set\+Ared\+Beta} (double beta)
\begin{DoxyCompactList}\small\item\em Set the beta value to adapt m\+\_\+cur\+MaxP. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_ac934d60cb050e331eaa4b1f1d2291561}{Get\+Ared\+Beta} (void)
\begin{DoxyCompactList}\small\item\em Get the beta value to adapt m\+\_\+cur\+MaxP. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1RedQueueDisc_ab5348f5a688d4dff0602654f79d87477}{Set\+Queue\+Limit} (uint32\+\_\+t lim)
\begin{DoxyCompactList}\small\item\em Set the limit of the queue. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1RedQueueDisc_a1c5c1f25cda04d2b92254ff908715bdf}{Set\+Th} (double min\+Th, double max\+Th)
\begin{DoxyCompactList}\small\item\em Set the thresh limits of R\+ED. \end{DoxyCompactList}\item 
\hyperlink{structns3_1_1RedQueueDisc_1_1Stats}{Stats} \hyperlink{classns3_1_1RedQueueDisc_a02fcef6a7f74f0b0b0408f415ec5a1f5}{Get\+Stats} ()
\begin{DoxyCompactList}\small\item\em Get the R\+ED statistics after running. \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_a37e9660319f3c522f0767dcd974eb3c6}{Assign\+Streams} (int64\+\_\+t stream)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1RedQueueDisc_a21c255fe1a7f38a3250af49ef1dac963}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1RedQueueDisc_abacb7d43d9b3f20a59b5e4a57c7be8e2}{Do\+Dispose} (void)
\begin{DoxyCompactList}\small\item\em Dispose of the object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \hyperlink{classns3_1_1RedQueueDisc_ae0be138c29bf158336a7a74a90790c2a}{Do\+Enqueue} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1QueueDiscItem}{Queue\+Disc\+Item} $>$ item)
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1QueueDiscItem}{Queue\+Disc\+Item} $>$ \hyperlink{classns3_1_1RedQueueDisc_a166dbfb99b576f2ff6e1d1871b6afb14}{Do\+Dequeue} (void)
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1QueueDiscItem}{Queue\+Disc\+Item} $>$ \hyperlink{classns3_1_1RedQueueDisc_a351367bffb926ff50712cc269d8e3442}{Do\+Peek} (void) const 
\item 
virtual bool \hyperlink{classns3_1_1RedQueueDisc_a86e75c3ab20213f1451bdc7270d18114}{Check\+Config} (void)
\item 
virtual void \hyperlink{classns3_1_1RedQueueDisc_adac83b0cbf66f22a6176304b3907995e}{Initialize\+Params} (void)
\begin{DoxyCompactList}\small\item\em Initialize the queue parameters. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a980505235ac07d31352bcb1389039a95}{Estimator} (uint32\+\_\+t n\+Queued, uint32\+\_\+t m, double q\+Avg, double qW)
\begin{DoxyCompactList}\small\item\em Compute the average queue size. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1RedQueueDisc_ab4c71cfc5918817468028c99d0c6e456}{Update\+MaxP} (double new\+Ave)
\begin{DoxyCompactList}\small\item\em Update m\+\_\+cur\+MaxP. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_a8cf68bf93f0ad885f92e32c8269d33d3}{Drop\+Early} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1QueueDiscItem}{Queue\+Disc\+Item} $>$ item, uint32\+\_\+t q\+Size)
\begin{DoxyCompactList}\small\item\em Check if a packet needs to be dropped due to probability mark. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a46c9c2c961936c0423e28afd07a2c4cf}{Calculate\+P\+New} (double q\+Avg, double, bool gentle, double vA, double vB, double vC, double vD, double maxP)
\begin{DoxyCompactList}\small\item\em Returns a probability using these function parameters for the Drop\+Early function. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a70b8f8954389cbc428531803e24ed5ee}{ModifyP} (double \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p}, uint32\+\_\+t count, uint32\+\_\+t count\+Bytes, uint32\+\_\+t mean\+Pkt\+Size, bool wait, uint32\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Returns a probability using these function parameters for the Drop\+Early function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structns3_1_1RedQueueDisc_1_1Stats}{Stats} \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\+\_\+stats}
\begin{DoxyCompactList}\small\item\em R\+ED statistics. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30}{Queue\+Disc\+Mode} \hyperlink{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}{m\+\_\+mode}
\begin{DoxyCompactList}\small\item\em Mode (Bytes or packets) \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_a70edac67edac4ce7c4a7d4325cf1e409}{m\+\_\+mean\+Pkt\+Size}
\begin{DoxyCompactList}\small\item\em Avg pkt size. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_ae09362adeaa13f9612b39dc7d76ed2cd}{m\+\_\+idle\+Pkt\+Size}
\begin{DoxyCompactList}\small\item\em Avg pkt size used during idle times. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1RedQueueDisc_a581b90ab14e1387a63b11dd7d03a3e00}{m\+\_\+is\+Wait}
\begin{DoxyCompactList}\small\item\em True for waiting between dropped packets. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1RedQueueDisc_ad9c91813fb21151ac137681a2b1fb0c8}{m\+\_\+is\+Gentle}
\begin{DoxyCompactList}\small\item\em True to increases dropping prob. slowly when ave queue exceeds maxthresh. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1RedQueueDisc_a27b33901dccd8e52d8cbe9798ea70139}{m\+\_\+is\+A\+R\+ED}
\begin{DoxyCompactList}\small\item\em True to enable Adaptive R\+ED. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1RedQueueDisc_a1bb942ecdce8c8c2eb9953f67ae9a0da}{m\+\_\+is\+Adapt\+MaxP}
\begin{DoxyCompactList}\small\item\em True to adapt m\+\_\+cur\+MaxP. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\+\_\+min\+Th}
\begin{DoxyCompactList}\small\item\em Min avg length threshold (bytes) \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\+\_\+max\+Th}
\begin{DoxyCompactList}\small\item\em Max avg length threshold (bytes), should be $>$= 2$\ast$min\+Th. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_a421aec8e4b8cca06d16bfc5f8def2623}{m\+\_\+queue\+Limit}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Queue}{Queue} limit in bytes / packets. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\+\_\+qW}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Queue}{Queue} weight given to cur queue size sample. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a7ac61b7250a5d9af2fcba2a55e0d3256}{m\+\_\+l\+Interm}
\begin{DoxyCompactList}\small\item\em The max probability of dropping a packet. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1RedQueueDisc_aa0467c2e9ccdeb445fcd5e876669a3f2}{m\+\_\+target\+Delay}
\begin{DoxyCompactList}\small\item\em Target average queuing delay in A\+R\+ED. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1RedQueueDisc_a2b9b3cdf14386d08677f62199489d688}{m\+\_\+interval}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Time}{Time} interval to update m\+\_\+cur\+MaxP. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a6df2255795fef0607a0e5ea99d9bf3f3}{m\+\_\+top}
\begin{DoxyCompactList}\small\item\em Upper bound for m\+\_\+cur\+MaxP in A\+R\+ED. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a9a3204c76843c255e25de29ecca1a0b1}{m\+\_\+bottom}
\begin{DoxyCompactList}\small\item\em Lower bound for m\+\_\+cur\+MaxP in A\+R\+ED. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a223d0381a0e067df135de67e1b261174}{m\+\_\+alpha}
\begin{DoxyCompactList}\small\item\em Increment parameter for m\+\_\+cur\+MaxP in A\+R\+ED. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a7a31e5c2df52ee2da677fd6a4c4ff585}{m\+\_\+beta}
\begin{DoxyCompactList}\small\item\em Decrement parameter for m\+\_\+cur\+MaxP in A\+R\+ED. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1RedQueueDisc_a0944decd57a23297aaa1fa0d4cbb0e7b}{m\+\_\+rtt}
\begin{DoxyCompactList}\small\item\em Rtt to be considered while automatically setting m\+\_\+bottom in A\+R\+ED. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1RedQueueDisc_a9586d035322ac6e72918bc884a5b017e}{m\+\_\+is\+Ns1\+Compat}
\begin{DoxyCompactList}\small\item\em Ns-\/1 compatibility. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1DataRate}{Data\+Rate} \hyperlink{classns3_1_1RedQueueDisc_a036e8100b2bc17d9b7c3bf5184126f95}{m\+\_\+link\+Bandwidth}
\begin{DoxyCompactList}\small\item\em Link bandwidth. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1RedQueueDisc_a0109dcd4dab3f32348454bc24c991683}{m\+\_\+link\+Delay}
\begin{DoxyCompactList}\small\item\em Link delay. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1RedQueueDisc_a58b23b6b5bda347f158108859bab4404}{m\+\_\+use\+Ecn}
\begin{DoxyCompactList}\small\item\em True if E\+CN is used (packets are marked instead of being dropped) \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1RedQueueDisc_a4338af4ddd64c4b11b029eb31728d0ba}{m\+\_\+use\+Hard\+Drop}
\begin{DoxyCompactList}\small\item\em True if packets are always dropped above max threshold. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a1f46b551657e62ae3064e392fdd6535b}{m\+\_\+v\+Prob1}
\begin{DoxyCompactList}\small\item\em Prob. of packet drop before \char`\"{}count\char`\"{}. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a03f1bf584c3f8f07a33719f54b73dd76}{m\+\_\+vA}
\begin{DoxyCompactList}\small\item\em 1.\+0 / (m\+\_\+max\+Th -\/ m\+\_\+min\+Th) \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_a983ababdb1d4eecd65c2f08af7ab5cd3}{m\+\_\+vB}
\begin{DoxyCompactList}\small\item\em -\/m\+\_\+min\+Th / (m\+\_\+max\+Th -\/ m\+\_\+min\+Th) \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_ae06b2dbe2b79013c1b7682bbda4fd182}{m\+\_\+vC}
\begin{DoxyCompactList}\small\item\em (1.\+0 -\/ m\+\_\+cur\+MaxP) / m\+\_\+max\+Th -\/ used in \char`\"{}gentle\char`\"{} mode \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_ace5d2581758baa698fc2e5ebe4842026}{m\+\_\+vD}
\begin{DoxyCompactList}\small\item\em 2.\+0 $\ast$ m\+\_\+cur\+MaxP -\/ 1.\+0 -\/ used in \char`\"{}gentle\char`\"{} mode \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\+\_\+cur\+MaxP}
\begin{DoxyCompactList}\small\item\em Current max\+\_\+p. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1RedQueueDisc_a9ccc3f308a4f15ae970499e7545b360f}{m\+\_\+last\+Set}
\begin{DoxyCompactList}\small\item\em Last time m\+\_\+cur\+MaxP was updated. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_aa24ff74b774ceb929bc49fe289fbf31c}{m\+\_\+v\+Prob}
\begin{DoxyCompactList}\small\item\em Prob. of packet drop. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_a7bcb375212b9757440dd9cf3e8f1ab5b}{m\+\_\+count\+Bytes}
\begin{DoxyCompactList}\small\item\em Number of bytes since last drop. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_a4a559e37f94d5f957a436fdcadd18bbb}{m\+\_\+old}
\begin{DoxyCompactList}\small\item\em 0 when average queue first exceeds threshold \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_ac7afefb55642b1fdc733d017448e5234}{m\+\_\+idle}
\begin{DoxyCompactList}\small\item\em 0/1 idle status \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\+\_\+ptc}
\begin{DoxyCompactList}\small\item\em packet time constant in packets/second \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\+\_\+q\+Avg}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Average}{Average} queue length. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_ac096c7624d6d921f4612e6e1852193f7}{m\+\_\+count}
\begin{DoxyCompactList}\small\item\em Number of packets since last random number generation. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1RedQueueDisc_a2156a26538fe0259220ca9e57c829c34}{m\+\_\+cautious}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1RedQueueDisc_a004c1bec6f513969e91ddd353bd336e2}{m\+\_\+idle\+Time}
\begin{DoxyCompactList}\small\item\em Start of current idle period. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UniformRandomVariable}{Uniform\+Random\+Variable} $>$ \hyperlink{classns3_1_1RedQueueDisc_ac8e5d222b2cbd02e3e940e129f36c76c}{m\+\_\+uv}
\begin{DoxyCompactList}\small\item\em rng stream \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A R\+ED packet queue disc. 

\subsection{Member Enumeration Documentation}
\subsubsection[{\texorpdfstring{anonymous enum}{anonymous enum}}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}\hypertarget{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0c}{}\label{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0c}


Drop types. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{D\+T\+Y\+P\+E\+\_\+\+N\+O\+NE@{D\+T\+Y\+P\+E\+\_\+\+N\+O\+NE}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!D\+T\+Y\+P\+E\+\_\+\+N\+O\+NE@{D\+T\+Y\+P\+E\+\_\+\+N\+O\+NE}}\item[{\em 
D\+T\+Y\+P\+E\+\_\+\+N\+O\+NE\hypertarget{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca875c18e83b2c08e443231f98a46f104c}{}\label{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca875c18e83b2c08e443231f98a46f104c}
}]Ok, no drop. \index{D\+T\+Y\+P\+E\+\_\+\+F\+O\+R\+C\+ED@{D\+T\+Y\+P\+E\+\_\+\+F\+O\+R\+C\+ED}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!D\+T\+Y\+P\+E\+\_\+\+F\+O\+R\+C\+ED@{D\+T\+Y\+P\+E\+\_\+\+F\+O\+R\+C\+ED}}\item[{\em 
D\+T\+Y\+P\+E\+\_\+\+F\+O\+R\+C\+ED\hypertarget{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca65211b6708c279be68d252f83012f2a9}{}\label{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca65211b6708c279be68d252f83012f2a9}
}]A \char`\"{}forced\char`\"{} drop. \index{D\+T\+Y\+P\+E\+\_\+\+U\+N\+F\+O\+R\+C\+ED@{D\+T\+Y\+P\+E\+\_\+\+U\+N\+F\+O\+R\+C\+ED}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!D\+T\+Y\+P\+E\+\_\+\+U\+N\+F\+O\+R\+C\+ED@{D\+T\+Y\+P\+E\+\_\+\+U\+N\+F\+O\+R\+C\+ED}}\item[{\em 
D\+T\+Y\+P\+E\+\_\+\+U\+N\+F\+O\+R\+C\+ED\hypertarget{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca3facf8866765dbac0549784f2dbee8c3}{}\label{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca3facf8866765dbac0549784f2dbee8c3}
}]An \char`\"{}unforced\char`\"{} (random) drop. \end{description}
\end{Desc}

\begin{DoxyCode}
117   \{
118     \hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca875c18e83b2c08e443231f98a46f104c}{DTYPE\_NONE},        
119     \hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca65211b6708c279be68d252f83012f2a9}{DTYPE\_FORCED},      
120     \hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca3facf8866765dbac0549784f2dbee8c3}{DTYPE\_UNFORCED},    
121   \};
\end{DoxyCode}
\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Queue\+Disc\+Mode@{Queue\+Disc\+Mode}}
\index{Queue\+Disc\+Mode@{Queue\+Disc\+Mode}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Queue\+Disc\+Mode}{QueueDiscMode}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf ns3\+::\+Red\+Queue\+Disc\+::\+Queue\+Disc\+Mode}}\hypertarget{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30}{}\label{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30}


Enumeration of the modes supported in the class. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+P\+A\+C\+K\+E\+TS@{Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+P\+A\+C\+K\+E\+TS}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+P\+A\+C\+K\+E\+TS@{Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+P\+A\+C\+K\+E\+TS}}\item[{\em 
Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+P\+A\+C\+K\+E\+TS\hypertarget{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}{}\label{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}
}]Use number of packets for maximum queue disc size \index{Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+B\+Y\+T\+ES@{Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+B\+Y\+T\+ES}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+B\+Y\+T\+ES@{Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+B\+Y\+T\+ES}}\item[{\em 
Q\+U\+E\+U\+E\+\_\+\+D\+I\+S\+C\+\_\+\+M\+O\+D\+E\+\_\+\+B\+Y\+T\+ES\hypertarget{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{}\label{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}
}]Use number of bytes for maximum queue disc size \end{description}
\end{Desc}

\begin{DoxyCode}
128   \{
129     \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}{QUEUE\_DISC\_MODE\_PACKETS},     
130     \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{QUEUE\_DISC\_MODE\_BYTES},       
131   \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Red\+Queue\+Disc@{Red\+Queue\+Disc}}
\index{Red\+Queue\+Disc@{Red\+Queue\+Disc}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Red\+Queue\+Disc()}{RedQueueDisc()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Red\+Queue\+Disc\+::\+Red\+Queue\+Disc (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_a0173a0792bb22425223a1d2dba185a6f}{}\label{classns3_1_1RedQueueDisc_a0173a0792bb22425223a1d2dba185a6f}


\hyperlink{classns3_1_1RedQueueDisc}{Red\+Queue\+Disc} Constructor. 

Create a R\+ED queue disc 
\begin{DoxyCode}
212                             :
213   \hyperlink{classns3_1_1QueueDisc_a0e328ad3196b7d16783b8680722381d6}{QueueDisc} ()
214 \{
215   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
216   \hyperlink{classns3_1_1RedQueueDisc_ac8e5d222b2cbd02e3e940e129f36c76c}{m\_uv} = CreateObject<UniformRandomVariable> ();
217 \}
\end{DoxyCode}
\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!````~Red\+Queue\+Disc@{$\sim$\+Red\+Queue\+Disc}}
\index{````~Red\+Queue\+Disc@{$\sim$\+Red\+Queue\+Disc}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{$\sim$\+Red\+Queue\+Disc()}{~RedQueueDisc()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Red\+Queue\+Disc\+::$\sim$\+Red\+Queue\+Disc (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1RedQueueDisc_a23a655d0ba66587d832899225c8cfcde}{}\label{classns3_1_1RedQueueDisc_a23a655d0ba66587d832899225c8cfcde}


Destructor. 

Destructor 
\begin{DoxyCode}
220 \{
221   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
222 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Assign\+Streams@{Assign\+Streams}}
\index{Assign\+Streams@{Assign\+Streams}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Assign\+Streams(int64\+\_\+t stream)}{AssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_a37e9660319f3c522f0767dcd974eb3c6}{}\label{classns3_1_1RedQueueDisc_a37e9660319f3c522f0767dcd974eb3c6}
Assign a fixed random variable stream number to the random variables used by this model. Return the number of streams (possibly zero) that have been assigned.


\begin{DoxyParams}{Parameters}
{\em stream} & first stream index to use \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of stream indices assigned by this model 
\end{DoxyReturn}

\begin{DoxyCode}
309 \{
310   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << stream);
311   \hyperlink{classns3_1_1RedQueueDisc_ac8e5d222b2cbd02e3e940e129f36c76c}{m\_uv}->\hyperlink{classns3_1_1RandomVariableStream_add11aaf975607746b7e271d300659a94}{SetStream} (stream);
312   \textcolor{keywordflow}{return} 1;
313 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Calculate\+P\+New@{Calculate\+P\+New}}
\index{Calculate\+P\+New@{Calculate\+P\+New}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Calculate\+P\+New(double q\+Avg, double, bool gentle, double v\+A, double v\+B, double v\+C, double v\+D, double max\+P)}{CalculatePNew(double qAvg, double, bool gentle, double vA, double vB, double vC, double vD, double maxP)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::\+Calculate\+P\+New (
\begin{DoxyParamCaption}
\item[{double}]{q\+Avg, }
\item[{double}]{max\+Th, }
\item[{bool}]{gentle, }
\item[{double}]{vA, }
\item[{double}]{vB, }
\item[{double}]{vC, }
\item[{double}]{vD, }
\item[{double}]{maxP}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a46c9c2c961936c0423e28afd07a2c4cf}{}\label{classns3_1_1RedQueueDisc_a46c9c2c961936c0423e28afd07a2c4cf}


Returns a probability using these function parameters for the Drop\+Early function. 


\begin{DoxyParams}{Parameters}
{\em q\+Avg} & \hyperlink{classns3_1_1Average}{Average} queue length \\
\hline
{\em max\+Th} & Max avg length threshold \\
\hline
{\em gentle} & \char`\"{}gentle\char`\"{} algorithm \\
\hline
{\em vA} & vA \\
\hline
{\em vB} & vB \\
\hline
{\em vC} & vC \\
\hline
{\em vD} & vD \\
\hline
{\em maxP} & max\+\_\+p \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Prob. of packet drop before \char`\"{}count\char`\"{} 
\end{DoxyReturn}

\begin{DoxyCode}
682 \{
683   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << qAvg << maxTh << isGentle << vA << vB << vC << vD << maxP);
684   \textcolor{keywordtype}{double} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
685 
686   \textcolor{keywordflow}{if} (isGentle && qAvg >= maxTh)
687     \{
688       \textcolor{comment}{// p ranges from maxP to 1 as the average queue}
689       \textcolor{comment}{// Size ranges from maxTh to twice maxTh}
690       p = vC * qAvg + vD;
691     \}
692   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!isGentle && qAvg >= maxTh)
693     \{
694       \textcolor{comment}{/* }
695 \textcolor{comment}{       * OLD: p continues to range linearly above max\_p as}
696 \textcolor{comment}{       * the average queue size ranges above th\_max.}
697 \textcolor{comment}{       * NEW: p is set to 1.0}
698 \textcolor{comment}{       */}
699       p = 1.0;
700     \}
701   \textcolor{keywordflow}{else}
702     \{
703       \textcolor{comment}{/*}
704 \textcolor{comment}{       * p ranges from 0 to max\_p as the average queue size ranges from}
705 \textcolor{comment}{       * th\_min to th\_max}
706 \textcolor{comment}{       */}
707       p = vA * qAvg + vB;
708       p *= maxP;
709     \}
710 
711   \textcolor{keywordflow}{if} (p > 1.0)
712     \{
713       p = 1.0;
714     \}
715 
716   \textcolor{keywordflow}{return} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
717 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Check\+Config@{Check\+Config}}
\index{Check\+Config@{Check\+Config}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Check\+Config(void)}{CheckConfig(void)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Red\+Queue\+Disc\+::\+Check\+Config (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1RedQueueDisc_a86e75c3ab20213f1451bdc7270d18114}{}\label{classns3_1_1RedQueueDisc_a86e75c3ab20213f1451bdc7270d18114}
Check whether the current configuration is correct. Default objects (such as internal queues) might be created by this method to ensure the configuration is correct. \begin{DoxyReturn}{Returns}
true if the configuration is correct, false otherwise 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1QueueDisc_ace6ef0c9afd0954c4629ad454bf975f5}{ns3\+::\+Queue\+Disc}.


\begin{DoxyCode}
837 \{
838   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
839   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1QueueDisc_a8165c6afde992b073bc4d3bb283ed138}{GetNQueueDiscClasses} () > 0)
840     \{
841       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"RedQueueDisc cannot have classes"});
842       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
843     \}
844 
845   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1QueueDisc_aff24dd5be3fe3aa46b88c00659e09b23}{GetNPacketFilters} () > 0)
846     \{
847       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"RedQueueDisc cannot have packet filters"});
848       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
849     \}
850 
851   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1QueueDisc_a98e658dc1b0b32104ffc9e07afd205c6}{GetNInternalQueues} () == 0)
852     \{
853       \textcolor{comment}{// create a DropTail queue}
854       Ptr<InternalQueue> queue = CreateObjectWithAttributes<DropTailQueue<QueueDiscItem> > (\textcolor{stringliteral}{"Mode"}, 
      EnumValue (\hyperlink{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}{m\_mode}));
855       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}{m\_mode} == \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}{QUEUE\_DISC\_MODE\_PACKETS})
856         \{
857           queue->SetMaxPackets (\hyperlink{classns3_1_1RedQueueDisc_a421aec8e4b8cca06d16bfc5f8def2623}{m\_queueLimit});
858         \}
859       \textcolor{keywordflow}{else}
860         \{
861           queue->SetMaxBytes (\hyperlink{classns3_1_1RedQueueDisc_a421aec8e4b8cca06d16bfc5f8def2623}{m\_queueLimit});
862         \}
863       \hyperlink{classns3_1_1QueueDisc_a0599223e2a3976ef042a56c2923a2b61}{AddInternalQueue} (queue);
864     \}
865 
866   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1QueueDisc_a98e658dc1b0b32104ffc9e07afd205c6}{GetNInternalQueues} () != 1)
867     \{
868       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"RedQueueDisc needs 1 internal queue"});
869       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
870     \}
871 
872   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->\hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{GetMode} () == 
      \hyperlink{classns3_1_1QueueBase_adc473162c2a2bcb3d76d151d6d7ee02aa68a809be7a09a4c4c7d8feb37f2f7a9d}{QueueBase::QUEUE\_MODE\_PACKETS} && \hyperlink{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}{m\_mode} == 
      \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{QUEUE\_DISC\_MODE\_BYTES}) ||
873       (\hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->\hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{GetMode} () == 
      \hyperlink{classns3_1_1QueueBase_adc473162c2a2bcb3d76d151d6d7ee02aa141eeb76bf0704ba0fdb23b04ffc3453}{QueueBase::QUEUE\_MODE\_BYTES} && \hyperlink{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}{m\_mode} == 
      \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}{QUEUE\_DISC\_MODE\_PACKETS}))
874     \{
875       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"The mode of the provided queue does not match the mode set on the
       RedQueueDisc"});
876       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
877     \}
878 
879   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}{m\_mode} ==  \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}{QUEUE\_DISC\_MODE\_PACKETS} && 
      \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->GetMaxPackets () < \hyperlink{classns3_1_1RedQueueDisc_a421aec8e4b8cca06d16bfc5f8def2623}{m\_queueLimit}) ||
880       (\hyperlink{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}{m\_mode} ==  \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{QUEUE\_DISC\_MODE\_BYTES} && 
      \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->GetMaxBytes () < \hyperlink{classns3_1_1RedQueueDisc_a421aec8e4b8cca06d16bfc5f8def2623}{m\_queueLimit}))
881     \{
882       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"The size of the internal queue is less than the queue disc limit"});
883       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
884     \}
885 
886   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
887 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Do\+Dequeue@{Do\+Dequeue}}
\index{Do\+Dequeue@{Do\+Dequeue}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Do\+Dequeue(void)}{DoDequeue(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Queue\+Disc\+Item} $>$ ns3\+::\+Red\+Queue\+Disc\+::\+Do\+Dequeue (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1RedQueueDisc_a166dbfb99b576f2ff6e1d1871b6afb14}{}\label{classns3_1_1RedQueueDisc_a166dbfb99b576f2ff6e1d1871b6afb14}
This function actually extracts a packet from the queue disc. \begin{DoxyReturn}{Returns}
0 if the operation was not successful; the item otherwise. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1QueueDisc_afefae1a05f45db101c2c75d67a440c63}{ns3\+::\+Queue\+Disc}.


\begin{DoxyCode}
792 \{
793   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
794 
795   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->IsEmpty ())
796     \{
797       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Queue empty"});
798       \hyperlink{classns3_1_1RedQueueDisc_ac7afefb55642b1fdc733d017448e5234}{m\_idle} = 1;
799       \hyperlink{classns3_1_1RedQueueDisc_a004c1bec6f513969e91ddd353bd336e2}{m\_idleTime} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
800 
801       \textcolor{keywordflow}{return} 0;
802     \}
803   \textcolor{keywordflow}{else}
804     \{
805       \hyperlink{classns3_1_1RedQueueDisc_ac7afefb55642b1fdc733d017448e5234}{m\_idle} = 0;
806       Ptr<QueueDiscItem> item = \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->Dequeue ();
807 
808       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Popped "} << item);
809 
810       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Number packets "} << \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->
      \hyperlink{classns3_1_1QueueDisc_a6ee992f32c1671512f0948fd6cc46a7e}{GetNPackets} ());
811       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Number bytes "} << \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->
      \hyperlink{classns3_1_1QueueDisc_ac87d3bbf7381d64808f6764bdfd812e5}{GetNBytes} ());
812 
813       \textcolor{keywordflow}{return} item;
814     \}
815 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Red\+Queue\+Disc\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1RedQueueDisc_abacb7d43d9b3f20a59b5e4a57c7be8e2}{}\label{classns3_1_1RedQueueDisc_abacb7d43d9b3f20a59b5e4a57c7be8e2}


Dispose of the object. 



Reimplemented from \hyperlink{classns3_1_1QueueDisc_ad2eafba04edabab10bc6ea9d5ea273e1}{ns3\+::\+Queue\+Disc}.


\begin{DoxyCode}
226 \{
227   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
228   \hyperlink{classns3_1_1RedQueueDisc_ac8e5d222b2cbd02e3e940e129f36c76c}{m\_uv} = 0;
229   \hyperlink{classns3_1_1QueueDisc_ad2eafba04edabab10bc6ea9d5ea273e1}{QueueDisc::DoDispose} ();
230 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Do\+Enqueue@{Do\+Enqueue}}
\index{Do\+Enqueue@{Do\+Enqueue}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Do\+Enqueue(\+Ptr$<$ Queue\+Disc\+Item $>$ item)}{DoEnqueue(Ptr< QueueDiscItem > item)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Red\+Queue\+Disc\+::\+Do\+Enqueue (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Queue\+Disc\+Item} $>$}]{item}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1RedQueueDisc_ae0be138c29bf158336a7a74a90790c2a}{}\label{classns3_1_1RedQueueDisc_ae0be138c29bf158336a7a74a90790c2a}
This function actually enqueues a packet into the queue disc. 
\begin{DoxyParams}{Parameters}
{\em item} & item to enqueue \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the operation was successful; false otherwise 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1QueueDisc_a22d77d2ec26e6fe5476d976d9d5e3a66}{ns3\+::\+Queue\+Disc}.


\begin{DoxyCode}
317 \{
318   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << item);
319 
320   uint32\_t nQueued = 0;
321 
322   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{GetMode} () == \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{QUEUE\_DISC\_MODE\_BYTES})
323     \{
324       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Enqueue in bytes mode"});
325       nQueued = \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->GetNBytes ();
326     \}
327   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{GetMode} () == \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}{QUEUE\_DISC\_MODE\_PACKETS})
328     \{
329       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Enqueue in packets mode"});
330       nQueued = \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->GetNPackets ();
331     \}
332 
333   \textcolor{comment}{// simulate number of packets arrival during idle period}
334   uint32\_t m = 0;
335 
336   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_ac7afefb55642b1fdc733d017448e5234}{m\_idle} == 1)
337     \{
338       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"RED Queue Disc is idle."});
339       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} now = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
340 
341       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a2156a26538fe0259220ca9e57c829c34}{m\_cautious} == 3)
342         \{
343           \textcolor{keywordtype}{double} ptc = \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc} * \hyperlink{classns3_1_1RedQueueDisc_a70edac67edac4ce7c4a7d4325cf1e409}{m\_meanPktSize} / \hyperlink{classns3_1_1RedQueueDisc_ae09362adeaa13f9612b39dc7d76ed2cd}{m\_idlePktSize};
344           m = uint32\_t (ptc * (now - \hyperlink{classns3_1_1RedQueueDisc_a004c1bec6f513969e91ddd353bd336e2}{m\_idleTime}).GetSeconds ());
345         \}
346       \textcolor{keywordflow}{else}
347         \{
348           m = uint32\_t (\hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc} * (now - \hyperlink{classns3_1_1RedQueueDisc_a004c1bec6f513969e91ddd353bd336e2}{m\_idleTime}).GetSeconds ());
349         \}
350 
351       \hyperlink{classns3_1_1RedQueueDisc_ac7afefb55642b1fdc733d017448e5234}{m\_idle} = 0;
352     \}
353 
354   \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg} = \hyperlink{classns3_1_1RedQueueDisc_a980505235ac07d31352bcb1389039a95}{Estimator} (nQueued, m + 1, \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg}, \hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW});
355 
356   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"\(\backslash\)t bytesInQueue  "} << \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->
      \hyperlink{classns3_1_1QueueDisc_ac87d3bbf7381d64808f6764bdfd812e5}{GetNBytes} () << \textcolor{stringliteral}{"\(\backslash\)tQavg "} << \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg});
357   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"\(\backslash\)t packetsInQueue  "} << \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->
      \hyperlink{classns3_1_1QueueDisc_a6ee992f32c1671512f0948fd6cc46a7e}{GetNPackets} () << \textcolor{stringliteral}{"\(\backslash\)tQavg "} << \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg});
358 
359   \hyperlink{classns3_1_1RedQueueDisc_ac096c7624d6d921f4612e6e1852193f7}{m\_count}++;
360   \hyperlink{classns3_1_1RedQueueDisc_a7bcb375212b9757440dd9cf3e8f1ab5b}{m\_countBytes} += item->GetSize ();
361 
362   uint32\_t dropType = \hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca875c18e83b2c08e443231f98a46f104c}{DTYPE\_NONE};
363   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg} >= \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} && nQueued > 1)
364     \{
365       \textcolor{keywordflow}{if} ((!\hyperlink{classns3_1_1RedQueueDisc_ad9c91813fb21151ac137681a2b1fb0c8}{m\_isGentle} && \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg} >= \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh}) ||
366           (\hyperlink{classns3_1_1RedQueueDisc_ad9c91813fb21151ac137681a2b1fb0c8}{m\_isGentle} && \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg} >= 2 * \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh}))
367         \{
368           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"adding DROP FORCED MARK"});
369           dropType = \hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca65211b6708c279be68d252f83012f2a9}{DTYPE\_FORCED};
370         \}
371       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a4a559e37f94d5f957a436fdcadd18bbb}{m\_old} == 0)
372         \{
373           \textcolor{comment}{/* }
374 \textcolor{comment}{           * The average queue size has just crossed the}
375 \textcolor{comment}{           * threshold from below to above "minthresh", or}
376 \textcolor{comment}{           * from above "minthresh" with an empty queue to}
377 \textcolor{comment}{           * above "minthresh" with a nonempty queue.}
378 \textcolor{comment}{           */}
379           \hyperlink{classns3_1_1RedQueueDisc_ac096c7624d6d921f4612e6e1852193f7}{m\_count} = 1;
380           \hyperlink{classns3_1_1RedQueueDisc_a7bcb375212b9757440dd9cf3e8f1ab5b}{m\_countBytes} = item->GetSize ();
381           \hyperlink{classns3_1_1RedQueueDisc_a4a559e37f94d5f957a436fdcadd18bbb}{m\_old} = 1;
382         \}
383       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a8cf68bf93f0ad885f92e32c8269d33d3}{DropEarly} (item, nQueued))
384         \{
385           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"DropEarly returns 1"});
386           dropType = \hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca3facf8866765dbac0549784f2dbee8c3}{DTYPE\_UNFORCED};
387         \}
388     \}
389   \textcolor{keywordflow}{else} 
390     \{
391       \textcolor{comment}{// No packets are being dropped}
392       \hyperlink{classns3_1_1RedQueueDisc_aa24ff74b774ceb929bc49fe289fbf31c}{m\_vProb} = 0.0;
393       \hyperlink{classns3_1_1RedQueueDisc_a4a559e37f94d5f957a436fdcadd18bbb}{m\_old} = 0;
394     \}
395 
396   \textcolor{keywordflow}{if} (dropType == \hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca3facf8866765dbac0549784f2dbee8c3}{DTYPE\_UNFORCED})
397     \{
398       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1RedQueueDisc_a58b23b6b5bda347f158108859bab4404}{m\_useEcn} || !item->Mark ())
399         \{
400           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"\(\backslash\)t Dropping due to Prob Mark "} << \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg});
401           \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats}.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop}++;
402           \hyperlink{classns3_1_1QueueDisc_a4e8bbd3afbd927df3342dd015f30b08c}{Drop} (item);
403           \textcolor{keywordflow}{return} \textcolor{keyword}{false};
404         \}
405       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"\(\backslash\)t Marking due to Prob Mark "} << \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg});
406       \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats}.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_aa974fb3ee97c612e0a6d77259a3672df}{unforcedMark}++;
407     \}
408   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (dropType == \hyperlink{classns3_1_1RedQueueDisc_a9599a29f6ed3cfc742e7b1c6acd81b0ca65211b6708c279be68d252f83012f2a9}{DTYPE\_FORCED})
409     \{
410       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a4338af4ddd64c4b11b029eb31728d0ba}{m\_useHardDrop} || !\hyperlink{classns3_1_1RedQueueDisc_a58b23b6b5bda347f158108859bab4404}{m\_useEcn} || !item->Mark ())
411         \{
412           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"\(\backslash\)t Dropping due to Hard Mark "} << \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg});
413           \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats}.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a56951fa215564c8d2e59aa046dc3e494}{forcedDrop}++;
414           \hyperlink{classns3_1_1QueueDisc_a4e8bbd3afbd927df3342dd015f30b08c}{Drop} (item);
415           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a9586d035322ac6e72918bc884a5b017e}{m\_isNs1Compat})
416             \{
417               \hyperlink{classns3_1_1RedQueueDisc_ac096c7624d6d921f4612e6e1852193f7}{m\_count} = 0;
418               \hyperlink{classns3_1_1RedQueueDisc_a7bcb375212b9757440dd9cf3e8f1ab5b}{m\_countBytes} = 0;
419             \}
420           \textcolor{keywordflow}{return} \textcolor{keyword}{false};
421         \}
422       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"\(\backslash\)t Marking due to Hard Mark "} << \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg});
423       \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats}.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a577b385784d9852f6557e6ec36fc9120}{forcedMark}++;
424     \}
425 
426   \textcolor{keywordtype}{bool} retval = \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->Enqueue (item);
427 
428   \textcolor{keywordflow}{if} (!retval)
429     \{
430       \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats}.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a2374b8b8386ad6e42435bf1b29109bad}{qLimDrop}++;
431     \}
432 
433   \textcolor{comment}{// If Queue::Enqueue fails, QueueDisc::Drop is called by the internal queue}
434   \textcolor{comment}{// because QueueDisc::AddInternalQueue sets the drop callback}
435 
436   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Number packets "} << \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->
      \hyperlink{classns3_1_1QueueDisc_a6ee992f32c1671512f0948fd6cc46a7e}{GetNPackets} ());
437   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Number bytes "} << \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->
      \hyperlink{classns3_1_1QueueDisc_ac87d3bbf7381d64808f6764bdfd812e5}{GetNBytes} ());
438 
439   \textcolor{keywordflow}{return} retval;
440 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Do\+Peek@{Do\+Peek}}
\index{Do\+Peek@{Do\+Peek}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Do\+Peek(void) const }{DoPeek(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ const {\bf Queue\+Disc\+Item} $>$ ns3\+::\+Red\+Queue\+Disc\+::\+Do\+Peek (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1RedQueueDisc_a351367bffb926ff50712cc269d8e3442}{}\label{classns3_1_1RedQueueDisc_a351367bffb926ff50712cc269d8e3442}
This function returns a copy of the next packet the queue disc will extract. \begin{DoxyReturn}{Returns}
0 if the operation was not successful; the packet otherwise. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1QueueDisc_aff6a0523b7132a4df6cf202ab49bd788}{ns3\+::\+Queue\+Disc}.


\begin{DoxyCode}
819 \{
820   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
821   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->IsEmpty ())
822     \{
823       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Queue empty"});
824       \textcolor{keywordflow}{return} 0;
825     \}
826 
827   Ptr<const QueueDiscItem> item = \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->Peek ();
828 
829   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Number packets "} << \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->
      \hyperlink{classns3_1_1QueueDisc_a6ee992f32c1671512f0948fd6cc46a7e}{GetNPackets} ());
830   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Number bytes "} << \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->
      \hyperlink{classns3_1_1QueueDisc_ac87d3bbf7381d64808f6764bdfd812e5}{GetNBytes} ());
831 
832   \textcolor{keywordflow}{return} item;
833 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Drop\+Early@{Drop\+Early}}
\index{Drop\+Early@{Drop\+Early}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Drop\+Early(\+Ptr$<$ Queue\+Disc\+Item $>$ item, uint32\+\_\+t q\+Size)}{DropEarly(Ptr< QueueDiscItem > item, uint32_t qSize)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::\+Drop\+Early (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Queue\+Disc\+Item} $>$}]{item, }
\item[{uint32\+\_\+t}]{q\+Size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a8cf68bf93f0ad885f92e32c8269d33d3}{}\label{classns3_1_1RedQueueDisc_a8cf68bf93f0ad885f92e32c8269d33d3}


Check if a packet needs to be dropped due to probability mark. 


\begin{DoxyParams}{Parameters}
{\em item} & queue item \\
\hline
{\em q\+Size} & queue size \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 for no drop/mark, 1 for drop 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000162}{Todo}]Implement set bit to mark \end{DoxyRefDesc}

\begin{DoxyCode}
620 \{
621   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << item << qSize);
622   \hyperlink{classns3_1_1RedQueueDisc_a1f46b551657e62ae3064e392fdd6535b}{m\_vProb1} = \hyperlink{classns3_1_1RedQueueDisc_a46c9c2c961936c0423e28afd07a2c4cf}{CalculatePNew} (\hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg}, \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh}, 
      \hyperlink{classns3_1_1RedQueueDisc_ad9c91813fb21151ac137681a2b1fb0c8}{m\_isGentle}, \hyperlink{classns3_1_1RedQueueDisc_a03f1bf584c3f8f07a33719f54b73dd76}{m\_vA}, \hyperlink{classns3_1_1RedQueueDisc_a983ababdb1d4eecd65c2f08af7ab5cd3}{m\_vB}, \hyperlink{classns3_1_1RedQueueDisc_ae06b2dbe2b79013c1b7682bbda4fd182}{m\_vC}, \hyperlink{classns3_1_1RedQueueDisc_ace5d2581758baa698fc2e5ebe4842026}{m\_vD}, \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP});
623   \hyperlink{classns3_1_1RedQueueDisc_aa24ff74b774ceb929bc49fe289fbf31c}{m\_vProb} = \hyperlink{classns3_1_1RedQueueDisc_a70b8f8954389cbc428531803e24ed5ee}{ModifyP} (\hyperlink{classns3_1_1RedQueueDisc_a1f46b551657e62ae3064e392fdd6535b}{m\_vProb1}, \hyperlink{classns3_1_1RedQueueDisc_ac096c7624d6d921f4612e6e1852193f7}{m\_count}, 
      \hyperlink{classns3_1_1RedQueueDisc_a7bcb375212b9757440dd9cf3e8f1ab5b}{m\_countBytes}, \hyperlink{classns3_1_1RedQueueDisc_a70edac67edac4ce7c4a7d4325cf1e409}{m\_meanPktSize}, \hyperlink{classns3_1_1RedQueueDisc_a581b90ab14e1387a63b11dd7d03a3e00}{m\_isWait}, item->GetSize ());
624 
625   \textcolor{comment}{// Drop probability is computed, pick random number and act}
626   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a2156a26538fe0259220ca9e57c829c34}{m\_cautious} == 1)
627     \{
628       \textcolor{comment}{/*}
629 \textcolor{comment}{       * Don't drop/mark if the instantaneous queue is much below the average.}
630 \textcolor{comment}{       * For experimental purposes only.}
631 \textcolor{comment}{       * pkts: the number of packets arriving in 50 ms}
632 \textcolor{comment}{       */}
633       \textcolor{keywordtype}{double} pkts = \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc} * 0.05;
634       \textcolor{keywordtype}{double} fraction = std::pow ((1 - \hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW}), pkts);
635 
636       \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{double}) qSize < fraction * \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg})
637         \{
638           \textcolor{comment}{// Queue could have been empty for 0.05 seconds}
639           \textcolor{keywordflow}{return} 0;
640         \}
641     \}
642 
643   \textcolor{keywordtype}{double} u = \hyperlink{classns3_1_1RedQueueDisc_ac8e5d222b2cbd02e3e940e129f36c76c}{m\_uv}->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue} ();
644 
645   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a2156a26538fe0259220ca9e57c829c34}{m\_cautious} == 2)
646     \{
647       \textcolor{comment}{/*}
648 \textcolor{comment}{       * Decrease the drop probability if the instantaneous}
649 \textcolor{comment}{       * queue is much below the average.}
650 \textcolor{comment}{       * For experimental purposes only.}
651 \textcolor{comment}{       * pkts: the number of packets arriving in 50 ms}
652 \textcolor{comment}{       */}
653       \textcolor{keywordtype}{double} pkts = \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc} * 0.05;
654       \textcolor{keywordtype}{double} fraction = std::pow ((1 - \hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW}), pkts);
655       \textcolor{keywordtype}{double} ratio = qSize / (fraction * \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg});
656 
657       \textcolor{keywordflow}{if} (ratio < 1.0)
658         \{
659           u *= 1.0 / ratio;
660         \}
661     \}
662 
663   \textcolor{keywordflow}{if} (u <= \hyperlink{classns3_1_1RedQueueDisc_aa24ff74b774ceb929bc49fe289fbf31c}{m\_vProb})
664     \{
665       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"u <= m\_vProb; u "} << u << \textcolor{stringliteral}{"; m\_vProb "} << 
      \hyperlink{classns3_1_1RedQueueDisc_aa24ff74b774ceb929bc49fe289fbf31c}{m\_vProb});
666 
667       \textcolor{comment}{// DROP or MARK}
668       \hyperlink{classns3_1_1RedQueueDisc_ac096c7624d6d921f4612e6e1852193f7}{m\_count} = 0;
669       \hyperlink{classns3_1_1RedQueueDisc_a7bcb375212b9757440dd9cf3e8f1ab5b}{m\_countBytes} = 0;
671 
672       \textcolor{keywordflow}{return} 1; \textcolor{comment}{// drop}
673     \}
674 
675   \textcolor{keywordflow}{return} 0; \textcolor{comment}{// no drop/mark}
676 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Estimator@{Estimator}}
\index{Estimator@{Estimator}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Estimator(uint32\+\_\+t n\+Queued, uint32\+\_\+t m, double q\+Avg, double q\+W)}{Estimator(uint32_t nQueued, uint32_t m, double qAvg, double qW)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::\+Estimator (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{n\+Queued, }
\item[{uint32\+\_\+t}]{m, }
\item[{double}]{q\+Avg, }
\item[{double}]{qW}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a980505235ac07d31352bcb1389039a95}{}\label{classns3_1_1RedQueueDisc_a980505235ac07d31352bcb1389039a95}


Compute the average queue size. 


\begin{DoxyParams}{Parameters}
{\em n\+Queued} & number of queued packets \\
\hline
{\em m} & simulated number of packets arrival during idle period \\
\hline
{\em q\+Avg} & average queue size \\
\hline
{\em qW} & queue weight given to cur q size sample \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
new average queue size 
\end{DoxyReturn}

\begin{DoxyCode}
602 \{
603   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << nQueued << m << qAvg << qW);
604 
605   \textcolor{keywordtype}{double} newAve = qAvg * pow(1.0-qW, m);
606   newAve += qW * nQueued;
607 
608   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} now = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
609   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a1bb942ecdce8c8c2eb9953f67ae9a0da}{m\_isAdaptMaxP} && now > \hyperlink{classns3_1_1RedQueueDisc_a9ccc3f308a4f15ae970499e7545b360f}{m\_lastSet} + \hyperlink{classns3_1_1RedQueueDisc_a2b9b3cdf14386d08677f62199489d688}{m\_interval})
610     \{
611       \hyperlink{classns3_1_1RedQueueDisc_ab4c71cfc5918817468028c99d0c6e456}{UpdateMaxP}(newAve);
612     \}
613 
614   \textcolor{keywordflow}{return} newAve;
615 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Get\+Ared\+Alpha@{Get\+Ared\+Alpha}}
\index{Get\+Ared\+Alpha@{Get\+Ared\+Alpha}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Get\+Ared\+Alpha(void)}{GetAredAlpha(void)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::\+Get\+Ared\+Alpha (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_adefdb5b123821bb0ee34221acdee4425}{}\label{classns3_1_1RedQueueDisc_adefdb5b123821bb0ee34221acdee4425}


Get the alpha value to adapt m\+\_\+cur\+MaxP. 

\begin{DoxyReturn}{Returns}
The alpha value to adapt m\+\_\+cur\+MaxP. 
\end{DoxyReturn}

\begin{DoxyCode}
260 \{
261   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
262   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1RedQueueDisc_a223d0381a0e067df135de67e1b261174}{m\_alpha};
263 \}
\end{DoxyCode}
\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Get\+Ared\+Beta@{Get\+Ared\+Beta}}
\index{Get\+Ared\+Beta@{Get\+Ared\+Beta}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Get\+Ared\+Beta(void)}{GetAredBeta(void)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::\+Get\+Ared\+Beta (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_ac934d60cb050e331eaa4b1f1d2291561}{}\label{classns3_1_1RedQueueDisc_ac934d60cb050e331eaa4b1f1d2291561}


Get the beta value to adapt m\+\_\+cur\+MaxP. 

\begin{DoxyReturn}{Returns}
The beta value to adapt m\+\_\+cur\+MaxP. 
\end{DoxyReturn}

\begin{DoxyCode}
279 \{
280   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
281   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1RedQueueDisc_a7a31e5c2df52ee2da677fd6a4c4ff585}{m\_beta};
282 \}
\end{DoxyCode}
\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Get\+Mode@{Get\+Mode}}
\index{Get\+Mode@{Get\+Mode}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Get\+Mode(void)}{GetMode(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Red\+Queue\+Disc\+::\+Queue\+Disc\+Mode} ns3\+::\+Red\+Queue\+Disc\+::\+Get\+Mode (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{}\label{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}


Get the operating mode of this queue disc. 

\begin{DoxyReturn}{Returns}
The operating mode of this queue disc. 
\end{DoxyReturn}

\begin{DoxyCode}
241 \{
242   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
243   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}{m\_mode};
244 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Get\+Queue\+Size@{Get\+Queue\+Size}}
\index{Get\+Queue\+Size@{Get\+Queue\+Size}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Get\+Queue\+Size(void)}{GetQueueSize(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::\+Get\+Queue\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_aa201a831b85c287a99d7a5e04455b463}{}\label{classns3_1_1RedQueueDisc_aa201a831b85c287a99d7a5e04455b463}


Get the current value of the queue in bytes or packets. 

\begin{DoxyReturn}{Returns}
The queue size in bytes or packets. 
\end{DoxyReturn}

\begin{DoxyCode}
774 \{
775   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
776   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{GetMode} () == \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{QUEUE\_DISC\_MODE\_BYTES})
777     \{
778       \textcolor{keywordflow}{return} \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->GetNBytes ();
779     \}
780   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{GetMode} () == \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}{QUEUE\_DISC\_MODE\_PACKETS})
781     \{
782       \textcolor{keywordflow}{return} \hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->GetNPackets ();
783     \}
784   \textcolor{keywordflow}{else}
785     \{
786       \hyperlink{group__fatal_ga51ac4699be799d772ae7258d1ef6af21}{NS\_ABORT\_MSG} (\textcolor{stringliteral}{"Unknown RED mode."});
787     \}
788 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Get\+Stats@{Get\+Stats}}
\index{Get\+Stats@{Get\+Stats}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Get\+Stats()}{GetStats()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Red\+Queue\+Disc\+::\+Stats} ns3\+::\+Red\+Queue\+Disc\+::\+Get\+Stats (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_a02fcef6a7f74f0b0b0408f415ec5a1f5}{}\label{classns3_1_1RedQueueDisc_a02fcef6a7f74f0b0b0408f415ec5a1f5}


Get the R\+ED statistics after running. 

\begin{DoxyReturn}{Returns}
The drop statistics. 
\end{DoxyReturn}

\begin{DoxyCode}
302 \{
303   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
304   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats};
305 \}
\end{DoxyCode}
\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Red\+Queue\+Disc\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1RedQueueDisc_a21c255fe1a7f38a3250af49ef1dac963}{}\label{classns3_1_1RedQueueDisc_a21c255fe1a7f38a3250af49ef1dac963}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
76 \{
77   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::RedQueueDisc"})
78     .SetParent<\hyperlink{classns3_1_1QueueDisc_a0e328ad3196b7d16783b8680722381d6}{QueueDisc}> ()
79     .SetGroupName(\textcolor{stringliteral}{"TrafficControl"})
80     .AddConstructor<\hyperlink{classns3_1_1RedQueueDisc_a0173a0792bb22425223a1d2dba185a6f}{RedQueueDisc}> ()
81     .AddAttribute (\textcolor{stringliteral}{"Mode"},
82                    \textcolor{stringliteral}{"Determines unit for QueueLimit"},
83                    EnumValue (\hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}{QUEUE\_DISC\_MODE\_PACKETS}),
84                    \hyperlink{namespacens3_af5050739867ce63896dec011e332c8ec}{MakeEnumAccessor} (&\hyperlink{classns3_1_1RedQueueDisc_ac87e3eb66b4e47593dde63a4638ad02f}{RedQueueDisc::SetMode}),
85                    \hyperlink{namespacens3_a48832781a2b521d3d0091e05ece30615}{MakeEnumChecker} (\hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{QUEUE\_DISC\_MODE\_BYTES}, \textcolor{stringliteral}{"
      QUEUE\_DISC\_MODE\_BYTES"},
86                                     \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a116c76aa54c1388fc5c2d75cebf577d3}{QUEUE\_DISC\_MODE\_PACKETS}, \textcolor{stringliteral}{"
      QUEUE\_DISC\_MODE\_PACKETS"}))
87     .AddAttribute (\textcolor{stringliteral}{"MeanPktSize"},
88                    \textcolor{stringliteral}{"Average of packet size"},
89                    UintegerValue (500),
90                    MakeUintegerAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a70edac67edac4ce7c4a7d4325cf1e409}{RedQueueDisc::m\_meanPktSize}),
91                    MakeUintegerChecker<uint32\_t> ())
92     .AddAttribute (\textcolor{stringliteral}{"IdlePktSize"},
93                    \textcolor{stringliteral}{"Average packet size used during idle times. Used when m\_cautions = 3"},
94                    UintegerValue (0),
95                    MakeUintegerAccessor (&\hyperlink{classns3_1_1RedQueueDisc_ae09362adeaa13f9612b39dc7d76ed2cd}{RedQueueDisc::m\_idlePktSize}),
96                    MakeUintegerChecker<uint32\_t> ())
97     .AddAttribute (\textcolor{stringliteral}{"Wait"},
98                    \textcolor{stringliteral}{"True for waiting between dropped packets"},
99                    BooleanValue (\textcolor{keyword}{true}),
100                    MakeBooleanAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a581b90ab14e1387a63b11dd7d03a3e00}{RedQueueDisc::m\_isWait}),
101                    MakeBooleanChecker ())
102     .AddAttribute (\textcolor{stringliteral}{"Gentle"},
103                    \textcolor{stringliteral}{"True to increases dropping probability slowly when average queue exceeds maxthresh"},
104                    BooleanValue (\textcolor{keyword}{true}),
105                    MakeBooleanAccessor (&\hyperlink{classns3_1_1RedQueueDisc_ad9c91813fb21151ac137681a2b1fb0c8}{RedQueueDisc::m\_isGentle}),
106                    MakeBooleanChecker ())
107     .AddAttribute (\textcolor{stringliteral}{"ARED"},
108                    \textcolor{stringliteral}{"True to enable ARED"},
109                    BooleanValue (\textcolor{keyword}{false}),
110                    MakeBooleanAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a27b33901dccd8e52d8cbe9798ea70139}{RedQueueDisc::m\_isARED}),
111                    MakeBooleanChecker ())
112     .AddAttribute (\textcolor{stringliteral}{"AdaptMaxP"},
113                    \textcolor{stringliteral}{"True to adapt m\_curMaxP"},
114                    BooleanValue (\textcolor{keyword}{false}),
115                    MakeBooleanAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a1bb942ecdce8c8c2eb9953f67ae9a0da}{RedQueueDisc::m\_isAdaptMaxP}),
116                    MakeBooleanChecker ())
117     .AddAttribute (\textcolor{stringliteral}{"MinTh"},
118                    \textcolor{stringliteral}{"Minimum average length threshold in packets/bytes"},
119                    DoubleValue (5),
120                    MakeDoubleAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{RedQueueDisc::m\_minTh}),
121                    MakeDoubleChecker<double> ())
122     .AddAttribute (\textcolor{stringliteral}{"MaxTh"},
123                    \textcolor{stringliteral}{"Maximum average length threshold in packets/bytes"},
124                    DoubleValue (15),
125                    MakeDoubleAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{RedQueueDisc::m\_maxTh}),
126                    MakeDoubleChecker<double> ())
127     .AddAttribute (\textcolor{stringliteral}{"QueueLimit"},
128                    \textcolor{stringliteral}{"Queue limit in bytes/packets"},
129                    UintegerValue (25),
130                    MakeUintegerAccessor (&\hyperlink{classns3_1_1RedQueueDisc_ab5348f5a688d4dff0602654f79d87477}{RedQueueDisc::SetQueueLimit}),
131                    MakeUintegerChecker<uint32\_t> ())
132     .AddAttribute (\textcolor{stringliteral}{"QW"},
133                    \textcolor{stringliteral}{"Queue weight related to the exponential weighted moving average (EWMA)"},
134                    DoubleValue (0.002),
135                    MakeDoubleAccessor (&\hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{RedQueueDisc::m\_qW}),
136                    MakeDoubleChecker <double> ())
137     .AddAttribute (\textcolor{stringliteral}{"LInterm"},
138                    \textcolor{stringliteral}{"The maximum probability of dropping a packet"},
139                    DoubleValue (50),
140                    MakeDoubleAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a7ac61b7250a5d9af2fcba2a55e0d3256}{RedQueueDisc::m\_lInterm}),
141                    MakeDoubleChecker <double> ())
142     .AddAttribute (\textcolor{stringliteral}{"TargetDelay"},
143                    \textcolor{stringliteral}{"Target average queuing delay in ARED"},
144                    TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.005)),
145                    MakeTimeAccessor (&\hyperlink{classns3_1_1RedQueueDisc_aa0467c2e9ccdeb445fcd5e876669a3f2}{RedQueueDisc::m\_targetDelay}),
146                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
147     .AddAttribute (\textcolor{stringliteral}{"Interval"},
148                    \textcolor{stringliteral}{"Time interval to update m\_curMaxP"},
149                    TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.5)),
150                    MakeTimeAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a2b9b3cdf14386d08677f62199489d688}{RedQueueDisc::m\_interval}),
151                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
152     .AddAttribute (\textcolor{stringliteral}{"Top"},
153                    \textcolor{stringliteral}{"Upper bound for m\_curMaxP in ARED"},
154                    DoubleValue (0.5),
155                    MakeDoubleAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a6df2255795fef0607a0e5ea99d9bf3f3}{RedQueueDisc::m\_top}),
156                    MakeDoubleChecker <double> (0, 1))
157     .AddAttribute (\textcolor{stringliteral}{"Bottom"},
158                    \textcolor{stringliteral}{"Lower bound for m\_curMaxP in ARED"},
159                    DoubleValue (0.0),
160                    MakeDoubleAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a9a3204c76843c255e25de29ecca1a0b1}{RedQueueDisc::m\_bottom}),
161                    MakeDoubleChecker <double> (0, 1))
162     .AddAttribute (\textcolor{stringliteral}{"Alpha"},
163                    \textcolor{stringliteral}{"Increment parameter for m\_curMaxP in ARED"},
164                    DoubleValue (0.01),
165                    MakeDoubleAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a8fb1a23699ad8fcc955b58c5988bc949}{RedQueueDisc::SetAredAlpha}),
166                    MakeDoubleChecker <double> (0, 1))
167     .AddAttribute (\textcolor{stringliteral}{"Beta"},
168                    \textcolor{stringliteral}{"Decrement parameter for m\_curMaxP in ARED"},
169                    DoubleValue (0.9),
170                    MakeDoubleAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a1afbf8c26f597bd39328710e393de5f1}{RedQueueDisc::SetAredBeta}),
171                    MakeDoubleChecker <double> (0, 1))
172     .AddAttribute (\textcolor{stringliteral}{"LastSet"},
173                    \textcolor{stringliteral}{"Store the last time m\_curMaxP was updated"},
174                    TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0)),
175                    MakeTimeAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a9ccc3f308a4f15ae970499e7545b360f}{RedQueueDisc::m\_lastSet}),
176                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
177     .AddAttribute (\textcolor{stringliteral}{"Rtt"},
178                    \textcolor{stringliteral}{"Round Trip Time to be considered while automatically setting m\_bottom"},
179                    TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.1)),
180                    MakeTimeAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a0944decd57a23297aaa1fa0d4cbb0e7b}{RedQueueDisc::m\_rtt}),
181                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
182     .AddAttribute (\textcolor{stringliteral}{"Ns1Compat"},
183                    \textcolor{stringliteral}{"NS-1 compatibility"},
184                    BooleanValue (\textcolor{keyword}{false}),
185                    MakeBooleanAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a9586d035322ac6e72918bc884a5b017e}{RedQueueDisc::m\_isNs1Compat}),
186                    MakeBooleanChecker ())
187     .AddAttribute (\textcolor{stringliteral}{"LinkBandwidth"}, 
188                    \textcolor{stringliteral}{"The RED link bandwidth"},
189                    DataRateValue (DataRate (\textcolor{stringliteral}{"1.5Mbps"})),
190                    MakeDataRateAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a036e8100b2bc17d9b7c3bf5184126f95}{RedQueueDisc::m\_linkBandwidth}),
191                    MakeDataRateChecker ())
192     .AddAttribute (\textcolor{stringliteral}{"LinkDelay"}, 
193                    \textcolor{stringliteral}{"The RED link delay"},
194                    TimeValue (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (20)),
195                    MakeTimeAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a0109dcd4dab3f32348454bc24c991683}{RedQueueDisc::m\_linkDelay}),
196                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
197     .AddAttribute (\textcolor{stringliteral}{"UseEcn"},
198                    \textcolor{stringliteral}{"True to use ECN (packets are marked instead of being dropped)"},
199                    BooleanValue (\textcolor{keyword}{false}),
200                    MakeBooleanAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a58b23b6b5bda347f158108859bab4404}{RedQueueDisc::m\_useEcn}),
201                    MakeBooleanChecker ())
202     .AddAttribute (\textcolor{stringliteral}{"UseHardDrop"},
203                    \textcolor{stringliteral}{"True to always drop packets above max threshold"},
204                    BooleanValue (\textcolor{keyword}{true}),
205                    MakeBooleanAccessor (&\hyperlink{classns3_1_1RedQueueDisc_a4338af4ddd64c4b11b029eb31728d0ba}{RedQueueDisc::m\_useHardDrop}),
206                    MakeBooleanChecker ())
207   ;
208 
209   \textcolor{keywordflow}{return} tid;
210 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Initialize\+Params@{Initialize\+Params}}
\index{Initialize\+Params@{Initialize\+Params}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Initialize\+Params(void)}{InitializeParams(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Red\+Queue\+Disc\+::\+Initialize\+Params (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1RedQueueDisc_adac83b0cbf66f22a6176304b3907995e}{}\label{classns3_1_1RedQueueDisc_adac83b0cbf66f22a6176304b3907995e}


Initialize the queue parameters. 

Note\+: if the link bandwidth changes in the course of the simulation, the bandwidth-\/dependent R\+ED parameters do not change. This should be fixed, but it would require some extra parameters, and didn\textquotesingle{}t seem worth the trouble... 

Implements \hyperlink{classns3_1_1QueueDisc_a600ed3e7110b9d506b28ad62beb84592}{ns3\+::\+Queue\+Disc}.


\begin{DoxyCode}
450 \{
451   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
452   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Initializing RED params."});
453 
454   \hyperlink{classns3_1_1RedQueueDisc_a2156a26538fe0259220ca9e57c829c34}{m\_cautious} = 0;
455   \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc} = \hyperlink{classns3_1_1RedQueueDisc_a036e8100b2bc17d9b7c3bf5184126f95}{m\_linkBandwidth}.\hyperlink{classns3_1_1DataRate_a88e27dcc6e633584dac99fa5988612bc}{GetBitRate} () / (8.0 * 
      \hyperlink{classns3_1_1RedQueueDisc_a70edac67edac4ce7c4a7d4325cf1e409}{m\_meanPktSize});
456 
457   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a27b33901dccd8e52d8cbe9798ea70139}{m\_isARED})
458     \{
459       \textcolor{comment}{// Set m\_minTh, m\_maxTh and m\_qW to zero for automatic setting}
460       \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} = 0;
461       \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh} = 0;
462       \hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW} = 0;
463 
464       \textcolor{comment}{// Turn on m\_isAdaptMaxP to adapt m\_curMaxP}
465       \hyperlink{classns3_1_1RedQueueDisc_a1bb942ecdce8c8c2eb9953f67ae9a0da}{m\_isAdaptMaxP} = \textcolor{keyword}{true};
466     \}
467 
468   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} == 0 && \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh} == 0)
469     \{
470       \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} = 5.0;
471 
472       \textcolor{comment}{// set m\_minTh to max(m\_minTh, targetqueue/2.0) [Ref:
       http://www.icir.org/floyd/papers/adaptiveRed.pdf]}
473       \textcolor{keywordtype}{double} targetqueue = \hyperlink{classns3_1_1RedQueueDisc_aa0467c2e9ccdeb445fcd5e876669a3f2}{m\_targetDelay}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds}() * 
      \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc};
474 
475       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} < targetqueue / 2.0 )
476         \{
477           \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} = targetqueue / 2.0;
478         \}
479       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{GetMode} () == \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{QUEUE\_DISC\_MODE\_BYTES})
480         \{
481           \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} = \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} * \hyperlink{classns3_1_1RedQueueDisc_a70edac67edac4ce7c4a7d4325cf1e409}{m\_meanPktSize};
482         \}
483 
484       \textcolor{comment}{// set m\_maxTh to three times m\_minTh [Ref: http://www.icir.org/floyd/papers/adaptiveRed.pdf]}
485       \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh} = 3 * \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh};
486     \}
487 
488   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} <= \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh});
489   \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats}.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a56951fa215564c8d2e59aa046dc3e494}{forcedDrop} = 0;
490   \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats}.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop} = 0;
491   \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats}.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a2374b8b8386ad6e42435bf1b29109bad}{qLimDrop} = 0;
492   \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats}.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a577b385784d9852f6557e6ec36fc9120}{forcedMark} = 0;
493   \hyperlink{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{m\_stats}.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_aa974fb3ee97c612e0a6d77259a3672df}{unforcedMark} = 0;
494 
495   \hyperlink{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{m\_qAvg} = 0.0;
496   \hyperlink{classns3_1_1RedQueueDisc_ac096c7624d6d921f4612e6e1852193f7}{m\_count} = 0;
497   \hyperlink{classns3_1_1RedQueueDisc_a7bcb375212b9757440dd9cf3e8f1ab5b}{m\_countBytes} = 0;
498   \hyperlink{classns3_1_1RedQueueDisc_a4a559e37f94d5f957a436fdcadd18bbb}{m\_old} = 0;
499   \hyperlink{classns3_1_1RedQueueDisc_ac7afefb55642b1fdc733d017448e5234}{m\_idle} = 1;
500 
501   \textcolor{keywordtype}{double} th\_diff = (\hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh} - \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh});
502   \textcolor{keywordflow}{if} (th\_diff == 0)
503     \{
504       th\_diff = 1.0; 
505     \}
506   \hyperlink{classns3_1_1RedQueueDisc_a03f1bf584c3f8f07a33719f54b73dd76}{m\_vA} = 1.0 / th\_diff;
507   \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP} = 1.0 / \hyperlink{classns3_1_1RedQueueDisc_a7ac61b7250a5d9af2fcba2a55e0d3256}{m\_lInterm};
508   \hyperlink{classns3_1_1RedQueueDisc_a983ababdb1d4eecd65c2f08af7ab5cd3}{m\_vB} = -\hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} / th\_diff;
509 
510   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_ad9c91813fb21151ac137681a2b1fb0c8}{m\_isGentle})
511     \{
512       \hyperlink{classns3_1_1RedQueueDisc_ae06b2dbe2b79013c1b7682bbda4fd182}{m\_vC} = (1.0 - \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP}) / \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh};
513       \hyperlink{classns3_1_1RedQueueDisc_ace5d2581758baa698fc2e5ebe4842026}{m\_vD} = 2.0 * \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP} - 1.0;
514     \}
515   \hyperlink{classns3_1_1RedQueueDisc_a004c1bec6f513969e91ddd353bd336e2}{m\_idleTime} = \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds} (0);
516 
517 \textcolor{comment}{/*}
518 \textcolor{comment}{ * If m\_qW=0, set it to a reasonable value of 1-exp(-1/C)}
519 \textcolor{comment}{ * This corresponds to choosing m\_qW to be of that value for}
520 \textcolor{comment}{ * which the packet time constant -1/ln(1-m)qW) per default RTT }
521 \textcolor{comment}{ * of 100ms is an order of magnitude more than the link capacity, C.}
522 \textcolor{comment}{ *}
523 \textcolor{comment}{ * If m\_qW=-1, then the queue weight is set to be a function of}
524 \textcolor{comment}{ * the bandwidth and the link propagation delay.  In particular, }
525 \textcolor{comment}{ * the default RTT is assumed to be three times the link delay and }
526 \textcolor{comment}{ * transmission delay, if this gives a default RTT greater than 100 ms. }
527 \textcolor{comment}{ *}
528 \textcolor{comment}{ * If m\_qW=-2, set it to a reasonable value of 1-exp(-10/C).}
529 \textcolor{comment}{ */}
530   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW} == 0.0)
531     \{
532       \hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW} = 1.0 - std::exp (-1.0 / \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc});
533     \}
534   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW} == -1.0)
535     \{
536       \textcolor{keywordtype}{double} rtt = 3.0 * (\hyperlink{classns3_1_1RedQueueDisc_a0109dcd4dab3f32348454bc24c991683}{m\_linkDelay}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () + 1.0 / 
      \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc});
537 
538       \textcolor{keywordflow}{if} (rtt < 0.1)
539         \{
540           rtt = 0.1;
541         \}
542       \hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW} = 1.0 - std::exp (-1.0 / (10 * rtt * \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc}));
543     \}
544   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW} == -2.0)
545     \{
546       \hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW} = 1.0 - std::exp (-10.0 / \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc});
547     \}
548 
549   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a9a3204c76843c255e25de29ecca1a0b1}{m\_bottom} == 0)
550     \{
551       \hyperlink{classns3_1_1RedQueueDisc_a9a3204c76843c255e25de29ecca1a0b1}{m\_bottom} = 0.01;
552       \textcolor{comment}{// Set bottom to at most 1/W, where W is the delay-bandwidth}
553       \textcolor{comment}{// product in packets for a connection.}
554       \textcolor{comment}{// So W = m\_linkBandwidth.GetBitRate () / (8.0 * m\_meanPktSize * m\_rtt.GetSeconds())}
555       \textcolor{keywordtype}{double} bottom1 = (8.0 * \hyperlink{classns3_1_1RedQueueDisc_a70edac67edac4ce7c4a7d4325cf1e409}{m\_meanPktSize} * \hyperlink{classns3_1_1RedQueueDisc_a0944decd57a23297aaa1fa0d4cbb0e7b}{m\_rtt}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds}()) / 
      \hyperlink{classns3_1_1RedQueueDisc_a036e8100b2bc17d9b7c3bf5184126f95}{m\_linkBandwidth}.\hyperlink{classns3_1_1DataRate_a88e27dcc6e633584dac99fa5988612bc}{GetBitRate}();
556       \textcolor{keywordflow}{if} (bottom1 < \hyperlink{classns3_1_1RedQueueDisc_a9a3204c76843c255e25de29ecca1a0b1}{m\_bottom})
557         \{
558           \hyperlink{classns3_1_1RedQueueDisc_a9a3204c76843c255e25de29ecca1a0b1}{m\_bottom} = bottom1;
559         \}
560     \}
561 
562   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"\(\backslash\)tm\_delay "} << \hyperlink{classns3_1_1RedQueueDisc_a0109dcd4dab3f32348454bc24c991683}{m\_linkDelay}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () << \textcolor{stringliteral}{"; m\_isWait "}
       
563                              << \hyperlink{classns3_1_1RedQueueDisc_a581b90ab14e1387a63b11dd7d03a3e00}{m\_isWait} << \textcolor{stringliteral}{"; m\_qW "} << \hyperlink{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{m\_qW} << \textcolor{stringliteral}{"; m\_ptc "} << 
      \hyperlink{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{m\_ptc}
564                              << \textcolor{stringliteral}{"; m\_minTh "} << \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} << \textcolor{stringliteral}{"; m\_maxTh "} << 
      \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh}
565                              << \textcolor{stringliteral}{"; m\_isGentle "} << \hyperlink{classns3_1_1RedQueueDisc_ad9c91813fb21151ac137681a2b1fb0c8}{m\_isGentle} << \textcolor{stringliteral}{"; th\_diff "} << th\_diff
566                              << \textcolor{stringliteral}{"; lInterm "} << \hyperlink{classns3_1_1RedQueueDisc_a7ac61b7250a5d9af2fcba2a55e0d3256}{m\_lInterm} << \textcolor{stringliteral}{"; va "} << 
      \hyperlink{classns3_1_1RedQueueDisc_a03f1bf584c3f8f07a33719f54b73dd76}{m\_vA} <<  \textcolor{stringliteral}{"; cur\_max\_p "}
567                              << \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP} << \textcolor{stringliteral}{"; v\_b "} << \hyperlink{classns3_1_1RedQueueDisc_a983ababdb1d4eecd65c2f08af7ab5cd3}{m\_vB} <<  \textcolor{stringliteral}{"; m\_vC "}
568                              << \hyperlink{classns3_1_1RedQueueDisc_ae06b2dbe2b79013c1b7682bbda4fd182}{m\_vC} << \textcolor{stringliteral}{"; m\_vD "} <<  \hyperlink{classns3_1_1RedQueueDisc_ace5d2581758baa698fc2e5ebe4842026}{m\_vD});
569 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!ModifyP@{ModifyP}}
\index{ModifyP@{ModifyP}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Modify\+P(double p, uint32\+\_\+t count, uint32\+\_\+t count\+Bytes, uint32\+\_\+t mean\+Pkt\+Size, bool wait, uint32\+\_\+t size)}{ModifyP(double p, uint32_t count, uint32_t countBytes, uint32_t meanPktSize, bool wait, uint32_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::\+ModifyP (
\begin{DoxyParamCaption}
\item[{double}]{p, }
\item[{uint32\+\_\+t}]{count, }
\item[{uint32\+\_\+t}]{count\+Bytes, }
\item[{uint32\+\_\+t}]{mean\+Pkt\+Size, }
\item[{bool}]{wait, }
\item[{uint32\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a70b8f8954389cbc428531803e24ed5ee}{}\label{classns3_1_1RedQueueDisc_a70b8f8954389cbc428531803e24ed5ee}


Returns a probability using these function parameters for the Drop\+Early function. 


\begin{DoxyParams}{Parameters}
{\em p} & Prob. of packet drop before \char`\"{}count\char`\"{} \\
\hline
{\em count} & number of packets since last random number generation \\
\hline
{\em count\+Bytes} & number of bytes since last drop \\
\hline
{\em mean\+Pkt\+Size} & Avg pkt size \\
\hline
{\em wait} & True for waiting between dropped packets \\
\hline
{\em size} & packet size \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Prob. of packet drop 
\end{DoxyReturn}

\begin{DoxyCode}
723 \{
724   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} << count << countBytes << meanPktSize << isWait << size);
725   \textcolor{keywordtype}{double} count1 = (double) count;
726 
727   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{GetMode} () == \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{QUEUE\_DISC\_MODE\_BYTES})
728     \{
729       count1 = (double) (countBytes / meanPktSize);
730     \}
731 
732   \textcolor{keywordflow}{if} (isWait)
733     \{
734       \textcolor{keywordflow}{if} (count1 * \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} < 1.0)
735         \{
736           \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = 0.0;
737         \}
738       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (count1 * \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} < 2.0)
739         \{
740           \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} /= (2.0 - count1 * \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p});
741         \}
742       \textcolor{keywordflow}{else}
743         \{
744           \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = 1.0;
745         \}
746     \}
747   \textcolor{keywordflow}{else}
748     \{
749       \textcolor{keywordflow}{if} (count1 * \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} < 1.0)
750         \{
751           \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} /= (1.0 - count1 * \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p});
752         \}
753       \textcolor{keywordflow}{else}
754         \{
755           \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = 1.0;
756         \}
757     \}
758 
759   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{GetMode} () == \hyperlink{classns3_1_1RedQueueDisc_addca87c9127669da12f19adfe7d14a30a2f30850f8c1dcf5ee511e65d810031e8}{QUEUE\_DISC\_MODE\_BYTES}) && (\hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} < 1.0))
760     \{
761       \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = (\hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} * size) / meanPktSize;
762     \}
763 
764   \textcolor{keywordflow}{if} (\hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} > 1.0)
765     \{
766       \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = 1.0;
767     \}
768 
769   \textcolor{keywordflow}{return} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
770 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Set\+Ared\+Alpha@{Set\+Ared\+Alpha}}
\index{Set\+Ared\+Alpha@{Set\+Ared\+Alpha}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Set\+Ared\+Alpha(double alpha)}{SetAredAlpha(double alpha)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Red\+Queue\+Disc\+::\+Set\+Ared\+Alpha (
\begin{DoxyParamCaption}
\item[{double}]{alpha}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_a8fb1a23699ad8fcc955b58c5988bc949}{}\label{classns3_1_1RedQueueDisc_a8fb1a23699ad8fcc955b58c5988bc949}


Set the alpha value to adapt m\+\_\+cur\+MaxP. 


\begin{DoxyParams}{Parameters}
{\em alpha} & The value of alpha to adapt m\+\_\+cur\+MaxP. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
248 \{
249   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha});
250   \hyperlink{classns3_1_1RedQueueDisc_a223d0381a0e067df135de67e1b261174}{m\_alpha} = \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha};
251 
252   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a223d0381a0e067df135de67e1b261174}{m\_alpha} > 0.01)
253     \{
254       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Alpha value is above the recommended bound!"});
255     \}
256 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Set\+Ared\+Beta@{Set\+Ared\+Beta}}
\index{Set\+Ared\+Beta@{Set\+Ared\+Beta}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Set\+Ared\+Beta(double beta)}{SetAredBeta(double beta)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Red\+Queue\+Disc\+::\+Set\+Ared\+Beta (
\begin{DoxyParamCaption}
\item[{double}]{beta}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_a1afbf8c26f597bd39328710e393de5f1}{}\label{classns3_1_1RedQueueDisc_a1afbf8c26f597bd39328710e393de5f1}


Set the beta value to adapt m\+\_\+cur\+MaxP. 


\begin{DoxyParams}{Parameters}
{\em beta} & The value of beta to adapt m\+\_\+cur\+MaxP. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
267 \{
268   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << beta);
269   \hyperlink{classns3_1_1RedQueueDisc_a7a31e5c2df52ee2da677fd6a4c4ff585}{m\_beta} = beta;
270 
271   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RedQueueDisc_a7a31e5c2df52ee2da677fd6a4c4ff585}{m\_beta} < 0.83)
272     \{
273       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Beta value is below the recommended bound!"});
274     \}
275 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Set\+Mode@{Set\+Mode}}
\index{Set\+Mode@{Set\+Mode}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Set\+Mode(\+Queue\+Disc\+Mode mode)}{SetMode(QueueDiscMode mode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Red\+Queue\+Disc\+::\+Set\+Mode (
\begin{DoxyParamCaption}
\item[{{\bf Queue\+Disc\+Mode}}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_ac87e3eb66b4e47593dde63a4638ad02f}{}\label{classns3_1_1RedQueueDisc_ac87e3eb66b4e47593dde63a4638ad02f}


Set the operating mode of this queue disc. 


\begin{DoxyParams}{Parameters}
{\em mode} & The operating mode of this queue disc. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
234 \{
235   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << mode);
236   \hyperlink{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}{m\_mode} = mode;
237 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Set\+Queue\+Limit@{Set\+Queue\+Limit}}
\index{Set\+Queue\+Limit@{Set\+Queue\+Limit}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Set\+Queue\+Limit(uint32\+\_\+t lim)}{SetQueueLimit(uint32_t lim)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Red\+Queue\+Disc\+::\+Set\+Queue\+Limit (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{lim}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_ab5348f5a688d4dff0602654f79d87477}{}\label{classns3_1_1RedQueueDisc_ab5348f5a688d4dff0602654f79d87477}


Set the limit of the queue. 


\begin{DoxyParams}{Parameters}
{\em lim} & The limit in bytes or packets. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
286 \{
287   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << lim);
288   \hyperlink{classns3_1_1RedQueueDisc_a421aec8e4b8cca06d16bfc5f8def2623}{m\_queueLimit} = lim;
289 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 23


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Set\+Th@{Set\+Th}}
\index{Set\+Th@{Set\+Th}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Set\+Th(double min\+Th, double max\+Th)}{SetTh(double minTh, double maxTh)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Red\+Queue\+Disc\+::\+Set\+Th (
\begin{DoxyParamCaption}
\item[{double}]{min\+Th, }
\item[{double}]{max\+Th}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1RedQueueDisc_a1c5c1f25cda04d2b92254ff908715bdf}{}\label{classns3_1_1RedQueueDisc_a1c5c1f25cda04d2b92254ff908715bdf}


Set the thresh limits of R\+ED. 


\begin{DoxyParams}{Parameters}
{\em min\+Th} & Minimum thresh in bytes or packets. \\
\hline
{\em max\+Th} & Maximum thresh in bytes or packets. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
293 \{
294   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << minTh << maxTh);
295   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (minTh <= maxTh);
296   \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh} = minTh;
297   \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh} = maxTh;
298 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!Update\+MaxP@{Update\+MaxP}}
\index{Update\+MaxP@{Update\+MaxP}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{Update\+Max\+P(double new\+Ave)}{UpdateMaxP(double newAve)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Red\+Queue\+Disc\+::\+Update\+MaxP (
\begin{DoxyParamCaption}
\item[{double}]{new\+Ave}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_ab4c71cfc5918817468028c99d0c6e456}{}\label{classns3_1_1RedQueueDisc_ab4c71cfc5918817468028c99d0c6e456}


Update m\+\_\+cur\+MaxP. 


\begin{DoxyParams}{Parameters}
{\em new\+Ave} & new average queue length \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
574 \{
575   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << newAve);
576 
577   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} now = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
578   \textcolor{keywordtype}{double} m\_part = 0.4 * (\hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh} - \hyperlink{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{m\_minTh});
579   \textcolor{comment}{// AIMD rule to keep target Q~1/2(m\_minTh + m\_maxTh)}
580   \textcolor{keywordflow}{if} (newAve < m\_minTh + m\_part && m\_curMaxP > \hyperlink{classns3_1_1RedQueueDisc_a9a3204c76843c255e25de29ecca1a0b1}{m\_bottom})
581     \{
582       \textcolor{comment}{// we should increase the average queue size, so decrease m\_curMaxP}
583       \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP} = \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP} * \hyperlink{classns3_1_1RedQueueDisc_a7a31e5c2df52ee2da677fd6a4c4ff585}{m\_beta};
584       \hyperlink{classns3_1_1RedQueueDisc_a9ccc3f308a4f15ae970499e7545b360f}{m\_lastSet} = now;
585     \}
586   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (newAve > \hyperlink{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{m\_maxTh} - m\_part && \hyperlink{classns3_1_1RedQueueDisc_a6df2255795fef0607a0e5ea99d9bf3f3}{m\_top} > \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP})
587     \{
588       \textcolor{comment}{// we should decrease the average queue size, so increase m\_curMaxP}
589       \textcolor{keywordtype}{double} \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha} = \hyperlink{classns3_1_1RedQueueDisc_a223d0381a0e067df135de67e1b261174}{m\_alpha};
590       \textcolor{keywordflow}{if} (alpha > 0.25 * \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP})
591         \{
592           alpha = 0.25 * \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP};
593         \}
594       \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP} = \hyperlink{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{m\_curMaxP} + \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha};
595       \hyperlink{classns3_1_1RedQueueDisc_a9ccc3f308a4f15ae970499e7545b360f}{m\_lastSet} = now;
596     \}
597 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 25




Here is the caller graph for this function\+:
% FIG 26




\subsection{Member Data Documentation}
\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+alpha@{m\+\_\+alpha}}
\index{m\+\_\+alpha@{m\+\_\+alpha}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+alpha}{m_alpha}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+alpha\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a223d0381a0e067df135de67e1b261174}{}\label{classns3_1_1RedQueueDisc_a223d0381a0e067df135de67e1b261174}


Increment parameter for m\+\_\+cur\+MaxP in A\+R\+ED. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+beta@{m\+\_\+beta}}
\index{m\+\_\+beta@{m\+\_\+beta}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+beta}{m_beta}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+beta\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a7a31e5c2df52ee2da677fd6a4c4ff585}{}\label{classns3_1_1RedQueueDisc_a7a31e5c2df52ee2da677fd6a4c4ff585}


Decrement parameter for m\+\_\+cur\+MaxP in A\+R\+ED. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+bottom@{m\+\_\+bottom}}
\index{m\+\_\+bottom@{m\+\_\+bottom}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+bottom}{m_bottom}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+bottom\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a9a3204c76843c255e25de29ecca1a0b1}{}\label{classns3_1_1RedQueueDisc_a9a3204c76843c255e25de29ecca1a0b1}


Lower bound for m\+\_\+cur\+MaxP in A\+R\+ED. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+cautious@{m\+\_\+cautious}}
\index{m\+\_\+cautious@{m\+\_\+cautious}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+cautious}{m_cautious}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+cautious\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a2156a26538fe0259220ca9e57c829c34}{}\label{classns3_1_1RedQueueDisc_a2156a26538fe0259220ca9e57c829c34}
0 for default R\+ED 1 experimental (see \hyperlink{red-queue-disc_8cc}{red-\/queue-\/disc.\+cc}) 2 experimental (see \hyperlink{red-queue-disc_8cc}{red-\/queue-\/disc.\+cc}) 3 use Idle packet size in the ptc \index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+count@{m\+\_\+count}}
\index{m\+\_\+count@{m\+\_\+count}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+count}{m_count}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+count\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_ac096c7624d6d921f4612e6e1852193f7}{}\label{classns3_1_1RedQueueDisc_ac096c7624d6d921f4612e6e1852193f7}


Number of packets since last random number generation. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+count\+Bytes@{m\+\_\+count\+Bytes}}
\index{m\+\_\+count\+Bytes@{m\+\_\+count\+Bytes}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+count\+Bytes}{m_countBytes}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+count\+Bytes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a7bcb375212b9757440dd9cf3e8f1ab5b}{}\label{classns3_1_1RedQueueDisc_a7bcb375212b9757440dd9cf3e8f1ab5b}


Number of bytes since last drop. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+cur\+MaxP@{m\+\_\+cur\+MaxP}}
\index{m\+\_\+cur\+MaxP@{m\+\_\+cur\+MaxP}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+cur\+MaxP}{m_curMaxP}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+cur\+MaxP\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}{}\label{classns3_1_1RedQueueDisc_af00e660caa4f7360e23b9f667382b1c6}


Current max\+\_\+p. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+idle@{m\+\_\+idle}}
\index{m\+\_\+idle@{m\+\_\+idle}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+idle}{m_idle}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+idle\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_ac7afefb55642b1fdc733d017448e5234}{}\label{classns3_1_1RedQueueDisc_ac7afefb55642b1fdc733d017448e5234}


0/1 idle status 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+idle\+Pkt\+Size@{m\+\_\+idle\+Pkt\+Size}}
\index{m\+\_\+idle\+Pkt\+Size@{m\+\_\+idle\+Pkt\+Size}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+idle\+Pkt\+Size}{m_idlePktSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+idle\+Pkt\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_ae09362adeaa13f9612b39dc7d76ed2cd}{}\label{classns3_1_1RedQueueDisc_ae09362adeaa13f9612b39dc7d76ed2cd}


Avg pkt size used during idle times. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+idle\+Time@{m\+\_\+idle\+Time}}
\index{m\+\_\+idle\+Time@{m\+\_\+idle\+Time}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+idle\+Time}{m_idleTime}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+idle\+Time\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a004c1bec6f513969e91ddd353bd336e2}{}\label{classns3_1_1RedQueueDisc_a004c1bec6f513969e91ddd353bd336e2}


Start of current idle period. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+interval@{m\+\_\+interval}}
\index{m\+\_\+interval@{m\+\_\+interval}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+interval}{m_interval}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+interval\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a2b9b3cdf14386d08677f62199489d688}{}\label{classns3_1_1RedQueueDisc_a2b9b3cdf14386d08677f62199489d688}


\hyperlink{classns3_1_1Time}{Time} interval to update m\+\_\+cur\+MaxP. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+is\+Adapt\+MaxP@{m\+\_\+is\+Adapt\+MaxP}}
\index{m\+\_\+is\+Adapt\+MaxP@{m\+\_\+is\+Adapt\+MaxP}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+is\+Adapt\+MaxP}{m_isAdaptMaxP}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+is\+Adapt\+MaxP\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a1bb942ecdce8c8c2eb9953f67ae9a0da}{}\label{classns3_1_1RedQueueDisc_a1bb942ecdce8c8c2eb9953f67ae9a0da}


True to adapt m\+\_\+cur\+MaxP. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+is\+A\+R\+ED@{m\+\_\+is\+A\+R\+ED}}
\index{m\+\_\+is\+A\+R\+ED@{m\+\_\+is\+A\+R\+ED}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+is\+A\+R\+ED}{m_isARED}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+is\+A\+R\+ED\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a27b33901dccd8e52d8cbe9798ea70139}{}\label{classns3_1_1RedQueueDisc_a27b33901dccd8e52d8cbe9798ea70139}


True to enable Adaptive R\+ED. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+is\+Gentle@{m\+\_\+is\+Gentle}}
\index{m\+\_\+is\+Gentle@{m\+\_\+is\+Gentle}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+is\+Gentle}{m_isGentle}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+is\+Gentle\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_ad9c91813fb21151ac137681a2b1fb0c8}{}\label{classns3_1_1RedQueueDisc_ad9c91813fb21151ac137681a2b1fb0c8}


True to increases dropping prob. slowly when ave queue exceeds maxthresh. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+is\+Ns1\+Compat@{m\+\_\+is\+Ns1\+Compat}}
\index{m\+\_\+is\+Ns1\+Compat@{m\+\_\+is\+Ns1\+Compat}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+is\+Ns1\+Compat}{m_isNs1Compat}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+is\+Ns1\+Compat\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a9586d035322ac6e72918bc884a5b017e}{}\label{classns3_1_1RedQueueDisc_a9586d035322ac6e72918bc884a5b017e}


Ns-\/1 compatibility. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+is\+Wait@{m\+\_\+is\+Wait}}
\index{m\+\_\+is\+Wait@{m\+\_\+is\+Wait}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+is\+Wait}{m_isWait}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+is\+Wait\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a581b90ab14e1387a63b11dd7d03a3e00}{}\label{classns3_1_1RedQueueDisc_a581b90ab14e1387a63b11dd7d03a3e00}


True for waiting between dropped packets. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+last\+Set@{m\+\_\+last\+Set}}
\index{m\+\_\+last\+Set@{m\+\_\+last\+Set}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Set}{m_lastSet}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+last\+Set\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a9ccc3f308a4f15ae970499e7545b360f}{}\label{classns3_1_1RedQueueDisc_a9ccc3f308a4f15ae970499e7545b360f}


Last time m\+\_\+cur\+MaxP was updated. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+link\+Bandwidth@{m\+\_\+link\+Bandwidth}}
\index{m\+\_\+link\+Bandwidth@{m\+\_\+link\+Bandwidth}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+link\+Bandwidth}{m_linkBandwidth}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Data\+Rate} ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+link\+Bandwidth\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a036e8100b2bc17d9b7c3bf5184126f95}{}\label{classns3_1_1RedQueueDisc_a036e8100b2bc17d9b7c3bf5184126f95}


Link bandwidth. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+link\+Delay@{m\+\_\+link\+Delay}}
\index{m\+\_\+link\+Delay@{m\+\_\+link\+Delay}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+link\+Delay}{m_linkDelay}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+link\+Delay\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a0109dcd4dab3f32348454bc24c991683}{}\label{classns3_1_1RedQueueDisc_a0109dcd4dab3f32348454bc24c991683}


Link delay. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+l\+Interm@{m\+\_\+l\+Interm}}
\index{m\+\_\+l\+Interm@{m\+\_\+l\+Interm}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+l\+Interm}{m_lInterm}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+l\+Interm\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a7ac61b7250a5d9af2fcba2a55e0d3256}{}\label{classns3_1_1RedQueueDisc_a7ac61b7250a5d9af2fcba2a55e0d3256}


The max probability of dropping a packet. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+max\+Th@{m\+\_\+max\+Th}}
\index{m\+\_\+max\+Th@{m\+\_\+max\+Th}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+max\+Th}{m_maxTh}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+max\+Th\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}{}\label{classns3_1_1RedQueueDisc_a631761d4c950b0408ba26f42a0509c42}


Max avg length threshold (bytes), should be $>$= 2$\ast$min\+Th. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+mean\+Pkt\+Size@{m\+\_\+mean\+Pkt\+Size}}
\index{m\+\_\+mean\+Pkt\+Size@{m\+\_\+mean\+Pkt\+Size}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+mean\+Pkt\+Size}{m_meanPktSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+mean\+Pkt\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a70edac67edac4ce7c4a7d4325cf1e409}{}\label{classns3_1_1RedQueueDisc_a70edac67edac4ce7c4a7d4325cf1e409}


Avg pkt size. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+min\+Th@{m\+\_\+min\+Th}}
\index{m\+\_\+min\+Th@{m\+\_\+min\+Th}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+min\+Th}{m_minTh}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+min\+Th\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}{}\label{classns3_1_1RedQueueDisc_a6c2f13710a589ca7a43e06d16bd889ee}


Min avg length threshold (bytes) 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+mode@{m\+\_\+mode}}
\index{m\+\_\+mode@{m\+\_\+mode}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+mode}{m_mode}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Queue\+Disc\+Mode} ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+mode\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}{}\label{classns3_1_1RedQueueDisc_aaff7adacb9ec0949e8e867fa27ea6c2c}


Mode (Bytes or packets) 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+old@{m\+\_\+old}}
\index{m\+\_\+old@{m\+\_\+old}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+old}{m_old}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+old\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a4a559e37f94d5f957a436fdcadd18bbb}{}\label{classns3_1_1RedQueueDisc_a4a559e37f94d5f957a436fdcadd18bbb}


0 when average queue first exceeds threshold 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+ptc@{m\+\_\+ptc}}
\index{m\+\_\+ptc@{m\+\_\+ptc}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+ptc}{m_ptc}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+ptc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}{}\label{classns3_1_1RedQueueDisc_aa0e1d78172897574d39e59b873ec9401}


packet time constant in packets/second 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+q\+Avg@{m\+\_\+q\+Avg}}
\index{m\+\_\+q\+Avg@{m\+\_\+q\+Avg}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+q\+Avg}{m_qAvg}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+q\+Avg\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}{}\label{classns3_1_1RedQueueDisc_ad51f583bf9d9964833fd8a710a40e247}


\hyperlink{classns3_1_1Average}{Average} queue length. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+queue\+Limit@{m\+\_\+queue\+Limit}}
\index{m\+\_\+queue\+Limit@{m\+\_\+queue\+Limit}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+queue\+Limit}{m_queueLimit}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+queue\+Limit\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a421aec8e4b8cca06d16bfc5f8def2623}{}\label{classns3_1_1RedQueueDisc_a421aec8e4b8cca06d16bfc5f8def2623}


\hyperlink{classns3_1_1Queue}{Queue} limit in bytes / packets. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+qW@{m\+\_\+qW}}
\index{m\+\_\+qW@{m\+\_\+qW}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+qW}{m_qW}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+qW\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}{}\label{classns3_1_1RedQueueDisc_aed406d18723a07fe991497553abed6da}


\hyperlink{classns3_1_1Queue}{Queue} weight given to cur queue size sample. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+rtt@{m\+\_\+rtt}}
\index{m\+\_\+rtt@{m\+\_\+rtt}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+rtt}{m_rtt}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+rtt\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a0944decd57a23297aaa1fa0d4cbb0e7b}{}\label{classns3_1_1RedQueueDisc_a0944decd57a23297aaa1fa0d4cbb0e7b}


Rtt to be considered while automatically setting m\+\_\+bottom in A\+R\+ED. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+stats@{m\+\_\+stats}}
\index{m\+\_\+stats@{m\+\_\+stats}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+stats}{m_stats}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stats} ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+stats\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}{}\label{classns3_1_1RedQueueDisc_a4175e263cc4c7024d42178190900b1eb}


R\+ED statistics. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+target\+Delay@{m\+\_\+target\+Delay}}
\index{m\+\_\+target\+Delay@{m\+\_\+target\+Delay}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+target\+Delay}{m_targetDelay}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+target\+Delay\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_aa0467c2e9ccdeb445fcd5e876669a3f2}{}\label{classns3_1_1RedQueueDisc_aa0467c2e9ccdeb445fcd5e876669a3f2}


Target average queuing delay in A\+R\+ED. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+top@{m\+\_\+top}}
\index{m\+\_\+top@{m\+\_\+top}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+top}{m_top}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+top\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a6df2255795fef0607a0e5ea99d9bf3f3}{}\label{classns3_1_1RedQueueDisc_a6df2255795fef0607a0e5ea99d9bf3f3}


Upper bound for m\+\_\+cur\+MaxP in A\+R\+ED. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+use\+Ecn@{m\+\_\+use\+Ecn}}
\index{m\+\_\+use\+Ecn@{m\+\_\+use\+Ecn}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+use\+Ecn}{m_useEcn}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+use\+Ecn\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a58b23b6b5bda347f158108859bab4404}{}\label{classns3_1_1RedQueueDisc_a58b23b6b5bda347f158108859bab4404}


True if E\+CN is used (packets are marked instead of being dropped) 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+use\+Hard\+Drop@{m\+\_\+use\+Hard\+Drop}}
\index{m\+\_\+use\+Hard\+Drop@{m\+\_\+use\+Hard\+Drop}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+use\+Hard\+Drop}{m_useHardDrop}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+use\+Hard\+Drop\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a4338af4ddd64c4b11b029eb31728d0ba}{}\label{classns3_1_1RedQueueDisc_a4338af4ddd64c4b11b029eb31728d0ba}


True if packets are always dropped above max threshold. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+uv@{m\+\_\+uv}}
\index{m\+\_\+uv@{m\+\_\+uv}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+uv}{m_uv}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Uniform\+Random\+Variable}$>$ ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+uv\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_ac8e5d222b2cbd02e3e940e129f36c76c}{}\label{classns3_1_1RedQueueDisc_ac8e5d222b2cbd02e3e940e129f36c76c}


rng stream 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+vA@{m\+\_\+vA}}
\index{m\+\_\+vA@{m\+\_\+vA}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+vA}{m_vA}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+vA\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a03f1bf584c3f8f07a33719f54b73dd76}{}\label{classns3_1_1RedQueueDisc_a03f1bf584c3f8f07a33719f54b73dd76}


1.\+0 / (m\+\_\+max\+Th -\/ m\+\_\+min\+Th) 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+vB@{m\+\_\+vB}}
\index{m\+\_\+vB@{m\+\_\+vB}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+vB}{m_vB}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+vB\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a983ababdb1d4eecd65c2f08af7ab5cd3}{}\label{classns3_1_1RedQueueDisc_a983ababdb1d4eecd65c2f08af7ab5cd3}


-\/m\+\_\+min\+Th / (m\+\_\+max\+Th -\/ m\+\_\+min\+Th) 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+vC@{m\+\_\+vC}}
\index{m\+\_\+vC@{m\+\_\+vC}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+vC}{m_vC}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+vC\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_ae06b2dbe2b79013c1b7682bbda4fd182}{}\label{classns3_1_1RedQueueDisc_ae06b2dbe2b79013c1b7682bbda4fd182}


(1.\+0 -\/ m\+\_\+cur\+MaxP) / m\+\_\+max\+Th -\/ used in \char`\"{}gentle\char`\"{} mode 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+vD@{m\+\_\+vD}}
\index{m\+\_\+vD@{m\+\_\+vD}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+vD}{m_vD}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+vD\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_ace5d2581758baa698fc2e5ebe4842026}{}\label{classns3_1_1RedQueueDisc_ace5d2581758baa698fc2e5ebe4842026}


2.\+0 $\ast$ m\+\_\+cur\+MaxP -\/ 1.\+0 -\/ used in \char`\"{}gentle\char`\"{} mode 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+v\+Prob@{m\+\_\+v\+Prob}}
\index{m\+\_\+v\+Prob@{m\+\_\+v\+Prob}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+v\+Prob}{m_vProb}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+v\+Prob\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_aa24ff74b774ceb929bc49fe289fbf31c}{}\label{classns3_1_1RedQueueDisc_aa24ff74b774ceb929bc49fe289fbf31c}


Prob. of packet drop. 

\index{ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}!m\+\_\+v\+Prob1@{m\+\_\+v\+Prob1}}
\index{m\+\_\+v\+Prob1@{m\+\_\+v\+Prob1}!ns3\+::\+Red\+Queue\+Disc@{ns3\+::\+Red\+Queue\+Disc}}
\subsubsection[{\texorpdfstring{m\+\_\+v\+Prob1}{m_vProb1}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Red\+Queue\+Disc\+::m\+\_\+v\+Prob1\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1RedQueueDisc_a1f46b551657e62ae3064e392fdd6535b}{}\label{classns3_1_1RedQueueDisc_a1f46b551657e62ae3064e392fdd6535b}


Prob. of packet drop before \char`\"{}count\char`\"{}. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
traffic-\/control/model/\hyperlink{red-queue-disc_8h}{red-\/queue-\/disc.\+h}\item 
traffic-\/control/model/\hyperlink{red-queue-disc_8cc}{red-\/queue-\/disc.\+cc}\end{DoxyCompactItemize}
