\hypertarget{classns3_1_1UanMacRcGw}{}\section{ns3\+:\+:Uan\+Mac\+Rc\+Gw Class Reference}
\label{classns3_1_1UanMacRcGw}\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}


{\ttfamily \#include $<$uan-\/mac-\/rc-\/gw.\+h$>$}



Inheritance diagram for ns3\+:\+:Uan\+Mac\+Rc\+Gw\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Uan\+Mac\+Rc\+Gw\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1UanMacRcGw_1_1AckData}{Ack\+Data}
\item 
struct \hyperlink{structns3_1_1UanMacRcGw_1_1Request}{Request}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{classns3_1_1UanMacRcGw_a95791c4ad2eb114f40a6fc67ddd4db2c}{Cycle\+Callback}) (\hyperlink{classns3_1_1Time}{Time} now, \hyperlink{classns3_1_1Time}{Time} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_a7964e6aa8f61a9d28973c8267a606ad8}{delay}, uint32\+\_\+t num\+Rts, uint32\+\_\+t total\+Bytes, double secs, uint32\+\_\+t ctl\+Rate, double actualX)
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1UanMacRcGw_a299426e341f023ae7bde2f62e4269d90}{Uan\+Mac\+Rc\+Gw} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1UanMacRcGw_aff7f4df704b98f65567e0dc8b054460d}{$\sim$\+Uan\+Mac\+Rc\+Gw} ()
\begin{DoxyCompactList}\small\item\em Dummy destructor, see Do\+Dispose. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1Address}{Address} \hyperlink{classns3_1_1UanMacRcGw_adeefc04b015d9a518a11781a6a32bbc3}{Get\+Address} (void)
\item 
virtual void \hyperlink{classns3_1_1UanMacRcGw_a5a66b56d33e9ecc8ab197abde6b79756}{Set\+Address} (\hyperlink{classns3_1_1UanAddress}{Uan\+Address} addr)
\item 
virtual bool \hyperlink{classns3_1_1UanMacRcGw_a5887fee6477de597ba3fa6b7b19f3862}{Enqueue} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ pkt, const \hyperlink{classns3_1_1Address}{Address} \&dest, uint16\+\_\+t protocol\+Number)
\item 
virtual void \hyperlink{classns3_1_1UanMacRcGw_a2f708f0a914ec5ca0897ddfb8653b881}{Set\+Forward\+Up\+Cb} (\hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$, const \hyperlink{classns3_1_1UanAddress}{Uan\+Address} \& $>$ cb)
\item 
virtual void \hyperlink{classns3_1_1UanMacRcGw_ae1467bc739ab7ac0dc9f1d1cef3bb55a}{Attach\+Phy} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UanPhy}{Uan\+Phy} $>$ phy)
\item 
virtual \hyperlink{classns3_1_1Address}{Address} \hyperlink{classns3_1_1UanMacRcGw_ad197e94cc1ce4910264f838fc600241c}{Get\+Broadcast} (void) const 
\item 
virtual void \hyperlink{classns3_1_1UanMacRcGw_a1b55372d9c1a92d9e95cf6dcabf9719b}{Clear} (void)
\item 
int64\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_a491f7f510855411f0a7efd6f5f0c2bd1}{Assign\+Streams} (int64\+\_\+t stream)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1UanMacRcGw_a2e43f95acb5fa3847daf1883233fe791}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1UanMacRcGw_a1404848da08e761be9ad80a2b4ae023e}{Do\+Dispose} ()
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2d}{State} \{ \hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da8cd582d760976a9b3719d7a6405661dd}{I\+D\+LE}, 
\hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da17d37d390d3d07c9a5ca83303f23cc90}{I\+N\+C\+Y\+C\+LE}, 
\hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da01f2fcfc2e9efdccbbc058daa9d2ac44}{C\+T\+S\+I\+NG}
 \}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1UanMacRcGw_aa47b708b4a5a7bda0dbd4dded98723f3}{Receive\+Packet} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ pkt, double sinr, \hyperlink{classns3_1_1UanTxMode}{Uan\+Tx\+Mode} mode)
\item 
void \hyperlink{classns3_1_1UanMacRcGw_ac578bc895186506f0954fa86eefa8d6a}{Start\+Cycle} (void)
\item 
void \hyperlink{classns3_1_1UanMacRcGw_afd7577179828a6dd31e59427f3c98672}{End\+Cycle} (void)
\item 
void \hyperlink{classns3_1_1UanMacRcGw_a0e3aefc24d4dffd594008152ba63269c}{Send\+Packet} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ pkt, uint32\+\_\+t rate)
\item 
void \hyperlink{classns3_1_1UanMacRcGw_a9fba6730296ff817e04a485c8fc07d96}{Cycle\+Started} (void)
\item 
void \hyperlink{classns3_1_1UanMacRcGw_a00e63a2f20787c4024c763fc4aed97e4}{Receive\+Error} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ pkt, double sinr)
\item 
double \hyperlink{classns3_1_1UanMacRcGw_a16f2a2f4cb6bf1bc8f3aed5c9d7d83ba}{Compute\+Alpha} (uint32\+\_\+t total\+Frames, uint32\+\_\+t total\+Bytes, uint32\+\_\+t \hyperlink{lte__link__budget__x2__handover__measures_8m_abdb05bc5a064cf642a06c83b3392f148}{n}, uint32\+\_\+t a, double deltaK)
\item 
std\+::vector$<$ double $>$ \hyperlink{classns3_1_1UanMacRcGw_aeec69b11f4b59b2afdf93d1b9e845c88}{Get\+Exp\+Pdk} (void)
\item 
double \hyperlink{classns3_1_1UanMacRcGw_a5566db3707051fb685ffe6db5a2bf9ad}{Compute\+ExpS} (uint32\+\_\+t a, uint32\+\_\+t ld, std\+::vector$<$ double $>$ exppdk)
\item 
double \hyperlink{classns3_1_1UanMacRcGw_a4c72ab2a3cf75991d00cd183218a7045}{Compute\+ExpS} (uint32\+\_\+t a, uint32\+\_\+t ld)
\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_af7b5b9964d69df78a894857b87b680f2}{Comp\+Exp\+Min\+Index} (uint32\+\_\+t \hyperlink{lte__link__budget__x2__handover__measures_8m_abdb05bc5a064cf642a06c83b3392f148}{n}, uint32\+\_\+t k)
\item 
double \hyperlink{classns3_1_1UanMacRcGw_ab5e169844c40817b3f4654caac633ef5}{Compute\+PiK} (uint32\+\_\+t a, uint32\+\_\+t \hyperlink{lte__link__budget__x2__handover__measures_8m_abdb05bc5a064cf642a06c83b3392f148}{n}, uint32\+\_\+t k)
\item 
double \hyperlink{classns3_1_1UanMacRcGw_ae6060c6de55e408f0dbacefa3595388c}{Compute\+Exp\+B\+OverA} (uint32\+\_\+t \hyperlink{lte__link__budget__x2__handover__measures_8m_abdb05bc5a064cf642a06c83b3392f148}{n}, uint32\+\_\+t a, uint32\+\_\+t ldlh, std\+::vector$<$ double $>$ deltaK)
\item 
uint64\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_a8175312ac53cbda5b11e89c0864a4a35}{NchooseK} (uint32\+\_\+t \hyperlink{lte__link__budget__x2__handover__measures_8m_abdb05bc5a064cf642a06c83b3392f148}{n}, uint32\+\_\+t k)
\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_acf37aa19bb4293829fec2ff254c56826}{Find\+OptA} (void)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2d}{State} \hyperlink{classns3_1_1UanMacRcGw_ac3222d8eea64d77215039f67e90ef96a}{m\+\_\+state}
\begin{DoxyCompactList}\small\item\em Gateway processing state. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$, const \hyperlink{classns3_1_1UanAddress}{Uan\+Address} \& $>$ \hyperlink{classns3_1_1UanMacRcGw_ac387b855682d24b25bd9fc21c5c9645c}{m\+\_\+forward\+Up\+Cb}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UanPhy}{Uan\+Phy} $>$ \hyperlink{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{m\+\_\+phy}
\begin{DoxyCompactList}\small\item\em P\+HY layer attached to this M\+AC. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1UanAddress}{Uan\+Address} \hyperlink{classns3_1_1UanMacRcGw_aca721ba2f63161e937d0f856f4a566a0}{m\+\_\+address}
\begin{DoxyCompactList}\small\item\em The M\+AC address. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}{m\+\_\+max\+Delta}
\begin{DoxyCompactList}\small\item\em Maximum propagation delay between gateway and non-\/gateway nodes . \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\+\_\+sifs}
\begin{DoxyCompactList}\small\item\em Spacing between frames to account for timing error and processing delay. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_a14fb67143992d3c9f81e27f5647045e1}{m\+\_\+max\+Res}
\begin{DoxyCompactList}\small\item\em Maximum number of reservations to accept per cycle. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_a86339396f55693d151f8c217bfcf6149}{m\+\_\+num\+Rates}
\begin{DoxyCompactList}\small\item\em Number of rates per Phy layer. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\+\_\+rts\+Size}
\begin{DoxyCompactList}\small\item\em Size of \hyperlink{classns3_1_1UanHeaderCommon}{Uan\+Header\+Common} and \hyperlink{classns3_1_1UanHeaderRcRts}{Uan\+Header\+Rc\+Rts}. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_a2507eef2cc37e441e72644650341bf70}{m\+\_\+cts\+SizeN}
\begin{DoxyCompactList}\small\item\em Size of \hyperlink{classns3_1_1UanHeaderRcCts}{Uan\+Header\+Rc\+Cts}. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}{m\+\_\+cts\+SizeG}
\begin{DoxyCompactList}\small\item\em Size of \hyperlink{classns3_1_1UanHeaderCommon}{Uan\+Header\+Common} and \hyperlink{classns3_1_1UanHeaderRcCtsGlobal}{Uan\+Header\+Rc\+Cts\+Global}. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_af6e2ac2d10617fe1807819b71d7ba61b}{m\+\_\+ack\+Size}
\begin{DoxyCompactList}\small\item\em Size of \hyperlink{classns3_1_1UanHeaderCommon}{Uan\+Header\+Common} and \hyperlink{classns3_1_1UanHeaderRcAck}{Uan\+Header\+Rc\+Ack}. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_a1fa6713bb1e860c9555ff7a3b7a082c3}{m\+\_\+current\+Retry\+Rate}
\begin{DoxyCompactList}\small\item\em Retry rate number for current cycle. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\+\_\+current\+Rate\+Num}
\begin{DoxyCompactList}\small\item\em Rate number corresponding to data rate of current cycle. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_a00185ef8e5203de223265077a3ad2cf4}{m\+\_\+num\+Nodes}
\begin{DoxyCompactList}\small\item\em Number of non-\/gateway nodes in this gateway\textquotesingle{}s neighborhood. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\+\_\+total\+Rate}
\begin{DoxyCompactList}\small\item\em Total available channel rate in bps (for a single channel, without splitting reservation channel). \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_a358dc1512c2e94359c1892eae090f7e1}{m\+\_\+rate\+Step}
\begin{DoxyCompactList}\small\item\em Increments available for rate assignment in bps. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1UanMacRcGw_a7cb11b74720c0aa781dea646ac940ac4}{m\+\_\+frame\+Size}
\begin{DoxyCompactList}\small\item\em Size of data frames in bytes. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1UanMacRcGw_a1b80a997bc4b47fad40ee75304605786}{m\+\_\+min\+Retry\+Rate}
\begin{DoxyCompactList}\small\item\em Smallest allowed R\+TS retry rate. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1UanMacRcGw_add3041a7bf45e5d81fff4600ba20caf6}{m\+\_\+retry\+Step}
\begin{DoxyCompactList}\small\item\em Retry rate increment. \end{DoxyCompactList}\item 
std\+::map$<$ \hyperlink{classns3_1_1UanAddress}{Uan\+Address}, \hyperlink{classns3_1_1Time}{Time} $>$ \hyperlink{classns3_1_1UanMacRcGw_adea1fcd9ce2850a32d2d7ff1f84c5958}{m\+\_\+prop\+Delay}
\item 
std\+::map$<$ \hyperlink{classns3_1_1UanAddress}{Uan\+Address}, \hyperlink{structns3_1_1UanMacRcGw_1_1AckData}{Ack\+Data} $>$ \hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\+\_\+ack\+Data}
\item 
std\+::map$<$ \hyperlink{classns3_1_1UanAddress}{Uan\+Address}, \hyperlink{structns3_1_1UanMacRcGw_1_1Request}{Request} $>$ \hyperlink{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}{m\+\_\+requests}
\item 
std\+::set$<$ std\+::pair$<$ \hyperlink{classns3_1_1Time}{Time}, \hyperlink{classns3_1_1UanAddress}{Uan\+Address} $>$ $>$ \hyperlink{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}{m\+\_\+sorted\+Res}
\item 
bool \hyperlink{classns3_1_1UanMacRcGw_a6565d014e10e25e3883a1ca3f48896ee}{m\+\_\+cleared}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$, \hyperlink{classns3_1_1UanTxMode}{Uan\+Tx\+Mode} $>$ \hyperlink{classns3_1_1UanMacRcGw_af9c5b278e86a12e4aea40599b721f18e}{m\+\_\+rx\+Logger}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Time}{Time}, \hyperlink{classns3_1_1Time}{Time}, uint32\+\_\+t, uint32\+\_\+t, double, uint32\+\_\+t, double $>$ \hyperlink{classns3_1_1UanMacRcGw_a4c743f84c92dcc29b476cfd229d68dd8}{m\+\_\+cycle\+Logger}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Gateway side of R\+C-\/\+M\+AC.

This M\+AC protocol assumes a network topology where all traffic is destined for a set of GW nodes which are connected via some out of band (RF?) means. \hyperlink{classns3_1_1UanMacRcGw}{Uan\+Mac\+Rc\+Gw} is the protocol which runs on the gateway nodes.

This particular implementation assumes that there is only a single gateway.

For more information on class operation email \href{mailto:lentracy@u.washington.edu}{\tt lentracy@u.\+washington.\+edu} (This work is, as of yet, unpublished) 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Cycle\+Callback@{Cycle\+Callback}}
\index{Cycle\+Callback@{Cycle\+Callback}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Cycle\+Callback}{CycleCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$  ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Cycle\+Callback) ({\bf Time} now, {\bf Time} {\bf delay}, uint32\+\_\+t num\+Rts, uint32\+\_\+t total\+Bytes, double secs, uint32\+\_\+t ctl\+Rate, double actualX)}\hypertarget{classns3_1_1UanMacRcGw_a95791c4ad2eb114f40a6fc67ddd4db2c}{}\label{classns3_1_1UanMacRcGw_a95791c4ad2eb114f40a6fc67ddd4db2c}
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} signature for


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em now,The} & current simulation time. \\
\hline
\mbox{\tt in}  & {\em delay} & Minimum path delay of first R\+TS. \\
\hline
\mbox{\tt in}  & {\em num\+Rts} & Number of pending R\+TS. \\
\hline
\mbox{\tt in}  & {\em total\+Bytes} & Length of R\+TS header. \\
\hline
\mbox{\tt in}  & {\em secs} & Effective window size for Rc\+Cts\+Global message, or time to next cycle, both in seconds. \\
\hline
\mbox{\tt in}  & {\em ctl\+Rate} & C\+TL rate in Bps. \\
\hline
\mbox{\tt in}  & {\em actualX} & Current retry rate. \\
\hline
\end{DoxyParams}


\subsection{Member Enumeration Documentation}
\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!State@{State}}
\index{State@{State}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{State}{State}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+State}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2d}{}\label{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2d}
Gateway state. \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{I\+D\+LE@{I\+D\+LE}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!I\+D\+LE@{I\+D\+LE}}\item[{\em 
I\+D\+LE\hypertarget{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da8cd582d760976a9b3719d7a6405661dd}{}\label{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da8cd582d760976a9b3719d7a6405661dd}
}]Initial idle state. \index{I\+N\+C\+Y\+C\+LE@{I\+N\+C\+Y\+C\+LE}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!I\+N\+C\+Y\+C\+LE@{I\+N\+C\+Y\+C\+LE}}\item[{\em 
I\+N\+C\+Y\+C\+LE\hypertarget{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da17d37d390d3d07c9a5ca83303f23cc90}{}\label{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da17d37d390d3d07c9a5ca83303f23cc90}
}]Cycling through nodes. \index{C\+T\+S\+I\+NG@{C\+T\+S\+I\+NG}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!C\+T\+S\+I\+NG@{C\+T\+S\+I\+NG}}\item[{\em 
C\+T\+S\+I\+NG\hypertarget{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da01f2fcfc2e9efdccbbc058daa9d2ac44}{}\label{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da01f2fcfc2e9efdccbbc058daa9d2ac44}
}]Sending C\+TS. \end{description}
\end{Desc}

\begin{DoxyCode}
98              \{
99     \hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da8cd582d760976a9b3719d7a6405661dd}{IDLE},     
100     \hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da17d37d390d3d07c9a5ca83303f23cc90}{INCYCLE},  
101     \hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da01f2fcfc2e9efdccbbc058daa9d2ac44}{CTSING}    
102   \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Uan\+Mac\+Rc\+Gw@{Uan\+Mac\+Rc\+Gw}}
\index{Uan\+Mac\+Rc\+Gw@{Uan\+Mac\+Rc\+Gw}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Uan\+Mac\+Rc\+Gw()}{UanMacRcGw()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Uan\+Mac\+Rc\+Gw (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UanMacRcGw_a299426e341f023ae7bde2f62e4269d90}{}\label{classns3_1_1UanMacRcGw_a299426e341f023ae7bde2f62e4269d90}


Constructor. 


\begin{DoxyCode}
49   : UanMac (),
50     \hyperlink{classns3_1_1UanMacRcGw_ac3222d8eea64d77215039f67e90ef96a}{m\_state} (\hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da8cd582d760976a9b3719d7a6405661dd}{IDLE}),
51     \hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum} (0),
52     \hyperlink{classns3_1_1UanMacRcGw_a6565d014e10e25e3883a1ca3f48896ee}{m\_cleared} (\textcolor{keyword}{false})
53 \{
54   UanHeaderCommon ch;
55   UanHeaderRcRts rts;
56   UanHeaderRcCts cts;
57   UanHeaderRcAck ack;
58   UanHeaderRcCtsGlobal ctsg;
59 
60   \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} = ch.GetSerializedSize () + rts.GetSerializedSize ();
61   \hyperlink{classns3_1_1UanMacRcGw_a2507eef2cc37e441e72644650341bf70}{m\_ctsSizeN} = cts.GetSerializedSize ();
62   \hyperlink{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}{m\_ctsSizeG} = ch.GetSerializedSize () + ctsg.GetSerializedSize ();
63   \hyperlink{classns3_1_1UanMacRcGw_af6e2ac2d10617fe1807819b71d7ba61b}{m\_ackSize} = ch.GetSerializedSize () + ack.GetSerializedSize ();
64 
65   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Gateway initialized"});
66 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!````~Uan\+Mac\+Rc\+Gw@{$\sim$\+Uan\+Mac\+Rc\+Gw}}
\index{````~Uan\+Mac\+Rc\+Gw@{$\sim$\+Uan\+Mac\+Rc\+Gw}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{$\sim$\+Uan\+Mac\+Rc\+Gw()}{~UanMacRcGw()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Uan\+Mac\+Rc\+Gw\+::$\sim$\+Uan\+Mac\+Rc\+Gw (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanMacRcGw_aff7f4df704b98f65567e0dc8b054460d}{}\label{classns3_1_1UanMacRcGw_aff7f4df704b98f65567e0dc8b054460d}


Dummy destructor, see Do\+Dispose. 


\begin{DoxyCode}
69 \{
70 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Assign\+Streams@{Assign\+Streams}}
\index{Assign\+Streams@{Assign\+Streams}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Assign\+Streams(int64\+\_\+t stream)}{AssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanMacRcGw_a491f7f510855411f0a7efd6f5f0c2bd1}{}\label{classns3_1_1UanMacRcGw_a491f7f510855411f0a7efd6f5f0c2bd1}
Assign a fixed random variable stream number to the random variables used by this model. Return the number of streams (possibly zero) that have been assigned.


\begin{DoxyParams}{Parameters}
{\em stream} & First stream index to use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of stream indices assigned by this model. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1UanMac_a903c2313ccb53edb49fb7b97c1417684}{ns3\+::\+Uan\+Mac}.


\begin{DoxyCode}
728 \{
729   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << stream);
730   \textcolor{keywordflow}{return} 0;
731 \}
\end{DoxyCode}
\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Attach\+Phy@{Attach\+Phy}}
\index{Attach\+Phy@{Attach\+Phy}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Attach\+Phy(\+Ptr$<$ Uan\+Phy $>$ phy)}{AttachPhy(Ptr< UanPhy > phy)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Attach\+Phy (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Uan\+Phy} $>$}]{phy}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanMacRcGw_ae1467bc739ab7ac0dc9f1d1cef3bb55a}{}\label{classns3_1_1UanMacRcGw_ae1467bc739ab7ac0dc9f1d1cef3bb55a}
Attach P\+HY layer to this M\+AC.

Some M\+A\+Cs may be designed to work with multiple P\+HY layers. Others may only work with one.


\begin{DoxyParams}{Parameters}
{\em phy} & Phy layer to attach to this M\+AC. \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1UanMac_a8c47721cbe5fabab867aca200618ba7c}{ns3\+::\+Uan\+Mac}.


\begin{DoxyCode}
200 \{
201   \hyperlink{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{m\_phy} = phy;
202   phy->SetReceiveOkCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1UanMacRcGw_aa47b708b4a5a7bda0dbd4dded98723f3}{UanMacRcGw::ReceivePacket}, \textcolor{keyword}{this}));
203   phy->SetReceiveErrorCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1UanMacRcGw_a00e63a2f20787c4024c763fc4aed97e4}{UanMacRcGw::ReceiveError}, \textcolor{keyword}{this}));
204 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Clear@{Clear}}
\index{Clear@{Clear}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Clear(void)}{Clear(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Clear (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanMacRcGw_a1b55372d9c1a92d9e95cf6dcabf9719b}{}\label{classns3_1_1UanMacRcGw_a1b55372d9c1a92d9e95cf6dcabf9719b}
Clears all pointer references. 

Implements \hyperlink{classns3_1_1UanMac_a82fb3d02bc2fe1f0eed7ad3b816af7bd}{ns3\+::\+Uan\+Mac}.


\begin{DoxyCode}
74 \{
75   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UanMacRcGw_a6565d014e10e25e3883a1ca3f48896ee}{m\_cleared})
76     \{
77       \textcolor{keywordflow}{return};
78     \}
79   \hyperlink{classns3_1_1UanMacRcGw_a6565d014e10e25e3883a1ca3f48896ee}{m\_cleared} = \textcolor{keyword}{true};
80   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{m\_phy})
81     \{
82       \hyperlink{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{m\_phy}->Clear ();
83       \hyperlink{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{m\_phy} = 0;
84     \}
85   \hyperlink{classns3_1_1UanMacRcGw_adea1fcd9ce2850a32d2d7ff1f84c5958}{m\_propDelay}.clear ();
86   std::map<UanAddress, AckData>::iterator it = \hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\_ackData}.begin ();
87   \textcolor{keywordflow}{for} (; it != \hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\_ackData}.end (); it++)
88     \{
89       it->second.rxFrames.clear ();
90     \}
91   \hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\_ackData}.clear ();
92   \hyperlink{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}{m\_requests}.clear ();
93   \hyperlink{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}{m\_sortedRes}.clear ();
94 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Comp\+Exp\+Min\+Index@{Comp\+Exp\+Min\+Index}}
\index{Comp\+Exp\+Min\+Index@{Comp\+Exp\+Min\+Index}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Comp\+Exp\+Min\+Index(uint32\+\_\+t n, uint32\+\_\+t k)}{CompExpMinIndex(uint32_t n, uint32_t k)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Comp\+Exp\+Min\+Index (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{n, }
\item[{uint32\+\_\+t}]{k}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_af7b5b9964d69df78a894857b87b680f2}{}\label{classns3_1_1UanMacRcGw_af7b5b9964d69df78a894857b87b680f2}
Index to the k\textquotesingle{}th expected delay among n nodes.


\begin{DoxyParams}{Parameters}
{\em n} & Number of nodes. \\
\hline
{\em k} & Target index. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The expected index. 
\end{DoxyReturn}

\begin{DoxyCode}
642 \{
643   \textcolor{keywordtype}{double} sum = 0;
644   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 1; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} <= \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} - k + 1; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
645     \{
646       \textcolor{keywordtype}{double} nChK = \hyperlink{classns3_1_1UanMacRcGw_a8175312ac53cbda5b11e89c0864a4a35}{NchooseK} (\hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}, k);
647       \textcolor{keywordtype}{double} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = (nChK > 0) ? (\hyperlink{classns3_1_1UanMacRcGw_a8175312ac53cbda5b11e89c0864a4a35}{NchooseK} (\hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} - \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, k - 1) / nChK) : DBL\_MAX;
648       sum += p * \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
649     \}
650   \textcolor{keywordflow}{return} (uint32\_t)(sum + 0.5);
651 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Compute\+Alpha@{Compute\+Alpha}}
\index{Compute\+Alpha@{Compute\+Alpha}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Compute\+Alpha(uint32\+\_\+t total\+Frames, uint32\+\_\+t total\+Bytes, uint32\+\_\+t n, uint32\+\_\+t a, double delta\+K)}{ComputeAlpha(uint32_t totalFrames, uint32_t totalBytes, uint32_t n, uint32_t a, double deltaK)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Compute\+Alpha (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{total\+Frames, }
\item[{uint32\+\_\+t}]{total\+Bytes, }
\item[{uint32\+\_\+t}]{n, }
\item[{uint32\+\_\+t}]{a, }
\item[{double}]{deltaK}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a16f2a2f4cb6bf1bc8f3aed5c9d7d83ba}{}\label{classns3_1_1UanMacRcGw_a16f2a2f4cb6bf1bc8f3aed5c9d7d83ba}
Compute alpha parameter.


\begin{DoxyParams}{Parameters}
{\em total\+Frames} & Total number of frames in m\+\_\+requests. \\
\hline
{\em total\+Bytes} & Total number of bytes in m\+\_\+requests. \\
\hline
{\em n} & Number of nodes. \\
\hline
{\em a} & m\+\_\+max\+Res, or optimal A value. \\
\hline
{\em deltaK} & Propagation delay. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Alpha parameter. 
\end{DoxyReturn}

\begin{DoxyCode}
548 \{
549 
550   \textcolor{keywordtype}{double} \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha};
551   \textcolor{keywordtype}{double} lrae = \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} * 8.0 * a * std::exp (1.0);
552   \textcolor{keywordflow}{if} (totalFrames == 0)
553     \{
554 
555       alpha =  (2.0 * lrae + 8.0 * \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} - std::sqrt (\hyperlink{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}{m\_ctsSizeG} * 8.0 * 8.0 * 
      \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} + 2 * 8.0 * \hyperlink{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}{m\_ctsSizeG} * 8.0 * \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} * a * std::exp (1.0)) ) /
556         (2 * lrae + 8.0 * \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} - 8.0 * \hyperlink{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}{m\_ctsSizeG});
557     \}
558   \textcolor{keywordflow}{else}
559     \{
560       \textcolor{keywordtype}{double} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_afd61ec66f9d7b807eece6eb12c781844}{w} = totalBytes * 8.0 + totalFrames*\hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () * 
      \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate};
561       \textcolor{keywordtype}{double} v = \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} * 8.0 + 2 * lrae;
562       \textcolor{keywordtype}{double} u = (2 * \hyperlink{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}{m\_maxDelta}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () - 2 * deltaK) * 
      \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate};
563 
564       \textcolor{keywordtype}{double} \hyperlink{lte__amc_8m_a8d00631c9622112f1877fdb1222c242e}{gamma} = (w - u + v) / (2 * (u - totalFrames * \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs}.
      \hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () * \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate}));
565 
566       alpha = -gamma + std::sqrt (gamma * gamma + v / (u - totalFrames * \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs}.
      \hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () * \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate}));
567 
568       \textcolor{keywordflow}{if} (alpha < 0 || alpha > 1)
569         \{
570           alpha = -gamma - std::sqrt (gamma * gamma + v / (u - totalFrames * 
      \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () * \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate}));
571         \}
572     \}
573   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (alpha > 0 && alpha < 1, \textcolor{stringliteral}{"Error computing alpha.  Alpha out of valid range!"});
574   \textcolor{keywordflow}{return} \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha};
575 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Compute\+Exp\+B\+OverA@{Compute\+Exp\+B\+OverA}}
\index{Compute\+Exp\+B\+OverA@{Compute\+Exp\+B\+OverA}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Compute\+Exp\+B\+Over\+A(uint32\+\_\+t n, uint32\+\_\+t a, uint32\+\_\+t ldlh, std\+::vector$<$ double $>$ delta\+K)}{ComputeExpBOverA(uint32_t n, uint32_t a, uint32_t ldlh, std::vector< double > deltaK)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Compute\+Exp\+B\+OverA (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{n, }
\item[{uint32\+\_\+t}]{a, }
\item[{uint32\+\_\+t}]{ldlh, }
\item[{std\+::vector$<$ double $>$}]{deltaK}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_ae6060c6de55e408f0dbacefa3595388c}{}\label{classns3_1_1UanMacRcGw_ae6060c6de55e408f0dbacefa3595388c}
Numeric function.


\begin{DoxyParams}{Parameters}
{\em n} & Number of nodes. \\
\hline
{\em a} & Number of reservations. \\
\hline
{\em ldlh} & Sum of common header length and frame size. \\
\hline
{\em deltaK} & Result of Get\+Exp\+Pdk \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
value. 
\end{DoxyReturn}

\begin{DoxyCode}
662 \{
663 
664   \textcolor{keywordtype}{double} sum = 0;
665   uint32\_t lt = 8 * (\hyperlink{classns3_1_1UanMacRcGw_a2507eef2cc37e441e72644650341bf70}{m\_ctsSizeN} + ldlh + \hyperlink{classns3_1_1UanMacRcGw_af6e2ac2d10617fe1807819b71d7ba61b}{m\_ackSize});
666   \textcolor{keywordflow}{for} (uint32\_t k = 1; k <= \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}; k++)
667     \{
668       \textcolor{keywordtype}{double} num = 8.0 * \hyperlink{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}{m\_ctsSizeG} + k * lt;
669       \textcolor{keywordtype}{double} denom = (1.0 - \hyperlink{classns3_1_1UanMacRcGw_a16f2a2f4cb6bf1bc8f3aed5c9d7d83ba}{ComputeAlpha} (k, k * ldlh, \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}, a, deltaK[k])) * 
      \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate};
670       \textcolor{keywordtype}{double} pik = \hyperlink{classns3_1_1UanMacRcGw_ab5e169844c40817b3f4654caac633ef5}{ComputePiK} (a, \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}, k);
671       \textcolor{keywordtype}{double} term = pik * num / denom;
672 
673       sum += term;
674     \}
675 
676   \textcolor{keywordflow}{return} sum;
677 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Compute\+ExpS@{Compute\+ExpS}}
\index{Compute\+ExpS@{Compute\+ExpS}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Compute\+Exp\+S(uint32\+\_\+t a, uint32\+\_\+t ld, std\+::vector$<$ double $>$ exppdk)}{ComputeExpS(uint32_t a, uint32_t ld, std::vector< double > exppdk)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Compute\+ExpS (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{a, }
\item[{uint32\+\_\+t}]{ld, }
\item[{std\+::vector$<$ double $>$}]{exppdk}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a5566db3707051fb685ffe6db5a2bf9ad}{}\label{classns3_1_1UanMacRcGw_a5566db3707051fb685ffe6db5a2bf9ad}
Throughput for \{a\} reservations with framesize \{ld\}, given expected delays exppdk.


\begin{DoxyParams}{Parameters}
{\em a} & Number of reservations. \\
\hline
{\em ld} & Frame size. \\
\hline
{\em exppdk} & Expected delays, given by Get\+Exp\+Pdk. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Expected throughput. 
\end{DoxyReturn}

\begin{DoxyCode}
607 \{
608   UanHeaderCommon ch;
609   uint32\_t lh = ch.GetSerializedSize ();
610 
611   uint32\_t \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} = \hyperlink{classns3_1_1UanMacRcGw_a00185ef8e5203de223265077a3ad2cf4}{m\_numNodes};
612   \textcolor{keywordtype}{double} expk = n * (1 - std::exp (-((\textcolor{keywordtype}{double}) a) / (\textcolor{keywordtype}{double}) n));
613   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"expk = "} << expk);
614 
615   \textcolor{comment}{// Compute expected data per cycle}
616   \textcolor{keywordtype}{double} expdata = 8 * ld * expk;
617 
618   \textcolor{comment}{// Compute expected time per cycle}
619   \textcolor{keywordtype}{double} alpha0 = \hyperlink{classns3_1_1UanMacRcGw_a16f2a2f4cb6bf1bc8f3aed5c9d7d83ba}{ComputeAlpha} (0,0,n,a,exppdk[0]);
620   \textcolor{keywordtype}{double} c0 = 8.0 * \hyperlink{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}{m\_ctsSizeG} / ( \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate} * (1 - alpha0)) + 2 * 
      \hyperlink{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}{m\_maxDelta}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () + (a * std::exp (1.0) + 0.5) * 2 * 
      \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} * 8.0 / (alpha0 * \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate});
621   \textcolor{keywordtype}{double} exptime = \hyperlink{classns3_1_1UanMacRcGw_ab5e169844c40817b3f4654caac633ef5}{ComputePiK} (a,n,0) * c0;
622   \textcolor{keywordtype}{double} expp = 0;
623   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 1; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} <= \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
624     \{
625       expp += \hyperlink{classns3_1_1UanMacRcGw_ab5e169844c40817b3f4654caac633ef5}{ComputePiK} (a,n,\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) * exppdk[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} - 1];
626     \}
627 
628   exptime += \hyperlink{classns3_1_1UanMacRcGw_ae6060c6de55e408f0dbacefa3595388c}{ComputeExpBOverA} (n,a,ld + lh,exppdk) + expk * 2 * 
      \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () + \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () + 2 * expp;
629   \textcolor{keywordtype}{double} \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s} = (1.0 / \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate}) * expdata / exptime;
630 
631   \textcolor{keywordflow}{return} \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
632 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Compute\+ExpS@{Compute\+ExpS}}
\index{Compute\+ExpS@{Compute\+ExpS}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Compute\+Exp\+S(uint32\+\_\+t a, uint32\+\_\+t ld)}{ComputeExpS(uint32_t a, uint32_t ld)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Compute\+ExpS (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{a, }
\item[{uint32\+\_\+t}]{ld}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a4c72ab2a3cf75991d00cd183218a7045}{}\label{classns3_1_1UanMacRcGw_a4c72ab2a3cf75991d00cd183218a7045}
Throughput for \{a\} reservations with framesize \{ld\}.


\begin{DoxyParams}{Parameters}
{\em a} & Number of reservations. \\
\hline
{\em ld} & Frame size. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Expected throughput. 
\end{DoxyReturn}

\begin{DoxyCode}
636 \{
637   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UanMacRcGw_a5566db3707051fb685ffe6db5a2bf9ad}{ComputeExpS} (a, ld, \hyperlink{classns3_1_1UanMacRcGw_aeec69b11f4b59b2afdf93d1b9e845c88}{GetExpPdk} ());
638 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Compute\+PiK@{Compute\+PiK}}
\index{Compute\+PiK@{Compute\+PiK}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Compute\+Pi\+K(uint32\+\_\+t a, uint32\+\_\+t n, uint32\+\_\+t k)}{ComputePiK(uint32_t a, uint32_t n, uint32_t k)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Compute\+PiK (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{a, }
\item[{uint32\+\_\+t}]{n, }
\item[{uint32\+\_\+t}]{k}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_ab5e169844c40817b3f4654caac633ef5}{}\label{classns3_1_1UanMacRcGw_ab5e169844c40817b3f4654caac633ef5}
Numeric function.


\begin{DoxyParams}{Parameters}
{\em a} & Number of reservations. \\
\hline
{\em n} & number of nodes. \\
\hline
{\em k} & K\textquotesingle{}th node. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Value. 
\end{DoxyReturn}

\begin{DoxyCode}
655 \{
656   \textcolor{keywordtype}{double} nck = (double) \hyperlink{classns3_1_1UanMacRcGw_a8175312ac53cbda5b11e89c0864a4a35}{NchooseK} (\hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}, k);
657   \textcolor{keywordflow}{return} nck * std::pow ( (std::exp ( (\textcolor{keywordtype}{double}) a / (\textcolor{keywordtype}{double}) \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}) - 1.0), (\textcolor{keywordtype}{double}) k) * std::exp (-( (\textcolor{keywordtype}{double})
       a));
658 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Cycle\+Started@{Cycle\+Started}}
\index{Cycle\+Started@{Cycle\+Started}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Cycle\+Started(void)}{CycleStarted(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Cycle\+Started (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a9fba6730296ff817e04a485c8fc07d96}{}\label{classns3_1_1UanMacRcGw_a9fba6730296ff817e04a485c8fc07d96}
Set state to I\+N\+C\+Y\+C\+LE. 
\begin{DoxyCode}
465 \{
466   \hyperlink{classns3_1_1UanMacRcGw_ac3222d8eea64d77215039f67e90ef96a}{m\_state} = \hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da17d37d390d3d07c9a5ca83303f23cc90}{INCYCLE};
467 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1UanMacRcGw_a1404848da08e761be9ad80a2b4ae023e}{}\label{classns3_1_1UanMacRcGw_a1404848da08e761be9ad80a2b4ae023e}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1UanMacRcGw_a1404848da08e761be9ad80a2b4ae023e}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
98 \{
99   \hyperlink{classns3_1_1UanMacRcGw_a1b55372d9c1a92d9e95cf6dcabf9719b}{Clear} ();
100   \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{UanMac::DoDispose} ();
101 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!End\+Cycle@{End\+Cycle}}
\index{End\+Cycle@{End\+Cycle}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{End\+Cycle(void)}{EndCycle(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+End\+Cycle (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_afd7577179828a6dd31e59427f3c98672}{}\label{classns3_1_1UanMacRcGw_afd7577179828a6dd31e59427f3c98672}
End cycle by scheduling pending A\+C\+Ks. 
\begin{DoxyCode}
470 \{
471 
472   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" GW Ending cycle"});
473 
474   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} nextAck = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
475 
476   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} ackTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (\hyperlink{classns3_1_1UanMacRcGw_af6e2ac2d10617fe1807819b71d7ba61b}{m\_ackSize} * 8.0 / \hyperlink{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{m\_phy}->GetMode (
      \hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum}).GetDataRateBps ());
477 
478   std::map<UanAddress, AckData>::iterator it = \hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\_ackData}.begin ();
479   \textcolor{keywordflow}{for} (; it != \hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\_ackData}.end (); it++)
480     \{
481       UanAddress dest = (*it).first;
482       AckData &\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data} = (*it).second;
483 
484       std::list<uint32\_t> toNack;
485       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < data.expFrames; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
486         \{
487           \textcolor{keywordflow}{if} (data.rxFrames.find (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == data.rxFrames.end ())
488             \{
489               toNack.push\_back (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
490             \}
491         \}
492       UanHeaderCommon ch;
493       ch.SetDest (dest);
494       ch.SetSrc (\hyperlink{classns3_1_1UanMacRcGw_aca721ba2f63161e937d0f856f4a566a0}{m\_address});
495       ch.SetType (\hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a39266e2ea841589d68abb33f3691d9b3}{UanMacRc::TYPE\_ACK});
496       UanHeaderRcAck ah;
497       ah.SetFrameNo (data.frameNo);
498       std::list<uint32\_t>::iterator nit = toNack.begin ();
499       \textcolor{keywordflow}{for} (; nit != toNack.end (); nit++)
500         \{
501           ah.AddNackedFrame (*nit);
502         \}
503 
504       Ptr<Packet> ack = Create<Packet> ();
505       ack->AddHeader (ah);
506       ack->AddHeader (ch);
507       \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (nextAck, &\hyperlink{classns3_1_1UanMacRcGw_a0e3aefc24d4dffd594008152ba63269c}{UanMacRcGw::SendPacket}, \textcolor{keyword}{this},
       ack, \hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum});
508       nextAck = nextAck + ackTime + \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs};
509     \}
510   \hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\_ackData}.clear ();
511   \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (nextAck, &\hyperlink{classns3_1_1UanMacRcGw_ac578bc895186506f0954fa86eefa8d6a}{UanMacRcGw::StartCycle}, \textcolor{keyword}{this});
512 
513 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Enqueue@{Enqueue}}
\index{Enqueue@{Enqueue}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Enqueue(\+Ptr$<$ Packet $>$ pkt, const Address \&dest, uint16\+\_\+t protocol\+Number)}{Enqueue(Ptr< Packet > pkt, const Address &dest, uint16_t protocolNumber)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Enqueue (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{pkt, }
\item[{const {\bf Address} \&}]{dest, }
\item[{uint16\+\_\+t}]{protocol\+Number}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanMacRcGw_a5887fee6477de597ba3fa6b7b19f3862}{}\label{classns3_1_1UanMacRcGw_a5887fee6477de597ba3fa6b7b19f3862}
Enqueue packet to be transmitted.


\begin{DoxyParams}{Parameters}
{\em pkt} & \hyperlink{classns3_1_1Packet}{Packet} to be transmitted. \\
\hline
{\em dest} & Destination address. \\
\hline
{\em protocol\+Number} & Protocol number. Usage varies by M\+AC. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if packet was successfully enqueued. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1UanMac_a4d9259b3d0592ac5c1657216789ea2bc}{ns3\+::\+Uan\+Mac}.


\begin{DoxyCode}
187 \{
188   \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"RCMAC Gateway transmission to acoustic nodes is not yet implemented"});
189   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
190 \}
\end{DoxyCode}
\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Find\+OptA@{Find\+OptA}}
\index{Find\+OptA@{Find\+OptA}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Find\+Opt\+A(void)}{FindOptA(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Find\+OptA (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_acf37aa19bb4293829fec2ff254c56826}{}\label{classns3_1_1UanMacRcGw_acf37aa19bb4293829fec2ff254c56826}
Compute the optimum maximum number of reservations to accept per cycle.

\begin{DoxyReturn}{Returns}
Optimum number. 
\end{DoxyReturn}

\begin{DoxyCode}
704 \{
705   \textcolor{keywordtype}{double} tput = 0;
706   uint32\_t a = 1;
707   \textcolor{keywordflow}{while} (1)
708     \{
709 
710       \textcolor{keywordtype}{double} newtput = \hyperlink{classns3_1_1UanMacRcGw_a5566db3707051fb685ffe6db5a2bf9ad}{ComputeExpS} (a, \hyperlink{classns3_1_1UanMacRcGw_a7cb11b74720c0aa781dea646ac940ac4}{m\_frameSize});
711       \textcolor{keywordflow}{if} (newtput < tput)
712         \{
713           a--;
714           \textcolor{keywordflow}{break};
715         \}
716       \textcolor{keywordflow}{else}
717         \{
718           tput = newtput;
719           a++;
720         \}
721     \}
722   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" GW: Found optimum a = "} << a
      );
723   \textcolor{keywordflow}{return} a;
724 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 20




Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Get\+Address@{Get\+Address}}
\index{Get\+Address@{Get\+Address}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Get\+Address(void)}{GetAddress(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Address} ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Get\+Address (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanMacRcGw_adeefc04b015d9a518a11781a6a32bbc3}{}\label{classns3_1_1UanMacRcGw_adeefc04b015d9a518a11781a6a32bbc3}
Get the M\+AC \hyperlink{classns3_1_1Address}{Address}.

\begin{DoxyReturn}{Returns}
M\+AC \hyperlink{classns3_1_1Address}{Address}. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1UanMac_acb7d2a67ab233b5750f3b2bf2b64440e}{ns3\+::\+Uan\+Mac}.


\begin{DoxyCode}
175 \{
176   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UanMacRcGw_aca721ba2f63161e937d0f856f4a566a0}{m\_address};
177 \}
\end{DoxyCode}
\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Get\+Broadcast@{Get\+Broadcast}}
\index{Get\+Broadcast@{Get\+Broadcast}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Get\+Broadcast(void) const }{GetBroadcast(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Address} ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Get\+Broadcast (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanMacRcGw_ad197e94cc1ce4910264f838fc600241c}{}\label{classns3_1_1UanMacRcGw_ad197e94cc1ce4910264f838fc600241c}
Get the broadcast address.

\begin{DoxyReturn}{Returns}
The broadcast address. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1UanMac_a16a70508cae032144a44e7534c8636b1}{ns3\+::\+Uan\+Mac}.


\begin{DoxyCode}
213 \{
214   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UanAddress_ad3b8c69e1408b20f0536a95d70ccbeda}{UanAddress::GetBroadcast} ();
215 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 22


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Get\+Exp\+Pdk@{Get\+Exp\+Pdk}}
\index{Get\+Exp\+Pdk@{Get\+Exp\+Pdk}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Get\+Exp\+Pdk(void)}{GetExpPdk(void)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ double $>$ ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Get\+Exp\+Pdk (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_aeec69b11f4b59b2afdf93d1b9e845c88}{}\label{classns3_1_1UanMacRcGw_aeec69b11f4b59b2afdf93d1b9e845c88}
Get the expected propagation delay to each node.

\begin{DoxyReturn}{Returns}
Vector of expected propagation delays. 
\end{DoxyReturn}

\begin{DoxyCode}
579 \{
580   uint32\_t \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} = \hyperlink{classns3_1_1UanMacRcGw_a00185ef8e5203de223265077a3ad2cf4}{m\_numNodes};
581   std::vector<double> pds;
582   std::map<UanAddress, Time>::iterator pdit = \hyperlink{classns3_1_1UanMacRcGw_adea1fcd9ce2850a32d2d7ff1f84c5958}{m\_propDelay}.begin ();
583 
584   \textcolor{keywordflow}{for} (; pdit != \hyperlink{classns3_1_1UanMacRcGw_adea1fcd9ce2850a32d2d7ff1f84c5958}{m\_propDelay}.end (); pdit++)
585     \{
586       pds.push\_back (pdit->second.GetSeconds ());
587     \}
588   \textcolor{keywordflow}{while} (pds.size () < \hyperlink{classns3_1_1UanMacRcGw_a00185ef8e5203de223265077a3ad2cf4}{m\_numNodes})
589     \{
590       pds.push\_back (\hyperlink{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}{m\_maxDelta}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} ());
591     \}
592 
593   std::sort (pds.begin (), pds.end ());
594   \textcolor{comment}{// Find expected min. prop. delay for k nodes}
595   std::vector<double> exppdk;
596   exppdk.push\_back (\hyperlink{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}{m\_maxDelta}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} ());
597   \textcolor{keywordflow}{for} (uint32\_t k = 1; k <= \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}; k++)
598     \{
599       uint32\_t ind = \hyperlink{classns3_1_1UanMacRcGw_af7b5b9964d69df78a894857b87b680f2}{CompExpMinIndex} (n,k) - 1;
600       exppdk.push\_back (pds[ind]);
601     \}
602   \textcolor{keywordflow}{return} exppdk;
603 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23




Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1UanMacRcGw_a2e43f95acb5fa3847daf1883233fe791}{}\label{classns3_1_1UanMacRcGw_a2e43f95acb5fa3847daf1883233fe791}
Register this type. \begin{DoxyReturn}{Returns}
The type ID. 
\end{DoxyReturn}

\begin{DoxyCode}
104 \{
105   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::UanMacRcGw"})
106     .SetParent<UanMac> ()
107     .SetGroupName (\textcolor{stringliteral}{"Uan"})
108     .AddConstructor<\hyperlink{classns3_1_1UanMacRcGw_a299426e341f023ae7bde2f62e4269d90}{UanMacRcGw}> ()
109     .AddAttribute (\textcolor{stringliteral}{"MaxReservations"},
110                    \textcolor{stringliteral}{"Maximum number of reservations to accept per cycle."},
111                    UintegerValue (10),
112                    MakeUintegerAccessor (&\hyperlink{classns3_1_1UanMacRcGw_a14fb67143992d3c9f81e27f5647045e1}{UanMacRcGw::m\_maxRes}),
113                    MakeUintegerChecker<uint32\_t> ())
114     .AddAttribute (\textcolor{stringliteral}{"NumberOfRates"},
115                    \textcolor{stringliteral}{"Number of rates per Phy layer."},
116                    UintegerValue (1023),
117                    MakeUintegerAccessor (&\hyperlink{classns3_1_1UanMacRcGw_a86339396f55693d151f8c217bfcf6149}{UanMacRcGw::m\_numRates}),
118                    MakeUintegerChecker<uint32\_t> ())
119     .AddAttribute (\textcolor{stringliteral}{"MaxPropDelay"},
120                    \textcolor{stringliteral}{"Maximum propagation delay between gateway and non-gateway nodes."},
121                    TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2)),
122                    MakeTimeAccessor (&\hyperlink{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}{UanMacRcGw::m\_maxDelta}),
123                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
124     .AddAttribute (\textcolor{stringliteral}{"SIFS"},
125                    \textcolor{stringliteral}{"Spacing between frames to account for timing error and processing delay."},
126                    TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.2)),
127                    MakeTimeAccessor (&\hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{UanMacRcGw::m\_sifs}),
128                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
129     .AddAttribute (\textcolor{stringliteral}{"NumberOfNodes"},
130                    \textcolor{stringliteral}{"Number of non-gateway nodes in this gateway's neighborhood."},
131                    UintegerValue (10),
132                    MakeUintegerAccessor (&\hyperlink{classns3_1_1UanMacRcGw_a00185ef8e5203de223265077a3ad2cf4}{UanMacRcGw::m\_numNodes}),
133                    MakeUintegerChecker<uint32\_t> ())
134     .AddAttribute (\textcolor{stringliteral}{"MinRetryRate"},
135                    \textcolor{stringliteral}{"Smallest allowed RTS retry rate."},
136                    DoubleValue (0.01),
137                    MakeDoubleAccessor (&\hyperlink{classns3_1_1UanMacRcGw_a1b80a997bc4b47fad40ee75304605786}{UanMacRcGw::m\_minRetryRate}),
138                    MakeDoubleChecker<double> ())
139     .AddAttribute (\textcolor{stringliteral}{"RetryStep"},
140                    \textcolor{stringliteral}{"Retry rate increment."},
141                    DoubleValue (0.01),
142                    MakeDoubleAccessor (&\hyperlink{classns3_1_1UanMacRcGw_add3041a7bf45e5d81fff4600ba20caf6}{UanMacRcGw::m\_retryStep}),
143                    MakeDoubleChecker<double> ())
144     .AddAttribute (\textcolor{stringliteral}{"TotalRate"},
145                    \textcolor{stringliteral}{"Total available channel rate in bps (for a single channel, without splitting
       reservation channel)."},
146                    UintegerValue (4096),
147                    MakeUintegerAccessor (&\hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{UanMacRcGw::m\_totalRate}),
148                    MakeUintegerChecker<uint32\_t> ())
149     .AddAttribute (\textcolor{stringliteral}{"RateStep"},
150                    \textcolor{stringliteral}{"Increments available for rate assignment in bps."},
151                    UintegerValue (4),
152                    MakeUintegerAccessor (&\hyperlink{classns3_1_1UanMacRcGw_a358dc1512c2e94359c1892eae090f7e1}{UanMacRcGw::m\_rateStep}),
153                    MakeUintegerChecker<uint32\_t> ())
154     .AddAttribute (\textcolor{stringliteral}{"FrameSize"},
155                    \textcolor{stringliteral}{"Size of data frames in bytes."},
156                    UintegerValue (1000),
157                    MakeUintegerAccessor (&\hyperlink{classns3_1_1UanMacRcGw_a7cb11b74720c0aa781dea646ac940ac4}{UanMacRcGw::m\_frameSize}),
158                    MakeUintegerChecker<uint32\_t> ())
159     .AddTraceSource (\textcolor{stringliteral}{"RX"},
160                      \textcolor{stringliteral}{"A packet was destined for and received at this MAC layer."},
161                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1UanMacRcGw_af9c5b278e86a12e4aea40599b721f18e}{UanMacRcGw::m\_rxLogger}),
162                      \textcolor{stringliteral}{"ns3::UanMac::PacketModeTracedCallback"})
163     .AddTraceSource (\textcolor{stringliteral}{"Cycle"},
164                      \textcolor{stringliteral}{"Trace cycle statistics."},
165                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1UanMacRcGw_a4c743f84c92dcc29b476cfd229d68dd8}{UanMacRcGw::m\_cycleLogger}),
166                      \textcolor{stringliteral}{"ns3::UanMacRcGw::CycleCallback"})
167 
168   ;
169 
170   \textcolor{keywordflow}{return} tid;
171 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 25


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!NchooseK@{NchooseK}}
\index{NchooseK@{NchooseK}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Nchoose\+K(uint32\+\_\+t n, uint32\+\_\+t k)}{NchooseK(uint32_t n, uint32_t k)}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+NchooseK (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{n, }
\item[{uint32\+\_\+t}]{k}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a8175312ac53cbda5b11e89c0864a4a35}{}\label{classns3_1_1UanMacRcGw_a8175312ac53cbda5b11e89c0864a4a35}
Binomial coefficient.


\begin{DoxyParams}{Parameters}
{\em n} & Pool size. \\
\hline
{\em k} & Selection size. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Binomial coefficient n choose k. 
\end{DoxyReturn}

\begin{DoxyCode}
681 \{
682   \textcolor{keywordflow}{if} (k > \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n})
683     \{
684       \textcolor{keywordflow}{return} 0;
685     \}
686 
687   \textcolor{keywordflow}{if} (k > \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} / 2)
688     \{
689       k = \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} - k;
690     \}
691 
692   \textcolor{keywordtype}{double} accum = 1;
693   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 1; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} <= k; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
694     \{
695       accum = accum * (\hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} - k + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) / \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
696     \}
697 
698   \textcolor{keywordflow}{return} (uint64\_t)(accum + 0.5);
699 
700 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Receive\+Error@{Receive\+Error}}
\index{Receive\+Error@{Receive\+Error}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Receive\+Error(\+Ptr$<$ Packet $>$ pkt, double sinr)}{ReceiveError(Ptr< Packet > pkt, double sinr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Receive\+Error (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{pkt, }
\item[{double}]{sinr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a00e63a2f20787c4024c763fc4aed97e4}{}\label{classns3_1_1UanMacRcGw_a00e63a2f20787c4024c763fc4aed97e4}
P\+HY receive error callback.


\begin{DoxyParams}{Parameters}
{\em pkt} & The failed packet. \\
\hline
{\em sinr} & The S\+I\+NR value on the channel. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
208 \{
209 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 27


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Receive\+Packet@{Receive\+Packet}}
\index{Receive\+Packet@{Receive\+Packet}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Receive\+Packet(\+Ptr$<$ Packet $>$ pkt, double sinr, Uan\+Tx\+Mode mode)}{ReceivePacket(Ptr< Packet > pkt, double sinr, UanTxMode mode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Receive\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{pkt, }
\item[{double}]{sinr, }
\item[{{\bf Uan\+Tx\+Mode}}]{mode}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_aa47b708b4a5a7bda0dbd4dded98723f3}{}\label{classns3_1_1UanMacRcGw_aa47b708b4a5a7bda0dbd4dded98723f3}
P\+HY recieve ok callback.


\begin{DoxyParams}{Parameters}
{\em pkt} & The \hyperlink{classns3_1_1Packet}{Packet} to receive \\
\hline
{\em sinr} & The S\+I\+NR on the channel \\
\hline
{\em mode} & The transmission mode \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
219 \{
220   UanHeaderCommon ch;
221   pkt->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (ch);
222 
223   \textcolor{keywordflow}{if} (ch.GetDest () == \hyperlink{classns3_1_1UanMacRcGw_aca721ba2f63161e937d0f856f4a566a0}{m\_address} || ch.GetDest () == 
      \hyperlink{classns3_1_1UanAddress_ad3b8c69e1408b20f0536a95d70ccbeda}{UanAddress::GetBroadcast} ())
224     \{
225       \hyperlink{classns3_1_1UanMacRcGw_af9c5b278e86a12e4aea40599b721f18e}{m\_rxLogger} (pkt, mode);
226     \}
227   \textcolor{keywordflow}{else}
228     \{
229       \textcolor{keywordflow}{return};
230     \}
231 
232   pkt->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (ch);
233 
234   \textcolor{keywordflow}{switch} (ch.GetType ())
235     \{
236     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a21bca93e0670db9a343de5d95ff64092}{UanMacRc::TYPE\_DATA}:
237       \{
238         UanHeaderRcData dh;
239         pkt->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (dh);
240         \hyperlink{classns3_1_1UanMacRcGw_adea1fcd9ce2850a32d2d7ff1f84c5958}{m\_propDelay}[ch.GetSrc ()] = dh.GetPropDelay ();
241         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\_ackData}.find (ch.GetSrc ()) == \hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\_ackData}.end ())
242           \{
243             \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" GATEWAY Received
       unexpected data packet"});
244           \}
245         \textcolor{keywordflow}{else}
246           \{
247             \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" GW Received data
       packet from "} << ch.GetSrc () << \textcolor{stringliteral}{" length = "} << pkt->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
248             \hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\_ackData}[ch.GetSrc ()].rxFrames.insert (dh.GetFrameNo ());
249           \}
250         \hyperlink{classns3_1_1UanMacRcGw_ac387b855682d24b25bd9fc21c5c9645c}{m\_forwardUpCb} (pkt, ch.GetSrc ());
251       \}
252       \textcolor{keywordflow}{break};
253     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a704bedfcbfafb80b9a7d280385e60e8b}{UanMacRc::TYPE\_GWPING}:
254     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a04488fc6d8b08804abbb178e0af7a6dc}{UanMacRc::TYPE\_RTS}:
255       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UanMacRcGw_ac3222d8eea64d77215039f67e90ef96a}{m\_state} == \hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da01f2fcfc2e9efdccbbc058daa9d2ac44}{CTSING})
256         \{
257           \textcolor{keywordflow}{return};
258         \}
259 
260       \{
261         UanHeaderRcRts rh;
262         pkt->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (rh);
263 
264         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}{m\_requests}.find (ch.GetSrc ()) == \hyperlink{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}{m\_requests}.end ())
265           \{
266             Request req;
267             req.numFrames = rh.GetNoFrames ();
268             req.rxTime = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
269             req.frameNo = rh.GetFrameNo ();
270             req.retryNo = rh.GetRetryNo ();
271             req.length = rh.GetLength ();
272             \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" GW storing
       reservation from "} << ch.GetSrc () << \textcolor{stringliteral}{" with length "} << req.length);
273             \hyperlink{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}{m\_requests}.insert (std::make\_pair (ch.GetSrc (), req));
274             std::map<UanAddress, Time>::iterator it = \hyperlink{classns3_1_1UanMacRcGw_adea1fcd9ce2850a32d2d7ff1f84c5958}{m\_propDelay}.find (ch.GetSrc ());
275             \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1UanMacRcGw_adea1fcd9ce2850a32d2d7ff1f84c5958}{m\_propDelay}.end ())
276               \{
277                 \hyperlink{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}{m\_sortedRes}.insert (std::make\_pair (\hyperlink{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}{m\_maxDelta}, ch.GetSrc ()));
278               \}
279             \textcolor{keywordflow}{else}
280               \{
281                 \hyperlink{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}{m\_sortedRes}.insert (std::make\_pair ( (*it).second, ch.GetSrc ()));
282               \}
283           \}
284       \}
285       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UanMacRcGw_ac3222d8eea64d77215039f67e90ef96a}{m\_state} == \hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da8cd582d760976a9b3719d7a6405661dd}{IDLE})
286         \{
287           \hyperlink{classns3_1_1UanMacRcGw_ac578bc895186506f0954fa86eefa8d6a}{StartCycle} ();
288         \}
289       \textcolor{keywordflow}{break};
290     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a6c74a18f3ef5f623c1301ed43d64eaa6}{UanMacRc::TYPE\_CTS}:
291       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Received CTS at GW.  Currently only support single GW network!"});
292       \textcolor{keywordflow}{break};
293     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a39266e2ea841589d68abb33f3691d9b3}{UanMacRc::TYPE\_ACK}:
294       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Received ACK at GW.  Currently only support single GW network!"});
295       \textcolor{keywordflow}{break};
296     \textcolor{keywordflow}{default}:
297       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Received unknown packet at GW!"});
298     \}
299 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 28




Here is the caller graph for this function\+:
% FIG 29


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Send\+Packet@{Send\+Packet}}
\index{Send\+Packet@{Send\+Packet}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Send\+Packet(\+Ptr$<$ Packet $>$ pkt, uint32\+\_\+t rate)}{SendPacket(Ptr< Packet > pkt, uint32_t rate)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Send\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{pkt, }
\item[{uint32\+\_\+t}]{rate}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a0e3aefc24d4dffd594008152ba63269c}{}\label{classns3_1_1UanMacRcGw_a0e3aefc24d4dffd594008152ba63269c}
Send packet on P\+HY.


\begin{DoxyParams}{Parameters}
{\em pkt} & The \hyperlink{classns3_1_1Packet}{Packet}. \\
\hline
{\em rate} & The \hyperlink{classns3_1_1UanTxMode}{Uan\+Tx\+Mode} number, m\+\_\+current\+Rate\+Num. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
516 \{
517   UanHeaderCommon ch;
518   pkt->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (ch);
519   std::string \hyperlink{visualizer-ideas_8txt_add98db9e15e2a58cf2b57623e7aa893a}{type};
520   \textcolor{keywordflow}{switch} (ch.GetType ())
521     \{
522     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a21bca93e0670db9a343de5d95ff64092}{UanMacRc::TYPE\_DATA}:
523       type = \textcolor{stringliteral}{"DATA"};
524       \textcolor{keywordflow}{break};
525     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a04488fc6d8b08804abbb178e0af7a6dc}{UanMacRc::TYPE\_RTS}:
526       type = \textcolor{stringliteral}{"RTS"};
527       \textcolor{keywordflow}{break};
528     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a6c74a18f3ef5f623c1301ed43d64eaa6}{UanMacRc::TYPE\_CTS}:
529       type = \textcolor{stringliteral}{"CTS"};
530       \textcolor{keywordflow}{break};
531     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a39266e2ea841589d68abb33f3691d9b3}{UanMacRc::TYPE\_ACK}:
532       type = \textcolor{stringliteral}{"ACK"};
533       \textcolor{keywordflow}{break};
534     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a704bedfcbfafb80b9a7d280385e60e8b}{UanMacRc::TYPE\_GWPING}:
535       type = \textcolor{stringliteral}{"GWPING"};
536       \textcolor{keywordflow}{break};
537     \textcolor{keywordflow}{default}:
538       type = \textcolor{stringliteral}{"UNKNOWN"};
539       \textcolor{keywordflow}{break};
540     \}
541   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" GW sending "} << type << \textcolor{stringliteral}{"
       packet with size "} << pkt->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () << \textcolor{stringliteral}{" to "} << ch.GetDest () << \textcolor{stringliteral}{" at rate "} << rate);
542   \hyperlink{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{m\_phy}->SendPacket (pkt, rate);
543 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 30




Here is the caller graph for this function\+:
% FIG 31


\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Set\+Address@{Set\+Address}}
\index{Set\+Address@{Set\+Address}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Set\+Address(\+Uan\+Address addr)}{SetAddress(UanAddress addr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Set\+Address (
\begin{DoxyParamCaption}
\item[{{\bf Uan\+Address}}]{addr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanMacRcGw_a5a66b56d33e9ecc8ab197abde6b79756}{}\label{classns3_1_1UanMacRcGw_a5a66b56d33e9ecc8ab197abde6b79756}
Set the address.


\begin{DoxyParams}{Parameters}
{\em addr} & \hyperlink{classns3_1_1UanAddress}{Uan\+Address} for this M\+AC. \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1UanMac_a52db4af3406b199660cb222784b817f9}{ns3\+::\+Uan\+Mac}.


\begin{DoxyCode}
181 \{
182   \hyperlink{classns3_1_1UanMacRcGw_aca721ba2f63161e937d0f856f4a566a0}{m\_address} = addr;
183 \}
\end{DoxyCode}
\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Set\+Forward\+Up\+Cb@{Set\+Forward\+Up\+Cb}}
\index{Set\+Forward\+Up\+Cb@{Set\+Forward\+Up\+Cb}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Set\+Forward\+Up\+Cb(\+Callback$<$ void, Ptr$<$ Packet $>$, const Uan\+Address \& $>$ cb)}{SetForwardUpCb(Callback< void, Ptr< Packet >, const UanAddress & > cb)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Set\+Forward\+Up\+Cb (
\begin{DoxyParamCaption}
\item[{{\bf Callback}$<$ void, {\bf Ptr}$<$ {\bf Packet} $>$, const {\bf Uan\+Address} \& $>$}]{cb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanMacRcGw_a2f708f0a914ec5ca0897ddfb8653b881}{}\label{classns3_1_1UanMacRcGw_a2f708f0a914ec5ca0897ddfb8653b881}
Set the callback to forward packets up to higher layers.


\begin{DoxyParams}{Parameters}
{\em cb} & The callback. \{packet\} The packet. \{address\} The source address. \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1UanMac_af8378ecc8b3246aa10f9da5da30da973}{ns3\+::\+Uan\+Mac}.


\begin{DoxyCode}
194 \{
195   \hyperlink{classns3_1_1UanMacRcGw_ac387b855682d24b25bd9fc21c5c9645c}{m\_forwardUpCb} = cb;
196 \}
\end{DoxyCode}
\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!Start\+Cycle@{Start\+Cycle}}
\index{Start\+Cycle@{Start\+Cycle}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{Start\+Cycle(void)}{StartCycle(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Uan\+Mac\+Rc\+Gw\+::\+Start\+Cycle (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_ac578bc895186506f0954fa86eefa8d6a}{}\label{classns3_1_1UanMacRcGw_ac578bc895186506f0954fa86eefa8d6a}
Cycle through pending requests. 
\begin{DoxyCode}
303 \{
304   uint32\_t numRts = \hyperlink{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}{m\_sortedRes}.size ();
305 
306   \textcolor{keywordflow}{if} (numRts)
307     \{
308       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" Simulator starting
       non-empty cycle"});
309     \}
310   \textcolor{keywordflow}{else}
311     \{
312       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" Simulator starting EMPTY
       cycle"});
313     \}
314 
315   \textcolor{comment}{// Calculate dataRate}
316   uint32\_t totalBytes = 0;
317   uint32\_t totalFrames = 0;
318   \textcolor{keywordtype}{double} pDelay = 0;
319   \textcolor{keywordflow}{if} (numRts > 0)
320     \{
321       std::map<UanAddress, Request>::iterator rit = \hyperlink{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}{m\_requests}.begin ();
322       \textcolor{keywordflow}{for} (; rit != \hyperlink{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}{m\_requests}.end (); rit++)
323         \{
324           totalBytes += (*rit).second.length;
325           totalFrames += (*rit).second.numFrames;
326         \}
327       pDelay = 2 * \hyperlink{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}{m\_sortedRes}.begin ()->first.GetSeconds ();
328     \}
329 
330 
331   \textcolor{keywordtype}{double} minRate = \hyperlink{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{m\_phy}->GetMode (\hyperlink{classns3_1_1UanMacRcGw_a86339396f55693d151f8c217bfcf6149}{m\_numRates}).GetDataRateBps ();
332 
333   uint32\_t optA = \hyperlink{classns3_1_1UanMacRcGw_a14fb67143992d3c9f81e27f5647045e1}{m\_maxRes};
334   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UanMacRcGw_a14fb67143992d3c9f81e27f5647045e1}{m\_maxRes} == 0)
335     \{
336       optA = \hyperlink{classns3_1_1UanMacRcGw_acf37aa19bb4293829fec2ff254c56826}{FindOptA} ();
337     \}
338   \textcolor{keywordtype}{double} thAlpha = \hyperlink{classns3_1_1UanMacRcGw_a16f2a2f4cb6bf1bc8f3aed5c9d7d83ba}{ComputeAlpha} (totalFrames, totalBytes, \hyperlink{classns3_1_1UanMacRcGw_a00185ef8e5203de223265077a3ad2cf4}{m\_numNodes}, optA, pDelay / 
      2.0);
339 
340   \textcolor{keywordtype}{double} thCtlRate = \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate} * thAlpha;
341 
342   \textcolor{keywordtype}{double} temprate = (thCtlRate - minRate) / ((\textcolor{keywordtype}{double}) \hyperlink{classns3_1_1UanMacRcGw_a358dc1512c2e94359c1892eae090f7e1}{m\_rateStep}) + 0.5;
343   \hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum} =  (uint32\_t) temprate;
344   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum} >= \hyperlink{classns3_1_1UanMacRcGw_a86339396f55693d151f8c217bfcf6149}{m\_numRates})
345     \{
346       \hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum} = \hyperlink{classns3_1_1UanMacRcGw_a86339396f55693d151f8c217bfcf6149}{m\_numRates} - 1;
347     \}
348 
349   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Found theoretical alpha: "} << thAlpha << \textcolor{stringliteral}{" Found associated rate = "} << 
      thCtlRate << \textcolor{stringliteral}{" Giving rate number: "} << temprate);
350   \textcolor{keywordtype}{double} thX = thAlpha * \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate} / (2.0 * \hyperlink{classns3_1_1UanMacRcGw_a00185ef8e5203de223265077a3ad2cf4}{m\_numNodes} * 
      \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} * 8.0);
351 
352   \textcolor{keywordtype}{double} dataRate = \hyperlink{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{m\_phy}->GetMode (\hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum}).GetDataRateBps ();
353 
354 
355   \textcolor{keywordflow}{if} (thX < \hyperlink{classns3_1_1UanMacRcGw_a1b80a997bc4b47fad40ee75304605786}{m\_minRetryRate})
356     \{
357       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Gateway found optimum RTS retry rate is below minimum"});
358       \hyperlink{classns3_1_1UanMacRcGw_a1fa6713bb1e860c9555ff7a3b7a082c3}{m\_currentRetryRate} = 0;
359     \}
360   \textcolor{keywordflow}{else}
361     \{
362       \hyperlink{classns3_1_1UanMacRcGw_a1fa6713bb1e860c9555ff7a3b7a082c3}{m\_currentRetryRate} = (uint16\_t)((thX - \hyperlink{classns3_1_1UanMacRcGw_a1b80a997bc4b47fad40ee75304605786}{m\_minRetryRate}) / 
      \hyperlink{classns3_1_1UanMacRcGw_add3041a7bf45e5d81fff4600ba20caf6}{m\_retryStep} + 0.5);
363     \}
364 
365   \textcolor{keywordtype}{double} actualX = \hyperlink{classns3_1_1UanMacRcGw_a1fa6713bb1e860c9555ff7a3b7a082c3}{m\_currentRetryRate} * \hyperlink{classns3_1_1UanMacRcGw_add3041a7bf45e5d81fff4600ba20caf6}{m\_retryStep} + 
      \hyperlink{classns3_1_1UanMacRcGw_a1b80a997bc4b47fad40ee75304605786}{m\_minRetryRate};
366 
367   uint32\_t ctlRate =  \hyperlink{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{m\_phy}->GetMode (\hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum} + 
      \hyperlink{classns3_1_1UanMacRcGw_a86339396f55693d151f8c217bfcf6149}{m\_numRates}).GetDataRateBps ();
368 
369 
370   \textcolor{keywordtype}{double} winSize = (double)(totalBytes) * 8.0 / dataRate + \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs}.
      \hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () * totalFrames + pDelay;
371   \textcolor{keywordflow}{if} (numRts == 0)
372     \{
373       winSize = (optA * std::exp (1.0) + 0.5) * 2.0 * 8.0 * \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} / (thAlpha * 
      \hyperlink{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{m\_totalRate}) + 2 * \hyperlink{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}{m\_maxDelta}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} ();
374     \}
375   \textcolor{keywordtype}{double} effWinSize = winSize - \hyperlink{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{m\_rtsSize} * 8 / ctlRate  - 2 * 
      \hyperlink{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}{m\_maxDelta}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} ();
376 
377 
378   \textcolor{comment}{// Before fast CTS/ACK(below)}
379   \textcolor{keywordtype}{double} cycleSeconds = winSize + (totalFrames + 1.0) * \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () + 
      \hyperlink{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}{m\_ctsSizeG} * 8.0 / dataRate + (\hyperlink{classns3_1_1UanMacRcGw_a2507eef2cc37e441e72644650341bf70}{m\_ctsSizeN} + \hyperlink{classns3_1_1UanMacRcGw_af6e2ac2d10617fe1807819b71d7ba61b}{m\_ackSize}) * 8.0 * numRts / 
      dataRate;
380 
381   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} ctsTxTimeG = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (\hyperlink{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}{m\_ctsSizeG} * 8.0 / dataRate);
382   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} ctsTxTimeTotal = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (\hyperlink{classns3_1_1UanMacRcGw_a2507eef2cc37e441e72644650341bf70}{m\_ctsSizeN} * 8.0 * numRts / dataRate) + ctsTxTimeG;
383   \textcolor{keywordflow}{if} (numRts == 0)
384     \{
385       UanHeaderRcCtsGlobal ctsg;
386       ctsg.SetWindowTime (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (effWinSize));
387       ctsg.SetRateNum (\hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum});
388       ctsg.SetRetryRate (\hyperlink{classns3_1_1UanMacRcGw_a1fa6713bb1e860c9555ff7a3b7a082c3}{m\_currentRetryRate});
389       ctsg.SetTxTimeStamp (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ());
390 
391       UanHeaderCommon ch (\hyperlink{classns3_1_1UanMacRcGw_aca721ba2f63161e937d0f856f4a566a0}{m\_address}, \hyperlink{classns3_1_1UanAddress_ad3b8c69e1408b20f0536a95d70ccbeda}{UanAddress::GetBroadcast} (), 
      \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a6c74a18f3ef5f623c1301ed43d64eaa6}{UanMacRc::TYPE\_CTS});
392       Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> ();
393       p->AddHeader (ctsg);
394       p->AddHeader (ch);
395       \hyperlink{classns3_1_1UanMacRcGw_a0e3aefc24d4dffd594008152ba63269c}{SendPacket} (p, \hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum});
396 
397 
398       \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (cycleSeconds), &
      \hyperlink{classns3_1_1UanMacRcGw_ac578bc895186506f0954fa86eefa8d6a}{UanMacRcGw::StartCycle}, \textcolor{keyword}{this});
399       \hyperlink{classns3_1_1UanMacRcGw_ac3222d8eea64d77215039f67e90ef96a}{m\_state} = \hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da17d37d390d3d07c9a5ca83303f23cc90}{INCYCLE};
400       \hyperlink{classns3_1_1UanMacRcGw_a4c743f84c92dcc29b476cfd229d68dd8}{m\_cycleLogger} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} (), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0), numRts, totalBytes, 
      effWinSize, ctlRate, actualX);
401       \textcolor{keywordflow}{return};
402     \}
403 
404   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} nextEarliest = ctsTxTimeTotal + \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs};
405 
406   \hyperlink{classns3_1_1UanMacRcGw_ac3222d8eea64d77215039f67e90ef96a}{m\_state} = \hyperlink{classns3_1_1UanMacRcGw_a72bafb41afd28b05cb9906d5c1f42e2da01f2fcfc2e9efdccbbc058daa9d2ac44}{CTSING};
407   \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (nextEarliest, &
      \hyperlink{classns3_1_1UanMacRcGw_a9fba6730296ff817e04a485c8fc07d96}{UanMacRcGw::CycleStarted}, \textcolor{keyword}{this});
408 
409   std::set<std::pair<Time, UanAddress> >::iterator it = \hyperlink{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}{m\_sortedRes}.begin ();
410   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} minPdelay = (*it).first;
411   Ptr<Packet> cts = Create<Packet> ();
412 
413   \textcolor{keywordflow}{for} (; it != \hyperlink{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}{m\_sortedRes}.end (); it++)
414     \{
415       Request req = \hyperlink{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}{m\_requests}[(*it).second];
416       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} pdelay = (*it).first;
417 
418       AckData newData;
419       newData.expFrames = req.numFrames;
420       newData.frameNo = req.frameNo;
421       UanAddress dest = (*it).second;
422       \hyperlink{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{m\_ackData}.insert (std::make\_pair (dest, newData));
423 
424       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} earliestArr = ctsTxTimeTotal + pdelay + pdelay + \hyperlink{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{m\_sifs};
425       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} arrivalTime = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (earliestArr, nextEarliest);
426       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" GW: Scheduling request
       for prop. delay "} << pdelay.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () << \textcolor{stringliteral}{" for "} << (*it).second << \textcolor{stringliteral}{" Earliest possible
       arrival="} << earliestArr.GetSeconds () << \textcolor{stringliteral}{"  Next arrival time="} << nextEarliest.GetSeconds ());
427       nextEarliest = arrivalTime + \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (req.length * 8.0 / dataRate) + 
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (m\_sifs.GetSeconds () * req.numFrames);
428 
429       UanHeaderRcCts ctsh;
430       ctsh.SetAddress (dest);
431       ctsh.SetRtsTimeStamp (req.rxTime);
432       ctsh.SetFrameNo (req.frameNo);
433       ctsh.SetRetryNo (req.retryNo);
434       ctsh.SetDelayToTx (arrivalTime);
435       cts->AddHeader (ctsh);
436 
437       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () <<
438                     \textcolor{stringliteral}{" GW Scheduling reception for "} << (uint32\_t) req.numFrames <<
439                     \textcolor{stringliteral}{" frames at "} << (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () + arrivalTime).
      \hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () << \textcolor{stringliteral}{"  (delaytiltx of "} << arrivalTime.GetSeconds () << \textcolor{stringliteral}{")  Total length is "} << req
      .length << \textcolor{stringliteral}{" with txtime "} << req.length * 8 / dataRate << \textcolor{stringliteral}{" seconds"});
440     \}
441 
442   UanHeaderRcCtsGlobal ctsg;
443   ctsg.SetRateNum (\hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum});
444   ctsg.SetRetryRate (\hyperlink{classns3_1_1UanMacRcGw_a1fa6713bb1e860c9555ff7a3b7a082c3}{m\_currentRetryRate});
445   ctsg.SetWindowTime (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (effWinSize));
446   ctsg.SetTxTimeStamp (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ());
447   UanHeaderCommon ch;
448   ch.SetDest (\hyperlink{classns3_1_1UanAddress_ad3b8c69e1408b20f0536a95d70ccbeda}{UanAddress::GetBroadcast} ());
449   ch.SetSrc (\hyperlink{classns3_1_1UanMacRcGw_aca721ba2f63161e937d0f856f4a566a0}{m\_address});
450   ch.SetType (\hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a6c74a18f3ef5f623c1301ed43d64eaa6}{UanMacRc::TYPE\_CTS});
451   cts->AddHeader (ctsg);
452   cts->AddHeader (ch);
453   \hyperlink{classns3_1_1UanMacRcGw_a0e3aefc24d4dffd594008152ba63269c}{SendPacket} (cts, \hyperlink{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{m\_currentRateNum});
454 
455   \hyperlink{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}{m\_requests}.clear ();
456   \hyperlink{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}{m\_sortedRes}.clear ();
457   \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (nextEarliest, &\hyperlink{classns3_1_1UanMacRcGw_afd7577179828a6dd31e59427f3c98672}{UanMacRcGw::EndCycle}, \textcolor{keyword}{this});
458 
459 
460   \hyperlink{classns3_1_1UanMacRcGw_a4c743f84c92dcc29b476cfd229d68dd8}{m\_cycleLogger} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} (), minPdelay, numRts, totalBytes, cycleSeconds,
       ctlRate, actualX);
461 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 32




Here is the caller graph for this function\+:
% FIG 33




\subsection{Member Data Documentation}
\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+ack\+Data@{m\+\_\+ack\+Data}}
\index{m\+\_\+ack\+Data@{m\+\_\+ack\+Data}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+ack\+Data}{m_ackData}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<${\bf Uan\+Address}, {\bf Ack\+Data}$>$ ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+ack\+Data\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}{}\label{classns3_1_1UanMacRcGw_a08da08fa5109dcd1147ef2c17aa1f061}
\hyperlink{structns3_1_1UanMacRcGw_1_1AckData}{Ack\+Data} for each node. \index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+ack\+Size@{m\+\_\+ack\+Size}}
\index{m\+\_\+ack\+Size@{m\+\_\+ack\+Size}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+ack\+Size}{m_ackSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+ack\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_af6e2ac2d10617fe1807819b71d7ba61b}{}\label{classns3_1_1UanMacRcGw_af6e2ac2d10617fe1807819b71d7ba61b}


Size of \hyperlink{classns3_1_1UanHeaderCommon}{Uan\+Header\+Common} and \hyperlink{classns3_1_1UanHeaderRcAck}{Uan\+Header\+Rc\+Ack}. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+address@{m\+\_\+address}}
\index{m\+\_\+address@{m\+\_\+address}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+address}{m_address}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Uan\+Address} ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+address\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_aca721ba2f63161e937d0f856f4a566a0}{}\label{classns3_1_1UanMacRcGw_aca721ba2f63161e937d0f856f4a566a0}


The M\+AC address. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+cleared@{m\+\_\+cleared}}
\index{m\+\_\+cleared@{m\+\_\+cleared}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+cleared}{m_cleared}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+cleared\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a6565d014e10e25e3883a1ca3f48896ee}{}\label{classns3_1_1UanMacRcGw_a6565d014e10e25e3883a1ca3f48896ee}
Flag when we\textquotesingle{}ve been cleared. \index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+cts\+SizeG@{m\+\_\+cts\+SizeG}}
\index{m\+\_\+cts\+SizeG@{m\+\_\+cts\+SizeG}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+cts\+SizeG}{m_ctsSizeG}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+cts\+SizeG\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}{}\label{classns3_1_1UanMacRcGw_a6600adfdbcfef5bac56caeed02253235}


Size of \hyperlink{classns3_1_1UanHeaderCommon}{Uan\+Header\+Common} and \hyperlink{classns3_1_1UanHeaderRcCtsGlobal}{Uan\+Header\+Rc\+Cts\+Global}. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+cts\+SizeN@{m\+\_\+cts\+SizeN}}
\index{m\+\_\+cts\+SizeN@{m\+\_\+cts\+SizeN}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+cts\+SizeN}{m_ctsSizeN}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+cts\+SizeN\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a2507eef2cc37e441e72644650341bf70}{}\label{classns3_1_1UanMacRcGw_a2507eef2cc37e441e72644650341bf70}


Size of \hyperlink{classns3_1_1UanHeaderRcCts}{Uan\+Header\+Rc\+Cts}. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+current\+Rate\+Num@{m\+\_\+current\+Rate\+Num}}
\index{m\+\_\+current\+Rate\+Num@{m\+\_\+current\+Rate\+Num}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Rate\+Num}{m_currentRateNum}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+current\+Rate\+Num\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}{}\label{classns3_1_1UanMacRcGw_ab0db1dee5adabd42e325e8c02937e3f7}


Rate number corresponding to data rate of current cycle. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+current\+Retry\+Rate@{m\+\_\+current\+Retry\+Rate}}
\index{m\+\_\+current\+Retry\+Rate@{m\+\_\+current\+Retry\+Rate}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Retry\+Rate}{m_currentRetryRate}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+current\+Retry\+Rate\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a1fa6713bb1e860c9555ff7a3b7a082c3}{}\label{classns3_1_1UanMacRcGw_a1fa6713bb1e860c9555ff7a3b7a082c3}


Retry rate number for current cycle. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+cycle\+Logger@{m\+\_\+cycle\+Logger}}
\index{m\+\_\+cycle\+Logger@{m\+\_\+cycle\+Logger}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+cycle\+Logger}{m_cycleLogger}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Time}, {\bf Time}, uint32\+\_\+t, uint32\+\_\+t, double, uint32\+\_\+t, double$>$ ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+cycle\+Logger\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a4c743f84c92dcc29b476cfd229d68dd8}{}\label{classns3_1_1UanMacRcGw_a4c743f84c92dcc29b476cfd229d68dd8}
A packet was destined for and received at this M\+AC layer.

\{Start time\} \{min propagation delay\} \{reservations\} \{frames\} \{bytes\} \{window size\} \{C\+TS rate\} \{retry rate\} \index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+forward\+Up\+Cb@{m\+\_\+forward\+Up\+Cb}}
\index{m\+\_\+forward\+Up\+Cb@{m\+\_\+forward\+Up\+Cb}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+forward\+Up\+Cb}{m_forwardUpCb}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Callback}$<$void, {\bf Ptr}$<${\bf Packet}$>$, const {\bf Uan\+Address}\& $>$ ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+forward\+Up\+Cb\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_ac387b855682d24b25bd9fc21c5c9645c}{}\label{classns3_1_1UanMacRcGw_ac387b855682d24b25bd9fc21c5c9645c}
Forwarding up callback. \index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+frame\+Size@{m\+\_\+frame\+Size}}
\index{m\+\_\+frame\+Size@{m\+\_\+frame\+Size}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+frame\+Size}{m_frameSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+frame\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a7cb11b74720c0aa781dea646ac940ac4}{}\label{classns3_1_1UanMacRcGw_a7cb11b74720c0aa781dea646ac940ac4}


Size of data frames in bytes. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+max\+Delta@{m\+\_\+max\+Delta}}
\index{m\+\_\+max\+Delta@{m\+\_\+max\+Delta}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+max\+Delta}{m_maxDelta}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+max\+Delta\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}{}\label{classns3_1_1UanMacRcGw_a5134119f83113902bc01101e46d66542}


Maximum propagation delay between gateway and non-\/gateway nodes . 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+max\+Res@{m\+\_\+max\+Res}}
\index{m\+\_\+max\+Res@{m\+\_\+max\+Res}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+max\+Res}{m_maxRes}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+max\+Res\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a14fb67143992d3c9f81e27f5647045e1}{}\label{classns3_1_1UanMacRcGw_a14fb67143992d3c9f81e27f5647045e1}


Maximum number of reservations to accept per cycle. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+min\+Retry\+Rate@{m\+\_\+min\+Retry\+Rate}}
\index{m\+\_\+min\+Retry\+Rate@{m\+\_\+min\+Retry\+Rate}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+min\+Retry\+Rate}{m_minRetryRate}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+min\+Retry\+Rate\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a1b80a997bc4b47fad40ee75304605786}{}\label{classns3_1_1UanMacRcGw_a1b80a997bc4b47fad40ee75304605786}


Smallest allowed R\+TS retry rate. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+num\+Nodes@{m\+\_\+num\+Nodes}}
\index{m\+\_\+num\+Nodes@{m\+\_\+num\+Nodes}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+num\+Nodes}{m_numNodes}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+num\+Nodes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a00185ef8e5203de223265077a3ad2cf4}{}\label{classns3_1_1UanMacRcGw_a00185ef8e5203de223265077a3ad2cf4}


Number of non-\/gateway nodes in this gateway\textquotesingle{}s neighborhood. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+num\+Rates@{m\+\_\+num\+Rates}}
\index{m\+\_\+num\+Rates@{m\+\_\+num\+Rates}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+num\+Rates}{m_numRates}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+num\+Rates\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a86339396f55693d151f8c217bfcf6149}{}\label{classns3_1_1UanMacRcGw_a86339396f55693d151f8c217bfcf6149}


Number of rates per Phy layer. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+phy@{m\+\_\+phy}}
\index{m\+\_\+phy@{m\+\_\+phy}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+phy}{m_phy}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Uan\+Phy}$>$ ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+phy\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}{}\label{classns3_1_1UanMacRcGw_a68b75b833bd901fb5b26b4ee92205866}


P\+HY layer attached to this M\+AC. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+prop\+Delay@{m\+\_\+prop\+Delay}}
\index{m\+\_\+prop\+Delay@{m\+\_\+prop\+Delay}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+prop\+Delay}{m_propDelay}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<${\bf Uan\+Address}, {\bf Time}$>$ ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+prop\+Delay\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_adea1fcd9ce2850a32d2d7ff1f84c5958}{}\label{classns3_1_1UanMacRcGw_adea1fcd9ce2850a32d2d7ff1f84c5958}
Propagation delay to each node. \index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+rate\+Step@{m\+\_\+rate\+Step}}
\index{m\+\_\+rate\+Step@{m\+\_\+rate\+Step}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+rate\+Step}{m_rateStep}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+rate\+Step\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a358dc1512c2e94359c1892eae090f7e1}{}\label{classns3_1_1UanMacRcGw_a358dc1512c2e94359c1892eae090f7e1}


Increments available for rate assignment in bps. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+requests@{m\+\_\+requests}}
\index{m\+\_\+requests@{m\+\_\+requests}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+requests}{m_requests}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<${\bf Uan\+Address}, {\bf Request}$>$ ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+requests\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}{}\label{classns3_1_1UanMacRcGw_ace02d765d83abd8ea6513fd7813626e0}
\hyperlink{structns3_1_1UanMacRcGw_1_1Request}{Request} for each node. \index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+retry\+Step@{m\+\_\+retry\+Step}}
\index{m\+\_\+retry\+Step@{m\+\_\+retry\+Step}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+retry\+Step}{m_retryStep}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+retry\+Step\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_add3041a7bf45e5d81fff4600ba20caf6}{}\label{classns3_1_1UanMacRcGw_add3041a7bf45e5d81fff4600ba20caf6}


Retry rate increment. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+rts\+Size@{m\+\_\+rts\+Size}}
\index{m\+\_\+rts\+Size@{m\+\_\+rts\+Size}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+rts\+Size}{m_rtsSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+rts\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}{}\label{classns3_1_1UanMacRcGw_abc2eb00f1a5cbc9cf96fdaf637a20e38}


Size of \hyperlink{classns3_1_1UanHeaderCommon}{Uan\+Header\+Common} and \hyperlink{classns3_1_1UanHeaderRcRts}{Uan\+Header\+Rc\+Rts}. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+rx\+Logger@{m\+\_\+rx\+Logger}}
\index{m\+\_\+rx\+Logger@{m\+\_\+rx\+Logger}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+Logger}{m_rxLogger}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$, {\bf Uan\+Tx\+Mode} $>$ ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+rx\+Logger\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_af9c5b278e86a12e4aea40599b721f18e}{}\label{classns3_1_1UanMacRcGw_af9c5b278e86a12e4aea40599b721f18e}
A packet was destined for and received at this M\+AC layer. \index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+sifs@{m\+\_\+sifs}}
\index{m\+\_\+sifs@{m\+\_\+sifs}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+sifs}{m_sifs}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+sifs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}{}\label{classns3_1_1UanMacRcGw_a563f1bf04fd1d1cf01c6590329e58b4c}


Spacing between frames to account for timing error and processing delay. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+sorted\+Res@{m\+\_\+sorted\+Res}}
\index{m\+\_\+sorted\+Res@{m\+\_\+sorted\+Res}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+sorted\+Res}{m_sortedRes}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::set$<$std\+::pair$<${\bf Time}, {\bf Uan\+Address}$>$ $>$ ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+sorted\+Res\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}{}\label{classns3_1_1UanMacRcGw_afe8430ebad788663b695fe54593f5fcf}
Queued request times. \index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+state@{m\+\_\+state}}
\index{m\+\_\+state@{m\+\_\+state}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+state}{m_state}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf State} ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+state\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_ac3222d8eea64d77215039f67e90ef96a}{}\label{classns3_1_1UanMacRcGw_ac3222d8eea64d77215039f67e90ef96a}


Gateway processing state. 

\index{ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}!m\+\_\+total\+Rate@{m\+\_\+total\+Rate}}
\index{m\+\_\+total\+Rate@{m\+\_\+total\+Rate}!ns3\+::\+Uan\+Mac\+Rc\+Gw@{ns3\+::\+Uan\+Mac\+Rc\+Gw}}
\subsubsection[{\texorpdfstring{m\+\_\+total\+Rate}{m_totalRate}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Uan\+Mac\+Rc\+Gw\+::m\+\_\+total\+Rate\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}{}\label{classns3_1_1UanMacRcGw_aba72112136797b9263624046a7f96b4b}


Total available channel rate in bps (for a single channel, without splitting reservation channel). 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
uan/model/\hyperlink{uan-mac-rc-gw_8h}{uan-\/mac-\/rc-\/gw.\+h}\item 
uan/model/\hyperlink{uan-mac-rc-gw_8cc}{uan-\/mac-\/rc-\/gw.\+cc}\end{DoxyCompactItemize}
