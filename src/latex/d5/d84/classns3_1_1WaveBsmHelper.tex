\hypertarget{classns3_1_1WaveBsmHelper}{}\section{ns3\+:\+:Wave\+Bsm\+Helper Class Reference}
\label{classns3_1_1WaveBsmHelper}\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}


The \hyperlink{classns3_1_1WaveBsmHelper}{Wave\+Bsm\+Helper} class manages I\+E\+EE 1609 W\+A\+VE (Wireless Access in Vehicular Environments) Basic Safety Messages (B\+S\+Ms) and uses the \hyperlink{classns3_1_1WaveBsmStats}{Wave\+Bsm\+Stats} class to manage statistics about B\+S\+Ms transmitted and received The B\+SM is a $\sim$200-\/byte packet that is generally broadcast from every vehicle at a nominal rate of 10 Hz.  




{\ttfamily \#include $<$wave-\/bsm-\/helper.\+h$>$}



Collaboration diagram for ns3\+:\+:Wave\+Bsm\+Helper\+:
% FIG 0
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1WaveBsmHelper_abc6aa7d288bd472099851dca1d2712ea}{Wave\+Bsm\+Helper} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1WaveBsmHelper_a6d1e2d3b3698cf3c32148b61ab17e340}{Set\+Attribute} (std\+::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, const \hyperlink{classns3_1_1AttributeValue}{Attribute\+Value} \&value)
\item 
\hyperlink{classns3_1_1ApplicationContainer}{Application\+Container} \hyperlink{classns3_1_1WaveBsmHelper_a1f30ea7ae1ed3d1f10760b876b69b349}{Install} (\hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4\+Interface\+Container} \hyperlink{lte__uplink__power__control_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) const 
\item 
\hyperlink{classns3_1_1ApplicationContainer}{Application\+Container} \hyperlink{classns3_1_1WaveBsmHelper_a002189b718303e00d9908bc3afd7333c}{Install} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node) const 
\item 
void \hyperlink{classns3_1_1WaveBsmHelper_ab7cdfcc0ff2b92c913b1586cdb240960}{Install} (\hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4\+Interface\+Container} \&\hyperlink{lte__uplink__power__control_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, \hyperlink{classns3_1_1Time}{Time} total\+Time, uint32\+\_\+t wave\+Packet\+Size, \hyperlink{classns3_1_1Time}{Time} wave\+Interval, double gps\+Accuracy\+Ns, std\+::vector$<$ double $>$ ranges, int ch\+Access\+Mode, \hyperlink{classns3_1_1Time}{Time} tx\+Max\+Delay)
\begin{DoxyCompactList}\small\item\em Installs B\+SM generation on devices for nodes and their interfaces. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WaveBsmStats}{Wave\+Bsm\+Stats} $>$ \hyperlink{classns3_1_1WaveBsmHelper_a7b7442d597cc104a22c8c4bef6c98c6e}{Get\+Wave\+Bsm\+Stats} ()
\begin{DoxyCompactList}\small\item\em Returns the \hyperlink{classns3_1_1WaveBsmStats}{Wave\+Bsm\+Stats} instance. \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classns3_1_1WaveBsmHelper_ae70eefd2d78ae539e65ea27468a525d2}{Assign\+Streams} (\hyperlink{classns3_1_1NodeContainer}{Node\+Container} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c}, int64\+\_\+t stream)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::vector$<$ int $>$ \& \hyperlink{classns3_1_1WaveBsmHelper_a65d2c7844fea14d54f1473c057f5d213}{Get\+Nodes\+Moving} ()
\begin{DoxyCompactList}\small\item\em Returns the list of moving nove indicators. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Application}{Application} $>$ \hyperlink{classns3_1_1WaveBsmHelper_a70cd3efe8af9eacfd21792c3b43c97fd}{Install\+Priv} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node) const 
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1ObjectFactory}{Object\+Factory} \hyperlink{classns3_1_1WaveBsmHelper_a78e835f63e7c901a062d6d3f33cdcd50}{m\+\_\+factory}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Object}{Object} factory. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1WaveBsmStats}{Wave\+Bsm\+Stats} \hyperlink{classns3_1_1WaveBsmHelper_a5402fdf10496407bc439622b7698e4f7}{m\+\_\+wave\+Bsm\+Stats}
\item 
std\+::vector$<$ double $>$ \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\+\_\+tx\+Safety\+Ranges\+Sq}
\begin{DoxyCompactList}\small\item\em tx safety range squared, for optimization \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static std\+::vector$<$ int $>$ \hyperlink{classns3_1_1WaveBsmHelper_a281ee846d937729f0fe2a70fb23f7448}{nodes\+Moving}
\begin{DoxyCompactList}\small\item\em nodes moving \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \hyperlink{classns3_1_1WaveBsmHelper}{Wave\+Bsm\+Helper} class manages I\+E\+EE 1609 W\+A\+VE (Wireless Access in Vehicular Environments) Basic Safety Messages (B\+S\+Ms) and uses the \hyperlink{classns3_1_1WaveBsmStats}{Wave\+Bsm\+Stats} class to manage statistics about B\+S\+Ms transmitted and received The B\+SM is a $\sim$200-\/byte packet that is generally broadcast from every vehicle at a nominal rate of 10 Hz. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!Wave\+Bsm\+Helper@{Wave\+Bsm\+Helper}}
\index{Wave\+Bsm\+Helper@{Wave\+Bsm\+Helper}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{Wave\+Bsm\+Helper()}{WaveBsmHelper()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Wave\+Bsm\+Helper\+::\+Wave\+Bsm\+Helper (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1WaveBsmHelper_abc6aa7d288bd472099851dca1d2712ea}{}\label{classns3_1_1WaveBsmHelper_abc6aa7d288bd472099851dca1d2712ea}


Constructor. 

\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
32   : \hyperlink{classns3_1_1WaveBsmHelper_a5402fdf10496407bc439622b7698e4f7}{m\_waveBsmStats} ()
33 \{
34   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}.resize (10, 0);
35   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[0] = 50.0 * 50.0;
36   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[1] = 100.0 * 100.0;
37   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[2] = 200.0 * 200.0;
38   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[3] = 300.0 * 300.0;
39   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[4] = 400.0 * 400.0;
40   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[5] = 500.0 * 500.0;
41   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[6] = 600.0 * 600.0;
42   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[7] = 800.0 * 800.0;
43   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[8] = 1000.0 * 1000.0;
44   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[9] = 1500.0 * 1500.0;
45 
46   \hyperlink{classns3_1_1WaveBsmHelper_a78e835f63e7c901a062d6d3f33cdcd50}{m\_factory}.\hyperlink{classns3_1_1ObjectFactory_a77dcd099064038a1eb7a6b8251229ec3}{SetTypeId} (\textcolor{stringliteral}{"ns3::BsmApplication"});
47 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1




\subsection{Member Function Documentation}
\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!Assign\+Streams@{Assign\+Streams}}
\index{Assign\+Streams@{Assign\+Streams}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{Assign\+Streams(\+Node\+Container c, int64\+\_\+t stream)}{AssignStreams(NodeContainer c, int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::\+Wave\+Bsm\+Helper\+::\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{{\bf Node\+Container}}]{c, }
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1WaveBsmHelper_ae70eefd2d78ae539e65ea27468a525d2}{}\label{classns3_1_1WaveBsmHelper_ae70eefd2d78ae539e65ea27468a525d2}
Assign a fixed random variable stream number to the random variables used by this model. Return the number of streams (possibly zero) that have been assigned. The \hyperlink{classns3_1_1WaveBsmHelper_a1f30ea7ae1ed3d1f10760b876b69b349}{Install()} method should have previously been called by the user.


\begin{DoxyParams}{Parameters}
{\em stream} & first stream index to use \\
\hline
{\em c} & \hyperlink{classns3_1_1NodeContainer}{Node\+Container} of the set of nodes for which the \hyperlink{classns3_1_1BsmApplication}{Bsm\+Application} should be modified to use a fixed stream \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of stream indices assigned by this helper 
\end{DoxyReturn}

\begin{DoxyCode}
140 \{
141   int64\_t currentStream = stream;
142   Ptr<Node> node;
143   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1NodeContainer_aa1a9f2d2b09bfef7d066d3974bca2cc4}{NodeContainer::Iterator} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c}.Begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c}.End (); ++
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
144     \{
145       node = (*i);
146       \textcolor{keywordflow}{for} (uint32\_t j = 0; j < node->GetNApplications (); j++)
147         \{
148           Ptr<BsmApplication> bsmApp = DynamicCast<BsmApplication> (node->GetApplication (j));
149           \textcolor{keywordflow}{if} (bsmApp)
150             \{
151               currentStream += bsmApp->AssignStreams (currentStream);
152             \}
153         \}
154     \}
155   \textcolor{keywordflow}{return} (currentStream - stream);
156 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!Get\+Nodes\+Moving@{Get\+Nodes\+Moving}}
\index{Get\+Nodes\+Moving@{Get\+Nodes\+Moving}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{Get\+Nodes\+Moving()}{GetNodesMoving()}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ int $>$ \& ns3\+::\+Wave\+Bsm\+Helper\+::\+Get\+Nodes\+Moving (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1WaveBsmHelper_a65d2c7844fea14d54f1473c057f5d213}{}\label{classns3_1_1WaveBsmHelper_a65d2c7844fea14d54f1473c057f5d213}


Returns the list of moving nove indicators. 

\begin{DoxyReturn}{Returns}
the list of moving node indicators 
\end{DoxyReturn}

\begin{DoxyCode}
160 \{
161   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1WaveBsmHelper_a281ee846d937729f0fe2a70fb23f7448}{nodesMoving};
162 \}
\end{DoxyCode}
\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!Get\+Wave\+Bsm\+Stats@{Get\+Wave\+Bsm\+Stats}}
\index{Get\+Wave\+Bsm\+Stats@{Get\+Wave\+Bsm\+Stats}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{Get\+Wave\+Bsm\+Stats()}{GetWaveBsmStats()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Wave\+Bsm\+Stats} $>$ ns3\+::\+Wave\+Bsm\+Helper\+::\+Get\+Wave\+Bsm\+Stats (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1WaveBsmHelper_a7b7442d597cc104a22c8c4bef6c98c6e}{}\label{classns3_1_1WaveBsmHelper_a7b7442d597cc104a22c8c4bef6c98c6e}


Returns the \hyperlink{classns3_1_1WaveBsmStats}{Wave\+Bsm\+Stats} instance. 

\begin{DoxyReturn}{Returns}
the \hyperlink{classns3_1_1WaveBsmStats}{Wave\+Bsm\+Stats} instance 
\end{DoxyReturn}

\begin{DoxyCode}
134 \{
135   \textcolor{keywordflow}{return} &\hyperlink{classns3_1_1WaveBsmHelper_a5402fdf10496407bc439622b7698e4f7}{m\_waveBsmStats};
136 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!Install@{Install}}
\index{Install@{Install}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{Install(\+Ipv4\+Interface\+Container i) const }{Install(Ipv4InterfaceContainer i) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Application\+Container} ns3\+::\+Wave\+Bsm\+Helper\+::\+Install (
\begin{DoxyParamCaption}
\item[{{\bf Ipv4\+Interface\+Container}}]{i}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1WaveBsmHelper_a1f30ea7ae1ed3d1f10760b876b69b349}{}\label{classns3_1_1WaveBsmHelper_a1f30ea7ae1ed3d1f10760b876b69b349}
Install an \hyperlink{classns3_1_1BsmApplication}{ns3\+::\+Bsm\+Application} on each node of the input container configured with all the attributes set with Set\+Attribute.


\begin{DoxyParams}{Parameters}
{\em i} & \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4\+Interface\+Container} of the set of interfaces on which an \hyperlink{classns3_1_1BsmApplication}{Bsm\+Application} will be installed on the nodes. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Container of \hyperlink{classns3_1_1Ptr}{Ptr} to the applications installed. 
\end{DoxyReturn}

\begin{DoxyCode}
63 \{
64   ApplicationContainer apps;
65   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1Ipv4InterfaceContainer_acedc286abfd3db405dfca5ddd73fd1d7}{Ipv4InterfaceContainer::Iterator} itr = \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}.Begin (); itr != 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}.End (); ++itr)
66     \{
67       std::pair<Ptr<Ipv4>, uint32\_t> \textcolor{keyword}{interface }= (*itr);
68       Ptr<Ipv4> pp = interface.first;
69       Ptr<Node> node = pp->GetObject<Node> ();
70       apps.Add (\hyperlink{classns3_1_1WaveBsmHelper_a70cd3efe8af9eacfd21792c3b43c97fd}{InstallPriv} (node));
71     \}
72 
73   \textcolor{keywordflow}{return} apps;
74 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!Install@{Install}}
\index{Install@{Install}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{Install(\+Ptr$<$ Node $>$ node) const }{Install(Ptr< Node > node) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Application\+Container} ns3\+::\+Wave\+Bsm\+Helper\+::\+Install (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1WaveBsmHelper_a002189b718303e00d9908bc3afd7333c}{}\label{classns3_1_1WaveBsmHelper_a002189b718303e00d9908bc3afd7333c}
Install an \hyperlink{classns3_1_1BsmApplication}{ns3\+::\+Bsm\+Application} on the node configured with all the attributes set with Set\+Attribute.


\begin{DoxyParams}{Parameters}
{\em node} & The node on which an \hyperlink{classns3_1_1BsmApplication}{Bsm\+Application} will be installed. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Container of \hyperlink{classns3_1_1Ptr}{Ptr} to the applications installed. 
\end{DoxyReturn}

\begin{DoxyCode}
57 \{
58   \textcolor{keywordflow}{return} ApplicationContainer (\hyperlink{classns3_1_1WaveBsmHelper_a70cd3efe8af9eacfd21792c3b43c97fd}{InstallPriv} (node));
59 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!Install@{Install}}
\index{Install@{Install}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{Install(\+Ipv4\+Interface\+Container \&i, Time total\+Time, uint32\+\_\+t wave\+Packet\+Size, Time wave\+Interval, double gps\+Accuracy\+Ns, std\+::vector$<$ double $>$ ranges, int ch\+Access\+Mode, Time tx\+Max\+Delay)}{Install(Ipv4InterfaceContainer &i, Time totalTime, uint32_t wavePacketSize, Time waveInterval, double gpsAccuracyNs, std::vector< double > ranges, int chAccessMode, Time txMaxDelay)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Wave\+Bsm\+Helper\+::\+Install (
\begin{DoxyParamCaption}
\item[{{\bf Ipv4\+Interface\+Container} \&}]{i, }
\item[{{\bf Time}}]{total\+Time, }
\item[{uint32\+\_\+t}]{wave\+Packet\+Size, }
\item[{{\bf Time}}]{wave\+Interval, }
\item[{double}]{gps\+Accuracy\+Ns, }
\item[{std\+::vector$<$ double $>$}]{ranges, }
\item[{int}]{ch\+Access\+Mode, }
\item[{{\bf Time}}]{tx\+Max\+Delay}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1WaveBsmHelper_ab7cdfcc0ff2b92c913b1586cdb240960}{}\label{classns3_1_1WaveBsmHelper_ab7cdfcc0ff2b92c913b1586cdb240960}


Installs B\+SM generation on devices for nodes and their interfaces. 


\begin{DoxyParams}{Parameters}
{\em i} & I\+Pv4 interface container \\
\hline
{\em total\+Time} & total amount of time that B\+SM packets should be transmitted \\
\hline
{\em wave\+Packet\+Size} & the size, in bytes, of a W\+A\+VE B\+SM \\
\hline
{\em wave\+Interval} & the time, in seconds, between each W\+A\+VE B\+SM transmission, typically 10 Hz (0.\+1 second) \\
\hline
{\em gps\+Accuracy\+Ns} & the timing synchronization accuracy of G\+PS time, in nanoseconds. G\+PS time-\/sync is $\sim$40-\/100 ns. Universally synchronized time among all vehicles will result in all vehicles transmitting safety messages simultaneously, leading to excessive wireless collisions. \\
\hline
{\em ranges} & the expected transmission range, in m. \\
\hline
{\em ch\+Access\+Mode} & channel access mode (0=continuous; 1=switching) \\
\hline
{\em tx\+Max\+Delay} & max delay prior to transmit \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}

\begin{DoxyCode}
94 \{
95   \textcolor{keywordtype}{int} size = ranges.size ();
96   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}.clear ();
97   \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}.resize (size, 0);
98   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} index = 0; index < size; index++)
99     \{
100       \textcolor{comment}{// stored as square of value, for optimization}
101       \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq}[index] = ranges[index] * ranges[index];
102     \}
103 
104   \textcolor{comment}{// install a BsmApplication on each node}
105   ApplicationContainer bsmApps = \hyperlink{classns3_1_1WaveBsmHelper_a1f30ea7ae1ed3d1f10760b876b69b349}{Install} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
106   \textcolor{comment}{// start BSM app immediately (BsmApplication will}
107   \textcolor{comment}{// delay transmission of first BSM by 1.0 seconds)}
108   bsmApps.Start (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
109   bsmApps.Stop (totalTime);
110 
111   \textcolor{comment}{// for each app, setup the app parameters}
112   \hyperlink{classns3_1_1ApplicationContainer_a46d9e435701ffbca57fff95b97cbf0dc}{ApplicationContainer::Iterator} aci;
113   \textcolor{keywordtype}{int} nodeId = 0;
114   \textcolor{keywordflow}{for} (aci = bsmApps.Begin (); aci != bsmApps.End (); ++aci)
115     \{
116       Ptr<BsmApplication> bsmApp = DynamicCast<BsmApplication> (*aci);
117       bsmApp->Setup (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i},
118                      nodeId,
119                      totalTime,
120                      wavePacketSize,
121                      waveInterval,
122                      gpsAccuracyNs,
123                      \hyperlink{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{m\_txSafetyRangesSq},
124                      \hyperlink{classns3_1_1WaveBsmHelper_a7b7442d597cc104a22c8c4bef6c98c6e}{GetWaveBsmStats} (),
125                      &\hyperlink{classns3_1_1WaveBsmHelper_a281ee846d937729f0fe2a70fb23f7448}{nodesMoving},
126                      chAccessMode,
127                      txMaxDelay);
128       nodeId++;
129     \}
130 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!Install\+Priv@{Install\+Priv}}
\index{Install\+Priv@{Install\+Priv}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{Install\+Priv(\+Ptr$<$ Node $>$ node) const }{InstallPriv(Ptr< Node > node) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Application} $>$ ns3\+::\+Wave\+Bsm\+Helper\+::\+Install\+Priv (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1WaveBsmHelper_a70cd3efe8af9eacfd21792c3b43c97fd}{}\label{classns3_1_1WaveBsmHelper_a70cd3efe8af9eacfd21792c3b43c97fd}
Install an \hyperlink{classns3_1_1BsmApplication}{ns3\+::\+Bsm\+Application} on the node


\begin{DoxyParams}{Parameters}
{\em node} & The node on which an \hyperlink{classns3_1_1BsmApplication}{Bsm\+Application} will be installed. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classns3_1_1Ptr}{Ptr} to the application installed. 
\end{DoxyReturn}

\begin{DoxyCode}
78 \{
79   Ptr<Application> app = \hyperlink{classns3_1_1WaveBsmHelper_a78e835f63e7c901a062d6d3f33cdcd50}{m\_factory}.\hyperlink{classns3_1_1ObjectFactory_a18152e93f0a6fe184ed7300cb31e9896}{Create}<Application> ();
80   node->\hyperlink{classns3_1_1Node_ab98b4fdc4aadc86366b80e8a79a53f47}{AddApplication} (app);
81 
82   \textcolor{keywordflow}{return} app;
83 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!Set\+Attribute@{Set\+Attribute}}
\index{Set\+Attribute@{Set\+Attribute}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{Set\+Attribute(std\+::string name, const Attribute\+Value \&value)}{SetAttribute(std::string name, const AttributeValue &value)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Wave\+Bsm\+Helper\+::\+Set\+Attribute (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name, }
\item[{const {\bf Attribute\+Value} \&}]{value}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1WaveBsmHelper_a6d1e2d3b3698cf3c32148b61ab17e340}{}\label{classns3_1_1WaveBsmHelper_a6d1e2d3b3698cf3c32148b61ab17e340}
Helper function used to set the underlying application attributes.


\begin{DoxyParams}{Parameters}
{\em name} & the name of the application attribute to set \\
\hline
{\em value} & the value of the application attribute to set \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
51 \{
52   \hyperlink{classns3_1_1WaveBsmHelper_a78e835f63e7c901a062d6d3f33cdcd50}{m\_factory}.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, value);
53 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




\subsection{Member Data Documentation}
\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!m\+\_\+factory@{m\+\_\+factory}}
\index{m\+\_\+factory@{m\+\_\+factory}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{m\+\_\+factory}{m_factory}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Object\+Factory} ns3\+::\+Wave\+Bsm\+Helper\+::m\+\_\+factory\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1WaveBsmHelper_a78e835f63e7c901a062d6d3f33cdcd50}{}\label{classns3_1_1WaveBsmHelper_a78e835f63e7c901a062d6d3f33cdcd50}


\hyperlink{classns3_1_1Object}{Object} factory. 

\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!m\+\_\+tx\+Safety\+Ranges\+Sq@{m\+\_\+tx\+Safety\+Ranges\+Sq}}
\index{m\+\_\+tx\+Safety\+Ranges\+Sq@{m\+\_\+tx\+Safety\+Ranges\+Sq}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+Safety\+Ranges\+Sq}{m_txSafetyRangesSq}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$double$>$ ns3\+::\+Wave\+Bsm\+Helper\+::m\+\_\+tx\+Safety\+Ranges\+Sq\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}{}\label{classns3_1_1WaveBsmHelper_a44eb2f603f58383dadc9b41eae68d5c9}


tx safety range squared, for optimization 

\index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!m\+\_\+wave\+Bsm\+Stats@{m\+\_\+wave\+Bsm\+Stats}}
\index{m\+\_\+wave\+Bsm\+Stats@{m\+\_\+wave\+Bsm\+Stats}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{m\+\_\+wave\+Bsm\+Stats}{m_waveBsmStats}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wave\+Bsm\+Stats} ns3\+::\+Wave\+Bsm\+Helper\+::m\+\_\+wave\+Bsm\+Stats\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1WaveBsmHelper_a5402fdf10496407bc439622b7698e4f7}{}\label{classns3_1_1WaveBsmHelper_a5402fdf10496407bc439622b7698e4f7}
wave B\+SM stats \index{ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}!nodes\+Moving@{nodes\+Moving}}
\index{nodes\+Moving@{nodes\+Moving}!ns3\+::\+Wave\+Bsm\+Helper@{ns3\+::\+Wave\+Bsm\+Helper}}
\subsubsection[{\texorpdfstring{nodes\+Moving}{nodesMoving}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ int $>$ ns3\+::\+Wave\+Bsm\+Helper\+::nodes\+Moving\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1WaveBsmHelper_a281ee846d937729f0fe2a70fb23f7448}{}\label{classns3_1_1WaveBsmHelper_a281ee846d937729f0fe2a70fb23f7448}


nodes moving 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wave/helper/\hyperlink{wave-bsm-helper_8h}{wave-\/bsm-\/helper.\+h}\item 
wave/helper/\hyperlink{wave-bsm-helper_8cc}{wave-\/bsm-\/helper.\+cc}\end{DoxyCompactItemize}
