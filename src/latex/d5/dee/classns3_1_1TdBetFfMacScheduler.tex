\hypertarget{classns3_1_1TdBetFfMacScheduler}{}\section{ns3\+:\+:Td\+Bet\+Ff\+Mac\+Scheduler Class Reference}
\label{classns3_1_1TdBetFfMacScheduler}\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}


Implements the S\+C\+H\+ED S\+AP and C\+S\+C\+H\+ED S\+AP for a \hyperlink{classns3_1_1Time}{Time} Domain Blind Equal Throughput scheduler.  




{\ttfamily \#include $<$tdbet-\/ff-\/mac-\/scheduler.\+h$>$}



Inheritance diagram for ns3\+:\+:Td\+Bet\+Ff\+Mac\+Scheduler\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Td\+Bet\+Ff\+Mac\+Scheduler\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1TdBetFfMacScheduler_a9a3f1388b933f153fecdc65c10f7924e}{Td\+Bet\+Ff\+Mac\+Scheduler} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1TdBetFfMacScheduler_ac3bce99ab4dcfcdcd6ea29c0ee33d0da}{$\sim$\+Td\+Bet\+Ff\+Mac\+Scheduler} ()
\item 
virtual void \hyperlink{classns3_1_1TdBetFfMacScheduler_af4a7dc1adfe243c4b73b8fba9d3ab1f1}{Do\+Dispose} (void)
\item 
virtual void \hyperlink{classns3_1_1TdBetFfMacScheduler_a4fb2040e19ce8bf1141fe2dbcdb144ed}{Set\+Ff\+Mac\+Csched\+Sap\+User} (\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual void \hyperlink{classns3_1_1TdBetFfMacScheduler_a7b2928319ee3ba4e1fbd03ffe7908b75}{Set\+Ff\+Mac\+Sched\+Sap\+User} (\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_adba6ce38802e9ca05e37eebda5e77976}{Get\+Ff\+Mac\+Csched\+Sap\+Provider} ()
\item 
virtual \hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_aef6231295d6587e9f91ed14a79dea2aa}{Get\+Ff\+Mac\+Sched\+Sap\+Provider} ()
\item 
virtual void \hyperlink{classns3_1_1TdBetFfMacScheduler_ae13bfa9442c59c4102f3f74addaec577}{Set\+Lte\+Ffr\+Sap\+Provider} (\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a710980ec9ba363e5946b49132a25153f}{Get\+Lte\+Ffr\+Sap\+User} ()
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a981e22a0b062b0d0872d1f043072eaeb}{Transmission\+Mode\+Configuration\+Update} (uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)
\item 
\hyperlink{classns3_1_1TdBetFfMacScheduler_a9a3f1388b933f153fecdc65c10f7924e}{Td\+Bet\+Ff\+Mac\+Scheduler} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1TdBetFfMacScheduler_ac03f77c8811860d09980ead7cfad1ff7}{$\sim$\+Td\+Bet\+Ff\+Mac\+Scheduler} ()
\item 
virtual void \hyperlink{classns3_1_1TdBetFfMacScheduler_af5e206553a5bf7842fe7ac438a32a34f}{Do\+Dispose} (void)
\item 
virtual void \hyperlink{classns3_1_1TdBetFfMacScheduler_a8f41511873e2ec24d7937c15f2c2ed4c}{Set\+Ff\+Mac\+Csched\+Sap\+User} (\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual void \hyperlink{classns3_1_1TdBetFfMacScheduler_afa96b2353838607bc9c8272133f5b367}{Set\+Ff\+Mac\+Sched\+Sap\+User} (\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_aef02ab26879a07f6b8f19e158077d349}{Get\+Ff\+Mac\+Csched\+Sap\+Provider} ()
\item 
virtual \hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a49c26c4e22af0a05ac3b8dfa8084a895}{Get\+Ff\+Mac\+Sched\+Sap\+Provider} ()
\item 
virtual void \hyperlink{classns3_1_1TdBetFfMacScheduler_a3ee1609f48ba86d97d2d159dc0ebd7be}{Set\+Lte\+Ffr\+Sap\+Provider} (\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_aa864ced92cb41b0aaad63ca7c53f0482}{Get\+Lte\+Ffr\+Sap\+User} ()
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a981e22a0b062b0d0872d1f043072eaeb}{Transmission\+Mode\+Configuration\+Update} (uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1TdBetFfMacScheduler_a8d39353c8d69bb188fc3e00c32395cc8}{Get\+Type\+Id} (void)
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1TdBetFfMacScheduler_a38ff184531c5d782ab7ef26d7c83fd69}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a27ea7f4b387b2a8b38557a1acc2d5b22}{Do\+Csched\+Cell\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_aba3ff65a4d7204429654fe22314349d1}{Do\+Csched\+Ue\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ae0d1cdc46e5ff7219dea5ff2cccf4480}{Do\+Csched\+Lc\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a91afd6b1b906a2e36165008eb629ff4d}{Do\+Csched\+Lc\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ab4f2ed3517907002b6a9c297cad2bd7c}{Do\+Csched\+Ue\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a651f4453453b647b3d498acb5c808ca9}{Do\+Sched\+Dl\+Rlc\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ad90130f716bc93a14396cdad73d123dc}{Do\+Sched\+Dl\+Paging\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlPagingBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a196dfea3b8a21fde209147b31d7b7275}{Do\+Sched\+Dl\+Mac\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlMacBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a1412adaa69a56d47a7a9ae2fec1401d9}{Do\+Sched\+Dl\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a715c5674cc7a32139c0b8a126537f0a2}{Do\+Sched\+Dl\+Rach\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRachInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a0a9461103d86aaf1fb5eca36f4eb1f5e}{Do\+Sched\+Dl\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a8c4cf354e6ee7d52a6f2c566f47cf054}{Do\+Sched\+Ul\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ab588866d9f6be0ea8554b5749f57cb8e}{Do\+Sched\+Ul\+Noise\+Interference\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlNoiseInterferenceReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a9bd3450efb43b6aff88eb02c64e8d121}{Do\+Sched\+Ul\+Sr\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlSrInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_adf631779da7aa2b4d876a663dcf204df}{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlMacCtrlInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ac923455a7dbe7baac8b3997224ddcbea}{Do\+Sched\+Ul\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
int \hyperlink{classns3_1_1TdBetFfMacScheduler_a180d1d16bb6d0a4f9fcda5df9842ec4a}{Get\+Rbg\+Size} (int dlbandwidth)
\item 
int \hyperlink{classns3_1_1TdBetFfMacScheduler_ad8a61f81356d42a3b622998823a32471}{Lc\+Active\+Per\+Flow} (uint16\+\_\+t rnti)
\item 
double \hyperlink{classns3_1_1TdBetFfMacScheduler_a051dacc13beec936c3e5206d865837bc}{Estimate\+Ul\+Sinr} (uint16\+\_\+t rnti, uint16\+\_\+t rb)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a7b16f92e532fbd06ee099933b0f57a8c}{Refresh\+Dl\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ad78d0be66210e23e11005edecf4f145e}{Refresh\+Ul\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_af71a8df6d7681bda2678aff1c77985fb}{Update\+Dl\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ac9a75f21284227100fa0c44091c01952}{Update\+Ul\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint16\+\_\+t size)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1TdBetFfMacScheduler_ad697cf496a65f679059f9fcd0850daa0}{Update\+Harq\+Process\+Id} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Update and return a new process Id for the R\+N\+TI specified. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1TdBetFfMacScheduler_ad6d89e73b2b5b261805020cd24796303}{Harq\+Process\+Availability} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Return the availability of free process for the R\+N\+TI specified. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_aafa15782e9b220093765a83939821534}{Refresh\+Harq\+Processes} ()
\begin{DoxyCompactList}\small\item\em Refresh H\+A\+RQ processes according to the timers. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a27ea7f4b387b2a8b38557a1acc2d5b22}{Do\+Csched\+Cell\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_aba3ff65a4d7204429654fe22314349d1}{Do\+Csched\+Ue\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ae0d1cdc46e5ff7219dea5ff2cccf4480}{Do\+Csched\+Lc\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a91afd6b1b906a2e36165008eb629ff4d}{Do\+Csched\+Lc\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ab4f2ed3517907002b6a9c297cad2bd7c}{Do\+Csched\+Ue\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a651f4453453b647b3d498acb5c808ca9}{Do\+Sched\+Dl\+Rlc\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ad90130f716bc93a14396cdad73d123dc}{Do\+Sched\+Dl\+Paging\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlPagingBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a196dfea3b8a21fde209147b31d7b7275}{Do\+Sched\+Dl\+Mac\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlMacBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a1412adaa69a56d47a7a9ae2fec1401d9}{Do\+Sched\+Dl\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a715c5674cc7a32139c0b8a126537f0a2}{Do\+Sched\+Dl\+Rach\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRachInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a0a9461103d86aaf1fb5eca36f4eb1f5e}{Do\+Sched\+Dl\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a8c4cf354e6ee7d52a6f2c566f47cf054}{Do\+Sched\+Ul\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ab588866d9f6be0ea8554b5749f57cb8e}{Do\+Sched\+Ul\+Noise\+Interference\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlNoiseInterferenceReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a9bd3450efb43b6aff88eb02c64e8d121}{Do\+Sched\+Ul\+Sr\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlSrInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_adf631779da7aa2b4d876a663dcf204df}{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlMacCtrlInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ac923455a7dbe7baac8b3997224ddcbea}{Do\+Sched\+Ul\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
int \hyperlink{classns3_1_1TdBetFfMacScheduler_a180d1d16bb6d0a4f9fcda5df9842ec4a}{Get\+Rbg\+Size} (int dlbandwidth)
\item 
int \hyperlink{classns3_1_1TdBetFfMacScheduler_ad8a61f81356d42a3b622998823a32471}{Lc\+Active\+Per\+Flow} (uint16\+\_\+t rnti)
\item 
double \hyperlink{classns3_1_1TdBetFfMacScheduler_a051dacc13beec936c3e5206d865837bc}{Estimate\+Ul\+Sinr} (uint16\+\_\+t rnti, uint16\+\_\+t rb)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_a7b16f92e532fbd06ee099933b0f57a8c}{Refresh\+Dl\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ad78d0be66210e23e11005edecf4f145e}{Refresh\+Ul\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_af71a8df6d7681bda2678aff1c77985fb}{Update\+Dl\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)
\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_ac9a75f21284227100fa0c44091c01952}{Update\+Ul\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint16\+\_\+t size)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1TdBetFfMacScheduler_ad697cf496a65f679059f9fcd0850daa0}{Update\+Harq\+Process\+Id} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Update and return a new process Id for the R\+N\+TI specified. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1TdBetFfMacScheduler_ad6d89e73b2b5b261805020cd24796303}{Harq\+Process\+Availability} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Return the availability of free process for the R\+N\+TI specified. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TdBetFfMacScheduler_aafa15782e9b220093765a83939821534}{Refresh\+Harq\+Processes} ()
\begin{DoxyCompactList}\small\item\em Refresh H\+A\+RQ processes according to the timers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteAmc}{Lte\+Amc} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}{m\+\_\+amc}
\item 
std\+::map$<$ \hyperlink{structns3_1_1LteFlowId__t}{Lte\+Flow\+Id\+\_\+t}, \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\+\_\+rlc\+Buffer\+Req}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1tdbetsFlowPerf__t}{tdbets\+Flow\+Perf\+\_\+t} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\+\_\+flow\+Stats\+Dl}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1tdbetsFlowPerf__t}{tdbets\+Flow\+Perf\+\_\+t} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a192dacbea27307776249e60660fa005e}{m\+\_\+flow\+Stats\+Ul}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}{m\+\_\+p10\+Cqi\+Rxed}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a1b59f4b00f23f363702a1c9679fe18a1}{m\+\_\+p10\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1SbMeasResult__s}{Sb\+Meas\+Result\+\_\+s} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a97570d78f267884fd17897979a0c1da8}{m\+\_\+a30\+Cqi\+Rxed}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a7e0161875c90392333763dd0b96b405a}{m\+\_\+a30\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ uint16\+\_\+t $>$ $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a058a5b7d1c7c507d3fe3d9d12cc24ab7}{m\+\_\+allocation\+Maps}
\item 
std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ double $>$ $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\+\_\+ue\+Cqi}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a89b7106fc5de30b9153316aa3ea2d368}{m\+\_\+ue\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\+\_\+ce\+Bsr\+Rxed}
\item 
\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a0d14275109333f2c020da427a24430a4}{m\+\_\+csched\+Sap\+User}
\item 
\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_aac1731b516e0a6e45d76828f6c72eaa5}{m\+\_\+sched\+Sap\+User}
\item 
\hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a9c1827706381efe9cb15b1cdd0166ecc}{m\+\_\+csched\+Sap\+Provider}
\item 
\hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a756f79b8f29e6c52fb105fd75444da36}{m\+\_\+sched\+Sap\+Provider}
\item 
\hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a89db05cbe6e553bf45483415f89f2e77}{m\+\_\+ffr\+Sap\+User}
\item 
\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a0356ae243fdb61a3544583b17196fef1}{m\+\_\+ffr\+Sap\+Provider}
\item 
\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\+\_\+csched\+Cell\+Config}
\item 
double \hyperlink{classns3_1_1TdBetFfMacScheduler_abedd8d532189797f7f33af0e2a49427e}{m\+\_\+time\+Window}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{m\+\_\+next\+Rnti\+Ul}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\+\_\+cqi\+Timers\+Threshold}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a4488d2d9dc706b42ef06e493332042cd}{m\+\_\+ues\+Tx\+Mode}
\item 
bool \hyperlink{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}{m\+\_\+harq\+On}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_ac0ed078aaa3bb69134023425a66ff84a}{m\+\_\+dl\+Harq\+Current\+Process\+Id}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a457b3571b67ff17d042e9894e90e2ce2}{Dl\+Harq\+Processes\+Status\+\_\+t} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\+\_\+dl\+Harq\+Processes\+Status}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a39413ade536de4b1c82d6c0074cc703e}{Dl\+Harq\+Processes\+Timer\+\_\+t} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{m\+\_\+dl\+Harq\+Processes\+Timer}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_af25599bf8f9f564075c005759c9af18c}{Dl\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a94ed0382052c7b9665c5f04bce88fe6e}{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a4c0cbd1e72f1c667f8b5879655f13210}{Dl\+Harq\+Rlc\+Pdu\+List\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}
\item 
std\+::vector$<$ \hyperlink{structns3_1_1DlInfoListElement__s}{Dl\+Info\+List\+Element\+\_\+s} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\+\_\+dl\+Info\+List\+Buffered}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\+\_\+ul\+Harq\+Current\+Process\+Id}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_af765c4daaafe4ea4809c1041fc196629}{Ul\+Harq\+Processes\+Status\+\_\+t} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a41bae8c97c560b2a314650d7e99bd356}{m\+\_\+ul\+Harq\+Processes\+Status}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a042cbd6bf67e73911cba35b8c070223d}{Ul\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}
\item 
std\+::vector$<$ struct \hyperlink{structns3_1_1RachListElement__s}{Rach\+List\+Element\+\_\+s} $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_ac88efaa3ffc00af6dd71b21d2bef0448}{m\+\_\+rach\+List}
\item 
std\+::vector$<$ uint16\+\_\+t $>$ \hyperlink{classns3_1_1TdBetFfMacScheduler_a985948ee40a0d721009dea792474ee51}{m\+\_\+rach\+Allocation\+Map}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1TdBetFfMacScheduler_ae0ced77c5d773079c66921b86561de8c}{m\+\_\+ul\+Grant\+Mcs}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1TdBetFfMacScheduler_a172e38de62325e7bb5cb02ce692f70e5}{Td\+Bet\+Scheduler\+Member\+Csched\+Sap\+Provider}
\item 
class \hyperlink{classns3_1_1TdBetFfMacScheduler_ac2214986e1dc350cc1dc34f7c7a0bc87}{Td\+Bet\+Scheduler\+Member\+Sched\+Sap\+Provider}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Implements the S\+C\+H\+ED S\+AP and C\+S\+C\+H\+ED S\+AP for a \hyperlink{classns3_1_1Time}{Time} Domain Blind Equal Throughput scheduler. 

This class implements the interface defined by the \hyperlink{classns3_1_1FfMacScheduler}{Ff\+Mac\+Scheduler} abstract class 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Td\+Bet\+Ff\+Mac\+Scheduler@{Td\+Bet\+Ff\+Mac\+Scheduler}}
\index{Td\+Bet\+Ff\+Mac\+Scheduler@{Td\+Bet\+Ff\+Mac\+Scheduler}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Td\+Bet\+Ff\+Mac\+Scheduler()}{TdBetFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Td\+Bet\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TdBetFfMacScheduler_a9a3f1388b933f153fecdc65c10f7924e}{}\label{classns3_1_1TdBetFfMacScheduler_a9a3f1388b933f153fecdc65c10f7924e}


Constructor. 

Creates the M\+AC \hyperlink{classns3_1_1Scheduler}{Scheduler} interface implementation 
\begin{DoxyCode}
217   :   \hyperlink{classns3_1_1TdBetFfMacScheduler_a0d14275109333f2c020da427a24430a4}{m\_cschedSapUser} (0),
218     \hyperlink{classns3_1_1TdBetFfMacScheduler_aac1731b516e0a6e45d76828f6c72eaa5}{m\_schedSapUser} (0),
219     \hyperlink{classns3_1_1TdBetFfMacScheduler_abedd8d532189797f7f33af0e2a49427e}{m\_timeWindow} (99.0),
220     \hyperlink{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{m\_nextRntiUl} (0)
221 \{
222   \hyperlink{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}{m\_amc} = CreateObject <LteAmc> ();
223   \hyperlink{classns3_1_1TdBetFfMacScheduler_a9c1827706381efe9cb15b1cdd0166ecc}{m\_cschedSapProvider} = \textcolor{keyword}{new} 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a172e38de62325e7bb5cb02ce692f70e5}{TdBetSchedulerMemberCschedSapProvider} (\textcolor{keyword}{this});
224   \hyperlink{classns3_1_1TdBetFfMacScheduler_a756f79b8f29e6c52fb105fd75444da36}{m\_schedSapProvider} = \textcolor{keyword}{new} 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ac2214986e1dc350cc1dc34f7c7a0bc87}{TdBetSchedulerMemberSchedSapProvider} (\textcolor{keyword}{this});
225 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!````~Td\+Bet\+Ff\+Mac\+Scheduler@{$\sim$\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\index{````~Td\+Bet\+Ff\+Mac\+Scheduler@{$\sim$\+Td\+Bet\+Ff\+Mac\+Scheduler}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{$\sim$\+Td\+Bet\+Ff\+Mac\+Scheduler()}{~TdBetFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::$\sim$\+Td\+Bet\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ac3bce99ab4dcfcdcd6ea29c0ee33d0da}{}\label{classns3_1_1TdBetFfMacScheduler_ac3bce99ab4dcfcdcd6ea29c0ee33d0da}
Destructor 
\begin{DoxyCode}
228 \{
229   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
230 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Td\+Bet\+Ff\+Mac\+Scheduler@{Td\+Bet\+Ff\+Mac\+Scheduler}}
\index{Td\+Bet\+Ff\+Mac\+Scheduler@{Td\+Bet\+Ff\+Mac\+Scheduler}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Td\+Bet\+Ff\+Mac\+Scheduler()}{TdBetFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Td\+Bet\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TdBetFfMacScheduler_a9a3f1388b933f153fecdc65c10f7924e}{}\label{classns3_1_1TdBetFfMacScheduler_a9a3f1388b933f153fecdc65c10f7924e}


Constructor. 

Creates the M\+AC \hyperlink{classns3_1_1Scheduler}{Scheduler} interface implementation \index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!````~Td\+Bet\+Ff\+Mac\+Scheduler@{$\sim$\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\index{````~Td\+Bet\+Ff\+Mac\+Scheduler@{$\sim$\+Td\+Bet\+Ff\+Mac\+Scheduler}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{$\sim$\+Td\+Bet\+Ff\+Mac\+Scheduler()}{~TdBetFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::$\sim$\+Td\+Bet\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ac03f77c8811860d09980ead7cfad1ff7}{}\label{classns3_1_1TdBetFfMacScheduler_ac03f77c8811860d09980ead7cfad1ff7}
Destructor 

\subsection{Member Function Documentation}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}}
\index{Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Cell\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters \&params)}{DoCschedCellConfigReq(const struct FfMacCschedSapProvider::CschedCellConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Cell\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a27ea7f4b387b2a8b38557a1acc2d5b22}{}\label{classns3_1_1TdBetFfMacScheduler_a27ea7f4b387b2a8b38557a1acc2d5b22}

\begin{DoxyCode}
313 \{
314   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
315   \textcolor{comment}{// Read the subset of parameters used}
316   \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig} = params;
317   \hyperlink{classns3_1_1TdBetFfMacScheduler_a985948ee40a0d721009dea792474ee51}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
318   FfMacCschedSapUser::CschedUeConfigCnfParameters cnf;
319   cnf.m\_result = \hyperlink{namespacens3_a7acf2b7f9e0781dfe43a6bc54d6ecd07a4e8f5e8f6e514152d0a9fbd6b1607fd0}{SUCCESS};
320   \hyperlink{classns3_1_1TdBetFfMacScheduler_a0d14275109333f2c020da427a24430a4}{m\_cschedSapUser}->\hyperlink{classns3_1_1FfMacCschedSapUser_aecc852478a4ba7e4cd868dae75e01b68}{CschedUeConfigCnf} (cnf);
321   \textcolor{keywordflow}{return};
322 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}}
\index{Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Cell\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters \&params)}{DoCschedCellConfigReq(const struct FfMacCschedSapProvider::CschedCellConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Cell\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a27ea7f4b387b2a8b38557a1acc2d5b22}{}\label{classns3_1_1TdBetFfMacScheduler_a27ea7f4b387b2a8b38557a1acc2d5b22}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}}
\index{Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters \&params)}{DoCschedLcConfigReq(const struct FfMacCschedSapProvider::CschedLcConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ae0d1cdc46e5ff7219dea5ff2cccf4480}{}\label{classns3_1_1TdBetFfMacScheduler_ae0d1cdc46e5ff7219dea5ff2cccf4480}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}}
\index{Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters \&params)}{DoCschedLcConfigReq(const struct FfMacCschedSapProvider::CschedLcConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ae0d1cdc46e5ff7219dea5ff2cccf4480}{}\label{classns3_1_1TdBetFfMacScheduler_ae0d1cdc46e5ff7219dea5ff2cccf4480}

\begin{DoxyCode}
365 \{
366   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" New LC, rnti: "}  << params.m\_rnti);
367 
368   std::map <uint16\_t, tdbetsFlowPerf\_t>::iterator it;
369   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_logicalChannelConfigList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
370     \{
371       it = \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.find (params.m\_rnti);
372 
373       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.end ())
374         \{
375           tdbetsFlowPerf\_t flowStatsDl;
376           flowStatsDl.flowStart = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
377           flowStatsDl.totalBytesTransmitted = 0;
378           flowStatsDl.lastTtiBytesTrasmitted = 0;
379           flowStatsDl.lastAveragedThroughput = 1;
380           \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.insert (std::pair<uint16\_t, tdbetsFlowPerf\_t> (params.m\_rnti, 
      flowStatsDl));
381           tdbetsFlowPerf\_t flowStatsUl;
382           flowStatsUl.flowStart = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
383           flowStatsUl.totalBytesTransmitted = 0;
384           flowStatsUl.lastTtiBytesTrasmitted = 0;
385           flowStatsUl.lastAveragedThroughput = 1;
386           \hyperlink{classns3_1_1TdBetFfMacScheduler_a192dacbea27307776249e60660fa005e}{m\_flowStatsUl}.insert (std::pair<uint16\_t, tdbetsFlowPerf\_t> (params.m\_rnti, 
      flowStatsUl));
387         \}
388     \}
389 
390   \textcolor{keywordflow}{return};
391 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}}
\index{Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters \&params)}{DoCschedLcReleaseReq(const struct FfMacCschedSapProvider::CschedLcReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a91afd6b1b906a2e36165008eb629ff4d}{}\label{classns3_1_1TdBetFfMacScheduler_a91afd6b1b906a2e36165008eb629ff4d}

\begin{DoxyCode}
395 \{
396   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
397   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_logicalChannelIdentity.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
398     \{
399       std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.begin ();
400       std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator temp;
401       \textcolor{keywordflow}{while} (it!=\hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.end ())
402         \{
403           \textcolor{keywordflow}{if} (((*it).first.m\_rnti == params.m\_rnti) && ((*it).first.m\_lcId == params.
      m\_logicalChannelIdentity.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})))
404             \{
405               temp = it;
406               it++;
407               \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.erase (temp);
408             \}
409           \textcolor{keywordflow}{else}
410             \{
411               it++;
412             \}
413         \}
414     \}
415   \textcolor{keywordflow}{return};
416 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}}
\index{Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters \&params)}{DoCschedLcReleaseReq(const struct FfMacCschedSapProvider::CschedLcReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a91afd6b1b906a2e36165008eb629ff4d}{}\label{classns3_1_1TdBetFfMacScheduler_a91afd6b1b906a2e36165008eb629ff4d}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}}
\index{Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters \&params)}{DoCschedUeConfigReq(const struct FfMacCschedSapProvider::CschedUeConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_aba3ff65a4d7204429654fe22314349d1}{}\label{classns3_1_1TdBetFfMacScheduler_aba3ff65a4d7204429654fe22314349d1}

\begin{DoxyCode}
326 \{
327   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << params.m\_rnti << \textcolor{stringliteral}{" txMode "} << (uint16\_t)params.
      m\_transmissionMode);
328   std::map <uint16\_t,uint8\_t>::iterator it = \hyperlink{classns3_1_1TdBetFfMacScheduler_a4488d2d9dc706b42ef06e493332042cd}{m\_uesTxMode}.find (params.m\_rnti);
329   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_a4488d2d9dc706b42ef06e493332042cd}{m\_uesTxMode}.end ())
330     \{
331       \hyperlink{classns3_1_1TdBetFfMacScheduler_a4488d2d9dc706b42ef06e493332042cd}{m\_uesTxMode}.insert (std::pair <uint16\_t, double> (params.m\_rnti, params.m\_transmissionMode
      ));
332       \textcolor{comment}{// generate HARQ buffers}
333       \hyperlink{classns3_1_1TdBetFfMacScheduler_ac0ed078aaa3bb69134023425a66ff84a}{m\_dlHarqCurrentProcessId}.insert (std::pair <uint16\_t,uint8\_t > (params.m\_rnti
      , 0));
334       \hyperlink{namespacens3_a457b3571b67ff17d042e9894e90e2ce2}{DlHarqProcessesStatus\_t} dlHarqPrcStatus;
335       dlHarqPrcStatus.resize (8,0);
336       \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.insert (std::pair <uint16\_t, DlHarqProcessesStatus\_t> 
      (params.m\_rnti, dlHarqPrcStatus));
337       \hyperlink{namespacens3_a39413ade536de4b1c82d6c0074cc703e}{DlHarqProcessesTimer\_t} dlHarqProcessesTimer;
338       dlHarqProcessesTimer.resize (8,0);
339       \hyperlink{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{m\_dlHarqProcessesTimer}.insert (std::pair <uint16\_t, DlHarqProcessesTimer\_t> (
      params.m\_rnti, dlHarqProcessesTimer));
340       \hyperlink{namespacens3_af25599bf8f9f564075c005759c9af18c}{DlHarqProcessesDciBuffer\_t} dlHarqdci;
341       dlHarqdci.resize (8);
342       \hyperlink{classns3_1_1TdBetFfMacScheduler_a94ed0382052c7b9665c5f04bce88fe6e}{m\_dlHarqProcessesDciBuffer}.insert (std::pair <uint16\_t,
       DlHarqProcessesDciBuffer\_t> (params.m\_rnti, dlHarqdci));
343       \hyperlink{namespacens3_a4c0cbd1e72f1c667f8b5879655f13210}{DlHarqRlcPduListBuffer\_t} dlHarqRlcPdu;
344       dlHarqRlcPdu.resize (2);
345       dlHarqRlcPdu.at (0).resize (8);
346       dlHarqRlcPdu.at (1).resize (8);
347       \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.insert (std::pair <uint16\_t,
       DlHarqRlcPduListBuffer\_t> (params.m\_rnti, dlHarqRlcPdu));
348       \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.insert (std::pair <uint16\_t,uint8\_t > (params.m\_rnti
      , 0));
349       \hyperlink{namespacens3_af765c4daaafe4ea4809c1041fc196629}{UlHarqProcessesStatus\_t} ulHarqPrcStatus;
350       ulHarqPrcStatus.resize (8,0);
351       \hyperlink{classns3_1_1TdBetFfMacScheduler_a41bae8c97c560b2a314650d7e99bd356}{m\_ulHarqProcessesStatus}.insert (std::pair <uint16\_t, UlHarqProcessesStatus\_t> 
      (params.m\_rnti, ulHarqPrcStatus));
352       \hyperlink{namespacens3_a042cbd6bf67e73911cba35b8c070223d}{UlHarqProcessesDciBuffer\_t} ulHarqdci;
353       ulHarqdci.resize (8);
354       \hyperlink{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{m\_ulHarqProcessesDciBuffer}.insert (std::pair <uint16\_t,
       UlHarqProcessesDciBuffer\_t> (params.m\_rnti, ulHarqdci));
355     \}
356   \textcolor{keywordflow}{else}
357     \{
358       (*it).second = params.m\_transmissionMode;
359     \}
360   \textcolor{keywordflow}{return};
361 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}}
\index{Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters \&params)}{DoCschedUeConfigReq(const struct FfMacCschedSapProvider::CschedUeConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_aba3ff65a4d7204429654fe22314349d1}{}\label{classns3_1_1TdBetFfMacScheduler_aba3ff65a4d7204429654fe22314349d1}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}}
\index{Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters \&params)}{DoCschedUeReleaseReq(const struct FfMacCschedSapProvider::CschedUeReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ab4f2ed3517907002b6a9c297cad2bd7c}{}\label{classns3_1_1TdBetFfMacScheduler_ab4f2ed3517907002b6a9c297cad2bd7c}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}}
\index{Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters \&params)}{DoCschedUeReleaseReq(const struct FfMacCschedSapProvider::CschedUeReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ab4f2ed3517907002b6a9c297cad2bd7c}{}\label{classns3_1_1TdBetFfMacScheduler_ab4f2ed3517907002b6a9c297cad2bd7c}

\begin{DoxyCode}
420 \{
421   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
422   
423   \hyperlink{classns3_1_1TdBetFfMacScheduler_a4488d2d9dc706b42ef06e493332042cd}{m\_uesTxMode}.erase (params.m\_rnti);
424   \hyperlink{classns3_1_1TdBetFfMacScheduler_ac0ed078aaa3bb69134023425a66ff84a}{m\_dlHarqCurrentProcessId}.erase (params.m\_rnti);
425   \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.erase  (params.m\_rnti);
426   \hyperlink{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{m\_dlHarqProcessesTimer}.erase (params.m\_rnti);
427   \hyperlink{classns3_1_1TdBetFfMacScheduler_a94ed0382052c7b9665c5f04bce88fe6e}{m\_dlHarqProcessesDciBuffer}.erase  (params.m\_rnti);
428   \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.erase  (params.m\_rnti);
429   \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.erase  (params.m\_rnti);
430   \hyperlink{classns3_1_1TdBetFfMacScheduler_a41bae8c97c560b2a314650d7e99bd356}{m\_ulHarqProcessesStatus}.erase  (params.m\_rnti);
431   \hyperlink{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{m\_ulHarqProcessesDciBuffer}.erase  (params.m\_rnti);
432   \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.erase  (params.m\_rnti);
433   \hyperlink{classns3_1_1TdBetFfMacScheduler_a192dacbea27307776249e60660fa005e}{m\_flowStatsUl}.erase  (params.m\_rnti);
434   \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.erase (params.m\_rnti);
435   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.begin ();
436   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator temp;
437   \textcolor{keywordflow}{while} (it!=\hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.end ())
438     \{
439       \textcolor{keywordflow}{if} ((*it).first.m\_rnti == params.m\_rnti)
440         \{
441           temp = it;
442           it++;
443           \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.erase (temp);
444         \}
445       \textcolor{keywordflow}{else}
446         \{
447           it++;
448         \}
449     \}
450   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{m\_nextRntiUl} == params.m\_rnti)
451     \{
452       \hyperlink{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{m\_nextRntiUl} = 0;
453     \}
454 
455   \textcolor{keywordflow}{return};
456 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_af5e206553a5bf7842fe7ac438a32a34f}{}\label{classns3_1_1TdBetFfMacScheduler_af5e206553a5bf7842fe7ac438a32a34f}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1TdBetFfMacScheduler_af4a7dc1adfe243c4b73b8fba9d3ab1f1}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1FfMacScheduler_a771411e455992b81d8399681779debd9}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_af4a7dc1adfe243c4b73b8fba9d3ab1f1}{}\label{classns3_1_1TdBetFfMacScheduler_af4a7dc1adfe243c4b73b8fba9d3ab1f1}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1TdBetFfMacScheduler_af4a7dc1adfe243c4b73b8fba9d3ab1f1}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1FfMacScheduler_a771411e455992b81d8399681779debd9}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
234 \{
235   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
236   \hyperlink{classns3_1_1TdBetFfMacScheduler_a94ed0382052c7b9665c5f04bce88fe6e}{m\_dlHarqProcessesDciBuffer}.clear ();
237   \hyperlink{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{m\_dlHarqProcessesTimer}.clear ();
238   \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.clear ();
239   \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.clear ();
240   \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.clear ();
241   \hyperlink{classns3_1_1TdBetFfMacScheduler_a41bae8c97c560b2a314650d7e99bd356}{m\_ulHarqProcessesStatus}.clear ();
242   \hyperlink{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{m\_ulHarqProcessesDciBuffer}.clear ();
243   \textcolor{keyword}{delete} \hyperlink{classns3_1_1TdBetFfMacScheduler_a9c1827706381efe9cb15b1cdd0166ecc}{m\_cschedSapProvider};
244   \textcolor{keyword}{delete} \hyperlink{classns3_1_1TdBetFfMacScheduler_a756f79b8f29e6c52fb105fd75444da36}{m\_schedSapProvider};
245 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedDlCqiInfoReq(const struct FfMacSchedSapProvider::SchedDlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a0a9461103d86aaf1fb5eca36f4eb1f5e}{}\label{classns3_1_1TdBetFfMacScheduler_a0a9461103d86aaf1fb5eca36f4eb1f5e}

\begin{DoxyCode}
1253 \{
1254   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1255 
1256   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_cqiList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1257     \{
1258       \textcolor{keywordflow}{if} ( params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_cqiType == \hyperlink{structns3_1_1CqiListElement__s_a8f1bd827fd9842e7c07e39265d88299aa9db5a80433fbf06a4c98935e28ad26e8}{CqiListElement\_s::P10} )
1259         \{
1260           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"wideband CQI "} <<  (uint32\_t) params.m\_cqiList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0) << \textcolor{stringliteral}{" reported"});
1261           std::map <uint16\_t,uint8\_t>::iterator it;
1262           uint16\_t rnti = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1263           it = \hyperlink{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}{m\_p10CqiRxed}.find (rnti);
1264           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}{m\_p10CqiRxed}.end ())
1265             \{
1266               \textcolor{comment}{// create the new entry}
1267               \hyperlink{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}{m\_p10CqiRxed}.insert ( std::pair<uint16\_t, uint8\_t > (rnti, params.m\_cqiList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0)) ); \textcolor{comment}{// only codeword 0 at this stage (SISO)}
1268               \textcolor{comment}{// generate correspondent timer}
1269               \hyperlink{classns3_1_1TdBetFfMacScheduler_a1b59f4b00f23f363702a1c9679fe18a1}{m\_p10CqiTimers}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold}));
1270             \}
1271           \textcolor{keywordflow}{else}
1272             \{
1273               \textcolor{comment}{// update the CQI value and refresh correspondent timer}
1274               (*it).second = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0);
1275               \textcolor{comment}{// update correspondent timer}
1276               std::map <uint16\_t,uint32\_t>::iterator itTimers;
1277               itTimers = \hyperlink{classns3_1_1TdBetFfMacScheduler_a1b59f4b00f23f363702a1c9679fe18a1}{m\_p10CqiTimers}.find (rnti);
1278               (*itTimers).second = \hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold};
1279             \}
1280         \}
1281       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_cqiType == \hyperlink{structns3_1_1CqiListElement__s_a8f1bd827fd9842e7c07e39265d88299aab9a9d64494e36c89d7932a00edb056a7}{CqiListElement\_s::A30} )
1282         \{
1283           \textcolor{comment}{// subband CQI reporting high layer configured}
1284           std::map <uint16\_t,SbMeasResult\_s>::iterator it;
1285           uint16\_t rnti = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1286           it = \hyperlink{classns3_1_1TdBetFfMacScheduler_a97570d78f267884fd17897979a0c1da8}{m\_a30CqiRxed}.find (rnti);
1287           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_a97570d78f267884fd17897979a0c1da8}{m\_a30CqiRxed}.end ())
1288             \{
1289               \textcolor{comment}{// create the new entry}
1290               \hyperlink{classns3_1_1TdBetFfMacScheduler_a97570d78f267884fd17897979a0c1da8}{m\_a30CqiRxed}.insert ( std::pair<uint16\_t, SbMeasResult\_s > (rnti, params.
      m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbMeasResult) );
1291               \hyperlink{classns3_1_1TdBetFfMacScheduler_a7e0161875c90392333763dd0b96b405a}{m\_a30CqiTimers}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold}));
1292             \}
1293           \textcolor{keywordflow}{else}
1294             \{
1295               \textcolor{comment}{// update the CQI value and refresh correspondent timer}
1296               (*it).second = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbMeasResult;
1297               std::map <uint16\_t,uint32\_t>::iterator itTimers;
1298               itTimers = \hyperlink{classns3_1_1TdBetFfMacScheduler_a7e0161875c90392333763dd0b96b405a}{m\_a30CqiTimers}.find (rnti);
1299               (*itTimers).second = \hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold};
1300             \}
1301         \}
1302       \textcolor{keywordflow}{else}
1303         \{
1304           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" CQI type unknown"});
1305         \}
1306     \}
1307 
1308   \textcolor{keywordflow}{return};
1309 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedDlCqiInfoReq(const struct FfMacSchedSapProvider::SchedDlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a0a9461103d86aaf1fb5eca36f4eb1f5e}{}\label{classns3_1_1TdBetFfMacScheduler_a0a9461103d86aaf1fb5eca36f4eb1f5e}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Mac\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters \&params)}{DoSchedDlMacBufferReq(const struct FfMacSchedSapProvider::SchedDlMacBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Mac\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a196dfea3b8a21fde209147b31d7b7275}{}\label{classns3_1_1TdBetFfMacScheduler_a196dfea3b8a21fde209147b31d7b7275}

\begin{DoxyCode}
493 \{
494   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
495   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method not implemented"});
496   \textcolor{keywordflow}{return};
497 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Mac\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters \&params)}{DoSchedDlMacBufferReq(const struct FfMacSchedSapProvider::SchedDlMacBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Mac\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a196dfea3b8a21fde209147b31d7b7275}{}\label{classns3_1_1TdBetFfMacScheduler_a196dfea3b8a21fde209147b31d7b7275}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Paging\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters \&params)}{DoSchedDlPagingBufferReq(const struct FfMacSchedSapProvider::SchedDlPagingBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Paging\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad90130f716bc93a14396cdad73d123dc}{}\label{classns3_1_1TdBetFfMacScheduler_ad90130f716bc93a14396cdad73d123dc}

\begin{DoxyCode}
485 \{
486   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
487   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method not implemented"});
488   \textcolor{keywordflow}{return};
489 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Paging\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters \&params)}{DoSchedDlPagingBufferReq(const struct FfMacSchedSapProvider::SchedDlPagingBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Paging\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad90130f716bc93a14396cdad73d123dc}{}\label{classns3_1_1TdBetFfMacScheduler_ad90130f716bc93a14396cdad73d123dc}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}}
\index{Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rach\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters \&params)}{DoSchedDlRachInfoReq(const struct FfMacSchedSapProvider::SchedDlRachInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rach\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a715c5674cc7a32139c0b8a126537f0a2}{}\label{classns3_1_1TdBetFfMacScheduler_a715c5674cc7a32139c0b8a126537f0a2}

\begin{DoxyCode}
1243 \{
1244   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1245 
1246   \hyperlink{classns3_1_1TdBetFfMacScheduler_ac88efaa3ffc00af6dd71b21d2bef0448}{m\_rachList} = params.m\_rachList;
1247   
1248   \textcolor{keywordflow}{return};
1249 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}}
\index{Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rach\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters \&params)}{DoSchedDlRachInfoReq(const struct FfMacSchedSapProvider::SchedDlRachInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rach\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a715c5674cc7a32139c0b8a126537f0a2}{}\label{classns3_1_1TdBetFfMacScheduler_a715c5674cc7a32139c0b8a126537f0a2}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rlc\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters \&params)}{DoSchedDlRlcBufferReq(const struct FfMacSchedSapProvider::SchedDlRlcBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rlc\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a651f4453453b647b3d498acb5c808ca9}{}\label{classns3_1_1TdBetFfMacScheduler_a651f4453453b647b3d498acb5c808ca9}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rlc\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters \&params)}{DoSchedDlRlcBufferReq(const struct FfMacSchedSapProvider::SchedDlRlcBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rlc\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a651f4453453b647b3d498acb5c808ca9}{}\label{classns3_1_1TdBetFfMacScheduler_a651f4453453b647b3d498acb5c808ca9}

\begin{DoxyCode}
461 \{
462   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << params.m\_rnti << (uint32\_t) params.m\_logicalChannelIdentity);
463   \textcolor{comment}{// API generated by RLC for updating RLC parameters on a LC (tx and retx queues)}
464 
465   std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
466 
467   LteFlowId\_t flow (params.m\_rnti, params.m\_logicalChannelIdentity);
468 
469   it =  \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.find (flow);
470 
471   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.end ())
472     \{
473       \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.insert (std::pair <LteFlowId\_t,
       FfMacSchedSapProvider::SchedDlRlcBufferReqParameters> (flow, params));
474     \}
475   \textcolor{keywordflow}{else}
476     \{
477       (*it).second = params;
478     \}
479 
480   \textcolor{keywordflow}{return};
481 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}}
\index{Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters \&params)}{DoSchedDlTriggerReq(const struct FfMacSchedSapProvider::SchedDlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a1412adaa69a56d47a7a9ae2fec1401d9}{}\label{classns3_1_1TdBetFfMacScheduler_a1412adaa69a56d47a7a9ae2fec1401d9}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000109}{Todo}]check correct value according the D\+C\+Is txed \end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000135}{Todo}]check correct value according the D\+C\+Is txed \end{DoxyRefDesc}

\begin{DoxyCode}
646 \{
647   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{" subframe no. "} << (0
      xF & params.m\_sfnSf));
648   \textcolor{comment}{// API generated by RLC for triggering the scheduling of a DL subframe}
649 
650 
651   \textcolor{comment}{// evaluate the relative channel quality indicator for each UE per each RBG}
652   \textcolor{comment}{// (since we are using allocation type 0 the small unit of allocation is RBG)}
653   \textcolor{comment}{// Resource allocation type 0 (see sec 7.1.6.1 of 36.213)}
654 
655   \hyperlink{classns3_1_1TdBetFfMacScheduler_a7b16f92e532fbd06ee099933b0f57a8c}{RefreshDlCqiMaps} ();
656 
657   \textcolor{keywordtype}{int} rbgSize = \hyperlink{classns3_1_1TdBetFfMacScheduler_a180d1d16bb6d0a4f9fcda5df9842ec4a}{GetRbgSize} (\hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth});
658   \textcolor{keywordtype}{int} rbgNum = \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth} / rbgSize;
659   std::map <uint16\_t, std::vector <uint16\_t> > allocationMap; \textcolor{comment}{// RBs map per RNTI}
660   std::vector <bool> rbgMap;  \textcolor{comment}{// global RBGs map}
661   uint16\_t rbgAllocatedNum = 0;
662   std::set <uint16\_t> rntiAllocated;
663   rbgMap.resize (\hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth} / rbgSize, \textcolor{keyword}{false});
664   FfMacSchedSapUser::SchedDlConfigIndParameters ret;
665 
666   \textcolor{comment}{//   update UL HARQ proc id}
667   std::map <uint16\_t, uint8\_t>::iterator itProcId;
668   \textcolor{keywordflow}{for} (itProcId = \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.begin (); itProcId != 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.end (); itProcId++)
669     \{
670       (*itProcId).second = ((*itProcId).second + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
671     \}
672 
673   \textcolor{comment}{// RACH Allocation}
674   \hyperlink{classns3_1_1TdBetFfMacScheduler_a985948ee40a0d721009dea792474ee51}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
675   uint16\_t rbStart = 0;
676   std::vector <struct RachListElement\_s>::iterator itRach;
677   \textcolor{keywordflow}{for} (itRach = \hyperlink{classns3_1_1TdBetFfMacScheduler_ac88efaa3ffc00af6dd71b21d2bef0448}{m\_rachList}.begin (); itRach != \hyperlink{classns3_1_1TdBetFfMacScheduler_ac88efaa3ffc00af6dd71b21d2bef0448}{m\_rachList}.end (); itRach++)
678     \{
679       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}{m\_amc}->GetTbSizeFromMcs (\hyperlink{classns3_1_1TdBetFfMacScheduler_ae0ced77c5d773079c66921b86561de8c}{m\_ulGrantMcs}, 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) > (*itRach).m\_estimatedSize, \textcolor{stringliteral}{" Default UL
       Grant MCS does not allow to send RACH messages"});
680       BuildRarListElement\_s newRar;
681       newRar.m\_rnti = (*itRach).m\_rnti;
682       \textcolor{comment}{// DL-RACH Allocation}
683       \textcolor{comment}{// Ideal: no needs of configuring m\_dci}
684       \textcolor{comment}{// UL-RACH Allocation}
685       newRar.m\_grant.m\_rnti = newRar.m\_rnti;
686       newRar.m\_grant.m\_mcs = \hyperlink{classns3_1_1TdBetFfMacScheduler_ae0ced77c5d773079c66921b86561de8c}{m\_ulGrantMcs};
687       uint16\_t rbLen = 1;
688       uint16\_t tbSizeBits = 0;
689       \textcolor{comment}{// find lowest TB size that fits UL grant estimated size}
690       \textcolor{keywordflow}{while} ((tbSizeBits < (*itRach).m\_estimatedSize) && (rbStart + rbLen < 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}))
691         \{
692           rbLen++;
693           tbSizeBits = \hyperlink{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}{m\_amc}->GetTbSizeFromMcs (\hyperlink{classns3_1_1TdBetFfMacScheduler_ae0ced77c5d773079c66921b86561de8c}{m\_ulGrantMcs}, rbLen);
694         \}
695       \textcolor{keywordflow}{if} (tbSizeBits < (*itRach).m\_estimatedSize)
696         \{
697           \textcolor{comment}{// no more allocation space: finish allocation}
698           \textcolor{keywordflow}{break};
699         \}
700       newRar.m\_grant.m\_rbStart = rbStart;
701       newRar.m\_grant.m\_rbLen = rbLen;
702       newRar.m\_grant.m\_tbSize = tbSizeBits / 8;
703       newRar.m\_grant.m\_hopping = \textcolor{keyword}{false};
704       newRar.m\_grant.m\_tpc = 0;
705       newRar.m\_grant.m\_cqiRequest = \textcolor{keyword}{false};
706       newRar.m\_grant.m\_ulDelay = \textcolor{keyword}{false};
707       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL grant allocated to RNTI "} << (*itRach).m\_rnti << \textcolor{stringliteral}{" rbStart "} << 
      rbStart << \textcolor{stringliteral}{" rbLen "} << rbLen << \textcolor{stringliteral}{" MCS "} << \hyperlink{classns3_1_1TdBetFfMacScheduler_ae0ced77c5d773079c66921b86561de8c}{m\_ulGrantMcs} << \textcolor{stringliteral}{" tbSize "} << newRar.m\_grant.
      m\_tbSize);
708       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rbStart + rbLen; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
709         \{
710           \hyperlink{classns3_1_1TdBetFfMacScheduler_a985948ee40a0d721009dea792474ee51}{m\_rachAllocationMap}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = (*itRach).m\_rnti;
711         \}
712 
713       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}{m\_harqOn} == \textcolor{keyword}{true})
714         \{
715           \textcolor{comment}{// generate UL-DCI for HARQ retransmissions}
716           UlDciListElement\_s uldci;
717           uldci.m\_rnti = newRar.m\_rnti;
718           uldci.m\_rbLen = rbLen;
719           uldci.m\_rbStart = rbStart;
720           uldci.m\_mcs = \hyperlink{classns3_1_1TdBetFfMacScheduler_ae0ced77c5d773079c66921b86561de8c}{m\_ulGrantMcs};
721           uldci.m\_tbSize = tbSizeBits / 8;
722           uldci.m\_ndi = 1;
723           uldci.m\_cceIndex = 0;
724           uldci.m\_aggrLevel = 1;
725           uldci.m\_ueTxAntennaSelection = 3; \textcolor{comment}{// antenna selection OFF}
726           uldci.m\_hopping = \textcolor{keyword}{false};
727           uldci.m\_n2Dmrs = 0;
728           uldci.m\_tpc = 0; \textcolor{comment}{// no power control}
729           uldci.m\_cqiRequest = \textcolor{keyword}{false}; \textcolor{comment}{// only period CQI at this stage}
730           uldci.m\_ulIndex = 0; \textcolor{comment}{// TDD parameter}
731           uldci.m\_dai = 1; \textcolor{comment}{// TDD parameter}
732           uldci.m\_freqHopping = 0;
733           uldci.m\_pdcchPowerOffset = 0; \textcolor{comment}{// not used}
734 
735           uint8\_t harqId = 0;
736           std::map <uint16\_t, uint8\_t>::iterator itProcId;
737           itProcId = \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.find (uldci.m\_rnti);
738           \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.end ())
739             \{
740               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << uldci.m\_rnti);
741             \}
742           harqId = (*itProcId).second;
743           std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{m\_ulHarqProcessesDciBuffer}.find (uldci.m\_rnti);
744           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{m\_ulHarqProcessesDciBuffer}.end ())
745             \{
746               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in UL DCI HARQ buffer for RNTI "} << 
      uldci.m\_rnti);
747             \}
748           (*itDci).second.at (harqId) = uldci;
749         \}
750 
751       rbStart = rbStart + rbLen;
752       ret.m\_buildRarList.push\_back (newRar);
753     \}
754   \hyperlink{classns3_1_1TdBetFfMacScheduler_ac88efaa3ffc00af6dd71b21d2bef0448}{m\_rachList}.clear ();
755 
756 
757   \textcolor{comment}{// Process DL HARQ feedback}
758   \hyperlink{classns3_1_1TdBetFfMacScheduler_aafa15782e9b220093765a83939821534}{RefreshHarqProcesses} ();
759   \textcolor{comment}{// retrieve past HARQ retx buffered}
760   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.size () > 0)
761     \{
762       \textcolor{keywordflow}{if} (params.m\_dlInfoList.size () > 0)
763         \{
764           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Received DL-HARQ feedback"});
765           \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.insert (\hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.end (),
       params.m\_dlInfoList.begin (), params.m\_dlInfoList.end ());
766         \}
767     \}
768   \textcolor{keywordflow}{else}
769     \{
770       \textcolor{keywordflow}{if} (params.m\_dlInfoList.size () > 0)
771         \{
772           \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered} = params.m\_dlInfoList;
773         \}
774     \}
775   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}{m\_harqOn} == \textcolor{keyword}{false})
776     \{
777       \textcolor{comment}{// Ignore HARQ feedback}
778       \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.clear ();
779     \}
780   std::vector <struct DlInfoListElement\_s> dlInfoListUntxed;
781   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
782     \{
783       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find (
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
784       \textcolor{keywordflow}{if} (itRnti != rntiAllocated.end ())
785         \{
786           \textcolor{comment}{// RNTI already allocated for retx}
787           \textcolor{keywordflow}{continue};
788         \}
789       uint8\_t nLayers = \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.size ();
790       std::vector <bool> retx;
791       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Processing DLHARQ feedback"});
792       \textcolor{keywordflow}{if} (nLayers == 1)
793         \{
794           retx.push\_back (\hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (0) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
795           retx.push\_back (\textcolor{keyword}{false});
796         \}
797       \textcolor{keywordflow}{else}
798         \{
799           retx.push\_back (\hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (0) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
800           retx.push\_back (\hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (1) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
801         \}
802       \textcolor{keywordflow}{if} (retx.at (0) || retx.at (1))
803         \{
804           \textcolor{comment}{// retrieve HARQ process information}
805           uint16\_t rnti = \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
806           uint8\_t harqId = \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId;
807           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ retx RNTI "} << rnti << \textcolor{stringliteral}{" harqId "} << (uint16\_t)harqId);
808           std::map <uint16\_t, DlHarqProcessesDciBuffer\_t>::iterator itHarq = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a94ed0382052c7b9665c5f04bce88fe6e}{m\_dlHarqProcessesDciBuffer}.find (rnti);
809           \textcolor{keywordflow}{if} (itHarq == \hyperlink{classns3_1_1TdBetFfMacScheduler_a94ed0382052c7b9665c5f04bce88fe6e}{m\_dlHarqProcessesDciBuffer}.end ())
810             \{
811               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << rnti);
812             \}
813 
814           DlDciListElement\_s dci = (*itHarq).second.at (harqId);
815           \textcolor{keywordtype}{int} rv = 0;
816           \textcolor{keywordflow}{if} (dci.m\_rv.size () == 1)
817             \{
818               rv = dci.m\_rv.at (0);
819             \}
820           \textcolor{keywordflow}{else}
821             \{
822               rv = (dci.m\_rv.at (0) > dci.m\_rv.at (1) ? dci.m\_rv.at (0) : dci.m\_rv.at (1));
823             \}
824 
825           \textcolor{keywordflow}{if} (rv == 3)
826             \{
827               \textcolor{comment}{// maximum number of retx reached -> drop process}
828               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Maximum number of retransmissions reached -> drop process"});
829               std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator it = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.find (rnti);
830               \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.end ())
831                 \{
832                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
833                 \}
834               (*it).second.at (harqId) = 0;
835               std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.find (rnti);
836               \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
837                 \{
838                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
839                 \}
840               \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.size (); k++)
841                 \{
842                   (*itRlcPdu).second.at (k).at (harqId).clear ();
843                 \}
844               \textcolor{keywordflow}{continue};
845             \}
846           \textcolor{comment}{// check the feasibility of retransmitting on the same RBGs}
847           \textcolor{comment}{// translate the DCI to Spectrum framework}
848           std::vector <int> dciRbg;
849           uint32\_t mask = 0x1;
850           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Original RBGs "} << dci.m\_rbBitmap << \textcolor{stringliteral}{" rnti "} << dci.m\_rnti);
851           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 32; j++)
852             \{
853               \textcolor{keywordflow}{if} (((dci.m\_rbBitmap & mask) >> j) == 1)
854                 \{
855                   dciRbg.push\_back (j);
856                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)t"} << j);
857                 \}
858               mask = (mask << 1);
859             \}
860           \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
861           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < dciRbg.size (); j++)
862             \{
863               \textcolor{keywordflow}{if} (rbgMap.at (dciRbg.at (j)) == \textcolor{keyword}{true})
864                 \{
865                   free = \textcolor{keyword}{false};
866                   \textcolor{keywordflow}{break};
867                 \}
868             \}
869           \textcolor{keywordflow}{if} (free)
870             \{
871               \textcolor{comment}{// use the same RBGs for the retx}
872               \textcolor{comment}{// reserve RBGs}
873               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < dciRbg.size (); j++)
874                 \{
875                   rbgMap.at (dciRbg.at (j)) = \textcolor{keyword}{true};
876                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"RBG "} << dciRbg.at (j) << \textcolor{stringliteral}{" assigned"});
877                   rbgAllocatedNum++;
878                 \}
879 
880               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Send retx in the same RBGs"});
881             \}
882           \textcolor{keywordflow}{else}
883             \{
884               \textcolor{comment}{// find RBGs for sending HARQ retx}
885               uint8\_t j = 0;
886               uint8\_t rbgId = (dciRbg.at (dciRbg.size () - 1) + 1) % rbgNum;
887               uint8\_t startRbg = dciRbg.at (dciRbg.size () - 1);
888               std::vector <bool> rbgMapCopy = rbgMap;
889               \textcolor{keywordflow}{while} ((j < dciRbg.size ())&&(startRbg != rbgId))
890                 \{
891                   \textcolor{keywordflow}{if} (rbgMapCopy.at (rbgId) == \textcolor{keyword}{false})
892                     \{
893                       rbgMapCopy.at (rbgId) = \textcolor{keyword}{true};
894                       dciRbg.at (j) = rbgId;
895                       j++;
896                     \}
897                   rbgId = (rbgId + 1) % rbgNum;
898                 \}
899               \textcolor{keywordflow}{if} (j == dciRbg.size ())
900                 \{
901                   \textcolor{comment}{// find new RBGs -> update DCI map}
902                   uint32\_t rbgMask = 0;
903                   \textcolor{keywordflow}{for} (uint16\_t k = 0; k < dciRbg.size (); k++)
904                     \{
905                       rbgMask = rbgMask + (0x1 << dciRbg.at (k));
906                       rbgAllocatedNum++;
907                     \}
908                   dci.m\_rbBitmap = rbgMask;
909                   rbgMap = rbgMapCopy;
910                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Move retx in RBGs "} << dciRbg.size ());
911                 \}
912               \textcolor{keywordflow}{else}
913                 \{
914                   \textcolor{comment}{// HARQ retx cannot be performed on this TTI -> store it}
915                   dlInfoListUntxed.push\_back (\hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
916                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" No resource for this retx -> buffer it"});
917                 \}
918             \}
919           \textcolor{comment}{// retrieve RLC PDU list for retx TBsize and update DCI}
920           BuildDataListElement\_s newEl;
921           std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.find (rnti);
922           \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
923             \{
924               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << rnti);
925             \}
926           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayers; j++)
927             \{
928               \textcolor{keywordflow}{if} (retx.at (j))
929                 \{
930                   \textcolor{keywordflow}{if} (j >= dci.m\_ndi.size ())
931                     \{
932                       \textcolor{comment}{// for avoiding errors in MIMO transient phases}
933                       dci.m\_ndi.push\_back (0);
934                       dci.m\_rv.push\_back (0);
935                       dci.m\_mcs.push\_back (0);
936                       dci.m\_tbsSize.push\_back (0);
937                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" no txed (MIMO
       transition)"});
938                     \}
939                   \textcolor{keywordflow}{else}
940                     \{
941                       dci.m\_ndi.at (j) = 0;
942                       dci.m\_rv.at (j)++;
943                       (*itHarq).second.at (harqId).m\_rv.at (j)++;
944                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" RV "} << (uint16\_t)dci.
      m\_rv.at (j));
945                     \}
946                 \}
947               \textcolor{keywordflow}{else}
948                 \{
949                   \textcolor{comment}{// empty TB of layer j}
950                   dci.m\_ndi.at (j) = 0;
951                   dci.m\_rv.at (j) = 0;
952                   dci.m\_mcs.at (j) = 0;
953                   dci.m\_tbsSize.at (j) = 0;
954                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" no retx"});
955                 \}
956             \}
957           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.at (0).at (dci.m\_harqProcess).size (); k++)
958             \{
959               std::vector <struct RlcPduListElement\_s> rlcPduListPerLc;
960               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayers; j++)
961                 \{
962                   \textcolor{keywordflow}{if} (retx.at (j))
963                     \{
964                       \textcolor{keywordflow}{if} (j < dci.m\_ndi.size ())
965                         \{
966                           rlcPduListPerLc.push\_back ((*itRlcPdu).second.at (j).at (dci.m\_harqProcess).at (k
      ));
967                         \}
968                     \}
969                 \}
970 
971               \textcolor{keywordflow}{if} (rlcPduListPerLc.size () > 0)
972                 \{
973                   newEl.m\_rlcPduList.push\_back (rlcPduListPerLc);
974                 \}
975             \}
976           newEl.m\_rnti = rnti;
977           newEl.m\_dci = dci;
978           (*itHarq).second.at (harqId).m\_rv = dci.m\_rv;
979           \textcolor{comment}{// refresh timer}
980           std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itHarqTimer = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{m\_dlHarqProcessesTimer}.find (rnti);
981           \textcolor{keywordflow}{if} (itHarqTimer== \hyperlink{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{m\_dlHarqProcessesTimer}.end ())
982             \{
983               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find HARQ timer for RNTI "} << (uint16\_t)rnti);
984             \}
985           (*itHarqTimer).second.at (harqId) = 0;
986           ret.m\_buildDataList.push\_back (newEl);
987           rntiAllocated.insert (rnti);
988         \}
989       \textcolor{keywordflow}{else}
990         \{
991           \textcolor{comment}{// update HARQ process status}
992           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ received ACK for UE "} << 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
993           std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator it = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.find (\hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
994           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.end ())
995             \{
996               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
997             \}
998           (*it).second.at (\hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId) = 0;
999           std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.find (
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1000           \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
1001             \{
1002               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1003             \}
1004           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.size (); k++)
1005             \{
1006               (*itRlcPdu).second.at (k).at (\hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId).clear ();
1007             \}
1008         \}
1009     \}
1010   \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered}.clear ();
1011   \hyperlink{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{m\_dlInfoListBuffered} = dlInfoListUntxed;
1012 
1013   \textcolor{keywordflow}{if} (rbgAllocatedNum == rbgNum)
1014     \{
1015       \textcolor{comment}{// all the RBGs are already allocated -> exit}
1016       \textcolor{keywordflow}{if} ((ret.m\_buildDataList.size () > 0) || (ret.m\_buildRarList.size () > 0))
1017         \{
1018           \hyperlink{classns3_1_1TdBetFfMacScheduler_aac1731b516e0a6e45d76828f6c72eaa5}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a28f8484af5a32a45ee6c0e51770d83f7}{SchedDlConfigInd} (ret);
1019         \}
1020       \textcolor{keywordflow}{return};
1021     \}
1022 
1023 
1024   std::map <uint16\_t, tdbetsFlowPerf\_t>::iterator it;
1025   std::map <uint16\_t, tdbetsFlowPerf\_t>::iterator itMax = \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.end ();
1026   \textcolor{keywordtype}{double} metricMax = 0.0;
1027   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.begin (); it != \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.end (); it++)
1028     \{
1029       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1030       \textcolor{keywordflow}{if} ((itRnti != rntiAllocated.end ())||(!\hyperlink{classns3_1_1TdBetFfMacScheduler_ad6d89e73b2b5b261805020cd24796303}{HarqProcessAvailability} ((*it).first))
      )
1031         \{
1032           \textcolor{comment}{// UE already allocated for HARQ or without HARQ process available -> drop it}
1033           \textcolor{keywordflow}{if} (itRnti != rntiAllocated.end ())
1034             \{
1035               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI discared for HARQ tx"} << (uint16\_t)(*it).first);
1036             \}
1037           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1TdBetFfMacScheduler_ad6d89e73b2b5b261805020cd24796303}{HarqProcessAvailability} ((*it).first))
1038             \{
1039               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI discared for HARQ id"} << (uint16\_t)(*it).first);
1040             \}
1041           \textcolor{keywordflow}{continue};
1042        \}
1043 
1044       \textcolor{keywordtype}{double} metric = 1 / (*it).second.lastAveragedThroughput;
1045 
1046       \textcolor{keywordflow}{if} (metric > metricMax)
1047         \{
1048           metricMax = metric;
1049           itMax = it;
1050         \}
1051     \} \textcolor{comment}{// end for m\_flowStatsDl}
1052 
1053 
1054   \textcolor{keywordflow}{if} (itMax == \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.end ())
1055     \{
1056       \textcolor{comment}{// no UE available for downlink }
1057       \textcolor{keywordflow}{return};
1058     \}
1059   \textcolor{keywordflow}{else}
1060     \{
1061       \textcolor{comment}{// assign all RBGs to this UE}
1062       std::vector <uint16\_t> tempMap;
1063       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rbgNum; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1064         \{
1065           tempMap.push\_back (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1066         \}
1067       allocationMap.insert (std::pair <uint16\_t, std::vector <uint16\_t> > ((*itMax).first, tempMap));
1068     \}
1069 
1070 
1071   \textcolor{comment}{// reset TTI stats of users}
1072   std::map <uint16\_t, tdbetsFlowPerf\_t>::iterator itStats;
1073   \textcolor{keywordflow}{for} (itStats = \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.begin (); itStats != \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.end (); itStats
      ++)
1074     \{
1075       (*itStats).second.lastTtiBytesTrasmitted = 0;
1076     \}
1077 
1078   \textcolor{comment}{// generate the transmission opportunities by grouping the RBGs of the same RNTI and}
1079   \textcolor{comment}{// creating the correspondent DCIs}
1080   std::map <uint16\_t, std::vector <uint16\_t> >::iterator itMap = allocationMap.begin ();
1081   \textcolor{keywordflow}{while} (itMap != allocationMap.end ())
1082     \{
1083       \textcolor{comment}{// create new BuildDataListElement\_s for this LC}
1084       BuildDataListElement\_s newEl;
1085       newEl.m\_rnti = (*itMap).first;
1086       \textcolor{comment}{// create the DlDciListElement\_s}
1087       DlDciListElement\_s newDci;
1088       newDci.m\_rnti = (*itMap).first;
1089       newDci.m\_harqProcess = \hyperlink{classns3_1_1TdBetFfMacScheduler_ad697cf496a65f679059f9fcd0850daa0}{UpdateHarqProcessId} ((*itMap).first);
1090 
1091       uint16\_t lcActives = \hyperlink{classns3_1_1TdBetFfMacScheduler_ad8a61f81356d42a3b622998823a32471}{LcActivePerFlow} ((*itMap).first);
1092       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"Allocate user "} << newEl.m\_rnti << \textcolor{stringliteral}{" rbg "} << lcActives);
1093       \textcolor{keywordflow}{if} (lcActives == 0)
1094         \{
1095           \textcolor{comment}{// Set to max value, to avoid divide by 0 below}
1096           lcActives = (uint16\_t)65535; \textcolor{comment}{// UINT16\_MAX;}
1097         \}
1098       uint16\_t RgbPerRnti = (*itMap).second.size ();
1099       std::map <uint16\_t,uint8\_t>::iterator itCqi;
1100       itCqi = \hyperlink{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}{m\_p10CqiRxed}.find ((*itMap).first);
1101       std::map <uint16\_t,uint8\_t>::iterator itTxMode;
1102       itTxMode = \hyperlink{classns3_1_1TdBetFfMacScheduler_a4488d2d9dc706b42ef06e493332042cd}{m\_uesTxMode}.find ((*itMap).first);
1103       \textcolor{keywordflow}{if} (itTxMode == \hyperlink{classns3_1_1TdBetFfMacScheduler_a4488d2d9dc706b42ef06e493332042cd}{m\_uesTxMode}.end ())
1104         \{
1105           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Transmission Mode info on user "} << (*itMap).first);
1106         \}
1107       \textcolor{keywordtype}{int} nLayer = \hyperlink{classns3_1_1TransmissionModesLayers_a31f608b7bfaa77440fe4cb85ad035329}{TransmissionModesLayers::TxMode2LayerNum} (
      (*itTxMode).second);
1108 
1109       uint32\_t bytesTxed = 0;
1110       \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1111         \{
1112           \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}{m\_p10CqiRxed}.end ())
1113             \{
1114               newDci.m\_mcs.push\_back (0); \textcolor{comment}{// no info on this user -> lowest MCS}
1115             \}
1116           \textcolor{keywordflow}{else}
1117             \{
1118               newDci.m\_mcs.push\_back ( \hyperlink{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}{m\_amc}->GetMcsFromCqi ((*itCqi).second) );
1119             \}
1120 
1121           \textcolor{keywordtype}{int} tbSize = (\hyperlink{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}{m\_amc}->GetTbSizeFromMcs (newDci.m\_mcs.at (j), RgbPerRnti * rbgSize) / 8); \textcolor{comment}{//
       (size of TB in bytes according to table 7.1.7.2.1-1 of 36.213)}
1122           newDci.m\_tbsSize.push\_back (tbSize);
1123           bytesTxed += tbSize;
1124         \}
1125 
1126       newDci.m\_resAlloc = 0;  \textcolor{comment}{// only allocation type 0 at this stage}
1127       newDci.m\_rbBitmap = 0; \textcolor{comment}{// TBD (32 bit bitmap see 7.1.6 of 36.213)}
1128       uint32\_t rbgMask = 0;
1129       \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itMap).second.size (); k++)
1130         \{
1131           rbgMask = rbgMask + (0x1 << (*itMap).second.at (k));
1132           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Allocated RBG "} << (*itMap).second.at (k));
1133         \}
1134       newDci.m\_rbBitmap = rbgMask; \textcolor{comment}{// (32 bit bitmap see 7.1.6 of 36.213)}
1135 
1136       \textcolor{comment}{// create the rlc PDUs -> equally divide resources among actives LCs}
1137       std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator itBufReq;
1138       \textcolor{keywordflow}{for} (itBufReq = \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.begin (); itBufReq != 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.end (); itBufReq++)
1139         \{
1140           \textcolor{keywordflow}{if} (((*itBufReq).first.m\_rnti == (*itMap).first)
1141               && (((*itBufReq).second.m\_rlcTransmissionQueueSize > 0)
1142                   || ((*itBufReq).second.m\_rlcRetransmissionQueueSize > 0)
1143                   || ((*itBufReq).second.m\_rlcStatusPduSize > 0) ))
1144             \{
1145               std::vector <struct RlcPduListElement\_s> newRlcPduLe;
1146               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1147                 \{
1148                   RlcPduListElement\_s newRlcEl;
1149                   newRlcEl.m\_logicalChannelIdentity = (*itBufReq).first.m\_lcId;
1150                   newRlcEl.m\_size = newDci.m\_tbsSize.at (j) / lcActives;
1151                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" LCID "} << (uint32\_t) newRlcEl.m\_logicalChannelIdentity 
      << \textcolor{stringliteral}{" size "} << newRlcEl.m\_size << \textcolor{stringliteral}{" layer "} << (uint16\_t)j);
1152                   newRlcPduLe.push\_back (newRlcEl);
1153                   \hyperlink{classns3_1_1TdBetFfMacScheduler_af71a8df6d7681bda2678aff1c77985fb}{UpdateDlRlcBufferInfo} (newDci.m\_rnti, newRlcEl.
      m\_logicalChannelIdentity, newRlcEl.m\_size);
1154                   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}{m\_harqOn} == \textcolor{keyword}{true})
1155                     \{
1156                       \textcolor{comment}{// store RLC PDU list for HARQ}
1157                       std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.find ((*itMap).first);
1158                       \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{m\_dlHarqProcessesRlcPduListBuffer}.
      end ())
1159                         \{
1160                           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI 
      "} << (*itMap).first);
1161                         \}
1162                       (*itRlcPdu).second.at (j).at (newDci.m\_harqProcess).push\_back (newRlcEl);
1163                     \}
1164                 \}
1165               newEl.m\_rlcPduList.push\_back (newRlcPduLe);
1166             \}
1167           \textcolor{keywordflow}{if} ((*itBufReq).first.m\_rnti > (*itMap).first)
1168             \{
1169               \textcolor{keywordflow}{break};
1170             \}
1171         \}
1172       \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1173         \{
1174           newDci.m\_ndi.push\_back (1);
1175           newDci.m\_rv.push\_back (0);
1176         \}
1177 
1178       newDci.m\_tpc = 1; \textcolor{comment}{//1 is mapped to 0 in Accumulated Mode and to -1 in Absolute Mode}
1179 
1180       newEl.m\_dci = newDci;
1181 
1182       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}{m\_harqOn} == \textcolor{keyword}{true})
1183         \{
1184           \textcolor{comment}{// store DCI for HARQ}
1185           std::map <uint16\_t, DlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a94ed0382052c7b9665c5f04bce88fe6e}{m\_dlHarqProcessesDciBuffer}.find (newEl.m\_rnti);
1186           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1TdBetFfMacScheduler_a94ed0382052c7b9665c5f04bce88fe6e}{m\_dlHarqProcessesDciBuffer}.end ())
1187             \{
1188               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in DCI HARQ buffer for RNTI "} << 
      newEl.m\_rnti);
1189             \}
1190           (*itDci).second.at (newDci.m\_harqProcess) = newDci;
1191           \textcolor{comment}{// refresh timer}
1192           std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itHarqTimer =  
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{m\_dlHarqProcessesTimer}.find (newEl.m\_rnti);
1193           \textcolor{keywordflow}{if} (itHarqTimer== \hyperlink{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{m\_dlHarqProcessesTimer}.end ())
1194             \{
1195               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find HARQ timer for RNTI "} << (uint16\_t)newEl.m\_rnti
      );
1196             \}
1197           (*itHarqTimer).second.at (newDci.m\_harqProcess) = 0;
1198         \}
1199 
1200       \textcolor{comment}{// ...more parameters -> ingored in this version}
1201 
1202       ret.m\_buildDataList.push\_back (newEl);
1203       \textcolor{comment}{// update UE stats}
1204       std::map <uint16\_t, tdbetsFlowPerf\_t>::iterator it;
1205       it = \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.find ((*itMap).first);
1206       \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.end ())
1207         \{
1208           (*it).second.lastTtiBytesTrasmitted = bytesTxed;
1209           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE total bytes txed "} << (*it).second.lastTtiBytesTrasmitted);
1210 
1211 
1212         \}
1213       \textcolor{keywordflow}{else}
1214         \{
1215           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" No Stats for this allocated UE"});
1216         \}
1217 
1218       itMap++;
1219     \} \textcolor{comment}{// end while allocation}
1220   ret.m\_nrOfPdcchOfdmSymbols = 1;   
1221 
1222 
1223   \textcolor{comment}{// update UEs stats}
1224   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Update UEs statistics"});
1225   \textcolor{keywordflow}{for} (itStats = \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.begin (); itStats != \hyperlink{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{m\_flowStatsDl}.end (); itStats
      ++)
1226     \{
1227       (*itStats).second.totalBytesTransmitted += (*itStats).second.lastTtiBytesTrasmitted;
1228       \textcolor{comment}{// update average throughput (see eq. 12.3 of Sec 12.3.1.2 of LTE – The UMTS Long Term Evolution, Ed
       Wiley)}
1229       (*itStats).second.lastAveragedThroughput = ((1.0 - (1.0 / \hyperlink{classns3_1_1TdBetFfMacScheduler_abedd8d532189797f7f33af0e2a49427e}{m\_timeWindow})) * (*itStats).
      second.lastAveragedThroughput) + ((1.0 / \hyperlink{classns3_1_1TdBetFfMacScheduler_abedd8d532189797f7f33af0e2a49427e}{m\_timeWindow}) * (double)((*itStats).second.
      lastTtiBytesTrasmitted / 0.001));
1230       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE total bytes "} << (*itStats).second.totalBytesTransmitted);
1231       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE average throughput "} << (*itStats).second.lastAveragedThroughput
      );
1232       (*itStats).second.lastTtiBytesTrasmitted = 0;
1233     \}
1234 
1235   \hyperlink{classns3_1_1TdBetFfMacScheduler_aac1731b516e0a6e45d76828f6c72eaa5}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a28f8484af5a32a45ee6c0e51770d83f7}{SchedDlConfigInd} (ret);
1236 
1237 
1238   \textcolor{keywordflow}{return};
1239 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}}
\index{Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters \&params)}{DoSchedDlTriggerReq(const struct FfMacSchedSapProvider::SchedDlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a1412adaa69a56d47a7a9ae2fec1401d9}{}\label{classns3_1_1TdBetFfMacScheduler_a1412adaa69a56d47a7a9ae2fec1401d9}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedUlCqiInfoReq(const struct FfMacSchedSapProvider::SchedUlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ac923455a7dbe7baac8b3997224ddcbea}{}\label{classns3_1_1TdBetFfMacScheduler_ac923455a7dbe7baac8b3997224ddcbea}

\begin{DoxyCode}
1786 \{
1787   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1788 \textcolor{comment}{// retrieve the allocation for this subframe}
1789   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1FfMacScheduler_adae16e66a1c4231da80a1221297442cf}{m\_ulCqiFilter})
1790     \{
1791     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52af2e0df473ba2c8f9cb131cb760591aed}{FfMacScheduler::SRS\_UL\_CQI}:
1792       \{
1793         \textcolor{comment}{// filter all the CQIs that are not SRS based}
1794         \textcolor{keywordflow}{if} (params.m\_ulCqi.m\_type != \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af4b6dba4243636562c910c4d4761dd7e}{UlCqi\_s::SRS})
1795           \{
1796             \textcolor{keywordflow}{return};
1797           \}
1798       \}
1799       \textcolor{keywordflow}{break};
1800     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52a4a833bc779439b15bd904e1dd8eaa563}{FfMacScheduler::PUSCH\_UL\_CQI}:
1801       \{
1802         \textcolor{comment}{// filter all the CQIs that are not SRS based}
1803         \textcolor{keywordflow}{if} (params.m\_ulCqi.m\_type != \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a9716b20a3095c473ae3fde1eb5d0bb63}{UlCqi\_s::PUSCH})
1804           \{
1805             \textcolor{keywordflow}{return};
1806           \}
1807       \}
1808     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52a84059a597c72335f0a5963c3efcbda71}{FfMacScheduler::ALL\_UL\_CQI}:
1809       \textcolor{keywordflow}{break};
1810 
1811     \textcolor{keywordflow}{default}:
1812       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown UL CQI type"});
1813     \}
1814 
1815   \textcolor{keywordflow}{switch} (params.m\_ulCqi.m\_type)
1816     \{
1817     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a9716b20a3095c473ae3fde1eb5d0bb63}{UlCqi\_s::PUSCH}:
1818       \{
1819         std::map <uint16\_t, std::vector <uint16\_t> >::iterator itMap;
1820         std::map <uint16\_t, std::vector <double> >::iterator itCqi;
1821         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Collect PUSCH CQIs of Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{"
       subframe no. "} << (0xF & params.m\_sfnSf));
1822         itMap = \hyperlink{classns3_1_1TdBetFfMacScheduler_a058a5b7d1c7c507d3fe3d9d12cc24ab7}{m\_allocationMaps}.find (params.m\_sfnSf);
1823         \textcolor{keywordflow}{if} (itMap == \hyperlink{classns3_1_1TdBetFfMacScheduler_a058a5b7d1c7c507d3fe3d9d12cc24ab7}{m\_allocationMaps}.end ())
1824           \{
1825             \textcolor{keywordflow}{return};
1826           \}
1827         \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < (*itMap).second.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1828           \{
1829             \textcolor{comment}{// convert from fixed point notation Sxxxxxxxxxxx.xxx to double}
1830             \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1831             itCqi = \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.find ((*itMap).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1832             \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.end ())
1833               \{
1834                 \textcolor{comment}{// create a new entry}
1835                 std::vector <double> newCqi;
1836                 \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
1837                   \{
1838                     \textcolor{keywordflow}{if} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} == j)
1839                       \{
1840                         newCqi.push\_back (sinr);
1841                       \}
1842                     \textcolor{keywordflow}{else}
1843                       \{
1844                         \textcolor{comment}{// initialize with NO\_SINR value.}
1845                         newCqi.push\_back (\hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR});
1846                       \}
1847 
1848                   \}
1849                 \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.insert (std::pair <uint16\_t, std::vector <double> > ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), newCqi));
1850                 \textcolor{comment}{// generate correspondent timer}
1851                 \hyperlink{classns3_1_1TdBetFfMacScheduler_a89b7106fc5de30b9153316aa3ea2d368}{m\_ueCqiTimers}.insert (std::pair <uint16\_t, uint32\_t > ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), \hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold}));
1852               \}
1853             \textcolor{keywordflow}{else}
1854               \{
1855                 \textcolor{comment}{// update the value}
1856                 (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = sinr;
1857                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << (*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) << \textcolor{stringliteral}{" RB "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" SINR "} << sinr);
1858                 \textcolor{comment}{// update correspondent timer}
1859                 std::map <uint16\_t, uint32\_t>::iterator itTimers;
1860                 itTimers = \hyperlink{classns3_1_1TdBetFfMacScheduler_a89b7106fc5de30b9153316aa3ea2d368}{m\_ueCqiTimers}.find ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1861                 (*itTimers).second = \hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold};
1862 
1863               \}
1864 
1865           \}
1866         \textcolor{comment}{// remove obsolete info on allocation}
1867         \hyperlink{classns3_1_1TdBetFfMacScheduler_a058a5b7d1c7c507d3fe3d9d12cc24ab7}{m\_allocationMaps}.erase (itMap);
1868       \}
1869       \textcolor{keywordflow}{break};
1870     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af4b6dba4243636562c910c4d4761dd7e}{UlCqi\_s::SRS}:
1871       \{
1872         \textcolor{comment}{// get the RNTI from vendor specific parameters}
1873         uint16\_t rnti = 0;
1874         \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (params.m\_vendorSpecificList.size () > 0);
1875         \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_vendorSpecificList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1876           \{
1877             \textcolor{keywordflow}{if} (params.m\_vendorSpecificList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_type == \hyperlink{lte-vendor-specific-parameters_8h_a3b5e6e766032ab4a8e374a1cfd237a26}{SRS\_CQI\_RNTI\_VSP})
1878               \{
1879                 Ptr<SrsCqiRntiVsp> vsp = DynamicCast<SrsCqiRntiVsp> (params.m\_vendorSpecificList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_value);
1880                 rnti = vsp->GetRnti ();
1881               \}
1882           \}
1883         std::map <uint16\_t, std::vector <double> >::iterator itCqi;
1884         itCqi = \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.find (rnti);
1885         \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.end ())
1886           \{
1887             \textcolor{comment}{// create a new entry}
1888             std::vector <double> newCqi;
1889             \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
1890               \{
1891                 \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (j));
1892                 newCqi.push\_back (sinr);
1893                 \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" new SRS-CQI for RB  "} << j << \textcolor{stringliteral}{" value
       "} << sinr);
1894 
1895               \}
1896             \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.insert (std::pair <uint16\_t, std::vector <double> > (rnti, newCqi));
1897             \textcolor{comment}{// generate correspondent timer}
1898             \hyperlink{classns3_1_1TdBetFfMacScheduler_a89b7106fc5de30b9153316aa3ea2d368}{m\_ueCqiTimers}.insert (std::pair <uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold}));
1899           \}
1900         \textcolor{keywordflow}{else}
1901           \{
1902             \textcolor{comment}{// update the values}
1903             \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
1904               \{
1905                 \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (j));
1906                 (*itCqi).second.at (j) = sinr;
1907                 \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" update SRS-CQI for RB  "} << j << \textcolor{stringliteral}{"
       value "} << sinr);
1908               \}
1909             \textcolor{comment}{// update correspondent timer}
1910             std::map <uint16\_t, uint32\_t>::iterator itTimers;
1911             itTimers = \hyperlink{classns3_1_1TdBetFfMacScheduler_a89b7106fc5de30b9153316aa3ea2d368}{m\_ueCqiTimers}.find (rnti);
1912             (*itTimers).second = \hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold};
1913 
1914           \}
1915 
1916 
1917       \}
1918       \textcolor{keywordflow}{break};
1919     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a05ca6554bc6fcd96a0a51fbaa8e794c7}{UlCqi\_s::PUCCH\_1}:
1920     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a35664b4bda6f1cd6acfe9edc84c7571d}{UlCqi\_s::PUCCH\_2}:
1921     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af93f36792cb1eed08f6119e4abfe58e8}{UlCqi\_s::PRACH}:
1922       \{
1923         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"TdBetFfMacScheduler supports only PUSCH and SRS UL-CQIs"});
1924       \}
1925       \textcolor{keywordflow}{break};
1926     \textcolor{keywordflow}{default}:
1927       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown type of UL-CQI"});
1928     \}
1929   \textcolor{keywordflow}{return};
1930 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedUlCqiInfoReq(const struct FfMacSchedSapProvider::SchedUlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ac923455a7dbe7baac8b3997224ddcbea}{}\label{classns3_1_1TdBetFfMacScheduler_ac923455a7dbe7baac8b3997224ddcbea}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}}
\index{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters \&params)}{DoSchedUlMacCtrlInfoReq(const struct FfMacSchedSapProvider::SchedUlMacCtrlInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_adf631779da7aa2b4d876a663dcf204df}{}\label{classns3_1_1TdBetFfMacScheduler_adf631779da7aa2b4d876a663dcf204df}

\begin{DoxyCode}
1742 \{
1743   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1744 
1745   std::map <uint16\_t,uint32\_t>::iterator it;
1746 
1747   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_macCeList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1748     \{
1749       \textcolor{keywordflow}{if} ( params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_macCeType == \hyperlink{structns3_1_1MacCeListElement__s_a270a6526dfc7da02e9dc91823c290f6bac50796b01160b1825ec34efa1ad9f051}{MacCeListElement\_s::BSR} )
1750         \{
1751           \textcolor{comment}{// buffer status report}
1752           \textcolor{comment}{// note that this scheduler does not differentiate the}
1753           \textcolor{comment}{// allocation according to which LCGs have more/less bytes}
1754           \textcolor{comment}{// to send.}
1755           \textcolor{comment}{// Hence the BSR of different LCGs are just summed up to get}
1756           \textcolor{comment}{// a total queue size that is used for allocation purposes.}
1757 
1758           uint32\_t buffer = 0;
1759           \textcolor{keywordflow}{for} (uint8\_t lcg = 0; lcg < 4; ++lcg)
1760             \{
1761               uint8\_t bsrId = params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_macCeValue.m\_bufferStatus.at (lcg);
1762               buffer += \hyperlink{classns3_1_1BufferSizeLevelBsr_a67fc905f267ed8ac5a617fe229699122}{BufferSizeLevelBsr::BsrId2BufferSize} (bsrId);
1763             \}
1764           
1765           uint16\_t rnti = params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1766           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"RNTI="} << rnti << \textcolor{stringliteral}{" buffer="} << buffer);
1767           it = \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.find (rnti);
1768           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.end ())
1769             \{
1770               \textcolor{comment}{// create the new entry}
1771               \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, buffer));
1772             \}
1773           \textcolor{keywordflow}{else}
1774             \{
1775               \textcolor{comment}{// update the buffer size value}
1776               (*it).second = buffer;
1777             \}
1778         \}
1779     \}
1780 
1781   \textcolor{keywordflow}{return};
1782 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}}
\index{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters \&params)}{DoSchedUlMacCtrlInfoReq(const struct FfMacSchedSapProvider::SchedUlMacCtrlInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_adf631779da7aa2b4d876a663dcf204df}{}\label{classns3_1_1TdBetFfMacScheduler_adf631779da7aa2b4d876a663dcf204df}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}}
\index{Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Noise\+Interference\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters \&params)}{DoSchedUlNoiseInterferenceReq(const struct FfMacSchedSapProvider::SchedUlNoiseInterferenceReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Noise\+Interference\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ab588866d9f6be0ea8554b5749f57cb8e}{}\label{classns3_1_1TdBetFfMacScheduler_ab588866d9f6be0ea8554b5749f57cb8e}

\begin{DoxyCode}
1728 \{
1729   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1730   \textcolor{keywordflow}{return};
1731 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}}
\index{Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Noise\+Interference\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters \&params)}{DoSchedUlNoiseInterferenceReq(const struct FfMacSchedSapProvider::SchedUlNoiseInterferenceReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Noise\+Interference\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ab588866d9f6be0ea8554b5749f57cb8e}{}\label{classns3_1_1TdBetFfMacScheduler_ab588866d9f6be0ea8554b5749f57cb8e}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}}
\index{Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Sr\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters \&params)}{DoSchedUlSrInfoReq(const struct FfMacSchedSapProvider::SchedUlSrInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Sr\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a9bd3450efb43b6aff88eb02c64e8d121}{}\label{classns3_1_1TdBetFfMacScheduler_a9bd3450efb43b6aff88eb02c64e8d121}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}}
\index{Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Sr\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters \&params)}{DoSchedUlSrInfoReq(const struct FfMacSchedSapProvider::SchedUlSrInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Sr\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a9bd3450efb43b6aff88eb02c64e8d121}{}\label{classns3_1_1TdBetFfMacScheduler_a9bd3450efb43b6aff88eb02c64e8d121}

\begin{DoxyCode}
1735 \{
1736   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1737   \textcolor{keywordflow}{return};
1738 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}}
\index{Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters \&params)}{DoSchedUlTriggerReq(const struct FfMacSchedSapProvider::SchedUlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a8c4cf354e6ee7d52a6f2c566f47cf054}{}\label{classns3_1_1TdBetFfMacScheduler_a8c4cf354e6ee7d52a6f2c566f47cf054}

\begin{DoxyCode}
1345 \{
1346   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL - Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{" subframe no. "} 
      << (0xF & params.m\_sfnSf) << \textcolor{stringliteral}{" size "} << params.m\_ulInfoList.size ());
1347 
1348   \hyperlink{classns3_1_1TdBetFfMacScheduler_ad78d0be66210e23e11005edecf4f145e}{RefreshUlCqiMaps} ();
1349 
1350   \textcolor{comment}{// Generate RBs map}
1351   FfMacSchedSapUser::SchedUlConfigIndParameters ret;
1352   std::vector <bool> rbMap;
1353   uint16\_t rbAllocatedNum = 0;
1354   std::set <uint16\_t> rntiAllocated;
1355   std::vector <uint16\_t> rbgAllocationMap;
1356   \textcolor{comment}{// update with RACH allocation map}
1357   rbgAllocationMap = \hyperlink{classns3_1_1TdBetFfMacScheduler_a985948ee40a0d721009dea792474ee51}{m\_rachAllocationMap};
1358   \textcolor{comment}{//rbgAllocationMap.resize (m\_cschedCellConfig.m\_ulBandwidth, 0);}
1359   \hyperlink{classns3_1_1TdBetFfMacScheduler_a985948ee40a0d721009dea792474ee51}{m\_rachAllocationMap}.clear ();
1360   \hyperlink{classns3_1_1TdBetFfMacScheduler_a985948ee40a0d721009dea792474ee51}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
1361 
1362   rbMap.resize (\hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, \textcolor{keyword}{false});
1363   \textcolor{comment}{// remove RACH allocation}
1364   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1365     \{
1366       \textcolor{keywordflow}{if} (rbgAllocationMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) != 0)
1367         \{
1368           rbMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = \textcolor{keyword}{true};
1369           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Allocated for RACH "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1370         \}
1371     \}
1372 
1373 
1374   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}{m\_harqOn} == \textcolor{keyword}{true})
1375     \{
1376       \textcolor{comment}{//   Process UL HARQ feedback}
1377       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_ulInfoList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1378         \{        
1379           \textcolor{keywordflow}{if} (params.m\_ulInfoList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_receptionStatus == 
      \hyperlink{structns3_1_1UlInfoListElement__s_a2a4dff5145d25c81086660e991db6f61a98aed738fd24811d3461668e394a53c8}{UlInfoListElement\_s::NotOk})
1380             \{
1381               \textcolor{comment}{// retx correspondent block: retrieve the UL-DCI}
1382               uint16\_t rnti = params.m\_ulInfoList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1383               std::map <uint16\_t, uint8\_t>::iterator itProcId = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.find (rnti);
1384               \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.end ())
1385                 \{
1386                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1387                 \}
1388               uint8\_t harqId = (uint8\_t)((*itProcId).second - \hyperlink{lte-common_8h_a275321ee206f130c3ddc81fcdaa13cfd}{HARQ\_PERIOD}) % 
      \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
1389               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-HARQ retx RNTI "} << rnti << \textcolor{stringliteral}{" harqId "} << (uint16\_t)
      harqId << \textcolor{stringliteral}{" i "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" size "}  << params.m\_ulInfoList.size ());
1390               std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itHarq = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{m\_ulHarqProcessesDciBuffer}.find (rnti);
1391               \textcolor{keywordflow}{if} (itHarq == \hyperlink{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{m\_ulHarqProcessesDciBuffer}.end ())
1392                 \{
1393                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1394                   \textcolor{keywordflow}{continue};
1395                 \}
1396               UlDciListElement\_s dci = (*itHarq).second.at (harqId);
1397               std::map <uint16\_t, UlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a41bae8c97c560b2a314650d7e99bd356}{m\_ulHarqProcessesStatus}.find (rnti);
1398               \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TdBetFfMacScheduler_a41bae8c97c560b2a314650d7e99bd356}{m\_ulHarqProcessesStatus}.end ())
1399                 \{
1400                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1401                 \}
1402               \textcolor{keywordflow}{if} ((*itStat).second.at (harqId) >= 3)
1403                 \{
1404                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Max number of retransmissions reached (UL)-> drop process"});
1405                   \textcolor{keywordflow}{continue};
1406                 \}
1407               \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
1408               \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = dci.m\_rbStart; j < dci.m\_rbStart + dci.m\_rbLen; j++)
1409                 \{
1410                   \textcolor{keywordflow}{if} (rbMap.at (j) == \textcolor{keyword}{true})
1411                     \{
1412                       free = \textcolor{keyword}{false};
1413                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" BUSY "} << j);
1414                     \}
1415                 \}
1416               \textcolor{keywordflow}{if} (free)
1417                 \{
1418                   \textcolor{comment}{// retx on the same RBs}
1419                   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = dci.m\_rbStart; j < dci.m\_rbStart + dci.m\_rbLen; j++)
1420                     \{
1421                       rbMap.at (j) = \textcolor{keyword}{true};
1422                       rbgAllocationMap.at (j) = dci.m\_rnti;
1423                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tRB "} << j);
1424                       rbAllocatedNum++;
1425                     \}
1426                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Send retx in the same RBs "} << (uint16\_t)dci.m\_rbStart 
      << \textcolor{stringliteral}{" to "} << dci.m\_rbStart + dci.m\_rbLen << \textcolor{stringliteral}{" RV "} << (*itStat).second.at (harqId) + 1);
1427                 \}
1428               \textcolor{keywordflow}{else}
1429                 \{
1430                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Cannot allocate retx due to RACH allocations for UE "} << rnti);
1431                   \textcolor{keywordflow}{continue};
1432                 \}
1433               dci.m\_ndi = 0;
1434               \textcolor{comment}{// Update HARQ buffers with new HarqId}
1435               (*itStat).second.at ((*itProcId).second) = (*itStat).second.at (harqId) + 1;
1436               (*itStat).second.at (harqId) = 0;
1437               (*itHarq).second.at ((*itProcId).second) = dci;
1438               ret.m\_dciList.push\_back (dci);
1439               rntiAllocated.insert (dci.m\_rnti);
1440             \}
1441             \textcolor{keywordflow}{else}
1442             \{
1443               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ-ACK feedback from RNTI "} << params.m\_ulInfoList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1444             \}
1445         \}
1446     \}
1447 
1448   std::map <uint16\_t,uint32\_t>::iterator it;
1449   \textcolor{keywordtype}{int} nflows = 0;
1450 
1451   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.begin (); it != \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.end (); it++)
1452     \{
1453       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1454       \textcolor{comment}{// select UEs with queues not empty and not yet allocated for HARQ}
1455       \textcolor{keywordflow}{if} (((*it).second > 0)&&(itRnti == rntiAllocated.end ()))
1456         \{
1457           nflows++;
1458         \}
1459     \}
1460 
1461   \textcolor{keywordflow}{if} (nflows == 0)
1462     \{
1463       \textcolor{keywordflow}{if} (ret.m\_dciList.size () > 0)
1464         \{
1465           \hyperlink{classns3_1_1TdBetFfMacScheduler_a058a5b7d1c7c507d3fe3d9d12cc24ab7}{m\_allocationMaps}.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.
      m\_sfnSf, rbgAllocationMap));
1466           \hyperlink{classns3_1_1TdBetFfMacScheduler_aac1731b516e0a6e45d76828f6c72eaa5}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a1b89636256701a84d990db7db8aea874}{SchedUlConfigInd} (ret);
1467         \}
1468         
1469       \textcolor{keywordflow}{return};  \textcolor{comment}{// no flows to be scheduled}
1470     \}
1471 
1472 
1473   \textcolor{comment}{// Divide the remaining resources equally among the active users starting from the subsequent one served
       last scheduling trigger}
1474   uint16\_t rbPerFlow = (\hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) / (nflows + 
      rntiAllocated.size ());
1475   \textcolor{keywordflow}{if} (rbPerFlow < 3)
1476     \{
1477       rbPerFlow = 3;  \textcolor{comment}{// at least 3 rbg per flow (till available resource) to ensure TxOpportunity >= 7
       bytes}
1478     \}
1479   \textcolor{keywordtype}{int} rbAllocated = 0;
1480 
1481   std::map <uint16\_t, tdbetsFlowPerf\_t>::iterator itStats;
1482   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{m\_nextRntiUl} != 0)
1483     \{
1484       \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.begin (); it != \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.end (); it++)
1485         \{
1486           \textcolor{keywordflow}{if} ((*it).first == \hyperlink{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{m\_nextRntiUl})
1487             \{
1488               \textcolor{keywordflow}{break};
1489             \}
1490         \}
1491       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.end ())
1492         \{
1493           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" no user found"});
1494         \}
1495     \}
1496   \textcolor{keywordflow}{else}
1497     \{
1498       it = \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.begin ();
1499       \hyperlink{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{m\_nextRntiUl} = (*it).first;
1500     \}
1501   \textcolor{keywordflow}{do}
1502     \{
1503       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1504       \textcolor{keywordflow}{if} ((itRnti != rntiAllocated.end ())||((*it).second == 0))
1505         \{
1506           \textcolor{comment}{// UE already allocated for UL-HARQ -> skip it}
1507           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE already allocated in HARQ -> discared, RNTI "} << (*it).
      first);
1508           it++;
1509           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.end ())
1510             \{
1511               \textcolor{comment}{// restart from the first}
1512               it = \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.begin ();
1513             \}
1514           \textcolor{keywordflow}{continue};
1515         \}
1516       \textcolor{keywordflow}{if} (rbAllocated + rbPerFlow - 1 > \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth})
1517         \{
1518           \textcolor{comment}{// limit to physical resources last resource assignment}
1519           rbPerFlow = \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth} - rbAllocated;
1520           \textcolor{comment}{// at least 3 rbg per flow to ensure TxOpportunity >= 7 bytes}
1521           \textcolor{keywordflow}{if} (rbPerFlow < 3)
1522             \{
1523               \textcolor{comment}{// terminate allocation}
1524               rbPerFlow = 0;      
1525             \}
1526         \}
1527 
1528       UlDciListElement\_s uldci;
1529       uldci.m\_rnti = (*it).first;
1530       uldci.m\_rbLen = rbPerFlow;
1531       \textcolor{keywordtype}{bool} allocated = \textcolor{keyword}{false};
1532       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RB Allocated "} << rbAllocated << \textcolor{stringliteral}{" rbPerFlow "} << rbPerFlow << \textcolor{stringliteral}{"
       flows "} << nflows);
1533       \textcolor{keywordflow}{while} ((!allocated)&&((rbAllocated + rbPerFlow - \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) < 1) && (rbPerFlow != 0))
1534         \{
1535           \textcolor{comment}{// check availability}
1536           \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
1537           \textcolor{keywordflow}{for} (uint16\_t j = rbAllocated; j < rbAllocated + rbPerFlow; j++)
1538             \{
1539               \textcolor{keywordflow}{if} (rbMap.at (j) == \textcolor{keyword}{true})
1540                 \{
1541                   free = \textcolor{keyword}{false};
1542                   \textcolor{keywordflow}{break};
1543                 \}
1544             \}
1545           \textcolor{keywordflow}{if} (free)
1546             \{
1547               uldci.m\_rbStart = rbAllocated;
1548 
1549               \textcolor{keywordflow}{for} (uint16\_t j = rbAllocated; j < rbAllocated + rbPerFlow; j++)
1550                 \{
1551                   rbMap.at (j) = \textcolor{keyword}{true};
1552                   \textcolor{comment}{// store info on allocation for managing ul-cqi interpretation}
1553                   rbgAllocationMap.at (j) = (*it).first;
1554                 \}
1555               rbAllocated += rbPerFlow;
1556               allocated = \textcolor{keyword}{true};
1557               \textcolor{keywordflow}{break};
1558             \}
1559           rbAllocated++;
1560           \textcolor{keywordflow}{if} (rbAllocated + rbPerFlow - 1 > \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth})
1561             \{
1562               \textcolor{comment}{// limit to physical resources last resource assignment}
1563               rbPerFlow = \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth} - rbAllocated;
1564               \textcolor{comment}{// at least 3 rbg per flow to ensure TxOpportunity >= 7 bytes}
1565               \textcolor{keywordflow}{if} (rbPerFlow < 3)
1566                 \{
1567                   \textcolor{comment}{// terminate allocation}
1568                   rbPerFlow = 0;                 
1569                 \}
1570             \}
1571         \}
1572       \textcolor{keywordflow}{if} (!allocated)
1573         \{
1574           \textcolor{comment}{// unable to allocate new resource: finish scheduling}
1575           \hyperlink{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{m\_nextRntiUl} = (*it).first;
1576           \textcolor{keywordflow}{if} (ret.m\_dciList.size () > 0)
1577             \{
1578               \hyperlink{classns3_1_1TdBetFfMacScheduler_aac1731b516e0a6e45d76828f6c72eaa5}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a1b89636256701a84d990db7db8aea874}{SchedUlConfigInd} (ret);
1579             \}
1580           \hyperlink{classns3_1_1TdBetFfMacScheduler_a058a5b7d1c7c507d3fe3d9d12cc24ab7}{m\_allocationMaps}.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.
      m\_sfnSf, rbgAllocationMap));
1581           \textcolor{keywordflow}{return};
1582         \}
1583 
1584 
1585 
1586       std::map <uint16\_t, std::vector <double> >::iterator itCqi = \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.find ((*it).first);
1587       \textcolor{keywordtype}{int} cqi = 0;
1588       \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.end ())
1589         \{
1590           \textcolor{comment}{// no cqi info about this UE}
1591           uldci.m\_mcs = 0; \textcolor{comment}{// MCS 0 -> UL-AMC TBD}
1592         \}
1593       \textcolor{keywordflow}{else}
1594         \{
1595           \textcolor{comment}{// take the lowest CQI value (worst RB)}
1596           \textcolor{keywordtype}{double} minSinr = (*itCqi).second.at (uldci.m\_rbStart);
1597           \textcolor{keywordflow}{if} (minSinr == \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
1598             \{
1599               minSinr = \hyperlink{classns3_1_1TdBetFfMacScheduler_a051dacc13beec936c3e5206d865837bc}{EstimateUlSinr} ((*it).first, uldci.m\_rbStart);
1600             \}
1601           \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = uldci.m\_rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < uldci.m\_rbStart + uldci.m\_rbLen; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1602             \{
1603               \textcolor{keywordtype}{double} sinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1604               \textcolor{keywordflow}{if} (sinr == \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
1605                 \{
1606                   sinr = \hyperlink{classns3_1_1TdBetFfMacScheduler_a051dacc13beec936c3e5206d865837bc}{EstimateUlSinr} ((*it).first, \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1607                 \}
1608               \textcolor{keywordflow}{if} ((*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) < minSinr)
1609                 \{
1610                   minSinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1611                 \}
1612             \}
1613 
1614           \textcolor{comment}{// translate SINR -> cqi: WILD ACK: same as DL}
1615           \textcolor{keywordtype}{double} \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s} = log2 ( 1 + (
1616                                  std::pow (10, minSinr / 10 )  /
1617                                  ( (-std::log (5.0 * 0.00005 )) / 1.5) ));
1618           cqi = \hyperlink{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}{m\_amc}->GetCqiFromSpectralEfficiency (s);
1619           \textcolor{keywordflow}{if} (cqi == 0)
1620             \{
1621               it++;
1622               \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.end ())
1623                 \{
1624                   \textcolor{comment}{// restart from the first}
1625                   it = \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.begin ();
1626                 \}
1627               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE discared for CQI=0, RNTI "} << uldci.m\_rnti);
1628               \textcolor{comment}{// remove UE from allocation map}
1629               \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = uldci.m\_rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < uldci.m\_rbStart + uldci.m\_rbLen; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1630                 \{
1631                   rbgAllocationMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
1632                 \}
1633               \textcolor{keywordflow}{continue}; \textcolor{comment}{// CQI == 0 means "out of range" (see table 7.2.3-1 of 36.213)}
1634             \}
1635           uldci.m\_mcs = \hyperlink{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}{m\_amc}->GetMcsFromCqi (cqi);
1636         \}
1637 
1638       uldci.m\_tbSize = (\hyperlink{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}{m\_amc}->GetTbSizeFromMcs (uldci.m\_mcs, rbPerFlow) / 8);
1639       \hyperlink{classns3_1_1TdBetFfMacScheduler_ac9a75f21284227100fa0c44091c01952}{UpdateUlRlcBufferInfo} (uldci.m\_rnti, uldci.m\_tbSize);
1640       uldci.m\_ndi = 1;
1641       uldci.m\_cceIndex = 0;
1642       uldci.m\_aggrLevel = 1;
1643       uldci.m\_ueTxAntennaSelection = 3; \textcolor{comment}{// antenna selection OFF}
1644       uldci.m\_hopping = \textcolor{keyword}{false};
1645       uldci.m\_n2Dmrs = 0;
1646       uldci.m\_tpc = 0; \textcolor{comment}{// no power control}
1647       uldci.m\_cqiRequest = \textcolor{keyword}{false}; \textcolor{comment}{// only period CQI at this stage}
1648       uldci.m\_ulIndex = 0; \textcolor{comment}{// TDD parameter}
1649       uldci.m\_dai = 1; \textcolor{comment}{// TDD parameter}
1650       uldci.m\_freqHopping = 0;
1651       uldci.m\_pdcchPowerOffset = 0; \textcolor{comment}{// not used}
1652       ret.m\_dciList.push\_back (uldci);
1653       \textcolor{comment}{// store DCI for HARQ\_PERIOD}
1654       uint8\_t harqId = 0;
1655       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}{m\_harqOn} == \textcolor{keyword}{true})
1656         \{
1657           std::map <uint16\_t, uint8\_t>::iterator itProcId;
1658           itProcId = \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.find (uldci.m\_rnti);
1659           \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{m\_ulHarqCurrentProcessId}.end ())
1660             \{
1661               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << uldci.m\_rnti);
1662             \}
1663           harqId = (*itProcId).second;
1664           std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{m\_ulHarqProcessesDciBuffer}.find (uldci.m\_rnti);
1665           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{m\_ulHarqProcessesDciBuffer}.end ())
1666             \{
1667               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in UL DCI HARQ buffer for RNTI "} << 
      uldci.m\_rnti);
1668             \}
1669           (*itDci).second.at (harqId) = uldci;
1670           \textcolor{comment}{// Update HARQ process status (RV 0)}
1671           std::map <uint16\_t, UlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a41bae8c97c560b2a314650d7e99bd356}{m\_ulHarqProcessesStatus}.find (uldci.m\_rnti);
1672           \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TdBetFfMacScheduler_a41bae8c97c560b2a314650d7e99bd356}{m\_ulHarqProcessesStatus}.end ())
1673             \{
1674               \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << uldci.
      m\_rnti);
1675             \}
1676           (*itStat).second.at (harqId) = 0;
1677         \}
1678 
1679       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE Allocation RNTI "} << (*it).first << \textcolor{stringliteral}{" startPRB "} << (uint32\_t)
      uldci.m\_rbStart << \textcolor{stringliteral}{" nPRB "} << (uint32\_t)uldci.m\_rbLen << \textcolor{stringliteral}{" CQI "} << cqi << \textcolor{stringliteral}{" MCS "} << (uint32\_t)uldci.m\_mcs 
      << \textcolor{stringliteral}{" TBsize "} << uldci.m\_tbSize << \textcolor{stringliteral}{" RbAlloc "} << rbAllocated << \textcolor{stringliteral}{" harqId "} << (uint16\_t)harqId);
1680 
1681       \textcolor{comment}{// update TTI  UE stats}
1682       itStats = \hyperlink{classns3_1_1TdBetFfMacScheduler_a192dacbea27307776249e60660fa005e}{m\_flowStatsUl}.find ((*it).first);
1683       \textcolor{keywordflow}{if} (itStats != \hyperlink{classns3_1_1TdBetFfMacScheduler_a192dacbea27307776249e60660fa005e}{m\_flowStatsUl}.end ())
1684         \{
1685           (*itStats).second.lastTtiBytesTrasmitted =  uldci.m\_tbSize;
1686         \}
1687       \textcolor{keywordflow}{else}
1688         \{
1689           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" No Stats for this allocated UE"});
1690         \}
1691 
1692 
1693       it++;
1694       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.end ())
1695         \{
1696           \textcolor{comment}{// restart from the first}
1697           it = \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.begin ();
1698         \}
1699       \textcolor{keywordflow}{if} ((rbAllocated == \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) || (rbPerFlow ==
       0))
1700         \{
1701           \textcolor{comment}{// Stop allocation: no more PRBs}
1702           \hyperlink{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{m\_nextRntiUl} = (*it).first;
1703           \textcolor{keywordflow}{break};
1704         \}
1705     \}
1706   \textcolor{keywordflow}{while} (((*it).first != \hyperlink{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{m\_nextRntiUl})&&(rbPerFlow!=0));
1707 
1708 
1709   \textcolor{comment}{// Update global UE stats}
1710   \textcolor{comment}{// update UEs stats}
1711   \textcolor{keywordflow}{for} (itStats = \hyperlink{classns3_1_1TdBetFfMacScheduler_a192dacbea27307776249e60660fa005e}{m\_flowStatsUl}.begin (); itStats != \hyperlink{classns3_1_1TdBetFfMacScheduler_a192dacbea27307776249e60660fa005e}{m\_flowStatsUl}.end (); itStats
      ++)
1712     \{
1713       (*itStats).second.totalBytesTransmitted += (*itStats).second.lastTtiBytesTrasmitted;
1714       \textcolor{comment}{// update average throughput (see eq. 12.3 of Sec 12.3.1.2 of LTE – The UMTS Long Term Evolution, Ed
       Wiley)}
1715       (*itStats).second.lastAveragedThroughput = ((1.0 - (1.0 / \hyperlink{classns3_1_1TdBetFfMacScheduler_abedd8d532189797f7f33af0e2a49427e}{m\_timeWindow})) * (*itStats).
      second.lastAveragedThroughput) + ((1.0 / \hyperlink{classns3_1_1TdBetFfMacScheduler_abedd8d532189797f7f33af0e2a49427e}{m\_timeWindow}) * (double)((*itStats).second.
      lastTtiBytesTrasmitted / 0.001));
1716       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE total bytes "} << (*itStats).second.totalBytesTransmitted);
1717       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE average throughput "} << (*itStats).second.lastAveragedThroughput
      );
1718       (*itStats).second.lastTtiBytesTrasmitted = 0;
1719     \}
1720   \hyperlink{classns3_1_1TdBetFfMacScheduler_a058a5b7d1c7c507d3fe3d9d12cc24ab7}{m\_allocationMaps}.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.m\_sfnSf, 
      rbgAllocationMap));
1721   \hyperlink{classns3_1_1TdBetFfMacScheduler_aac1731b516e0a6e45d76828f6c72eaa5}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a1b89636256701a84d990db7db8aea874}{SchedUlConfigInd} (ret);
1722 
1723   \textcolor{keywordflow}{return};
1724 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 22




Here is the caller graph for this function\+:
% FIG 23


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}}
\index{Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters \&params)}{DoSchedUlTriggerReq(const struct FfMacSchedSapProvider::SchedUlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a8c4cf354e6ee7d52a6f2c566f47cf054}{}\label{classns3_1_1TdBetFfMacScheduler_a8c4cf354e6ee7d52a6f2c566f47cf054}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}}
\index{Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Estimate\+Ul\+Sinr(uint16\+\_\+t rnti, uint16\+\_\+t rb)}{EstimateUlSinr(uint16_t rnti, uint16_t rb)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Estimate\+Ul\+Sinr (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{rb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a051dacc13beec936c3e5206d865837bc}{}\label{classns3_1_1TdBetFfMacScheduler_a051dacc13beec936c3e5206d865837bc}

\begin{DoxyCode}
1314 \{
1315   std::map <uint16\_t, std::vector <double> >::iterator itCqi = \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.find (rnti);
1316   \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.end ())
1317     \{
1318       \textcolor{comment}{// no cqi info about this UE}
1319       \textcolor{keywordflow}{return} (\hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR});
1320 
1321     \}
1322   \textcolor{keywordflow}{else}
1323     \{
1324       \textcolor{comment}{// take the average SINR value among the available}
1325       \textcolor{keywordtype}{double} sinrSum = 0;
1326       \textcolor{keywordtype}{int} sinrNum = 0;
1327       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1328         \{
1329           \textcolor{keywordtype}{double} sinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1330           \textcolor{keywordflow}{if} (sinr != \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
1331             \{
1332               sinrSum += sinr;
1333               sinrNum++;
1334             \}
1335         \}
1336       \textcolor{keywordtype}{double} estimatedSinr = (sinrNum > 0) ? (sinrSum / sinrNum) : DBL\_MAX;
1337       \textcolor{comment}{// store the value}
1338       (*itCqi).second.at (rb) = estimatedSinr;
1339       \textcolor{keywordflow}{return} (estimatedSinr);
1340     \}
1341 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}}
\index{Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Estimate\+Ul\+Sinr(uint16\+\_\+t rnti, uint16\+\_\+t rb)}{EstimateUlSinr(uint16_t rnti, uint16_t rb)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Estimate\+Ul\+Sinr (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{rb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a051dacc13beec936c3e5206d865837bc}{}\label{classns3_1_1TdBetFfMacScheduler_a051dacc13beec936c3e5206d865837bc}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Csched\+Sap\+Provider()}{GetFfMacCschedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Ff\+Mac\+Csched\+Sap\+Provider}$\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Csched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_aef02ab26879a07f6b8f19e158077d349}{}\label{classns3_1_1TdBetFfMacScheduler_aef02ab26879a07f6b8f19e158077d349}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Csched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a458388c88c892d32e2d7a48883947379}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Csched\+Sap\+Provider()}{GetFfMacCschedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Csched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_adba6ce38802e9ca05e37eebda5e77976}{}\label{classns3_1_1TdBetFfMacScheduler_adba6ce38802e9ca05e37eebda5e77976}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Csched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a458388c88c892d32e2d7a48883947379}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
289 \{
290   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TdBetFfMacScheduler_a9c1827706381efe9cb15b1cdd0166ecc}{m\_cschedSapProvider};
291 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Sched\+Sap\+Provider()}{GetFfMacSchedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Ff\+Mac\+Sched\+Sap\+Provider}$\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Sched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a49c26c4e22af0a05ac3b8dfa8084a895}{}\label{classns3_1_1TdBetFfMacScheduler_a49c26c4e22af0a05ac3b8dfa8084a895}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Sched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_ad3a2aca6f1c01fbddf88bfbf19cc07a4}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Sched\+Sap\+Provider()}{GetFfMacSchedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Sched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_aef6231295d6587e9f91ed14a79dea2aa}{}\label{classns3_1_1TdBetFfMacScheduler_aef6231295d6587e9f91ed14a79dea2aa}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Sched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_ad3a2aca6f1c01fbddf88bfbf19cc07a4}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
295 \{
296   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TdBetFfMacScheduler_a756f79b8f29e6c52fb105fd75444da36}{m\_schedSapProvider};
297 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}}
\index{Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Lte\+Ffr\+Sap\+User()}{GetLteFfrSapUser()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+User} $\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Get\+Lte\+Ffr\+Sap\+User (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a710980ec9ba363e5946b49132a25153f}{}\label{classns3_1_1TdBetFfMacScheduler_a710980ec9ba363e5946b49132a25153f}
\begin{DoxyReturn}{Returns}
the User part of the Lte\+Ffr\+Sap provided by the Ffr\+Algorithm 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a32fe62051fd6ac175116417df11e6c4e}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
307 \{
308   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TdBetFfMacScheduler_a89db05cbe6e553bf45483415f89f2e77}{m\_ffrSapUser};
309 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}}
\index{Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Lte\+Ffr\+Sap\+User()}{GetLteFfrSapUser()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Lte\+Ffr\+Sap\+User}$\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Get\+Lte\+Ffr\+Sap\+User (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_aa864ced92cb41b0aaad63ca7c53f0482}{}\label{classns3_1_1TdBetFfMacScheduler_aa864ced92cb41b0aaad63ca7c53f0482}
\begin{DoxyReturn}{Returns}
the User part of the Lte\+Ffr\+Sap provided by the Ffr\+Algorithm 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a32fe62051fd6ac175116417df11e6c4e}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Get\+Rbg\+Size@{Get\+Rbg\+Size}}
\index{Get\+Rbg\+Size@{Get\+Rbg\+Size}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Rbg\+Size(int dlbandwidth)}{GetRbgSize(int dlbandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Get\+Rbg\+Size (
\begin{DoxyParamCaption}
\item[{int}]{dlbandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a180d1d16bb6d0a4f9fcda5df9842ec4a}{}\label{classns3_1_1TdBetFfMacScheduler_a180d1d16bb6d0a4f9fcda5df9842ec4a}

\begin{DoxyCode}
501 \{
502   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 4; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
503     \{
504       \textcolor{keywordflow}{if} (dlbandwidth < \hyperlink{namespacens3_a6d1b392f66cced03544c81adfbbe003d}{TdBetType0AllocationRbg}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}])
505         \{
506           \textcolor{keywordflow}{return} (i + 1);
507         \}
508     \}
509 
510   \textcolor{keywordflow}{return} (-1);
511 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 25


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Get\+Rbg\+Size@{Get\+Rbg\+Size}}
\index{Get\+Rbg\+Size@{Get\+Rbg\+Size}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Rbg\+Size(int dlbandwidth)}{GetRbgSize(int dlbandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Get\+Rbg\+Size (
\begin{DoxyParamCaption}
\item[{int}]{dlbandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a180d1d16bb6d0a4f9fcda5df9842ec4a}{}\label{classns3_1_1TdBetFfMacScheduler_a180d1d16bb6d0a4f9fcda5df9842ec4a}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Type\+Id} ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a38ff184531c5d782ab7ef26d7c83fd69}{}\label{classns3_1_1TdBetFfMacScheduler_a38ff184531c5d782ab7ef26d7c83fd69}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a8d39353c8d69bb188fc3e00c32395cc8}{}\label{classns3_1_1TdBetFfMacScheduler_a8d39353c8d69bb188fc3e00c32395cc8}

\begin{DoxyCode}
249 \{
250   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::TdBetFfMacScheduler"})
251     .SetParent<\hyperlink{classns3_1_1FfMacScheduler_aa4c8ce28dbba2c19ff3328533c444045}{FfMacScheduler}> ()
252     .SetGroupName(\textcolor{stringliteral}{"Lte"})
253     .AddConstructor<\hyperlink{classns3_1_1TdBetFfMacScheduler_a9a3f1388b933f153fecdc65c10f7924e}{TdBetFfMacScheduler}> ()
254     .AddAttribute (\textcolor{stringliteral}{"CqiTimerThreshold"},
255                    \textcolor{stringliteral}{"The number of TTIs a CQI is valid (default 1000 - 1 sec.)"},
256                    UintegerValue (1000),
257                    MakeUintegerAccessor (&
      \hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{TdBetFfMacScheduler::m\_cqiTimersThreshold}),
258                    MakeUintegerChecker<uint32\_t> ())
259     .AddAttribute (\textcolor{stringliteral}{"HarqEnabled"},
260                    \textcolor{stringliteral}{"Activate/Deactivate the HARQ [by default is active]."},
261                    BooleanValue (\textcolor{keyword}{true}),
262                    MakeBooleanAccessor (&\hyperlink{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}{TdBetFfMacScheduler::m\_harqOn}),
263                    MakeBooleanChecker ())
264     .AddAttribute (\textcolor{stringliteral}{"UlGrantMcs"},
265                    \textcolor{stringliteral}{"The MCS of the UL grant, must be [0..15] (default 0)"},
266                    UintegerValue (0),
267                    MakeUintegerAccessor (&\hyperlink{classns3_1_1TdBetFfMacScheduler_ae0ced77c5d773079c66921b86561de8c}{TdBetFfMacScheduler::m\_ulGrantMcs}
      ),
268                    MakeUintegerChecker<uint8\_t> ())
269   ;
270   \textcolor{keywordflow}{return} tid;
271 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 26


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Harq\+Process\+Availability@{Harq\+Process\+Availability}}
\index{Harq\+Process\+Availability@{Harq\+Process\+Availability}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Harq\+Process\+Availability(uint16\+\_\+t rnti)}{HarqProcessAvailability(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Harq\+Process\+Availability (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad6d89e73b2b5b261805020cd24796303}{}\label{classns3_1_1TdBetFfMacScheduler_ad6d89e73b2b5b261805020cd24796303}


Return the availability of free process for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}

\begin{DoxyCode}
539 \{
540   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
541 
542   std::map <uint16\_t, uint8\_t>::iterator it = \hyperlink{classns3_1_1TdBetFfMacScheduler_ac0ed078aaa3bb69134023425a66ff84a}{m\_dlHarqCurrentProcessId}.find (rnti);
543   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_ac0ed078aaa3bb69134023425a66ff84a}{m\_dlHarqCurrentProcessId}.end ())
544     \{
545       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id found for this RNTI "} << rnti);
546     \}
547   std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.find (rnti);
548   \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.end ())
549     \{
550       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Statusfound for this RNTI "} << rnti);
551     \}
552   uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second;
553   \textcolor{keywordflow}{do}
554     \{
555       i = (i + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
556     \}
557   \textcolor{keywordflow}{while} ( ((*itStat).second.at (i) != 0)&&(i != (*it).second));
558   \textcolor{keywordflow}{if} ((*itStat).second.at (i) == 0)
559     \{
560       \textcolor{keywordflow}{return} (\textcolor{keyword}{true});
561     \}
562   \textcolor{keywordflow}{else}
563     \{
564       \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); \textcolor{comment}{// return a not valid harq proc id}
565     \}
566 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 27


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Harq\+Process\+Availability@{Harq\+Process\+Availability}}
\index{Harq\+Process\+Availability@{Harq\+Process\+Availability}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Harq\+Process\+Availability(uint16\+\_\+t rnti)}{HarqProcessAvailability(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Harq\+Process\+Availability (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad6d89e73b2b5b261805020cd24796303}{}\label{classns3_1_1TdBetFfMacScheduler_ad6d89e73b2b5b261805020cd24796303}


Return the availability of free process for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}}
\index{Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Lc\+Active\+Per\+Flow(uint16\+\_\+t rnti)}{LcActivePerFlow(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Lc\+Active\+Per\+Flow (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad8a61f81356d42a3b622998823a32471}{}\label{classns3_1_1TdBetFfMacScheduler_ad8a61f81356d42a3b622998823a32471}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}}
\index{Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Lc\+Active\+Per\+Flow(uint16\+\_\+t rnti)}{LcActivePerFlow(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Lc\+Active\+Per\+Flow (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad8a61f81356d42a3b622998823a32471}{}\label{classns3_1_1TdBetFfMacScheduler_ad8a61f81356d42a3b622998823a32471}

\begin{DoxyCode}
516 \{
517   std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
518   \textcolor{keywordtype}{int} lcActive = 0;
519   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.begin (); it != \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.end (); it++)
520     \{
521       \textcolor{keywordflow}{if} (((*it).first.m\_rnti == rnti) && (((*it).second.m\_rlcTransmissionQueueSize > 0)
522                                            || ((*it).second.m\_rlcRetransmissionQueueSize > 0)
523                                            || ((*it).second.m\_rlcStatusPduSize > 0) ))
524         \{
525           lcActive++;
526         \}
527       \textcolor{keywordflow}{if} ((*it).first.m\_rnti > rnti)
528         \{
529           \textcolor{keywordflow}{break};
530         \}
531     \}
532   \textcolor{keywordflow}{return} (lcActive);
533 
534 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}}
\index{Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Dl\+Cqi\+Maps(void)}{RefreshDlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Refresh\+Dl\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a7b16f92e532fbd06ee099933b0f57a8c}{}\label{classns3_1_1TdBetFfMacScheduler_a7b16f92e532fbd06ee099933b0f57a8c}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}}
\index{Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Dl\+Cqi\+Maps(void)}{RefreshDlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Refresh\+Dl\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a7b16f92e532fbd06ee099933b0f57a8c}{}\label{classns3_1_1TdBetFfMacScheduler_a7b16f92e532fbd06ee099933b0f57a8c}

\begin{DoxyCode}
1934 \{
1935   \textcolor{comment}{// refresh DL CQI P01 Map}
1936   std::map <uint16\_t,uint32\_t>::iterator itP10 = \hyperlink{classns3_1_1TdBetFfMacScheduler_a1b59f4b00f23f363702a1c9679fe18a1}{m\_p10CqiTimers}.begin ();
1937   \textcolor{keywordflow}{while} (itP10 != \hyperlink{classns3_1_1TdBetFfMacScheduler_a1b59f4b00f23f363702a1c9679fe18a1}{m\_p10CqiTimers}.end ())
1938     \{
1939       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" P10-CQI for user "} << (*itP10).first << \textcolor{stringliteral}{" is "} << (uint32\_t)
      (*itP10).second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold});
1940       \textcolor{keywordflow}{if} ((*itP10).second == 0)
1941         \{
1942           \textcolor{comment}{// delete correspondent entries}
1943           std::map <uint16\_t,uint8\_t>::iterator itMap = \hyperlink{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}{m\_p10CqiRxed}.find ((*itP10).first);
1944           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}{m\_p10CqiRxed}.end (), \textcolor{stringliteral}{" Does not find CQI report
       for user "} << (*itP10).first);
1945           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" P10-CQI expired for user "} << (*itP10).first);
1946           \hyperlink{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}{m\_p10CqiRxed}.erase (itMap);
1947           std::map <uint16\_t,uint32\_t>::iterator temp = itP10;
1948           itP10++;
1949           \hyperlink{classns3_1_1TdBetFfMacScheduler_a1b59f4b00f23f363702a1c9679fe18a1}{m\_p10CqiTimers}.erase (temp);
1950         \}
1951       \textcolor{keywordflow}{else}
1952         \{
1953           (*itP10).second--;
1954           itP10++;
1955         \}
1956     \}
1957 
1958   \textcolor{comment}{// refresh DL CQI A30 Map}
1959   std::map <uint16\_t,uint32\_t>::iterator itA30 = \hyperlink{classns3_1_1TdBetFfMacScheduler_a7e0161875c90392333763dd0b96b405a}{m\_a30CqiTimers}.begin ();
1960   \textcolor{keywordflow}{while} (itA30 != \hyperlink{classns3_1_1TdBetFfMacScheduler_a7e0161875c90392333763dd0b96b405a}{m\_a30CqiTimers}.end ())
1961     \{
1962       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" A30-CQI for user "} << (*itA30).first << \textcolor{stringliteral}{" is "} << (uint32\_t)
      (*itA30).second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold});
1963       \textcolor{keywordflow}{if} ((*itA30).second == 0)
1964         \{
1965           \textcolor{comment}{// delete correspondent entries}
1966           std::map <uint16\_t,SbMeasResult\_s>::iterator itMap = \hyperlink{classns3_1_1TdBetFfMacScheduler_a97570d78f267884fd17897979a0c1da8}{m\_a30CqiRxed}.find ((*itA30).
      first);
1967           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1TdBetFfMacScheduler_a97570d78f267884fd17897979a0c1da8}{m\_a30CqiRxed}.end (), \textcolor{stringliteral}{" Does not find CQI report
       for user "} << (*itA30).first);
1968           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" A30-CQI expired for user "} << (*itA30).first);
1969           \hyperlink{classns3_1_1TdBetFfMacScheduler_a97570d78f267884fd17897979a0c1da8}{m\_a30CqiRxed}.erase (itMap);
1970           std::map <uint16\_t,uint32\_t>::iterator temp = itA30;
1971           itA30++;
1972           \hyperlink{classns3_1_1TdBetFfMacScheduler_a7e0161875c90392333763dd0b96b405a}{m\_a30CqiTimers}.erase (temp);
1973         \}
1974       \textcolor{keywordflow}{else}
1975         \{
1976           (*itA30).second--;
1977           itA30++;
1978         \}
1979     \}
1980 
1981   \textcolor{keywordflow}{return};
1982 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 29


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}}
\index{Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Harq\+Processes()}{RefreshHarqProcesses()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Refresh\+Harq\+Processes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_aafa15782e9b220093765a83939821534}{}\label{classns3_1_1TdBetFfMacScheduler_aafa15782e9b220093765a83939821534}


Refresh H\+A\+RQ processes according to the timers. 


\begin{DoxyCode}
613 \{
614   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
615 
616   std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itTimers;
617   \textcolor{keywordflow}{for} (itTimers = \hyperlink{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{m\_dlHarqProcessesTimer}.begin (); itTimers != 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{m\_dlHarqProcessesTimer}.end (); itTimers ++)
618     \{
619       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
620         \{
621           \textcolor{keywordflow}{if} ((*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \hyperlink{cqa-ff-mac-scheduler_8h_add9e0c4889dc1b5b25686480b31ad166}{HARQ\_DL\_TIMEOUT})
622             \{
623               \textcolor{comment}{// reset HARQ process}
624               
625               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Reset HARQ proc "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" for RNTI "} << (*itTimers).
      first);
626               std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.find ((*itTimers).first);
627               \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.end ())
628                 \{
629                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Status found for this RNTI "} << (*itTimers).
      first);
630                 \}
631               (*itStat).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
632               (*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
633             \}
634           \textcolor{keywordflow}{else}
635             \{
636               (*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})++;
637             \}
638         \}
639     \}
640   
641 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}}
\index{Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Harq\+Processes()}{RefreshHarqProcesses()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Refresh\+Harq\+Processes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_aafa15782e9b220093765a83939821534}{}\label{classns3_1_1TdBetFfMacScheduler_aafa15782e9b220093765a83939821534}


Refresh H\+A\+RQ processes according to the timers. 

\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}}
\index{Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Ul\+Cqi\+Maps(void)}{RefreshUlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Refresh\+Ul\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad78d0be66210e23e11005edecf4f145e}{}\label{classns3_1_1TdBetFfMacScheduler_ad78d0be66210e23e11005edecf4f145e}

\begin{DoxyCode}
1987 \{
1988   \textcolor{comment}{// refresh UL CQI  Map}
1989   std::map <uint16\_t,uint32\_t>::iterator itUl = \hyperlink{classns3_1_1TdBetFfMacScheduler_a89b7106fc5de30b9153316aa3ea2d368}{m\_ueCqiTimers}.begin ();
1990   \textcolor{keywordflow}{while} (itUl != \hyperlink{classns3_1_1TdBetFfMacScheduler_a89b7106fc5de30b9153316aa3ea2d368}{m\_ueCqiTimers}.end ())
1991     \{
1992       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-CQI for user "} << (*itUl).first << \textcolor{stringliteral}{" is "} << (uint32\_t)(*itUl).
      second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{m\_cqiTimersThreshold});
1993       \textcolor{keywordflow}{if} ((*itUl).second == 0)
1994         \{
1995           \textcolor{comment}{// delete correspondent entries}
1996           std::map <uint16\_t, std::vector <double> >::iterator itMap = \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.find ((*itUl).first);
1997           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.end (), \textcolor{stringliteral}{" Does not find CQI report for user "}
       << (*itUl).first);
1998           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-CQI exired for user "} << (*itUl).first);
1999           (*itMap).second.clear ();
2000           \hyperlink{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{m\_ueCqi}.erase (itMap);
2001           std::map <uint16\_t,uint32\_t>::iterator temp = itUl;
2002           itUl++;
2003           \hyperlink{classns3_1_1TdBetFfMacScheduler_a89b7106fc5de30b9153316aa3ea2d368}{m\_ueCqiTimers}.erase (temp);
2004         \}
2005       \textcolor{keywordflow}{else}
2006         \{
2007           (*itUl).second--;
2008           itUl++;
2009         \}
2010     \}
2011 
2012   \textcolor{keywordflow}{return};
2013 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 31


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}}
\index{Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Ul\+Cqi\+Maps(void)}{RefreshUlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Refresh\+Ul\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad78d0be66210e23e11005edecf4f145e}{}\label{classns3_1_1TdBetFfMacScheduler_ad78d0be66210e23e11005edecf4f145e}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Csched\+Sap\+User(\+Ff\+Mac\+Csched\+Sap\+User $\ast$s)}{SetFfMacCschedSapUser(FfMacCschedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Csched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a8f41511873e2ec24d7937c15f2c2ed4c}{}\label{classns3_1_1TdBetFfMacScheduler_a8f41511873e2ec24d7937c15f2c2ed4c}
set the user part of the Ff\+Mac\+Csched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a3984d8478223218fd4432a9f9ead328b}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Csched\+Sap\+User(\+Ff\+Mac\+Csched\+Sap\+User $\ast$s)}{SetFfMacCschedSapUser(FfMacCschedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Csched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a4fb2040e19ce8bf1141fe2dbcdb144ed}{}\label{classns3_1_1TdBetFfMacScheduler_a4fb2040e19ce8bf1141fe2dbcdb144ed}
set the user part of the Ff\+Mac\+Csched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a3984d8478223218fd4432a9f9ead328b}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
277 \{
278   \hyperlink{classns3_1_1TdBetFfMacScheduler_a0d14275109333f2c020da427a24430a4}{m\_cschedSapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
279 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Sched\+Sap\+User(\+Ff\+Mac\+Sched\+Sap\+User $\ast$s)}{SetFfMacSchedSapUser(FfMacSchedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Sched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_afa96b2353838607bc9c8272133f5b367}{}\label{classns3_1_1TdBetFfMacScheduler_afa96b2353838607bc9c8272133f5b367}
set the user part of the Ff\+Mac\+Sched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_aa45093350c367b9a33263d5b6eecee34}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Sched\+Sap\+User(\+Ff\+Mac\+Sched\+Sap\+User $\ast$s)}{SetFfMacSchedSapUser(FfMacSchedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Sched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a7b2928319ee3ba4e1fbd03ffe7908b75}{}\label{classns3_1_1TdBetFfMacScheduler_a7b2928319ee3ba4e1fbd03ffe7908b75}
set the user part of the Ff\+Mac\+Sched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_aa45093350c367b9a33263d5b6eecee34}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
283 \{
284   \hyperlink{classns3_1_1TdBetFfMacScheduler_aac1731b516e0a6e45d76828f6c72eaa5}{m\_schedSapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
285 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}}
\index{Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Lte\+Ffr\+Sap\+Provider(\+Lte\+Ffr\+Sap\+Provider $\ast$s)}{SetLteFfrSapProvider(LteFfrSapProvider *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Set\+Lte\+Ffr\+Sap\+Provider (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Ffr\+Sap\+Provider} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ae13bfa9442c59c4102f3f74addaec577}{}\label{classns3_1_1TdBetFfMacScheduler_ae13bfa9442c59c4102f3f74addaec577}
Set the Provider part of the Lte\+Ffr\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a2b3a1635ada88804f035984277371926}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
301 \{
302   \hyperlink{classns3_1_1TdBetFfMacScheduler_a0356ae243fdb61a3544583b17196fef1}{m\_ffrSapProvider} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
303 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}}
\index{Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Lte\+Ffr\+Sap\+Provider(\+Lte\+Ffr\+Sap\+Provider $\ast$s)}{SetLteFfrSapProvider(LteFfrSapProvider *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Set\+Lte\+Ffr\+Sap\+Provider (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Ffr\+Sap\+Provider} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a3ee1609f48ba86d97d2d159dc0ebd7be}{}\label{classns3_1_1TdBetFfMacScheduler_a3ee1609f48ba86d97d2d159dc0ebd7be}
Set the Provider part of the Lte\+Ffr\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a2b3a1635ada88804f035984277371926}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}}
\index{Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Transmission\+Mode\+Configuration\+Update(uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)}{TransmissionModeConfigurationUpdate(uint16_t rnti, uint8_t txMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Transmission\+Mode\+Configuration\+Update (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{tx\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TdBetFfMacScheduler_a981e22a0b062b0d0872d1f043072eaeb}{}\label{classns3_1_1TdBetFfMacScheduler_a981e22a0b062b0d0872d1f043072eaeb}

\begin{DoxyCode}
2094 \{
2095   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" txMode "} << (uint16\_t)txMode);
2096   FfMacCschedSapUser::CschedUeConfigUpdateIndParameters params;
2097   params.m\_rnti = rnti;
2098   params.m\_transmissionMode = txMode;
2099   \hyperlink{classns3_1_1TdBetFfMacScheduler_a0d14275109333f2c020da427a24430a4}{m\_cschedSapUser}->\hyperlink{classns3_1_1FfMacCschedSapUser_a63f3fa5bac0cc7234a17c3241bff6a04}{CschedUeConfigUpdateInd} (params);
2100 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 32


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}}
\index{Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Transmission\+Mode\+Configuration\+Update(uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)}{TransmissionModeConfigurationUpdate(uint16_t rnti, uint8_t txMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Transmission\+Mode\+Configuration\+Update (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{tx\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TdBetFfMacScheduler_a981e22a0b062b0d0872d1f043072eaeb}{}\label{classns3_1_1TdBetFfMacScheduler_a981e22a0b062b0d0872d1f043072eaeb}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}}
\index{Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Dl\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)}{UpdateDlRlcBufferInfo(uint16_t rnti, uint8_t lcid, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Update\+Dl\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{lcid, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_af71a8df6d7681bda2678aff1c77985fb}{}\label{classns3_1_1TdBetFfMacScheduler_af71a8df6d7681bda2678aff1c77985fb}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}}
\index{Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Dl\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)}{UpdateDlRlcBufferInfo(uint16_t rnti, uint8_t lcid, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Update\+Dl\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{lcid, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_af71a8df6d7681bda2678aff1c77985fb}{}\label{classns3_1_1TdBetFfMacScheduler_af71a8df6d7681bda2678aff1c77985fb}

\begin{DoxyCode}
2017 \{
2018   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
2019   LteFlowId\_t flow (rnti, lcid);
2020   it = \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.find (flow);
2021   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{m\_rlcBufferReq}.end ())
2022     \{
2023       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE "} << rnti << \textcolor{stringliteral}{" LC "} << (uint16\_t)lcid << \textcolor{stringliteral}{" txqueue "} << (*it).
      second.m\_rlcTransmissionQueueSize << \textcolor{stringliteral}{" retxqueue "} << (*it).second.m\_rlcRetransmissionQueueSize << \textcolor{stringliteral}{" status "} 
      << (*it).second.m\_rlcStatusPduSize << \textcolor{stringliteral}{" decrease "} << size);
2024       \textcolor{comment}{// Update queues: RLC tx order Status, ReTx, Tx}
2025       \textcolor{comment}{// Update status queue}
2026       \textcolor{keywordflow}{if} (((*it).second.m\_rlcStatusPduSize > 0) && (size >= (*it).second.m\_rlcStatusPduSize))
2027         \{
2028            (*it).second.m\_rlcStatusPduSize = 0;
2029         \}
2030       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (((*it).second.m\_rlcRetransmissionQueueSize > 0) && (size >= (*it).second.
      m\_rlcRetransmissionQueueSize))
2031         \{
2032           (*it).second.m\_rlcRetransmissionQueueSize = 0;
2033         \}
2034       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((*it).second.m\_rlcTransmissionQueueSize > 0)
2035         \{
2036           uint32\_t rlcOverhead;
2037           \textcolor{keywordflow}{if} (lcid == 1)
2038             \{
2039               \textcolor{comment}{// for SRB1 (using RLC AM) it's better to}
2040               \textcolor{comment}{// overestimate RLC overhead rather than}
2041               \textcolor{comment}{// underestimate it and risk unneeded}
2042               \textcolor{comment}{// segmentation which increases delay }
2043               rlcOverhead = 4;                                  
2044             \}
2045           \textcolor{keywordflow}{else}
2046             \{
2047               \textcolor{comment}{// minimum RLC overhead due to header}
2048               rlcOverhead = 2;
2049             \}
2050           \textcolor{comment}{// update transmission queue}
2051           \textcolor{keywordflow}{if} ((*it).second.m\_rlcTransmissionQueueSize <= size - rlcOverhead)
2052             \{
2053               (*it).second.m\_rlcTransmissionQueueSize = 0;
2054             \}
2055           \textcolor{keywordflow}{else}
2056             \{                    
2057               (*it).second.m\_rlcTransmissionQueueSize -= size - rlcOverhead;
2058             \}
2059         \}
2060     \}
2061   \textcolor{keywordflow}{else}
2062     \{
2063       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Does not find DL RLC Buffer Report of UE "} << rnti);
2064     \}
2065 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 33


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}}
\index{Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Harq\+Process\+Id(uint16\+\_\+t rnti)}{UpdateHarqProcessId(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Update\+Harq\+Process\+Id (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad697cf496a65f679059f9fcd0850daa0}{}\label{classns3_1_1TdBetFfMacScheduler_ad697cf496a65f679059f9fcd0850daa0}


Update and return a new process Id for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}

\begin{DoxyCode}
572 \{
573   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
574 
575   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}{m\_harqOn} == \textcolor{keyword}{false})
576     \{
577       \textcolor{keywordflow}{return} (0);
578     \}
579 
580 
581   std::map <uint16\_t, uint8\_t>::iterator it = \hyperlink{classns3_1_1TdBetFfMacScheduler_ac0ed078aaa3bb69134023425a66ff84a}{m\_dlHarqCurrentProcessId}.find (rnti);
582   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdBetFfMacScheduler_ac0ed078aaa3bb69134023425a66ff84a}{m\_dlHarqCurrentProcessId}.end ())
583     \{
584       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id found for this RNTI "} << rnti);
585     \}
586   std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.find (rnti);
587   \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{m\_dlHarqProcessesStatus}.end ())
588     \{
589       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Statusfound for this RNTI "} << rnti);
590     \}
591   uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second;
592   \textcolor{keywordflow}{do}
593     \{
594       i = (i + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
595     \}
596   \textcolor{keywordflow}{while} ( ((*itStat).second.at (i) != 0)&&(i != (*it).second));
597   \textcolor{keywordflow}{if} ((*itStat).second.at (i) == 0)
598     \{
599       (*it).second = \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
600       (*itStat).second.at (i) = 1;
601     \}
602   \textcolor{keywordflow}{else}
603     \{
604       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No HARQ process available for RNTI "} << rnti << \textcolor{stringliteral}{" check before update
       with HarqProcessAvailability"});
605     \}
606 
607   \textcolor{keywordflow}{return} ((*it).second);
608 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 34


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}}
\index{Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Harq\+Process\+Id(uint16\+\_\+t rnti)}{UpdateHarqProcessId(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Update\+Harq\+Process\+Id (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad697cf496a65f679059f9fcd0850daa0}{}\label{classns3_1_1TdBetFfMacScheduler_ad697cf496a65f679059f9fcd0850daa0}


Update and return a new process Id for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}}
\index{Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Ul\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint16\+\_\+t size)}{UpdateUlRlcBufferInfo(uint16_t rnti, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Update\+Ul\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ac9a75f21284227100fa0c44091c01952}{}\label{classns3_1_1TdBetFfMacScheduler_ac9a75f21284227100fa0c44091c01952}

\begin{DoxyCode}
2069 \{
2070 
2071   size = size - 2; \textcolor{comment}{// remove the minimum RLC overhead}
2072   std::map <uint16\_t,uint32\_t>::iterator it = \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.find (rnti);
2073   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{m\_ceBsrRxed}.end ())
2074     \{
2075       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE "} << rnti << \textcolor{stringliteral}{" size "} << size << \textcolor{stringliteral}{" BSR "} << (*it).second);
2076       \textcolor{keywordflow}{if} ((*it).second >= size)
2077         \{
2078           (*it).second -= size;
2079         \}
2080       \textcolor{keywordflow}{else}
2081         \{
2082           (*it).second = 0;
2083         \}
2084     \}
2085   \textcolor{keywordflow}{else}
2086     \{
2087       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Does not find BSR report info of UE "} << rnti);
2088     \}
2089 
2090 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 35


\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}}
\index{Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Ul\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint16\+\_\+t size)}{UpdateUlRlcBufferInfo(uint16_t rnti, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::\+Update\+Ul\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ac9a75f21284227100fa0c44091c01952}{}\label{classns3_1_1TdBetFfMacScheduler_ac9a75f21284227100fa0c44091c01952}


\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Td\+Bet\+Scheduler\+Member\+Csched\+Sap\+Provider@{Td\+Bet\+Scheduler\+Member\+Csched\+Sap\+Provider}}
\index{Td\+Bet\+Scheduler\+Member\+Csched\+Sap\+Provider@{Td\+Bet\+Scheduler\+Member\+Csched\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Td\+Bet\+Scheduler\+Member\+Csched\+Sap\+Provider}{TdBetSchedulerMemberCschedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Td\+Bet\+Scheduler\+Member\+Csched\+Sap\+Provider}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a172e38de62325e7bb5cb02ce692f70e5}{}\label{classns3_1_1TdBetFfMacScheduler_a172e38de62325e7bb5cb02ce692f70e5}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!Td\+Bet\+Scheduler\+Member\+Sched\+Sap\+Provider@{Td\+Bet\+Scheduler\+Member\+Sched\+Sap\+Provider}}
\index{Td\+Bet\+Scheduler\+Member\+Sched\+Sap\+Provider@{Td\+Bet\+Scheduler\+Member\+Sched\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Td\+Bet\+Scheduler\+Member\+Sched\+Sap\+Provider}{TdBetSchedulerMemberSchedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Td\+Bet\+Scheduler\+Member\+Sched\+Sap\+Provider}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ac2214986e1dc350cc1dc34f7c7a0bc87}{}\label{classns3_1_1TdBetFfMacScheduler_ac2214986e1dc350cc1dc34f7c7a0bc87}


\subsection{Member Data Documentation}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+a30\+Cqi\+Rxed@{m\+\_\+a30\+Cqi\+Rxed}}
\index{m\+\_\+a30\+Cqi\+Rxed@{m\+\_\+a30\+Cqi\+Rxed}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+a30\+Cqi\+Rxed}{m_a30CqiRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Sb\+Meas\+Result\+\_\+s} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+a30\+Cqi\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a97570d78f267884fd17897979a0c1da8}{}\label{classns3_1_1TdBetFfMacScheduler_a97570d78f267884fd17897979a0c1da8}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+a30\+Cqi\+Timers@{m\+\_\+a30\+Cqi\+Timers}}
\index{m\+\_\+a30\+Cqi\+Timers@{m\+\_\+a30\+Cqi\+Timers}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+a30\+Cqi\+Timers}{m_a30CqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+a30\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a7e0161875c90392333763dd0b96b405a}{}\label{classns3_1_1TdBetFfMacScheduler_a7e0161875c90392333763dd0b96b405a}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+allocation\+Maps@{m\+\_\+allocation\+Maps}}
\index{m\+\_\+allocation\+Maps@{m\+\_\+allocation\+Maps}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+allocation\+Maps}{m_allocationMaps}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ uint16\+\_\+t $>$ $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+allocation\+Maps\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a058a5b7d1c7c507d3fe3d9d12cc24ab7}{}\label{classns3_1_1TdBetFfMacScheduler_a058a5b7d1c7c507d3fe3d9d12cc24ab7}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+amc@{m\+\_\+amc}}
\index{m\+\_\+amc@{m\+\_\+amc}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+amc}{m_amc}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Lte\+Amc} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+amc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}{}\label{classns3_1_1TdBetFfMacScheduler_a3ba724ed3776a6cb493df6dd91b810d6}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+ce\+Bsr\+Rxed@{m\+\_\+ce\+Bsr\+Rxed}}
\index{m\+\_\+ce\+Bsr\+Rxed@{m\+\_\+ce\+Bsr\+Rxed}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ce\+Bsr\+Rxed}{m_ceBsrRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+ce\+Bsr\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}{}\label{classns3_1_1TdBetFfMacScheduler_ab10364d54dad2ec2afed0c168cdad4d3}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+cqi\+Timers\+Threshold@{m\+\_\+cqi\+Timers\+Threshold}}
\index{m\+\_\+cqi\+Timers\+Threshold@{m\+\_\+cqi\+Timers\+Threshold}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+cqi\+Timers\+Threshold}{m_cqiTimersThreshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+cqi\+Timers\+Threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}{}\label{classns3_1_1TdBetFfMacScheduler_ad423d7c181e089b37159502bad92bccd}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Cell\+Config@{m\+\_\+csched\+Cell\+Config}}
\index{m\+\_\+csched\+Cell\+Config@{m\+\_\+csched\+Cell\+Config}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Cell\+Config}{m_cschedCellConfig}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Cell\+Config\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}{}\label{classns3_1_1TdBetFfMacScheduler_a3e53aae0259501332769cd6ca4b74800}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Sap\+Provider@{m\+\_\+csched\+Sap\+Provider}}
\index{m\+\_\+csched\+Sap\+Provider@{m\+\_\+csched\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Sap\+Provider}{m_cschedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a9c1827706381efe9cb15b1cdd0166ecc}{}\label{classns3_1_1TdBetFfMacScheduler_a9c1827706381efe9cb15b1cdd0166ecc}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Sap\+User@{m\+\_\+csched\+Sap\+User}}
\index{m\+\_\+csched\+Sap\+User@{m\+\_\+csched\+Sap\+User}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Sap\+User}{m_cschedSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a0d14275109333f2c020da427a24430a4}{}\label{classns3_1_1TdBetFfMacScheduler_a0d14275109333f2c020da427a24430a4}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Current\+Process\+Id@{m\+\_\+dl\+Harq\+Current\+Process\+Id}}
\index{m\+\_\+dl\+Harq\+Current\+Process\+Id@{m\+\_\+dl\+Harq\+Current\+Process\+Id}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Current\+Process\+Id}{m_dlHarqCurrentProcessId}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Current\+Process\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ac0ed078aaa3bb69134023425a66ff84a}{}\label{classns3_1_1TdBetFfMacScheduler_ac0ed078aaa3bb69134023425a66ff84a}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}}
\index{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}{m_dlHarqProcessesDciBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a94ed0382052c7b9665c5f04bce88fe6e}{}\label{classns3_1_1TdBetFfMacScheduler_a94ed0382052c7b9665c5f04bce88fe6e}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}}
\index{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}{m_dlHarqProcessesRlcPduListBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Rlc\+Pdu\+List\+Buffer\+\_\+t} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}{}\label{classns3_1_1TdBetFfMacScheduler_a066bceddaca3ed4a25974ada3aba3028}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Status@{m\+\_\+dl\+Harq\+Processes\+Status}}
\index{m\+\_\+dl\+Harq\+Processes\+Status@{m\+\_\+dl\+Harq\+Processes\+Status}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Status}{m_dlHarqProcessesStatus}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Status\+\_\+t} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Status\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}{}\label{classns3_1_1TdBetFfMacScheduler_af9f2ffd80c6d473a5ccee8fb153d40f6}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Timer@{m\+\_\+dl\+Harq\+Processes\+Timer}}
\index{m\+\_\+dl\+Harq\+Processes\+Timer@{m\+\_\+dl\+Harq\+Processes\+Timer}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Timer}{m_dlHarqProcessesTimer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Timer\+\_\+t} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Timer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}{}\label{classns3_1_1TdBetFfMacScheduler_a6421f37924ac8b08b528aec9e7386678}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Info\+List\+Buffered@{m\+\_\+dl\+Info\+List\+Buffered}}
\index{m\+\_\+dl\+Info\+List\+Buffered@{m\+\_\+dl\+Info\+List\+Buffered}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Info\+List\+Buffered}{m_dlInfoListBuffered}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Dl\+Info\+List\+Element\+\_\+s} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Info\+List\+Buffered\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}{}\label{classns3_1_1TdBetFfMacScheduler_ad28a9447cadd7f80c4fe5d3801d8828b}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+ffr\+Sap\+Provider@{m\+\_\+ffr\+Sap\+Provider}}
\index{m\+\_\+ffr\+Sap\+Provider@{m\+\_\+ffr\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ffr\+Sap\+Provider}{m_ffrSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+Provider} $\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+ffr\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a0356ae243fdb61a3544583b17196fef1}{}\label{classns3_1_1TdBetFfMacScheduler_a0356ae243fdb61a3544583b17196fef1}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+ffr\+Sap\+User@{m\+\_\+ffr\+Sap\+User}}
\index{m\+\_\+ffr\+Sap\+User@{m\+\_\+ffr\+Sap\+User}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ffr\+Sap\+User}{m_ffrSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+User} $\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+ffr\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a89db05cbe6e553bf45483415f89f2e77}{}\label{classns3_1_1TdBetFfMacScheduler_a89db05cbe6e553bf45483415f89f2e77}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+flow\+Stats\+Dl@{m\+\_\+flow\+Stats\+Dl}}
\index{m\+\_\+flow\+Stats\+Dl@{m\+\_\+flow\+Stats\+Dl}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+flow\+Stats\+Dl}{m_flowStatsDl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf tdbets\+Flow\+Perf\+\_\+t} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+flow\+Stats\+Dl\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}{}\label{classns3_1_1TdBetFfMacScheduler_a78d90d229bd176d578a607688cdf69a6}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+flow\+Stats\+Ul@{m\+\_\+flow\+Stats\+Ul}}
\index{m\+\_\+flow\+Stats\+Ul@{m\+\_\+flow\+Stats\+Ul}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+flow\+Stats\+Ul}{m_flowStatsUl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf tdbets\+Flow\+Perf\+\_\+t} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+flow\+Stats\+Ul\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a192dacbea27307776249e60660fa005e}{}\label{classns3_1_1TdBetFfMacScheduler_a192dacbea27307776249e60660fa005e}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+harq\+On@{m\+\_\+harq\+On}}
\index{m\+\_\+harq\+On@{m\+\_\+harq\+On}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+harq\+On}{m_harqOn}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+harq\+On\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}{}\label{classns3_1_1TdBetFfMacScheduler_a8de90c082c621bf8d664fff8cf370acb}
m\+\_\+harq\+On when false inhibit te H\+A\+RQ mechanisms (by default active) \index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+next\+Rnti\+Ul@{m\+\_\+next\+Rnti\+Ul}}
\index{m\+\_\+next\+Rnti\+Ul@{m\+\_\+next\+Rnti\+Ul}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+next\+Rnti\+Ul}{m_nextRntiUl}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+next\+Rnti\+Ul\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}{}\label{classns3_1_1TdBetFfMacScheduler_affbc3b6450778e77fbc0e20cb575d1b0}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+p10\+Cqi\+Rxed@{m\+\_\+p10\+Cqi\+Rxed}}
\index{m\+\_\+p10\+Cqi\+Rxed@{m\+\_\+p10\+Cqi\+Rxed}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+p10\+Cqi\+Rxed}{m_p10CqiRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+p10\+Cqi\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}{}\label{classns3_1_1TdBetFfMacScheduler_a30205ddb38c83dab20b1c059df052679}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+p10\+Cqi\+Timers@{m\+\_\+p10\+Cqi\+Timers}}
\index{m\+\_\+p10\+Cqi\+Timers@{m\+\_\+p10\+Cqi\+Timers}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+p10\+Cqi\+Timers}{m_p10CqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+p10\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a1b59f4b00f23f363702a1c9679fe18a1}{}\label{classns3_1_1TdBetFfMacScheduler_a1b59f4b00f23f363702a1c9679fe18a1}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+rach\+Allocation\+Map@{m\+\_\+rach\+Allocation\+Map}}
\index{m\+\_\+rach\+Allocation\+Map@{m\+\_\+rach\+Allocation\+Map}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rach\+Allocation\+Map}{m_rachAllocationMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ uint16\+\_\+t $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+rach\+Allocation\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a985948ee40a0d721009dea792474ee51}{}\label{classns3_1_1TdBetFfMacScheduler_a985948ee40a0d721009dea792474ee51}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+rach\+List@{m\+\_\+rach\+List}}
\index{m\+\_\+rach\+List@{m\+\_\+rach\+List}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rach\+List}{m_rachList}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ struct {\bf Rach\+List\+Element\+\_\+s} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+rach\+List\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ac88efaa3ffc00af6dd71b21d2bef0448}{}\label{classns3_1_1TdBetFfMacScheduler_ac88efaa3ffc00af6dd71b21d2bef0448}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+rlc\+Buffer\+Req@{m\+\_\+rlc\+Buffer\+Req}}
\index{m\+\_\+rlc\+Buffer\+Req@{m\+\_\+rlc\+Buffer\+Req}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rlc\+Buffer\+Req}{m_rlcBufferReq}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ {\bf Lte\+Flow\+Id\+\_\+t}, {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+rlc\+Buffer\+Req\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}{}\label{classns3_1_1TdBetFfMacScheduler_a2c9685f472af05693a869d043fc1d35c}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+sched\+Sap\+Provider@{m\+\_\+sched\+Sap\+Provider}}
\index{m\+\_\+sched\+Sap\+Provider@{m\+\_\+sched\+Sap\+Provider}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+sched\+Sap\+Provider}{m_schedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+sched\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a756f79b8f29e6c52fb105fd75444da36}{}\label{classns3_1_1TdBetFfMacScheduler_a756f79b8f29e6c52fb105fd75444da36}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+sched\+Sap\+User@{m\+\_\+sched\+Sap\+User}}
\index{m\+\_\+sched\+Sap\+User@{m\+\_\+sched\+Sap\+User}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+sched\+Sap\+User}{m_schedSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+sched\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_aac1731b516e0a6e45d76828f6c72eaa5}{}\label{classns3_1_1TdBetFfMacScheduler_aac1731b516e0a6e45d76828f6c72eaa5}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+time\+Window@{m\+\_\+time\+Window}}
\index{m\+\_\+time\+Window@{m\+\_\+time\+Window}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+time\+Window}{m_timeWindow}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+time\+Window\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_abedd8d532189797f7f33af0e2a49427e}{}\label{classns3_1_1TdBetFfMacScheduler_abedd8d532189797f7f33af0e2a49427e}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+ue\+Cqi@{m\+\_\+ue\+Cqi}}
\index{m\+\_\+ue\+Cqi@{m\+\_\+ue\+Cqi}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Cqi}{m_ueCqi}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ double $>$ $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+ue\+Cqi\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}{}\label{classns3_1_1TdBetFfMacScheduler_a869067679aa0a846212a1fb509c1d702}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+ue\+Cqi\+Timers@{m\+\_\+ue\+Cqi\+Timers}}
\index{m\+\_\+ue\+Cqi\+Timers@{m\+\_\+ue\+Cqi\+Timers}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Cqi\+Timers}{m_ueCqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+ue\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a89b7106fc5de30b9153316aa3ea2d368}{}\label{classns3_1_1TdBetFfMacScheduler_a89b7106fc5de30b9153316aa3ea2d368}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+ues\+Tx\+Mode@{m\+\_\+ues\+Tx\+Mode}}
\index{m\+\_\+ues\+Tx\+Mode@{m\+\_\+ues\+Tx\+Mode}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ues\+Tx\+Mode}{m_uesTxMode}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+ues\+Tx\+Mode\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a4488d2d9dc706b42ef06e493332042cd}{}\label{classns3_1_1TdBetFfMacScheduler_a4488d2d9dc706b42ef06e493332042cd}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Grant\+Mcs@{m\+\_\+ul\+Grant\+Mcs}}
\index{m\+\_\+ul\+Grant\+Mcs@{m\+\_\+ul\+Grant\+Mcs}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Grant\+Mcs}{m_ulGrantMcs}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Grant\+Mcs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_ae0ced77c5d773079c66921b86561de8c}{}\label{classns3_1_1TdBetFfMacScheduler_ae0ced77c5d773079c66921b86561de8c}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Current\+Process\+Id@{m\+\_\+ul\+Harq\+Current\+Process\+Id}}
\index{m\+\_\+ul\+Harq\+Current\+Process\+Id@{m\+\_\+ul\+Harq\+Current\+Process\+Id}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Current\+Process\+Id}{m_ulHarqCurrentProcessId}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Current\+Process\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}{}\label{classns3_1_1TdBetFfMacScheduler_a0776a2fc3f7186d7ec4491dc21706596}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}}
\index{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}{m_ulHarqProcessesDciBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Ul\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}{}\label{classns3_1_1TdBetFfMacScheduler_a24641ddb697d45df50ee7bcaaacdb1e1}
\index{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Processes\+Status@{m\+\_\+ul\+Harq\+Processes\+Status}}
\index{m\+\_\+ul\+Harq\+Processes\+Status@{m\+\_\+ul\+Harq\+Processes\+Status}!ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Processes\+Status}{m_ulHarqProcessesStatus}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Ul\+Harq\+Processes\+Status\+\_\+t} $>$ ns3\+::\+Td\+Bet\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Processes\+Status\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdBetFfMacScheduler_a41bae8c97c560b2a314650d7e99bd356}{}\label{classns3_1_1TdBetFfMacScheduler_a41bae8c97c560b2a314650d7e99bd356}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{lte_2model_2tdbet-ff-mac-scheduler_8h}{tdbet-\/ff-\/mac-\/scheduler.\+h}\item 
lte/model/\hyperlink{lte_2model_2tdbet-ff-mac-scheduler_8cc}{tdbet-\/ff-\/mac-\/scheduler.\+cc}\end{DoxyCompactItemize}
