\hypertarget{classLenaFdBetFfMacSchedulerTestCase2}{}\section{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2 Class Reference}
\label{classLenaFdBetFfMacSchedulerTestCase2}\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}


{\ttfamily \#include $<$lte-\/test-\/fdbet-\/ff-\/mac-\/scheduler.\+h$>$}



Inheritance diagram for Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+:
% FIG 0


Collaboration diagram for Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLenaFdBetFfMacSchedulerTestCase2_abc5b5c7ccbd5eaf356d7566e395eb7ee}{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2} (std\+::vector$<$ uint16\+\_\+t $>$ dist, std\+::vector$<$ uint32\+\_\+t $>$ \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_aad2ad5fc6fa5eb0beb33a5ae45269c53}{m\+\_\+achievable\+Rate\+Dl}, std\+::vector$<$ uint32\+\_\+t $>$ est\+Thr\+Fd\+Bet\+Ul, bool \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a2925931eeed894cebffed3d453e739cd}{m\+\_\+error\+Model\+Enabled})
\item 
virtual \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_ac02f4983efd4c78de7478484e67acca6}{$\sim$\+Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a51c587a50f2087be7c3950f4d2d82852}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::string \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_aa542758e44236bbcac95e659a94fc35b}{Build\+Name\+String} (uint16\+\_\+t n\+User, std\+::vector$<$ uint16\+\_\+t $>$ dist)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint16\+\_\+t \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}{m\+\_\+n\+User}
\item 
std\+::vector$<$ uint16\+\_\+t $>$ \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a9592e66a8457fdae6ec5903bd0038948}{m\+\_\+dist}
\item 
std\+::vector$<$ uint32\+\_\+t $>$ \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_aad2ad5fc6fa5eb0beb33a5ae45269c53}{m\+\_\+achievable\+Rate\+Dl}
\item 
std\+::vector$<$ uint32\+\_\+t $>$ \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_ab64def4901dc0192ce44e970cd69b9a0}{m\+\_\+est\+Thr\+Fd\+Bet\+Ul}
\item 
bool \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a2925931eeed894cebffed3d453e739cd}{m\+\_\+error\+Model\+Enabled}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2(std\+::vector$<$ uint16\+\_\+t $>$ dist, std\+::vector$<$ uint32\+\_\+t $>$ m\+\_\+achievable\+Rate\+Dl, std\+::vector$<$ uint32\+\_\+t $>$ est\+Thr\+Fd\+Bet\+Ul, bool m\+\_\+error\+Model\+Enabled)}{LenaFdBetFfMacSchedulerTestCase2(std::vector< uint16_t > dist, std::vector< uint32_t > m_achievableRateDl, std::vector< uint32_t > estThrFdBetUl, bool m_errorModelEnabled)}}]{\setlength{\rightskip}{0pt plus 5cm}Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+::\+Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2 (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ uint16\+\_\+t $>$}]{dist, }
\item[{std\+::vector$<$ uint32\+\_\+t $>$}]{m\+\_\+achievable\+Rate\+Dl, }
\item[{std\+::vector$<$ uint32\+\_\+t $>$}]{est\+Thr\+Fd\+Bet\+Ul, }
\item[{bool}]{m\+\_\+error\+Model\+Enabled}
\end{DoxyParamCaption}
)}\hypertarget{classLenaFdBetFfMacSchedulerTestCase2_abc5b5c7ccbd5eaf356d7566e395eb7ee}{}\label{classLenaFdBetFfMacSchedulerTestCase2_abc5b5c7ccbd5eaf356d7566e395eb7ee}

\begin{DoxyCode}
351   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\hyperlink{classLenaFdBetFfMacSchedulerTestCase2_aa542758e44236bbcac95e659a94fc35b}{BuildNameString} (dist.size (), dist)),
352     \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}{m\_nUser} (dist.size ()),
353     \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a9592e66a8457fdae6ec5903bd0038948}{m\_dist} (dist),
354     \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_aad2ad5fc6fa5eb0beb33a5ae45269c53}{m\_achievableRateDl} (estAchievableRateDl),
355     \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_ab64def4901dc0192ce44e970cd69b9a0}{m\_estThrFdBetUl} (estThrFdBetUl),
356     \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a2925931eeed894cebffed3d453e739cd}{m\_errorModelEnabled} (errorModelEnabled)
357 \{
358 \}
\end{DoxyCode}
\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!````~Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{$\sim$\+Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\index{````~Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{$\sim$\+Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\subsubsection[{\texorpdfstring{$\sim$\+Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2()}{~LenaFdBetFfMacSchedulerTestCase2()}}]{\setlength{\rightskip}{0pt plus 5cm}Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+::$\sim$\+Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classLenaFdBetFfMacSchedulerTestCase2_ac02f4983efd4c78de7478484e67acca6}{}\label{classLenaFdBetFfMacSchedulerTestCase2_ac02f4983efd4c78de7478484e67acca6}

\begin{DoxyCode}
361 \{
362 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!Build\+Name\+String@{Build\+Name\+String}}
\index{Build\+Name\+String@{Build\+Name\+String}!Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Build\+Name\+String(uint16\+\_\+t n\+User, std\+::vector$<$ uint16\+\_\+t $>$ dist)}{BuildNameString(uint16_t nUser, std::vector< uint16_t > dist)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+::\+Build\+Name\+String (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{n\+User, }
\item[{std\+::vector$<$ uint16\+\_\+t $>$}]{dist}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classLenaFdBetFfMacSchedulerTestCase2_aa542758e44236bbcac95e659a94fc35b}{}\label{classLenaFdBetFfMacSchedulerTestCase2_aa542758e44236bbcac95e659a94fc35b}

\begin{DoxyCode}
338 \{
339   std::ostringstream oss;
340   oss << \textcolor{stringliteral}{"distances (m) = [ "} ;
341   \textcolor{keywordflow}{for} (std::vector<uint16\_t>::iterator it = dist.begin (); it != dist.end (); ++it)
342     \{
343       oss << *it << \textcolor{stringliteral}{" "};
344     \}
345   oss << \textcolor{stringliteral}{"]"};
346   \textcolor{keywordflow}{return} oss.str ();
347 \}
\end{DoxyCode}
\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLenaFdBetFfMacSchedulerTestCase2_a51c587a50f2087be7c3950f4d2d82852}{}\label{classLenaFdBetFfMacSchedulerTestCase2_a51c587a50f2087be7c3950f4d2d82852}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. Initialize Simulation Scenario\+: 1 e\+NB and m\+\_\+n\+User U\+Es

Check that the assignation is done in a \char`\"{}\+F\+D blind equal throughput\char`\"{} manner among users with different S\+I\+N\+Rs\+: the bandwidth should be distributed equally in long term

Check that the assignation in uplink is done in a round robin manner.

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
366 \{
367 
368   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
369 
370   \textcolor{keywordflow}{if} (!\hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a2925931eeed894cebffed3d453e739cd}{m\_errorModelEnabled})
371     \{
372       \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::CtrlErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
373       \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::DataErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
374     \}
375   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteHelper::UseIdealRrc"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
376 
381   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
382   
383   lteHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"PathlossModel"}, StringValue (\textcolor{stringliteral}{"
      ns3::FriisSpectrumPropagationLossModel"}));
384 
385   \textcolor{comment}{// Create Nodes: eNodeB and UE}
386   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
387   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes;
388   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
389   ueNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (\hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}{m\_nUser});
390 
391   \textcolor{comment}{// Install Mobility Model}
392   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
393   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
394   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (enbNodes);
395   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
396   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (ueNodes);
397 
398   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
399   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
400   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs;
401   lteHelper->\hyperlink{classns3_1_1LteHelper_a8f86e55b8b80a81732c4b2df00fb25d5}{SetSchedulerType} (\textcolor{stringliteral}{"ns3::FdBetFfMacScheduler"});
402   enbDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes);
403   ueDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes);
404 
405   \textcolor{comment}{// Attach a UE to a eNB}
406   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs, enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
407 
408   \textcolor{comment}{// Activate an EPS bearer}
409   \textcolor{keyword}{enum} \hyperlink{structns3_1_1EpsBearer_aecf0c67109c5eb4ec0b07226fff5885e}{EpsBearer::Qci} q = EpsBearer::GBR\_CONV\_VOICE;
410   \hyperlink{structns3_1_1EpsBearer}{EpsBearer} bearer (q);
411   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs, bearer);
412 
413   \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbNetDevice>} lteEnbDev = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ();
414   \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbPhy>} enbPhy = lteEnbDev->\hyperlink{classns3_1_1LteEnbNetDevice_a58db72130e0740f16a5e03b22e4a10a4}{GetPhy} ();
415   enbPhy->SetAttribute (\textcolor{stringliteral}{"TxPower"}, DoubleValue (30.0));
416   enbPhy->SetAttribute (\textcolor{stringliteral}{"NoiseFigure"}, DoubleValue (5.0));
417 
418   \textcolor{comment}{// Set UEs' position and power}
419   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}{m\_nUser}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
420     \{
421       \hyperlink{classns3_1_1Ptr}{Ptr<ConstantPositionMobilityModel>} mm = ueNodes.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1ConstantPositionMobilityModel}{ConstantPositionMobilityModel}> ();
422       mm->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (\hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a9592e66a8457fdae6ec5903bd0038948}{m\_dist}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), 0.0, 0.0));
423       \hyperlink{classns3_1_1Ptr}{Ptr<LteUeNetDevice>} lteUeDev = ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})->GetObject<
      \hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ();
424       \hyperlink{classns3_1_1Ptr}{Ptr<LteUePhy>} uePhy = lteUeDev->\hyperlink{classns3_1_1LteUeNetDevice_a2a9940a1e457a8bf3dae87fed4199c7a}{GetPhy} ();
425       uePhy->SetAttribute (\textcolor{stringliteral}{"TxPower"}, DoubleValue (23.0));
426       uePhy->SetAttribute (\textcolor{stringliteral}{"NoiseFigure"}, DoubleValue (9.0));
427     \}
428 
429 
430   \textcolor{keywordtype}{double} statsStartTime = 0.300; \textcolor{comment}{// need to allow for RRC connection establishment + SRS}
431   \textcolor{keywordtype}{double} statsDuration = 0.4;
432   \textcolor{keywordtype}{double} tolerance = 0.1;
433   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (statsStartTime + statsDuration - 0.000001));
434 
435   lteHelper->\hyperlink{classns3_1_1LteHelper_affa3a12841520407d3662417fe41863d}{EnableMacTraces} ();
436   lteHelper->\hyperlink{classns3_1_1LteHelper_abadfdd04d30b261e9b6f0846b4784928}{EnableRlcTraces} ();
437   \hyperlink{classns3_1_1Ptr}{Ptr<RadioBearerStatsCalculator>} rlcStats = lteHelper->
      \hyperlink{classns3_1_1LteHelper_a6eb438ccf69642e3863adea4991fa2ca}{GetRlcStats} ();
438   rlcStats->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"StartTime"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (statsStartTime)));
439   rlcStats->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"EpochDuration"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (statsDuration)));
440 
441   Simulator::Run ();
442 
443   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"DL - Test with "} << m\_nUser << \textcolor{stringliteral}{" user(s)"});
444   std::vector <uint64\_t> dlDataRxed;
445   \textcolor{keywordtype}{double} totalData = 0;
446   \textcolor{keywordtype}{double} estTotalThr = 0;
447   \textcolor{keywordtype}{double} estUeThr = 0;
448   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}{m\_nUser}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
449     \{
450       \textcolor{comment}{// get the imsi}
451       uint64\_t imsi = ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})->GetObject<\hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ()->GetImsi ();
452       \textcolor{comment}{// get the lcId}
453       uint8\_t lcId = 3;
454       dlDataRxed.push\_back (rlcStats->\hyperlink{classns3_1_1RadioBearerStatsCalculator_a80ec1463cd053d8deebda8498d2b864e}{GetDlRxData} (imsi, lcId));
455       totalData += (double)dlDataRxed.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
456       estTotalThr += 1 / \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_aad2ad5fc6fa5eb0beb33a5ae45269c53}{m\_achievableRateDl}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
457       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tUser "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" dist "} << \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a9592e66a8457fdae6ec5903bd0038948}{m\_dist}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) << \textcolor{stringliteral}{" imsi "} << imsi << \textcolor{stringliteral}{"
       bytes rxed "} << (double)dlDataRxed.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) << \textcolor{stringliteral}{"  thr "} << (double)dlDataRxed.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) / statsDuration << \textcolor{stringliteral}{" ref "} << \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}{m\_nUser});
458     \}
459     
460   estTotalThr = m\_nUser * (1 / estTotalThr);
461   estUeThr = estTotalThr / \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}{m\_nUser};
466   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}{m\_nUser}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
467     \{
468       \textcolor{keywordtype}{double} thrRatio = (double) 1 / m\_nUser;
469       \textcolor{keywordtype}{double} estThrRatio = (double)dlDataRxed.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) / totalData;
470       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tUser "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" thrRatio "} << thrRatio << \textcolor{stringliteral}{" estThrRatio "} << estThrRatio
      );
471       \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} (estThrRatio, thrRatio, tolerance, \textcolor{stringliteral}{" Unfair
       Throughput!"});
472       \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} ((\textcolor{keywordtype}{double})dlDataRxed.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) / statsDuration, estUeThr, estUeThr * tolerance, \textcolor{stringliteral}{" Unfair Throughput!"});
473 
474     \}
475 
480   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"UL - Test with "} << m\_nUser);
481   std::vector <uint64\_t> ulDataRxed;
482   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}{m\_nUser}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
483     \{
484       \textcolor{comment}{// get the imsi}
485       uint64\_t imsi = ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})->GetObject<\hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ()->GetImsi ();
486       \textcolor{comment}{// get the lcId}
487       uint8\_t lcId = 3;
488       ulDataRxed.push\_back (rlcStats->\hyperlink{classns3_1_1RadioBearerStatsCalculator_a6ce5113218813509a6fb6159f9be4807}{GetUlRxData} (imsi, lcId));
489       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tUser "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" dist "} << \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_a9592e66a8457fdae6ec5903bd0038948}{m\_dist}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) << \textcolor{stringliteral}{" bytes rxed "} << (
      double)ulDataRxed.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) << \textcolor{stringliteral}{"  thr "} << (double)ulDataRxed.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) / statsDuration << \textcolor{stringliteral}{" ref "} << (double)
      \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_ab64def4901dc0192ce44e970cd69b9a0}{m\_estThrFdBetUl}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
490       \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} ((\textcolor{keywordtype}{double})ulDataRxed.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) / statsDuration, (double)\hyperlink{classLenaFdBetFfMacSchedulerTestCase2_ab64def4901dc0192ce44e970cd69b9a0}{m\_estThrFdBetUl}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), (double)
      \hyperlink{classLenaFdBetFfMacSchedulerTestCase2_ab64def4901dc0192ce44e970cd69b9a0}{m\_estThrFdBetUl}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) * tolerance, \textcolor{stringliteral}{" Unfair Throughput!"});
491     \}
492   Simulator::Destroy ();
493 
494 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




\subsection{Member Data Documentation}
\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!m\+\_\+achievable\+Rate\+Dl@{m\+\_\+achievable\+Rate\+Dl}}
\index{m\+\_\+achievable\+Rate\+Dl@{m\+\_\+achievable\+Rate\+Dl}!Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+achievable\+Rate\+Dl}{m_achievableRateDl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$uint32\+\_\+t$>$ Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+::m\+\_\+achievable\+Rate\+Dl\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaFdBetFfMacSchedulerTestCase2_aad2ad5fc6fa5eb0beb33a5ae45269c53}{}\label{classLenaFdBetFfMacSchedulerTestCase2_aad2ad5fc6fa5eb0beb33a5ae45269c53}
\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!m\+\_\+dist@{m\+\_\+dist}}
\index{m\+\_\+dist@{m\+\_\+dist}!Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+dist}{m_dist}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$uint16\+\_\+t$>$ Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+::m\+\_\+dist\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaFdBetFfMacSchedulerTestCase2_a9592e66a8457fdae6ec5903bd0038948}{}\label{classLenaFdBetFfMacSchedulerTestCase2_a9592e66a8457fdae6ec5903bd0038948}
\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!m\+\_\+error\+Model\+Enabled@{m\+\_\+error\+Model\+Enabled}}
\index{m\+\_\+error\+Model\+Enabled@{m\+\_\+error\+Model\+Enabled}!Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+error\+Model\+Enabled}{m_errorModelEnabled}}]{\setlength{\rightskip}{0pt plus 5cm}bool Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+::m\+\_\+error\+Model\+Enabled\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaFdBetFfMacSchedulerTestCase2_a2925931eeed894cebffed3d453e739cd}{}\label{classLenaFdBetFfMacSchedulerTestCase2_a2925931eeed894cebffed3d453e739cd}
\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!m\+\_\+est\+Thr\+Fd\+Bet\+Ul@{m\+\_\+est\+Thr\+Fd\+Bet\+Ul}}
\index{m\+\_\+est\+Thr\+Fd\+Bet\+Ul@{m\+\_\+est\+Thr\+Fd\+Bet\+Ul}!Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+est\+Thr\+Fd\+Bet\+Ul}{m_estThrFdBetUl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$uint32\+\_\+t$>$ Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+::m\+\_\+est\+Thr\+Fd\+Bet\+Ul\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaFdBetFfMacSchedulerTestCase2_ab64def4901dc0192ce44e970cd69b9a0}{}\label{classLenaFdBetFfMacSchedulerTestCase2_ab64def4901dc0192ce44e970cd69b9a0}
\index{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}!m\+\_\+n\+User@{m\+\_\+n\+User}}
\index{m\+\_\+n\+User@{m\+\_\+n\+User}!Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2@{Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+n\+User}{m_nUser}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Lena\+Fd\+Bet\+Ff\+Mac\+Scheduler\+Test\+Case2\+::m\+\_\+n\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}{}\label{classLenaFdBetFfMacSchedulerTestCase2_a626729804ff1d44917c7ba38b68b8b78}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/test/\hyperlink{lte-test-fdbet-ff-mac-scheduler_8h}{lte-\/test-\/fdbet-\/ff-\/mac-\/scheduler.\+h}\item 
lte/test/\hyperlink{lte-test-fdbet-ff-mac-scheduler_8cc}{lte-\/test-\/fdbet-\/ff-\/mac-\/scheduler.\+cc}\end{DoxyCompactItemize}
