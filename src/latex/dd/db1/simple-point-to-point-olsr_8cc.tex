\hypertarget{simple-point-to-point-olsr_8cc}{}\section{olsr/examples/simple-\/point-\/to-\/point-\/olsr.cc File Reference}
\label{simple-point-to-point-olsr_8cc}\index{olsr/examples/simple-\/point-\/to-\/point-\/olsr.\+cc@{olsr/examples/simple-\/point-\/to-\/point-\/olsr.\+cc}}
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$fstream$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$cassert$>$}\\*
{\ttfamily \#include \char`\"{}ns3/core-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/network-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/internet-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/point-\/to-\/point-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/applications-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/olsr-\/helper.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/ipv4-\/static-\/routing-\/helper.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/ipv4-\/list-\/routing-\/helper.\+h\char`\"{}}\\*
Include dependency graph for simple-\/point-\/to-\/point-\/olsr.cc\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{simple-point-to-point-olsr_8cc_a00da915f2fe1d150885a10f3640f96cb}{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE} (\char`\"{}Simple\+Point\+To\+Point\+Olsr\+Example\char`\"{})
\item 
int \hyperlink{simple-point-to-point-olsr_8cc_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{simple-\/point-\/to-\/point-\/olsr.\+cc@{simple-\/point-\/to-\/point-\/olsr.\+cc}!main@{main}}
\index{main@{main}!simple-\/point-\/to-\/point-\/olsr.\+cc@{simple-\/point-\/to-\/point-\/olsr.\+cc}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$argv[])}{main(int argc, char *argv[])}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{simple-point-to-point-olsr_8cc_a0ddf1224851353fc92bfbff6f499fa97}{}\label{simple-point-to-point-olsr_8cc_a0ddf1224851353fc92bfbff6f499fa97}

\begin{DoxyCode}
58 \{
59   \textcolor{comment}{// Users may find it convenient to turn on explicit debugging}
60   \textcolor{comment}{// for selected modules; the below lines suggest how to do this}
61 \textcolor{preprocessor}{#if 0}
62   \hyperlink{namespacens3_adc4ef4f00bb2f5f4edae67fc3bc27f20}{LogComponentEnable} (\textcolor{stringliteral}{"SimpleGlobalRoutingExample"}, 
      \hyperlink{namespacens3_aa6464a4d69551a9cc968e17a65f39bdbae36aedc880de94fd5a5b53bb9fe65628}{LOG\_LEVEL\_INFO});
63 \textcolor{preprocessor}{#endif}
64 
65   \textcolor{comment}{// Set up some default values for the simulation.  Use the}
66 
67   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::OnOffApplication::PacketSize"}, UintegerValue (210));
68   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::OnOffApplication::DataRate"}, StringValue (\textcolor{stringliteral}{"448kb/s"}));
69 
70   \textcolor{comment}{//DefaultValue::Bind ("DropTailQueue::m\_maxPackets", 30);}
71 
72   \textcolor{comment}{// Allow the user to override any of the defaults and the above}
73   \textcolor{comment}{// DefaultValue::Bind ()s at run-time, via command-line arguments}
74   \hyperlink{classns3_1_1CommandLine}{CommandLine} cmd;
75   cmd.\hyperlink{classns3_1_1CommandLine_a5c10b85b3207e5ecb48d907966923156}{Parse} (argc, argv);
76 
77   \textcolor{comment}{// Here, we will explicitly create four nodes.  In more sophisticated}
78   \textcolor{comment}{// topologies, we could configure a node factory.}
79   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Create nodes."});
80   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
81   c.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (5);
82   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} n02 = \hyperlink{classns3_1_1NodeContainer}{NodeContainer} (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0), c.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (2));
83   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} n12 = \hyperlink{classns3_1_1NodeContainer}{NodeContainer} (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1), c.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (2));
84   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} n32 = \hyperlink{classns3_1_1NodeContainer}{NodeContainer} (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (3), c.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (2));
85   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} n34 = \hyperlink{classns3_1_1NodeContainer}{NodeContainer} (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (3), c.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (4));
86 
87   \textcolor{comment}{// Enable OLSR}
88   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Enabling OLSR Routing."});
89   \hyperlink{classns3_1_1OlsrHelper}{OlsrHelper} \hyperlink{namespaceolsr}{olsr};
90 
91   \hyperlink{classns3_1_1Ipv4StaticRoutingHelper}{Ipv4StaticRoutingHelper} staticRouting;
92 
93   \hyperlink{classns3_1_1Ipv4ListRoutingHelper}{Ipv4ListRoutingHelper} \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{list};
94   list.\hyperlink{classns3_1_1Ipv4ListRoutingHelper_a697287d45297478735082f691ad06fa3}{Add} (staticRouting, 0);
95   list.\hyperlink{classns3_1_1Ipv4ListRoutingHelper_a697287d45297478735082f691ad06fa3}{Add} (olsr, 10);
96 
97   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
98   internet.\hyperlink{classns3_1_1InternetStackHelper_a3e382c02df022dec79952a7eca8cd5ba}{SetRoutingHelper} (list); \textcolor{comment}{// has effect on the next Install ()}
99   internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (c);
100 
101   \textcolor{comment}{// We create the channels first without any IP addressing information}
102   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Create channels."});
103   \hyperlink{classns3_1_1PointToPointHelper}{PointToPointHelper} p2p;
104   p2p.\hyperlink{classns3_1_1PointToPointHelper_a4577f5ab8c387e5528af2e0fbab1152e}{SetDeviceAttribute} (\textcolor{stringliteral}{"DataRate"}, StringValue (\textcolor{stringliteral}{"5Mbps"}));
105   p2p.\hyperlink{classns3_1_1PointToPointHelper_a6b5317fd17fb61e5a53f8d66a90b63b9}{SetChannelAttribute} (\textcolor{stringliteral}{"Delay"}, StringValue (\textcolor{stringliteral}{"2ms"}));
106   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} nd02 = p2p.\hyperlink{classns3_1_1PointToPointHelper_ab9162fea3e88722666fed1106df1f9ec}{Install} (n02);
107   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} nd12 = p2p.\hyperlink{classns3_1_1PointToPointHelper_ab9162fea3e88722666fed1106df1f9ec}{Install} (n12);
108   p2p.\hyperlink{classns3_1_1PointToPointHelper_a4577f5ab8c387e5528af2e0fbab1152e}{SetDeviceAttribute} (\textcolor{stringliteral}{"DataRate"}, StringValue (\textcolor{stringliteral}{"1500kbps"}));
109   p2p.\hyperlink{classns3_1_1PointToPointHelper_a6b5317fd17fb61e5a53f8d66a90b63b9}{SetChannelAttribute} (\textcolor{stringliteral}{"Delay"}, StringValue (\textcolor{stringliteral}{"10ms"}));
110   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} nd32 = p2p.\hyperlink{classns3_1_1PointToPointHelper_ab9162fea3e88722666fed1106df1f9ec}{Install} (n32);
111   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} nd34 = p2p.\hyperlink{classns3_1_1PointToPointHelper_ab9162fea3e88722666fed1106df1f9ec}{Install} (n34);
112 
113   \textcolor{comment}{// Later, we add IP addresses.}
114   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Assign IP Addresses."});
115   \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} ipv4;
116   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.1.0"}, \textcolor{stringliteral}{"255.255.255.0"});
117   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} i02 = ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (nd02);
118 
119   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.2.0"}, \textcolor{stringliteral}{"255.255.255.0"});
120   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} i12 = ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (nd12);
121 
122   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.3.0"}, \textcolor{stringliteral}{"255.255.255.0"});
123   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} i32 = ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (nd32);
124 
125   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.4.0"}, \textcolor{stringliteral}{"255.255.255.0"});
126   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} i34 = ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (nd34);
127 
128   \textcolor{comment}{// Create the OnOff application to send UDP datagrams of size}
129   \textcolor{comment}{// 210 bytes at a rate of 448 Kb/s from n0 to n4}
130   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Create Applications."});
131   uint16\_t \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port} = 9;   \textcolor{comment}{// Discard port (RFC 863)}
132 
133   \hyperlink{classns3_1_1OnOffHelper}{OnOffHelper} onoff (\textcolor{stringliteral}{"ns3::UdpSocketFactory"},
134                      \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (i34.\hyperlink{classns3_1_1Ipv4InterfaceContainer_ae63208dcd222be986822937ee4aa828c}{GetAddress} (1), 
      \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port}));
135   onoff.SetConstantRate (\hyperlink{classns3_1_1DataRate}{DataRate} (\textcolor{stringliteral}{"448kb/s"}));
136 
137   \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} apps = onoff.Install (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0));
138   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0));
139   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0));
140 
141   \textcolor{comment}{// Create a packet sink to receive these packets}
142   \hyperlink{classns3_1_1PacketSinkHelper}{PacketSinkHelper} sink (\textcolor{stringliteral}{"ns3::UdpSocketFactory"},
143                          \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (Ipv4Address::GetAny (), port));
144 
145   apps = sink.Install (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (3));
146   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0));
147   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0));
148 
149   \textcolor{comment}{// Create a similar flow from n3 to n1, starting at time 1.1 seconds}
150   onoff.SetAttribute (\textcolor{stringliteral}{"Remote"},
151                       AddressValue (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (i12.
      \hyperlink{classns3_1_1Ipv4InterfaceContainer_ae63208dcd222be986822937ee4aa828c}{GetAddress} (0), \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port})));
152   apps = onoff.Install (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (3));
153   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.1));
154   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0));
155 
156   \textcolor{comment}{// Create a packet sink to receive these packets}
157   apps = sink.Install (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1));
158   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.1));
159   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0));
160 
161   \hyperlink{classns3_1_1AsciiTraceHelper}{AsciiTraceHelper} ascii;
162   p2p.\hyperlink{classns3_1_1AsciiTraceHelperForDevice_a63e57c878526c732924e14c1e52cca8b}{EnableAsciiAll} (ascii.\hyperlink{classns3_1_1AsciiTraceHelper_a44960bf2ca32835024eaedd26d1c4f94}{CreateFileStream} (\textcolor{stringliteral}{"simple-point-to-point-olsr.tr"}
      ));
163   p2p.\hyperlink{classns3_1_1PcapHelperForDevice_a4ab183a2512120200d4a0e5d8ececd49}{EnablePcapAll} (\textcolor{stringliteral}{"simple-point-to-point-olsr"});
164 
165   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (30));
166 
167   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Run Simulation."});
168   Simulator::Run ();
169   Simulator::Destroy ();
170   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Done."});
171 
172   \textcolor{keywordflow}{return} 0;
173 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1


\index{simple-\/point-\/to-\/point-\/olsr.\+cc@{simple-\/point-\/to-\/point-\/olsr.\+cc}!N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE@{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE}}
\index{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE@{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE}!simple-\/point-\/to-\/point-\/olsr.\+cc@{simple-\/point-\/to-\/point-\/olsr.\+cc}}
\subsubsection[{\texorpdfstring{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+N\+E(""Simple\+Point\+To\+Point\+Olsr\+Example"")}{NS_LOG_COMPONENT_DEFINE("SimplePointToPointOlsrExample")}}]{\setlength{\rightskip}{0pt plus 5cm}N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE (
\begin{DoxyParamCaption}
\item[{\char`\"{}Simple\+Point\+To\+Point\+Olsr\+Example\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{simple-point-to-point-olsr_8cc_a00da915f2fe1d150885a10f3640f96cb}{}\label{simple-point-to-point-olsr_8cc_a00da915f2fe1d150885a10f3640f96cb}
