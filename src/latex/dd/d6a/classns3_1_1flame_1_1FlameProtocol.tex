\hypertarget{classns3_1_1flame_1_1FlameProtocol}{}\section{ns3\+:\+:flame\+:\+:Flame\+Protocol Class Reference}
\label{classns3_1_1flame_1_1FlameProtocol}\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}


F\+L\+A\+ME routing protocol.  




{\ttfamily \#include $<$flame-\/protocol.\+h$>$}



Inheritance diagram for ns3\+:\+:flame\+:\+:Flame\+Protocol\+:
% FIG 0


Collaboration diagram for ns3\+:\+:flame\+:\+:Flame\+Protocol\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics}{Statistics}
\begin{DoxyCompactList}\small\item\em \hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics}{Statistics} structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1flame_1_1FlameProtocol_a31f67d87aecd0b41e77fa9f004ef3e72}{Flame\+Protocol} ()
\item 
\hyperlink{classns3_1_1flame_1_1FlameProtocol_ae1b6beee12128191c0b9b2b50e2fae46}{$\sim$\+Flame\+Protocol} ()
\item 
void \hyperlink{classns3_1_1flame_1_1FlameProtocol_a25b22891027f4b6314f9940e209bb813}{Do\+Dispose} ()
\item 
bool \hyperlink{classns3_1_1flame_1_1FlameProtocol_a70087b7d1cd62978882df6599f56bf29}{Request\+Route} (uint32\+\_\+t source\+Iface, const \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} source, const \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} destination, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, uint16\+\_\+t protocol\+Type, \hyperlink{classns3_1_1MeshL2RoutingProtocol_a4c415efa22789b3a3bb5538b8fcf3e6a}{Route\+Reply\+Callback} route\+Reply)
\begin{DoxyCompactList}\small\item\em Route request, inherited from \hyperlink{classns3_1_1MeshL2RoutingProtocol}{Mesh\+L2\+Routing\+Protocol}. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1flame_1_1FlameProtocol_ad0b9c31eff724dcd0916a1985c351db1}{Remove\+Routing\+Stuff} (uint32\+\_\+t from\+Iface, const \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} source, const \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} destination, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, uint16\+\_\+t \&protocol\+Type)
\begin{DoxyCompactList}\small\item\em Cleanup flame headers! \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1flame_1_1FlameProtocol_a824a540ca72c5a413ce31a2f037a8487}{Install} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MeshPointDevice}{Mesh\+Point\+Device} $>$)
\begin{DoxyCompactList}\small\item\em Install F\+L\+A\+ME on given mesh point. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1flame_1_1FlameProtocol_a837bba2752ab7f2edfb4fc0488656c0a}{Get\+Address} ()
\item 
void \hyperlink{classns3_1_1flame_1_1FlameProtocol_a32bfb167dae175a923cc85b346b9cfde}{Report} (std\+::ostream \&os) const 
\item 
void \hyperlink{classns3_1_1flame_1_1FlameProtocol_ab93a741052cafb5e9ee8caa6e4262119}{Reset\+Stats} ()
\begin{DoxyCompactList}\small\item\em Reset statistics function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1flame_1_1FlameProtocol_a3d2c4844248146480f9daf9668e14d48}{Get\+Type\+Id} ()
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1flame_1_1FlameProtocol}{Flame\+Protocol} \& \hyperlink{classns3_1_1flame_1_1FlameProtocol_aae9bd836cf37810a6b0919a72560376e}{operator=} (const \hyperlink{classns3_1_1flame_1_1FlameProtocol}{Flame\+Protocol} \&)
\begin{DoxyCompactList}\small\item\em assignment operator \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1flame_1_1FlameProtocol_a841617d92ef39101d8c9c714dab45c85}{Flame\+Protocol} (const \hyperlink{classns3_1_1flame_1_1FlameProtocol}{Flame\+Protocol} \&)
\begin{DoxyCompactList}\small\item\em type conversion operator \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1flame_1_1FlameProtocol_a72291eec881a8d8e1233695c0d382a52}{Handle\+Data\+Frame} (uint16\+\_\+t seqno, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} source, const \hyperlink{classns3_1_1flame_1_1FlameHeader}{Flame\+Header} flame\+Hdr, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} receiver, uint32\+\_\+t from\+Iface)
\begin{DoxyCompactList}\small\item\em Handles a packet\+: adds a routing information and drops packets by T\+TL or Seqno. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1flame_1_1FlameProtocol_a858e22014925c21b3773fdf414ff3064}{m\+\_\+max\+Cost}
\begin{DoxyCompactList}\small\item\em Max Cost value (or T\+TL, because cost is actually hopcount) \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1flame_1_1FlameProtocol_a51d2e538c9c79ad9ab1dff63a957515f}{m\+\_\+my\+Last\+Seqno}
\begin{DoxyCompactList}\small\item\em Sequence number\+: \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1flame_1_1FlameRtable}{Flame\+Rtable} $>$ \hyperlink{classns3_1_1flame_1_1FlameProtocol_a6165f21594140afd0df03510fb61eb33}{m\+\_\+rtable}
\begin{DoxyCompactList}\small\item\em Routing table\+: \end{DoxyCompactList}\item 
\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics}{Statistics} \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\+\_\+stats}
\begin{DoxyCompactList}\small\item\em statistics \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}{\bf Broadcast timers\+:}\par
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1flame_1_1FlameProtocol_a1c150d8b0802a20889fd125b804b24e2}{m\+\_\+broadcast\+Interval}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9ea666e71f74654772318563e939df7f}{m\+\_\+last\+Broadcast}
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static const uint16\+\_\+t \hyperlink{classns3_1_1flame_1_1FlameProtocol_a3d4799f4e6ee746e8e47cae132330c76}{F\+L\+A\+M\+E\+\_\+\+P\+R\+O\+T\+O\+C\+OL} = 0x4040
\begin{DoxyCompactList}\small\item\em L\+LC protocol number reserved by flame. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Information about Mesh\+Point\+Deviceaddress, plugins}
\begin{DoxyCompactItemize}
\item 
typedef std\+::map$<$ uint32\+\_\+t, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1flame_1_1FlameProtocolMac}{Flame\+Protocol\+Mac} $>$ $>$ \hyperlink{classns3_1_1flame_1_1FlameProtocol_a51fc5b19ce20df8737998dec8c36931a}{Flame\+Plugin\+Map}
\item 
\hyperlink{classns3_1_1flame_1_1FlameProtocol_a51fc5b19ce20df8737998dec8c36931a}{Flame\+Plugin\+Map} \hyperlink{classns3_1_1flame_1_1FlameProtocol_ad8595153b7695efc169354d570625d24}{m\+\_\+interfaces}
\begin{DoxyCompactList}\small\item\em interfaces \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1flame_1_1FlameProtocol_aa14edf4450c8657c9e42dde32bc82df6}{m\+\_\+address}
\begin{DoxyCompactList}\small\item\em address \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
F\+L\+A\+ME routing protocol. 

\subsection{Member Typedef Documentation}
\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Flame\+Plugin\+Map@{Flame\+Plugin\+Map}}
\index{Flame\+Plugin\+Map@{Flame\+Plugin\+Map}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Flame\+Plugin\+Map}{FlamePluginMap}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$uint32\+\_\+t, {\bf Ptr}$<${\bf Flame\+Protocol\+Mac}$>$ $>$ {\bf ns3\+::flame\+::\+Flame\+Protocol\+::\+Flame\+Plugin\+Map}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a51fc5b19ce20df8737998dec8c36931a}{}\label{classns3_1_1flame_1_1FlameProtocol_a51fc5b19ce20df8737998dec8c36931a}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Flame\+Protocol@{Flame\+Protocol}}
\index{Flame\+Protocol@{Flame\+Protocol}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Flame\+Protocol()}{FlameProtocol()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::flame\+::\+Flame\+Protocol\+::\+Flame\+Protocol (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a31f67d87aecd0b41e77fa9f004ef3e72}{}\label{classns3_1_1flame_1_1FlameProtocol_a31f67d87aecd0b41e77fa9f004ef3e72}

\begin{DoxyCode}
136                               :
137   \hyperlink{classns3_1_1flame_1_1FlameProtocol_aa14edf4450c8657c9e42dde32bc82df6}{m\_address} (Mac48Address ()), \hyperlink{classns3_1_1flame_1_1FlameProtocol_a1c150d8b0802a20889fd125b804b24e2}{m\_broadcastInterval} (
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (5)), \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9ea666e71f74654772318563e939df7f}{m\_lastBroadcast} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0)),
138   \hyperlink{classns3_1_1flame_1_1FlameProtocol_a858e22014925c21b3773fdf414ff3064}{m\_maxCost} (32), \hyperlink{classns3_1_1flame_1_1FlameProtocol_a51d2e538c9c79ad9ab1dff63a957515f}{m\_myLastSeqno} (1), \hyperlink{classns3_1_1flame_1_1FlameProtocol_a6165f21594140afd0df03510fb61eb33}{m\_rtable} (CreateObject<FlameRtable> ())
139 \{
140 \}
\end{DoxyCode}
\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!````~Flame\+Protocol@{$\sim$\+Flame\+Protocol}}
\index{````~Flame\+Protocol@{$\sim$\+Flame\+Protocol}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{$\sim$\+Flame\+Protocol()}{~FlameProtocol()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::flame\+::\+Flame\+Protocol\+::$\sim$\+Flame\+Protocol (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1flame_1_1FlameProtocol_ae1b6beee12128191c0b9b2b50e2fae46}{}\label{classns3_1_1flame_1_1FlameProtocol_ae1b6beee12128191c0b9b2b50e2fae46}

\begin{DoxyCode}
142 \{
143 \}
\end{DoxyCode}
\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Flame\+Protocol@{Flame\+Protocol}}
\index{Flame\+Protocol@{Flame\+Protocol}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Flame\+Protocol(const Flame\+Protocol \&)}{FlameProtocol(const FlameProtocol &)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::flame\+::\+Flame\+Protocol\+::\+Flame\+Protocol (
\begin{DoxyParamCaption}
\item[{const {\bf Flame\+Protocol} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a841617d92ef39101d8c9c714dab45c85}{}\label{classns3_1_1flame_1_1FlameProtocol_a841617d92ef39101d8c9c714dab45c85}


type conversion operator 



\subsection{Member Function Documentation}
\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::flame\+::\+Flame\+Protocol\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a25b22891027f4b6314f9940e209bb813}{}\label{classns3_1_1flame_1_1FlameProtocol_a25b22891027f4b6314f9940e209bb813}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1flame_1_1FlameProtocol_a25b22891027f4b6314f9940e209bb813}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
146 \{
147   \hyperlink{classns3_1_1flame_1_1FlameProtocol_ad8595153b7695efc169354d570625d24}{m\_interfaces}.clear ();
148   \hyperlink{classns3_1_1flame_1_1FlameProtocol_a6165f21594140afd0df03510fb61eb33}{m\_rtable} = 0;
149   \hyperlink{classns3_1_1MeshL2RoutingProtocol_af4ebb2340b72dfc607ddf3c1ae65b54a}{m\_mp} = 0;
150 \}
\end{DoxyCode}
\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Get\+Address@{Get\+Address}}
\index{Get\+Address@{Get\+Address}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Get\+Address()}{GetAddress()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::flame\+::\+Flame\+Protocol\+::\+Get\+Address (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a837bba2752ab7f2edfb4fc0488656c0a}{}\label{classns3_1_1flame_1_1FlameProtocol_a837bba2752ab7f2edfb4fc0488656c0a}
Get address of this instance \begin{DoxyReturn}{Returns}
the M\+AC address 
\end{DoxyReturn}

\begin{DoxyCode}
328 \{
329   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1flame_1_1FlameProtocol_aa14edf4450c8657c9e42dde32bc82df6}{m\_address};
330 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id()}{GetTypeId()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::flame\+::\+Flame\+Protocol\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a3d2c4844248146480f9daf9668e14d48}{}\label{classns3_1_1flame_1_1FlameProtocol_a3d2c4844248146480f9daf9668e14d48}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
114 \{
115   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::flame::FlameProtocol"})
116     .SetParent<MeshL2RoutingProtocol> ()
117     .SetGroupName (\textcolor{stringliteral}{"Mesh"})
118     .AddConstructor<\hyperlink{classns3_1_1flame_1_1FlameProtocol_a31f67d87aecd0b41e77fa9f004ef3e72}{FlameProtocol}> ()
119     .AddAttribute ( \textcolor{stringliteral}{"BroadcastInterval"},
120                     \textcolor{stringliteral}{"How often we must send broadcast packets"},
121                     TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (5)),
122                     MakeTimeAccessor (
123                       &\hyperlink{classns3_1_1flame_1_1FlameProtocol_a1c150d8b0802a20889fd125b804b24e2}{FlameProtocol::m\_broadcastInterval}),
124                     \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ()
125                     )
126     .AddAttribute ( \textcolor{stringliteral}{"MaxCost"},
127                     \textcolor{stringliteral}{"Cost threshold after which packet will be dropped"},
128                     UintegerValue (32),
129                     MakeUintegerAccessor (
130                       &\hyperlink{classns3_1_1flame_1_1FlameProtocol_a858e22014925c21b3773fdf414ff3064}{FlameProtocol::m\_maxCost}),
131                     MakeUintegerChecker<uint8\_t> (3)
132                     )
133   ;
134   \textcolor{keywordflow}{return} tid;
135 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Handle\+Data\+Frame@{Handle\+Data\+Frame}}
\index{Handle\+Data\+Frame@{Handle\+Data\+Frame}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Handle\+Data\+Frame(uint16\+\_\+t seqno, Mac48\+Address source, const Flame\+Header flame\+Hdr, Mac48\+Address receiver, uint32\+\_\+t from\+Iface)}{HandleDataFrame(uint16_t seqno, Mac48Address source, const FlameHeader flameHdr, Mac48Address receiver, uint32_t fromIface)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::flame\+::\+Flame\+Protocol\+::\+Handle\+Data\+Frame (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{seqno, }
\item[{{\bf Mac48\+Address}}]{source, }
\item[{const {\bf Flame\+Header}}]{flame\+Hdr, }
\item[{{\bf Mac48\+Address}}]{receiver, }
\item[{uint32\+\_\+t}]{from\+Iface}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a72291eec881a8d8e1233695c0d382a52}{}\label{classns3_1_1flame_1_1FlameProtocol_a72291eec881a8d8e1233695c0d382a52}


Handles a packet\+: adds a routing information and drops packets by T\+TL or Seqno. 


\begin{DoxyParams}{Parameters}
{\em seqno} & \\
\hline
{\em source} & \\
\hline
{\em flame\+Hdr} & \\
\hline
{\em receiver} & \\
\hline
{\em from\+Iface} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if packet shall be dropped 
\end{DoxyReturn}

\begin{DoxyCode}
334 \{
335   \textcolor{keywordflow}{if} (source == \hyperlink{classns3_1_1flame_1_1FlameProtocol_a837bba2752ab7f2edfb4fc0488656c0a}{GetAddress} ())
336     \{
337       \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_a9bbb45f9d30c589661435636b6065ef7}{totalDropped}++;
338       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
339     \}
340   FlameRtable::LookupResult result = \hyperlink{classns3_1_1flame_1_1FlameProtocol_a6165f21594140afd0df03510fb61eb33}{m\_rtable}->\hyperlink{classns3_1_1flame_1_1FlameRtable_a0325101feac0af5e36ed5e29d2e7e74a}{Lookup} (source);
341   \textcolor{keywordflow}{if} ((result.retransmitter != \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ()) && ((int16\_t)(
      result.seqnum - seqno) >= 0))
342     \{
343       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
344     \}
345   \textcolor{keywordflow}{if} (flameHdr.GetCost () > \hyperlink{classns3_1_1flame_1_1FlameProtocol_a858e22014925c21b3773fdf414ff3064}{m\_maxCost})
346     \{
347       \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_aa8bce610a8fb9ff1989ee347fdc32120}{droppedTtl}++;
348       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
349     \}
350   \hyperlink{classns3_1_1flame_1_1FlameProtocol_a6165f21594140afd0df03510fb61eb33}{m\_rtable}->\hyperlink{classns3_1_1flame_1_1FlameRtable_a36691736ca6d88ddd0f38484553688cf}{AddPath} (source, receiver, fromInterface, flameHdr.GetCost (), flameHdr.GetSeqno
       ());
351   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
352 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Install@{Install}}
\index{Install@{Install}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Install(\+Ptr$<$ Mesh\+Point\+Device $>$)}{Install(Ptr< MeshPointDevice >)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::flame\+::\+Flame\+Protocol\+::\+Install (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mesh\+Point\+Device} $>$}]{mp}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a824a540ca72c5a413ce31a2f037a8487}{}\label{classns3_1_1flame_1_1FlameProtocol_a824a540ca72c5a413ce31a2f037a8487}


Install F\+L\+A\+ME on given mesh point. 

\begin{DoxyReturn}{Returns}
true if successful
\end{DoxyReturn}
Installing protocol causes installation of its interface M\+AC plugins.

Also MP aggregates all installed protocols, F\+L\+A\+ME protocol can be accessed via \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Mesh\+Point\+Device\+::\+Get\+Object$<$flame\+::\+Flame\+Protocol$>$()}; 
\begin{DoxyCode}
298 \{
299   \hyperlink{classns3_1_1MeshL2RoutingProtocol_af4ebb2340b72dfc607ddf3c1ae65b54a}{m\_mp} = mp;
300   std::vector<Ptr<NetDevice> > interfaces = mp->GetInterfaces ();
301   \textcolor{keywordflow}{for} (std::vector<Ptr<NetDevice> >::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = interfaces.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != interfaces.end (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
302     \{
303       \textcolor{comment}{// Checking for compatible net device}
304       Ptr<WifiNetDevice> wifiNetDev = (*i)->GetObject<WifiNetDevice> ();
305       \textcolor{keywordflow}{if} (wifiNetDev == 0)
306         \{
307           \textcolor{keywordflow}{return} \textcolor{keyword}{false};
308         \}
309       Ptr<MeshWifiInterfaceMac> mac = wifiNetDev->GetMac ()->GetObject<MeshWifiInterfaceMac> ();
310       \textcolor{keywordflow}{if} (mac == 0)
311         \{
312           \textcolor{keywordflow}{return} \textcolor{keyword}{false};
313         \}
314       \textcolor{comment}{// Installing plugins:}
315       Ptr<FlameProtocolMac> flameMac = Create<FlameProtocolMac> (\textcolor{keyword}{this});
316       \hyperlink{classns3_1_1flame_1_1FlameProtocol_ad8595153b7695efc169354d570625d24}{m\_interfaces}[wifiNetDev->GetIfIndex ()] = flameMac;
317       mac->SetBeaconGeneration (\textcolor{keyword}{false});
318       mac->InstallPlugin (flameMac);
319     \}
320   mp->SetRoutingProtocol (\textcolor{keyword}{this});
321   \textcolor{comment}{// Mesh point aggregates all installed protocols}
322   mp->AggregateObject (\textcolor{keyword}{this});
323   \hyperlink{classns3_1_1flame_1_1FlameProtocol_aa14edf4450c8657c9e42dde32bc82df6}{m\_address} = \hyperlink{classns3_1_1Mac48Address_a911ce13603a9ef837545a032b6523ae4}{Mac48Address::ConvertFrom} (mp->GetAddress ()); \textcolor{comment}{//* address;}
324   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
325 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!operator=@{operator=}}
\index{operator=@{operator=}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{operator=(const Flame\+Protocol \&)}{operator=(const FlameProtocol &)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Flame\+Protocol}\& ns3\+::flame\+::\+Flame\+Protocol\+::operator= (
\begin{DoxyParamCaption}
\item[{const {\bf Flame\+Protocol} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_aae9bd836cf37810a6b0919a72560376e}{}\label{classns3_1_1flame_1_1FlameProtocol_aae9bd836cf37810a6b0919a72560376e}


assignment operator 

\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Remove\+Routing\+Stuff@{Remove\+Routing\+Stuff}}
\index{Remove\+Routing\+Stuff@{Remove\+Routing\+Stuff}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Remove\+Routing\+Stuff(uint32\+\_\+t from\+Iface, const Mac48\+Address source, const Mac48\+Address destination, Ptr$<$ Packet $>$ packet, uint16\+\_\+t \&protocol\+Type)}{RemoveRoutingStuff(uint32_t fromIface, const Mac48Address source, const Mac48Address destination, Ptr< Packet > packet, uint16_t &protocolType)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::flame\+::\+Flame\+Protocol\+::\+Remove\+Routing\+Stuff (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{from\+Iface, }
\item[{const {\bf Mac48\+Address}}]{source, }
\item[{const {\bf Mac48\+Address}}]{destination, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{uint16\+\_\+t \&}]{protocol\+Type}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_ad0b9c31eff724dcd0916a1985c351db1}{}\label{classns3_1_1flame_1_1FlameProtocol_ad0b9c31eff724dcd0916a1985c351db1}


Cleanup flame headers! 



Implements \hyperlink{classns3_1_1MeshL2RoutingProtocol_ae110ac0c9b8f81cb2a05940b385e7f08}{ns3\+::\+Mesh\+L2\+Routing\+Protocol}.


\begin{DoxyCode}
265 \{
266   \textcolor{comment}{//Filter seqno:}
267   \textcolor{keywordflow}{if} (source == \hyperlink{classns3_1_1flame_1_1FlameProtocol_a837bba2752ab7f2edfb4fc0488656c0a}{GetAddress} ())
268     \{
269       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Dropped my own frame!"});
270       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
271     \}
272   FlameTag tag;
273   \textcolor{keywordflow}{if} (!packet->\hyperlink{classns3_1_1Packet_a078fe922d976a417ab25ba2f3c2fd667}{RemovePacketTag} (tag))
274     \{
275       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"FLAME tag must exist when packet is coming to protocol"});
276     \}
277   FlameHeader flameHdr;
278   packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (flameHdr);
279   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1flame_1_1FlameProtocol_a72291eec881a8d8e1233695c0d382a52}{HandleDataFrame} (flameHdr.GetSeqno (), source, flameHdr, tag.transmitter, fromIface))
280     \{
281       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
282     \}
283   \textcolor{comment}{// Start PATH\_UPDATE procedure if destination is our own address and last broadcast was sent more}
284   \textcolor{comment}{// than broadcast interval ago or was not sent at all}
285   \textcolor{keywordflow}{if} ((destination == \hyperlink{classns3_1_1flame_1_1FlameProtocol_a837bba2752ab7f2edfb4fc0488656c0a}{GetAddress} ()) && ((\hyperlink{classns3_1_1flame_1_1FlameProtocol_a9ea666e71f74654772318563e939df7f}{m\_lastBroadcast} + 
      \hyperlink{classns3_1_1flame_1_1FlameProtocol_a1c150d8b0802a20889fd125b804b24e2}{m\_broadcastInterval} < \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ())
286                                          || (\hyperlink{classns3_1_1flame_1_1FlameProtocol_a9ea666e71f74654772318563e939df7f}{m\_lastBroadcast} == 
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0))))
287     \{
288       Ptr<Packet> packet = Create<Packet> ();
289       \hyperlink{classns3_1_1MeshL2RoutingProtocol_af4ebb2340b72dfc607ddf3c1ae65b54a}{m\_mp}->Send (packet, \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} (), 0);
290       \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9ea666e71f74654772318563e939df7f}{m\_lastBroadcast} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
291     \}
292   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (protocolType == \hyperlink{classns3_1_1flame_1_1FlameProtocol_a3d4799f4e6ee746e8e47cae132330c76}{FLAME\_PROTOCOL});
293   protocolType = flameHdr.GetProtocol ();
294   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
295 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Report@{Report}}
\index{Report@{Report}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Report(std\+::ostream \&os) const }{Report(std::ostream &os) const }}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::flame\+::\+Flame\+Protocol\+::\+Report (
\begin{DoxyParamCaption}
\item[{std\+::ostream \&}]{os}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a32bfb167dae175a923cc85b346b9cfde}{}\label{classns3_1_1flame_1_1FlameProtocol_a32bfb167dae175a923cc85b346b9cfde}
\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics}{Statistics} 
\begin{DoxyParams}{Parameters}
{\em os} & the output stream \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
370 \{
371   os << \textcolor{stringliteral}{"<Flame "}
372   \textcolor{stringliteral}{"address=\(\backslash\)""} << \hyperlink{classns3_1_1flame_1_1FlameProtocol_aa14edf4450c8657c9e42dde32bc82df6}{m\_address} << \textcolor{stringliteral}{"\(\backslash\)""} << std::endl <<
373   \textcolor{stringliteral}{"broadcastInterval=\(\backslash\)""} << \hyperlink{classns3_1_1flame_1_1FlameProtocol_a1c150d8b0802a20889fd125b804b24e2}{m\_broadcastInterval}.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () << \textcolor{stringliteral}{"\(\backslash\)""} << 
      std::endl <<
374   \textcolor{stringliteral}{"maxCost=\(\backslash\)""} << (uint16\_t) \hyperlink{classns3_1_1flame_1_1FlameProtocol_a858e22014925c21b3773fdf414ff3064}{m\_maxCost} << \textcolor{stringliteral}{"\(\backslash\)">"} << std::endl;
375   \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_a29ffb9207fe8b18c71f238f2a9a0a6f6}{Print} (os);
376   \textcolor{keywordflow}{for} (FlamePluginMap::const\_iterator \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin} = \hyperlink{classns3_1_1flame_1_1FlameProtocol_ad8595153b7695efc169354d570625d24}{m\_interfaces}.begin (); 
      \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin} != \hyperlink{classns3_1_1flame_1_1FlameProtocol_ad8595153b7695efc169354d570625d24}{m\_interfaces}.end (); \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin}++)
377     \{
378       \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin}->second->Report (os);
379     \}
380   os << \textcolor{stringliteral}{"</Flame>"} << std::endl;
381 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Request\+Route@{Request\+Route}}
\index{Request\+Route@{Request\+Route}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Request\+Route(uint32\+\_\+t source\+Iface, const Mac48\+Address source, const Mac48\+Address destination, Ptr$<$ const Packet $>$ packet, uint16\+\_\+t protocol\+Type, Route\+Reply\+Callback route\+Reply)}{RequestRoute(uint32_t sourceIface, const Mac48Address source, const Mac48Address destination, Ptr< const Packet > packet, uint16_t protocolType, RouteReplyCallback routeReply)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::flame\+::\+Flame\+Protocol\+::\+Request\+Route (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{source\+Iface, }
\item[{const {\bf Mac48\+Address}}]{source, }
\item[{const {\bf Mac48\+Address}}]{destination, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{uint16\+\_\+t}]{protocol\+Type, }
\item[{{\bf Route\+Reply\+Callback}}]{route\+Reply}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a70087b7d1cd62978882df6599f56bf29}{}\label{classns3_1_1flame_1_1FlameProtocol_a70087b7d1cd62978882df6599f56bf29}


Route request, inherited from \hyperlink{classns3_1_1MeshL2RoutingProtocol}{Mesh\+L2\+Routing\+Protocol}. 



Implements \hyperlink{classns3_1_1MeshL2RoutingProtocol_a978b19cfc40272f5c39ed5e1999f9c8c}{ns3\+::\+Mesh\+L2\+Routing\+Protocol}.


\begin{DoxyCode}
154 \{
155   Ptr<Packet> packet = const\_packet->Copy ();
156   \textcolor{keywordflow}{if} (sourceIface == \hyperlink{classns3_1_1MeshL2RoutingProtocol_af4ebb2340b72dfc607ddf3c1ae65b54a}{m\_mp}->GetIfIndex ())
157     \{
158       \textcolor{comment}{//Packet from upper layer!}
159       FlameTag tag;
160       \textcolor{keywordflow}{if} (packet->PeekPacketTag (tag))
161         \{
162           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"FLAME tag is not supposed to be received from upper layers"});
163         \}
164       FlameRtable::LookupResult result = \hyperlink{classns3_1_1flame_1_1FlameProtocol_a6165f21594140afd0df03510fb61eb33}{m\_rtable}->\hyperlink{classns3_1_1flame_1_1FlameRtable_a0325101feac0af5e36ed5e29d2e7e74a}{Lookup} (destination);
165       \textcolor{keywordflow}{if} (result.retransmitter == \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ())
166         \{
167           \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9ea666e71f74654772318563e939df7f}{m\_lastBroadcast} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
168         \}
169       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1flame_1_1FlameProtocol_a9ea666e71f74654772318563e939df7f}{m\_lastBroadcast} + \hyperlink{classns3_1_1flame_1_1FlameProtocol_a1c150d8b0802a20889fd125b804b24e2}{m\_broadcastInterval} < 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ())
170         \{
171           result.retransmitter = \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ();
172           result.ifIndex = \hyperlink{classns3_1_1flame_1_1FlameRtable_a355b8bbdfec725bb9ccfddc8f3302573}{FlameRtable::INTERFACE\_ANY};
173           \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9ea666e71f74654772318563e939df7f}{m\_lastBroadcast} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
174         \}
175       FlameHeader flameHdr;
176       flameHdr.AddCost (0);
177       flameHdr.SetSeqno (\hyperlink{classns3_1_1flame_1_1FlameProtocol_a51d2e538c9c79ad9ab1dff63a957515f}{m\_myLastSeqno}++);
178       flameHdr.SetProtocol (protocolType);
179       flameHdr.SetOrigDst (destination);
180       flameHdr.SetOrigSrc (source);
181       \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_a6e9193135a5ce66fc2195afe99118bb9}{txBytes} += packet->GetSize ();
182       packet->AddHeader (flameHdr);
183       tag.receiver = result.retransmitter;
184       \textcolor{keywordflow}{if} (result.retransmitter == \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ())
185         \{
186           \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_a0ba404c358cf7b3dda7eef14e20ddeac}{txBroadcast}++;
187         \}
188       \textcolor{keywordflow}{else}
189         \{
190           \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_ac982655d8d0713a26f8844b982c2e84e}{txUnicast}++;
191         \}
192       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Source: send packet with RA = "} << tag.receiver);
193       packet->AddPacketTag (tag);
194       routeReply (\textcolor{keyword}{true}, packet, source, destination, \hyperlink{classns3_1_1flame_1_1FlameProtocol_a3d4799f4e6ee746e8e47cae132330c76}{FLAME\_PROTOCOL}, result.ifIndex);
195     \}
196   \textcolor{keywordflow}{else}
197     \{
198       FlameHeader flameHdr;
199       packet->RemoveHeader (flameHdr);
200       FlameTag tag;
201 
202       \textcolor{keywordflow}{if} (!packet->RemovePacketTag (tag))
203         \{
204           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"FLAME tag must exist here"});
205         \}
206       \textcolor{keywordflow}{if} (destination == \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ())
207         \{
208           \textcolor{comment}{//Broadcast always is forwarded as broadcast!}
209           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1flame_1_1FlameProtocol_a72291eec881a8d8e1233695c0d382a52}{HandleDataFrame} (flameHdr.GetSeqno (), source, flameHdr, tag.
      transmitter, sourceIface));
210           FlameTag tag (\hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ());
211           flameHdr.AddCost (1);
212           \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_a6e9193135a5ce66fc2195afe99118bb9}{txBytes} += packet->GetSize ();
213           packet->AddHeader (flameHdr);
214           packet->AddPacketTag (tag);
215           routeReply (\textcolor{keyword}{true}, packet, source, destination, \hyperlink{classns3_1_1flame_1_1FlameProtocol_a3d4799f4e6ee746e8e47cae132330c76}{FLAME\_PROTOCOL}, 
      \hyperlink{classns3_1_1flame_1_1FlameRtable_a355b8bbdfec725bb9ccfddc8f3302573}{FlameRtable::INTERFACE\_ANY});
216           \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_a0ba404c358cf7b3dda7eef14e20ddeac}{txBroadcast}++;
217           \textcolor{keywordflow}{return} \textcolor{keyword}{true};
218         \}
219       \textcolor{keywordflow}{else}
220         \{
221           \textcolor{comment}{// We check sequence only when forward unicast, because broadcast-checks were done}
222           \textcolor{comment}{// inside remove routing stuff.}
223           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1flame_1_1FlameProtocol_a72291eec881a8d8e1233695c0d382a52}{HandleDataFrame} (flameHdr.GetSeqno (), source, flameHdr, tag.transmitter, 
      sourceIface))
224             \{
225               \textcolor{keywordflow}{return} \textcolor{keyword}{false};
226             \}
227           FlameRtable::LookupResult result = \hyperlink{classns3_1_1flame_1_1FlameProtocol_a6165f21594140afd0df03510fb61eb33}{m\_rtable}->\hyperlink{classns3_1_1flame_1_1FlameRtable_a0325101feac0af5e36ed5e29d2e7e74a}{Lookup} (destination);
228           \textcolor{keywordflow}{if} (tag.receiver != \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ())
229             \{
230               \textcolor{keywordflow}{if} (result.retransmitter == \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ())
231                 \{
232                   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"unicast packet dropped, because no route! I am "} << 
      \hyperlink{classns3_1_1flame_1_1FlameProtocol_a837bba2752ab7f2edfb4fc0488656c0a}{GetAddress} ()
233                                                                                   << \textcolor{stringliteral}{", RA = "} << tag.
      receiver << \textcolor{stringliteral}{", TA = "} << tag.transmitter);
234                   \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_a9bbb45f9d30c589661435636b6065ef7}{totalDropped}++;
235                   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
236                 \}
237               tag.receiver = result.retransmitter;
238             \}
239           \textcolor{keywordflow}{else}
240             \{
241               tag.receiver = \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ();
242             \}
243           \textcolor{keywordflow}{if} (result.retransmitter == \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ())
244             \{
245               \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_a0ba404c358cf7b3dda7eef14e20ddeac}{txBroadcast}++;
246             \}
247           \textcolor{keywordflow}{else}
248             \{
249               \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_ac982655d8d0713a26f8844b982c2e84e}{txUnicast}++;
250             \}
251           \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats}.\hyperlink{structns3_1_1flame_1_1FlameProtocol_1_1Statistics_a6e9193135a5ce66fc2195afe99118bb9}{txBytes} += packet->GetSize ();
252           flameHdr.AddCost (1);
253           packet->AddHeader (flameHdr);
254           packet->AddPacketTag (tag);
255           routeReply (\textcolor{keyword}{true}, packet, source, destination, \hyperlink{classns3_1_1flame_1_1FlameProtocol_a3d4799f4e6ee746e8e47cae132330c76}{FLAME\_PROTOCOL}, result.ifIndex);
256           \textcolor{keywordflow}{return} \textcolor{keyword}{true};
257         \}
258       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
259     \}
260   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
261 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11


\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!Reset\+Stats@{Reset\+Stats}}
\index{Reset\+Stats@{Reset\+Stats}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{Reset\+Stats()}{ResetStats()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::flame\+::\+Flame\+Protocol\+::\+Reset\+Stats (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1flame_1_1FlameProtocol_ab93a741052cafb5e9ee8caa6e4262119}{}\label{classns3_1_1flame_1_1FlameProtocol_ab93a741052cafb5e9ee8caa6e4262119}


Reset statistics function. 


\begin{DoxyCode}
384 \{
385   \hyperlink{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{m\_stats} = Statistics ();
386   \textcolor{keywordflow}{for} (FlamePluginMap::const\_iterator \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin} = \hyperlink{classns3_1_1flame_1_1FlameProtocol_ad8595153b7695efc169354d570625d24}{m\_interfaces}.begin (); 
      \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin} != \hyperlink{classns3_1_1flame_1_1FlameProtocol_ad8595153b7695efc169354d570625d24}{m\_interfaces}.end (); \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin}++)
387     \{
388       \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin}->second->ResetStats ();
389     \}
390 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12




Here is the caller graph for this function\+:
% FIG 13




\subsection{Member Data Documentation}
\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!F\+L\+A\+M\+E\+\_\+\+P\+R\+O\+T\+O\+C\+OL@{F\+L\+A\+M\+E\+\_\+\+P\+R\+O\+T\+O\+C\+OL}}
\index{F\+L\+A\+M\+E\+\_\+\+P\+R\+O\+T\+O\+C\+OL@{F\+L\+A\+M\+E\+\_\+\+P\+R\+O\+T\+O\+C\+OL}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{F\+L\+A\+M\+E\+\_\+\+P\+R\+O\+T\+O\+C\+OL}{FLAME_PROTOCOL}}]{\setlength{\rightskip}{0pt plus 5cm}const uint16\+\_\+t ns3\+::flame\+::\+Flame\+Protocol\+::\+F\+L\+A\+M\+E\+\_\+\+P\+R\+O\+T\+O\+C\+OL = 0x4040\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a3d4799f4e6ee746e8e47cae132330c76}{}\label{classns3_1_1flame_1_1FlameProtocol_a3d4799f4e6ee746e8e47cae132330c76}


L\+LC protocol number reserved by flame. 

\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!m\+\_\+address@{m\+\_\+address}}
\index{m\+\_\+address@{m\+\_\+address}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+address}{m_address}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::flame\+::\+Flame\+Protocol\+::m\+\_\+address\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_aa14edf4450c8657c9e42dde32bc82df6}{}\label{classns3_1_1flame_1_1FlameProtocol_aa14edf4450c8657c9e42dde32bc82df6}


address 

\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!m\+\_\+broadcast\+Interval@{m\+\_\+broadcast\+Interval}}
\index{m\+\_\+broadcast\+Interval@{m\+\_\+broadcast\+Interval}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+broadcast\+Interval}{m_broadcastInterval}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::flame\+::\+Flame\+Protocol\+::m\+\_\+broadcast\+Interval\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a1c150d8b0802a20889fd125b804b24e2}{}\label{classns3_1_1flame_1_1FlameProtocol_a1c150d8b0802a20889fd125b804b24e2}
\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!m\+\_\+interfaces@{m\+\_\+interfaces}}
\index{m\+\_\+interfaces@{m\+\_\+interfaces}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+interfaces}{m_interfaces}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Flame\+Plugin\+Map} ns3\+::flame\+::\+Flame\+Protocol\+::m\+\_\+interfaces\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_ad8595153b7695efc169354d570625d24}{}\label{classns3_1_1flame_1_1FlameProtocol_ad8595153b7695efc169354d570625d24}


interfaces 

\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!m\+\_\+last\+Broadcast@{m\+\_\+last\+Broadcast}}
\index{m\+\_\+last\+Broadcast@{m\+\_\+last\+Broadcast}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Broadcast}{m_lastBroadcast}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::flame\+::\+Flame\+Protocol\+::m\+\_\+last\+Broadcast\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a9ea666e71f74654772318563e939df7f}{}\label{classns3_1_1flame_1_1FlameProtocol_a9ea666e71f74654772318563e939df7f}
\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!m\+\_\+max\+Cost@{m\+\_\+max\+Cost}}
\index{m\+\_\+max\+Cost@{m\+\_\+max\+Cost}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+max\+Cost}{m_maxCost}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::flame\+::\+Flame\+Protocol\+::m\+\_\+max\+Cost\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a858e22014925c21b3773fdf414ff3064}{}\label{classns3_1_1flame_1_1FlameProtocol_a858e22014925c21b3773fdf414ff3064}


Max Cost value (or T\+TL, because cost is actually hopcount) 

\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!m\+\_\+my\+Last\+Seqno@{m\+\_\+my\+Last\+Seqno}}
\index{m\+\_\+my\+Last\+Seqno@{m\+\_\+my\+Last\+Seqno}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+my\+Last\+Seqno}{m_myLastSeqno}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::flame\+::\+Flame\+Protocol\+::m\+\_\+my\+Last\+Seqno\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a51d2e538c9c79ad9ab1dff63a957515f}{}\label{classns3_1_1flame_1_1FlameProtocol_a51d2e538c9c79ad9ab1dff63a957515f}


Sequence number\+: 

\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!m\+\_\+rtable@{m\+\_\+rtable}}
\index{m\+\_\+rtable@{m\+\_\+rtable}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+rtable}{m_rtable}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Flame\+Rtable}$>$ ns3\+::flame\+::\+Flame\+Protocol\+::m\+\_\+rtable\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a6165f21594140afd0df03510fb61eb33}{}\label{classns3_1_1flame_1_1FlameProtocol_a6165f21594140afd0df03510fb61eb33}


Routing table\+: 

\index{ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}!m\+\_\+stats@{m\+\_\+stats}}
\index{m\+\_\+stats@{m\+\_\+stats}!ns3\+::flame\+::\+Flame\+Protocol@{ns3\+::flame\+::\+Flame\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+stats}{m_stats}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Statistics} ns3\+::flame\+::\+Flame\+Protocol\+::m\+\_\+stats\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}{}\label{classns3_1_1flame_1_1FlameProtocol_a9f33727e9f2483dc9d929a7a82956e0c}


statistics 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
mesh/model/flame/\hyperlink{flame-protocol_8h}{flame-\/protocol.\+h}\item 
mesh/model/flame/\hyperlink{flame-protocol_8cc}{flame-\/protocol.\+cc}\end{DoxyCompactItemize}
