\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac}{}\section{ns3\+:\+:dot11s\+:\+:Peer\+Management\+Protocol\+Mac Class Reference}
\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac}\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}


This is plugin to Mesh Wi\+Fi M\+AC, which implements the interface to \hyperlink{namespacens3_1_1dot11s}{dot11s} peer management protocol\+: it takes proper frames from M\+A\+C-\/layer, extracts peer link management information element and mesh configuration element and passes it to main part of protocol.  




{\ttfamily \#include $<$peer-\/management-\/protocol-\/mac.\+h$>$}



Inheritance diagram for ns3\+:\+:dot11s\+:\+:Peer\+Management\+Protocol\+Mac\+:
% FIG 0


Collaboration diagram for ns3\+:\+:dot11s\+:\+:Peer\+Management\+Protocol\+Mac\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1PlinkFrameStart}{Plink\+Frame\+Start}
\begin{DoxyCompactList}\small\item\em This structure keeps all fields in peer link management frame, which are not subclasses of \hyperlink{classns3_1_1WifiInformationElement}{Wifi\+Information\+Element}. \end{DoxyCompactList}\item 
struct \hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics}{Statistics}
\begin{DoxyCompactList}\small\item\em \hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics}{Statistics} structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a416514b3215257dacc973e5020590a81}{Peer\+Management\+Protocol\+Mac} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol}{Peer\+Management\+Protocol} $>$ protocol)
\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aab93a3407af2e9d0335c457175aafa87}{$\sim$\+Peer\+Management\+Protocol\+Mac} ()
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a23001a924ac221192ef4a35d2e56c844}{Set\+Parent} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MeshWifiInterfaceMac}{Mesh\+Wifi\+Interface\+Mac} $>$ parent)
\item 
bool \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a2c235d74f54dc4f10d0bb6454f27a421}{Receive} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&header)
\item 
bool \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a124edd9a9cce0b323ff5118d6f0b4069}{Update\+Outcoming\+Frame} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&header, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from}, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to)
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a47a86b6b3fca4339460cc7cf1f479430}{Update\+Beacon} (\hyperlink{classns3_1_1MeshWifiBeacon}{Mesh\+Wifi\+Beacon} \&beacon) const 
\item 
int64\+\_\+t \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a8cf18a872519853fd08bdd1a9abec774}{Assign\+Streams} (int64\+\_\+t stream)
\end{DoxyCompactItemize}
\begin{Indent}{\bf Statistics}\par
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a74a34708f19d4a7855f2bd9b7a12a8e8}{Report} (std\+::ostream \&) const 
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a8cecca792d7be6b233219d6a9cf6f870}{Reset\+Stats} ()
\item 
uint32\+\_\+t \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_ae20fbb02a44f125a7eb3f8322b120f33}{Get\+Link\+Metric} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address)
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac}{Peer\+Management\+Protocol\+Mac} \& \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a1817dc5f93dbee52366e30a4591884c9}{operator=} (const \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac}{Peer\+Management\+Protocol\+Mac} \&)
\begin{DoxyCompactList}\small\item\em assignment operator \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a2553be8393140712568d053016ff5687}{Peer\+Management\+Protocol\+Mac} (const \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac}{Peer\+Management\+Protocol\+Mac} \&)
\begin{DoxyCompactList}\small\item\em type conversion operator \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a8c4bce3c9391b9b462fade70ee4ae648}{Tx\+Error} (\hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} const \&hdr)
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a33eafda3353963be4f54a2b58eea768a}{Tx\+Ok} (\hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} const \&hdr)
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afcfc9bef3d8ea6b6cfc25816aa5fe582}{Set\+Beacon\+Shift} (\hyperlink{classns3_1_1Time}{Time} shift)
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a734f2c51efc32382a8b171e9348d171a}{Set\+Peer\+Manager\+Protcol} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol}{Peer\+Management\+Protocol} $>$ protocol)
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_ac115ede0884b0aab008867d5f4354e38}{Send\+Peer\+Link\+Management\+Frame} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Mp\+Address, uint16\+\_\+t aid, \hyperlink{classns3_1_1dot11s_1_1IePeerManagement}{Ie\+Peer\+Management} peer\+Element, \hyperlink{classns3_1_1dot11s_1_1IeConfiguration}{Ie\+Configuration} mesh\+Config)
\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a2396098d72f79ddb9283675c03d33c7c}{Get\+Address} () const 
\begin{DoxyCompactList}\small\item\em debug only, used to print established links \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}{\bf Create peer link management frames}\par
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a3d2eeec69a8179cdf8bfa1f92b979010}{Create\+Peer\+Link\+Open\+Frame} ()
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a9820179039c93ef3773cddf02c3fc26d}{Create\+Peer\+Link\+Confirm\+Frame} ()
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a72d69e2684162fd61659a03da35cfcf3}{Create\+Peer\+Link\+Close\+Frame} ()
\item 
\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1PlinkFrameStart}{Plink\+Frame\+Start} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_ab5395cf6a234acc5b4a9b8eb7ede141f}{Parse\+Plink\+Frame} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet)
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics}{Statistics} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\+\_\+stats}
\end{DoxyCompactItemize}
\begin{Indent}{\bf Information about M\+AC and protocol\+:}\par
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MeshWifiInterfaceMac}{Mesh\+Wifi\+Interface\+Mac} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\+\_\+parent}
\begin{DoxyCompactList}\small\item\em parent \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\+\_\+if\+Index}
\begin{DoxyCompactList}\small\item\em IF index. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol}{Peer\+Management\+Protocol} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\+\_\+protocol}
\begin{DoxyCompactList}\small\item\em protocol \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aad3da9b62656f5a6e24156893dc4e239}{Peer\+Management\+Protocol}
\item 
class \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a0e7a63dea9bb09d1e45d9e8fd62d3a40}{Peer\+Link}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This is plugin to Mesh Wi\+Fi M\+AC, which implements the interface to \hyperlink{namespacens3_1_1dot11s}{dot11s} peer management protocol\+: it takes proper frames from M\+A\+C-\/layer, extracts peer link management information element and mesh configuration element and passes it to main part of protocol. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Peer\+Management\+Protocol\+Mac@{Peer\+Management\+Protocol\+Mac}}
\index{Peer\+Management\+Protocol\+Mac@{Peer\+Management\+Protocol\+Mac}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Peer\+Management\+Protocol\+Mac(uint32\+\_\+t interface, Ptr$<$ Peer\+Management\+Protocol $>$ protocol)}{PeerManagementProtocolMac(uint32_t interface, Ptr< PeerManagementProtocol > protocol)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Peer\+Management\+Protocol\+Mac (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Ptr}$<$ {\bf Peer\+Management\+Protocol} $>$}]{protocol}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a416514b3215257dacc973e5020590a81}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a416514b3215257dacc973e5020590a81}
Constructor


\begin{DoxyParams}{Parameters}
{\em interface} & interface index \\
\hline
{\em protocol} & peer management protocol \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
40 \{
41   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex} = interface;
42   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol} = protocol;
43 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!````~Peer\+Management\+Protocol\+Mac@{$\sim$\+Peer\+Management\+Protocol\+Mac}}
\index{````~Peer\+Management\+Protocol\+Mac@{$\sim$\+Peer\+Management\+Protocol\+Mac}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{$\sim$\+Peer\+Management\+Protocol\+Mac()}{~PeerManagementProtocolMac()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::$\sim$\+Peer\+Management\+Protocol\+Mac (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aab93a3407af2e9d0335c457175aafa87}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aab93a3407af2e9d0335c457175aafa87}

\begin{DoxyCode}
46 \{
47 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Peer\+Management\+Protocol\+Mac@{Peer\+Management\+Protocol\+Mac}}
\index{Peer\+Management\+Protocol\+Mac@{Peer\+Management\+Protocol\+Mac}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Peer\+Management\+Protocol\+Mac(const Peer\+Management\+Protocol\+Mac \&)}{PeerManagementProtocolMac(const PeerManagementProtocolMac &)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Peer\+Management\+Protocol\+Mac (
\begin{DoxyParamCaption}
\item[{const {\bf Peer\+Management\+Protocol\+Mac} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a2553be8393140712568d053016ff5687}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a2553be8393140712568d053016ff5687}


type conversion operator 



\subsection{Member Function Documentation}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Assign\+Streams@{Assign\+Streams}}
\index{Assign\+Streams@{Assign\+Streams}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Assign\+Streams(int64\+\_\+t stream)}{AssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a8cf18a872519853fd08bdd1a9abec774}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a8cf18a872519853fd08bdd1a9abec774}
Assign the streams 
\begin{DoxyParams}{Parameters}
{\em stream} & the stream to assign \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the assigned stream 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1MeshWifiInterfaceMacPlugin_a04c64b14381481b5caa0c7e65c7af0e3}{ns3\+::\+Mesh\+Wifi\+Interface\+Mac\+Plugin}.


\begin{DoxyCode}
388 \{ 
389   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->AssignStreams (stream);
390 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Create\+Peer\+Link\+Close\+Frame@{Create\+Peer\+Link\+Close\+Frame}}
\index{Create\+Peer\+Link\+Close\+Frame@{Create\+Peer\+Link\+Close\+Frame}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Create\+Peer\+Link\+Close\+Frame()}{CreatePeerLinkCloseFrame()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Create\+Peer\+Link\+Close\+Frame (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a72d69e2684162fd61659a03da35cfcf3}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a72d69e2684162fd61659a03da35cfcf3}
Create peer link clode frame function \begin{DoxyReturn}{Returns}
the packet 
\end{DoxyReturn}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Create\+Peer\+Link\+Confirm\+Frame@{Create\+Peer\+Link\+Confirm\+Frame}}
\index{Create\+Peer\+Link\+Confirm\+Frame@{Create\+Peer\+Link\+Confirm\+Frame}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Create\+Peer\+Link\+Confirm\+Frame()}{CreatePeerLinkConfirmFrame()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Create\+Peer\+Link\+Confirm\+Frame (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a9820179039c93ef3773cddf02c3fc26d}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a9820179039c93ef3773cddf02c3fc26d}
Create peer link confirm frame function \begin{DoxyReturn}{Returns}
the packet 
\end{DoxyReturn}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Create\+Peer\+Link\+Open\+Frame@{Create\+Peer\+Link\+Open\+Frame}}
\index{Create\+Peer\+Link\+Open\+Frame@{Create\+Peer\+Link\+Open\+Frame}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Create\+Peer\+Link\+Open\+Frame()}{CreatePeerLinkOpenFrame()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Create\+Peer\+Link\+Open\+Frame (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a3d2eeec69a8179cdf8bfa1f92b979010}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a3d2eeec69a8179cdf8bfa1f92b979010}
Create peer link open frame function \begin{DoxyReturn}{Returns}
the packet 
\end{DoxyReturn}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Get\+Address@{Get\+Address}}
\index{Get\+Address@{Get\+Address}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Address() const }{GetAddress() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Get\+Address (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a2396098d72f79ddb9283675c03d33c7c}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a2396098d72f79ddb9283675c03d33c7c}


debug only, used to print established links 


\begin{DoxyCode}
326 \{
327   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent} != 0)
328     \{
329       \textcolor{keywordflow}{return} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->GetAddress ();
330     \}
331   \textcolor{keywordflow}{else}
332     \{
333       \textcolor{keywordflow}{return} Mac48Address ();
334     \}
335 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Get\+Link\+Metric@{Get\+Link\+Metric}}
\index{Get\+Link\+Metric@{Get\+Link\+Metric}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Link\+Metric(\+Mac48\+Address peer\+Address)}{GetLinkMetric(Mac48Address peerAddress)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Get\+Link\+Metric (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{peer\+Address}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_ae20fbb02a44f125a7eb3f8322b120f33}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_ae20fbb02a44f125a7eb3f8322b120f33}

\begin{DoxyCode}
383 \{
384   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->GetLinkMetric (peerAddress);
385 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!operator=@{operator=}}
\index{operator=@{operator=}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{operator=(const Peer\+Management\+Protocol\+Mac \&)}{operator=(const PeerManagementProtocolMac &)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Peer\+Management\+Protocol\+Mac}\& ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::operator= (
\begin{DoxyParamCaption}
\item[{const {\bf Peer\+Management\+Protocol\+Mac} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a1817dc5f93dbee52366e30a4591884c9}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a1817dc5f93dbee52366e30a4591884c9}


assignment operator 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Parse\+Plink\+Frame@{Parse\+Plink\+Frame}}
\index{Parse\+Plink\+Frame@{Parse\+Plink\+Frame}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Parse\+Plink\+Frame(\+Ptr$<$ const Packet $>$ packet)}{ParsePlinkFrame(Ptr< const Packet > packet)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Plink\+Frame\+Start} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Parse\+Plink\+Frame (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_ab5395cf6a234acc5b4a9b8eb7ede141f}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_ab5395cf6a234acc5b4a9b8eb7ede141f}
Parses the start of the frame, where no Wifi\+Information\+Elements exist 
\begin{DoxyParams}{Parameters}
{\em packet} & the packet \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1PlinkFrameStart}{Plink\+Frame\+Start} 
\end{DoxyReturn}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Receive@{Receive}}
\index{Receive@{Receive}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Receive(\+Ptr$<$ Packet $>$ packet, const Wifi\+Mac\+Header \&header)}{Receive(Ptr< Packet > packet, const WifiMacHeader &header)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Receive (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} \&}]{header}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a2c235d74f54dc4f10d0bb6454f27a421}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a2c235d74f54dc4f10d0bb6454f27a421}
Receive and process a packet 
\begin{DoxyParams}{Parameters}
{\em packet} & the packet received \\
\hline
{\em header} & the header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if received 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1MeshWifiInterfaceMacPlugin_a36279337239f8cbdb31162221e192236}{ns3\+::\+Mesh\+Wifi\+Interface\+Mac\+Plugin}.


\begin{DoxyCode}
68 \{
69   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << const\_packet << header);
70   \textcolor{comment}{// First of all we copy a packet, because we need to remove some}
71   \textcolor{comment}{//headers}
72   Ptr<Packet> packet = const\_packet->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} ();
73   \textcolor{keywordflow}{if} (header.IsBeacon ())
74     \{
75       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Is Beacon from "} << header.GetAddr2 ());
76       MgtBeaconHeader beacon\_hdr;
77       packet->RemoveHeader (beacon\_hdr);
78       MeshInformationElementVector elements;
79       packet->RemoveHeader (elements);
80       Ptr<IeBeaconTiming> beaconTiming = DynamicCast<IeBeaconTiming> (elements.FindFirst (
      \hyperlink{wifi-information-element_8h_a69575a38a31ff7556fa0f2e74aaf6dc7}{IE\_BEACON\_TIMING}));
81       Ptr<IeMeshId> meshId = DynamicCast<IeMeshId> (elements.FindFirst (
      \hyperlink{wifi-information-element_8h_ae2847c76aa4afaa18011e77c32a7a752}{IE\_MESH\_ID}));
82 
83       \textcolor{keywordflow}{if} ((meshId != 0) && (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetMeshId ()->IsEqual (*meshId)))
84         \{
85           \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->ReceiveBeacon (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, header.GetAddr2 (), 
      \hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (
86                                        beacon\_hdr.GetBeaconIntervalUs ()), beaconTiming);
87         \}
88       \textcolor{keywordflow}{else}
89         \{
90           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"MeshId mismatch "} << \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetMeshId ()->PeekString ()
       << \textcolor{stringliteral}{" "} << (*meshId) << \textcolor{stringliteral}{"; ignoring"});
91         \}
92       \textcolor{comment}{// Beacon shall not be dropped. May be needed to another plugins}
93       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
94     \}
95   uint16\_t aid = 0;  \textcolor{comment}{// applicable only in Confirm message}
96   IeConfiguration config;
97   \textcolor{keywordflow}{if} (header.IsAction ())
98     \{
99       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Is action"});
100       WifiActionHeader actionHdr;
101       packet->RemoveHeader (actionHdr);
102       WifiActionHeader::ActionValue actionValue = actionHdr.GetAction ();
103       \textcolor{comment}{// If can not handle - just return;}
104       \textcolor{keywordflow}{if} (actionHdr.GetCategory () != \hyperlink{classns3_1_1WifiActionHeader_a5402becd11b4077f22d76c4d0d923358a0d41e6327b2a9ae590e3020f378e40e4}{WifiActionHeader::SELF\_PROTECTED})
105         \{
106           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Cannot handle non SELF PROTECTED"});
107           \textcolor{keywordflow}{return} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->IsActiveLink (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, header.GetAddr2 ());
108         \}
109       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a81b9bf9b57ca90e50875074957f9fc43}{rxMgt}++;
110       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_adc42ee988c9fedca9588af7e403046f0}{rxMgtBytes} += packet->GetSize ();
111       Mac48Address peerAddress = header.GetAddr2 ();
112       Mac48Address peerMpAddress = header.GetAddr3 ();
113       \textcolor{keywordflow}{if} (actionValue.selfProtectedAction == \hyperlink{classns3_1_1WifiActionHeader_a17cfd6c8f685a44e7b7b832cc9a53e83a5d1c8a5ef38c884f951cfe32e03ca572}{WifiActionHeader::PEER\_LINK\_OPEN}
      )
114         \{
115           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Received PEER\_LINK\_OPEN"});
116           PeerLinkOpenStart::PlinkOpenStartFields fields;
117           PeerLinkOpenStart peerFrame;
118           packet->RemoveHeader (peerFrame);
119           fields = peerFrame.GetFields ();
120           \textcolor{keywordflow}{if} (!fields.meshId.IsEqual ( *(\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetMeshId ())))
121             \{
122               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"PEER\_LINK\_OPEN:  MeshId mismatch"});
123               \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->ConfigurationMismatch (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, peerAddress);
124               \textcolor{comment}{// Broken peer link frame - drop it}
125               \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a7ec552294be33835a15ec7002fe5d723}{brokenMgt}++;
126               \textcolor{keywordflow}{return} \textcolor{keyword}{false};
127             \}
128           \textcolor{keywordflow}{if} (!(\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->CheckSupportedRates (fields.rates)))
129             \{
130               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"PEER\_LINK\_OPEN:  configuration mismatch"});
131               \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->ConfigurationMismatch (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, peerAddress);
132               \textcolor{comment}{// Broken peer link frame - drop it}
133               \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a7ec552294be33835a15ec7002fe5d723}{brokenMgt}++;
134               \textcolor{keywordflow}{return} \textcolor{keyword}{false};
135             \}
136           config = fields.config;
137         \}
138       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (actionValue.selfProtectedAction == 
      \hyperlink{classns3_1_1WifiActionHeader_a17cfd6c8f685a44e7b7b832cc9a53e83a89961b879d58204ada067ee8dbbde06e}{WifiActionHeader::PEER\_LINK\_CONFIRM})
139         \{
140           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Received PEER\_LINK\_CONFIRM"});
141           PeerLinkConfirmStart::PlinkConfirmStartFields fields;
142           PeerLinkConfirmStart peerFrame;
143           packet->RemoveHeader (peerFrame);
144           fields = peerFrame.GetFields ();
145           \textcolor{keywordflow}{if} (!(\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->CheckSupportedRates (fields.rates)))
146             \{
147               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"PEER\_LINK\_CONFIRM:  configuration mismatch"});
148               \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->ConfigurationMismatch (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, peerAddress);
149               \textcolor{comment}{// Broken peer link frame - drop it}
150               \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a7ec552294be33835a15ec7002fe5d723}{brokenMgt}++;
151               \textcolor{keywordflow}{return} \textcolor{keyword}{false};
152             \}
153           aid = fields.aid;
154           config = fields.config;
155         \}
156       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (actionValue.selfProtectedAction == 
      \hyperlink{classns3_1_1WifiActionHeader_a17cfd6c8f685a44e7b7b832cc9a53e83a809630e6f0c535ffe43ea071edacc7fd}{WifiActionHeader::PEER\_LINK\_CLOSE})
157         \{
158           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Received PEER\_LINK\_CLOSE"});
159           PeerLinkCloseStart::PlinkCloseStartFields fields;
160           PeerLinkCloseStart peerFrame;
161           packet->RemoveHeader (peerFrame);
162           fields = peerFrame.GetFields ();
163           \textcolor{keywordflow}{if} (!fields.meshId.IsEqual ( *(\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetMeshId ())))
164             \{
165               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"PEER\_LINK\_CLOSE:  configuration mismatch"});
166               \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->ConfigurationMismatch (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, peerAddress);
167               \textcolor{comment}{// Broken peer link frame - drop it}
168               \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a7ec552294be33835a15ec7002fe5d723}{brokenMgt}++;
169               \textcolor{keywordflow}{return} \textcolor{keyword}{false};
170             \}
171         \}
172       \textcolor{keywordflow}{else}
173         \{
174           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown Self-protected Action type: "} << actionValue.
      selfProtectedAction);
175         \}
176       Ptr<IePeerManagement> peerElement;
177       \textcolor{comment}{//Peer Management element is the last element in this frame - so, we can use
       MeshInformationElementVector}
178       MeshInformationElementVector elements;
179       packet->RemoveHeader (elements);
180       peerElement = DynamicCast<IePeerManagement>(elements.FindFirst (
      \hyperlink{wifi-information-element_8h_ac165cb06d15fc79753f1bdcc8ac6b734}{IE\_MESH\_PEERING\_MANAGEMENT}));
181 
182       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (peerElement != 0);
183       \textcolor{comment}{//Check that frame subtype corresponds to peer link subtype}
184       \textcolor{keywordflow}{if} (peerElement->SubtypeIsOpen ())
185         \{
186           \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_aade324d2b21b1f3cd47e95dd6057a1eb}{rxOpen}++;
187           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (actionValue.selfProtectedAction == 
      \hyperlink{classns3_1_1WifiActionHeader_a17cfd6c8f685a44e7b7b832cc9a53e83a5d1c8a5ef38c884f951cfe32e03ca572}{WifiActionHeader::PEER\_LINK\_OPEN});
188         \}
189       \textcolor{keywordflow}{if} (peerElement->SubtypeIsConfirm ())
190         \{
191           \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a6e0fcebfd07b428ac04e6a81ecf9fc77}{rxConfirm}++;
192           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (actionValue.selfProtectedAction == 
      \hyperlink{classns3_1_1WifiActionHeader_a17cfd6c8f685a44e7b7b832cc9a53e83a89961b879d58204ada067ee8dbbde06e}{WifiActionHeader::PEER\_LINK\_CONFIRM}); 
193         \}
194       \textcolor{keywordflow}{if} (peerElement->SubtypeIsClose ())
195         \{
196           \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a6f248487a20fb8294d3eb5357f1680e3}{rxClose}++;
197           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (actionValue.selfProtectedAction == 
      \hyperlink{classns3_1_1WifiActionHeader_a17cfd6c8f685a44e7b7b832cc9a53e83a809630e6f0c535ffe43ea071edacc7fd}{WifiActionHeader::PEER\_LINK\_CLOSE}); 
198         \}
199       \textcolor{comment}{//Deliver Peer link management frame to protocol:}
200       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->ReceivePeerLinkFrame (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, peerAddress, peerMpAddress, aid, *
      peerElement, config);
201       \textcolor{comment}{// if we can handle a frame - drop it}
202       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
203     \}
204   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->IsActiveLink (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, header.GetAddr2 ());
205 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Report@{Report}}
\index{Report@{Report}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Report(std\+::ostream \&) const }{Report(std::ostream &) const }}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Report (
\begin{DoxyParamCaption}
\item[{std\+::ostream \&}]{os}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a74a34708f19d4a7855f2bd9b7a12a8e8}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a74a34708f19d4a7855f2bd9b7a12a8e8}

\begin{DoxyCode}
370 \{
371   os << \textcolor{stringliteral}{"<PeerManagementProtocolMac "}
372   \textcolor{stringliteral}{"address=\(\backslash\)""} << \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->GetAddress () << \textcolor{stringliteral}{"\(\backslash\)">"} << std::endl;
373   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a87ebe882e5a23a5d1c287ff554c07a76}{Print} (os);
374   os << \textcolor{stringliteral}{"</PeerManagementProtocolMac>"} << std::endl;
375 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Reset\+Stats@{Reset\+Stats}}
\index{Reset\+Stats@{Reset\+Stats}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Reset\+Stats()}{ResetStats()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Reset\+Stats (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a8cecca792d7be6b233219d6a9cf6f870}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a8cecca792d7be6b233219d6a9cf6f870}

\begin{DoxyCode}
378 \{
379   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats} = Statistics ();
380 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Send\+Peer\+Link\+Management\+Frame@{Send\+Peer\+Link\+Management\+Frame}}
\index{Send\+Peer\+Link\+Management\+Frame@{Send\+Peer\+Link\+Management\+Frame}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Send\+Peer\+Link\+Management\+Frame(\+Mac48\+Address peer\+Address, Mac48\+Address peer\+Mp\+Address, uint16\+\_\+t aid, Ie\+Peer\+Management peer\+Element, Ie\+Configuration mesh\+Config)}{SendPeerLinkManagementFrame(Mac48Address peerAddress, Mac48Address peerMpAddress, uint16_t aid, IePeerManagement peerElement, IeConfiguration meshConfig)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Send\+Peer\+Link\+Management\+Frame (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{peer\+Address, }
\item[{{\bf Mac48\+Address}}]{peer\+Mp\+Address, }
\item[{uint16\+\_\+t}]{aid, }
\item[{{\bf Ie\+Peer\+Management}}]{peer\+Element, }
\item[{{\bf Ie\+Configuration}}]{mesh\+Config}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_ac115ede0884b0aab008867d5f4354e38}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_ac115ede0884b0aab008867d5f4354e38}
Send peer link management frame function 
\begin{DoxyParams}{Parameters}
{\em peer\+Address} & the peer M\+AC address \\
\hline
{\em peer\+Mp\+Address} & the peer MP address \\
\hline
{\em aid} & the A\+ID \\
\hline
{\em peer\+Element} & \hyperlink{classns3_1_1dot11s_1_1IePeerManagement}{Ie\+Peer\+Management} \\
\hline
{\em mesh\+Config} & \hyperlink{classns3_1_1dot11s_1_1IeConfiguration}{Ie\+Configuration} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
252 \{
253   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << peerAddress << peerMpAddress);
254   \textcolor{comment}{//Create a packet:}
255   meshConfig.SetNeighborCount (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetNumberOfLinks ());
256   Ptr<Packet> packet = Create<Packet> ();
257   MeshInformationElementVector elements;
258   elements.AddInformationElement (Ptr<IePeerManagement> (&peerElement));
259   packet->AddHeader (elements);
260   \textcolor{comment}{//Create an 802.11 frame header:}
261   \textcolor{comment}{//Send management frame to MAC:}
262   \textcolor{keywordflow}{if} (peerElement.SubtypeIsOpen ())
263     \{
264       PeerLinkOpenStart::PlinkOpenStartFields fields;
265       fields.rates = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->GetSupportedRates ();
266       fields.capability = 0;
267       fields.meshId = *(\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetMeshId ());
268       fields.config = meshConfig;
269       PeerLinkOpenStart plinkOpen;
270       WifiActionHeader actionHdr;
271       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a123e67cf28f2bc5fc27ae64dea07f5ab}{txOpen}++;
272       WifiActionHeader::ActionValue action;
273       action.selfProtectedAction = \hyperlink{classns3_1_1WifiActionHeader_a17cfd6c8f685a44e7b7b832cc9a53e83a5d1c8a5ef38c884f951cfe32e03ca572}{WifiActionHeader::PEER\_LINK\_OPEN};
274       actionHdr.SetAction (\hyperlink{classns3_1_1WifiActionHeader_a5402becd11b4077f22d76c4d0d923358a0d41e6327b2a9ae590e3020f378e40e4}{WifiActionHeader::SELF\_PROTECTED}, action); 
275       plinkOpen.SetPlinkOpenStart (fields);
276       packet->AddHeader (plinkOpen);
277       packet->AddHeader (actionHdr);
278     \}
279   \textcolor{keywordflow}{if} (peerElement.SubtypeIsConfirm ())
280     \{
281       PeerLinkConfirmStart::PlinkConfirmStartFields fields;
282       fields.rates = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->GetSupportedRates ();
283       fields.capability = 0;
284       fields.config = meshConfig;
285       PeerLinkConfirmStart plinkConfirm;
286       WifiActionHeader actionHdr;
287       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a355443c5159b773a2506e919d97df368}{txConfirm}++;
288       WifiActionHeader::ActionValue action;
289       action.selfProtectedAction = \hyperlink{classns3_1_1WifiActionHeader_a17cfd6c8f685a44e7b7b832cc9a53e83a89961b879d58204ada067ee8dbbde06e}{WifiActionHeader::PEER\_LINK\_CONFIRM}; 
290       fields.aid = aid;
291       actionHdr.SetAction (\hyperlink{classns3_1_1WifiActionHeader_a5402becd11b4077f22d76c4d0d923358a0d41e6327b2a9ae590e3020f378e40e4}{WifiActionHeader::SELF\_PROTECTED}, action); 
292       plinkConfirm.SetPlinkConfirmStart (fields);
293       packet->AddHeader (plinkConfirm);
294       packet->AddHeader (actionHdr);
295     \}
296   \textcolor{keywordflow}{if} (peerElement.SubtypeIsClose ())
297     \{
298       PeerLinkCloseStart::PlinkCloseStartFields fields;
299       fields.meshId = *(\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetMeshId ());
300       PeerLinkCloseStart plinkClose;
301       WifiActionHeader actionHdr;
302       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a7f74d573fa1dd232091d43a96294b188}{txClose}++;
303       WifiActionHeader::ActionValue action;
304       action.selfProtectedAction = \hyperlink{classns3_1_1WifiActionHeader_a17cfd6c8f685a44e7b7b832cc9a53e83a809630e6f0c535ffe43ea071edacc7fd}{WifiActionHeader::PEER\_LINK\_CLOSE}; 
305       actionHdr.SetAction (\hyperlink{classns3_1_1WifiActionHeader_a5402becd11b4077f22d76c4d0d923358a0d41e6327b2a9ae590e3020f378e40e4}{WifiActionHeader::SELF\_PROTECTED}, action); 
306       plinkClose.SetPlinkCloseStart (fields);
307       packet->AddHeader (plinkClose);
308       packet->AddHeader (actionHdr);
309     \}
310   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_aca8d471dcea8a661adac26f971ccbd36}{txMgt}++;
311   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a6fb1958b783dd095597f2c66c5276f01}{txMgtBytes} += packet->GetSize ();
312   \textcolor{comment}{// Wifi Mac header:}
313   WifiMacHeader hdr;
314   hdr.SetAction ();
315   hdr.SetAddr1 (peerAddress);
316   hdr.SetAddr2 (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->GetAddress ());
317   \textcolor{comment}{//Addr is not used here, we use it as our MP address}
318   hdr.SetAddr3 (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetAddress ());
319   hdr.SetDsNotFrom ();
320   hdr.SetDsNotTo ();
321   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->SendManagementFrame (packet, hdr);
322 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Set\+Beacon\+Shift@{Set\+Beacon\+Shift}}
\index{Set\+Beacon\+Shift@{Set\+Beacon\+Shift}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Beacon\+Shift(\+Time shift)}{SetBeaconShift(Time shift)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Set\+Beacon\+Shift (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{shift}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afcfc9bef3d8ea6b6cfc25816aa5fe582}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afcfc9bef3d8ea6b6cfc25816aa5fe582}
Set beacon shift function 
\begin{DoxyParams}{Parameters}
{\em shift} & the beacon time shift \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
338 \{
339   \textcolor{keywordflow}{if} (shift != \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0))
340     \{
341       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_acef3a393e72e50f8b2e519385976df30}{beaconShift}++;
342     \}
343   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->ShiftTbtt (shift);
344 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Set\+Parent@{Set\+Parent}}
\index{Set\+Parent@{Set\+Parent}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Parent(\+Ptr$<$ Mesh\+Wifi\+Interface\+Mac $>$ parent)}{SetParent(Ptr< MeshWifiInterfaceMac > parent)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Set\+Parent (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mesh\+Wifi\+Interface\+Mac} $>$}]{parent}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a23001a924ac221192ef4a35d2e56c844}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a23001a924ac221192ef4a35d2e56c844}
Set pointer to parent 
\begin{DoxyParams}{Parameters}
{\em parent} & Ptr$<$\+Mesh\+Wifi\+Interface\+Mac$>$ \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1MeshWifiInterfaceMacPlugin_a9418207bcd6efc135baca7939cdc6f39}{ns3\+::\+Mesh\+Wifi\+Interface\+Mac\+Plugin}.


\begin{DoxyCode}
51 \{
52   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent} = parent;
53   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->TraceConnectWithoutContext (\textcolor{stringliteral}{"TxErrHeader"}, \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a8c4bce3c9391b9b462fade70ee4ae648}{PeerManagementProtocolMac::TxError}, \textcolor{keyword}{this}));
54   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{m\_parent}->TraceConnectWithoutContext (\textcolor{stringliteral}{"TxOkHeader"},  \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a33eafda3353963be4f54a2b58eea768a}{PeerManagementProtocolMac::TxOk},    \textcolor{keyword}{this}));
55 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Set\+Peer\+Manager\+Protcol@{Set\+Peer\+Manager\+Protcol}}
\index{Set\+Peer\+Manager\+Protcol@{Set\+Peer\+Manager\+Protcol}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Peer\+Manager\+Protcol(\+Ptr$<$ Peer\+Management\+Protocol $>$ protocol)}{SetPeerManagerProtcol(Ptr< PeerManagementProtocol > protocol)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Set\+Peer\+Manager\+Protcol (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Peer\+Management\+Protocol} $>$}]{protocol}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a734f2c51efc32382a8b171e9348d171a}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a734f2c51efc32382a8b171e9348d171a}
Set peer manager protocol function 
\begin{DoxyParams}{Parameters}
{\em protocol} & the peer manager protocol \\
\hline
\end{DoxyParams}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Tx\+Error@{Tx\+Error}}
\index{Tx\+Error@{Tx\+Error}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Tx\+Error(\+Wifi\+Mac\+Header const \&hdr)}{TxError(WifiMacHeader const &hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Tx\+Error (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Mac\+Header} const \&}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a8c4bce3c9391b9b462fade70ee4ae648}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a8c4bce3c9391b9b462fade70ee4ae648}
Closes link when a proper number of successive transmissions have failed 
\begin{DoxyParams}{Parameters}
{\em hdr} & the header \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
58 \{
59   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->TransmissionFailure (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, hdr.GetAddr1 ());
60 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Tx\+Ok@{Tx\+Ok}}
\index{Tx\+Ok@{Tx\+Ok}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Tx\+Ok(\+Wifi\+Mac\+Header const \&hdr)}{TxOk(WifiMacHeader const &hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Tx\+Ok (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Mac\+Header} const \&}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a33eafda3353963be4f54a2b58eea768a}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a33eafda3353963be4f54a2b58eea768a}
Transmit OK function 
\begin{DoxyParams}{Parameters}
{\em hdr} & the header \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
63 \{
64   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->TransmissionSuccess (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, hdr.GetAddr1 ());
65 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Update\+Beacon@{Update\+Beacon}}
\index{Update\+Beacon@{Update\+Beacon}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Update\+Beacon(\+Mesh\+Wifi\+Beacon \&beacon) const }{UpdateBeacon(MeshWifiBeacon &beacon) const }}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Update\+Beacon (
\begin{DoxyParamCaption}
\item[{{\bf Mesh\+Wifi\+Beacon} \&}]{beacon}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a47a86b6b3fca4339460cc7cf1f479430}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a47a86b6b3fca4339460cc7cf1f479430}
Add beacon timing and mesh ID information elements, and notify beacon sent 
\begin{DoxyParams}{Parameters}
{\em beacon} & the beacon \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1MeshWifiInterfaceMacPlugin_a918469724b1e324a30deaa9703cff3d1}{ns3\+::\+Mesh\+Wifi\+Interface\+Mac\+Plugin}.


\begin{DoxyCode}
239 \{
240   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetBeaconCollisionAvoidance ())
241     \{
242       Ptr<IeBeaconTiming> beaconTiming = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetBeaconTimingElement (
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex});
243       beacon.AddInformationElement (beaconTiming);
244     \}
245   beacon.AddInformationElement (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->GetMeshId ());
246   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->NotifyBeaconSent (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, beacon.GetBeaconInterval ());
247 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Update\+Outcoming\+Frame@{Update\+Outcoming\+Frame}}
\index{Update\+Outcoming\+Frame@{Update\+Outcoming\+Frame}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Update\+Outcoming\+Frame(\+Ptr$<$ Packet $>$ packet, Wifi\+Mac\+Header \&header, Mac48\+Address from, Mac48\+Address to)}{UpdateOutcomingFrame(Ptr< Packet > packet, WifiMacHeader &header, Mac48Address from, Mac48Address to)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::\+Update\+Outcoming\+Frame (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{{\bf Wifi\+Mac\+Header} \&}]{header, }
\item[{{\bf Mac48\+Address}}]{from, }
\item[{{\bf Mac48\+Address}}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a124edd9a9cce0b323ff5118d6f0b4069}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a124edd9a9cce0b323ff5118d6f0b4069}
This method appears to test a few conditions. If an action frame, it returns true if S\+E\+L\+F\+\_\+\+P\+R\+O\+T\+E\+C\+T\+ED. It then checks if it is either a broadcast or sent on an active link, and returns true if so. Otherwise, it returns false (indicating it is to be dropped) 
\begin{DoxyParams}{Parameters}
{\em packet} & the packet \\
\hline
{\em header} & the header \\
\hline
{\em from} & the M\+AC address of the sender \\
\hline
{\em to} & the M\+AC address of the receiver \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successful, false if to be dropped 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1MeshWifiInterfaceMacPlugin_af14bbe6ab750951c0291b0e4144d2caf}{ns3\+::\+Mesh\+Wifi\+Interface\+Mac\+Plugin}.


\begin{DoxyCode}
209 \{
210   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << header << \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from} << to);
211   \textcolor{keywordflow}{if} (header.IsAction ())
212     \{
213       WifiActionHeader actionHdr;
214       packet->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (actionHdr);
215       \textcolor{keywordflow}{if} (actionHdr.GetCategory () == \hyperlink{classns3_1_1WifiActionHeader_a5402becd11b4077f22d76c4d0d923358a0d41e6327b2a9ae590e3020f378e40e4}{WifiActionHeader::SELF\_PROTECTED}) 
216         \{
217           \textcolor{keywordflow}{return} \textcolor{keyword}{true};
218         \}
219     \}
220   \textcolor{keywordflow}{if} (header.GetAddr1 ().IsGroup ())
221     \{
222       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
223     \}
224   \textcolor{keywordflow}{else}
225     \{
226       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{m\_protocol}->IsActiveLink (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{m\_ifIndex}, header.GetAddr1 ()))
227         \{
228           \textcolor{keywordflow}{return} \textcolor{keyword}{true};
229         \}
230       \textcolor{keywordflow}{else}
231         \{
232           \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocolMac_1_1Statistics_a9c584bdb0d2f08ee00a2bd3ec4b4b062}{dropped}++;
233           \textcolor{keywordflow}{return} \textcolor{keyword}{false};
234         \}
235     \}
236 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




\subsection{Friends And Related Function Documentation}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Peer\+Link@{Peer\+Link}}
\index{Peer\+Link@{Peer\+Link}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Peer\+Link}{PeerLink}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Peer\+Link}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a0e7a63dea9bb09d1e45d9e8fd62d3a40}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a0e7a63dea9bb09d1e45d9e8fd62d3a40}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!Peer\+Management\+Protocol@{Peer\+Management\+Protocol}}
\index{Peer\+Management\+Protocol@{Peer\+Management\+Protocol}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{Peer\+Management\+Protocol}{PeerManagementProtocol}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Peer\+Management\+Protocol}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aad3da9b62656f5a6e24156893dc4e239}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aad3da9b62656f5a6e24156893dc4e239}


\subsection{Member Data Documentation}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!m\+\_\+if\+Index@{m\+\_\+if\+Index}}
\index{m\+\_\+if\+Index@{m\+\_\+if\+Index}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+if\+Index}{m_ifIndex}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::m\+\_\+if\+Index\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a6127e7b929975cae23d8ef639e254991}


IF index. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!m\+\_\+parent@{m\+\_\+parent}}
\index{m\+\_\+parent@{m\+\_\+parent}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+parent}{m_parent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Mesh\+Wifi\+Interface\+Mac}$>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::m\+\_\+parent\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_a14edf9af29af164f967ccc6e77d8ea03}


parent 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!m\+\_\+protocol@{m\+\_\+protocol}}
\index{m\+\_\+protocol@{m\+\_\+protocol}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+protocol}{m_protocol}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Peer\+Management\+Protocol}$>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::m\+\_\+protocol\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_afbdd1f31cd54c320267ffb3426559095}


protocol 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}!m\+\_\+stats@{m\+\_\+stats}}
\index{m\+\_\+stats@{m\+\_\+stats}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+stats}{m_stats}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf Statistics} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+Mac\+::m\+\_\+stats\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocolMac_aaaccd87941623a8bff20e8998908b518}
statistics 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
mesh/model/dot11s/\hyperlink{peer-management-protocol-mac_8h}{peer-\/management-\/protocol-\/mac.\+h}\item 
mesh/model/dot11s/\hyperlink{peer-management-protocol-mac_8cc}{peer-\/management-\/protocol-\/mac.\+cc}\end{DoxyCompactItemize}
