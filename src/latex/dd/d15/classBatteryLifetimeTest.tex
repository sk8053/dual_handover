\hypertarget{classBatteryLifetimeTest}{}\section{Battery\+Lifetime\+Test Class Reference}
\label{classBatteryLifetimeTest}\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}


Collaboration diagram for Battery\+Lifetime\+Test\+:
% FIG 0
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structBatteryLifetimeTest_1_1LoadProfile}{Load\+Profile}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structBatteryLifetimeTest_1_1LoadProfile}{Battery\+Lifetime\+Test\+::\+Load\+Profile} \hyperlink{classBatteryLifetimeTest_a0a7dbe56f76bd35b61e1c8477c07d42d}{Load\+Profile}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classBatteryLifetimeTest_a4f42f600692c89a36c3bbf2861046853}{Battery\+Lifetime\+Test} ()
\item 
virtual \hyperlink{classBatteryLifetimeTest_a44a19773e16a381b5d4e4e4648e99b52}{$\sim$\+Battery\+Lifetime\+Test} ()
\item 
void \hyperlink{classBatteryLifetimeTest_a5987a9b8efd2a8e594f52d2b8ba6af63}{Create\+Load\+Profiles} (void)
\item 
bool \hyperlink{classBatteryLifetimeTest_a5cfb6c588872035454feb525491b1d52}{Constant\+Load\+Test} (double load, \hyperlink{classns3_1_1Time}{Time} exp\+Lifetime)
\item 
bool \hyperlink{classBatteryLifetimeTest_aa6d0fb55387831f97d9834c47abfd669}{Variable\+Load\+Test} (std\+::vector$<$ double $>$ loads, std\+::vector$<$ \hyperlink{classns3_1_1Time}{Time} $>$ time\+Stamps, \hyperlink{classns3_1_1Time}{Time} exp\+Lifetime)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \hyperlink{structBatteryLifetimeTest_1_1LoadProfile}{Load\+Profile} $>$ \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\+\_\+load\+Profiles}
\item 
double \hyperlink{classBatteryLifetimeTest_ab0ea71a3ce518e4876ee4a0efe8a967c}{m\+\_\+alpha}
\item 
double \hyperlink{classBatteryLifetimeTest_a7e071f34e550450909e80907d59923c8}{m\+\_\+beta}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This example was originally devised as a test, then it was converted to an example.

The script tests the remaining energy for Rv\+Battery\+Model and Wifi\+Radio\+Energy\+Model updates. It does so by mimicking the procedure and results published in D. Rakhmatov, S. Vrudhula, D.\+A. Wallach, \char`\"{}\+Battery lifetime prediction for energy-\/aware computing,\char`\"{} Proceedings of the 2002 International Symposium on Low Power Electronics and Design, 2002. I\+S\+L\+P\+ED \textquotesingle{}02. doi\+: 10.\+1109/\+L\+PE.2002.\+146729 

\subsection{Member Typedef Documentation}
\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}!Load\+Profile@{Load\+Profile}}
\index{Load\+Profile@{Load\+Profile}!Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}
\subsubsection[{\texorpdfstring{Load\+Profile}{LoadProfile}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Battery\+Lifetime\+Test\+::\+Load\+Profile}  {\bf Battery\+Lifetime\+Test\+::\+Load\+Profile}}\hypertarget{classBatteryLifetimeTest_a0a7dbe56f76bd35b61e1c8477c07d42d}{}\label{classBatteryLifetimeTest_a0a7dbe56f76bd35b61e1c8477c07d42d}


\subsection{Constructor \& Destructor Documentation}
\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}!Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}
\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}!Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}
\subsubsection[{\texorpdfstring{Battery\+Lifetime\+Test()}{BatteryLifetimeTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Battery\+Lifetime\+Test\+::\+Battery\+Lifetime\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classBatteryLifetimeTest_a4f42f600692c89a36c3bbf2861046853}{}\label{classBatteryLifetimeTest_a4f42f600692c89a36c3bbf2861046853}

\begin{DoxyCode}
103 \{
104   \textcolor{comment}{// Itsy battery}
105   \hyperlink{classBatteryLifetimeTest_ab0ea71a3ce518e4876ee4a0efe8a967c}{m\_alpha} = 35220;
106   \hyperlink{classBatteryLifetimeTest_a7e071f34e550450909e80907d59923c8}{m\_beta} = 0.637;
107 \}
\end{DoxyCode}
\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}!````~Battery\+Lifetime\+Test@{$\sim$\+Battery\+Lifetime\+Test}}
\index{````~Battery\+Lifetime\+Test@{$\sim$\+Battery\+Lifetime\+Test}!Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}
\subsubsection[{\texorpdfstring{$\sim$\+Battery\+Lifetime\+Test()}{~BatteryLifetimeTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Battery\+Lifetime\+Test\+::$\sim$\+Battery\+Lifetime\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classBatteryLifetimeTest_a44a19773e16a381b5d4e4e4648e99b52}{}\label{classBatteryLifetimeTest_a44a19773e16a381b5d4e4e4648e99b52}

\begin{DoxyCode}
110 \{
111 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}!Constant\+Load\+Test@{Constant\+Load\+Test}}
\index{Constant\+Load\+Test@{Constant\+Load\+Test}!Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}
\subsubsection[{\texorpdfstring{Constant\+Load\+Test(double load, Time exp\+Lifetime)}{ConstantLoadTest(double load, Time expLifetime)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Battery\+Lifetime\+Test\+::\+Constant\+Load\+Test (
\begin{DoxyParamCaption}
\item[{double}]{load, }
\item[{{\bf Time}}]{exp\+Lifetime}
\end{DoxyParamCaption}
)}\hypertarget{classBatteryLifetimeTest_a5cfb6c588872035454feb525491b1d52}{}\label{classBatteryLifetimeTest_a5cfb6c588872035454feb525491b1d52}

\begin{DoxyParams}{Parameters}
{\em load} & Load value, in Amperes (A). \\
\hline
{\em exp\+Lifetime} & Expected lifetime. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
False if no error occurs.
\end{DoxyReturn}
Runs simulation with constant load and checks the battery lifetime with known results. 
\begin{DoxyCode}
716 \{
717   \textcolor{comment}{// create single node}
718   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
719   c.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
720 
721   std::string phyMode (\textcolor{stringliteral}{"DsssRate1Mbps"});
722 
723   \textcolor{comment}{// disable fragmentation for frames below 2200 bytes}
724   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::WifiRemoteStationManager::FragmentationThreshold"},
725                       StringValue (\textcolor{stringliteral}{"2200"}));
726   \textcolor{comment}{// turn off RTS/CTS for frames below 2200 bytes}
727   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::WifiRemoteStationManager::RtsCtsThreshold"},
728                       StringValue (\textcolor{stringliteral}{"2200"}));
729   \textcolor{comment}{// Fix non-unicast data rate to be the same as that of unicast}
730   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::WifiRemoteStationManager::NonUnicastMode"},
731                       StringValue (phyMode));
732 
733   \textcolor{comment}{// install YansWifiPhy}
734   \hyperlink{classns3_1_1WifiHelper}{WifiHelper} wifi;
735   wifi.\hyperlink{classns3_1_1WifiHelper_aa54f3e61527ef8de318d310045bc5dfd}{SetStandard} (\hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a77e1cc9f77a0bce8e2bc82cbef437b5a}{WIFI\_PHY\_STANDARD\_80211b});
736 
737   \hyperlink{classns3_1_1YansWifiPhyHelper}{YansWifiPhyHelper} wifiPhy =  YansWifiPhyHelper::Default ();
738   \textcolor{comment}{/*}
739 \textcolor{comment}{   * This is one parameter that matters when using FixedRssLossModel, set it to}
740 \textcolor{comment}{   * zero; otherwise, gain will be added.}
741 \textcolor{comment}{   */}
742   wifiPhy.\hyperlink{classns3_1_1WifiPhyHelper_a2527d6d7b29f717fd7436166c5f05f1a}{Set} (\textcolor{stringliteral}{"RxGain"}, DoubleValue (0));
743   \textcolor{comment}{// ns-3 supports RadioTap and Prism tracing extensions for 802.11b}
744   wifiPhy.\hyperlink{classns3_1_1WifiPhyHelper_ae4b90e90f6e78a19c1b7fdf08b270218}{SetPcapDataLinkType} (YansWifiPhyHelper::DLT\_IEEE802\_11\_RADIO);
745 
746   \hyperlink{classns3_1_1YansWifiChannelHelper}{YansWifiChannelHelper} wifiChannel;
747   wifiChannel.\hyperlink{classns3_1_1YansWifiChannelHelper_a6b452ba53ccaee6ca000cc72ed9ea0fa}{SetPropagationDelay} (\textcolor{stringliteral}{"ns3::ConstantSpeedPropagationDelayModel"});
748   wifiPhy.\hyperlink{classns3_1_1YansWifiPhyHelper_ad2e9a27587dd4ff320435c93cc2676de}{SetChannel} (wifiChannel.\hyperlink{classns3_1_1YansWifiChannelHelper_a0532e292ab9452f3cf630c848708e563}{Create} ());
749 
750   \textcolor{comment}{// Add a MAC and disable rate control}
751   \hyperlink{classns3_1_1WifiMacHelper}{WifiMacHelper} wifiMac;
752   wifi.\hyperlink{classns3_1_1WifiHelper_a3d01b178aeb2de246ab5a3aa5638ce24}{SetRemoteStationManager} (\textcolor{stringliteral}{"ns3::ConstantRateWifiManager"},
753                                 \textcolor{stringliteral}{"DataMode"}, StringValue (phyMode),
754                                 \textcolor{stringliteral}{"ControlMode"}, StringValue (phyMode));
755   \textcolor{comment}{// Set it to ad-hoc mode}
756   wifiMac.\hyperlink{classns3_1_1WifiMacHelper_a382d8df76a1dd7007179d1963b4b6bc6}{SetType} (\textcolor{stringliteral}{"ns3::AdhocWifiMac"});
757   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} devices = wifi.\hyperlink{classns3_1_1WifiHelper_a451b3d33fa1497c22f06c5451f57a127}{Install} (wifiPhy, wifiMac, c);
758 
759   \textcolor{comment}{// Create and install battery model and device models}
760   \textcolor{comment}{// RV battery model}
761   \hyperlink{classns3_1_1RvBatteryModelHelper}{RvBatteryModelHelper} rvModelHelper;
762   \textcolor{comment}{// Set alpha & beta values}
763   rvModelHelper.\hyperlink{classns3_1_1RvBatteryModelHelper_a28f5eedc180d45310324ca3bd1868af1}{Set} (\textcolor{stringliteral}{"RvBatteryModelAlphaValue"}, DoubleValue (\hyperlink{classBatteryLifetimeTest_ab0ea71a3ce518e4876ee4a0efe8a967c}{m\_alpha}));
764   rvModelHelper.\hyperlink{classns3_1_1RvBatteryModelHelper_a28f5eedc180d45310324ca3bd1868af1}{Set} (\textcolor{stringliteral}{"RvBatteryModelBetaValue"}, DoubleValue (\hyperlink{classBatteryLifetimeTest_a7e071f34e550450909e80907d59923c8}{m\_beta}));
765   rvModelHelper.\hyperlink{classns3_1_1RvBatteryModelHelper_a28f5eedc180d45310324ca3bd1868af1}{Set} (\textcolor{stringliteral}{"RvBatteryModelLowBatteryThreshold"}, DoubleValue (0.0));
766   \textcolor{comment}{// install source}
767   \hyperlink{classns3_1_1EnergySourceContainer}{EnergySourceContainer} sources = rvModelHelper.\hyperlink{classns3_1_1EnergySourceHelper_ac52e48ef79c83537cc0bba02df8d91a1}{Install} (c);
768   \textcolor{comment}{// device energy model}
769   \hyperlink{classns3_1_1WifiRadioEnergyModelHelper}{WifiRadioEnergyModelHelper} radioEnergyHelper;
770   \textcolor{comment}{// set VariableLoadTestIDLE current, which will be the constant load}
771   radioEnergyHelper.\hyperlink{classns3_1_1WifiRadioEnergyModelHelper_a8fb76b591e426c6a8fcdc7fc411e3295}{Set} (\textcolor{stringliteral}{"IdleCurrentA"}, DoubleValue (load));
772   \textcolor{comment}{// install on node}
773   \hyperlink{classns3_1_1DeviceEnergyModelContainer}{DeviceEnergyModelContainer} deviceModels = radioEnergyHelper.
      \hyperlink{classns3_1_1DeviceEnergyModelHelper_a085a4854e96ff8f314a9ebec93e6c4eb}{Install} (devices, sources);
774 
775   \textcolor{comment}{// run simulation}
776   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (70000.0));
777   Simulator::Run ();
778 
779   \hyperlink{classns3_1_1Time}{Time} actualLifetime;
780   \hyperlink{classns3_1_1Ptr}{Ptr<RvBatteryModel>} srcPtr = DynamicCast<RvBatteryModel> (sources.
      \hyperlink{classns3_1_1EnergySourceContainer_ac59e8c3dc22ecb142f3398dcd23c5c37}{Get} (0));
781   actualLifetime = srcPtr->\hyperlink{classns3_1_1RvBatteryModel_a0195713aa6eeb966f3189192b5fbeea1}{GetLifetime} ();
782 
783   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Expected lifetime = "} << expLifetime.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () << \textcolor{stringliteral}{"s"});
784   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Actual lifetime = "} << actualLifetime.GetSeconds () << \textcolor{stringliteral}{"s"});
785 
786   Simulator::Destroy ();
787 
788   \textcolor{keywordflow}{if} (actualLifetime != expLifetime)
789     \{
790       std::cerr << \textcolor{stringliteral}{"ConstantLoadTest: Incorrect lifetime for load "} << load << std::endl;
791       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
792     \}
793 
794   \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \textcolor{comment}{// error free}
795 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1




Here is the caller graph for this function\+:
% FIG 2


\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}!Create\+Load\+Profiles@{Create\+Load\+Profiles}}
\index{Create\+Load\+Profiles@{Create\+Load\+Profiles}!Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}
\subsubsection[{\texorpdfstring{Create\+Load\+Profiles(void)}{CreateLoadProfiles(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Battery\+Lifetime\+Test\+::\+Create\+Load\+Profiles (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classBatteryLifetimeTest_a5987a9b8efd2a8e594f52d2b8ba6af63}{}\label{classBatteryLifetimeTest_a5987a9b8efd2a8e594f52d2b8ba6af63}
Creates load profiles according to D. Rakhmatov, S. Vrudhula, D.\+A. Wallach, \char`\"{}\+Battery lifetime prediction for energy-\/aware computing,\char`\"{} Proceedings of the 2002 International Symposium on Low Power Electronics and Design, 2002. I\+S\+L\+P\+ED \textquotesingle{}02. doi\+: 10.\+1109/\+L\+PE.2002.\+146729 
\begin{DoxyCode}
115 \{
116   \textcolor{comment}{// create set of load profiles}
117   \hyperlink{classBatteryLifetimeTest_a0a7dbe56f76bd35b61e1c8477c07d42d}{LoadProfile} profile;
118 
119   std::vector<double> loads;
120   std::vector<Time> timeStamps;
121 
122   \textcolor{comment}{// C1}
123   loads.push\_back (0.628);
124   loads.push\_back (0);
125   loads.push\_back (0.628);
126 
127   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
128   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (19.5 * 60));
129   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (26.0 * 60));
130 
131   profile.\hyperlink{structBatteryLifetimeTest_1_1LoadProfile_a2e05ba4feddee725b7282b2d9e5291fc}{loads} = loads;
132   profile.timeStamps = timeStamps;
133   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (55.0 * 60);     \textcolor{comment}{// 55.0 minutes}
134   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (36.2 * 60); \textcolor{comment}{// 36.2 minutes}
135 
136   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
137 
138   loads.clear ();
139   timeStamps.clear ();
140 
141   \textcolor{comment}{// C2}
142   loads.push\_back (0.4947);
143   loads.push\_back (0);
144   loads.push\_back (0.4947);
145 
146   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
147   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (31.0 * 60));
148   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (41.3 * 60));
149 
150   profile.loads = loads;
151   profile.timeStamps = timeStamps;
152   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (73.9 * 60);     \textcolor{comment}{// 73.9 minutes}
153   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (55.8 * 60); \textcolor{comment}{// 55.8 minutes}
154 
155   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
156 
157   loads.clear ();
158   timeStamps.clear ();
159 
160   \textcolor{comment}{// C3}
161   loads.push\_back (0.4256);
162   loads.push\_back (0);
163   loads.push\_back (0.4256);
164 
165   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
166   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (41.0 * 60));
167   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (54.6 * 60));
168 
169   profile.loads = loads;
170   profile.timeStamps = timeStamps;
171   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (88.8 * 60);     \textcolor{comment}{// 88.8 minutes}
172   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (71.8 * 60); \textcolor{comment}{// 71.8 minutes}
173 
174   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
175 
176   loads.clear ();
177   timeStamps.clear ();
178 
179   \textcolor{comment}{// C4}
180   loads.push\_back (0.2923);
181   loads.push\_back (0);
182   loads.push\_back (0.2923);
183 
184   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
185   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (74.6 * 60));
186   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (99.5 * 60));
187 
188   profile.loads = loads;
189   profile.timeStamps = timeStamps;
190   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (137.8 * 60);      \textcolor{comment}{// 137.8 minutes}
191   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (124.9 * 60);  \textcolor{comment}{// 124.9 minutes}
192 
193   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
194 
195   loads.clear ();
196   timeStamps.clear ();
197 
198   \textcolor{comment}{// C5}
199   loads.push\_back (0.2227);
200   loads.push\_back (0);
201   loads.push\_back (0.2227);
202 
203   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
204   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (105.7 * 60));
205   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (140.9 * 60));
206 
207   profile.loads = loads;
208   profile.timeStamps = timeStamps;
209   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (185.8 * 60);      \textcolor{comment}{// 185.8 minutes}
210   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (176.7 * 60);  \textcolor{comment}{// 176.7 minutes}
211 
212   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
213 
214   loads.clear ();
215   timeStamps.clear ();
216 
217   \textcolor{comment}{// C6}
218   loads.push\_back (0.628);
219   loads.push\_back (0);
220   loads.push\_back (0.628);
221 
222   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
223   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (19.5 * 60));
224   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (29.9 * 60));
225 
226   profile.loads = loads;
227   profile.timeStamps = timeStamps;
228   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (58.9 * 60);     \textcolor{comment}{// 58.9 minutes}
229   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (41.0 * 60); \textcolor{comment}{// 41.0 minutes}
230 
231   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
232 
233   loads.clear ();
234   timeStamps.clear ();
235 
236   \textcolor{comment}{// C7}
237   loads.push\_back (0.628);
238   loads.push\_back (0);
239   loads.push\_back (0.628);
240 
241   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
242   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (19.5 * 60));
243   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (22.1 * 60));
244 
245   profile.loads = loads;
246   profile.timeStamps = timeStamps;
247   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (51.1 * 60);     \textcolor{comment}{// 51.1 minutes}
248   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (30.8 * 60); \textcolor{comment}{// 30.8 minutes}
249 
250   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
251 
252   loads.clear ();
253   timeStamps.clear ();
254 
255   \textcolor{comment}{// C8}
256   loads.push\_back (0.628);
257   loads.push\_back (0);
258   loads.push\_back (0.628);
259 
260   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
261   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (23.4 * 60));
262   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (29.9 * 60));
263 
264   profile.loads = loads;
265   profile.timeStamps = timeStamps;
266   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (55.0 * 60);     \textcolor{comment}{// 55.0 minutes}
267   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (37.4 * 60); \textcolor{comment}{// 37.4 minutes}
268 
269   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
270 
271   loads.clear ();
272   timeStamps.clear ();
273 
274   \textcolor{comment}{// C9}
275   loads.push\_back (0.628);
276   loads.push\_back (0);
277   loads.push\_back (0.628);
278 
279   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
280   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (15.6 * 60));
281   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (22.1 * 60));
282 
283   profile.loads = loads;
284   profile.timeStamps = timeStamps;
285   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (55.0 * 60);     \textcolor{comment}{// 55.0 minutes}
286   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (35.2 * 60); \textcolor{comment}{// 35.2 minutes}
287 
288   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
289 
290   loads.clear ();
291   timeStamps.clear ();
292 
293   \textcolor{comment}{// C10}
294   loads.push\_back (0.300);
295   loads.push\_back (0.628);
296   loads.push\_back (0.4947);
297   loads.push\_back (0.2523);
298   loads.push\_back (0.2341);
299   loads.push\_back (0.1379);
300   loads.push\_back (0.1139);
301   loads.push\_back (0.2656);
302 
303   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
304   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.5 * 60));
305   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (5.5 * 60));
306   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.5 * 60));
307   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (35.5 * 60));
308   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (60.5 * 60));
309   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (85.5 * 60));
310   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (110.5 * 60));
311 
312   profile.loads = loads;
313   profile.timeStamps = timeStamps;
314   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (144.3 * 60);      \textcolor{comment}{// 144.3 minutes}
315   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (132.6 * 60);  \textcolor{comment}{// 132.6 minutes}
316 
317   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
318 
319   loads.clear ();
320   timeStamps.clear ();
321 
322   \textcolor{comment}{// C11}
323   loads.push\_back (0.300);
324   loads.push\_back (0.1139);
325   loads.push\_back (0.1379);
326   loads.push\_back (0.2341);
327   loads.push\_back (0.2523);
328   loads.push\_back (0.4947);
329   loads.push\_back (0.628);
330   loads.push\_back (0.2656);
331 
332   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
333   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.5 * 60));
334   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (25.5 * 60));
335   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (50.5 * 60));
336   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (75.5 * 60));
337   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (100.5 * 60));
338   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (105.5 * 60));
339   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (110.5 * 60));
340 
341   profile.loads = loads;
342   profile.timeStamps = timeStamps;
343   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (144.3 * 60);      \textcolor{comment}{// 144.3 minutes}
344   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (107.4 * 60);  \textcolor{comment}{// 107.4 minutes}
345 
346   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
347 
348   loads.clear ();
349   timeStamps.clear ();
350 
351   \textcolor{comment}{// C12}
352   loads.push\_back (0.300);
353   loads.push\_back (0.1139);
354   loads.push\_back (0.1379);
355   loads.push\_back (0.2341);
356   loads.push\_back (0.2523);
357   loads.push\_back (0.4947);
358   loads.push\_back (0.0);
359   loads.push\_back (0.300);
360   loads.push\_back (0.628);
361   loads.push\_back (0.2656);
362 
363   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
364   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.5 * 60));
365   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (25.5 * 60));
366   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (50.5 * 60));
367   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (75.5 * 60));
368   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (100.5 * 60));
369   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (105.5 * 60));
370   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (130.5 * 60));
371   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (131.0 * 60));
372   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (136.0 * 60));
373 
374   profile.loads = loads;
375   profile.timeStamps = timeStamps;
376   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (169.3 * 60);      \textcolor{comment}{// 169.3 minutes}
377   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (155.4 * 60);  \textcolor{comment}{// 155.4 minutes}
378 
379   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
380 
381   loads.clear ();
382   timeStamps.clear ();
383 
384   \textcolor{comment}{// C13}
385   loads.push\_back (0.300);
386   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
387 
388   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 5; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
389     \{
390       loads.push\_back (0.628);
391       loads.push\_back (0.4947);
392       loads.push\_back (0.2523);
393       loads.push\_back (0.2341);
394       loads.push\_back (0.1379);
395       loads.push\_back (0.1139);
396 
397       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((0.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
398       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((1.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
399       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((2.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
400       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((7.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
401       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((12.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
402       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((17.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
403     \}
404 
405   loads.push\_back (0.2656);
406   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (110.5 * 60));
407 
408   profile.loads = loads;
409   profile.timeStamps = timeStamps;
410   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (144.3 * 60);      \textcolor{comment}{// 144.3 minutes}
411   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (131.7 * 60);  \textcolor{comment}{// 131.7 minutes}
412 
413   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
414 
415   loads.clear ();
416   timeStamps.clear ();
417 
418   \textcolor{comment}{// C14, time stamp calculation in paper is off, using our own estimated value}
419   loads.push\_back (0.300);
420   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
421 
422   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 5; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
423     \{
424       loads.push\_back (0.1139);
425       loads.push\_back (0.1379);
426       loads.push\_back (0.2341);
427       loads.push\_back (0.2523);
428       loads.push\_back (0.4947);
429       loads.push\_back (0.628);
430 
431       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((0.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
432       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((5.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
433       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((10.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
434       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((15.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
435       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((20.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
436       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((21.5 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 22.5) * 60));
437     \}
438 
439   loads.push\_back (0.2656);
440   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (112.5 * 60));
441 
442   profile.loads = loads;
443   profile.timeStamps = timeStamps;
444   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (141.5 * 60);      \textcolor{comment}{// 141.5 minutes}
445   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (126.3 * 60);  \textcolor{comment}{// 126.3 minutes}
446 
447   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
448 
449   loads.clear ();
450   timeStamps.clear ();
451 
452   \textcolor{comment}{// C15}
453   loads.push\_back (0.2227);
454   loads.push\_back (0.2045);
455   loads.push\_back (0.1083);
456   loads.push\_back (0.0843);
457   loads.push\_back (0.2227);
458 
459   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
460   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (50.0 * 60));
461   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (100.0 * 60));
462   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (150.0 * 60));
463   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (200.0 * 60));
464 
465   profile.loads = loads;
466   profile.timeStamps = timeStamps;
467   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (211.4 * 60);      \textcolor{comment}{// 211.4 minutes}
468   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (209.2 * 60);  \textcolor{comment}{// 209.2 minutes}
469 
470   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
471 
472   loads.clear ();
473   timeStamps.clear ();
474 
475   \textcolor{comment}{// C16}
476   loads.push\_back (0.0843);
477   loads.push\_back (0.1083);
478   loads.push\_back (0.2045);
479   loads.push\_back (0.2227);
480   loads.push\_back (0.2227);
481 
482   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
483   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (50.0 * 60));
484   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (100.0 * 60));
485   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (150.0 * 60));
486   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (200.0 * 60));
487 
488   profile.loads = loads;
489   profile.timeStamps = timeStamps;
490   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (211.4 * 60);      \textcolor{comment}{// 211.4 minutes}
491   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (200.7 * 60);  \textcolor{comment}{// 200.7 minutes}
492 
493   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
494 
495   loads.clear ();
496   timeStamps.clear ();
497 
498   \textcolor{comment}{// C17}
499   loads.push\_back (0.0843);
500   loads.push\_back (0.1083);
501   loads.push\_back (0.2045);
502   loads.push\_back (0.0);
503   loads.push\_back (0.2227);
504   loads.push\_back (0.2227);
505 
506   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0));
507   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (50.0 * 60));
508   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (100.0 * 60));
509   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (150.0 * 60));
510   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (200.0 * 60));
511   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (250.0 * 60));
512 
513   profile.loads = loads;
514   profile.timeStamps = timeStamps;
515   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (261.4 * 60);      \textcolor{comment}{// 261.4 minutes}
516   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (251.2 * 60);  \textcolor{comment}{// 251.2 minutes}
517 
518   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
519 
520   loads.clear ();
521   timeStamps.clear ();
522 
523   \textcolor{comment}{// C18}
524   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 10; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
525     \{
526       loads.push\_back (0.0843);
527       loads.push\_back (0.1083);
528       loads.push\_back (0.2045);
529       loads.push\_back (0.2227);
530 
531       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((0.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 20.0) * 60));
532       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((5.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 20.0) * 60));
533       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((10.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 20.0) * 60));
534       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((15.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 20.0) * 60));
535     \}
536 
537   loads.push\_back (0.2227);
538   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (200.0));
539 
540   profile.loads = loads;
541   profile.timeStamps = timeStamps;
542   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (211.4 * 60);      \textcolor{comment}{// 211.4 minutes}
543   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (204.6 * 60);  \textcolor{comment}{// 204.6 minutes}
544 
545   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
546 
547   loads.clear ();
548   timeStamps.clear ();
549 
550   \textcolor{comment}{// C19}
551   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 10; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
552     \{
553       loads.push\_back (0.0755);
554       loads.push\_back (0.0949);
555       loads.push\_back (0.2045);
556       loads.push\_back (0.2227);
557 
558       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((0.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 20.0) * 60));
559       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((5.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 20.0) * 60));
560       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((10.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 20.0) * 60));
561       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((15.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 20.0) * 60));
562     \}
563 
564   loads.push\_back (0.2227);
565   timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (200.0));
566 
567   profile.loads = loads;
568   profile.timeStamps = timeStamps;
569   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (216.4 * 60);      \textcolor{comment}{// 216.4 minutes}
570   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (208.7 * 60);  \textcolor{comment}{// 208.7 minutes}
571 
572   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
573 
574   loads.clear ();
575   timeStamps.clear ();
576 
577   \textcolor{comment}{// C20}
578   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 50; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
579     \{
580       loads.push\_back (0.4947);
581       loads.push\_back (0.628);
582 
583       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((0.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 2.0) * 60));
584       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((1.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 2.0) * 60));
585     \}
586 
587   profile.loads = loads;
588   profile.timeStamps = timeStamps;
589   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (55.3 * 60);       \textcolor{comment}{// 55.3 minutes}
590   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (33.2 * 60);   \textcolor{comment}{// 33.2 minutes}
591 
592   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
593 
594   loads.clear ();
595   timeStamps.clear ();
596 
597   \textcolor{comment}{// C21}
598   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 50; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
599     \{
600       loads.push\_back (0.4947);
601       loads.push\_back (0.628);
602       loads.push\_back (0.0576);
603 
604       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((0.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 3.0) * 60));
605       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((1.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 3.0) * 60));
606       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((2.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 3.0) * 60));
607     \}
608 
609   profile.loads = loads;
610   profile.timeStamps = timeStamps;
611   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (79.6 * 60);       \textcolor{comment}{// 79.6 minutes}
612   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (55.9 * 60);   \textcolor{comment}{// 55.9 minutes}
613 
614   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
615 
616   loads.clear ();
617   timeStamps.clear ();
618 
619   \textcolor{comment}{// C22}
620   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 150; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
621     \{
622       loads.push\_back (0.005 + 0.005 * \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
623       timeStamps.push\_back (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((0.0 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} * 1.0) * 60));
624     \}
625 
626   profile.loads = loads;
627   profile.timeStamps = timeStamps;
628   profile.itsyLifetime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (112.2 * 60);      \textcolor{comment}{// 112.2 minutes}
629   profile.dualFoilLifeTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (94.5 * 60);   \textcolor{comment}{// 94.5 minutes}
630 
631   \hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.push\_back (profile);
632 
633   loads.clear ();
634   timeStamps.clear ();
635 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}!Variable\+Load\+Test@{Variable\+Load\+Test}}
\index{Variable\+Load\+Test@{Variable\+Load\+Test}!Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}
\subsubsection[{\texorpdfstring{Variable\+Load\+Test(std\+::vector$<$ double $>$ loads, std\+::vector$<$ Time $>$ time\+Stamps, Time exp\+Lifetime)}{VariableLoadTest(std::vector< double > loads, std::vector< Time > timeStamps, Time expLifetime)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Battery\+Lifetime\+Test\+::\+Variable\+Load\+Test (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ double $>$}]{loads, }
\item[{std\+::vector$<$ {\bf Time} $>$}]{time\+Stamps, }
\item[{{\bf Time}}]{exp\+Lifetime}
\end{DoxyParamCaption}
)}\hypertarget{classBatteryLifetimeTest_aa6d0fb55387831f97d9834c47abfd669}{}\label{classBatteryLifetimeTest_aa6d0fb55387831f97d9834c47abfd669}

\begin{DoxyParams}{Parameters}
{\em loads} & Load profile. \\
\hline
{\em time\+Stamps} & Time stamps. \\
\hline
{\em exp\+Lifetime} & Expected lifetime. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
False if no error occurs.
\end{DoxyReturn}
Runs simulation with variable load and checks the battery lifetime with known results. 
\begin{DoxyCode}
801 \{
802   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (loads.size () == timeStamps.size ());
803 
804   \textcolor{comment}{// create single node}
805   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
806   c.Create (1);
807 
808   std::string phyMode (\textcolor{stringliteral}{"DsssRate1Mbps"});
809 
810   \textcolor{comment}{// disable fragmentation for frames below 2200 bytes}
811   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::WifiRemoteStationManager::FragmentationThreshold"},
812                       StringValue (\textcolor{stringliteral}{"2200"}));
813   \textcolor{comment}{// turn off RTS/CTS for frames below 2200 bytes}
814   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::WifiRemoteStationManager::RtsCtsThreshold"},
815                       StringValue (\textcolor{stringliteral}{"2200"}));
816   \textcolor{comment}{// Fix non-unicast data rate to be the same as that of unicast}
817   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::WifiRemoteStationManager::NonUnicastMode"},
818                       StringValue (phyMode));
819 
820   \textcolor{comment}{// install YansWifiPhy}
821   \hyperlink{classns3_1_1WifiHelper}{WifiHelper} wifi;
822   wifi.\hyperlink{classns3_1_1WifiHelper_aa54f3e61527ef8de318d310045bc5dfd}{SetStandard} (\hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a77e1cc9f77a0bce8e2bc82cbef437b5a}{WIFI\_PHY\_STANDARD\_80211b});
823 
824   \hyperlink{classns3_1_1YansWifiPhyHelper}{YansWifiPhyHelper} wifiPhy =  YansWifiPhyHelper::Default ();
825   \textcolor{comment}{/*}
826 \textcolor{comment}{   * This is one parameter that matters when using FixedRssLossModel, set it to}
827 \textcolor{comment}{   * zero; otherwise, gain will be added.}
828 \textcolor{comment}{   */}
829   wifiPhy.\hyperlink{classns3_1_1WifiPhyHelper_a2527d6d7b29f717fd7436166c5f05f1a}{Set} (\textcolor{stringliteral}{"RxGain"}, DoubleValue (0));
830   \textcolor{comment}{// ns-3 supports RadioTap and Prism tracing extensions for 802.11b}
831   wifiPhy.\hyperlink{classns3_1_1WifiPhyHelper_ae4b90e90f6e78a19c1b7fdf08b270218}{SetPcapDataLinkType} (YansWifiPhyHelper::DLT\_IEEE802\_11\_RADIO);
832 
833   \hyperlink{classns3_1_1YansWifiChannelHelper}{YansWifiChannelHelper} wifiChannel;
834   wifiChannel.\hyperlink{classns3_1_1YansWifiChannelHelper_a6b452ba53ccaee6ca000cc72ed9ea0fa}{SetPropagationDelay} (\textcolor{stringliteral}{"ns3::ConstantSpeedPropagationDelayModel"});
835   wifiPhy.\hyperlink{classns3_1_1YansWifiPhyHelper_ad2e9a27587dd4ff320435c93cc2676de}{SetChannel} (wifiChannel.\hyperlink{classns3_1_1YansWifiChannelHelper_a0532e292ab9452f3cf630c848708e563}{Create} ());
836 
837   \textcolor{comment}{// Add a MAC and disable rate control}
838   \hyperlink{classns3_1_1WifiMacHelper}{WifiMacHelper} wifiMac;
839   wifi.\hyperlink{classns3_1_1WifiHelper_a3d01b178aeb2de246ab5a3aa5638ce24}{SetRemoteStationManager} (\textcolor{stringliteral}{"ns3::ConstantRateWifiManager"},
840                                 \textcolor{stringliteral}{"DataMode"}, StringValue (phyMode),
841                                 \textcolor{stringliteral}{"ControlMode"}, StringValue (phyMode));
842   \textcolor{comment}{// Set it to ad-hoc mode}
843   wifiMac.\hyperlink{classns3_1_1WifiMacHelper_a382d8df76a1dd7007179d1963b4b6bc6}{SetType} (\textcolor{stringliteral}{"ns3::AdhocWifiMac"});
844   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} devices = wifi.\hyperlink{classns3_1_1WifiHelper_a451b3d33fa1497c22f06c5451f57a127}{Install} (wifiPhy, wifiMac, c);
845 
846   \textcolor{comment}{// Create and install battery model and device models}
847   \textcolor{comment}{// RV battery model}
848   \hyperlink{classns3_1_1RvBatteryModelHelper}{RvBatteryModelHelper} rvModelHelper;
849   \textcolor{comment}{// Set alpha & beta values}
850   rvModelHelper.\hyperlink{classns3_1_1RvBatteryModelHelper_a28f5eedc180d45310324ca3bd1868af1}{Set} (\textcolor{stringliteral}{"RvBatteryModelAlphaValue"}, DoubleValue (\hyperlink{classBatteryLifetimeTest_ab0ea71a3ce518e4876ee4a0efe8a967c}{m\_alpha}));
851   rvModelHelper.\hyperlink{classns3_1_1RvBatteryModelHelper_a28f5eedc180d45310324ca3bd1868af1}{Set} (\textcolor{stringliteral}{"RvBatteryModelBetaValue"}, DoubleValue (\hyperlink{classBatteryLifetimeTest_a7e071f34e550450909e80907d59923c8}{m\_beta}));
852   rvModelHelper.\hyperlink{classns3_1_1RvBatteryModelHelper_a28f5eedc180d45310324ca3bd1868af1}{Set} (\textcolor{stringliteral}{"RvBatteryModelLowBatteryThreshold"}, DoubleValue (0.0));
853   \textcolor{comment}{// install source}
854   \hyperlink{classns3_1_1EnergySourceContainer}{EnergySourceContainer} sources = rvModelHelper.\hyperlink{classns3_1_1EnergySourceHelper_ac52e48ef79c83537cc0bba02df8d91a1}{Install} (c);
855   \textcolor{comment}{// device energy model}
856   \hyperlink{classns3_1_1WifiRadioEnergyModelHelper}{WifiRadioEnergyModelHelper} radioEnergyHelper;
857   \textcolor{comment}{// set VariableLoadTestIDLE current, which will be the constant load}
858   radioEnergyHelper.\hyperlink{classns3_1_1WifiRadioEnergyModelHelper_a8fb76b591e426c6a8fcdc7fc411e3295}{Set} (\textcolor{stringliteral}{"IdleCurrentA"}, DoubleValue (loads[0]));
859   \textcolor{comment}{// install on node}
860   \hyperlink{classns3_1_1DeviceEnergyModelContainer}{DeviceEnergyModelContainer} deviceModels = radioEnergyHelper.
      \hyperlink{classns3_1_1DeviceEnergyModelHelper_a085a4854e96ff8f314a9ebec93e6c4eb}{Install} (devices, sources);
861 
862 
863   \hyperlink{classns3_1_1Ptr}{Ptr<WifiRadioEnergyModel>} wifiDevicePtr = DynamicCast<WifiRadioEnergyModel> (
      deviceModels.\hyperlink{classns3_1_1DeviceEnergyModelContainer_ab7b49acea017b91801a4e7067db56eba}{Get} (0));
864   \textcolor{comment}{// schedule load change events}
865   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 1; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < loads.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
866     \{
867       Simulator::Schedule (timeStamps[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}], &WifiRadioEnergyModel::SetIdleCurrentA,
868                            wifiDevicePtr, loads[i]);
869     \}
870 
871   \textcolor{comment}{// run simulation}
872   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (70000.0));
873   Simulator::Run ();
874 
875   \hyperlink{classns3_1_1Time}{Time} actualLifetime;
876   \hyperlink{classns3_1_1Ptr}{Ptr<RvBatteryModel>} srcPtr = DynamicCast<RvBatteryModel> (sources.
      \hyperlink{classns3_1_1EnergySourceContainer_ac59e8c3dc22ecb142f3398dcd23c5c37}{Get} (0));
877   actualLifetime = srcPtr->\hyperlink{classns3_1_1RvBatteryModel_a0195713aa6eeb966f3189192b5fbeea1}{GetLifetime} ();
878 
879   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Expected lifetime = "} << expLifetime.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () << \textcolor{stringliteral}{"s"});
880   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Actual lifetime = "} << actualLifetime.GetSeconds () << \textcolor{stringliteral}{"s"});
881   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Difference = "} << expLifetime.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () - actualLifetime.
      GetSeconds () << \textcolor{stringliteral}{"s"});
882 
883   Simulator::Destroy ();
884 
885   \textcolor{comment}{// error tolerance = 120s}
886   \textcolor{keywordflow}{if} ((actualLifetime.GetSeconds ()) > (expLifetime.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} ()) + (120) ||
887       (actualLifetime.GetSeconds ()) < (expLifetime.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} ()) - (120))
888     \{
889       std::cerr << \textcolor{stringliteral}{"VariableLoadTest: Incorrect lifetime."} << std::endl;
890       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
891     \}
892 
893   \textcolor{keywordflow}{return} \textcolor{keyword}{false};   \textcolor{comment}{// error free}
894 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6




\subsection{Member Data Documentation}
\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}!m\+\_\+alpha@{m\+\_\+alpha}}
\index{m\+\_\+alpha@{m\+\_\+alpha}!Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+alpha}{m_alpha}}]{\setlength{\rightskip}{0pt plus 5cm}double Battery\+Lifetime\+Test\+::m\+\_\+alpha}\hypertarget{classBatteryLifetimeTest_ab0ea71a3ce518e4876ee4a0efe8a967c}{}\label{classBatteryLifetimeTest_ab0ea71a3ce518e4876ee4a0efe8a967c}
\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}!m\+\_\+beta@{m\+\_\+beta}}
\index{m\+\_\+beta@{m\+\_\+beta}!Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+beta}{m_beta}}]{\setlength{\rightskip}{0pt plus 5cm}double Battery\+Lifetime\+Test\+::m\+\_\+beta}\hypertarget{classBatteryLifetimeTest_a7e071f34e550450909e80907d59923c8}{}\label{classBatteryLifetimeTest_a7e071f34e550450909e80907d59923c8}
\index{Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}!m\+\_\+load\+Profiles@{m\+\_\+load\+Profiles}}
\index{m\+\_\+load\+Profiles@{m\+\_\+load\+Profiles}!Battery\+Lifetime\+Test@{Battery\+Lifetime\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+load\+Profiles}{m_loadProfiles}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Load\+Profile}$>$ Battery\+Lifetime\+Test\+::m\+\_\+load\+Profiles}\hypertarget{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{}\label{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
energy/examples/\hyperlink{rv-battery-model-test_8cc}{rv-\/battery-\/model-\/test.\+cc}\end{DoxyCompactItemize}
