\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm}{}\section{ns3\+:\+:A3\+Rsrp\+Handover\+Algorithm Class Reference}
\label{classns3_1_1A3RsrpHandoverAlgorithm}\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}


Implementation of the strongest cell handover algorithm, based on R\+S\+RP measurements and Event A3.  




{\ttfamily \#include $<$a3-\/rsrp-\/handover-\/algorithm.\+h$>$}



Inheritance diagram for ns3\+:\+:A3\+Rsrp\+Handover\+Algorithm\+:
% FIG 0


Collaboration diagram for ns3\+:\+:A3\+Rsrp\+Handover\+Algorithm\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a6e4ba38b97c939d2f85e570d77f2905d}{A3\+Rsrp\+Handover\+Algorithm} ()
\begin{DoxyCompactList}\small\item\em Creates a strongest cell handover algorithm instance. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_ac1e7313f17a882525ef47c17edc796c3}{$\sim$\+A3\+Rsrp\+Handover\+Algorithm} ()
\item 
virtual void \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_ae3bbe08d5f94370dc025984ced30484d}{Set\+Lte\+Handover\+Management\+Sap\+User} (\hyperlink{classns3_1_1LteHandoverManagementSapUser}{Lte\+Handover\+Management\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\begin{DoxyCompactList}\small\item\em Set the \char`\"{}user\char`\"{} part of the Handover Management S\+AP interface that this handover algorithm instance will interact with. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1LteHandoverManagementSapProvider}{Lte\+Handover\+Management\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a9fa1e860d2b8a6e4af53a54de4072471}{Get\+Lte\+Handover\+Management\+Sap\+Provider} ()
\begin{DoxyCompactList}\small\item\em Export the \char`\"{}provider\char`\"{} part of the Handover Management S\+AP interface. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a360823d5e9ad02bb52aa7cb15b54c582}{Get\+Type\+Id} ()
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a0752740942ee94b67c99402ec3bccfe7}{Do\+Initialize} ()
\item 
virtual void \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a938f01d137e22ebec37bd6c65eaaeb9a}{Do\+Dispose} ()
\item 
void \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a985a69ab65c89a4c999af84fcfb7e391}{Do\+Report\+Ue\+Meas} (uint16\+\_\+t rnti, \hyperlink{structns3_1_1LteRrcSap_1_1MeasResults}{Lte\+Rrc\+Sap\+::\+Meas\+Results} meas\+Results)
\begin{DoxyCompactList}\small\item\em Implementation of \hyperlink{classns3_1_1LteHandoverManagementSapProvider_a5daca6a055e4f8794f7f1e8ba1077b15}{Lte\+Handover\+Management\+Sap\+Provider\+::\+Report\+Ue\+Meas}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a09211bfb353fb6ef9df7b379a0a63fd3}{Is\+Valid\+Neighbour} (uint16\+\_\+t cell\+Id)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a96ba4646b316fc823618934a7a6d4aa1}{m\+\_\+meas\+Id}
\begin{DoxyCompactList}\small\item\em The expected measurement identity for A3 measurements. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a2554a9c093c29f93f40efd6778d12a75}{m\+\_\+hysteresis\+Db}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a5158741f07ce566b8efc01f5e798ae78}{m\+\_\+time\+To\+Trigger}
\item 
\hyperlink{classns3_1_1LteHandoverManagementSapUser}{Lte\+Handover\+Management\+Sap\+User} $\ast$ \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a2b06a54ee8a69e6943a4bd79bfe8da58}{m\+\_\+handover\+Management\+Sap\+User}
\begin{DoxyCompactList}\small\item\em Interface to the e\+NodeB R\+RC instance. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1LteHandoverManagementSapProvider}{Lte\+Handover\+Management\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a36db40273292062cc3e96236c32cbb2a}{m\+\_\+handover\+Management\+Sap\+Provider}
\begin{DoxyCompactList}\small\item\em Receive A\+PI calls from the e\+NodeB R\+RC instance. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a6e30c965b87e5f343296131b96f7a27a}{Member\+Lte\+Handover\+Management\+Sap\+Provider$<$ A3\+Rsrp\+Handover\+Algorithm $>$}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Implementation of the strongest cell handover algorithm, based on R\+S\+RP measurements and Event A3. 

The algorithm utilizes Event A3 (Section 5.\+5.\+4.\+4 of 3\+G\+PP TS 36.\+331) UE measurements and the Reference Signal Reference Power (R\+S\+RP). It is defined as the event when the UE perceives that a neighbour cell\textquotesingle{}s R\+S\+RP is better than the serving cell\textquotesingle{}s R\+S\+RP.

Handover margin (a.\+k.\+a. hysteresis) and time-\/to-\/trigger (T\+TT) can be configured to delay the event triggering. The values of these parameters apply to all attached U\+Es.

The following code snippet is an example of using and configuring the handover algorithm in a simulation program\+: \begin{DoxyVerb}Ptr<LteHelper> lteHelper = CreateObject<LteHelper> ();

NodeContainer enbNodes;
// configure the nodes here...

lteHelper->SetHandoverAlgorithmType ("ns3::A3RsrpHandoverAlgorithm");
lteHelper->SetHandoverAlgorithmAttribute ("Hysteresis",
                                          DoubleValue (3.0));
lteHelper->SetHandoverAlgorithmAttribute ("TimeToTrigger",
                                          TimeValue (MilliSeconds (256)));
NetDeviceContainer enbLteDevs = lteHelper->InstallEnbDevice (enbNodes);
\end{DoxyVerb}


\begin{DoxyNote}{Note}
Setting the handover algorithm type and attributes after the call to \hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{Lte\+Helper\+::\+Install\+Enb\+Device} does not have any effect to the devices that have already been installed. 
\end{DoxyNote}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!A3\+Rsrp\+Handover\+Algorithm@{A3\+Rsrp\+Handover\+Algorithm}}
\index{A3\+Rsrp\+Handover\+Algorithm@{A3\+Rsrp\+Handover\+Algorithm}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{A3\+Rsrp\+Handover\+Algorithm()}{A3RsrpHandoverAlgorithm()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::\+A3\+Rsrp\+Handover\+Algorithm (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a6e4ba38b97c939d2f85e570d77f2905d}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a6e4ba38b97c939d2f85e570d77f2905d}


Creates a strongest cell handover algorithm instance. 


\begin{DoxyCode}
36   : \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a2b06a54ee8a69e6943a4bd79bfe8da58}{m\_handoverManagementSapUser} (0)
37 \{
38   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
39   \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a36db40273292062cc3e96236c32cbb2a}{m\_handoverManagementSapProvider} = \textcolor{keyword}{new} 
      \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a6e30c965b87e5f343296131b96f7a27a}{MemberLteHandoverManagementSapProvider<A3RsrpHandoverAlgorithm>}
       (\textcolor{keyword}{this});
40 \}
\end{DoxyCode}
\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!````~A3\+Rsrp\+Handover\+Algorithm@{$\sim$\+A3\+Rsrp\+Handover\+Algorithm}}
\index{````~A3\+Rsrp\+Handover\+Algorithm@{$\sim$\+A3\+Rsrp\+Handover\+Algorithm}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{$\sim$\+A3\+Rsrp\+Handover\+Algorithm()}{~A3RsrpHandoverAlgorithm()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::$\sim$\+A3\+Rsrp\+Handover\+Algorithm (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_ac1e7313f17a882525ef47c17edc796c3}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_ac1e7313f17a882525ef47c17edc796c3}

\begin{DoxyCode}
44 \{
45   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
46 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a938f01d137e22ebec37bd6c65eaaeb9a}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a938f01d137e22ebec37bd6c65eaaeb9a}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a938f01d137e22ebec37bd6c65eaaeb9a}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1LteHandoverAlgorithm_acb41503e8dd1313690d0da69f9eba564}{ns3\+::\+Lte\+Handover\+Algorithm}.


\begin{DoxyCode}
116 \{
117   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
118   \textcolor{keyword}{delete} \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a36db40273292062cc3e96236c32cbb2a}{m\_handoverManagementSapProvider};
119 \}
\end{DoxyCode}
\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!Do\+Initialize@{Do\+Initialize}}
\index{Do\+Initialize@{Do\+Initialize}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{Do\+Initialize()}{DoInitialize()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::\+Do\+Initialize (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a0752740942ee94b67c99402ec3bccfe7}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a0752740942ee94b67c99402ec3bccfe7}
\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} implementation.

This method is called only once by \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()}. If the user calls \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} multiple times, \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a0752740942ee94b67c99402ec3bccfe7}{Do\+Initialize()} is called only the first time.

Subclasses are expected to override this method and chain up to their parent\textquotesingle{}s implementation once they are done. It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} and \hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{Aggregate\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_af8482a521433409fb5c7f749398c9dbe}{ns3\+::\+Object}.


\begin{DoxyCode}
92 \{
93   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
94 
95   uint8\_t hysteresisIeValue = \hyperlink{classns3_1_1EutranMeasurementMapping_a38be54b75b2d4e08fd212310cb668881}{EutranMeasurementMapping::ActualHysteresis2IeValue}
       (\hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a2554a9c093c29f93f40efd6778d12a75}{m\_hysteresisDb});
96   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" requesting Event A3 measurements"}
97                      << \textcolor{stringliteral}{" (hysteresis="} << (uint16\_t) hysteresisIeValue << \textcolor{stringliteral}{")"}
98                      << \textcolor{stringliteral}{" (ttt="} << \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a5158741f07ce566b8efc01f5e798ae78}{m\_timeToTrigger}.
      \hyperlink{classns3_1_1Time_aba3428a8b6c4c8d9014ce44145081f34}{GetMilliSeconds} () << \textcolor{stringliteral}{")"});
99 
100   LteRrcSap::ReportConfigEutra reportConfig;
101   reportConfig.eventId = \hyperlink{structns3_1_1LteRrcSap_1_1ReportConfigEutra_ab8152dc095987f60bee2e9115046902fa2899a3564e1c06edb586b1768ccf3acd}{LteRrcSap::ReportConfigEutra::EVENT\_A3};
102   reportConfig.a3Offset = 0;
103   reportConfig.hysteresis = hysteresisIeValue;
104   reportConfig.timeToTrigger = \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a5158741f07ce566b8efc01f5e798ae78}{m\_timeToTrigger}.\hyperlink{classns3_1_1Time_aba3428a8b6c4c8d9014ce44145081f34}{GetMilliSeconds} ();
105   reportConfig.reportOnLeave = \textcolor{keyword}{false};
106   reportConfig.triggerQuantity = \hyperlink{structns3_1_1LteRrcSap_1_1ReportConfigEutra_a82343ddf526faba0483431ea5882a3efa5b7591e86ab7bcefc7fe1528762114d7}{LteRrcSap::ReportConfigEutra::RSRP};
107   reportConfig.reportInterval = \hyperlink{structns3_1_1LteRrcSap_1_1ReportConfigEutra_aa04b2781a844eb212d59762829e41d31abf2b9417aacdfb7aecfaccca7a69969d}{LteRrcSap::ReportConfigEutra::MS1024};
108   \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a96ba4646b316fc823618934a7a6d4aa1}{m\_measId} = \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a2b06a54ee8a69e6943a4bd79bfe8da58}{m\_handoverManagementSapUser}->
      \hyperlink{classns3_1_1LteHandoverManagementSapUser_a80f34ec0e586b42547210c1741b4f980}{AddUeMeasReportConfigForHandover} (reportConfig);
109 
110   \hyperlink{classns3_1_1Object_af8482a521433409fb5c7f749398c9dbe}{LteHandoverAlgorithm::DoInitialize} ();
111 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!Do\+Report\+Ue\+Meas@{Do\+Report\+Ue\+Meas}}
\index{Do\+Report\+Ue\+Meas@{Do\+Report\+Ue\+Meas}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{Do\+Report\+Ue\+Meas(uint16\+\_\+t rnti, Lte\+Rrc\+Sap\+::\+Meas\+Results meas\+Results)}{DoReportUeMeas(uint16_t rnti, LteRrcSap::MeasResults measResults)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::\+Do\+Report\+Ue\+Meas (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{{\bf Lte\+Rrc\+Sap\+::\+Meas\+Results}}]{meas\+Results}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a985a69ab65c89a4c999af84fcfb7e391}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a985a69ab65c89a4c999af84fcfb7e391}


Implementation of \hyperlink{classns3_1_1LteHandoverManagementSapProvider_a5daca6a055e4f8794f7f1e8ba1077b15}{Lte\+Handover\+Management\+Sap\+Provider\+::\+Report\+Ue\+Meas}. 


\begin{DoxyParams}{Parameters}
{\em rnti} & Radio Network Temporary Identity, an integer identifying the UE where the report originates from \\
\hline
{\em meas\+Results} & a single report of one measurement identity \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1LteHandoverAlgorithm_a6ff069477dd5902b2e564e5cf88bac64}{ns3\+::\+Lte\+Handover\+Algorithm}.


\begin{DoxyCode}
125 \{
126   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti << (uint16\_t) measResults.measId);
127 
128   \textcolor{keywordflow}{if} (measResults.measId != \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a96ba4646b316fc823618934a7a6d4aa1}{m\_measId})
129     \{
130       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Ignoring measId "} << (uint16\_t) measResults.measId);
131     \}
132   \textcolor{keywordflow}{else}
133     \{
134       \textcolor{keywordflow}{if} (measResults.haveMeasResultNeighCells
135           && !measResults.measResultListEutra.empty ())
136         \{
137           uint16\_t bestNeighbourCellId = 0;
138           uint8\_t bestNeighbourRsrp = 0;
139 
140           \textcolor{keywordflow}{for} (std::list <LteRrcSap::MeasResultEutra>::iterator it = measResults.measResultListEutra.begin 
      ();
141                it != measResults.measResultListEutra.end ();
142                ++it)
143             \{
144               \textcolor{keywordflow}{if} (it->haveRsrpResult)
145                 \{
146                   \textcolor{keywordflow}{if} ((bestNeighbourRsrp < it->rsrpResult)
147                       && \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a09211bfb353fb6ef9df7b379a0a63fd3}{IsValidNeighbour} (it->physCellId))
148                     \{
149                       bestNeighbourCellId = it->physCellId;
150                       bestNeighbourRsrp = it->rsrpResult;
151                     \}
152                 \}
153               \textcolor{keywordflow}{else}
154                 \{
155                   \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"RSRP measurement is missing from cell ID "} << it->physCellId);
156                 \}
157             \}
158 
159           \textcolor{keywordflow}{if} (bestNeighbourCellId > 0)
160             \{
161               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Trigger Handover to cellId "} << bestNeighbourCellId);
162               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"target cell RSRP "} << (uint16\_t) bestNeighbourRsrp);
163               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"serving cell RSRP "} << (uint16\_t) measResults.rsrpResult);
164 
165               \textcolor{comment}{// Inform eNodeB RRC about handover}
166               \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a2b06a54ee8a69e6943a4bd79bfe8da58}{m\_handoverManagementSapUser}->
      \hyperlink{classns3_1_1LteHandoverManagementSapUser_aade75e474e4f748ce9ef2e12101c5c42}{TriggerHandover} (rnti,
167                                                             bestNeighbourCellId);
168             \}
169         \}
170       \textcolor{keywordflow}{else}
171         \{
172           \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Event A3 received without measurement results from neighbouring
       cells"});
173         \}
174     \} \textcolor{comment}{// end of else of if (measResults.measId != m\_measId)}
175 
176 \} \textcolor{comment}{// end of DoReportUeMeas}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!Get\+Lte\+Handover\+Management\+Sap\+Provider@{Get\+Lte\+Handover\+Management\+Sap\+Provider}}
\index{Get\+Lte\+Handover\+Management\+Sap\+Provider@{Get\+Lte\+Handover\+Management\+Sap\+Provider}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{Get\+Lte\+Handover\+Management\+Sap\+Provider()}{GetLteHandoverManagementSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Handover\+Management\+Sap\+Provider} $\ast$ ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::\+Get\+Lte\+Handover\+Management\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a9fa1e860d2b8a6e4af53a54de4072471}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a9fa1e860d2b8a6e4af53a54de4072471}


Export the \char`\"{}provider\char`\"{} part of the Handover Management S\+AP interface. 

\begin{DoxyReturn}{Returns}
the reference to the \char`\"{}provider\char`\"{} part of the interface, typically to be kept by an \hyperlink{classns3_1_1LteEnbRrc}{Lte\+Enb\+Rrc} instance 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1LteHandoverAlgorithm_a271711fe4849bc28077905a21d2cadba}{ns3\+::\+Lte\+Handover\+Algorithm}.


\begin{DoxyCode}
84 \{
85   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
86   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a36db40273292062cc3e96236c32cbb2a}{m\_handoverManagementSapProvider};
87 \}
\end{DoxyCode}
\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id()}{GetTypeId()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a360823d5e9ad02bb52aa7cb15b54c582}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a360823d5e9ad02bb52aa7cb15b54c582}

\begin{DoxyCode}
51 \{
52   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::A3RsrpHandoverAlgorithm"})
53     .SetParent<\hyperlink{classns3_1_1LteHandoverAlgorithm_acb457c6d2a93677efd36a65376ce31fc}{LteHandoverAlgorithm}> ()
54     .SetGroupName(\textcolor{stringliteral}{"Lte"})
55     .AddConstructor<\hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a6e4ba38b97c939d2f85e570d77f2905d}{A3RsrpHandoverAlgorithm}> ()
56     .AddAttribute (\textcolor{stringliteral}{"Hysteresis"},
57                    \textcolor{stringliteral}{"Handover margin (hysteresis) in dB "}
58                    \textcolor{stringliteral}{"(rounded to the nearest multiple of 0.5 dB)"},
59                    DoubleValue (3.0),
60                    MakeDoubleAccessor (&\hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a2554a9c093c29f93f40efd6778d12a75}{A3RsrpHandoverAlgorithm::m\_hysteresisDb}
      ),
61                    MakeDoubleChecker<uint8\_t> (0.0, 15.0)) \textcolor{comment}{// Hysteresis IE value range is [0..30] as per
       Section 6.3.5 of 3GPP TS 36.331}
62     .AddAttribute (\textcolor{stringliteral}{"TimeToTrigger"},
63                    \textcolor{stringliteral}{"Time during which neighbour cell's RSRP "}
64                    \textcolor{stringliteral}{"must continuously higher than serving cell's RSRP "}
65                    \textcolor{stringliteral}{"in order to trigger a handover"},
66                    TimeValue (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (256)), \textcolor{comment}{// 3GPP time-to-trigger median value as per
       Section 6.3.5 of 3GPP TS 36.331}
67                    MakeTimeAccessor (&\hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a5158741f07ce566b8efc01f5e798ae78}{A3RsrpHandoverAlgorithm::m\_timeToTrigger}
      ),
68                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
69   ;
70   \textcolor{keywordflow}{return} tid;
71 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!Is\+Valid\+Neighbour@{Is\+Valid\+Neighbour}}
\index{Is\+Valid\+Neighbour@{Is\+Valid\+Neighbour}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{Is\+Valid\+Neighbour(uint16\+\_\+t cell\+Id)}{IsValidNeighbour(uint16_t cellId)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::\+Is\+Valid\+Neighbour (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a09211bfb353fb6ef9df7b379a0a63fd3}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a09211bfb353fb6ef9df7b379a0a63fd3}
Determines if a neighbour cell is a valid destination for handover. Currently always return true.


\begin{DoxyParams}{Parameters}
{\em cell\+Id} & The cell ID of the neighbour cell. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the cell is a valid destination for handover. 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000073}{Todo}]In the future, this function can be expanded to validate whether the neighbour cell is a valid target cell, e.\+g., taking into account the N\+RT in A\+NR and whether it is a C\+SG cell with closed access. \end{DoxyRefDesc}

\begin{DoxyCode}
181 \{
182   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << cellId);
183 
190   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
191 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!Set\+Lte\+Handover\+Management\+Sap\+User@{Set\+Lte\+Handover\+Management\+Sap\+User}}
\index{Set\+Lte\+Handover\+Management\+Sap\+User@{Set\+Lte\+Handover\+Management\+Sap\+User}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{Set\+Lte\+Handover\+Management\+Sap\+User(\+Lte\+Handover\+Management\+Sap\+User $\ast$s)}{SetLteHandoverManagementSapUser(LteHandoverManagementSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::\+Set\+Lte\+Handover\+Management\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Handover\+Management\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_ae3bbe08d5f94370dc025984ced30484d}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_ae3bbe08d5f94370dc025984ced30484d}


Set the \char`\"{}user\char`\"{} part of the Handover Management S\+AP interface that this handover algorithm instance will interact with. 


\begin{DoxyParams}{Parameters}
{\em s} & a reference to the \char`\"{}user\char`\"{} part of the interface, typically a member of an \hyperlink{classns3_1_1LteEnbRrc}{Lte\+Enb\+Rrc} instance \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1LteHandoverAlgorithm_a3e5a5f7f7f69291ea38778a21fbe8f47}{ns3\+::\+Lte\+Handover\+Algorithm}.


\begin{DoxyCode}
76 \{
77   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s});
78   \hyperlink{classns3_1_1A3RsrpHandoverAlgorithm_a2b06a54ee8a69e6943a4bd79bfe8da58}{m\_handoverManagementSapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
79 \}
\end{DoxyCode}


\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!Member\+Lte\+Handover\+Management\+Sap\+Provider$<$ A3\+Rsrp\+Handover\+Algorithm $>$@{Member\+Lte\+Handover\+Management\+Sap\+Provider$<$ A3\+Rsrp\+Handover\+Algorithm $>$}}
\index{Member\+Lte\+Handover\+Management\+Sap\+Provider$<$ A3\+Rsrp\+Handover\+Algorithm $>$@{Member\+Lte\+Handover\+Management\+Sap\+Provider$<$ A3\+Rsrp\+Handover\+Algorithm $>$}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{Member\+Lte\+Handover\+Management\+Sap\+Provider$<$ A3\+Rsrp\+Handover\+Algorithm $>$}{MemberLteHandoverManagementSapProvider< A3RsrpHandoverAlgorithm >}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Member\+Lte\+Handover\+Management\+Sap\+Provider}$<$ {\bf A3\+Rsrp\+Handover\+Algorithm} $>$\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a6e30c965b87e5f343296131b96f7a27a}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a6e30c965b87e5f343296131b96f7a27a}


\subsection{Member Data Documentation}
\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!m\+\_\+handover\+Management\+Sap\+Provider@{m\+\_\+handover\+Management\+Sap\+Provider}}
\index{m\+\_\+handover\+Management\+Sap\+Provider@{m\+\_\+handover\+Management\+Sap\+Provider}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{m\+\_\+handover\+Management\+Sap\+Provider}{m_handoverManagementSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Handover\+Management\+Sap\+Provider}$\ast$ ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::m\+\_\+handover\+Management\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a36db40273292062cc3e96236c32cbb2a}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a36db40273292062cc3e96236c32cbb2a}


Receive A\+PI calls from the e\+NodeB R\+RC instance. 

\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!m\+\_\+handover\+Management\+Sap\+User@{m\+\_\+handover\+Management\+Sap\+User}}
\index{m\+\_\+handover\+Management\+Sap\+User@{m\+\_\+handover\+Management\+Sap\+User}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{m\+\_\+handover\+Management\+Sap\+User}{m_handoverManagementSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Handover\+Management\+Sap\+User}$\ast$ ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::m\+\_\+handover\+Management\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a2b06a54ee8a69e6943a4bd79bfe8da58}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a2b06a54ee8a69e6943a4bd79bfe8da58}


Interface to the e\+NodeB R\+RC instance. 

\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!m\+\_\+hysteresis\+Db@{m\+\_\+hysteresis\+Db}}
\index{m\+\_\+hysteresis\+Db@{m\+\_\+hysteresis\+Db}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{m\+\_\+hysteresis\+Db}{m_hysteresisDb}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::m\+\_\+hysteresis\+Db\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a2554a9c093c29f93f40efd6778d12a75}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a2554a9c093c29f93f40efd6778d12a75}
The {\ttfamily Hysteresis} attribute. Handover margin (hysteresis) in dB (rounded to the nearest multiple of 0.\+5 dB). \index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!m\+\_\+meas\+Id@{m\+\_\+meas\+Id}}
\index{m\+\_\+meas\+Id@{m\+\_\+meas\+Id}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{m\+\_\+meas\+Id}{m_measId}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::m\+\_\+meas\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a96ba4646b316fc823618934a7a6d4aa1}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a96ba4646b316fc823618934a7a6d4aa1}


The expected measurement identity for A3 measurements. 

\index{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}!m\+\_\+time\+To\+Trigger@{m\+\_\+time\+To\+Trigger}}
\index{m\+\_\+time\+To\+Trigger@{m\+\_\+time\+To\+Trigger}!ns3\+::\+A3\+Rsrp\+Handover\+Algorithm@{ns3\+::\+A3\+Rsrp\+Handover\+Algorithm}}
\subsubsection[{\texorpdfstring{m\+\_\+time\+To\+Trigger}{m_timeToTrigger}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+A3\+Rsrp\+Handover\+Algorithm\+::m\+\_\+time\+To\+Trigger\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1A3RsrpHandoverAlgorithm_a5158741f07ce566b8efc01f5e798ae78}{}\label{classns3_1_1A3RsrpHandoverAlgorithm_a5158741f07ce566b8efc01f5e798ae78}
The {\ttfamily Time\+To\+Trigger} attribute. \hyperlink{classns3_1_1Time}{Time} during which neighbour cell\textquotesingle{}s R\+S\+RP must continuously higher than serving cell\textquotesingle{}s R\+S\+RP " 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{a3-rsrp-handover-algorithm_8h}{a3-\/rsrp-\/handover-\/algorithm.\+h}\item 
lte/model/\hyperlink{a3-rsrp-handover-algorithm_8cc}{a3-\/rsrp-\/handover-\/algorithm.\+cc}\end{DoxyCompactItemize}
