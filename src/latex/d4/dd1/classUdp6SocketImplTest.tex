\hypertarget{classUdp6SocketImplTest}{}\section{Udp6\+Socket\+Impl\+Test Class Reference}
\label{classUdp6SocketImplTest}\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}


U\+DP Socket over I\+Pv6 Test.  




Inheritance diagram for Udp6\+Socket\+Impl\+Test\+:
% FIG 0


Collaboration diagram for Udp6\+Socket\+Impl\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classUdp6SocketImplTest_af467c8026f6038eb3c82745bc7de77a9}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
\hyperlink{classUdp6SocketImplTest_a0a2bee555a31c69acd55f339e1045565}{Udp6\+Socket\+Impl\+Test} ()
\item 
void \hyperlink{classUdp6SocketImplTest_a12f789dd1f3154ac8527c8f61b85ba7b}{Receive\+Packet} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1Address}{Address} \&\hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from})
\begin{DoxyCompactList}\small\item\em Receive packets (1). \end{DoxyCompactList}\item 
void \hyperlink{classUdp6SocketImplTest_ab17ab47e76ab40172a1add9d0c58023d}{Receive\+Packet2} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1Address}{Address} \&\hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from})
\begin{DoxyCompactList}\small\item\em Receive packets (2). \end{DoxyCompactList}\item 
void \hyperlink{classUdp6SocketImplTest_a9cd13c36dbcbebd6c3e62ccbd03ff6fc}{Receive\+Pkt} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Receive packets (1). \end{DoxyCompactList}\item 
void \hyperlink{classUdp6SocketImplTest_a66285083e8cd6b7884b63ca89282419a}{Receive\+Pkt2} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Receive packets (2). \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classUdp6SocketImplTest_aea2e3e7a4f51cdee3bd8c69b43ae169a}{Do\+Send\+Data\+To} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, std\+::string to)
\begin{DoxyCompactList}\small\item\em Send data. \end{DoxyCompactList}\item 
void \hyperlink{classUdp6SocketImplTest_a427d2e3289403cb472bd8414114d2894}{Send\+Data\+To} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, std\+::string to)
\begin{DoxyCompactList}\small\item\em Send data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}{m\+\_\+received\+Packet}
\begin{DoxyCompactList}\small\item\em Received packet (1). \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}{m\+\_\+received\+Packet2}
\begin{DoxyCompactList}\small\item\em Received packet (2). \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
U\+DP Socket over I\+Pv6 Test. 

\subsection{Constructor \& Destructor Documentation}
\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Udp6\+Socket\+Impl\+Test()}{Udp6SocketImplTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Udp6\+Socket\+Impl\+Test\+::\+Udp6\+Socket\+Impl\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classUdp6SocketImplTest_a0a2bee555a31c69acd55f339e1045565}{}\label{classUdp6SocketImplTest_a0a2bee555a31c69acd55f339e1045565}

\begin{DoxyCode}
535   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"UDP6 socket implementation"})
536 \{
537 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp6\+Socket\+Impl\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classUdp6SocketImplTest_af467c8026f6038eb3c82745bc7de77a9}{}\label{classUdp6SocketImplTest_af467c8026f6038eb3c82745bc7de77a9}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
591 \{
592   \textcolor{comment}{// Create topology}
593 
594   \textcolor{comment}{// Receiver Node}
595   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} rxNode = CreateObject<Node> ();
596   \textcolor{comment}{// Sender Node}
597   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} txNode = CreateObject<Node> ();
598 
599   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes} (rxNode, txNode);
600 
601   \hyperlink{classns3_1_1SimpleNetDeviceHelper}{SimpleNetDeviceHelper} helperChannel1;
602   helperChannel1.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a474460ba6942d4933f443a97df7d4716}{SetNetDevicePointToPointMode} (\textcolor{keyword}{true});
603   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} net1 = helperChannel1.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a35bed9cee32d306362d3e24dfeef4513}{Install} (
      \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes});
604 
605   \hyperlink{classns3_1_1SimpleNetDeviceHelper}{SimpleNetDeviceHelper} helperChannel2;
606   helperChannel2.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a474460ba6942d4933f443a97df7d4716}{SetNetDevicePointToPointMode} (\textcolor{keyword}{true});
607   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} net2 = helperChannel2.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a35bed9cee32d306362d3e24dfeef4513}{Install} (
      \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes});
608 
609   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internetv6;
610   internetv6.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (\hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes});
611 
612   txNode->GetObject<\hyperlink{classns3_1_1Icmpv6L4Protocol}{Icmpv6L4Protocol}> ()->SetAttribute (\textcolor{stringliteral}{"DAD"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
613   rxNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Icmpv6L4Protocol}{Icmpv6L4Protocol}> ()->SetAttribute (\textcolor{stringliteral}{"DAD"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
614 
615   \hyperlink{classns3_1_1Ipv6AddressHelper}{Ipv6AddressHelper} ipv6helper;
616   \hyperlink{classns3_1_1Ipv6InterfaceContainer}{Ipv6InterfaceContainer} iic1 = ipv6helper.AssignWithoutAddress (net1);
617   \hyperlink{classns3_1_1Ipv6InterfaceContainer}{Ipv6InterfaceContainer} iic2 = ipv6helper.AssignWithoutAddress (net2);
618 
619   \hyperlink{classns3_1_1Ptr}{Ptr<NetDevice>} device;
620   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv6>} ipv6;
621   int32\_t ifIndex;
622   \hyperlink{classns3_1_1Ipv6InterfaceAddress}{Ipv6InterfaceAddress} ipv6Addr;
623 
624   ipv6 = rxNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv6}{Ipv6}> ();
625   device = net1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0);
626   ifIndex = ipv6->\hyperlink{classns3_1_1Ipv6_a3337dc6ce66612b0fa9b57f7f0338745}{GetInterfaceForDevice} (device);
627   ipv6Addr = \hyperlink{classns3_1_1Ipv6InterfaceAddress}{Ipv6InterfaceAddress} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6Address} (\textcolor{stringliteral}{"2001:0100::1"}), 
      \hyperlink{classns3_1_1Ipv6Prefix}{Ipv6Prefix} (64));
628   ipv6->\hyperlink{classns3_1_1Ipv6_a5cd576e83cf65445be3a0b5ffd1ddc5c}{AddAddress} (ifIndex, ipv6Addr);
629   ipv6->\hyperlink{classns3_1_1Ipv6_a8e61d85ec7fd342ed38fef2d040ed1b9}{SetUp} (ifIndex);
630 
631   device = net2.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0);
632   ifIndex = ipv6->\hyperlink{classns3_1_1Ipv6_a3337dc6ce66612b0fa9b57f7f0338745}{GetInterfaceForDevice} (device);
633   ipv6Addr = \hyperlink{classns3_1_1Ipv6InterfaceAddress}{Ipv6InterfaceAddress} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6Address} (\textcolor{stringliteral}{"2001:0100:1::1"}), 
      \hyperlink{classns3_1_1Ipv6Prefix}{Ipv6Prefix} (64));
634   ipv6->\hyperlink{classns3_1_1Ipv6_a5cd576e83cf65445be3a0b5ffd1ddc5c}{AddAddress} (ifIndex, ipv6Addr);
635   ipv6->\hyperlink{classns3_1_1Ipv6_a8e61d85ec7fd342ed38fef2d040ed1b9}{SetUp} (ifIndex);
636 
637   ipv6 = txNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv6}{Ipv6}> ();
638   device = net1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1);
639   ifIndex = ipv6->\hyperlink{classns3_1_1Ipv6_a3337dc6ce66612b0fa9b57f7f0338745}{GetInterfaceForDevice} (device);
640   ipv6Addr = \hyperlink{classns3_1_1Ipv6InterfaceAddress}{Ipv6InterfaceAddress} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6Address} (\textcolor{stringliteral}{"2001:0100::2"}), 
      \hyperlink{classns3_1_1Ipv6Prefix}{Ipv6Prefix} (64));
641   ipv6->\hyperlink{classns3_1_1Ipv6_a5cd576e83cf65445be3a0b5ffd1ddc5c}{AddAddress} (ifIndex, ipv6Addr);
642   ipv6->\hyperlink{classns3_1_1Ipv6_a8e61d85ec7fd342ed38fef2d040ed1b9}{SetUp} (ifIndex);
643 
644   device = net2.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1);
645   ifIndex = ipv6->\hyperlink{classns3_1_1Ipv6_a3337dc6ce66612b0fa9b57f7f0338745}{GetInterfaceForDevice} (device);
646   ipv6Addr = \hyperlink{classns3_1_1Ipv6InterfaceAddress}{Ipv6InterfaceAddress} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6Address} (\textcolor{stringliteral}{"2001:0100:1::2"}), 
      \hyperlink{classns3_1_1Ipv6Prefix}{Ipv6Prefix} (64));
647   ipv6->\hyperlink{classns3_1_1Ipv6_a5cd576e83cf65445be3a0b5ffd1ddc5c}{AddAddress} (ifIndex, ipv6Addr);
648   ipv6->\hyperlink{classns3_1_1Ipv6_a8e61d85ec7fd342ed38fef2d040ed1b9}{SetUp} (ifIndex);
649 
650   \textcolor{comment}{// Create the UDP sockets}
651   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} rxSocketFactory = rxNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1UdpSocketFactory}{UdpSocketFactory}> ();
652   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} rxSocket = rxSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
653   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (rxSocket->Bind (\hyperlink{classns3_1_1Inet6SocketAddress}{Inet6SocketAddress} (
      \hyperlink{classns3_1_1Ipv6Address}{Ipv6Address} (\textcolor{stringliteral}{"2001:0100::1"}), 1234)), 0, \textcolor{stringliteral}{"trivial"});
654   rxSocket->SetRecvCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classUdp6SocketImplTest_a9cd13c36dbcbebd6c3e62ccbd03ff6fc}{Udp6SocketImplTest::ReceivePkt}, \textcolor{keyword}{this}));
655 
656   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} rxSocket2 = rxSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
657   rxSocket2->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classUdp6SocketImplTest_a66285083e8cd6b7884b63ca89282419a}{Udp6SocketImplTest::ReceivePkt2}, \textcolor{keyword}{this}));
658   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (rxSocket2->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} (
      \hyperlink{classns3_1_1Inet6SocketAddress}{Inet6SocketAddress} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6Address} (\textcolor{stringliteral}{"2001:0100:1::1"}), 1234)), 0, \textcolor{stringliteral}{"trivial"});
659 
660   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} txSocketFactory = txNode->GetObject<
      \hyperlink{classns3_1_1UdpSocketFactory}{UdpSocketFactory}> ();
661   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} txSocket = txSocketFactory->\hyperlink{classns3_1_1Socket_ad448a62bb50ad3dbac59c879a885a8d2}{CreateSocket} ();
662   txSocket->\hyperlink{classns3_1_1Socket_a32b4fa27b732a63207c8d9054a817ed5}{SetAllowBroadcast} (\textcolor{keyword}{true});
663   \textcolor{comment}{// ------ Now the tests ------------}
664 
665   \textcolor{comment}{// Unicast test}
666   \hyperlink{classUdp6SocketImplTest_a427d2e3289403cb472bd8414114d2894}{SendDataTo} (txSocket, \textcolor{stringliteral}{"2001:0100::1"});
667   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 123, \textcolor{stringliteral}{"trivial"});
668   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 0, \textcolor{stringliteral}{"second interface should receive it"});
669 
670   \hyperlink{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
671   \hyperlink{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
672 
673   \textcolor{comment}{// Simple Link-local multicast test}
674 
675   \textcolor{comment}{// When receiving broadcast packets, all sockets sockets bound to}
676   \textcolor{comment}{// the address/port should receive a copy of the same packet -- if}
677   \textcolor{comment}{// the socket address matches.}
678   rxSocket2->\hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose} ();
679   rxSocket2 = rxSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
680   rxSocket2->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classUdp6SocketImplTest_a66285083e8cd6b7884b63ca89282419a}{Udp6SocketImplTest::ReceivePkt2}, \textcolor{keyword}{this}));
681   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (rxSocket2->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} (
      \hyperlink{classns3_1_1Inet6SocketAddress}{Inet6SocketAddress} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6Address} (\textcolor{stringliteral}{"::"}), 1234)), 0, \textcolor{stringliteral}{"trivial"});
682 
683   txSocket->BindToNetDevice (net1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1));
684   \hyperlink{classUdp6SocketImplTest_a427d2e3289403cb472bd8414114d2894}{SendDataTo} (txSocket, \textcolor{stringliteral}{"ff02::1"});
685   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 0, \textcolor{stringliteral}{"first socket should not receive it (it is bound specifically to the second
       interface's address"});
686   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 123, \textcolor{stringliteral}{"recv2: ff02::1"});
687 
688   \hyperlink{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
689   \hyperlink{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
690 
691   \textcolor{comment}{// Simple getpeername tests}
692   \hyperlink{classns3_1_1Address}{Address} peerAddress;
693   \textcolor{keywordtype}{int} err = txSocket->GetPeerName (peerAddress);
694   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, -1, \textcolor{stringliteral}{"socket GetPeerName() should fail when socket is not
       connected"});
695   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (txSocket->GetErrno (), Socket::ERROR\_NOTCONN, \textcolor{stringliteral}{"socket error
       code should be ERROR\_NOTCONN"});
696 
697   \hyperlink{classns3_1_1Inet6SocketAddress}{Inet6SocketAddress} peer (\textcolor{stringliteral}{"2001:0100::1"}, 1234);
698   err = txSocket->Connect (peer);
699   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, 0, \textcolor{stringliteral}{"socket Connect() should succeed"});
700 
701   err = txSocket->GetPeerName (peerAddress);
702   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, 0, \textcolor{stringliteral}{"socket GetPeerName() should succeed when socket is
       connected"});
703   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (peerAddress, peer, \textcolor{stringliteral}{"address from socket GetPeerName() should
       equal the connected address"});
704 
705   Simulator::Destroy ();
706 
707 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!Do\+Send\+Data\+To@{Do\+Send\+Data\+To}}
\index{Do\+Send\+Data\+To@{Do\+Send\+Data\+To}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Do\+Send\+Data\+To(\+Ptr$<$ Socket $>$ socket, std\+::string to)}{DoSendDataTo(Ptr< Socket > socket, std::string to)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp6\+Socket\+Impl\+Test\+::\+Do\+Send\+Data\+To (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{std\+::string}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdp6SocketImplTest_aea2e3e7a4f51cdee3bd8c69b43ae169a}{}\label{classUdp6SocketImplTest_aea2e3e7a4f51cdee3bd8c69b43ae169a}


Send data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The sending socket. \\
\hline
{\em to} & The destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
573 \{
574   \hyperlink{classns3_1_1Address}{Address} realTo = \hyperlink{classns3_1_1Inet6SocketAddress}{Inet6SocketAddress} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6Address} (to.c\_str ()), 1234)
      ;
575   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (socket->\hyperlink{classns3_1_1Socket_af898fce6a58e0dbba23c1c6de1d4220e}{SendTo} (Create<Packet> (123), 0, realTo),
576                          123, \textcolor{stringliteral}{"200"});
577 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!Receive\+Packet@{Receive\+Packet}}
\index{Receive\+Packet@{Receive\+Packet}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Packet(\+Ptr$<$ Socket $>$ socket, Ptr$<$ Packet $>$ packet, const Address \&from)}{ReceivePacket(Ptr< Socket > socket, Ptr< Packet > packet, const Address &from)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp6\+Socket\+Impl\+Test\+::\+Receive\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{const {\bf Address} \&}]{from}
\end{DoxyParamCaption}
)}\hypertarget{classUdp6SocketImplTest_a12f789dd1f3154ac8527c8f61b85ba7b}{}\label{classUdp6SocketImplTest_a12f789dd1f3154ac8527c8f61b85ba7b}


Receive packets (1). 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
{\em packet} & The received packet. \\
\hline
{\em from} & The source address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
540 \{
541   \hyperlink{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}{m\_receivedPacket} = packet;
542 \}
\end{DoxyCode}
\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!Receive\+Packet2@{Receive\+Packet2}}
\index{Receive\+Packet2@{Receive\+Packet2}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Packet2(\+Ptr$<$ Socket $>$ socket, Ptr$<$ Packet $>$ packet, const Address \&from)}{ReceivePacket2(Ptr< Socket > socket, Ptr< Packet > packet, const Address &from)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp6\+Socket\+Impl\+Test\+::\+Receive\+Packet2 (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{const {\bf Address} \&}]{from}
\end{DoxyParamCaption}
)}\hypertarget{classUdp6SocketImplTest_ab17ab47e76ab40172a1add9d0c58023d}{}\label{classUdp6SocketImplTest_ab17ab47e76ab40172a1add9d0c58023d}


Receive packets (2). 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
{\em packet} & The received packet. \\
\hline
{\em from} & The source address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
545 \{
546   \hyperlink{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}{m\_receivedPacket2} = packet;
547 \}
\end{DoxyCode}
\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!Receive\+Pkt@{Receive\+Pkt}}
\index{Receive\+Pkt@{Receive\+Pkt}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Pkt(\+Ptr$<$ Socket $>$ socket)}{ReceivePkt(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp6\+Socket\+Impl\+Test\+::\+Receive\+Pkt (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{classUdp6SocketImplTest_a9cd13c36dbcbebd6c3e62ccbd03ff6fc}{}\label{classUdp6SocketImplTest_a9cd13c36dbcbebd6c3e62ccbd03ff6fc}


Receive packets (1). 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
550 \{
551   uint32\_t availableData;
552   availableData = socket->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ();
553   \hyperlink{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}{m\_receivedPacket} = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (
      \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint32\_t>::max} (), 0);
554   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (availableData == \hyperlink{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
555   \textcolor{comment}{//cast availableData to void, to suppress 'availableData' set but not used}
556   \textcolor{comment}{//compiler warning}
557   (void) availableData;
558 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!Receive\+Pkt2@{Receive\+Pkt2}}
\index{Receive\+Pkt2@{Receive\+Pkt2}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Pkt2(\+Ptr$<$ Socket $>$ socket)}{ReceivePkt2(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp6\+Socket\+Impl\+Test\+::\+Receive\+Pkt2 (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{classUdp6SocketImplTest_a66285083e8cd6b7884b63ca89282419a}{}\label{classUdp6SocketImplTest_a66285083e8cd6b7884b63ca89282419a}


Receive packets (2). 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
561 \{
562   uint32\_t availableData;
563   availableData = socket->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ();
564   \hyperlink{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}{m\_receivedPacket2} = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (
      \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint32\_t>::max} (), 0);
565   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (availableData == \hyperlink{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
566   \textcolor{comment}{//cast availableData to void, to suppress 'availableData' set but not used}
567   \textcolor{comment}{//compiler warning}
568   (void) availableData;
569 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!Send\+Data\+To@{Send\+Data\+To}}
\index{Send\+Data\+To@{Send\+Data\+To}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Send\+Data\+To(\+Ptr$<$ Socket $>$ socket, std\+::string to)}{SendDataTo(Ptr< Socket > socket, std::string to)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp6\+Socket\+Impl\+Test\+::\+Send\+Data\+To (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{std\+::string}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdp6SocketImplTest_a427d2e3289403cb472bd8414114d2894}{}\label{classUdp6SocketImplTest_a427d2e3289403cb472bd8414114d2894}


Send data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The sending socket. \\
\hline
{\em to} & The destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
581 \{
582   \hyperlink{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}{m\_receivedPacket} = Create<Packet> ();
583   \hyperlink{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}{m\_receivedPacket2} = Create<Packet> ();
584   Simulator::ScheduleWithContext (socket->\hyperlink{classns3_1_1Socket_aba642ad4301c1df47befc0aa9afa2e48}{GetNode} ()->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} (), 
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0),
585                                   &\hyperlink{classUdp6SocketImplTest_aea2e3e7a4f51cdee3bd8c69b43ae169a}{Udp6SocketImplTest::DoSendDataTo}, \textcolor{keyword}{this}, 
      socket, to);
586   Simulator::Run ();
587 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10




\subsection{Member Data Documentation}
\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!m\+\_\+received\+Packet@{m\+\_\+received\+Packet}}
\index{m\+\_\+received\+Packet@{m\+\_\+received\+Packet}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+received\+Packet}{m_receivedPacket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ Udp6\+Socket\+Impl\+Test\+::m\+\_\+received\+Packet\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}{}\label{classUdp6SocketImplTest_a0fe42d497152d2bbfa1660fbe5078c8a}


Received packet (1). 

\index{Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}!m\+\_\+received\+Packet2@{m\+\_\+received\+Packet2}}
\index{m\+\_\+received\+Packet2@{m\+\_\+received\+Packet2}!Udp6\+Socket\+Impl\+Test@{Udp6\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+received\+Packet2}{m_receivedPacket2}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ Udp6\+Socket\+Impl\+Test\+::m\+\_\+received\+Packet2\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}{}\label{classUdp6SocketImplTest_a7bd5d6c237574c130414e505553bd13b}


Received packet (2). 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{udp-test_8cc}{udp-\/test.\+cc}\end{DoxyCompactItemize}
