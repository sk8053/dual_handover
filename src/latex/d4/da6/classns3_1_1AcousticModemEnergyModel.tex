\hypertarget{classns3_1_1AcousticModemEnergyModel}{}\section{ns3\+:\+:Acoustic\+Modem\+Energy\+Model Class Reference}
\label{classns3_1_1AcousticModemEnergyModel}\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}


{\ttfamily \#include $<$acoustic-\/modem-\/energy-\/model.\+h$>$}



Inheritance diagram for ns3\+:\+:Acoustic\+Modem\+Energy\+Model\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Acoustic\+Modem\+Energy\+Model\+:
% FIG 1
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{classns3_1_1Callback}{Callback}$<$ void $>$ \hyperlink{classns3_1_1AcousticModemEnergyModel_a04ad0c4c5ea21dc8d221761b734c317b}{Acoustic\+Modem\+Energy\+Depletion\+Callback}
\item 
typedef \hyperlink{classns3_1_1Callback}{Callback}$<$ void $>$ \hyperlink{classns3_1_1AcousticModemEnergyModel_a54a60baedb4014f67531e44ce079f1b1}{Acoustic\+Modem\+Energy\+Recharge\+Callback}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1AcousticModemEnergyModel_a9332ef84f0e5ea3266ccef6f43deedb4}{Acoustic\+Modem\+Energy\+Model} ()
\item 
virtual \hyperlink{classns3_1_1AcousticModemEnergyModel_a747f3191bb071d52db10a5389339edb4}{$\sim$\+Acoustic\+Modem\+Energy\+Model} ()
\item 
virtual void \hyperlink{classns3_1_1AcousticModemEnergyModel_a695fcf68618fa8e035bf7d3cf017fd90}{Set\+Node} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node)
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classns3_1_1AcousticModemEnergyModel_a0a97672a3fe563d7d1830a41aa338170}{Get\+Node} (void) const 
\item 
virtual void \hyperlink{classns3_1_1AcousticModemEnergyModel_ae8528d992ff06b11da750d064e0c9ce3}{Set\+Energy\+Source} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1EnergySource}{Energy\+Source} $>$ source)
\item 
virtual double \hyperlink{classns3_1_1AcousticModemEnergyModel_a4eb0763bc03c52338f83f011e4c430fd}{Get\+Total\+Energy\+Consumption} (void) const 
\item 
double \hyperlink{classns3_1_1AcousticModemEnergyModel_a47f9c6f65e5ffd7133e6fc70cf173bd8}{Get\+Tx\+PowerW} (void) const 
\item 
void \hyperlink{classns3_1_1AcousticModemEnergyModel_adf451e8028d29a8a98012ab11da45359}{Set\+Tx\+PowerW} (double tx\+PowerW)
\item 
double \hyperlink{classns3_1_1AcousticModemEnergyModel_a41af38f83b970d959b120525507c020b}{Get\+Rx\+PowerW} (void) const 
\item 
void \hyperlink{classns3_1_1AcousticModemEnergyModel_a2c0eae8ca46f703c3559c8b54617b34f}{Set\+Rx\+PowerW} (double rx\+PowerW)
\item 
double \hyperlink{classns3_1_1AcousticModemEnergyModel_a60265ec94e8c5422f7042f10bad02b2b}{Get\+Idle\+PowerW} (void) const 
\item 
void \hyperlink{classns3_1_1AcousticModemEnergyModel_aa7d720f7e9784c31a8bb016b7d2f3677}{Set\+Idle\+PowerW} (double idle\+PowerW)
\item 
double \hyperlink{classns3_1_1AcousticModemEnergyModel_a21675842bdfc083a353146d39593aba8}{Get\+Sleep\+PowerW} (void) const 
\item 
void \hyperlink{classns3_1_1AcousticModemEnergyModel_abf8c0c009a2b90b9e2f9ad77da26e015}{Set\+Sleep\+PowerW} (double sleep\+PowerW)
\item 
int \hyperlink{classns3_1_1AcousticModemEnergyModel_ab3d8e18f563f041efbcc9ca800b1194e}{Get\+Current\+State} (void) const 
\item 
void \hyperlink{classns3_1_1AcousticModemEnergyModel_ac6241dfd9430fd5ada65d37fb08051ec}{Set\+Energy\+Depletion\+Callback} (\hyperlink{classns3_1_1AcousticModemEnergyModel_a04ad0c4c5ea21dc8d221761b734c317b}{Acoustic\+Modem\+Energy\+Depletion\+Callback} callback)
\item 
void \hyperlink{classns3_1_1AcousticModemEnergyModel_a0f1117fac49bcadf15101fdfd1843234}{Set\+Energy\+Recharge\+Callback} (\hyperlink{classns3_1_1AcousticModemEnergyModel_a54a60baedb4014f67531e44ce079f1b1}{Acoustic\+Modem\+Energy\+Recharge\+Callback} callback)
\item 
virtual void \hyperlink{classns3_1_1AcousticModemEnergyModel_abc8069f9d62851c055d740274a1b5bac}{Change\+State} (int new\+State)
\item 
virtual void \hyperlink{classns3_1_1AcousticModemEnergyModel_aa9af4358a1a528e7e77783e0195ebd93}{Handle\+Energy\+Depletion} (void)
\item 
virtual void \hyperlink{classns3_1_1AcousticModemEnergyModel_ab523ba8080020aa5f2aff449a8833190}{Handle\+Energy\+Recharged} (void)
\begin{DoxyCompactList}\small\item\em Handles energy recharged. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1AcousticModemEnergyModel_a9261890776d876f46b1d48de27b74443}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1AcousticModemEnergyModel_a37a4c65a4c1d9b8bd24ae620ed86308f}{Do\+Dispose} (void)
\item 
virtual double \hyperlink{classns3_1_1AcousticModemEnergyModel_a8f7fd5171674f8b48e4a7c7806741129}{Do\+Get\+CurrentA} (void) const 
\item 
bool \hyperlink{classns3_1_1AcousticModemEnergyModel_ae9feec10f18afb384f0ce85e6a7f2ea2}{Is\+State\+Transition\+Valid} (const int dest\+State)
\item 
void \hyperlink{classns3_1_1AcousticModemEnergyModel_a48ddf2c511e50d693a8a9bc4e3dc8d55}{Set\+Micro\+Modem\+State} (const int state)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{m\+\_\+node}
\begin{DoxyCompactList}\small\item\em The node hosting this transducer. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1EnergySource}{Energy\+Source} $>$ \hyperlink{classns3_1_1AcousticModemEnergyModel_a049dd286b8a9b5b7178132d7f2ed65f8}{m\+\_\+source}
\begin{DoxyCompactList}\small\item\em The energy source. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1AcousticModemEnergyModel_a39960d270366b5ff4a83d32c077b44a2}{m\+\_\+tx\+PowerW}
\begin{DoxyCompactList}\small\item\em The transmitter power, in watts. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1AcousticModemEnergyModel_a1d81af5908e48e1e9c995306ab19d9bd}{m\+\_\+rx\+PowerW}
\begin{DoxyCompactList}\small\item\em The receiver power, in watts. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1AcousticModemEnergyModel_a2a4d8c7f2c572c056086ea37d087ff42}{m\+\_\+idle\+PowerW}
\begin{DoxyCompactList}\small\item\em The idle power, in watts. \end{DoxyCompactList}\item 
double \hyperlink{classns3_1_1AcousticModemEnergyModel_ab65c0e46edd757bd1159ed7fddc1336a}{m\+\_\+sleep\+PowerW}
\begin{DoxyCompactList}\small\item\em The sleep power, in watts. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1TracedValue}{Traced\+Value}$<$ double $>$ \hyperlink{classns3_1_1AcousticModemEnergyModel_a435aaa2f2bfec309d87b476c4f17b647}{m\+\_\+total\+Energy\+Consumption}
\item 
int \hyperlink{classns3_1_1AcousticModemEnergyModel_a7fa8d6ead4a746d2afac40f060921af0}{m\+\_\+current\+State}
\begin{DoxyCompactList}\small\item\em Current modem state. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1AcousticModemEnergyModel_a2f87b6c71b37c55d369b0fffc8818765}{m\+\_\+last\+Update\+Time}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Time}{Time} stamp of previous energy update. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1AcousticModemEnergyModel_a04ad0c4c5ea21dc8d221761b734c317b}{Acoustic\+Modem\+Energy\+Depletion\+Callback} \hyperlink{classns3_1_1AcousticModemEnergyModel_a99efd3520dc70840e891568dfbf59f5a}{m\+\_\+energy\+Depletion\+Callback}
\item 
\hyperlink{classns3_1_1AcousticModemEnergyModel_a54a60baedb4014f67531e44ce079f1b1}{Acoustic\+Modem\+Energy\+Recharge\+Callback} \hyperlink{classns3_1_1AcousticModemEnergyModel_ade41911b745597921297b9be5b0eba8d}{m\+\_\+energy\+Recharge\+Callback}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
W\+H\+OI micro-\/modem energy model.

Basing on the Device Energy Model interface, has been implemented a specific energy model for the W\+H\+OI micro modem. The class follows pretty closely the Radio\+Energy\+Model class as the transducer behaviour is pretty close to the one of a wifi radio, with identical states (rx, tx, idle, sleep).

The power consumption values implemented into the model are as follows \mbox{[}1\mbox{]}\+:

Modem State Power Consumption TX 50 W RX 158 mW Idle 158 mW Sleep 5.\+8 mW

References\+: \mbox{[}1\mbox{]} Freitag et al., The whoi micro-\/modem\+: an acoustic communications and navigation system for multiple platforms, in In Proc. I\+E\+EE O\+C\+E\+A\+N\+S05 Conf, 2005. U\+RL\+: \href{http://ieeexplore.ieee.org/iel5/10918/34367/01639901.pdf}{\tt http\+://ieeexplore.\+ieee.\+org/iel5/10918/34367/01639901.\+pdf} 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Acoustic\+Modem\+Energy\+Depletion\+Callback@{Acoustic\+Modem\+Energy\+Depletion\+Callback}}
\index{Acoustic\+Modem\+Energy\+Depletion\+Callback@{Acoustic\+Modem\+Energy\+Depletion\+Callback}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Acoustic\+Modem\+Energy\+Depletion\+Callback}{AcousticModemEnergyDepletionCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Callback}$<$void$>$ {\bf ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Acoustic\+Modem\+Energy\+Depletion\+Callback}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a04ad0c4c5ea21dc8d221761b734c317b}{}\label{classns3_1_1AcousticModemEnergyModel_a04ad0c4c5ea21dc8d221761b734c317b}
\hyperlink{classns3_1_1Callback}{Callback} type for energy depletion handling. \index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Acoustic\+Modem\+Energy\+Recharge\+Callback@{Acoustic\+Modem\+Energy\+Recharge\+Callback}}
\index{Acoustic\+Modem\+Energy\+Recharge\+Callback@{Acoustic\+Modem\+Energy\+Recharge\+Callback}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Acoustic\+Modem\+Energy\+Recharge\+Callback}{AcousticModemEnergyRechargeCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Callback}$<$void$>$ {\bf ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Acoustic\+Modem\+Energy\+Recharge\+Callback}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a54a60baedb4014f67531e44ce079f1b1}{}\label{classns3_1_1AcousticModemEnergyModel_a54a60baedb4014f67531e44ce079f1b1}
\hyperlink{classns3_1_1Callback}{Callback} type for energy recharge handling. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Acoustic\+Modem\+Energy\+Model@{Acoustic\+Modem\+Energy\+Model}}
\index{Acoustic\+Modem\+Energy\+Model@{Acoustic\+Modem\+Energy\+Model}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Acoustic\+Modem\+Energy\+Model()}{AcousticModemEnergyModel()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Acoustic\+Modem\+Energy\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1AcousticModemEnergyModel_a9332ef84f0e5ea3266ccef6f43deedb4}{}\label{classns3_1_1AcousticModemEnergyModel_a9332ef84f0e5ea3266ccef6f43deedb4}
Constructor. 
\begin{DoxyCode}
75 \{
76   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
77   \hyperlink{classns3_1_1AcousticModemEnergyModel_a7fa8d6ead4a746d2afac40f060921af0}{m\_currentState} = \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa6143a554e834f71f498e5f781682d347}{UanPhy::IDLE};  \textcolor{comment}{// initially IDLE}
78   \hyperlink{classns3_1_1AcousticModemEnergyModel_a2f87b6c71b37c55d369b0fffc8818765}{m\_lastUpdateTime} = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0);
79   \hyperlink{classns3_1_1AcousticModemEnergyModel_a99efd3520dc70840e891568dfbf59f5a}{m\_energyDepletionCallback}.\hyperlink{classns3_1_1Callback_ab24de4ac458fc5b1ac6f7a672c4c6cea}{Nullify} ();
80   \hyperlink{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{m\_node} = 0;
81   \hyperlink{classns3_1_1AcousticModemEnergyModel_a049dd286b8a9b5b7178132d7f2ed65f8}{m\_source} = 0;
82 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!````~Acoustic\+Modem\+Energy\+Model@{$\sim$\+Acoustic\+Modem\+Energy\+Model}}
\index{````~Acoustic\+Modem\+Energy\+Model@{$\sim$\+Acoustic\+Modem\+Energy\+Model}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{$\sim$\+Acoustic\+Modem\+Energy\+Model()}{~AcousticModemEnergyModel()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::$\sim$\+Acoustic\+Modem\+Energy\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a747f3191bb071d52db10a5389339edb4}{}\label{classns3_1_1AcousticModemEnergyModel_a747f3191bb071d52db10a5389339edb4}
Dummy destructor, see Do\+Dispose 
\begin{DoxyCode}
85 \{
86 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Change\+State@{Change\+State}}
\index{Change\+State@{Change\+State}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Change\+State(int new\+State)}{ChangeState(int newState)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Change\+State (
\begin{DoxyParamCaption}
\item[{int}]{new\+State}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_abc8069f9d62851c055d740274a1b5bac}{}\label{classns3_1_1AcousticModemEnergyModel_abc8069f9d62851c055d740274a1b5bac}
Changes state of the \hyperlink{classns3_1_1AcousticModemEnergyModel}{Acoustic\+Modem\+Energy\+Model}.


\begin{DoxyParams}{Parameters}
{\em new\+State} & New state the modem is in. \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1DeviceEnergyModel_a332be7863f3e8258743811077dde7f39}{ns3\+::\+Device\+Energy\+Model}.


\begin{DoxyCode}
206 \{
207   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << newState);
208   \textcolor{comment}{// NS\_ASSERT (IsStateTransitionValid ((MicroModemState) newState));}
209 
210   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} duration = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - \hyperlink{classns3_1_1AcousticModemEnergyModel_a2f87b6c71b37c55d369b0fffc8818765}{m\_lastUpdateTime};
211   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (duration.GetNanoSeconds () >= 0); \textcolor{comment}{// check if duration is valid}
212 
213   \textcolor{comment}{// energy to decrease = current * voltage * time}
214   \textcolor{keywordtype}{double} energyToDecrease = 0.0;
215 
216   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1AcousticModemEnergyModel_a7fa8d6ead4a746d2afac40f060921af0}{m\_currentState})
217     \{
218     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9faab8bf12eabef757b7e77f59f71ff102c}{UanPhy::TX}:
219       energyToDecrease = duration.GetSeconds () * \hyperlink{classns3_1_1AcousticModemEnergyModel_a39960d270366b5ff4a83d32c077b44a2}{m\_txPowerW};
220       \textcolor{keywordflow}{break};
221     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa35e2631d9c2bed2205eaa7f4da74dda8}{UanPhy::RX}:
222       energyToDecrease = duration.GetSeconds () * \hyperlink{classns3_1_1AcousticModemEnergyModel_a1d81af5908e48e1e9c995306ab19d9bd}{m\_rxPowerW};
223       \textcolor{keywordflow}{break};
224     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa6143a554e834f71f498e5f781682d347}{UanPhy::IDLE}:
225       energyToDecrease = duration.GetSeconds () * \hyperlink{classns3_1_1AcousticModemEnergyModel_a2a4d8c7f2c572c056086ea37d087ff42}{m\_idlePowerW};
226       \textcolor{keywordflow}{break};
227     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa4992fce9c378d8a56ef87ca363d9a417}{UanPhy::SLEEP}:
228       energyToDecrease = duration.GetSeconds () * \hyperlink{classns3_1_1AcousticModemEnergyModel_ab65c0e46edd757bd1159ed7fddc1336a}{m\_sleepPowerW};
229       \textcolor{keywordflow}{break};
230     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9faa9eccd74ad50233a8402ed255e273361}{UanPhy::DISABLED}:
231       energyToDecrease = 0;
232       \textcolor{keywordflow}{break};
233     \textcolor{keywordflow}{default}:
234       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"AcousticModemEnergyModel:Undefined radio state!"});
235     \}
236 
237   \textcolor{comment}{// update total energy consumption}
238   \hyperlink{classns3_1_1AcousticModemEnergyModel_a435aaa2f2bfec309d87b476c4f17b647}{m\_totalEnergyConsumption} += energyToDecrease;
239 
240   \textcolor{comment}{// update last update time stamp}
241   \hyperlink{classns3_1_1AcousticModemEnergyModel_a2f87b6c71b37c55d369b0fffc8818765}{m\_lastUpdateTime} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
242 
243   \textcolor{comment}{// notify energy source}
244   \hyperlink{classns3_1_1AcousticModemEnergyModel_a049dd286b8a9b5b7178132d7f2ed65f8}{m\_source}->UpdateEnergySource ();
245 
246   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1AcousticModemEnergyModel_a7fa8d6ead4a746d2afac40f060921af0}{m\_currentState} != \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9faa9eccd74ad50233a8402ed255e273361}{UanPhy::DISABLED})
247     \{
248       \textcolor{comment}{// update current state & last update time stamp}
249       \hyperlink{classns3_1_1AcousticModemEnergyModel_a48ddf2c511e50d693a8a9bc4e3dc8d55}{SetMicroModemState} (newState);
250     \}
251 
252   \textcolor{comment}{// some debug message}
253   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"AcousticModemEnergyModel:Total energy consumption at node #"} <<
254                 \hyperlink{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{m\_node}->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} () << \textcolor{stringliteral}{" is "} << 
      \hyperlink{classns3_1_1AcousticModemEnergyModel_a435aaa2f2bfec309d87b476c4f17b647}{m\_totalEnergyConsumption} << \textcolor{stringliteral}{"J"});
255 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a37a4c65a4c1d9b8bd24ae620ed86308f}{}\label{classns3_1_1AcousticModemEnergyModel_a37a4c65a4c1d9b8bd24ae620ed86308f}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1AcousticModemEnergyModel_a37a4c65a4c1d9b8bd24ae620ed86308f}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
297 \{
298   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
299   \hyperlink{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{m\_node} = 0;
300   \hyperlink{classns3_1_1AcousticModemEnergyModel_a049dd286b8a9b5b7178132d7f2ed65f8}{m\_source} = 0;
301   \hyperlink{classns3_1_1AcousticModemEnergyModel_a99efd3520dc70840e891568dfbf59f5a}{m\_energyDepletionCallback}.\hyperlink{classns3_1_1Callback_ab24de4ac458fc5b1ac6f7a672c4c6cea}{Nullify} ();
302 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Do\+Get\+CurrentA@{Do\+Get\+CurrentA}}
\index{Do\+Get\+CurrentA@{Do\+Get\+CurrentA}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Do\+Get\+Current\+A(void) const }{DoGetCurrentA(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Do\+Get\+CurrentA (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a8f7fd5171674f8b48e4a7c7806741129}{}\label{classns3_1_1AcousticModemEnergyModel_a8f7fd5171674f8b48e4a7c7806741129}
\begin{DoxyReturn}{Returns}
Current draw of device, at current state. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1DeviceEnergyModel_a08931b7e6d86de607eb38ad836509170}{ns3\+::\+Device\+Energy\+Model}.


\begin{DoxyCode}
306 \{
307   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
308   
309   \textcolor{keywordtype}{double} supplyVoltage = \hyperlink{classns3_1_1AcousticModemEnergyModel_a049dd286b8a9b5b7178132d7f2ed65f8}{m\_source}->GetSupplyVoltage ();
310   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (supplyVoltage != 0.0);
311   \textcolor{keywordtype}{double} stateCurrent = 0.0;
312   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1AcousticModemEnergyModel_a7fa8d6ead4a746d2afac40f060921af0}{m\_currentState})
313     \{
314     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9faab8bf12eabef757b7e77f59f71ff102c}{UanPhy::TX}:
315       stateCurrent = \hyperlink{classns3_1_1AcousticModemEnergyModel_a39960d270366b5ff4a83d32c077b44a2}{m\_txPowerW} / supplyVoltage;
316       \textcolor{keywordflow}{break};
317     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa35e2631d9c2bed2205eaa7f4da74dda8}{UanPhy::RX}:
318       stateCurrent = \hyperlink{classns3_1_1AcousticModemEnergyModel_a1d81af5908e48e1e9c995306ab19d9bd}{m\_rxPowerW} / supplyVoltage;
319       \textcolor{keywordflow}{break};
320     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa6143a554e834f71f498e5f781682d347}{UanPhy::IDLE}:
321       stateCurrent = \hyperlink{classns3_1_1AcousticModemEnergyModel_a2a4d8c7f2c572c056086ea37d087ff42}{m\_idlePowerW} / supplyVoltage;
322       \textcolor{keywordflow}{break};
323     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa4992fce9c378d8a56ef87ca363d9a417}{UanPhy::SLEEP}:
324       stateCurrent = \hyperlink{classns3_1_1AcousticModemEnergyModel_ab65c0e46edd757bd1159ed7fddc1336a}{m\_sleepPowerW} / supplyVoltage;
325       \textcolor{keywordflow}{break};
326     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9faa9eccd74ad50233a8402ed255e273361}{UanPhy::DISABLED}:
327       stateCurrent = 0.0;
328       \textcolor{keywordflow}{break};
329     \textcolor{keywordflow}{default}:
330       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"AcousticModemEnergyModel:Undefined radio state!"});
331     \}
332 
333   \textcolor{keywordflow}{return} stateCurrent;
334 \}
\end{DoxyCode}
\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Get\+Current\+State@{Get\+Current\+State}}
\index{Get\+Current\+State@{Get\+Current\+State}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Get\+Current\+State(void) const }{GetCurrentState(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Get\+Current\+State (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1AcousticModemEnergyModel_ab3d8e18f563f041efbcc9ca800b1194e}{}\label{classns3_1_1AcousticModemEnergyModel_ab3d8e18f563f041efbcc9ca800b1194e}
Get the current state of the modem.

\begin{DoxyReturn}{Returns}
Current state. 
\end{DoxyReturn}

\begin{DoxyCode}
175 \{
176   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
177   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1AcousticModemEnergyModel_a7fa8d6ead4a746d2afac40f060921af0}{m\_currentState};
178 \}
\end{DoxyCode}
\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Get\+Idle\+PowerW@{Get\+Idle\+PowerW}}
\index{Get\+Idle\+PowerW@{Get\+Idle\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Get\+Idle\+Power\+W(void) const }{GetIdlePowerW(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Get\+Idle\+PowerW (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1AcousticModemEnergyModel_a60265ec94e8c5422f7042f10bad02b2b}{}\label{classns3_1_1AcousticModemEnergyModel_a60265ec94e8c5422f7042f10bad02b2b}
Get the idle power of the modem.

\begin{DoxyReturn}{Returns}
The idle power in Watts 
\end{DoxyReturn}

\begin{DoxyCode}
147 \{
148   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
149   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1AcousticModemEnergyModel_a2a4d8c7f2c572c056086ea37d087ff42}{m\_idlePowerW};
150 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Get\+Node@{Get\+Node}}
\index{Get\+Node@{Get\+Node}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Get\+Node(void) const }{GetNode(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Node} $>$ ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Get\+Node (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a0a97672a3fe563d7d1830a41aa338170}{}\label{classns3_1_1AcousticModemEnergyModel_a0a97672a3fe563d7d1830a41aa338170}
Gets pointer to node.

\begin{DoxyReturn}{Returns}
Pointer to node. 
\end{DoxyReturn}

\begin{DoxyCode}
98 \{
99   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{m\_node};
100 \}
\end{DoxyCode}
\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Get\+Rx\+PowerW@{Get\+Rx\+PowerW}}
\index{Get\+Rx\+PowerW@{Get\+Rx\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Get\+Rx\+Power\+W(void) const }{GetRxPowerW(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Get\+Rx\+PowerW (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1AcousticModemEnergyModel_a41af38f83b970d959b120525507c020b}{}\label{classns3_1_1AcousticModemEnergyModel_a41af38f83b970d959b120525507c020b}
Get the recieving power.

\begin{DoxyReturn}{Returns}
The receiving power in Watts 
\end{DoxyReturn}

\begin{DoxyCode}
133 \{
134   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
135   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1AcousticModemEnergyModel_a1d81af5908e48e1e9c995306ab19d9bd}{m\_rxPowerW};
136 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Get\+Sleep\+PowerW@{Get\+Sleep\+PowerW}}
\index{Get\+Sleep\+PowerW@{Get\+Sleep\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Get\+Sleep\+Power\+W(void) const }{GetSleepPowerW(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Get\+Sleep\+PowerW (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1AcousticModemEnergyModel_a21675842bdfc083a353146d39593aba8}{}\label{classns3_1_1AcousticModemEnergyModel_a21675842bdfc083a353146d39593aba8}
Get the sleep state power of the modem.

\begin{DoxyReturn}{Returns}
Sleep power of the modem in Watts 
\end{DoxyReturn}

\begin{DoxyCode}
161 \{
162   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
163   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1AcousticModemEnergyModel_ab65c0e46edd757bd1159ed7fddc1336a}{m\_sleepPowerW};
164 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Get\+Total\+Energy\+Consumption@{Get\+Total\+Energy\+Consumption}}
\index{Get\+Total\+Energy\+Consumption@{Get\+Total\+Energy\+Consumption}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Get\+Total\+Energy\+Consumption(void) const }{GetTotalEnergyConsumption(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Get\+Total\+Energy\+Consumption (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a4eb0763bc03c52338f83f011e4c430fd}{}\label{classns3_1_1AcousticModemEnergyModel_a4eb0763bc03c52338f83f011e4c430fd}
\begin{DoxyReturn}{Returns}
Total energy consumption of the device.
\end{DoxyReturn}
\hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model} records its own energy consumption during simulation. 

Implements \hyperlink{classns3_1_1DeviceEnergyModel_a2d791067acdc2d6298cc76aa318d6a17}{ns3\+::\+Device\+Energy\+Model}.


\begin{DoxyCode}
112 \{
113   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
114   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1AcousticModemEnergyModel_a435aaa2f2bfec309d87b476c4f17b647}{m\_totalEnergyConsumption};
115 \}
\end{DoxyCode}
\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Get\+Tx\+PowerW@{Get\+Tx\+PowerW}}
\index{Get\+Tx\+PowerW@{Get\+Tx\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Get\+Tx\+Power\+W(void) const }{GetTxPowerW(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Get\+Tx\+PowerW (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1AcousticModemEnergyModel_a47f9c6f65e5ffd7133e6fc70cf173bd8}{}\label{classns3_1_1AcousticModemEnergyModel_a47f9c6f65e5ffd7133e6fc70cf173bd8}
Get the transmission power of the modem.

\begin{DoxyReturn}{Returns}
The transmission power in Watts. 
\end{DoxyReturn}

\begin{DoxyCode}
119 \{
120   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
121   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1AcousticModemEnergyModel_a39960d270366b5ff4a83d32c077b44a2}{m\_txPowerW};
122 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a9261890776d876f46b1d48de27b74443}{}\label{classns3_1_1AcousticModemEnergyModel_a9261890776d876f46b1d48de27b74443}
Register this type. \begin{DoxyReturn}{Returns}
The object \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
38 \{
39   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::AcousticModemEnergyModel"})
40     .SetParent<\hyperlink{classns3_1_1DeviceEnergyModel_a29174f25707f14465081d80b555e3589}{DeviceEnergyModel}> ()
41     .AddConstructor<AcousticModemEnergyModel> ()
42     .AddAttribute (\textcolor{stringliteral}{"TxPowerW"},
43                    \textcolor{stringliteral}{"The modem Tx power in Watts"},
44                    DoubleValue (50),
45                    MakeDoubleAccessor (&\hyperlink{classns3_1_1AcousticModemEnergyModel_adf451e8028d29a8a98012ab11da45359}{AcousticModemEnergyModel::SetTxPowerW}
      ,
46                                        &\hyperlink{classns3_1_1AcousticModemEnergyModel_a47f9c6f65e5ffd7133e6fc70cf173bd8}{AcousticModemEnergyModel::GetTxPowerW}
      ),
47                    MakeDoubleChecker<double> ())
48     .AddAttribute (\textcolor{stringliteral}{"RxPowerW"},
49                    \textcolor{stringliteral}{"The modem Rx power in Watts"},
50                    DoubleValue (0.158),
51                    MakeDoubleAccessor (&\hyperlink{classns3_1_1AcousticModemEnergyModel_a2c0eae8ca46f703c3559c8b54617b34f}{AcousticModemEnergyModel::SetRxPowerW}
      ,
52                                        &\hyperlink{classns3_1_1AcousticModemEnergyModel_a41af38f83b970d959b120525507c020b}{AcousticModemEnergyModel::GetRxPowerW}
      ),
53                    MakeDoubleChecker<double> ())
54     .AddAttribute (\textcolor{stringliteral}{"IdlePowerW"},
55                    \textcolor{stringliteral}{"The modem Idle power in Watts"},
56                    DoubleValue (0.158),
57                    MakeDoubleAccessor (&\hyperlink{classns3_1_1AcousticModemEnergyModel_aa7d720f7e9784c31a8bb016b7d2f3677}{AcousticModemEnergyModel::SetIdlePowerW}
      ,
58                                        &\hyperlink{classns3_1_1AcousticModemEnergyModel_a60265ec94e8c5422f7042f10bad02b2b}{AcousticModemEnergyModel::GetIdlePowerW}
      ),
59                    MakeDoubleChecker<double> ())
60     .AddAttribute (\textcolor{stringliteral}{"SleepPowerW"},
61                    \textcolor{stringliteral}{"The modem Sleep power in Watts"},
62                    DoubleValue (0.0058),
63                    MakeDoubleAccessor (&\hyperlink{classns3_1_1AcousticModemEnergyModel_abf8c0c009a2b90b9e2f9ad77da26e015}{AcousticModemEnergyModel::SetSleepPowerW}
      ,
64                                        &\hyperlink{classns3_1_1AcousticModemEnergyModel_a21675842bdfc083a353146d39593aba8}{AcousticModemEnergyModel::GetSleepPowerW}
      ),
65                    MakeDoubleChecker<double> ())
66     .AddTraceSource (\textcolor{stringliteral}{"TotalEnergyConsumption"},
67                      \textcolor{stringliteral}{"Total energy consumption of the modem device."},
68                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1AcousticModemEnergyModel_a435aaa2f2bfec309d87b476c4f17b647}{AcousticModemEnergyModel::m\_totalEnergyConsumption}),
69                      \textcolor{stringliteral}{"ns3::TracedValueCallback::Double"})
70   ;
71   \textcolor{keywordflow}{return} tid;
72 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Handle\+Energy\+Depletion@{Handle\+Energy\+Depletion}}
\index{Handle\+Energy\+Depletion@{Handle\+Energy\+Depletion}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Handle\+Energy\+Depletion(void)}{HandleEnergyDepletion(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Handle\+Energy\+Depletion (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_aa9af4358a1a528e7e77783e0195ebd93}{}\label{classns3_1_1AcousticModemEnergyModel_aa9af4358a1a528e7e77783e0195ebd93}
Handles energy depletion. 

Implements \hyperlink{classns3_1_1DeviceEnergyModel_a8c5d6736dc63f20edd756503edb605f7}{ns3\+::\+Device\+Energy\+Model}.


\begin{DoxyCode}
259 \{
260   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
261   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"AcousticModemEnergyModel:Energy is depleted at node #"} <<
262                 \hyperlink{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{m\_node}->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} ());
263   \textcolor{comment}{// invoke energy depletion callback, if set.}
264   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1AcousticModemEnergyModel_a99efd3520dc70840e891568dfbf59f5a}{m\_energyDepletionCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
265     \{
266       \hyperlink{classns3_1_1AcousticModemEnergyModel_a99efd3520dc70840e891568dfbf59f5a}{m\_energyDepletionCallback} ();
267     \}
268   \textcolor{comment}{// invoke the phy energy depletion handler}
269   Ptr<UanNetDevice> dev = \hyperlink{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{m\_node}->\hyperlink{classns3_1_1Node_a5918dfd24ef632efc9a83a5f6561c76e}{GetDevice} (0)->GetObject<UanNetDevice> ();
270   dev->GetPhy ()->EnergyDepletionHandler ();
271   \hyperlink{classns3_1_1AcousticModemEnergyModel_a48ddf2c511e50d693a8a9bc4e3dc8d55}{SetMicroModemState}(\hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9faa9eccd74ad50233a8402ed255e273361}{UanPhy::DISABLED});
272 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Handle\+Energy\+Recharged@{Handle\+Energy\+Recharged}}
\index{Handle\+Energy\+Recharged@{Handle\+Energy\+Recharged}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Handle\+Energy\+Recharged(void)}{HandleEnergyRecharged(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Handle\+Energy\+Recharged (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_ab523ba8080020aa5f2aff449a8833190}{}\label{classns3_1_1AcousticModemEnergyModel_ab523ba8080020aa5f2aff449a8833190}


Handles energy recharged. 

Not implemented 

Implements \hyperlink{classns3_1_1DeviceEnergyModel_a9fb1053906abf1e8fb6dc3ae3f287046}{ns3\+::\+Device\+Energy\+Model}.


\begin{DoxyCode}
276 \{
277   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
278   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"AcousticModemEnergyModel:Energy is recharged at node #"} <<
279                 \hyperlink{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{m\_node}->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} ());
280   \textcolor{comment}{// invoke energy recharge callback, if set.}
281   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1AcousticModemEnergyModel_ade41911b745597921297b9be5b0eba8d}{m\_energyRechargeCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
282     \{
283       \hyperlink{classns3_1_1AcousticModemEnergyModel_ade41911b745597921297b9be5b0eba8d}{m\_energyRechargeCallback} ();
284     \}
285   \textcolor{comment}{// invoke the phy energy recharge handler}
286   Ptr<UanNetDevice> dev = \hyperlink{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{m\_node}->\hyperlink{classns3_1_1Node_a5918dfd24ef632efc9a83a5f6561c76e}{GetDevice} (0)->GetObject<UanNetDevice> ();
287   dev->GetPhy ()->EnergyRechargeHandler ();
288   \hyperlink{classns3_1_1AcousticModemEnergyModel_a48ddf2c511e50d693a8a9bc4e3dc8d55}{SetMicroModemState}(\hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa6143a554e834f71f498e5f781682d347}{UanPhy::IDLE});
289 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Is\+State\+Transition\+Valid@{Is\+State\+Transition\+Valid}}
\index{Is\+State\+Transition\+Valid@{Is\+State\+Transition\+Valid}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Is\+State\+Transition\+Valid(const int dest\+State)}{IsStateTransitionValid(const int destState)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Is\+State\+Transition\+Valid (
\begin{DoxyParamCaption}
\item[{const int}]{dest\+State}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_ae9feec10f18afb384f0ce85e6a7f2ea2}{}\label{classns3_1_1AcousticModemEnergyModel_ae9feec10f18afb384f0ce85e6a7f2ea2}

\begin{DoxyParams}{Parameters}
{\em dest\+State} & Modem state to switch to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the transition is allowed.
\end{DoxyReturn}
This function checks if a given modem state transition is allowed. 
\begin{DoxyCode}
338 \{
339   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << destState);
340   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
341 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Set\+Energy\+Depletion\+Callback@{Set\+Energy\+Depletion\+Callback}}
\index{Set\+Energy\+Depletion\+Callback@{Set\+Energy\+Depletion\+Callback}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Set\+Energy\+Depletion\+Callback(\+Acoustic\+Modem\+Energy\+Depletion\+Callback callback)}{SetEnergyDepletionCallback(AcousticModemEnergyDepletionCallback callback)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Set\+Energy\+Depletion\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Acoustic\+Modem\+Energy\+Depletion\+Callback}}]{callback}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1AcousticModemEnergyModel_ac6241dfd9430fd5ada65d37fb08051ec}{}\label{classns3_1_1AcousticModemEnergyModel_ac6241dfd9430fd5ada65d37fb08051ec}

\begin{DoxyParams}{Parameters}
{\em callback} & \hyperlink{classns3_1_1Callback}{Callback} function.\\
\hline
\end{DoxyParams}
Sets callback for energy depletion handling. 
\begin{DoxyCode}
183 \{
184   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
185   \textcolor{keywordflow}{if} (callback.IsNull ())
186     \{
187       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"AcousticModemEnergyModel:Setting NULL energy depletion callback!"});
188     \}
189   \hyperlink{classns3_1_1AcousticModemEnergyModel_a99efd3520dc70840e891568dfbf59f5a}{m\_energyDepletionCallback} = callback;
190 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Set\+Energy\+Recharge\+Callback@{Set\+Energy\+Recharge\+Callback}}
\index{Set\+Energy\+Recharge\+Callback@{Set\+Energy\+Recharge\+Callback}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Set\+Energy\+Recharge\+Callback(\+Acoustic\+Modem\+Energy\+Recharge\+Callback callback)}{SetEnergyRechargeCallback(AcousticModemEnergyRechargeCallback callback)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Set\+Energy\+Recharge\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Acoustic\+Modem\+Energy\+Recharge\+Callback}}]{callback}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1AcousticModemEnergyModel_a0f1117fac49bcadf15101fdfd1843234}{}\label{classns3_1_1AcousticModemEnergyModel_a0f1117fac49bcadf15101fdfd1843234}

\begin{DoxyParams}{Parameters}
{\em callback} & \hyperlink{classns3_1_1Callback}{Callback} function.\\
\hline
\end{DoxyParams}
Sets callback for energy recharge handling. 
\begin{DoxyCode}
195 \{
196   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
197   \textcolor{keywordflow}{if} (callback.IsNull ())
198     \{
199       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"AcousticModemEnergyModel:Setting NULL energy recharge callback!"});
200     \}
201   \hyperlink{classns3_1_1AcousticModemEnergyModel_ade41911b745597921297b9be5b0eba8d}{m\_energyRechargeCallback} = callback;
202 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Set\+Energy\+Source@{Set\+Energy\+Source}}
\index{Set\+Energy\+Source@{Set\+Energy\+Source}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Set\+Energy\+Source(\+Ptr$<$ Energy\+Source $>$ source)}{SetEnergySource(Ptr< EnergySource > source)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Set\+Energy\+Source (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Energy\+Source} $>$}]{source}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_ae8528d992ff06b11da750d064e0c9ce3}{}\label{classns3_1_1AcousticModemEnergyModel_ae8528d992ff06b11da750d064e0c9ce3}

\begin{DoxyParams}{Parameters}
{\em source} & Pointer to energy source installed on node.\\
\hline
\end{DoxyParams}
This function sets the pointer to energy source installed on node. Should be called only by \hyperlink{classns3_1_1DeviceEnergyModel}{Device\+Energy\+Model} helper classes. 

Implements \hyperlink{classns3_1_1DeviceEnergyModel_a2dbad6bf9ef615073885fc68c9cf6783}{ns3\+::\+Device\+Energy\+Model}.


\begin{DoxyCode}
104 \{
105   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << source);
106   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (source != 0);
107   \hyperlink{classns3_1_1AcousticModemEnergyModel_a049dd286b8a9b5b7178132d7f2ed65f8}{m\_source} = source;
108 \}
\end{DoxyCode}
\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Set\+Idle\+PowerW@{Set\+Idle\+PowerW}}
\index{Set\+Idle\+PowerW@{Set\+Idle\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Set\+Idle\+Power\+W(double idle\+Power\+W)}{SetIdlePowerW(double idlePowerW)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Set\+Idle\+PowerW (
\begin{DoxyParamCaption}
\item[{double}]{idle\+PowerW}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1AcousticModemEnergyModel_aa7d720f7e9784c31a8bb016b7d2f3677}{}\label{classns3_1_1AcousticModemEnergyModel_aa7d720f7e9784c31a8bb016b7d2f3677}
Set the idle state power of the modem.


\begin{DoxyParams}{Parameters}
{\em idle\+PowerW} & Idle power of the modem in watts. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
154 \{
155   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << idlePowerW);
156   \hyperlink{classns3_1_1AcousticModemEnergyModel_a2a4d8c7f2c572c056086ea37d087ff42}{m\_idlePowerW} = idlePowerW;
157 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Set\+Micro\+Modem\+State@{Set\+Micro\+Modem\+State}}
\index{Set\+Micro\+Modem\+State@{Set\+Micro\+Modem\+State}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Set\+Micro\+Modem\+State(const int state)}{SetMicroModemState(const int state)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Set\+Micro\+Modem\+State (
\begin{DoxyParamCaption}
\item[{const int}]{state}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a48ddf2c511e50d693a8a9bc4e3dc8d55}{}\label{classns3_1_1AcousticModemEnergyModel_a48ddf2c511e50d693a8a9bc4e3dc8d55}

\begin{DoxyParams}{Parameters}
{\em state} & New state the modem is currently in.\\
\hline
\end{DoxyParams}
Sets current state. This function is private so that only the energy model can change its own state. 
\begin{DoxyCode}
345 \{
346   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
347   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1AcousticModemEnergyModel_ae9feec10f18afb384f0ce85e6a7f2ea2}{IsStateTransitionValid} (state))
348     \{
349       \hyperlink{classns3_1_1AcousticModemEnergyModel_a7fa8d6ead4a746d2afac40f060921af0}{m\_currentState} = state;
350       std::string stateName;
351       \textcolor{keywordflow}{switch} (state)
352         \{
353         \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9faab8bf12eabef757b7e77f59f71ff102c}{UanPhy::TX}:
354           stateName = \textcolor{stringliteral}{"TX"};
355           \textcolor{keywordflow}{break};
356         \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa35e2631d9c2bed2205eaa7f4da74dda8}{UanPhy::RX}:
357           stateName = \textcolor{stringliteral}{"RX"};
358           \textcolor{keywordflow}{break};
359         \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa6143a554e834f71f498e5f781682d347}{UanPhy::IDLE}:
360           stateName = \textcolor{stringliteral}{"IDLE"};
361           \textcolor{keywordflow}{break};
362         \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9fa4992fce9c378d8a56ef87ca363d9a417}{UanPhy::SLEEP}:
363           stateName = \textcolor{stringliteral}{"SLEEP"};
364           \textcolor{keywordflow}{break};
365         \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UanPhy_afc5e3b6b00589131e4a56ececd42bf9faa9eccd74ad50233a8402ed255e273361}{UanPhy::DISABLED}:
366           stateName = \textcolor{stringliteral}{"DISABLED"};
367           \textcolor{keywordflow}{break};
368         \}
369       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"AcousticModemEnergyModel:Switching to state: "} << stateName <<
370                     \textcolor{stringliteral}{" at time = "} << \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ());
371     \}
372   \textcolor{keywordflow}{else}
373     \{
374       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"AcousticModemEnergyModel:Invalid state transition!"});
375     \}
376 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Set\+Node@{Set\+Node}}
\index{Set\+Node@{Set\+Node}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Set\+Node(\+Ptr$<$ Node $>$ node)}{SetNode(Ptr< Node > node)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Set\+Node (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a695fcf68618fa8e035bf7d3cf017fd90}{}\label{classns3_1_1AcousticModemEnergyModel_a695fcf68618fa8e035bf7d3cf017fd90}
Sets pointer to node.


\begin{DoxyParams}{Parameters}
{\em node} & Pointer to node. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
90 \{
91   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << node);
92   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (node != 0);
93   \hyperlink{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{m\_node} = node;
94 \}
\end{DoxyCode}
\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Set\+Rx\+PowerW@{Set\+Rx\+PowerW}}
\index{Set\+Rx\+PowerW@{Set\+Rx\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Set\+Rx\+Power\+W(double rx\+Power\+W)}{SetRxPowerW(double rxPowerW)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Set\+Rx\+PowerW (
\begin{DoxyParamCaption}
\item[{double}]{rx\+PowerW}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1AcousticModemEnergyModel_a2c0eae8ca46f703c3559c8b54617b34f}{}\label{classns3_1_1AcousticModemEnergyModel_a2c0eae8ca46f703c3559c8b54617b34f}
Set the receiving power of the modem.


\begin{DoxyParams}{Parameters}
{\em rx\+PowerW} & Receiving power in watts \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
140 \{
141   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rxPowerW);
142   \hyperlink{classns3_1_1AcousticModemEnergyModel_a1d81af5908e48e1e9c995306ab19d9bd}{m\_rxPowerW} = rxPowerW;
143 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Set\+Sleep\+PowerW@{Set\+Sleep\+PowerW}}
\index{Set\+Sleep\+PowerW@{Set\+Sleep\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Set\+Sleep\+Power\+W(double sleep\+Power\+W)}{SetSleepPowerW(double sleepPowerW)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Set\+Sleep\+PowerW (
\begin{DoxyParamCaption}
\item[{double}]{sleep\+PowerW}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1AcousticModemEnergyModel_abf8c0c009a2b90b9e2f9ad77da26e015}{}\label{classns3_1_1AcousticModemEnergyModel_abf8c0c009a2b90b9e2f9ad77da26e015}
Set the sleep power of the modem.


\begin{DoxyParams}{Parameters}
{\em sleep\+PowerW} & Sleep power of the modem in watts. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
168 \{
169   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << sleepPowerW);
170   \hyperlink{classns3_1_1AcousticModemEnergyModel_ab65c0e46edd757bd1159ed7fddc1336a}{m\_sleepPowerW} = sleepPowerW;
171 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!Set\+Tx\+PowerW@{Set\+Tx\+PowerW}}
\index{Set\+Tx\+PowerW@{Set\+Tx\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{Set\+Tx\+Power\+W(double tx\+Power\+W)}{SetTxPowerW(double txPowerW)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::\+Set\+Tx\+PowerW (
\begin{DoxyParamCaption}
\item[{double}]{tx\+PowerW}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1AcousticModemEnergyModel_adf451e8028d29a8a98012ab11da45359}{}\label{classns3_1_1AcousticModemEnergyModel_adf451e8028d29a8a98012ab11da45359}
Set the transmission power of the modem.


\begin{DoxyParams}{Parameters}
{\em tx\+PowerW} & Transmission power in watts. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
126 \{
127   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << txPowerW);
128   \hyperlink{classns3_1_1AcousticModemEnergyModel_a39960d270366b5ff4a83d32c077b44a2}{m\_txPowerW} = txPowerW;
129 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 20




\subsection{Member Data Documentation}
\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+current\+State@{m\+\_\+current\+State}}
\index{m\+\_\+current\+State@{m\+\_\+current\+State}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+State}{m_currentState}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+current\+State\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a7fa8d6ead4a746d2afac40f060921af0}{}\label{classns3_1_1AcousticModemEnergyModel_a7fa8d6ead4a746d2afac40f060921af0}


Current modem state. 

\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+energy\+Depletion\+Callback@{m\+\_\+energy\+Depletion\+Callback}}
\index{m\+\_\+energy\+Depletion\+Callback@{m\+\_\+energy\+Depletion\+Callback}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+energy\+Depletion\+Callback}{m_energyDepletionCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Acoustic\+Modem\+Energy\+Depletion\+Callback} ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+energy\+Depletion\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a99efd3520dc70840e891568dfbf59f5a}{}\label{classns3_1_1AcousticModemEnergyModel_a99efd3520dc70840e891568dfbf59f5a}
Energy depletion callback. \index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+energy\+Recharge\+Callback@{m\+\_\+energy\+Recharge\+Callback}}
\index{m\+\_\+energy\+Recharge\+Callback@{m\+\_\+energy\+Recharge\+Callback}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+energy\+Recharge\+Callback}{m_energyRechargeCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Acoustic\+Modem\+Energy\+Recharge\+Callback} ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+energy\+Recharge\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_ade41911b745597921297b9be5b0eba8d}{}\label{classns3_1_1AcousticModemEnergyModel_ade41911b745597921297b9be5b0eba8d}
Energy recharge callback. \index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+idle\+PowerW@{m\+\_\+idle\+PowerW}}
\index{m\+\_\+idle\+PowerW@{m\+\_\+idle\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+idle\+PowerW}{m_idlePowerW}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+idle\+PowerW\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a2a4d8c7f2c572c056086ea37d087ff42}{}\label{classns3_1_1AcousticModemEnergyModel_a2a4d8c7f2c572c056086ea37d087ff42}


The idle power, in watts. 

\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+last\+Update\+Time@{m\+\_\+last\+Update\+Time}}
\index{m\+\_\+last\+Update\+Time@{m\+\_\+last\+Update\+Time}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Update\+Time}{m_lastUpdateTime}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+last\+Update\+Time\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a2f87b6c71b37c55d369b0fffc8818765}{}\label{classns3_1_1AcousticModemEnergyModel_a2f87b6c71b37c55d369b0fffc8818765}


\hyperlink{classns3_1_1Time}{Time} stamp of previous energy update. 

\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+node@{m\+\_\+node}}
\index{m\+\_\+node@{m\+\_\+node}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+node}{m_node}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Node}$>$ ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+node\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}{}\label{classns3_1_1AcousticModemEnergyModel_af88231291cb4fe9dd914ac4b336d168b}


The node hosting this transducer. 

\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+rx\+PowerW@{m\+\_\+rx\+PowerW}}
\index{m\+\_\+rx\+PowerW@{m\+\_\+rx\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+PowerW}{m_rxPowerW}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+rx\+PowerW\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a1d81af5908e48e1e9c995306ab19d9bd}{}\label{classns3_1_1AcousticModemEnergyModel_a1d81af5908e48e1e9c995306ab19d9bd}


The receiver power, in watts. 

\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+sleep\+PowerW@{m\+\_\+sleep\+PowerW}}
\index{m\+\_\+sleep\+PowerW@{m\+\_\+sleep\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+sleep\+PowerW}{m_sleepPowerW}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+sleep\+PowerW\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_ab65c0e46edd757bd1159ed7fddc1336a}{}\label{classns3_1_1AcousticModemEnergyModel_ab65c0e46edd757bd1159ed7fddc1336a}


The sleep power, in watts. 

\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+source@{m\+\_\+source}}
\index{m\+\_\+source@{m\+\_\+source}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+source}{m_source}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Energy\+Source}$>$ ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+source\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a049dd286b8a9b5b7178132d7f2ed65f8}{}\label{classns3_1_1AcousticModemEnergyModel_a049dd286b8a9b5b7178132d7f2ed65f8}


The energy source. 

\index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+total\+Energy\+Consumption@{m\+\_\+total\+Energy\+Consumption}}
\index{m\+\_\+total\+Energy\+Consumption@{m\+\_\+total\+Energy\+Consumption}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+total\+Energy\+Consumption}{m_totalEnergyConsumption}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Value}$<$double$>$ ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+total\+Energy\+Consumption\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a435aaa2f2bfec309d87b476c4f17b647}{}\label{classns3_1_1AcousticModemEnergyModel_a435aaa2f2bfec309d87b476c4f17b647}
The total energy consumed by this model. \index{ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}!m\+\_\+tx\+PowerW@{m\+\_\+tx\+PowerW}}
\index{m\+\_\+tx\+PowerW@{m\+\_\+tx\+PowerW}!ns3\+::\+Acoustic\+Modem\+Energy\+Model@{ns3\+::\+Acoustic\+Modem\+Energy\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+PowerW}{m_txPowerW}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Acoustic\+Modem\+Energy\+Model\+::m\+\_\+tx\+PowerW\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1AcousticModemEnergyModel_a39960d270366b5ff4a83d32c077b44a2}{}\label{classns3_1_1AcousticModemEnergyModel_a39960d270366b5ff4a83d32c077b44a2}


The transmitter power, in watts. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
uan/model/\hyperlink{acoustic-modem-energy-model_8h}{acoustic-\/modem-\/energy-\/model.\+h}\item 
uan/model/\hyperlink{acoustic-modem-energy-model_8cc}{acoustic-\/modem-\/energy-\/model.\+cc}\end{DoxyCompactItemize}
