\hypertarget{classLenaMimoTestCase}{}\section{Lena\+Mimo\+Test\+Case Class Reference}
\label{classLenaMimoTestCase}\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}


{\ttfamily \#include $<$lte-\/test-\/mimo.\+h$>$}



Inheritance diagram for Lena\+Mimo\+Test\+Case\+:
% FIG 0


Collaboration diagram for Lena\+Mimo\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLenaMimoTestCase_a4764812b6d294b2206dfb6de33b4b4bf}{Lena\+Mimo\+Test\+Case} (uint16\+\_\+t dist, std\+::vector$<$ uint32\+\_\+t $>$ est\+Thr\+Dl, std\+::string scheduler\+Type, bool use\+Ideal\+Rrc)
\item 
virtual \hyperlink{classLenaMimoTestCase_a9db7f447484dc17626ba00ef9e722f7c}{$\sim$\+Lena\+Mimo\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classLenaMimoTestCase_a5479f5cb1621e84f8d28b4779f3e3b7c}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classLenaMimoTestCase_a43eedcc3fd861f523d97d7c04ca2b9f8}{Get\+Rlc\+Buffer\+Sample} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1RadioBearerStatsCalculator}{Radio\+Bearer\+Stats\+Calculator} $>$ rlc\+Stats, uint64\+\_\+t imsi, uint8\+\_\+t rnti)
\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::string \hyperlink{classLenaMimoTestCase_ae6d3c99db6456c54917700e2019b37dd}{Build\+Name\+String} (uint16\+\_\+t dist, std\+::string scheduler\+Type, bool use\+Ideal\+Rrc)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint16\+\_\+t \hyperlink{classLenaMimoTestCase_ae63d46254a08c9e2b064d6c4855d5a77}{m\+\_\+dist}
\item 
std\+::vector$<$ uint32\+\_\+t $>$ \hyperlink{classLenaMimoTestCase_a9c7b83d2420ebbd235f35ad242602cb3}{m\+\_\+est\+Thr\+Dl}
\item 
std\+::string \hyperlink{classLenaMimoTestCase_a462839a0431fbfbc7650a5b1bfe1004c}{m\+\_\+scheduler\+Type}
\item 
bool \hyperlink{classLenaMimoTestCase_a5bb5c39ff12567b31af7beab7c1caadb}{m\+\_\+use\+Ideal\+Rrc}
\item 
std\+::vector$<$ uint64\+\_\+t $>$ \hyperlink{classLenaMimoTestCase_a71b10e9b37ba8f45dc307d271fe6bb7f}{m\+\_\+dl\+Data\+Rxed}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This system test program creates different test cases with a single e\+NB... 

\subsection{Constructor \& Destructor Documentation}
\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\subsubsection[{\texorpdfstring{Lena\+Mimo\+Test\+Case(uint16\+\_\+t dist, std\+::vector$<$ uint32\+\_\+t $>$ est\+Thr\+Dl, std\+::string scheduler\+Type, bool use\+Ideal\+Rrc)}{LenaMimoTestCase(uint16_t dist, std::vector< uint32_t > estThrDl, std::string schedulerType, bool useIdealRrc)}}]{\setlength{\rightskip}{0pt plus 5cm}Lena\+Mimo\+Test\+Case\+::\+Lena\+Mimo\+Test\+Case (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{dist, }
\item[{std\+::vector$<$ uint32\+\_\+t $>$}]{est\+Thr\+Dl, }
\item[{std\+::string}]{scheduler\+Type, }
\item[{bool}]{use\+Ideal\+Rrc}
\end{DoxyParamCaption}
)}\hypertarget{classLenaMimoTestCase_a4764812b6d294b2206dfb6de33b4b4bf}{}\label{classLenaMimoTestCase_a4764812b6d294b2206dfb6de33b4b4bf}

\begin{DoxyCode}
103   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\hyperlink{classLenaMimoTestCase_ae6d3c99db6456c54917700e2019b37dd}{BuildNameString} (dist, schedulerType, useIdealRrc)),              
104     \hyperlink{classLenaMimoTestCase_ae63d46254a08c9e2b064d6c4855d5a77}{m\_dist} (dist),
105     \hyperlink{classLenaMimoTestCase_a9c7b83d2420ebbd235f35ad242602cb3}{m\_estThrDl} (estThrDl),
106     \hyperlink{classLenaMimoTestCase_a462839a0431fbfbc7650a5b1bfe1004c}{m\_schedulerType} (schedulerType),
107     \hyperlink{classLenaMimoTestCase_a5bb5c39ff12567b31af7beab7c1caadb}{m\_useIdealRrc} (useIdealRrc)
108 \{
109 \}
\end{DoxyCode}
\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!````~Lena\+Mimo\+Test\+Case@{$\sim$\+Lena\+Mimo\+Test\+Case}}
\index{````~Lena\+Mimo\+Test\+Case@{$\sim$\+Lena\+Mimo\+Test\+Case}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Lena\+Mimo\+Test\+Case()}{~LenaMimoTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Lena\+Mimo\+Test\+Case\+::$\sim$\+Lena\+Mimo\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classLenaMimoTestCase_a9db7f447484dc17626ba00ef9e722f7c}{}\label{classLenaMimoTestCase_a9db7f447484dc17626ba00ef9e722f7c}

\begin{DoxyCode}
112 \{
113 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!Build\+Name\+String@{Build\+Name\+String}}
\index{Build\+Name\+String@{Build\+Name\+String}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\subsubsection[{\texorpdfstring{Build\+Name\+String(uint16\+\_\+t dist, std\+::string scheduler\+Type, bool use\+Ideal\+Rrc)}{BuildNameString(uint16_t dist, std::string schedulerType, bool useIdealRrc)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Lena\+Mimo\+Test\+Case\+::\+Build\+Name\+String (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{dist, }
\item[{std\+::string}]{scheduler\+Type, }
\item[{bool}]{use\+Ideal\+Rrc}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classLenaMimoTestCase_ae6d3c99db6456c54917700e2019b37dd}{}\label{classLenaMimoTestCase_ae6d3c99db6456c54917700e2019b37dd}

\begin{DoxyCode}
88 \{
89   std::ostringstream oss;
90   oss << \textcolor{stringliteral}{" UE distance "} << dist << \textcolor{stringliteral}{" m"} << \textcolor{stringliteral}{" Scheduler "} << schedulerType;
91   \textcolor{keywordflow}{if} (useIdealRrc)
92     \{
93       oss << \textcolor{stringliteral}{", ideal RRC"};
94     \}
95   \textcolor{keywordflow}{else}
96     \{
97       oss << \textcolor{stringliteral}{", real RRC"};
98     \}  
99   \textcolor{keywordflow}{return} oss.str ();
100 \}
\end{DoxyCode}
\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lena\+Mimo\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLenaMimoTestCase_a5479f5cb1621e84f8d28b4779f3e3b7c}{}\label{classLenaMimoTestCase_a5479f5cb1621e84f8d28b4779f3e3b7c}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. Initialize Simulation Scenario\+: 1 e\+NB and m\+\_\+n\+User U\+Es

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
117 \{
118   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1TestCase_a28f7bb59669c24dae1c290fc17fc9b62}{GetName} ());
119   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::DataErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
120   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteAmc::AmcModel"}, \hyperlink{classns3_1_1EnumValue}{EnumValue} (LteAmc::PiroEW2010));
121   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteHelper::UseIdealRrc"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\hyperlink{classLenaMimoTestCase_a5bb5c39ff12567b31af7beab7c1caadb}{m\_useIdealRrc}));
122 
123   \textcolor{comment}{//Disable Uplink Power Control}
124   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::EnableUplinkPowerControl"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
125 
131   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
132   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::RrFfMacScheduler::HarqEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
133   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::PfFfMacScheduler::HarqEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
134   
135 \textcolor{comment}{//   lteHelper->SetSchedulerAttribute ("HarqEnabled", BooleanValue (false));}
136   
137   
138   lteHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"PathlossModel"}, StringValue (\textcolor{stringliteral}{"
      ns3::HybridBuildingsPropagationLossModel"}));
139   lteHelper->\hyperlink{classns3_1_1LteHelper_aa96ebbd6845ca61c2b5e08e84481a348}{SetPathlossModelAttribute} (\textcolor{stringliteral}{"ShadowSigmaOutdoor"}, DoubleValue (0.0));
140   lteHelper->\hyperlink{classns3_1_1LteHelper_aa96ebbd6845ca61c2b5e08e84481a348}{SetPathlossModelAttribute} (\textcolor{stringliteral}{"ShadowSigmaIndoor"}, DoubleValue (0.0));
141   lteHelper->\hyperlink{classns3_1_1LteHelper_aa96ebbd6845ca61c2b5e08e84481a348}{SetPathlossModelAttribute} (\textcolor{stringliteral}{"ShadowSigmaExtWalls"}, DoubleValue (0.0));
142   
143 \textcolor{comment}{//   lteHelper->EnableLogComponents ();}
144 
145   \textcolor{comment}{// Create Nodes: eNodeB and UE}
146   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
147   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes;
148   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
149   ueNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
150 
151   \textcolor{comment}{// Install Mobility Model}
152   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
153   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
154   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (enbNodes);
155   BuildingsHelper::Install (enbNodes);
156   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
157   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (ueNodes);
158   BuildingsHelper::Install (ueNodes);
159 
160   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
161   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
162   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs;
163   lteHelper->\hyperlink{classns3_1_1LteHelper_a8f86e55b8b80a81732c4b2df00fb25d5}{SetSchedulerType} (\hyperlink{classLenaMimoTestCase_a462839a0431fbfbc7650a5b1bfe1004c}{m\_schedulerType});
164   enbDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes);
165   ueDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes);
166   
167   \textcolor{comment}{// Attach a UE to a eNB}
168   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs, enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
169 
170   \textcolor{comment}{// Activate an EPS bearer}
171   \textcolor{keyword}{enum} \hyperlink{structns3_1_1EpsBearer_aecf0c67109c5eb4ec0b07226fff5885e}{EpsBearer::Qci} q = EpsBearer::GBR\_CONV\_VOICE;
172   \hyperlink{structns3_1_1EpsBearer}{EpsBearer} bearer (q);
173   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs, bearer);
174   
175 
176   \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbNetDevice>} lteEnbDev = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ();
177   \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbPhy>} enbPhy = lteEnbDev->\hyperlink{classns3_1_1LteEnbNetDevice_a58db72130e0740f16a5e03b22e4a10a4}{GetPhy} ();
178   enbPhy->SetAttribute (\textcolor{stringliteral}{"TxPower"}, DoubleValue (46.0));
179   enbPhy->SetAttribute (\textcolor{stringliteral}{"NoiseFigure"}, DoubleValue (5.0));
180   \hyperlink{classns3_1_1Ptr}{Ptr<MobilityModel>} mmenb = enbNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ();
181   mmenb->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (0.0, 0.0, 30.0));
182 
183   \textcolor{comment}{// Set UE's position and power}
184   \hyperlink{classns3_1_1Ptr}{Ptr<MobilityModel>} mmue = ueNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ();
185   mmue->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (\hyperlink{classLenaMimoTestCase_ae63d46254a08c9e2b064d6c4855d5a77}{m\_dist}, 0.0, 1.0));
186   \hyperlink{classns3_1_1Ptr}{Ptr<LteUeNetDevice>} lteUeDev = ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ();
187   \hyperlink{classns3_1_1Ptr}{Ptr<LteUePhy>} uePhy = lteUeDev->\hyperlink{classns3_1_1LteUeNetDevice_a2a9940a1e457a8bf3dae87fed4199c7a}{GetPhy} ();
188   uePhy->SetAttribute (\textcolor{stringliteral}{"TxPower"}, DoubleValue (23.0));
189   uePhy->SetAttribute (\textcolor{stringliteral}{"NoiseFigure"}, DoubleValue (9.0));
190   
191   \textcolor{comment}{// need to allow for RRC connection establishment + SRS before enabling traces}
192   lteHelper->\hyperlink{classns3_1_1LteHelper_abadfdd04d30b261e9b6f0846b4784928}{EnableRlcTraces} ();
193   lteHelper->\hyperlink{classns3_1_1LteHelper_affa3a12841520407d3662417fe41863d}{EnableMacTraces} ();
194   \textcolor{keywordtype}{double} simulationTime = 0.6; 
195   \textcolor{keywordtype}{double} tolerance = 0.1;
196   
197   uint8\_t rnti = 1;
198   \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbNetDevice>} enbNetDev = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ();
199   
200   \hyperlink{classns3_1_1PointerValue}{PointerValue} ptrval;
201   enbNetDev->\hyperlink{classns3_1_1ObjectBase_a895d1de2f96063d0e0fd78463e7a7e30}{GetAttribute} (\textcolor{stringliteral}{"FfMacScheduler"}, ptrval);
202   \hyperlink{classns3_1_1Ptr}{Ptr<PfFfMacScheduler>} pfsched;
203   \hyperlink{classns3_1_1Ptr}{Ptr<RrFfMacScheduler>} rrsched;
204   \textcolor{keywordflow}{if} (\hyperlink{classLenaMimoTestCase_a462839a0431fbfbc7650a5b1bfe1004c}{m\_schedulerType}.compare (\textcolor{stringliteral}{"ns3::RrFfMacScheduler"}) == 0)
205     \{
206       rrsched = ptrval.Get<\hyperlink{classns3_1_1RrFfMacScheduler}{RrFfMacScheduler}> ();
207       \textcolor{keywordflow}{if} (rrsched == 0)
208         \{
209           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No RR Scheduler available"});
210         \}
211       Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.2), &RrFfMacScheduler::TransmissionModeConfigurationUpdate, 
      rrsched, rnti, 1);
212       Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.4), &RrFfMacScheduler::TransmissionModeConfigurationUpdate, 
      rrsched, rnti, 2);
213     \}
214   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classLenaMimoTestCase_a462839a0431fbfbc7650a5b1bfe1004c}{m\_schedulerType}.compare (\textcolor{stringliteral}{"ns3::PfFfMacScheduler"}) == 0)
215     \{
216       pfsched = ptrval.Get<\hyperlink{classns3_1_1PfFfMacScheduler}{PfFfMacScheduler}> ();
217       \textcolor{keywordflow}{if} (pfsched == 0)
218         \{
219           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Pf Scheduler available"});
220         \}
221       
222       Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.2), &PfFfMacScheduler::TransmissionModeConfigurationUpdate, 
      pfsched, rnti, 1);
223       Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.4), &PfFfMacScheduler::TransmissionModeConfigurationUpdate, 
      pfsched, rnti, 2);
224     \}
225   \textcolor{keywordflow}{else}
226     \{
227       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Scheduler not supported by this test"});
228     \}
229     
230   
231   \hyperlink{classns3_1_1Ptr}{Ptr<RadioBearerStatsCalculator>} rlcStats = lteHelper->
      \hyperlink{classns3_1_1LteHelper_a6eb438ccf69642e3863adea4991fa2ca}{GetRlcStats} ();
232   rlcStats->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"EpochDuration"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.1)));
233 
234   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\hyperlink{classLenaMimoTestCase_a462839a0431fbfbc7650a5b1bfe1004c}{m\_schedulerType} << \textcolor{stringliteral}{" MIMO test:"});
235   \textcolor{keywordtype}{double} sampleTime = 0.199999; \textcolor{comment}{// at 0.2 RlcStats are reset}
236   \textcolor{keywordflow}{for} (uint8\_t j = 0; j < \hyperlink{classLenaMimoTestCase_a9c7b83d2420ebbd235f35ad242602cb3}{m\_estThrDl}.size (); j ++)
237     \{
238       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)t test with user at distance "} << \hyperlink{classLenaMimoTestCase_ae63d46254a08c9e2b064d6c4855d5a77}{m\_dist} << \textcolor{stringliteral}{" time "} << sampleTime);
239       \textcolor{comment}{// get the imsi}
240       uint64\_t imsi = ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<\hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ()->GetImsi ();
241       uint8\_t lcId = 3;
242       \hyperlink{classns3_1_1Time}{Time} t = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (sampleTime);
243       Simulator::Schedule(t, &\hyperlink{classLenaMimoTestCase_a43eedcc3fd861f523d97d7c04ca2b9f8}{LenaMimoTestCase::GetRlcBufferSample}, \textcolor{keyword}{
      this}, rlcStats, imsi, lcId);
244       sampleTime += 0.2;
245     \}
246   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (simulationTime));
247   Simulator::Run ();
248   Simulator::Destroy ();
249 
250   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Check consistency"});
251     \textcolor{keywordflow}{for} (uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classLenaMimoTestCase_a9c7b83d2420ebbd235f35ad242602cb3}{m\_estThrDl}.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
252       \{
253         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"interval "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} + 1 << \textcolor{stringliteral}{": bytes rxed "} << (\textcolor{keywordtype}{double})
      \hyperlink{classLenaMimoTestCase_a71b10e9b37ba8f45dc307d271fe6bb7f}{m\_dlDataRxed}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) << \textcolor{stringliteral}{" ref "} << \hyperlink{classLenaMimoTestCase_a9c7b83d2420ebbd235f35ad242602cb3}{m\_estThrDl}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
254         \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} ((\textcolor{keywordtype}{double})\hyperlink{classLenaMimoTestCase_a71b10e9b37ba8f45dc307d271fe6bb7f}{m\_dlDataRxed}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) , \hyperlink{classLenaMimoTestCase_a9c7b83d2420ebbd235f35ad242602cb3}{m\_estThrDl}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), \hyperlink{classLenaMimoTestCase_a9c7b83d2420ebbd235f35ad242602cb3}{m\_estThrDl}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) * tolerance, \textcolor{stringliteral}{" Unfair Throughput!"});
255       \}
256 
257 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!Get\+Rlc\+Buffer\+Sample@{Get\+Rlc\+Buffer\+Sample}}
\index{Get\+Rlc\+Buffer\+Sample@{Get\+Rlc\+Buffer\+Sample}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\subsubsection[{\texorpdfstring{Get\+Rlc\+Buffer\+Sample(\+Ptr$<$ Radio\+Bearer\+Stats\+Calculator $>$ rlc\+Stats, uint64\+\_\+t imsi, uint8\+\_\+t rnti)}{GetRlcBufferSample(Ptr< RadioBearerStatsCalculator > rlcStats, uint64_t imsi, uint8_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lena\+Mimo\+Test\+Case\+::\+Get\+Rlc\+Buffer\+Sample (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Radio\+Bearer\+Stats\+Calculator} $>$}]{rlc\+Stats, }
\item[{uint64\+\_\+t}]{imsi, }
\item[{uint8\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaMimoTestCase_a43eedcc3fd861f523d97d7c04ca2b9f8}{}\label{classLenaMimoTestCase_a43eedcc3fd861f523d97d7c04ca2b9f8}

\begin{DoxyCode}
262 \{
263   \hyperlink{classLenaMimoTestCase_a71b10e9b37ba8f45dc307d271fe6bb7f}{m\_dlDataRxed}.push\_back (rlcStats->\hyperlink{classns3_1_1RadioBearerStatsCalculator_a80ec1463cd053d8deebda8498d2b864e}{GetDlRxData} (imsi, lcId));
264   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} () << \textcolor{stringliteral}{"\(\backslash\)t get bytes "} << 
      \hyperlink{classLenaMimoTestCase_a71b10e9b37ba8f45dc307d271fe6bb7f}{m\_dlDataRxed}.at (\hyperlink{classLenaMimoTestCase_a71b10e9b37ba8f45dc307d271fe6bb7f}{m\_dlDataRxed}.size () - 1));
265 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4




\subsection{Member Data Documentation}
\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!m\+\_\+dist@{m\+\_\+dist}}
\index{m\+\_\+dist@{m\+\_\+dist}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+dist}{m_dist}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Lena\+Mimo\+Test\+Case\+::m\+\_\+dist\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaMimoTestCase_ae63d46254a08c9e2b064d6c4855d5a77}{}\label{classLenaMimoTestCase_ae63d46254a08c9e2b064d6c4855d5a77}
\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!m\+\_\+dl\+Data\+Rxed@{m\+\_\+dl\+Data\+Rxed}}
\index{m\+\_\+dl\+Data\+Rxed@{m\+\_\+dl\+Data\+Rxed}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Data\+Rxed}{m_dlDataRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$uint64\+\_\+t$>$ Lena\+Mimo\+Test\+Case\+::m\+\_\+dl\+Data\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaMimoTestCase_a71b10e9b37ba8f45dc307d271fe6bb7f}{}\label{classLenaMimoTestCase_a71b10e9b37ba8f45dc307d271fe6bb7f}
\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!m\+\_\+est\+Thr\+Dl@{m\+\_\+est\+Thr\+Dl}}
\index{m\+\_\+est\+Thr\+Dl@{m\+\_\+est\+Thr\+Dl}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+est\+Thr\+Dl}{m_estThrDl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$uint32\+\_\+t$>$ Lena\+Mimo\+Test\+Case\+::m\+\_\+est\+Thr\+Dl\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaMimoTestCase_a9c7b83d2420ebbd235f35ad242602cb3}{}\label{classLenaMimoTestCase_a9c7b83d2420ebbd235f35ad242602cb3}
\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!m\+\_\+scheduler\+Type@{m\+\_\+scheduler\+Type}}
\index{m\+\_\+scheduler\+Type@{m\+\_\+scheduler\+Type}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+scheduler\+Type}{m_schedulerType}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Lena\+Mimo\+Test\+Case\+::m\+\_\+scheduler\+Type\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaMimoTestCase_a462839a0431fbfbc7650a5b1bfe1004c}{}\label{classLenaMimoTestCase_a462839a0431fbfbc7650a5b1bfe1004c}
\index{Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}!m\+\_\+use\+Ideal\+Rrc@{m\+\_\+use\+Ideal\+Rrc}}
\index{m\+\_\+use\+Ideal\+Rrc@{m\+\_\+use\+Ideal\+Rrc}!Lena\+Mimo\+Test\+Case@{Lena\+Mimo\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+use\+Ideal\+Rrc}{m_useIdealRrc}}]{\setlength{\rightskip}{0pt plus 5cm}bool Lena\+Mimo\+Test\+Case\+::m\+\_\+use\+Ideal\+Rrc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaMimoTestCase_a5bb5c39ff12567b31af7beab7c1caadb}{}\label{classLenaMimoTestCase_a5bb5c39ff12567b31af7beab7c1caadb}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/test/\hyperlink{lte-test-mimo_8h}{lte-\/test-\/mimo.\+h}\item 
lte/test/\hyperlink{lte-test-mimo_8cc}{lte-\/test-\/mimo.\+cc}\end{DoxyCompactItemize}
