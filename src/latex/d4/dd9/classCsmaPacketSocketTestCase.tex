\hypertarget{classCsmaPacketSocketTestCase}{}\section{Csma\+Packet\+Socket\+Test\+Case Class Reference}
\label{classCsmaPacketSocketTestCase}\index{Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}}


Inheritance diagram for Csma\+Packet\+Socket\+Test\+Case\+:
% FIG 0


Collaboration diagram for Csma\+Packet\+Socket\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCsmaPacketSocketTestCase_a44ccb5b6fcea58d59b6f30c6dba848f4}{Csma\+Packet\+Socket\+Test\+Case} ()
\item 
virtual \hyperlink{classCsmaPacketSocketTestCase_a7d2d1a708f95e18e8c3c1d801c2204fe}{$\sim$\+Csma\+Packet\+Socket\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classCsmaPacketSocketTestCase_a384d3d4dbc79ff809f5104e344ef6da5}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classCsmaPacketSocketTestCase_a16d379694fabb2066be0ab69a17f3014}{Sink\+Rx} (std\+::string path, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p}, const \hyperlink{classns3_1_1Address}{Address} \&address)
\item 
void \hyperlink{classCsmaPacketSocketTestCase_ab1f3757c8fbdf985073d2b7fa0188e38}{Drop\+Event} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classCsmaPacketSocketTestCase_a1d6428ceccfdb0c398b3a44259f64c15}{m\+\_\+count}
\item 
uint32\+\_\+t \hyperlink{classCsmaPacketSocketTestCase_aa6b5ea183a0d1697a9ea4ed24d17c1a7}{m\+\_\+drops}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}!Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}}
\index{Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}!Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}}
\subsubsection[{\texorpdfstring{Csma\+Packet\+Socket\+Test\+Case()}{CsmaPacketSocketTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Csma\+Packet\+Socket\+Test\+Case\+::\+Csma\+Packet\+Socket\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classCsmaPacketSocketTestCase_a44ccb5b6fcea58d59b6f30c6dba848f4}{}\label{classCsmaPacketSocketTestCase_a44ccb5b6fcea58d59b6f30c6dba848f4}

\begin{DoxyCode}
582   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Packet socket example for Carrier Sense Multiple Access (CSMA) networks"}), 
      \hyperlink{classCsmaPacketSocketTestCase_a1d6428ceccfdb0c398b3a44259f64c15}{m\_count} (0), \hyperlink{classCsmaPacketSocketTestCase_aa6b5ea183a0d1697a9ea4ed24d17c1a7}{m\_drops} (0)
583 \{
584 \}
\end{DoxyCode}
\index{Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}!````~Csma\+Packet\+Socket\+Test\+Case@{$\sim$\+Csma\+Packet\+Socket\+Test\+Case}}
\index{````~Csma\+Packet\+Socket\+Test\+Case@{$\sim$\+Csma\+Packet\+Socket\+Test\+Case}!Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Csma\+Packet\+Socket\+Test\+Case()}{~CsmaPacketSocketTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Csma\+Packet\+Socket\+Test\+Case\+::$\sim$\+Csma\+Packet\+Socket\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classCsmaPacketSocketTestCase_a7d2d1a708f95e18e8c3c1d801c2204fe}{}\label{classCsmaPacketSocketTestCase_a7d2d1a708f95e18e8c3c1d801c2204fe}

\begin{DoxyCode}
587 \{
588 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Csma\+Packet\+Socket\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classCsmaPacketSocketTestCase_a384d3d4dbc79ff809f5104e344ef6da5}{}\label{classCsmaPacketSocketTestCase_a384d3d4dbc79ff809f5104e344ef6da5}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
615 \{
616   \textcolor{comment}{// Here, we will explicitly create four nodes.}
617   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes};
618   nodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (4);
619 
620   \hyperlink{classns3_1_1PacketSocketHelper}{PacketSocketHelper} packetSocket;
621   packetSocket.\hyperlink{classns3_1_1PacketSocketHelper_a33f449fee7fd10411949d17feba6d33e}{Install} (nodes);
622 
623   \textcolor{comment}{// create the shared medium used by all csma devices.}
624   \hyperlink{classns3_1_1Ptr}{Ptr<CsmaChannel>} channel = CreateObjectWithAttributes<CsmaChannel> (
625       \textcolor{stringliteral}{"DataRate"}, DataRateValue (\hyperlink{classns3_1_1DataRate}{DataRate} (5000000)),
626       \textcolor{stringliteral}{"Delay"}, TimeValue (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (2)));
627 
628   \textcolor{comment}{// use a helper function to connect our nodes to the shared channel.}
629   \hyperlink{classns3_1_1CsmaHelper}{CsmaHelper} csma;
630   csma.\hyperlink{classns3_1_1CsmaHelper_a741c31b2526e3570cc62c9d7d9667ca9}{SetDeviceAttribute} (\textcolor{stringliteral}{"EncapsulationMode"}, StringValue (\textcolor{stringliteral}{"Llc"}));
631   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} devs = csma.Install (nodes, channel);
632 
633   \textcolor{comment}{// Create the OnOff application to send raw datagrams}
634   \textcolor{comment}{//}
635   \textcolor{comment}{// Make packets be sent about every DefaultPacketSize / DataRate = }
636   \textcolor{comment}{// 4096 bits / (5000 bits/second) = 0.82 second.}
637   \hyperlink{classns3_1_1PacketSocketAddress}{PacketSocketAddress} socket;
638   socket.\hyperlink{classns3_1_1PacketSocketAddress_ad1caa016f4d27c9d5f2c06dbfc53f8a3}{SetSingleDevice} (devs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetIfIndex ());
639   socket.\hyperlink{classns3_1_1PacketSocketAddress_a9452f9410a97e57344e464e25c2ab0f3}{SetPhysicalAddress} (devs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1)->GetAddress ());
640   socket.\hyperlink{classns3_1_1PacketSocketAddress_a9020962e39c238277f3b2f0de605647a}{SetProtocol} (2);
641   \hyperlink{classns3_1_1OnOffHelper}{OnOffHelper} onoff (\textcolor{stringliteral}{"ns3::PacketSocketFactory"}, \hyperlink{classns3_1_1Address}{Address} (socket));
642   onoff.SetConstantRate (\hyperlink{classns3_1_1DataRate}{DataRate} (5000));
643   \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} apps = onoff.Install (nodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0));
644   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0));
645   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0));
646 
647   socket.\hyperlink{classns3_1_1PacketSocketAddress_ad1caa016f4d27c9d5f2c06dbfc53f8a3}{SetSingleDevice} (devs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (3)->GetIfIndex ());
648   socket.\hyperlink{classns3_1_1PacketSocketAddress_a9452f9410a97e57344e464e25c2ab0f3}{SetPhysicalAddress} (devs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetAddress ());
649   socket.\hyperlink{classns3_1_1PacketSocketAddress_a9020962e39c238277f3b2f0de605647a}{SetProtocol} (3);
650   onoff.SetAttribute (\textcolor{stringliteral}{"Remote"}, AddressValue (socket));
651   apps = onoff.Install (nodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (3));
652   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0));
653   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0));
654 
655   \hyperlink{classns3_1_1PacketSinkHelper}{PacketSinkHelper} sink = \hyperlink{classns3_1_1PacketSinkHelper}{PacketSinkHelper} (\textcolor{stringliteral}{"ns3::PacketSocketFactory"},
656                                             socket);
657   apps = sink.\hyperlink{classns3_1_1PacketSinkHelper_a394059adb24348dd366ce703fc39bbdd}{Install} (nodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0));
658   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0));
659   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (20.0));
660 
661   \textcolor{comment}{// Trace receptions}
662   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/0/ApplicationList/*/$ns3::PacketSink/Rx"},
663                    \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{classCsmaPacketSocketTestCase_a16d379694fabb2066be0ab69a17f3014}{CsmaPacketSocketTestCase::SinkRx}
      , \textcolor{keyword}{this}));
664  
665   Simulator::Run ();
666   Simulator::Destroy ();
667 
668   \textcolor{comment}{// We should have received 10 packets on node 0}
669   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classCsmaPacketSocketTestCase_a1d6428ceccfdb0c398b3a44259f64c15}{m\_count}, 10, \textcolor{stringliteral}{"Node 0 should have received 10 packets"})
      ;
670 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}!Drop\+Event@{Drop\+Event}}
\index{Drop\+Event@{Drop\+Event}!Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}}
\subsubsection[{\texorpdfstring{Drop\+Event(\+Ptr$<$ const Packet $>$ p)}{DropEvent(Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void Csma\+Packet\+Socket\+Test\+Case\+::\+Drop\+Event (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaPacketSocketTestCase_ab1f3757c8fbdf985073d2b7fa0188e38}{}\label{classCsmaPacketSocketTestCase_ab1f3757c8fbdf985073d2b7fa0188e38}

\begin{DoxyCode}
598 \{
599   \hyperlink{classCsmaPacketSocketTestCase_aa6b5ea183a0d1697a9ea4ed24d17c1a7}{m\_drops}++;
600 \}
\end{DoxyCode}
\index{Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}!Sink\+Rx@{Sink\+Rx}}
\index{Sink\+Rx@{Sink\+Rx}!Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}}
\subsubsection[{\texorpdfstring{Sink\+Rx(std\+::string path, Ptr$<$ const Packet $>$ p, const Address \&address)}{SinkRx(std::string path, Ptr< const Packet > p, const Address &address)}}]{\setlength{\rightskip}{0pt plus 5cm}void Csma\+Packet\+Socket\+Test\+Case\+::\+Sink\+Rx (
\begin{DoxyParamCaption}
\item[{std\+::string}]{path, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p, }
\item[{const {\bf Address} \&}]{address}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaPacketSocketTestCase_a16d379694fabb2066be0ab69a17f3014}{}\label{classCsmaPacketSocketTestCase_a16d379694fabb2066be0ab69a17f3014}

\begin{DoxyCode}
592 \{
593   \hyperlink{classCsmaPacketSocketTestCase_a1d6428ceccfdb0c398b3a44259f64c15}{m\_count}++;
594 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 3




\subsection{Member Data Documentation}
\index{Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}!m\+\_\+count@{m\+\_\+count}}
\index{m\+\_\+count@{m\+\_\+count}!Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+count}{m_count}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Csma\+Packet\+Socket\+Test\+Case\+::m\+\_\+count\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaPacketSocketTestCase_a1d6428ceccfdb0c398b3a44259f64c15}{}\label{classCsmaPacketSocketTestCase_a1d6428ceccfdb0c398b3a44259f64c15}
\index{Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}!m\+\_\+drops@{m\+\_\+drops}}
\index{m\+\_\+drops@{m\+\_\+drops}!Csma\+Packet\+Socket\+Test\+Case@{Csma\+Packet\+Socket\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+drops}{m_drops}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Csma\+Packet\+Socket\+Test\+Case\+::m\+\_\+drops\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaPacketSocketTestCase_aa6b5ea183a0d1697a9ea4ed24d17c1a7}{}\label{classCsmaPacketSocketTestCase_aa6b5ea183a0d1697a9ea4ed24d17c1a7}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
test/\hyperlink{csma-system-test-suite_8cc}{csma-\/system-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
