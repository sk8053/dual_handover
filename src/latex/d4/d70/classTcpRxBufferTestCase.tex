\hypertarget{classTcpRxBufferTestCase}{}\section{Tcp\+Rx\+Buffer\+Test\+Case Class Reference}
\label{classTcpRxBufferTestCase}\index{Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}}


The Tcp\+Rx\+Buffer Test.  




Inheritance diagram for Tcp\+Rx\+Buffer\+Test\+Case\+:
% FIG 0


Collaboration diagram for Tcp\+Rx\+Buffer\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTcpRxBufferTestCase_ae5876e8a2373e550194e527483ffad14}{Tcp\+Rx\+Buffer\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classTcpRxBufferTestCase_a30ae23f4c2f3d18415a55d0ea361fd0b}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
virtual void \hyperlink{classTcpRxBufferTestCase_a672970bb66f3c8d6e4d181e65252f341}{Do\+Teardown} (void)
\begin{DoxyCompactList}\small\item\em Implementation to do any local setup required for this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classTcpRxBufferTestCase_a56d953233e08dc3b29df3e35f08074c1}{Test\+Update\+S\+A\+C\+K\+List} ()
\begin{DoxyCompactList}\small\item\em Test the S\+A\+CK list update. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
The Tcp\+Rx\+Buffer Test. 

\subsection{Constructor \& Destructor Documentation}
\index{Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}!Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}}
\index{Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}!Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}}
\subsubsection[{\texorpdfstring{Tcp\+Rx\+Buffer\+Test\+Case()}{TcpRxBufferTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Tcp\+Rx\+Buffer\+Test\+Case\+::\+Tcp\+Rx\+Buffer\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classTcpRxBufferTestCase_ae5876e8a2373e550194e527483ffad14}{}\label{classTcpRxBufferTestCase_ae5876e8a2373e550194e527483ffad14}

\begin{DoxyCode}
50   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"TcpRxBuffer Test"})
51 \{
52 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Rx\+Buffer\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classTcpRxBufferTestCase_a30ae23f4c2f3d18415a55d0ea361fd0b}{}\label{classTcpRxBufferTestCase_a30ae23f4c2f3d18415a55d0ea361fd0b}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
56 \{
57   \hyperlink{classTcpRxBufferTestCase_a56d953233e08dc3b29df3e35f08074c1}{TestUpdateSACKList} ();
58 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}!Do\+Teardown@{Do\+Teardown}}
\index{Do\+Teardown@{Do\+Teardown}!Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Teardown(void)}{DoTeardown(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Rx\+Buffer\+Test\+Case\+::\+Do\+Teardown (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classTcpRxBufferTestCase_a672970bb66f3c8d6e4d181e65252f341}{}\label{classTcpRxBufferTestCase_a672970bb66f3c8d6e4d181e65252f341}


Implementation to do any local setup required for this Test\+Case. 

Subclasses should override this method to perform any costly per-\/test teardown 

Reimplemented from \hyperlink{classns3_1_1TestCase_a8917f1604e28d312a8086f76291e3c46}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
343 \{
344 \}
\end{DoxyCode}
\index{Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}!Test\+Update\+S\+A\+C\+K\+List@{Test\+Update\+S\+A\+C\+K\+List}}
\index{Test\+Update\+S\+A\+C\+K\+List@{Test\+Update\+S\+A\+C\+K\+List}!Tcp\+Rx\+Buffer\+Test\+Case@{Tcp\+Rx\+Buffer\+Test\+Case}}
\subsubsection[{\texorpdfstring{Test\+Update\+S\+A\+C\+K\+List()}{TestUpdateSACKList()}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Rx\+Buffer\+Test\+Case\+::\+Test\+Update\+S\+A\+C\+K\+List (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpRxBufferTestCase_a56d953233e08dc3b29df3e35f08074c1}{}\label{classTcpRxBufferTestCase_a56d953233e08dc3b29df3e35f08074c1}


Test the S\+A\+CK list update. 


\begin{DoxyCode}
62 \{
63   \hyperlink{classns3_1_1TcpRxBuffer}{TcpRxBuffer} rxBuf;
64   \hyperlink{classns3_1_1TcpOptionSack_a2aa2d721c71424680d79ebaa079f264a}{TcpOptionSack::SackList} sackList;
65   TcpOptionSack::SackList::iterator it;
66   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> (100);
67   \hyperlink{classns3_1_1TcpHeader}{TcpHeader} h;
68 
69   \textcolor{comment}{// In order sequence}
70   h.\hyperlink{classns3_1_1TcpHeader_a3483eb1604d7db47b1163b02f74bcc25}{SetSequenceNumber} (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1));
71   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a6bba147c19d638ec455b208ccbcaafb4}{SetNextRxSequence} (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1));
72   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
73 
74   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (101),
75                          \textcolor{stringliteral}{"Sequence number differs from expected"});
76   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 0,
77                          \textcolor{stringliteral}{"SACK list with an element, while should be empty"});
78 
79 
80   \textcolor{comment}{// Out-of-order sequence (SACK generated)}
81   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (501));
82   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
83 
84   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (101),
85                          \textcolor{stringliteral}{"Sequence number differs from expected"});
86   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
87   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 1,
88                          \textcolor{stringliteral}{"SACK list should contain one element"});
89   it = sackList.begin ();
90   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (501),
91                          \textcolor{stringliteral}{"SACK block different than expected"});
92   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (601),
93                          \textcolor{stringliteral}{"SACK block different than expected"});
94 
95   \textcolor{comment}{// In order sequence, not greater than the previous (the old SACK still in place)}
96   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (101));
97   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
98 
99   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (201),
100                          \textcolor{stringliteral}{"Sequence number differs from expected"});
101   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
102   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 1,
103                          \textcolor{stringliteral}{"SACK list should contain one element"});
104   it = sackList.begin ();
105   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (501),
106                          \textcolor{stringliteral}{"SACK block different than expected"});
107   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (601),
108                          \textcolor{stringliteral}{"SACK block different than expected"});
109 
110   \textcolor{comment}{// Out of order sequence, merge on the right}
111   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (401));
112   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
113 
114   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (201),
115                          \textcolor{stringliteral}{"Sequence number differs from expected"});
116   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
117   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 1,
118                          \textcolor{stringliteral}{"SACK list should contain one element"});
119   it = sackList.begin ();
120   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (401),
121                          \textcolor{stringliteral}{"SACK block different than expected"});
122   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (601),
123                          \textcolor{stringliteral}{"SACK block different than expected"});
124 
125   \textcolor{comment}{// Out of order sequence, merge on the left}
126   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (601));
127   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
128 
129   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (201),
130                          \textcolor{stringliteral}{"Sequence number differs from expected"});
131   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
132   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 1,
133                          \textcolor{stringliteral}{"SACK list should contain one element"});
134   it = sackList.begin ();
135   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (401),
136                          \textcolor{stringliteral}{"SACK block different than expected"});
137   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (701),
138                          \textcolor{stringliteral}{"SACK block different than expected"});
139 
140   \textcolor{comment}{// out of order sequence, different block, check also the order (newer first)}
141   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (901));
142   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
143 
144   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (201),
145                          \textcolor{stringliteral}{"Sequence number differs from expected"});
146   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
147   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 2,
148                          \textcolor{stringliteral}{"SACK list should contain two element"});
149   it = sackList.begin ();
150   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (901),
151                          \textcolor{stringliteral}{"SACK block different than expected"});
152   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1001),
153                          \textcolor{stringliteral}{"SACK block different than expected"});
154   ++it;
155   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (401),
156                          \textcolor{stringliteral}{"SACK block different than expected"});
157   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (701),
158                          \textcolor{stringliteral}{"SACK block different than expected"});
159 
160   \textcolor{comment}{// another out of order seq, different block, check the order (newer first)}
161   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1201));
162   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
163 
164   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (201),
165                          \textcolor{stringliteral}{"Sequence number differs from expected"});
166   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
167   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 3,
168                          \textcolor{stringliteral}{"SACK list should contain three element"});
169   it = sackList.begin ();
170   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1201),
171                          \textcolor{stringliteral}{"SACK block different than expected"});
172   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1301),
173                          \textcolor{stringliteral}{"SACK block different than expected"});
174   ++it;
175   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (901),
176                          \textcolor{stringliteral}{"SACK block different than expected"});
177   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1001),
178                          \textcolor{stringliteral}{"SACK block different than expected"});
179   ++it;
180   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (401),
181                          \textcolor{stringliteral}{"SACK block different than expected"});
182   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (701),
183                          \textcolor{stringliteral}{"SACK block different than expected"});
184 
185   \textcolor{comment}{// another out of order seq, different block, check the order (newer first)}
186   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1401));
187   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
188 
189   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (201),
190                          \textcolor{stringliteral}{"Sequence number differs from expected"});
191   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
192   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 4,
193                          \textcolor{stringliteral}{"SACK list should contain four element"});
194   it = sackList.begin ();
195   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1401),
196                          \textcolor{stringliteral}{"SACK block different than expected"});
197   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1501),
198                          \textcolor{stringliteral}{"SACK block different than expected"});
199   ++it;
200   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1201),
201                          \textcolor{stringliteral}{"SACK block different than expected"});
202   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1301),
203                          \textcolor{stringliteral}{"SACK block different than expected"});
204   ++it;
205   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (901),
206                          \textcolor{stringliteral}{"SACK block different than expected"});
207   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1001),
208                          \textcolor{stringliteral}{"SACK block different than expected"});
209   ++it;
210   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (401),
211                          \textcolor{stringliteral}{"SACK block different than expected"});
212   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (701),
213                          \textcolor{stringliteral}{"SACK block different than expected"});
214 
215   \textcolor{comment}{// in order block! See if something get stripped off..}
216   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (201));
217   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
218 
219   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (301),
220                          \textcolor{stringliteral}{"Sequence number differs from expected"});
221   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
222   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 4,
223                          \textcolor{stringliteral}{"SACK list should contain four element"});
224 
225   \textcolor{comment}{// in order block! See if something get stripped off..}
226   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (301));
227   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
228 
229   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (701),
230                          \textcolor{stringliteral}{"Sequence number differs from expected"});
231   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
232   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 3,
233                          \textcolor{stringliteral}{"SACK list should contain three element"});
234 
235   it = sackList.begin ();
236   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1401),
237                          \textcolor{stringliteral}{"SACK block different than expected"});
238   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1501),
239                          \textcolor{stringliteral}{"SACK block different than expected"});
240   ++it;
241   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1201),
242                          \textcolor{stringliteral}{"SACK block different than expected"});
243   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1301),
244                          \textcolor{stringliteral}{"SACK block different than expected"});
245   ++it;
246   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (901),
247                          \textcolor{stringliteral}{"SACK block different than expected"});
248   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1001),
249                          \textcolor{stringliteral}{"SACK block different than expected"});
250 
251   \textcolor{comment}{// out of order block, I'm expecting a left-merge with a move on the top}
252   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (801));
253   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
254 
255   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (701),
256                          \textcolor{stringliteral}{"Sequence number differs from expected"});
257   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
258   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 3,
259                          \textcolor{stringliteral}{"SACK list should contain three element"});
260 
261   it = sackList.begin ();
262   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (801),
263                          \textcolor{stringliteral}{"SACK block different than expected"});
264   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1001),
265                          \textcolor{stringliteral}{"SACK block different than expected"});
266   ++it;
267   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1401),
268                          \textcolor{stringliteral}{"SACK block different than expected"});
269   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1501),
270                          \textcolor{stringliteral}{"SACK block different than expected"});
271   ++it;
272   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1201),
273                          \textcolor{stringliteral}{"SACK block different than expected"});
274   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1301),
275                          \textcolor{stringliteral}{"SACK block different than expected"});
276 
277   \textcolor{comment}{// In order block! Strip things away..}
278   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (701));
279   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
280 
281   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (1001),
282                          \textcolor{stringliteral}{"Sequence number differs from expected"});
283   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
284   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 2,
285                          \textcolor{stringliteral}{"SACK list should contain two element"});
286 
287   it = sackList.begin ();
288   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1401),
289                          \textcolor{stringliteral}{"SACK block different than expected"});
290   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1501),
291                          \textcolor{stringliteral}{"SACK block different than expected"});
292   ++it;
293   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1201),
294                          \textcolor{stringliteral}{"SACK block different than expected"});
295   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1301),
296                          \textcolor{stringliteral}{"SACK block different than expected"});
297 
298   \textcolor{comment}{// out of order... I'm expecting a right-merge with a move on top}
299   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1301));
300   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
301 
302   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (1001),
303                          \textcolor{stringliteral}{"Sequence number differs from expected"});
304   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
305   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 1,
306                          \textcolor{stringliteral}{"SACK list should contain one element"});
307 
308   it = sackList.begin ();
309   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1201),
310                          \textcolor{stringliteral}{"SACK block different than expected"});
311   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1501),
312                          \textcolor{stringliteral}{"SACK block different than expected"});
313 
314   \textcolor{comment}{// In order}
315   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1001));
316   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
317 
318   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (1101),
319                          \textcolor{stringliteral}{"Sequence number differs from expected"});
320   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
321   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 1,
322                          \textcolor{stringliteral}{"SACK list should contain one element"});
323 
324   it = sackList.begin ();
325   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->first, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1201),
326                          \textcolor{stringliteral}{"SACK block different than expected"});
327   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->second, \hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1501),
328                          \textcolor{stringliteral}{"SACK block different than expected"});
329 
330   \textcolor{comment}{// In order, empty the list}
331   h.SetSequenceNumber (\hyperlink{classns3_1_1SequenceNumber}{SequenceNumber32} (1101));
332   rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_a35a036383b8976cb79738c28aa01d5d0}{Add} (p, h);
333 
334   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_ae994bf90329d10f17b59d32907b04ca9}{NextRxSequence} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (1501),
335                          \textcolor{stringliteral}{"Sequence number differs from expected"});
336   sackList = rxBuf.\hyperlink{classns3_1_1TcpRxBuffer_afc5d672da4595330754de1bb3933a9c7}{GetSackList} ();
337   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (sackList.size (), 0,
338                          \textcolor{stringliteral}{"SACK list should contain no element"});
339 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4




The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{tcp-rx-buffer-test_8cc}{tcp-\/rx-\/buffer-\/test.\+cc}\end{DoxyCompactItemize}
