\hypertarget{classns3_1_1SixLowPanNetDevice}{}\section{ns3\+:\+:Six\+Low\+Pan\+Net\+Device Class Reference}
\label{classns3_1_1SixLowPanNetDevice}\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}


Shim performing 6\+Lo\+W\+P\+AN compression, decompression and fragmentation.  




{\ttfamily \#include $<$sixlowpan-\/net-\/device.\+h$>$}



Inheritance diagram for ns3\+:\+:Six\+Low\+Pan\+Net\+Device\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Six\+Low\+Pan\+Net\+Device\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1SixLowPanNetDevice_1_1Fragments}{Fragments}
\begin{DoxyCompactList}\small\item\em A Set of \hyperlink{classns3_1_1SixLowPanNetDevice_1_1Fragments}{Fragments}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05}{Drop\+Reason} \{ \hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05ae495bec992936b1dca1cd354f52519d3}{D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+T\+I\+M\+E\+O\+UT} = 1, 
\hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a90263f3641544e6ead204d6036b95160}{D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+F\+U\+LL}, 
\hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a6dde106de53cd92ae38460d4c5019183}{D\+R\+O\+P\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+E\+X\+T\+E\+N\+S\+I\+ON}
 \}
\item 
typedef void($\ast$ \hyperlink{classns3_1_1SixLowPanNetDevice_a3faa90290ed6eae44a06f077df98d918}{Rx\+Tx\+Traced\+Callback}) (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} $>$ six\+Net\+Device, uint32\+\_\+t ifindex)
\item 
typedef void($\ast$ \hyperlink{classns3_1_1SixLowPanNetDevice_ac6dcccf6a63766b5d04614f72109375f}{Drop\+Traced\+Callback}) (\hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05}{Drop\+Reason} reason, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} $>$ six\+Net\+Device, uint32\+\_\+t ifindex)
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{Six\+Low\+Pan\+Net\+Device} ()
\item 
virtual void \hyperlink{classns3_1_1SixLowPanNetDevice_ac836f6782ebbcbb1c40300b16e0c933b}{Set\+If\+Index} (const uint32\+\_\+t index)
\item 
virtual uint32\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}{Get\+If\+Index} (void) const 
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Channel}{Channel} $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a95e2b09c9a58f4e22d930a520b9c65f0}{Get\+Channel} (void) const 
\item 
virtual void \hyperlink{classns3_1_1SixLowPanNetDevice_abad3bea50f75add62ceeab5c37b30c73}{Set\+Address} (\hyperlink{classns3_1_1Address}{Address} address)
\item 
virtual \hyperlink{classns3_1_1Address}{Address} \hyperlink{classns3_1_1SixLowPanNetDevice_a9a825d55acb0ae6fe46fa34bb8a5ae57}{Get\+Address} (void) const 
\item 
virtual bool \hyperlink{classns3_1_1SixLowPanNetDevice_aae0319d38c749f66790e16691aa39a0c}{Set\+Mtu} (const uint16\+\_\+t mtu)
\item 
virtual uint16\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_a2808676aba45f55858ba1cee97c4104e}{Get\+Mtu} (void) const 
\begin{DoxyCompactList}\small\item\em Returns the link-\/layer M\+TU for this interface. If the link-\/layer M\+TU is smaller than I\+Pv6\textquotesingle{}s minimum M\+TU (\{4944\}), 1280 will be returned. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classns3_1_1SixLowPanNetDevice_a24b0b22a73b507d8b11e9890d59c9454}{Is\+Link\+Up} (void) const 
\item 
virtual void \hyperlink{classns3_1_1SixLowPanNetDevice_a625e3de0641321b6d1ca0ff57552ba63}{Add\+Link\+Change\+Callback} (\hyperlink{classns3_1_1Callback}{Callback}$<$ void $>$ callback)
\item 
virtual bool \hyperlink{classns3_1_1SixLowPanNetDevice_a4103f55b3b04c080c645514c7ab66d3f}{Is\+Broadcast} (void) const 
\item 
virtual \hyperlink{classns3_1_1Address}{Address} \hyperlink{classns3_1_1SixLowPanNetDevice_a8555d52ad55cf6b2c57228c877ac4c0b}{Get\+Broadcast} (void) const 
\item 
virtual bool \hyperlink{classns3_1_1SixLowPanNetDevice_aadf6da2a7dd31391cd7feb3cb34d0b5e}{Is\+Multicast} (void) const 
\item 
virtual \hyperlink{classns3_1_1Address}{Address} \hyperlink{classns3_1_1SixLowPanNetDevice_a425fa29fb2baa8b0490c777beca71386}{Get\+Multicast} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} multicast\+Group) const 
\begin{DoxyCompactList}\small\item\em Make and return a M\+AC multicast address using the provided multicast group. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classns3_1_1SixLowPanNetDevice_ad36487ecf68d99b8af03dc9afb8c469d}{Is\+Point\+To\+Point} (void) const 
\begin{DoxyCompactList}\small\item\em Return true if the net device is on a point-\/to-\/point link. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classns3_1_1SixLowPanNetDevice_a8e826c5ee380ab40a0c609a096bd113d}{Is\+Bridge} (void) const 
\begin{DoxyCompactList}\small\item\em Return true if the net device is acting as a bridge. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classns3_1_1SixLowPanNetDevice_a6566ae05fbc295d8cd22166b6b2c28ea}{Send} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1Address}{Address} \&dest, uint16\+\_\+t protocol\+Number)
\item 
virtual bool \hyperlink{classns3_1_1SixLowPanNetDevice_aec79675091efa676370a4f9e6f4127e3}{Send\+From} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1Address}{Address} \&source, const \hyperlink{classns3_1_1Address}{Address} \&dest, uint16\+\_\+t protocol\+Number)
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a8acf7abf8a8d9ff2ea2ff62e9a71a340}{Get\+Node} (void) const 
\item 
virtual void \hyperlink{classns3_1_1SixLowPanNetDevice_ad848920fb4d8b4ef85f6f22c817386da}{Set\+Node} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node)
\item 
virtual bool \hyperlink{classns3_1_1SixLowPanNetDevice_ac75365b6ca0919c39392c4a98a7ea2a0}{Needs\+Arp} (void) const 
\item 
virtual void \hyperlink{classns3_1_1SixLowPanNetDevice_a4c0ba60e29603292740d6bb0aa103130}{Set\+Receive\+Callback} (\hyperlink{classns3_1_1NetDevice_ad5e5e1ca187472bc2ba99575d8def568}{Net\+Device\+::\+Receive\+Callback} cb)
\item 
virtual void \hyperlink{classns3_1_1SixLowPanNetDevice_a42b2eb2c8cb19b79f8a5a0e94309e28f}{Set\+Promisc\+Receive\+Callback} (\hyperlink{classns3_1_1NetDevice_a427225795919f26c414bee2ea3f31ed2}{Net\+Device\+::\+Promisc\+Receive\+Callback} cb)
\item 
virtual bool \hyperlink{classns3_1_1SixLowPanNetDevice_a53811a2fb813d5672bf7fca5660fa94d}{Supports\+Send\+From} () const 
\item 
virtual \hyperlink{classns3_1_1Address}{Address} \hyperlink{classns3_1_1SixLowPanNetDevice_ac22bc87ffcd3c9b15a52c79da88b9edb}{Get\+Multicast} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} addr) const 
\begin{DoxyCompactList}\small\item\em Get the M\+AC multicast address corresponding to the I\+Pv6 address provided. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a21365a973c4130399b51d175b39bbd97}{Get\+Net\+Device} () const 
\begin{DoxyCompactList}\small\item\em Returns a smart pointer to the underlying \hyperlink{classns3_1_1NetDevice}{Net\+Device}. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1SixLowPanNetDevice_a81c74a5dc06e3fbad1a8b1c59d1f68fa}{Set\+Net\+Device} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ device)
\begin{DoxyCompactList}\small\item\em Setup Six\+Low\+Pan to be a proxy for the specified \hyperlink{classns3_1_1NetDevice}{Net\+Device}. All the packets incoming and outgoing from the \hyperlink{classns3_1_1NetDevice}{Net\+Device} will be processed by \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device}. \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_a57b6b7fbbf2de21172db06d24b0a73fd}{Assign\+Streams} (int64\+\_\+t stream)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1SixLowPanNetDevice_a744728b84055111218b43824c598e30c}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1SixLowPanNetDevice_aa012326b671b8a0c95a2b98dc022d680}{Do\+Dispose} (void)
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::pair$<$ std\+::pair$<$ \hyperlink{classns3_1_1Address}{Address}, \hyperlink{classns3_1_1Address}{Address} $>$, std\+::pair$<$ uint16\+\_\+t, uint16\+\_\+t $>$ $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a8e3be88fc6596428b23fb7b220f8e148}{Fragment\+Key}
\item 
typedef std\+::map$<$ \hyperlink{classns3_1_1SixLowPanNetDevice_a8e3be88fc6596428b23fb7b220f8e148}{Fragment\+Key}, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SixLowPanNetDevice_1_1Fragments}{Fragments} $>$ $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a382cbc481f6663c889485dfa63f6c5c3}{Map\+Fragments\+\_\+t}
\item 
typedef std\+::map$<$ \hyperlink{classns3_1_1SixLowPanNetDevice_a8e3be88fc6596428b23fb7b220f8e148}{Fragment\+Key}, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SixLowPanNetDevice_1_1Fragments}{Fragments} $>$ $>$\+::iterator \hyperlink{classns3_1_1SixLowPanNetDevice_a3705ab28794ee87035b79632b7657603}{Map\+Fragments\+I\+\_\+t}
\item 
typedef std\+::map$<$ \hyperlink{classns3_1_1SixLowPanNetDevice_a8e3be88fc6596428b23fb7b220f8e148}{Fragment\+Key}, \hyperlink{classns3_1_1EventId}{Event\+Id} $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a18f45002cd987a2b49d9c155e21d99b7}{Map\+Fragments\+Timers\+\_\+t}
\item 
typedef std\+::map$<$ \hyperlink{classns3_1_1SixLowPanNetDevice_a8e3be88fc6596428b23fb7b220f8e148}{Fragment\+Key}, \hyperlink{classns3_1_1EventId}{Event\+Id} $>$\+::iterator \hyperlink{classns3_1_1SixLowPanNetDevice_a13a491d7e33f4ffa15205baf6d393ec1}{Map\+Fragments\+Timers\+I\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1SixLowPanNetDevice_a7b1b0c2d523be22ddf04415ba080a5b7}{Six\+Low\+Pan\+Net\+Device} (\hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} const \&)
\begin{DoxyCompactList}\small\item\em Copy constructor. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} \& \hyperlink{classns3_1_1SixLowPanNetDevice_a1498e34db04e4293eecca96ed9b4f4a3}{operator=} (\hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} const \&)
\begin{DoxyCompactList}\small\item\em Copy constructor. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1SixLowPanNetDevice_a35d31ab6c6270f1923ce5b0f77d582b6}{Receive\+From\+Device} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ device, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, uint16\+\_\+t protocol, \hyperlink{classns3_1_1Address}{Address} const \&source, \hyperlink{classns3_1_1Address}{Address} const \&destination, \hyperlink{classns3_1_1NetDevice_ace65153f09144f55a0d3e702fc29d6b2}{Packet\+Type} packet\+Type)
\begin{DoxyCompactList}\small\item\em Receives all the packets from a \hyperlink{classns3_1_1NetDevice}{Net\+Device} for further processing. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1SixLowPanNetDevice_a0cd8b4fc52f256bd7743310434ac4680}{Do\+Send} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1Address}{Address} \&source, const \hyperlink{classns3_1_1Address}{Address} \&dest, uint16\+\_\+t protocol\+Number, bool do\+Send\+From)
\item 
\hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} \hyperlink{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}{Make\+Link\+Local\+Address\+From\+Mac} (\hyperlink{classns3_1_1Address}{Address} const \&addr)
\begin{DoxyCompactList}\small\item\em Make a link-\/local address from a M\+AC address. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} \hyperlink{classns3_1_1SixLowPanNetDevice_af8af918eb21378d30eb0e1b45e978fff}{Make\+Global\+Address\+From\+Mac} (\hyperlink{classns3_1_1Address}{Address} const \&addr, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} prefix)
\begin{DoxyCompactList}\small\item\em Make a global address from a M\+AC address. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_a0e1957fbfb793cd011b4b3f89c550b8f}{Compress\+Low\+Pan\+Hc1} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Address}{Address} const \&src, \hyperlink{classns3_1_1Address}{Address} const \&dst)
\begin{DoxyCompactList}\small\item\em Compress the headers according to H\+C1 compression. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1SixLowPanNetDevice_a649ef9717609424699311ea61c8e3fc8}{Decompress\+Low\+Pan\+Hc1} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Address}{Address} const \&src, \hyperlink{classns3_1_1Address}{Address} const \&dst)
\begin{DoxyCompactList}\small\item\em Decompress the headers according to H\+C1 compression. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_a67bf1501ba018d90c5bdb442371a3722}{Compress\+Low\+Pan\+Iphc} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Address}{Address} const \&src, \hyperlink{classns3_1_1Address}{Address} const \&dst)
\begin{DoxyCompactList}\small\item\em Compress the headers according to I\+P\+HC compression. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1SixLowPanNetDevice_a44cfa681aaac7a83c160e9cdfc90d7e0}{Can\+Compress\+Low\+Pan\+Nhc} (uint8\+\_\+t header\+Type)
\begin{DoxyCompactList}\small\item\em Checks if the next header can be compressed using N\+HC. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1SixLowPanNetDevice_ae861be68db1b554cc3e5ea5e263b12ed}{Decompress\+Low\+Pan\+Iphc} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Address}{Address} const \&src, \hyperlink{classns3_1_1Address}{Address} const \&dst)
\begin{DoxyCompactList}\small\item\em Decompress the headers according to I\+P\+HC compression. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_a41d34fd1612e7e6911614fadfef6ab67}{Compress\+Low\+Pan\+Nhc} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, uint8\+\_\+t header\+Type, \hyperlink{classns3_1_1Address}{Address} const \&src, \hyperlink{classns3_1_1Address}{Address} const \&dst)
\begin{DoxyCompactList}\small\item\em Compress the headers according to N\+HC compression. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_af69701425fa2e02ab4a7fdcd1db99cc8}{Decompress\+Low\+Pan\+Nhc} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Address}{Address} const \&src, \hyperlink{classns3_1_1Address}{Address} const \&dst, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} src\+Address, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} dst\+Address)
\begin{DoxyCompactList}\small\item\em Decompress the headers according to N\+HC compression. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_aa163cb1c6e2c82e208692f9bae9b5189}{Compress\+Low\+Pan\+Udp\+Nhc} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, bool omit\+Checksum)
\begin{DoxyCompactList}\small\item\em Compress the headers according to N\+HC compression. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1SixLowPanNetDevice_a0b31fbe0bdc3a4dd59b9f7426aec8ed8}{Decompress\+Low\+Pan\+Udp\+Nhc} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} saddr, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} daddr)
\begin{DoxyCompactList}\small\item\em Decompress the headers according to N\+HC compression. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1SixLowPanNetDevice_a88e96024b9eb0c0184c9c1ef26e3aa16}{Do\+Fragmentation} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, uint32\+\_\+t orig\+Packet\+Size, uint32\+\_\+t orig\+Hdr\+Size, \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \&list\+Fragments)
\begin{DoxyCompactList}\small\item\em Performs a packet fragmentation. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1SixLowPanNetDevice_a8ae23f88e38059a0096bf87e58007240}{Process\+Fragment} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \&packet, \hyperlink{classns3_1_1Address}{Address} const \&src, \hyperlink{classns3_1_1Address}{Address} const \&dst, bool is\+First)
\begin{DoxyCompactList}\small\item\em Process a packet fragment. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1SixLowPanNetDevice_a9a88d53c1d9702b93470d5cbb1e526e9}{Handle\+Fragments\+Timeout} (\hyperlink{classns3_1_1SixLowPanNetDevice_a8e3be88fc6596428b23fb7b220f8e148}{Fragment\+Key} key, uint32\+\_\+t iif)
\begin{DoxyCompactList}\small\item\em Process the timeout for packet fragments. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1SixLowPanNetDevice_a5b3e75cf412c0fbd9b67e8bf092cc8fe}{Drop\+Oldest\+Fragment\+Set} ()
\begin{DoxyCompactList}\small\item\em Drops the oldest fragment set. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1NetDevice_ad5e5e1ca187472bc2ba99575d8def568}{Net\+Device\+::\+Receive\+Callback} \hyperlink{classns3_1_1SixLowPanNetDevice_ae6028c6ebba2eac40772788104cb57ea}{m\+\_\+rx\+Callback}
\item 
\hyperlink{classns3_1_1NetDevice_a427225795919f26c414bee2ea3f31ed2}{Net\+Device\+::\+Promisc\+Receive\+Callback} \hyperlink{classns3_1_1SixLowPanNetDevice_add2ead5d1d3c4a9b22bc8d01e0c04d83}{m\+\_\+promisc\+Rx\+Callback}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} $>$, uint32\+\_\+t $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a6d80896d0b58fd8a5577c65a060ad3b1}{m\+\_\+tx\+Trace}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Callback}{Callback} to trace TX (transmission) packets. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} $>$, uint32\+\_\+t $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a868eb6580b5eced376dadafa67aeda6b}{m\+\_\+rx\+Trace}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Callback}{Callback} to trace RX (reception) packets. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05}{Drop\+Reason}, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} $>$, uint32\+\_\+t $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a93e0ef7a17057bcb8420b8d37ec56356}{m\+\_\+drop\+Trace}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Callback}{Callback} to trace drop packets. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1SixLowPanNetDevice_a382cbc481f6663c889485dfa63f6c5c3}{Map\+Fragments\+\_\+t} \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\+\_\+fragments}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1SixLowPanNetDevice_1_1Fragments}{Fragments} hold to be rebuilt. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1SixLowPanNetDevice_a18f45002cd987a2b49d9c155e21d99b7}{Map\+Fragments\+Timers\+\_\+t} \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\+\_\+fragments\+Timers}
\begin{DoxyCompactList}\small\item\em Timers related to fragment rebuilding. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1SixLowPanNetDevice_ace8f2bb99c947fdaa963d8372467642c}{m\+\_\+fragment\+Expiration\+Timeout}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Time}{Time} limit for fragment rebuilding. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_acf2402dc29d4865287993a508b74c855}{m\+\_\+fragment\+Reassembly\+List\+Size}
\begin{DoxyCompactList}\small\item\em How many packets can be rebuilt at the same time. Some real implementation do limit this. Zero means no limit. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1SixLowPanNetDevice_a304a0244019df2ca598b655210d82533}{m\+\_\+use\+Iphc}
\begin{DoxyCompactList}\small\item\em Use I\+P\+HC or H\+C1. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\+\_\+node}
\begin{DoxyCompactList}\small\item\em Smart pointer to the \hyperlink{classns3_1_1Node}{Node}. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\+\_\+net\+Device}
\begin{DoxyCompactList}\small\item\em Smart pointer to the underlying \hyperlink{classns3_1_1NetDevice}{Net\+Device}. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_ab07b4be5672c71fc3c069c3d5b44e75f}{m\+\_\+if\+Index}
\begin{DoxyCompactList}\small\item\em Interface index. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1SixLowPanNetDevice_a57d9f56656023ad738e092ba9f668192}{m\+\_\+force\+Ether\+Type}
\begin{DoxyCompactList}\small\item\em Force the Ether\+Type number. Also implying that the underlying \hyperlink{classns3_1_1NetDevice}{Net\+Device} is using 48-\/bit Addresses, e.\+g., Ethernet, Wi-\/\+Fi, etc. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_afdea8e77d8ec66aef94e8cdbb645004b}{m\+\_\+ether\+Type}
\begin{DoxyCompactList}\small\item\em Ether\+Type number (used only if m\+\_\+force\+Ether\+Type is true). \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1SixLowPanNetDevice_aa3503adbbb86b19e4ec2d17f3c8436f7}{m\+\_\+omit\+Udp\+Checksum}
\begin{DoxyCompactList}\small\item\em Omit U\+DP checksum in N\+C1 encoding. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1SixLowPanNetDevice_a61c90503b8ea0015e2c3e4dc1f599582}{m\+\_\+compression\+Threshold}
\begin{DoxyCompactList}\small\item\em Minimum L2 payload size. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UniformRandomVariable}{Uniform\+Random\+Variable} $>$ \hyperlink{classns3_1_1SixLowPanNetDevice_a2790a5f0228097a1e52b728dcdbf70d2}{m\+\_\+rng}
\begin{DoxyCompactList}\small\item\em Rng for the fragments tag. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Shim performing 6\+Lo\+W\+P\+AN compression, decompression and fragmentation. 

This class implements the shim between I\+Pv6 and a generic \hyperlink{classns3_1_1NetDevice}{Net\+Device}, performing packet compression, decompression and fragmentation in a transparent way. To this end, the class pretend to be a normal \hyperlink{classns3_1_1NetDevice}{Net\+Device}, masquerading some functions of the underlying \hyperlink{classns3_1_1NetDevice}{Net\+Device}. 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Drop\+Traced\+Callback@{Drop\+Traced\+Callback}}
\index{Drop\+Traced\+Callback@{Drop\+Traced\+Callback}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Drop\+Traced\+Callback}{DropTracedCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$  ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Drop\+Traced\+Callback) ({\bf Drop\+Reason} reason, {\bf Ptr}$<$ const {\bf Packet} $>$ packet, {\bf Ptr}$<$ {\bf Six\+Low\+Pan\+Net\+Device} $>$ six\+Net\+Device, uint32\+\_\+t ifindex)}\hypertarget{classns3_1_1SixLowPanNetDevice_ac6dcccf6a63766b5d04614f72109375f}{}\label{classns3_1_1SixLowPanNetDevice_ac6dcccf6a63766b5d04614f72109375f}
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} signature for


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em reason} & The reason for the drop. \\
\hline
\mbox{\tt in}  & {\em packet} & The packet. \\
\hline
\mbox{\tt in}  & {\em six\+Net\+Device} & The \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device}. \\
\hline
\mbox{\tt in}  & {\em ifindex} & The ifindex of the device. \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000027}{Deprecated}]The non-\/const {\ttfamily Ptr$<$\+Six\+Low\+Pan\+Net\+Device$>$} argument is deprecated and will be changed to {\ttfamily Ptr$<$const Six\+Low\+Pan\+Net\+Device$>$} in a future release. \end{DoxyRefDesc}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Fragment\+Key@{Fragment\+Key}}
\index{Fragment\+Key@{Fragment\+Key}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Fragment\+Key}{FragmentKey}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::pair$<$ std\+::pair$<${\bf Address}, {\bf Address}$>$, std\+::pair$<$uint16\+\_\+t, uint16\+\_\+t$>$ $>$ {\bf ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Fragment\+Key}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a8e3be88fc6596428b23fb7b220f8e148}{}\label{classns3_1_1SixLowPanNetDevice_a8e3be88fc6596428b23fb7b220f8e148}
Fragment identifier type\+: src/dst address src/dst port. \index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Map\+Fragments\+\_\+t@{Map\+Fragments\+\_\+t}}
\index{Map\+Fragments\+\_\+t@{Map\+Fragments\+\_\+t}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Map\+Fragments\+\_\+t}{MapFragments_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$ {\bf Fragment\+Key}, {\bf Ptr}$<${\bf Fragments}$>$ $>$ {\bf ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Map\+Fragments\+\_\+t}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a382cbc481f6663c889485dfa63f6c5c3}{}\label{classns3_1_1SixLowPanNetDevice_a382cbc481f6663c889485dfa63f6c5c3}
Container for fragment key -\/$>$ fragments. \index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Map\+Fragments\+I\+\_\+t@{Map\+Fragments\+I\+\_\+t}}
\index{Map\+Fragments\+I\+\_\+t@{Map\+Fragments\+I\+\_\+t}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Map\+Fragments\+I\+\_\+t}{MapFragmentsI_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$ {\bf Fragment\+Key}, {\bf Ptr}$<${\bf Fragments}$>$ $>$\+::iterator {\bf ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Map\+Fragments\+I\+\_\+t}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a3705ab28794ee87035b79632b7657603}{}\label{classns3_1_1SixLowPanNetDevice_a3705ab28794ee87035b79632b7657603}
Container Iterator for fragment key -\/$>$ fragments. \index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Map\+Fragments\+Timers\+\_\+t@{Map\+Fragments\+Timers\+\_\+t}}
\index{Map\+Fragments\+Timers\+\_\+t@{Map\+Fragments\+Timers\+\_\+t}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Map\+Fragments\+Timers\+\_\+t}{MapFragmentsTimers_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$ {\bf Fragment\+Key}, {\bf Event\+Id} $>$ {\bf ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Map\+Fragments\+Timers\+\_\+t}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a18f45002cd987a2b49d9c155e21d99b7}{}\label{classns3_1_1SixLowPanNetDevice_a18f45002cd987a2b49d9c155e21d99b7}
Container for fragment key -\/$>$ expiration event. \index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Map\+Fragments\+Timers\+I\+\_\+t@{Map\+Fragments\+Timers\+I\+\_\+t}}
\index{Map\+Fragments\+Timers\+I\+\_\+t@{Map\+Fragments\+Timers\+I\+\_\+t}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Map\+Fragments\+Timers\+I\+\_\+t}{MapFragmentsTimersI_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$ {\bf Fragment\+Key}, {\bf Event\+Id} $>$\+::iterator {\bf ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Map\+Fragments\+Timers\+I\+\_\+t}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a13a491d7e33f4ffa15205baf6d393ec1}{}\label{classns3_1_1SixLowPanNetDevice_a13a491d7e33f4ffa15205baf6d393ec1}
Container Iterator for fragment key -\/$>$ expiration event. \index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Rx\+Tx\+Traced\+Callback@{Rx\+Tx\+Traced\+Callback}}
\index{Rx\+Tx\+Traced\+Callback@{Rx\+Tx\+Traced\+Callback}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Rx\+Tx\+Traced\+Callback}{RxTxTracedCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$  ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Rx\+Tx\+Traced\+Callback) ({\bf Ptr}$<$ const {\bf Packet} $>$ packet, {\bf Ptr}$<$ {\bf Six\+Low\+Pan\+Net\+Device} $>$ six\+Net\+Device, uint32\+\_\+t ifindex)}\hypertarget{classns3_1_1SixLowPanNetDevice_a3faa90290ed6eae44a06f077df98d918}{}\label{classns3_1_1SixLowPanNetDevice_a3faa90290ed6eae44a06f077df98d918}
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} signature for packet send/receive events.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & The packet. \\
\hline
\mbox{\tt in}  & {\em six\+Net\+Device} & The \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device}. \\
\hline
\mbox{\tt in}  & {\em ifindex} & The ifindex of the device. \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000026}{Deprecated}]The non-\/const {\ttfamily Ptr$<$\+Six\+Low\+Pan\+Net\+Device$>$} argument is deprecated and will be changed to {\ttfamily Ptr$<$const Six\+Low\+Pan\+Net\+Device$>$} in a future release. \end{DoxyRefDesc}


\subsection{Member Enumeration Documentation}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Drop\+Reason@{Drop\+Reason}}
\index{Drop\+Reason@{Drop\+Reason}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Drop\+Reason}{DropReason}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Drop\+Reason}}\hypertarget{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05}{}\label{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05}
Enumeration of the dropping reasons in Six\+Lo\+W\+P\+AN. \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+T\+I\+M\+E\+O\+UT@{D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+T\+I\+M\+E\+O\+UT}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+T\+I\+M\+E\+O\+UT@{D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+T\+I\+M\+E\+O\+UT}}\item[{\em 
D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+T\+I\+M\+E\+O\+UT\hypertarget{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05ae495bec992936b1dca1cd354f52519d3}{}\label{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05ae495bec992936b1dca1cd354f52519d3}
}]Fragment timeout exceeded \index{D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+F\+U\+LL@{D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+F\+U\+LL}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+F\+U\+LL@{D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+F\+U\+LL}}\item[{\em 
D\+R\+O\+P\+\_\+\+F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+F\+U\+LL\hypertarget{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a90263f3641544e6ead204d6036b95160}{}\label{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a90263f3641544e6ead204d6036b95160}
}]Fragment buffer size exceeded \index{D\+R\+O\+P\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+E\+X\+T\+E\+N\+S\+I\+ON@{D\+R\+O\+P\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+E\+X\+T\+E\+N\+S\+I\+ON}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!D\+R\+O\+P\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+E\+X\+T\+E\+N\+S\+I\+ON@{D\+R\+O\+P\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+E\+X\+T\+E\+N\+S\+I\+ON}}\item[{\em 
D\+R\+O\+P\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+E\+X\+T\+E\+N\+S\+I\+ON\hypertarget{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a6dde106de53cd92ae38460d4c5019183}{}\label{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a6dde106de53cd92ae38460d4c5019183}
}]Unsupported compression kind \end{description}
\end{Desc}

\begin{DoxyCode}
71   \{
72     \hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05ae495bec992936b1dca1cd354f52519d3}{DROP\_FRAGMENT\_TIMEOUT} = 1, 
73     \hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a90263f3641544e6ead204d6036b95160}{DROP\_FRAGMENT\_BUFFER\_FULL}, 
74     \hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a6dde106de53cd92ae38460d4c5019183}{DROP\_UNKNOWN\_EXTENSION} 
75   \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Six\+Low\+Pan\+Net\+Device@{Six\+Low\+Pan\+Net\+Device}}
\index{Six\+Low\+Pan\+Net\+Device@{Six\+Low\+Pan\+Net\+Device}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Six\+Low\+Pan\+Net\+Device()}{SixLowPanNetDevice()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Six\+Low\+Pan\+Net\+Device (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{}\label{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}
Constructor for the \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device}. 
\begin{DoxyCode}
108   : \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node} (0),
109     \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} (0),
110     \hyperlink{classns3_1_1SixLowPanNetDevice_ab07b4be5672c71fc3c069c3d5b44e75f}{m\_ifIndex} (0)
111 \{
112   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
113   \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} = 0;
114   \hyperlink{classns3_1_1SixLowPanNetDevice_a2790a5f0228097a1e52b728dcdbf70d2}{m\_rng} = CreateObject<UniformRandomVariable> ();
115 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Six\+Low\+Pan\+Net\+Device@{Six\+Low\+Pan\+Net\+Device}}
\index{Six\+Low\+Pan\+Net\+Device@{Six\+Low\+Pan\+Net\+Device}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Six\+Low\+Pan\+Net\+Device(\+Six\+Low\+Pan\+Net\+Device const \&)}{SixLowPanNetDevice(SixLowPanNetDevice const &)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Six\+Low\+Pan\+Net\+Device (
\begin{DoxyParamCaption}
\item[{{\bf Six\+Low\+Pan\+Net\+Device} const \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a7b1b0c2d523be22ddf04415ba080a5b7}{}\label{classns3_1_1SixLowPanNetDevice_a7b1b0c2d523be22ddf04415ba080a5b7}


Copy constructor. 

Defined and unimplemented to avoid misuse. 

\subsection{Member Function Documentation}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Add\+Link\+Change\+Callback@{Add\+Link\+Change\+Callback}}
\index{Add\+Link\+Change\+Callback@{Add\+Link\+Change\+Callback}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Add\+Link\+Change\+Callback(\+Callback$<$ void $>$ callback)}{AddLinkChangeCallback(Callback< void > callback)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Add\+Link\+Change\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Callback}$<$ void $>$}]{callback}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a625e3de0641321b6d1ca0ff57552ba63}{}\label{classns3_1_1SixLowPanNetDevice_a625e3de0641321b6d1ca0ff57552ba63}

\begin{DoxyParams}{Parameters}
{\em callback} & the callback to invoke\\
\hline
\end{DoxyParams}
Add a callback invoked whenever the link status changes to UP. This callback is typically used by the I\+P/\+A\+RP layer to flush the A\+RP cache and by I\+Pv6 stack to flush N\+D\+I\+SC cache whenever the link goes up. 

Implements \hyperlink{classns3_1_1NetDevice_aafb1bf869d38ef7a7112d11fab0163a3}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
334 \{
335   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
336   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
337 
338   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->AddLinkChangeCallback (callback);
339 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Assign\+Streams@{Assign\+Streams}}
\index{Assign\+Streams@{Assign\+Streams}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Assign\+Streams(int64\+\_\+t stream)}{AssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SixLowPanNetDevice_a57b6b7fbbf2de21172db06d24b0a73fd}{}\label{classns3_1_1SixLowPanNetDevice_a57b6b7fbbf2de21172db06d24b0a73fd}
Assign a fixed random variable stream number to the random variables used by this model. Return the number of streams (possibly zero) that have been assigned.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em stream} & First stream index to use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of stream indices assigned by this model. 
\end{DoxyReturn}

\begin{DoxyCode}
141 \{
142   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << stream);
143   \hyperlink{classns3_1_1SixLowPanNetDevice_a2790a5f0228097a1e52b728dcdbf70d2}{m\_rng}->\hyperlink{classns3_1_1RandomVariableStream_add11aaf975607746b7e271d300659a94}{SetStream} (stream);
144   \textcolor{keywordflow}{return} 1;
145 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Can\+Compress\+Low\+Pan\+Nhc@{Can\+Compress\+Low\+Pan\+Nhc}}
\index{Can\+Compress\+Low\+Pan\+Nhc@{Can\+Compress\+Low\+Pan\+Nhc}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Can\+Compress\+Low\+Pan\+Nhc(uint8\+\_\+t header\+Type)}{CanCompressLowPanNhc(uint8_t headerType)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Can\+Compress\+Low\+Pan\+Nhc (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{header\+Type}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a44cfa681aaac7a83c160e9cdfc90d7e0}{}\label{classns3_1_1SixLowPanNetDevice_a44cfa681aaac7a83c160e9cdfc90d7e0}


Checks if the next header can be compressed using N\+HC. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em header\+Type} & The header kind to be compressed. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the header can be compressed. 
\end{DoxyReturn}

\begin{DoxyCode}
990 \{
991   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{false};
992 
993   \textcolor{keywordflow}{switch} (nextHeader)
994     \{
995     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP}:
996     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aa0413202f88bebb4f91a138e317b6bbd}{Ipv6Header::IPV6\_EXT\_HOP\_BY\_HOP}:
997     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a4f6f9116305705bc2b3d04ff5c4bd2a8}{Ipv6Header::IPV6\_EXT\_ROUTING}:
998     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a5839daf3fdfb16dfdc94a208ca6ebc5a}{Ipv6Header::IPV6\_EXT\_FRAGMENTATION}:
999     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a2438a09074916d0e066627b28543ec7a}{Ipv6Header::IPV6\_IPV6}:
1000       ret = \textcolor{keyword}{true};
1001       \textcolor{keywordflow}{break};
1002     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9ac0c0affdd753b9d7593226d623f9d9dc}{Ipv6Header::IPV6\_EXT\_MOBILITY}:
1003     \textcolor{keywordflow}{default}:
1004       ret = \textcolor{keyword}{false};
1005     \}
1006   \textcolor{keywordflow}{return} ret;
1007 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Compress\+Low\+Pan\+Hc1@{Compress\+Low\+Pan\+Hc1}}
\index{Compress\+Low\+Pan\+Hc1@{Compress\+Low\+Pan\+Hc1}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Compress\+Low\+Pan\+Hc1(\+Ptr$<$ Packet $>$ packet, Address const \&src, Address const \&dst)}{CompressLowPanHc1(Ptr< Packet > packet, Address const &src, Address const &dst)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Compress\+Low\+Pan\+Hc1 (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{{\bf Address} const \&}]{src, }
\item[{{\bf Address} const \&}]{dst}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a0e1957fbfb793cd011b4b3f89c550b8f}{}\label{classns3_1_1SixLowPanNetDevice_a0e1957fbfb793cd011b4b3f89c550b8f}


Compress the headers according to H\+C1 compression. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & The packet to be compressed. \\
\hline
\mbox{\tt in}  & {\em src} & The M\+AC source address. \\
\hline
\mbox{\tt in}  & {\em dst} & The M\+AC destination address. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The size of the removed headers. 
\end{DoxyReturn}

\begin{DoxyCode}
540 \{
541   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet << src << dst);
542 
543   Ipv6Header ipHeader;
544   SixLowPanHc1 hc1Header;
545   uint32\_t size = 0;
546 
547   \textcolor{keywordflow}{if} ( packet->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (ipHeader) != 0 )
548     \{
549       packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (ipHeader);
550       size += ipHeader.GetSerializedSize ();
551 
552       hc1Header.SetHopLimit (ipHeader.GetHopLimit ());
553 
554       uint8\_t bufOne[16];
555       uint8\_t bufTwo[16];
556       Ipv6Address srcAddr = ipHeader.GetSourceAddress ();
557       srcAddr.GetBytes (bufOne);
558       Ipv6Address mySrcAddr = \hyperlink{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}{MakeLinkLocalAddressFromMac} (src);
559 
560       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Checking source compression: "} << mySrcAddr << \textcolor{stringliteral}{" - "} << srcAddr );
561 
562       mySrcAddr.GetBytes (bufTwo);
563       \textcolor{keywordtype}{bool} isSrcSrc = (memcmp (bufOne + 8, bufTwo + 8, 8) == 0);
564 
565       \textcolor{keywordflow}{if} (srcAddr.IsLinkLocal () && isSrcSrc )
566         \{
567           hc1Header.SetSrcCompression (\hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada2e3b9656c8f4d8912d0bf078533e298f}{SixLowPanHc1::HC1\_PCIC});
568         \}
569       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (srcAddr.IsLinkLocal () )
570         \{
571           hc1Header.SetSrcCompression (\hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada3b9d64b07cd392302c87ed69164f0793}{SixLowPanHc1::HC1\_PCII});
572           hc1Header.SetSrcInterface (bufOne + 8);
573         \}
574       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( isSrcSrc )
575         \{
576           hc1Header.SetSrcCompression (\hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada8e07a41c91e304c47d01515d51d399ca}{SixLowPanHc1::HC1\_PIIC});
577           hc1Header.SetSrcPrefix (bufOne);
578         \}
579       \textcolor{keywordflow}{else}
580         \{
581           hc1Header.SetSrcCompression (\hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada33fbbb35ed064759434a773a85d2d325}{SixLowPanHc1::HC1\_PIII});
582           hc1Header.SetSrcInterface (bufOne + 8);
583           hc1Header.SetSrcPrefix (bufOne);
584         \}
585 
586       Ipv6Address dstAddr = ipHeader.GetDestinationAddress ();
587       dstAddr.GetBytes (bufOne);
588       Ipv6Address myDstAddr = \hyperlink{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}{MakeLinkLocalAddressFromMac} (dst);
589 
590       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Checking destination compression: "} << myDstAddr << \textcolor{stringliteral}{" - "} << dstAddr );
591 
592       myDstAddr.GetBytes (bufTwo);
593       \textcolor{keywordtype}{bool} isDstDst = (memcmp (bufOne + 8, bufTwo + 8, 8) == 0);
594 
595       \textcolor{keywordflow}{if} (dstAddr.IsLinkLocal () && isDstDst )
596         \{
597           hc1Header.SetDstCompression (\hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada2e3b9656c8f4d8912d0bf078533e298f}{SixLowPanHc1::HC1\_PCIC});
598         \}
599       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (dstAddr.IsLinkLocal () )
600         \{
601           hc1Header.SetDstCompression (\hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada3b9d64b07cd392302c87ed69164f0793}{SixLowPanHc1::HC1\_PCII});
602           hc1Header.SetDstInterface (bufOne + 8);
603         \}
604       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( isDstDst )
605         \{
606           hc1Header.SetDstCompression (\hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada8e07a41c91e304c47d01515d51d399ca}{SixLowPanHc1::HC1\_PIIC});
607           hc1Header.SetDstPrefix (bufOne);
608         \}
609       \textcolor{keywordflow}{else}
610         \{
611           hc1Header.SetDstCompression (\hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada33fbbb35ed064759434a773a85d2d325}{SixLowPanHc1::HC1\_PIII});
612           hc1Header.SetDstInterface (bufOne + 8);
613           hc1Header.SetDstPrefix (bufOne);
614         \}
615 
616       \textcolor{keywordflow}{if} ( (ipHeader.GetFlowLabel () == 0) && (ipHeader.GetTrafficClass () == 0) )
617         \{
618           hc1Header.SetTcflCompression (\textcolor{keyword}{true});
619         \}
620       \textcolor{keywordflow}{else}
621         \{
622           hc1Header.SetTcflCompression (\textcolor{keyword}{false});
623           hc1Header.SetTrafficClass (ipHeader.GetTrafficClass ());
624           hc1Header.SetFlowLabel (ipHeader.GetFlowLabel ());
625         \}
626 
627       uint8\_t nextHeader = ipHeader.GetNextHeader ();
628       hc1Header.SetNextHeader (nextHeader);
629 
630       \textcolor{comment}{// \(\backslash\)todo implement HC2 compression}
631       hc1Header.SetHc2HeaderPresent (\textcolor{keyword}{false});
632 
633       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"HC1 Compression - HC1 header size = "} << hc1Header.GetSerializedSize () );
634       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"HC1 Compression - packet size = "} << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () );
635 
636       packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (hc1Header);
637 
638       \textcolor{keywordflow}{return} size;
639     \}
640 
641   \textcolor{keywordflow}{return} 0;
642 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Compress\+Low\+Pan\+Iphc@{Compress\+Low\+Pan\+Iphc}}
\index{Compress\+Low\+Pan\+Iphc@{Compress\+Low\+Pan\+Iphc}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Compress\+Low\+Pan\+Iphc(\+Ptr$<$ Packet $>$ packet, Address const \&src, Address const \&dst)}{CompressLowPanIphc(Ptr< Packet > packet, Address const &src, Address const &dst)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Compress\+Low\+Pan\+Iphc (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{{\bf Address} const \&}]{src, }
\item[{{\bf Address} const \&}]{dst}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a67bf1501ba018d90c5bdb442371a3722}{}\label{classns3_1_1SixLowPanNetDevice_a67bf1501ba018d90c5bdb442371a3722}


Compress the headers according to I\+P\+HC compression. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & The packet to be compressed. \\
\hline
\mbox{\tt in}  & {\em src} & The M\+AC source address. \\
\hline
\mbox{\tt in}  & {\em dst} & The M\+AC destination address. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The size of the removed headers. 
\end{DoxyReturn}

\begin{DoxyCode}
763 \{
764   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet << src << dst);
765 
766   Ipv6Header ipHeader;
767   SixLowPanIphc iphcHeader;
768   uint32\_t size = 0;
769 
770 
771   \textcolor{keywordflow}{if} ( packet->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (ipHeader) != 0 )
772     \{
773       packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (ipHeader);
774       size += ipHeader.GetSerializedSize ();
775 
776       \textcolor{comment}{// Set the TF field}
777       \textcolor{keywordflow}{if} ( (ipHeader.GetFlowLabel () == 0) && (ipHeader.GetTrafficClass () == 0) )
778         \{
779           iphcHeader.SetTf (\hyperlink{classns3_1_1SixLowPanIphc_ac4bbe4168668e3b0656582cfa757b7dca02b42f506e03adcd3222480f81af1dc3}{SixLowPanIphc::TF\_ELIDED});
780         \}
781       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (ipHeader.GetFlowLabel () != 0) && (ipHeader.GetTrafficClass () != 0) )
782         \{
783           iphcHeader.SetTf (\hyperlink{classns3_1_1SixLowPanIphc_ac4bbe4168668e3b0656582cfa757b7dcab374d0f6554d306b0ee29fd9ff83a5ef}{SixLowPanIphc::TF\_FULL});
784           iphcHeader.SetEcn ( (ipHeader.GetTrafficClass () & 0xC0) >> 6);
785           iphcHeader.SetDscp ( ipHeader.GetTrafficClass () & 0x3F );
786           iphcHeader.SetFlowLabel (ipHeader.GetFlowLabel ());
787         \}
788       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (ipHeader.GetFlowLabel () == 0) && (ipHeader.GetTrafficClass () != 0) )
789         \{
790           iphcHeader.SetTf (\hyperlink{classns3_1_1SixLowPanIphc_ac4bbe4168668e3b0656582cfa757b7dca616bab00b36d2ac76b009acbeb1105fa}{SixLowPanIphc::TF\_FL\_ELIDED});
791           iphcHeader.SetEcn ( (ipHeader.GetTrafficClass () & 0xC0) >> 6);
792           iphcHeader.SetDscp ( ipHeader.GetTrafficClass () & 0x3F );
793         \}
794       \textcolor{keywordflow}{else}
795         \{
796           iphcHeader.SetTf (\hyperlink{classns3_1_1SixLowPanIphc_ac4bbe4168668e3b0656582cfa757b7dcaf64261a5e5ef77a117b16328645ce6b8}{SixLowPanIphc::TF\_DSCP\_ELIDED});
797           iphcHeader.SetEcn ( (ipHeader.GetTrafficClass () & 0xC0) >> 6);
798           iphcHeader.SetFlowLabel (ipHeader.GetFlowLabel ());
799         \}
800 
801       \textcolor{comment}{// Set the NH field and NextHeader}
802 
803       uint8\_t nextHeader = ipHeader.GetNextHeader ();
804       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SixLowPanNetDevice_a44cfa681aaac7a83c160e9cdfc90d7e0}{CanCompressLowPanNhc} (nextHeader))
805         \{
806           \textcolor{keywordflow}{if} (nextHeader == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP})
807             \{
808               iphcHeader.SetNh (\textcolor{keyword}{true});
809               size += \hyperlink{classns3_1_1SixLowPanNetDevice_aa163cb1c6e2c82e208692f9bae9b5189}{CompressLowPanUdpNhc} (packet, 
      \hyperlink{classns3_1_1SixLowPanNetDevice_aa3503adbbb86b19e4ec2d17f3c8436f7}{m\_omitUdpChecksum});
810             \}
811           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (nextHeader == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a2438a09074916d0e066627b28543ec7a}{Ipv6Header::IPV6\_IPV6})
812             \{
813               iphcHeader.SetNh (\textcolor{keyword}{true});
814               size += \hyperlink{classns3_1_1SixLowPanNetDevice_a67bf1501ba018d90c5bdb442371a3722}{CompressLowPanIphc} (packet, src, dst);
815             \}
816           \textcolor{keywordflow}{else}
817             \{
818               uint32\_t sizeNhc = \hyperlink{classns3_1_1SixLowPanNetDevice_a41d34fd1612e7e6911614fadfef6ab67}{CompressLowPanNhc} (packet, nextHeader, src, dst);
819               \textcolor{comment}{// the compression might fail due to Extension header size.}
820               \textcolor{keywordflow}{if} (sizeNhc)
821                 \{
822                   iphcHeader.SetNh (\textcolor{keyword}{true});
823                   size += sizeNhc;
824                 \}
825               \textcolor{keywordflow}{else}
826                 \{
827                   iphcHeader.SetNh (\textcolor{keyword}{false});
828                   iphcHeader.SetNextHeader (nextHeader);
829                 \}
830             \}
831         \}
832       \textcolor{keywordflow}{else}
833         \{
834           iphcHeader.SetNh (\textcolor{keyword}{false});
835           iphcHeader.SetNextHeader (nextHeader);
836         \}
837 
838 
839       \textcolor{comment}{// Set the HLIM field}
840       \textcolor{keywordflow}{if} (ipHeader.GetHopLimit () == 1)
841         \{
842           iphcHeader.SetHlim (\hyperlink{classns3_1_1SixLowPanIphc_a1fa5a18c5d53fd3583960b4ba01f093da4b6cf2f513c0ae28ea05af5fef5bf1d8}{SixLowPanIphc::HLIM\_COMPR\_1});
843         \}
844       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ipHeader.GetHopLimit () == 0x40)
845         \{
846           iphcHeader.SetHlim (\hyperlink{classns3_1_1SixLowPanIphc_a1fa5a18c5d53fd3583960b4ba01f093da5fd9a4fbd96256dc0338f4438664fd83}{SixLowPanIphc::HLIM\_COMPR\_64});
847         \}
848       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ipHeader.GetHopLimit () == 0xFF)
849         \{
850           iphcHeader.SetHlim (\hyperlink{classns3_1_1SixLowPanIphc_a1fa5a18c5d53fd3583960b4ba01f093da7bc2759c764e52c397400f895fd6cb76}{SixLowPanIphc::HLIM\_COMPR\_255});
851         \}
852       \textcolor{keywordflow}{else}
853         \{
854           iphcHeader.SetHlim (\hyperlink{classns3_1_1SixLowPanIphc_a1fa5a18c5d53fd3583960b4ba01f093da5ac066771c5c58f74fbff81925000bd1}{SixLowPanIphc::HLIM\_INLINE});
855           \textcolor{comment}{// Set the HopLimit}
856           iphcHeader.SetHopLimit (ipHeader.GetHopLimit ());
857         \}
858 
859       \textcolor{comment}{// \(\backslash\)todo Add the check of CID if there is context-based compression}
860       \textcolor{comment}{// Set the CID field}
861       iphcHeader.SetCid (\textcolor{keyword}{false});
862 
863       \textcolor{comment}{// \(\backslash\)todo Add the check of SAC if there is context-based compression}
864       \textcolor{comment}{// Set the SAC field}
865       iphcHeader.SetSac (\textcolor{keyword}{false});
866 
867       uint8\_t addressBuf[16];
868       uint8\_t unicastAddrCheckerBuf[16];
869       Ipv6Address srcAddr = ipHeader.GetSourceAddress ();
870       srcAddr.GetBytes (addressBuf);
871 
872       Ipv6Address checker = Ipv6Address (\textcolor{stringliteral}{"fe80:0000:0000:0000:0000:00ff:fe00:1"});
873       checker.GetBytes (unicastAddrCheckerBuf);
874 
875       \textcolor{comment}{// \(\backslash\)todo Add the check of SAC if there is context-based compression}
876       \textcolor{comment}{// Set the Source Address}
877       iphcHeader.SetSrcAddress (srcAddr);
878 
879       Ipv6Address mySrcAddr = \hyperlink{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}{MakeLinkLocalAddressFromMac} (src);
880       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Checking source compression: "} << mySrcAddr << \textcolor{stringliteral}{" - "} << srcAddr );
881 
882       \textcolor{keywordflow}{if} ( mySrcAddr == srcAddr )
883         \{
884           iphcHeader.SetSam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a20c6daaf8cc1cfec17270484cec677c0}{SixLowPanIphc::HC\_COMPR\_0});
885         \}
886       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (memcmp (addressBuf, unicastAddrCheckerBuf, 14) == 0)
887         \{
888           iphcHeader.SetSam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a492caa9d3c810686e9e3f1c35ef39fd9}{SixLowPanIphc::HC\_COMPR\_16});
889         \}
890       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( srcAddr.IsLinkLocal () )
891         \{
892           iphcHeader.SetSam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a79b29ccd0370a00b3e182abee52ea59a}{SixLowPanIphc::HC\_COMPR\_64});
893         \}
894       \textcolor{keywordflow}{else}
895         \{
896           iphcHeader.SetSam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a67481ea7303a3a3bcdd03f14630a1e42}{SixLowPanIphc::HC\_INLINE});
897         \}
898 
899       \textcolor{comment}{// Set the M field}
900       \textcolor{keywordflow}{if} (ipHeader.GetDestinationAddress ().IsMulticast ())
901         \{
902           iphcHeader.SetM (\textcolor{keyword}{true});
903         \}
904       \textcolor{keywordflow}{else}
905         \{
906           iphcHeader.SetM (\textcolor{keyword}{false});
907         \}
908 
909       \textcolor{comment}{// \(\backslash\)todo Add the check of DAC if there is context-based compression}
910       \textcolor{comment}{// Set the DAC field}
911       iphcHeader.SetDac (\textcolor{keyword}{false});
912 
913       Ipv6Address dstAddr = ipHeader.GetDestinationAddress ();
914       dstAddr.GetBytes (addressBuf);
915 
916       \textcolor{comment}{// \(\backslash\)todo Add the check of DAC if there is context-based compression}
917       \textcolor{comment}{// Set the Destination Address}
918       iphcHeader.SetDstAddress (dstAddr);
919 
920       Ipv6Address myDstAddr = \hyperlink{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}{MakeLinkLocalAddressFromMac} (dst);
921       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Checking destination compression: "} << myDstAddr << \textcolor{stringliteral}{" - "} << dstAddr );
922 
923       \textcolor{keywordflow}{if} ( !iphcHeader.GetM () )
924       \textcolor{comment}{// Unicast address}
925         \{
926           \textcolor{keywordflow}{if} ( myDstAddr == dstAddr )
927             \{
928               iphcHeader.SetDam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a20c6daaf8cc1cfec17270484cec677c0}{SixLowPanIphc::HC\_COMPR\_0});
929             \}
930           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (memcmp (addressBuf, unicastAddrCheckerBuf, 14) == 0)
931             \{
932               iphcHeader.SetDam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a492caa9d3c810686e9e3f1c35ef39fd9}{SixLowPanIphc::HC\_COMPR\_16});
933             \}
934           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( dstAddr.IsLinkLocal () )
935             \{
936               iphcHeader.SetDam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a79b29ccd0370a00b3e182abee52ea59a}{SixLowPanIphc::HC\_COMPR\_64});
937             \}
938           \textcolor{keywordflow}{else}
939             \{
940               iphcHeader.SetDam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a67481ea7303a3a3bcdd03f14630a1e42}{SixLowPanIphc::HC\_INLINE});
941             \}
942         \}
943       \textcolor{keywordflow}{else}
944         \{
945           \textcolor{comment}{// Multicast address}
946           uint8\_t multicastAddrCheckerBuf[16];
947           Ipv6Address multicastCheckAddress = Ipv6Address (\textcolor{stringliteral}{"ff02::1"});
948           multicastCheckAddress.GetBytes (multicastAddrCheckerBuf);
949 
950           \textcolor{comment}{// The address takes the form ff02::00XX.}
951           \textcolor{keywordflow}{if} ( memcmp (addressBuf, multicastAddrCheckerBuf, 15) == 0 )
952             \{
953               iphcHeader.SetDam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a20c6daaf8cc1cfec17270484cec677c0}{SixLowPanIphc::HC\_COMPR\_0});
954             \}
955           \textcolor{comment}{// The address takes the form ffXX::00XX:XXXX.}
956           \textcolor{comment}{//                            ffXX:0000:0000:0000:0000:0000:00XX:XXXX.}
957           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (addressBuf[0] == multicastAddrCheckerBuf[0])
958                     && (memcmp (addressBuf + 2, multicastAddrCheckerBuf + 2, 11) == 0) )
959             \{
960               iphcHeader.SetDam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a492caa9d3c810686e9e3f1c35ef39fd9}{SixLowPanIphc::HC\_COMPR\_16});
961             \}
962           \textcolor{comment}{// The address takes the form ffXX::00XX:XXXX:XXXX.}
963           \textcolor{comment}{//                            ffXX:0000:0000:0000:0000:00XX:XXXX:XXXX.}
964           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (addressBuf[0] == multicastAddrCheckerBuf[0])
965                     && (memcmp (addressBuf + 2, multicastAddrCheckerBuf + 2, 9) == 0) )
966             \{
967               iphcHeader.SetDam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a79b29ccd0370a00b3e182abee52ea59a}{SixLowPanIphc::HC\_COMPR\_64});
968             \}
969           \textcolor{keywordflow}{else}
970             \{
971               iphcHeader.SetDam (\hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a67481ea7303a3a3bcdd03f14630a1e42}{SixLowPanIphc::HC\_INLINE});
972             \}
973         \}
974 
975       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"IPHC Compression - IPHC header size = "} << iphcHeader.GetSerializedSize ()
       );
976       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"IPHC Compression - packet size = "} << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () );
977 
978       packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (iphcHeader);
979 
980       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Packet after IPHC compression: "} << *packet);
981 
982       \textcolor{keywordflow}{return} size;
983     \}
984 
985   \textcolor{keywordflow}{return} 0;
986 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Compress\+Low\+Pan\+Nhc@{Compress\+Low\+Pan\+Nhc}}
\index{Compress\+Low\+Pan\+Nhc@{Compress\+Low\+Pan\+Nhc}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Compress\+Low\+Pan\+Nhc(\+Ptr$<$ Packet $>$ packet, uint8\+\_\+t header\+Type, Address const \&src, Address const \&dst)}{CompressLowPanNhc(Ptr< Packet > packet, uint8_t headerType, Address const &src, Address const &dst)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Compress\+Low\+Pan\+Nhc (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{uint8\+\_\+t}]{header\+Type, }
\item[{{\bf Address} const \&}]{src, }
\item[{{\bf Address} const \&}]{dst}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a41d34fd1612e7e6911614fadfef6ab67}{}\label{classns3_1_1SixLowPanNetDevice_a41d34fd1612e7e6911614fadfef6ab67}


Compress the headers according to N\+HC compression. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & The packet to be compressed. \\
\hline
\mbox{\tt in}  & {\em header\+Type} & The header type. \\
\hline
\mbox{\tt in}  & {\em src} & The M\+AC source address. \\
\hline
\mbox{\tt in}  & {\em dst} & The M\+AC destination address. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The size of the removed headers. 
\end{DoxyReturn}

\begin{DoxyCode}
1136 \{
1137   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet << \textcolor{keywordtype}{int}(headerType));
1138 
1139   SixLowPanNhcExtension nhcHeader;
1140   uint32\_t size = 0;
1141   Buffer blob;
1142 
1143   \textcolor{keywordflow}{if} (headerType == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aa0413202f88bebb4f91a138e317b6bbd}{Ipv6Header::IPV6\_EXT\_HOP\_BY\_HOP})
1144     \{
1145       Ipv6ExtensionHopByHopHeader hopHeader;
1146       packet->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (hopHeader);
1147       \textcolor{keywordflow}{if} (hopHeader.GetLength () >= 0xff)
1148         \{
1149           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"LOWPAN\_NHC MUST NOT be used to encode IPv6 Extension Headers "}
1150                         \textcolor{stringliteral}{"that have more than 255 octets following the Length field after compression. "}
1151                         \textcolor{stringliteral}{"Packet uncompressed."});
1152           \textcolor{keywordflow}{return} 0;
1153         \}
1154 
1155       size += packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (hopHeader);
1156       nhcHeader.SetEid (\hyperlink{classns3_1_1SixLowPanNhcExtension_ac692a22abe80c30bcbafa57ef36bf5ada21fdd5323221baf11ca4aa76cfd75690}{SixLowPanNhcExtension::EID\_HOPBYHOP\_OPTIONS\_H}
      );
1157 
1158       \textcolor{comment}{// recursively compress other headers}
1159       uint8\_t nextHeader = hopHeader.GetNextHeader ();
1160       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SixLowPanNetDevice_a44cfa681aaac7a83c160e9cdfc90d7e0}{CanCompressLowPanNhc} (nextHeader))
1161         \{
1162           \textcolor{keywordflow}{if} (nextHeader == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP})
1163             \{
1164               nhcHeader.SetNh (\textcolor{keyword}{true});
1165               size += \hyperlink{classns3_1_1SixLowPanNetDevice_aa163cb1c6e2c82e208692f9bae9b5189}{CompressLowPanUdpNhc} (packet, 
      \hyperlink{classns3_1_1SixLowPanNetDevice_aa3503adbbb86b19e4ec2d17f3c8436f7}{m\_omitUdpChecksum});
1166             \}
1167           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (nextHeader == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a2438a09074916d0e066627b28543ec7a}{Ipv6Header::IPV6\_IPV6})
1168             \{
1169               nhcHeader.SetNh (\textcolor{keyword}{true});
1170               size += \hyperlink{classns3_1_1SixLowPanNetDevice_a67bf1501ba018d90c5bdb442371a3722}{CompressLowPanIphc} (packet, src, dst);
1171             \}
1172           \textcolor{keywordflow}{else}
1173             \{
1174               uint32\_t sizeNhc = \hyperlink{classns3_1_1SixLowPanNetDevice_a41d34fd1612e7e6911614fadfef6ab67}{CompressLowPanNhc} (packet, nextHeader, src, dst);
1175               \textcolor{comment}{// the compression might fail due to Extension header size.}
1176               \textcolor{keywordflow}{if} (sizeNhc)
1177                 \{
1178                   nhcHeader.SetNh (\textcolor{keyword}{true});
1179                   size += sizeNhc;
1180                 \}
1181               \textcolor{keywordflow}{else}
1182                 \{
1183                   nhcHeader.SetNh (\textcolor{keyword}{false});
1184                   nhcHeader.SetNextHeader (nextHeader);
1185                 \}
1186             \}
1187         \}
1188       \textcolor{keywordflow}{else}
1189         \{
1190           nhcHeader.SetNh (\textcolor{keyword}{false});
1191           nhcHeader.SetNextHeader (nextHeader);
1192         \}
1193 
1194       uint32\_t blobSize = hopHeader.GetSerializedSize ();
1195       blob.AddAtStart (blobSize);
1196       hopHeader.Serialize (blob.Begin ());
1197       blob.RemoveAtStart (2);
1198       blobSize = blob.GetSize ();
1199       nhcHeader.SetBlob (blob.PeekData (), blobSize);
1200     \}
1201   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (headerType == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a4f6f9116305705bc2b3d04ff5c4bd2a8}{Ipv6Header::IPV6\_EXT\_ROUTING})
1202     \{
1203       Ipv6ExtensionRoutingHeader routingHeader;
1204       packet->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (routingHeader);
1205       \textcolor{keywordflow}{if} (routingHeader.GetLength () >= 0xff)
1206         \{
1207           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"LOWPAN\_NHC MUST NOT be used to encode IPv6 Extension Headers "}
1208                         \textcolor{stringliteral}{"that have more than 255 octets following the Length field after compression. "}
1209                         \textcolor{stringliteral}{"Packet uncompressed."});
1210           \textcolor{keywordflow}{return} 0;
1211         \}
1212 
1213       size += packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (routingHeader);
1214       nhcHeader.SetEid (\hyperlink{classns3_1_1SixLowPanNhcExtension_ac692a22abe80c30bcbafa57ef36bf5adaeb4cdb5e404fc0a43e7ea60be5f24b40}{SixLowPanNhcExtension::EID\_ROUTING\_H});
1215 
1216       \textcolor{comment}{// recursively compress other headers}
1217       uint8\_t nextHeader = routingHeader.GetNextHeader ();
1218       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SixLowPanNetDevice_a44cfa681aaac7a83c160e9cdfc90d7e0}{CanCompressLowPanNhc} (nextHeader))
1219         \{
1220           \textcolor{keywordflow}{if} (nextHeader == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP})
1221             \{
1222               nhcHeader.SetNh (\textcolor{keyword}{true});
1223               size += \hyperlink{classns3_1_1SixLowPanNetDevice_aa163cb1c6e2c82e208692f9bae9b5189}{CompressLowPanUdpNhc} (packet, 
      \hyperlink{classns3_1_1SixLowPanNetDevice_aa3503adbbb86b19e4ec2d17f3c8436f7}{m\_omitUdpChecksum});
1224             \}
1225           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (nextHeader == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a2438a09074916d0e066627b28543ec7a}{Ipv6Header::IPV6\_IPV6})
1226             \{
1227               nhcHeader.SetNh (\textcolor{keyword}{true});
1228               size += \hyperlink{classns3_1_1SixLowPanNetDevice_a67bf1501ba018d90c5bdb442371a3722}{CompressLowPanIphc} (packet, src, dst);
1229             \}
1230           \textcolor{keywordflow}{else}
1231             \{
1232               uint32\_t sizeNhc = \hyperlink{classns3_1_1SixLowPanNetDevice_a41d34fd1612e7e6911614fadfef6ab67}{CompressLowPanNhc} (packet, nextHeader, src, dst);
1233               \textcolor{comment}{// the compression might fail due to Extension header size.}
1234               \textcolor{keywordflow}{if} (sizeNhc)
1235                 \{
1236                   nhcHeader.SetNh (\textcolor{keyword}{true});
1237                   size += sizeNhc;
1238                 \}
1239               \textcolor{keywordflow}{else}
1240                 \{
1241                   nhcHeader.SetNh (\textcolor{keyword}{false});
1242                   nhcHeader.SetNextHeader (nextHeader);
1243                 \}
1244             \}
1245         \}
1246       \textcolor{keywordflow}{else}
1247         \{
1248           nhcHeader.SetNh (\textcolor{keyword}{false});
1249           nhcHeader.SetNextHeader (nextHeader);
1250         \}
1251 
1252       uint32\_t blobSize = routingHeader.GetSerializedSize ();
1253       blob.AddAtStart (blobSize);
1254       routingHeader.Serialize (blob.Begin ());
1255       blob.RemoveAtStart (2);
1256       blobSize = blob.GetSize ();
1257       nhcHeader.SetBlob (blob.PeekData (), blobSize);
1258     \}
1259   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (headerType == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a5839daf3fdfb16dfdc94a208ca6ebc5a}{Ipv6Header::IPV6\_EXT\_FRAGMENTATION})
1260     \{
1261       Ipv6ExtensionFragmentHeader fragHeader;
1262       packet->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (fragHeader);
1263       \textcolor{keywordflow}{if} (fragHeader.GetLength () >= 0xff)
1264         \{
1265           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"LOWPAN\_NHC MUST NOT be used to encode IPv6 Extension Headers "}
1266                         \textcolor{stringliteral}{"that have more than 255 octets following the Length field after compression. "}
1267                         \textcolor{stringliteral}{"Packet uncompressed."});
1268           \textcolor{keywordflow}{return} 0;
1269         \}
1270       size += packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (fragHeader);
1271       nhcHeader.SetEid (\hyperlink{classns3_1_1SixLowPanNhcExtension_ac692a22abe80c30bcbafa57ef36bf5ada62051012ae9fe03967626d4c451f39fd}{SixLowPanNhcExtension::EID\_FRAGMENTATION\_H}
      );
1272 
1273       \textcolor{comment}{// recursively compress other headers}
1274       uint8\_t nextHeader = fragHeader.GetNextHeader ();
1275       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SixLowPanNetDevice_a44cfa681aaac7a83c160e9cdfc90d7e0}{CanCompressLowPanNhc} (nextHeader))
1276         \{
1277           \textcolor{keywordflow}{if} (nextHeader == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP})
1278             \{
1279               nhcHeader.SetNh (\textcolor{keyword}{true});
1280               size += \hyperlink{classns3_1_1SixLowPanNetDevice_aa163cb1c6e2c82e208692f9bae9b5189}{CompressLowPanUdpNhc} (packet, 
      \hyperlink{classns3_1_1SixLowPanNetDevice_aa3503adbbb86b19e4ec2d17f3c8436f7}{m\_omitUdpChecksum});
1281             \}
1282           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (nextHeader == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a2438a09074916d0e066627b28543ec7a}{Ipv6Header::IPV6\_IPV6})
1283             \{
1284               nhcHeader.SetNh (\textcolor{keyword}{true});
1285               size += \hyperlink{classns3_1_1SixLowPanNetDevice_a67bf1501ba018d90c5bdb442371a3722}{CompressLowPanIphc} (packet, src, dst);
1286             \}
1287           \textcolor{keywordflow}{else}
1288             \{
1289               uint32\_t sizeNhc = \hyperlink{classns3_1_1SixLowPanNetDevice_a41d34fd1612e7e6911614fadfef6ab67}{CompressLowPanNhc} (packet, nextHeader, src, dst);
1290               \textcolor{comment}{// the compression might fail due to Extension header size.}
1291               \textcolor{keywordflow}{if} (sizeNhc)
1292                 \{
1293                   nhcHeader.SetNh (\textcolor{keyword}{true});
1294                   size += sizeNhc;
1295                 \}
1296               \textcolor{keywordflow}{else}
1297                 \{
1298                   nhcHeader.SetNh (\textcolor{keyword}{false});
1299                   nhcHeader.SetNextHeader (nextHeader);
1300                 \}
1301             \}
1302         \}
1303       \textcolor{keywordflow}{else}
1304         \{
1305           nhcHeader.SetNh (\textcolor{keyword}{false});
1306           nhcHeader.SetNextHeader (nextHeader);
1307         \}
1308 
1309       uint32\_t blobSize = fragHeader.GetSerializedSize ();
1310       blob.AddAtStart (blobSize);
1311       fragHeader.Serialize (blob.Begin ());
1312       blob.RemoveAtStart (2);
1313       blobSize = blob.GetSize ();
1314       nhcHeader.SetBlob (blob.PeekData (), blobSize);
1315     \}
1316   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (headerType == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9abfe6e82da1c9945685a3bf9dbfbe974b}{Ipv6Header::IPV6\_EXT\_DESTINATION})
1317     \{
1318       Ipv6ExtensionDestinationHeader destHeader;
1319       packet->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (destHeader);
1320       \textcolor{keywordflow}{if} (destHeader.GetLength () >= 0xff)
1321         \{
1322           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"LOWPAN\_NHC MUST NOT be used to encode IPv6 Extension Headers "}
1323                         \textcolor{stringliteral}{"that have more than 255 octets following the Length field after compression. "}
1324                         \textcolor{stringliteral}{"Packet uncompressed."});
1325           \textcolor{keywordflow}{return} 0;
1326         \}
1327       size += packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (destHeader);
1328       nhcHeader.SetEid (\hyperlink{classns3_1_1SixLowPanNhcExtension_ac692a22abe80c30bcbafa57ef36bf5ada874ee6f734081d5152bc6bf4ac1737c7}{SixLowPanNhcExtension::EID\_DESTINATION\_OPTIONS\_H}
      );
1329 
1330       \textcolor{comment}{// recursively compress other headers}
1331       uint8\_t nextHeader = destHeader.GetNextHeader ();
1332       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SixLowPanNetDevice_a44cfa681aaac7a83c160e9cdfc90d7e0}{CanCompressLowPanNhc} (nextHeader))
1333         \{
1334           \textcolor{keywordflow}{if} (nextHeader == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP})
1335             \{
1336               nhcHeader.SetNh (\textcolor{keyword}{true});
1337               size += \hyperlink{classns3_1_1SixLowPanNetDevice_aa163cb1c6e2c82e208692f9bae9b5189}{CompressLowPanUdpNhc} (packet, 
      \hyperlink{classns3_1_1SixLowPanNetDevice_aa3503adbbb86b19e4ec2d17f3c8436f7}{m\_omitUdpChecksum});
1338             \}
1339           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (nextHeader == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a2438a09074916d0e066627b28543ec7a}{Ipv6Header::IPV6\_IPV6})
1340             \{
1341               nhcHeader.SetNh (\textcolor{keyword}{true});
1342               size += \hyperlink{classns3_1_1SixLowPanNetDevice_a67bf1501ba018d90c5bdb442371a3722}{CompressLowPanIphc} (packet, src, dst);
1343             \}
1344           \textcolor{keywordflow}{else}
1345             \{
1346               uint32\_t sizeNhc = \hyperlink{classns3_1_1SixLowPanNetDevice_a41d34fd1612e7e6911614fadfef6ab67}{CompressLowPanNhc} (packet, nextHeader, src, dst);
1347               \textcolor{comment}{// the compression might fail due to Extension header size.}
1348               \textcolor{keywordflow}{if} (sizeNhc)
1349                 \{
1350                   nhcHeader.SetNh (\textcolor{keyword}{true});
1351                   size += sizeNhc;
1352                 \}
1353               \textcolor{keywordflow}{else}
1354                 \{
1355                   nhcHeader.SetNh (\textcolor{keyword}{false});
1356                   nhcHeader.SetNextHeader (nextHeader);
1357                 \}
1358             \}
1359         \}
1360       \textcolor{keywordflow}{else}
1361         \{
1362           nhcHeader.SetNh (\textcolor{keyword}{false});
1363           nhcHeader.SetNextHeader (nextHeader);
1364         \}
1365 
1366       uint32\_t blobSize = destHeader.GetSerializedSize ();
1367       blob.AddAtStart (blobSize);
1368       destHeader.Serialize (blob.Begin ());
1369       blob.RemoveAtStart (2);
1370       blobSize = blob.GetSize ();
1371       nhcHeader.SetBlob (blob.PeekData (), blobSize);
1372     \}
1373   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (headerType == \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9ac0c0affdd753b9d7593226d623f9d9dc}{Ipv6Header::IPV6\_EXT\_MOBILITY})
1374     \{
1375       \textcolor{comment}{// \(\backslash\)todo: IPv6 Mobility Header is not supported in ns-3}
1376       \hyperlink{group__fatal_ga51ac4699be799d772ae7258d1ef6af21}{NS\_ABORT\_MSG} (\textcolor{stringliteral}{"IPv6 Mobility Header is not supported in ns-3 yet"});
1377       \textcolor{keywordflow}{return} 0;
1378     \}
1379   \textcolor{keywordflow}{else}
1380     \{
1381       \hyperlink{group__fatal_ga51ac4699be799d772ae7258d1ef6af21}{NS\_ABORT\_MSG} (\textcolor{stringliteral}{"Unexpected Extension Header"});
1382     \}
1383 
1384   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"NHC Compression - NHC header size = "} << nhcHeader.GetSerializedSize () );
1385   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"NHC Compression - packet size = "} << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () );
1386 
1387   packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (nhcHeader);
1388 
1389   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Packet after NHC compression: "} << *packet);
1390   \textcolor{keywordflow}{return} size;
1391 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Compress\+Low\+Pan\+Udp\+Nhc@{Compress\+Low\+Pan\+Udp\+Nhc}}
\index{Compress\+Low\+Pan\+Udp\+Nhc@{Compress\+Low\+Pan\+Udp\+Nhc}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Compress\+Low\+Pan\+Udp\+Nhc(\+Ptr$<$ Packet $>$ packet, bool omit\+Checksum)}{CompressLowPanUdpNhc(Ptr< Packet > packet, bool omitChecksum)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Compress\+Low\+Pan\+Udp\+Nhc (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{bool}]{omit\+Checksum}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_aa163cb1c6e2c82e208692f9bae9b5189}{}\label{classns3_1_1SixLowPanNetDevice_aa163cb1c6e2c82e208692f9bae9b5189}


Compress the headers according to N\+HC compression. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & The packet to be compressed. \\
\hline
\mbox{\tt in}  & {\em omit\+Checksum} & Omit U\+DP checksum (if true). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The size of the removed headers. 
\end{DoxyReturn}

\begin{DoxyCode}
1608 \{
1609   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet << \textcolor{keywordtype}{int}(omitChecksum));
1610 
1611   UdpHeader udpHeader;
1612   SixLowPanUdpNhcExtension udpNhcHeader;
1613   uint32\_t size = 0;
1614 
1615   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (packet->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (udpHeader) != 0, \textcolor{stringliteral}{"UDP header not found, abort"})
      ;
1616 
1617   size += packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (udpHeader);
1618 
1619   \textcolor{comment}{// Set the C field and checksum}
1620   udpNhcHeader.SetC (\textcolor{keyword}{false});
1621   uint16\_t checksum = udpHeader.GetChecksum ();
1622   udpNhcHeader.SetChecksum (checksum);
1623 
1624   \textcolor{keywordflow}{if} (omitChecksum && udpHeader.IsChecksumOk ())
1625     \{
1626       udpNhcHeader.SetC (\textcolor{keyword}{true});
1627     \}
1628 
1629   \textcolor{comment}{// Set the value of the ports}
1630   udpNhcHeader.SetSrcPort (udpHeader.GetSourcePort ());
1631   udpNhcHeader.SetDstPort (udpHeader.GetDestinationPort ());
1632 
1633   \textcolor{comment}{//Set the P field}
1634   \textcolor{keywordflow}{if} ( (udpHeader.GetSourcePort () >> 4 ) == 0xf0b && (udpHeader.GetDestinationPort () >> 4 ) == 0xf0b )
1635     \{
1636       udpNhcHeader.SetPorts (\hyperlink{classns3_1_1SixLowPanUdpNhcExtension_a77005f9c06de72b1a6ea105a23bf413baef8af6ce660592f4b15a9953fdb94020}{SixLowPanUdpNhcExtension::PORTS\_LAST\_SRC\_LAST\_DST}
      );
1637     \}
1638   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (udpHeader.GetSourcePort () >> 8 ) == 0xf0 && (udpHeader.GetDestinationPort () >> 8 ) != 0xf0 )
1639     \{
1640       udpNhcHeader.SetPorts (\hyperlink{classns3_1_1SixLowPanUdpNhcExtension_a77005f9c06de72b1a6ea105a23bf413ba2f35b94c80f56d7da66128f77b0d1f8f}{SixLowPanUdpNhcExtension::PORTS\_LAST\_SRC\_ALL\_DST}
      );
1641     \}
1642   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (udpHeader.GetSourcePort () >> 8 ) != 0xf0 && (udpHeader.GetDestinationPort () >> 8 ) == 0xf0 )
1643     \{
1644       udpNhcHeader.SetPorts (\hyperlink{classns3_1_1SixLowPanUdpNhcExtension_a77005f9c06de72b1a6ea105a23bf413bae7a4cf154bbe4889459921e80e198fd6}{SixLowPanUdpNhcExtension::PORTS\_ALL\_SRC\_LAST\_DST}
      );
1645     \}
1646   \textcolor{keywordflow}{else}
1647     \{
1648       udpNhcHeader.SetPorts (\hyperlink{classns3_1_1SixLowPanUdpNhcExtension_a77005f9c06de72b1a6ea105a23bf413ba6579ce5e13ed97d8d896694c08d24caf}{SixLowPanUdpNhcExtension::PORTS\_INLINE});
1649     \}
1650 
1651   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"UDP\_NHC Compression - UDP\_NHC header size = "} << udpNhcHeader.
      GetSerializedSize () );
1652   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"UDP\_NHC Compression - packet size = "} << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () );
1653 
1654   packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (udpNhcHeader);
1655 
1656   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Packet after UDP\_NHC compression: "} << *packet);
1657 
1658   \textcolor{keywordflow}{return} size;
1659 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Decompress\+Low\+Pan\+Hc1@{Decompress\+Low\+Pan\+Hc1}}
\index{Decompress\+Low\+Pan\+Hc1@{Decompress\+Low\+Pan\+Hc1}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Decompress\+Low\+Pan\+Hc1(\+Ptr$<$ Packet $>$ packet, Address const \&src, Address const \&dst)}{DecompressLowPanHc1(Ptr< Packet > packet, Address const &src, Address const &dst)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Decompress\+Low\+Pan\+Hc1 (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{{\bf Address} const \&}]{src, }
\item[{{\bf Address} const \&}]{dst}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a649ef9717609424699311ea61c8e3fc8}{}\label{classns3_1_1SixLowPanNetDevice_a649ef9717609424699311ea61c8e3fc8}


Decompress the headers according to H\+C1 compression. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & the packet to be compressed. \\
\hline
\mbox{\tt in}  & {\em src} & the M\+AC source address. \\
\hline
\mbox{\tt in}  & {\em dst} & the M\+AC destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
646 \{
647   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet << src << dst);
648 
649   Ipv6Header ipHeader;
650   SixLowPanHc1 encoding;
651 
652   uint32\_t ret = packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (encoding);
653   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"removed "} << ret << \textcolor{stringliteral}{" bytes - pkt is "} << *packet);
654   \hyperlink{unused_8h_a3ba03ad859378e9f01285afb60f0e3ab}{NS\_UNUSED} (ret);
655 
656   ipHeader.SetHopLimit (encoding.GetHopLimit ());
657 
658   \textcolor{keywordflow}{switch} (encoding.GetSrcCompression ())
659     \{
660       \textcolor{keyword}{const} uint8\_t* interface;
661       \textcolor{keyword}{const} uint8\_t* prefix;
662       uint8\_t address[16];
663 
664     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada33fbbb35ed064759434a773a85d2d325}{SixLowPanHc1::HC1\_PIII}:
665       prefix = encoding.GetSrcPrefix ();
666       \textcolor{keyword}{interface }= encoding.GetSrcInterface ();
667       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; j++)
668         \{
669           address[j + 8] = interface[j];
670           address[j] = prefix[j];
671         \}
672       ipHeader.SetSourceAddress ( Ipv6Address (address) );
673       \textcolor{keywordflow}{break};
674     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada8e07a41c91e304c47d01515d51d399ca}{SixLowPanHc1::HC1\_PIIC}:
675       prefix = encoding.GetSrcPrefix ();
676       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; j++)
677         \{
678           address[j + 8] = 0;
679           address[j] = prefix[j];
680         \}
681       ipHeader.SetSourceAddress ( \hyperlink{classns3_1_1SixLowPanNetDevice_af8af918eb21378d30eb0e1b45e978fff}{MakeGlobalAddressFromMac} (src, Ipv6Address (
      address)));
682       \textcolor{keywordflow}{break};
683     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada3b9d64b07cd392302c87ed69164f0793}{SixLowPanHc1::HC1\_PCII}:
684       \textcolor{keyword}{interface }= encoding.GetSrcInterface ();
685       address[0] = 0xfe;
686       address[1] = 0x80;
687       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; j++)
688         \{
689           address[j + 8] = interface[j];
690         \}
691       ipHeader.SetSourceAddress ( Ipv6Address (address) );
692       \textcolor{keywordflow}{break};
693     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada2e3b9656c8f4d8912d0bf078533e298f}{SixLowPanHc1::HC1\_PCIC}:
694       ipHeader.SetSourceAddress (\hyperlink{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}{MakeLinkLocalAddressFromMac} (src));
695       \textcolor{keywordflow}{break};
696     \}
697 
698   \textcolor{keywordflow}{switch} (encoding.GetDstCompression ())
699     \{
700       \textcolor{keyword}{const} uint8\_t* interface;
701       \textcolor{keyword}{const} uint8\_t* prefix;
702       uint8\_t address[16];
703 
704     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada33fbbb35ed064759434a773a85d2d325}{SixLowPanHc1::HC1\_PIII}:
705       prefix = encoding.GetDstPrefix ();
706       \textcolor{keyword}{interface }= encoding.GetDstInterface ();
707       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; j++)
708         \{
709           address[j + 8] = interface[j];
710           address[j] = prefix[j];
711         \}
712       ipHeader.SetDestinationAddress ( Ipv6Address (address) );
713       \textcolor{keywordflow}{break};
714     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada8e07a41c91e304c47d01515d51d399ca}{SixLowPanHc1::HC1\_PIIC}:
715       prefix = encoding.GetDstPrefix ();
716       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; j++)
717         \{
718           address[j + 8] = 0;
719           address[j] = prefix[j];
720         \}
721       ipHeader.SetDestinationAddress ( \hyperlink{classns3_1_1SixLowPanNetDevice_af8af918eb21378d30eb0e1b45e978fff}{MakeGlobalAddressFromMac} (dst, Ipv6Address (
      address)));
722       \textcolor{keywordflow}{break};
723     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada3b9d64b07cd392302c87ed69164f0793}{SixLowPanHc1::HC1\_PCII}:
724       \textcolor{keyword}{interface }= encoding.GetDstInterface ();
725       address[0] = 0xfe;
726       address[1] = 0x80;
727       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; j++)
728         \{
729           address[j + 8] = interface[j];
730         \}
731       ipHeader.SetDestinationAddress ( Ipv6Address (address) );
732       \textcolor{keywordflow}{break};
733     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanHc1_a29c864d9bf6bc466ee2214a95a83dcada2e3b9656c8f4d8912d0bf078533e298f}{SixLowPanHc1::HC1\_PCIC}:
734       ipHeader.SetDestinationAddress (\hyperlink{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}{MakeLinkLocalAddressFromMac} (dst));
735       \textcolor{keywordflow}{break};
736     \}
737 
738   \textcolor{keywordflow}{if} ( !encoding.IsTcflCompression () )
739     \{
740       ipHeader.SetFlowLabel (encoding.GetFlowLabel ());
741       ipHeader.SetTrafficClass (encoding.GetTrafficClass ());
742     \}
743   \textcolor{keywordflow}{else}
744     \{
745       ipHeader.SetFlowLabel (0);
746       ipHeader.SetTrafficClass (0);
747     \}
748 
749   ipHeader.SetNextHeader (encoding.GetNextHeader ());
750 
751   ipHeader.SetPayloadLength (packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
752 
753   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (encoding.IsHc2HeaderPresent () == \textcolor{keyword}{false},
754                  \textcolor{stringliteral}{"6LoWPAN: error in decompressing HC1 encoding, unsupported L4 compressed header present."})
      ;
755 
756   packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (ipHeader);
757 
758   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Rebuilt packet: "} << *packet << \textcolor{stringliteral}{" Size "} << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () );
759 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12




Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Decompress\+Low\+Pan\+Iphc@{Decompress\+Low\+Pan\+Iphc}}
\index{Decompress\+Low\+Pan\+Iphc@{Decompress\+Low\+Pan\+Iphc}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Decompress\+Low\+Pan\+Iphc(\+Ptr$<$ Packet $>$ packet, Address const \&src, Address const \&dst)}{DecompressLowPanIphc(Ptr< Packet > packet, Address const &src, Address const &dst)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Decompress\+Low\+Pan\+Iphc (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{{\bf Address} const \&}]{src, }
\item[{{\bf Address} const \&}]{dst}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_ae861be68db1b554cc3e5ea5e263b12ed}{}\label{classns3_1_1SixLowPanNetDevice_ae861be68db1b554cc3e5ea5e263b12ed}


Decompress the headers according to I\+P\+HC compression. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & The packet to be compressed. \\
\hline
\mbox{\tt in}  & {\em src} & The M\+AC source address. \\
\hline
\mbox{\tt in}  & {\em dst} & The M\+AC destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1011 \{
1012   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet << src << dst);
1013 
1014   Ipv6Header ipHeader;
1015   SixLowPanIphc encoding;
1016 
1017   uint32\_t ret = packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (encoding);
1018   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"removed "} << ret << \textcolor{stringliteral}{" bytes - pkt is "} << *packet);
1019   \hyperlink{unused_8h_a3ba03ad859378e9f01285afb60f0e3ab}{NS\_UNUSED} (ret);
1020 
1021   \textcolor{comment}{// Hop Limit}
1022   ipHeader.SetHopLimit (encoding.GetHopLimit ());
1023 
1024   \textcolor{comment}{// Source address}
1025   \textcolor{keywordflow}{if} ( encoding.GetSac () )
1026     \{
1027       \textcolor{keywordflow}{if} ( encoding.GetSam () == \hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a67481ea7303a3a3bcdd03f14630a1e42}{SixLowPanIphc::HC\_INLINE} )
1028         \{
1029           ipHeader.SetSourceAddress ( \hyperlink{classns3_1_1Ipv6Address_a2783e8badfc98c8b0a8508bba6e1b91e}{Ipv6Address::GetAny} () );
1030         \}
1031       \textcolor{keywordflow}{else}
1032         \{
1033           \hyperlink{group__fatal_ga51ac4699be799d772ae7258d1ef6af21}{NS\_ABORT\_MSG} (\textcolor{stringliteral}{"SAC option not yet implemented"});
1034         \}
1035     \}
1036   \textcolor{keywordflow}{else}
1037     \{
1038       \textcolor{keywordflow}{if} ( encoding.GetSam () == \hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a20c6daaf8cc1cfec17270484cec677c0}{SixLowPanIphc::HC\_COMPR\_0} )
1039         \{
1040           ipHeader.SetSourceAddress (\hyperlink{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}{MakeLinkLocalAddressFromMac} (src));
1041         \}
1042       \textcolor{keywordflow}{else}
1043         \{
1044           ipHeader.SetSourceAddress ( encoding.GetSrcAddress () );
1045         \}
1046     \}
1047   \textcolor{comment}{// Destination address}
1048   \textcolor{keywordflow}{if} ( encoding.GetDac () )
1049     \{
1050       \textcolor{keywordflow}{if} ((encoding.GetDam () == \hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a67481ea7303a3a3bcdd03f14630a1e42}{SixLowPanIphc::HC\_INLINE}  && !encoding.GetM ())
1051           || (encoding.GetDam () == \hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a79b29ccd0370a00b3e182abee52ea59a}{SixLowPanIphc::HC\_COMPR\_64}  && encoding.GetM 
      ())
1052           || (encoding.GetDam () == \hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a492caa9d3c810686e9e3f1c35ef39fd9}{SixLowPanIphc::HC\_COMPR\_16}  && encoding.GetM 
      ())
1053           || (encoding.GetDam () == \hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a20c6daaf8cc1cfec17270484cec677c0}{SixLowPanIphc::HC\_COMPR\_0}  && encoding.GetM ()
      ) )
1054         \{
1055           \hyperlink{group__fatal_ga51ac4699be799d772ae7258d1ef6af21}{NS\_ABORT\_MSG} (\textcolor{stringliteral}{"Reserved code found"});
1056         \}
1057       \textcolor{keywordflow}{else}
1058         \{
1059           \hyperlink{group__fatal_ga51ac4699be799d772ae7258d1ef6af21}{NS\_ABORT\_MSG} (\textcolor{stringliteral}{"DAC option not yet implemented"});
1060         \}
1061     \}
1062   \textcolor{keywordflow}{else}
1063     \{
1064       \textcolor{keywordflow}{if} ( !encoding.GetM () && encoding.GetDam () == \hyperlink{classns3_1_1SixLowPanIphc_a384e6b68c86e9d9a07c923dbc21a6843a20c6daaf8cc1cfec17270484cec677c0}{SixLowPanIphc::HC\_COMPR\_0} )
1065         \{
1066           ipHeader.SetDestinationAddress (\hyperlink{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}{MakeLinkLocalAddressFromMac} (dst));
1067         \}
1068       \textcolor{keywordflow}{else}
1069         \{
1070           ipHeader.SetDestinationAddress ( encoding.GetDstAddress () );
1071         \}
1072     \}
1073 
1074   \textcolor{comment}{// Traffic class and Flow Label}
1075   uint8\_t traf = 0x00;
1076   \textcolor{keywordflow}{switch} (encoding.GetTf ())
1077     \{
1078     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanIphc_ac4bbe4168668e3b0656582cfa757b7dcab374d0f6554d306b0ee29fd9ff83a5ef}{SixLowPanIphc::TF\_FULL}:
1079       traf |= encoding.GetEcn ();
1080       traf = ( traf << 6 ) | encoding.GetDscp ();
1081       ipHeader.SetTrafficClass (traf);
1082       ipHeader.SetFlowLabel ( encoding.GetFlowLabel () & 0xfff ); \textcolor{comment}{//Add 4-bit pad}
1083       \textcolor{keywordflow}{break};
1084     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanIphc_ac4bbe4168668e3b0656582cfa757b7dcaf64261a5e5ef77a117b16328645ce6b8}{SixLowPanIphc::TF\_DSCP\_ELIDED}:
1085       traf |= encoding.GetEcn ();
1086       traf <<= 2;   \textcolor{comment}{// Add 2-bit pad}
1087       ipHeader.SetTrafficClass (traf);
1088       ipHeader.SetFlowLabel (encoding.GetFlowLabel ());
1089       \textcolor{keywordflow}{break};
1090     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanIphc_ac4bbe4168668e3b0656582cfa757b7dca616bab00b36d2ac76b009acbeb1105fa}{SixLowPanIphc::TF\_FL\_ELIDED}:
1091       traf |= encoding.GetEcn ();
1092       traf = ( traf << 6 ) | encoding.GetDscp ();
1093       ipHeader.SetTrafficClass (traf);
1094       ipHeader.SetFlowLabel (0);
1095       \textcolor{keywordflow}{break};
1096     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanIphc_ac4bbe4168668e3b0656582cfa757b7dca02b42f506e03adcd3222480f81af1dc3}{SixLowPanIphc::TF\_ELIDED}:
1097       ipHeader.SetFlowLabel (0);
1098       ipHeader.SetTrafficClass (0);
1099       \textcolor{keywordflow}{break};
1100     \}
1101 
1102   \textcolor{keywordflow}{if} ( encoding.GetNh () )
1103     \{
1104       \textcolor{comment}{// Next Header}
1105       uint8\_t dispatchRawVal = 0;
1106       \hyperlink{classns3_1_1SixLowPanDispatch_acbf93399dca3b5424dcc76de45a57f5f}{SixLowPanDispatch::NhcDispatch\_e} dispatchVal;
1107 
1108       packet->\hyperlink{classns3_1_1Packet_a5a6d304b9e0d90733919ffe224b98f0d}{CopyData} (&dispatchRawVal, \textcolor{keyword}{sizeof}(dispatchRawVal));
1109       dispatchVal = \hyperlink{classns3_1_1SixLowPanDispatch_aadc1e9ded2e292f557da546a6a4e49d2}{SixLowPanDispatch::GetNhcDispatchType} (
      dispatchRawVal);
1110 
1111       \textcolor{keywordflow}{if} (dispatchVal == \hyperlink{classns3_1_1SixLowPanDispatch_acbf93399dca3b5424dcc76de45a57f5faf1d4da6a831d704993ea3946327c8c0c}{SixLowPanDispatch::LOWPAN\_UDPNHC})
1112         \{
1113           ipHeader.SetNextHeader (\hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP});
1114           \hyperlink{classns3_1_1SixLowPanNetDevice_a0b31fbe0bdc3a4dd59b9f7426aec8ed8}{DecompressLowPanUdpNhc} (packet, ipHeader.GetSourceAddress (), ipHeader.
      GetDestinationAddress ());
1115         \}
1116       \textcolor{keywordflow}{else}
1117         \{
1118           ipHeader.SetNextHeader (\hyperlink{classns3_1_1SixLowPanNetDevice_af69701425fa2e02ab4a7fdcd1db99cc8}{DecompressLowPanNhc} (packet, src, dst, ipHeader.
      GetSourceAddress (), ipHeader.GetDestinationAddress ()));
1119         \}
1120     \}
1121   \textcolor{keywordflow}{else}
1122     \{
1123       ipHeader.SetNextHeader (encoding.GetNextHeader ());
1124     \}
1125 
1126   ipHeader.SetPayloadLength (packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
1127 
1128   packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (ipHeader);
1129 
1130   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Rebuilt packet: "} << *packet << \textcolor{stringliteral}{" Size "} << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () );
1131 
1132 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Decompress\+Low\+Pan\+Nhc@{Decompress\+Low\+Pan\+Nhc}}
\index{Decompress\+Low\+Pan\+Nhc@{Decompress\+Low\+Pan\+Nhc}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Decompress\+Low\+Pan\+Nhc(\+Ptr$<$ Packet $>$ packet, Address const \&src, Address const \&dst, Ipv6\+Address src\+Address, Ipv6\+Address dst\+Address)}{DecompressLowPanNhc(Ptr< Packet > packet, Address const &src, Address const &dst, Ipv6Address srcAddress, Ipv6Address dstAddress)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Decompress\+Low\+Pan\+Nhc (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{{\bf Address} const \&}]{src, }
\item[{{\bf Address} const \&}]{dst, }
\item[{{\bf Ipv6\+Address}}]{src\+Address, }
\item[{{\bf Ipv6\+Address}}]{dst\+Address}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_af69701425fa2e02ab4a7fdcd1db99cc8}{}\label{classns3_1_1SixLowPanNetDevice_af69701425fa2e02ab4a7fdcd1db99cc8}


Decompress the headers according to N\+HC compression. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & The packet to be compressed. \\
\hline
\mbox{\tt in}  & {\em src} & The M\+AC source address. \\
\hline
\mbox{\tt in}  & {\em dst} & The M\+AC destination address. \\
\hline
\mbox{\tt in}  & {\em src\+Address} & The I\+Pv6 source address. \\
\hline
\mbox{\tt in}  & {\em dst\+Address} & The I\+Pv6 destination address. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The decompressed header type. 
\end{DoxyReturn}

\begin{DoxyCode}
1395 \{
1396   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet);
1397 
1398   SixLowPanNhcExtension encoding;
1399 
1400   uint32\_t ret = packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (encoding);
1401   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"removed "} << ret << \textcolor{stringliteral}{" bytes - pkt is "} << *packet);
1402   \hyperlink{unused_8h_a3ba03ad859378e9f01285afb60f0e3ab}{NS\_UNUSED} (ret);
1403 
1404   Ipv6ExtensionHopByHopHeader hopHeader;
1405   Ipv6ExtensionRoutingHeader routingHeader;
1406   Ipv6ExtensionFragmentHeader fragHeader;
1407   Ipv6ExtensionDestinationHeader destHeader;
1408 
1409   uint32\_t blobSize;
1410   uint8\_t blobData[260];
1411   blobSize = encoding.CopyBlob (blobData + 2, 260-2);
1412   uint8\_t paddingSize = 0;
1413 
1414   uint8\_t actualEncodedHeaderType = encoding.GetEid ();
1415   uint8\_t actualHeaderType;
1416   Buffer blob;
1417 
1418   \textcolor{keywordflow}{switch} (actualEncodedHeaderType)
1419     \{
1420     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanNhcExtension_ac692a22abe80c30bcbafa57ef36bf5ada21fdd5323221baf11ca4aa76cfd75690}{SixLowPanNhcExtension::EID\_HOPBYHOP\_OPTIONS\_H}:
1421       actualHeaderType = \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aa0413202f88bebb4f91a138e317b6bbd}{Ipv6Header::IPV6\_EXT\_HOP\_BY\_HOP};
1422       \textcolor{keywordflow}{if} ( encoding.GetNh () )
1423         \{
1424           \textcolor{comment}{// Next Header}
1425           uint8\_t dispatchRawVal = 0;
1426           \hyperlink{classns3_1_1SixLowPanDispatch_acbf93399dca3b5424dcc76de45a57f5f}{SixLowPanDispatch::NhcDispatch\_e} dispatchVal;
1427 
1428           packet->\hyperlink{classns3_1_1Packet_a5a6d304b9e0d90733919ffe224b98f0d}{CopyData} (&dispatchRawVal, \textcolor{keyword}{sizeof}(dispatchRawVal));
1429           dispatchVal = \hyperlink{classns3_1_1SixLowPanDispatch_aadc1e9ded2e292f557da546a6a4e49d2}{SixLowPanDispatch::GetNhcDispatchType} (
      dispatchRawVal);
1430 
1431           \textcolor{keywordflow}{if} (dispatchVal == \hyperlink{classns3_1_1SixLowPanDispatch_acbf93399dca3b5424dcc76de45a57f5faf1d4da6a831d704993ea3946327c8c0c}{SixLowPanDispatch::LOWPAN\_UDPNHC})
1432             \{
1433               blobData [0] = \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP};
1434               \hyperlink{classns3_1_1SixLowPanNetDevice_a0b31fbe0bdc3a4dd59b9f7426aec8ed8}{DecompressLowPanUdpNhc} (packet, srcAddress, dstAddress);
1435             \}
1436           \textcolor{keywordflow}{else}
1437             \{
1438               blobData [0] = \hyperlink{classns3_1_1SixLowPanNetDevice_af69701425fa2e02ab4a7fdcd1db99cc8}{DecompressLowPanNhc} (packet, src, dst, srcAddress, 
      dstAddress);
1439             \}
1440         \}
1441       \textcolor{keywordflow}{else}
1442         \{
1443           blobData [0] = encoding.GetNextHeader ();
1444         \}
1445 
1446       \textcolor{comment}{// manually add some padding if needed}
1447       \textcolor{keywordflow}{if} ((blobSize + 2) % 8 > 0)
1448         \{
1449           paddingSize = 8 - (blobSize + 2) % 8;
1450         \}
1451       \textcolor{keywordflow}{if} (paddingSize == 1)
1452         \{
1453           blobData[blobSize + 2] = 0;
1454         \}
1455       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (paddingSize > 1)
1456         \{
1457           blobData[blobSize + 2] = 1;
1458           blobData[blobSize + 2 + 1] = paddingSize - 2;
1459           \textcolor{keywordflow}{for} (uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < paddingSize - 2; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1460             \{
1461               blobData[blobSize + 2 + 2 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
1462             \}
1463         \}
1464       blobData [1] = ((blobSize + 2 + paddingSize) >> 3) - 1;
1465       blob.AddAtStart (blobSize + 2 + paddingSize);
1466       blob.Begin ().Write (blobData, blobSize + 2 + paddingSize);
1467       hopHeader.Deserialize (blob.Begin ());
1468 
1469       packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (hopHeader);
1470       \textcolor{keywordflow}{break};
1471 
1472     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanNhcExtension_ac692a22abe80c30bcbafa57ef36bf5adaeb4cdb5e404fc0a43e7ea60be5f24b40}{SixLowPanNhcExtension::EID\_ROUTING\_H}:
1473       actualHeaderType = \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a4f6f9116305705bc2b3d04ff5c4bd2a8}{Ipv6Header::IPV6\_EXT\_ROUTING};
1474       \textcolor{keywordflow}{if} ( encoding.GetNh () )
1475         \{
1476           \textcolor{comment}{// Next Header}
1477           uint8\_t dispatchRawVal = 0;
1478           \hyperlink{classns3_1_1SixLowPanDispatch_acbf93399dca3b5424dcc76de45a57f5f}{SixLowPanDispatch::NhcDispatch\_e} dispatchVal;
1479 
1480           packet->\hyperlink{classns3_1_1Packet_a5a6d304b9e0d90733919ffe224b98f0d}{CopyData} (&dispatchRawVal, \textcolor{keyword}{sizeof}(dispatchRawVal));
1481           dispatchVal = \hyperlink{classns3_1_1SixLowPanDispatch_aadc1e9ded2e292f557da546a6a4e49d2}{SixLowPanDispatch::GetNhcDispatchType} (
      dispatchRawVal);
1482 
1483           \textcolor{keywordflow}{if} (dispatchVal == \hyperlink{classns3_1_1SixLowPanDispatch_acbf93399dca3b5424dcc76de45a57f5faf1d4da6a831d704993ea3946327c8c0c}{SixLowPanDispatch::LOWPAN\_UDPNHC})
1484             \{
1485               blobData [0] = \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP};
1486               \hyperlink{classns3_1_1SixLowPanNetDevice_a0b31fbe0bdc3a4dd59b9f7426aec8ed8}{DecompressLowPanUdpNhc} (packet, srcAddress, dstAddress);
1487             \}
1488           \textcolor{keywordflow}{else}
1489             \{
1490               blobData [0] = \hyperlink{classns3_1_1SixLowPanNetDevice_af69701425fa2e02ab4a7fdcd1db99cc8}{DecompressLowPanNhc} (packet, src, dst, srcAddress, 
      dstAddress);
1491             \}
1492         \}
1493       \textcolor{keywordflow}{else}
1494         \{
1495           blobData [0] = encoding.GetNextHeader ();
1496         \}
1497       blobData [1] = ((blobSize + 2) >> 3) - 1;
1498       blob.AddAtStart (blobSize + 2);
1499       blob.Begin ().Write (blobData, blobSize + 2);
1500       routingHeader.Deserialize (blob.Begin ());
1501       packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (routingHeader);
1502       \textcolor{keywordflow}{break};
1503 
1504     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanNhcExtension_ac692a22abe80c30bcbafa57ef36bf5ada62051012ae9fe03967626d4c451f39fd}{SixLowPanNhcExtension::EID\_FRAGMENTATION\_H}:
1505       actualHeaderType = \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a5839daf3fdfb16dfdc94a208ca6ebc5a}{Ipv6Header::IPV6\_EXT\_FRAGMENTATION};
1506       \textcolor{keywordflow}{if} ( encoding.GetNh () )
1507         \{
1508           \textcolor{comment}{// Next Header}
1509           uint8\_t dispatchRawVal = 0;
1510           \hyperlink{classns3_1_1SixLowPanDispatch_acbf93399dca3b5424dcc76de45a57f5f}{SixLowPanDispatch::NhcDispatch\_e} dispatchVal;
1511 
1512           packet->\hyperlink{classns3_1_1Packet_a5a6d304b9e0d90733919ffe224b98f0d}{CopyData} (&dispatchRawVal, \textcolor{keyword}{sizeof}(dispatchRawVal));
1513           dispatchVal = \hyperlink{classns3_1_1SixLowPanDispatch_aadc1e9ded2e292f557da546a6a4e49d2}{SixLowPanDispatch::GetNhcDispatchType} (
      dispatchRawVal);
1514 
1515           \textcolor{keywordflow}{if} (dispatchVal == \hyperlink{classns3_1_1SixLowPanDispatch_acbf93399dca3b5424dcc76de45a57f5faf1d4da6a831d704993ea3946327c8c0c}{SixLowPanDispatch::LOWPAN\_UDPNHC})
1516             \{
1517               blobData [0] = \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP};
1518               \hyperlink{classns3_1_1SixLowPanNetDevice_a0b31fbe0bdc3a4dd59b9f7426aec8ed8}{DecompressLowPanUdpNhc} (packet, srcAddress, dstAddress);
1519             \}
1520           \textcolor{keywordflow}{else}
1521             \{
1522               blobData [0] = \hyperlink{classns3_1_1SixLowPanNetDevice_af69701425fa2e02ab4a7fdcd1db99cc8}{DecompressLowPanNhc} (packet, src, dst, srcAddress, 
      dstAddress);
1523             \}
1524         \}
1525       \textcolor{keywordflow}{else}
1526         \{
1527           blobData [0] = encoding.GetNextHeader ();
1528         \}
1529       blobData [1] = 0;
1530 
1531       blob.AddAtStart (blobSize + 2);
1532       blob.Begin ().Write (blobData, blobSize + 2);
1533 
1534       fragHeader.Deserialize (blob.Begin ());
1535       packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (fragHeader);
1536       \textcolor{keywordflow}{break};
1537 
1538     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanNhcExtension_ac692a22abe80c30bcbafa57ef36bf5ada874ee6f734081d5152bc6bf4ac1737c7}{SixLowPanNhcExtension::EID\_DESTINATION\_OPTIONS\_H}:
1539       actualHeaderType = \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9abfe6e82da1c9945685a3bf9dbfbe974b}{Ipv6Header::IPV6\_EXT\_DESTINATION};
1540       \textcolor{keywordflow}{if} ( encoding.GetNh () )
1541         \{
1542           \textcolor{comment}{// Next Header}
1543           uint8\_t dispatchRawVal = 0;
1544           \hyperlink{classns3_1_1SixLowPanDispatch_acbf93399dca3b5424dcc76de45a57f5f}{SixLowPanDispatch::NhcDispatch\_e} dispatchVal;
1545 
1546           packet->\hyperlink{classns3_1_1Packet_a5a6d304b9e0d90733919ffe224b98f0d}{CopyData} (&dispatchRawVal, \textcolor{keyword}{sizeof}(dispatchRawVal));
1547           dispatchVal = \hyperlink{classns3_1_1SixLowPanDispatch_aadc1e9ded2e292f557da546a6a4e49d2}{SixLowPanDispatch::GetNhcDispatchType} (
      dispatchRawVal);
1548 
1549           \textcolor{keywordflow}{if} (dispatchVal == \hyperlink{classns3_1_1SixLowPanDispatch_acbf93399dca3b5424dcc76de45a57f5faf1d4da6a831d704993ea3946327c8c0c}{SixLowPanDispatch::LOWPAN\_UDPNHC})
1550             \{
1551               blobData [0] = \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9aef42146d6b211521c22f827b04530253}{Ipv6Header::IPV6\_UDP};
1552               \hyperlink{classns3_1_1SixLowPanNetDevice_a0b31fbe0bdc3a4dd59b9f7426aec8ed8}{DecompressLowPanUdpNhc} (packet, srcAddress, dstAddress);
1553             \}
1554           \textcolor{keywordflow}{else}
1555             \{
1556               blobData [0] = \hyperlink{classns3_1_1SixLowPanNetDevice_af69701425fa2e02ab4a7fdcd1db99cc8}{DecompressLowPanNhc} (packet, src, dst, srcAddress, 
      dstAddress);
1557             \}
1558         \}
1559       \textcolor{keywordflow}{else}
1560         \{
1561           blobData [0] = encoding.GetNextHeader ();
1562         \}
1563 
1564       \textcolor{comment}{// manually add some padding if needed}
1565       \textcolor{keywordflow}{if} ((blobSize + 2) % 8 > 0)
1566         \{
1567           paddingSize = 8 - (blobSize + 2) % 8;
1568         \}
1569       \textcolor{keywordflow}{if} (paddingSize == 1)
1570         \{
1571           blobData[blobSize + 2] = 0;
1572         \}
1573       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (paddingSize > 1)
1574         \{
1575           blobData[blobSize + 2] = 1;
1576           blobData[blobSize + 2 + 1] = paddingSize - 2;
1577           \textcolor{keywordflow}{for} (uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < paddingSize - 2; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1578             \{
1579               blobData[blobSize + 2 + 2 + \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
1580             \}
1581         \}
1582       blobData [1] = ((blobSize + 2 + paddingSize) >> 3) - 1;
1583       blob.AddAtStart (blobSize + 2 + paddingSize);
1584       blob.Begin ().Write (blobData, blobSize + 2 + paddingSize);
1585       destHeader.Deserialize (blob.Begin ());
1586 
1587       packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (destHeader);
1588       \textcolor{keywordflow}{break};
1589     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanNhcExtension_ac692a22abe80c30bcbafa57ef36bf5adadc134cf7c28a525ec3953173260c1166}{SixLowPanNhcExtension::EID\_MOBILITY\_H}:
1590       \textcolor{comment}{// \(\backslash\)todo: IPv6 Mobility Header is not supported in ns-3}
1591       \hyperlink{group__fatal_ga51ac4699be799d772ae7258d1ef6af21}{NS\_ABORT\_MSG} (\textcolor{stringliteral}{"IPv6 Mobility Header is not supported in ns-3 yet"});
1592       \textcolor{keywordflow}{break};
1593     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanNhcExtension_ac692a22abe80c30bcbafa57ef36bf5adadde190333334a82e2a0cf48c1aedf717}{SixLowPanNhcExtension::EID\_IPv6\_H}:
1594       actualHeaderType = \hyperlink{classns3_1_1Ipv6Header_a226429221a066c5e3b1f260caf27d1e9a2438a09074916d0e066627b28543ec7a}{Ipv6Header::IPV6\_IPV6};
1595       \hyperlink{classns3_1_1SixLowPanNetDevice_ae861be68db1b554cc3e5ea5e263b12ed}{DecompressLowPanIphc} (packet, src, dst);
1596       \textcolor{keywordflow}{break};
1597     \textcolor{keywordflow}{default}:
1598       \hyperlink{group__fatal_ga51ac4699be799d772ae7258d1ef6af21}{NS\_ABORT\_MSG} (\textcolor{stringliteral}{"Trying to decode unknown Extension Header"});
1599       \textcolor{keywordflow}{break};
1600     \}
1601 
1602   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Rebuilt packet: "} << *packet << \textcolor{stringliteral}{" Size "} << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () );
1603   \textcolor{keywordflow}{return} actualHeaderType;
1604 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Decompress\+Low\+Pan\+Udp\+Nhc@{Decompress\+Low\+Pan\+Udp\+Nhc}}
\index{Decompress\+Low\+Pan\+Udp\+Nhc@{Decompress\+Low\+Pan\+Udp\+Nhc}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Decompress\+Low\+Pan\+Udp\+Nhc(\+Ptr$<$ Packet $>$ packet, Ipv6\+Address saddr, Ipv6\+Address daddr)}{DecompressLowPanUdpNhc(Ptr< Packet > packet, Ipv6Address saddr, Ipv6Address daddr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Decompress\+Low\+Pan\+Udp\+Nhc (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{{\bf Ipv6\+Address}}]{saddr, }
\item[{{\bf Ipv6\+Address}}]{daddr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a0b31fbe0bdc3a4dd59b9f7426aec8ed8}{}\label{classns3_1_1SixLowPanNetDevice_a0b31fbe0bdc3a4dd59b9f7426aec8ed8}


Decompress the headers according to N\+HC compression. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & The packet to be compressed. \\
\hline
\mbox{\tt in}  & {\em saddr} & The I\+Pv6 source address. \\
\hline
\mbox{\tt in}  & {\em daddr} & The I\+Pv6 destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1663 \{
1664   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet);
1665 
1666   UdpHeader udpHeader;
1667   SixLowPanUdpNhcExtension encoding;
1668 
1669   uint32\_t ret = packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (encoding);
1670   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"removed "} << ret << \textcolor{stringliteral}{" bytes - pkt is "} << *packet);
1671   \hyperlink{unused_8h_a3ba03ad859378e9f01285afb60f0e3ab}{NS\_UNUSED} (ret);
1672 
1673   \textcolor{comment}{// Set the value of the ports}
1674   \textcolor{keywordflow}{switch} ( encoding.GetPorts () )
1675     \{
1676       uint16\_t temp;
1677     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanUdpNhcExtension_a77005f9c06de72b1a6ea105a23bf413ba6579ce5e13ed97d8d896694c08d24caf}{SixLowPanUdpNhcExtension::PORTS\_INLINE}:
1678       udpHeader.SetSourcePort (encoding.GetSrcPort ());
1679       udpHeader.SetDestinationPort (encoding.GetDstPort ());
1680       \textcolor{keywordflow}{break};
1681     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanUdpNhcExtension_a77005f9c06de72b1a6ea105a23bf413bae7a4cf154bbe4889459921e80e198fd6}{SixLowPanUdpNhcExtension::PORTS\_ALL\_SRC\_LAST\_DST}:
1682       udpHeader.SetSourcePort (encoding.GetSrcPort ());
1683       temp = 0xf0;
1684       temp |= (temp << 8) | encoding.GetDstPort ();
1685       udpHeader.SetDestinationPort (temp);
1686       \textcolor{keywordflow}{break};
1687     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanUdpNhcExtension_a77005f9c06de72b1a6ea105a23bf413ba2f35b94c80f56d7da66128f77b0d1f8f}{SixLowPanUdpNhcExtension::PORTS\_LAST\_SRC\_ALL\_DST}:
1688       temp = 0xf0;
1689       temp |= (temp << 8) | encoding.GetSrcPort ();
1690       udpHeader.SetSourcePort (temp);
1691       udpHeader.SetDestinationPort (encoding.GetDstPort ());
1692       \textcolor{keywordflow}{break};
1693     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanUdpNhcExtension_a77005f9c06de72b1a6ea105a23bf413baef8af6ce660592f4b15a9953fdb94020}{SixLowPanUdpNhcExtension::PORTS\_LAST\_SRC\_LAST\_DST}
      :
1694       temp = 0xf0b;
1695       temp |= (temp << 4) | encoding.GetSrcPort ();
1696       udpHeader.SetSourcePort (temp);
1697       temp = 0xf0b;
1698       temp |= (temp << 4) | encoding.GetDstPort ();
1699       udpHeader.SetDestinationPort (temp);
1700       \textcolor{keywordflow}{break};
1701     \}
1702 
1703   \textcolor{comment}{// Get the C field and checksum}
1704   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Node_a0515bfe9a3aeb6605d657ba855699815}{Node::ChecksumEnabled} ())
1705     \{
1706       \textcolor{keywordflow}{if} ( encoding.GetC () )
1707         \{
1708           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Recalculating UDP Checksum"});
1709           udpHeader.EnableChecksums ();
1710           udpHeader.InitializeChecksum (saddr,
1711                                         daddr,
1712                                         \hyperlink{classns3_1_1UdpL4Protocol_ad370801b3d1a166e831020a777c41047}{UdpL4Protocol::PROT\_NUMBER});
1713           packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (udpHeader);
1714         \}
1715       \textcolor{keywordflow}{else}
1716         \{
1717           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Forcing UDP Checksum to "} << encoding.GetChecksum ());
1718           udpHeader.ForceChecksum (encoding.GetChecksum ());
1719           packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (udpHeader);
1720           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"UDP checksum is ok ? "} << udpHeader.IsChecksumOk ());
1721         \}
1722     \}
1723   \textcolor{keywordflow}{else}
1724     \{
1725       packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (udpHeader);
1726     \}
1727 
1728   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Rebuilt packet: "} << *packet << \textcolor{stringliteral}{" Size "} << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () );
1729 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_aa012326b671b8a0c95a2b98dc022d680}{}\label{classns3_1_1SixLowPanNetDevice_aa012326b671b8a0c95a2b98dc022d680}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1SixLowPanNetDevice_aa012326b671b8a0c95a2b98dc022d680}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
148 \{
149   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
150 
151   \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} = 0;
152   \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node} = 0;
153 
154   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1SixLowPanNetDevice_a13a491d7e33f4ffa15205baf6d393ec1}{MapFragmentsTimersI\_t} iter = \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}.begin (); iter 
      != \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}.end (); iter++)
155     \{
156       iter->second.Cancel ();
157     \}
158   \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}.clear ();
159 
160   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1SixLowPanNetDevice_a3705ab28794ee87035b79632b7657603}{MapFragmentsI\_t} iter = \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.begin (); iter != 
      \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.end (); iter++)
161     \{
162       iter->second = 0;
163     \}
164   \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.clear ();
165 
166   \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{NetDevice::DoDispose} ();
167 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 20


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Do\+Fragmentation@{Do\+Fragmentation}}
\index{Do\+Fragmentation@{Do\+Fragmentation}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Do\+Fragmentation(\+Ptr$<$ Packet $>$ packet, uint32\+\_\+t orig\+Packet\+Size, uint32\+\_\+t orig\+Hdr\+Size, std\+::list$<$ Ptr$<$ Packet $>$ $>$ \&list\+Fragments)}{DoFragmentation(Ptr< Packet > packet, uint32_t origPacketSize, uint32_t origHdrSize, std::list< Ptr< Packet > > &listFragments)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Do\+Fragmentation (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{uint32\+\_\+t}]{orig\+Packet\+Size, }
\item[{uint32\+\_\+t}]{orig\+Hdr\+Size, }
\item[{{\bf std\+::list}$<$ {\bf Ptr}$<$ {\bf Packet} $>$ $>$ \&}]{list\+Fragments}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a88e96024b9eb0c0184c9c1ef26e3aa16}{}\label{classns3_1_1SixLowPanNetDevice_a88e96024b9eb0c0184c9c1ef26e3aa16}


Performs a packet fragmentation. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & the packet to be fragmented (with headers already compressed with 6\+Lo\+W\+P\+AN). \\
\hline
\mbox{\tt in}  & {\em orig\+Packet\+Size} & the size of the IP packet before the 6\+Lo\+W\+P\+AN header compression, including the I\+P/\+L4 headers. \\
\hline
\mbox{\tt in}  & {\em orig\+Hdr\+Size} & the size of the IP header before the 6\+Lo\+W\+P\+AN header compression. \\
\hline
\mbox{\tt out}  & {\em list\+Fragments} & A reference to the list of the resulting packets, all with the proper headers in place. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1735 \{
1736   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet);
1737 
1738   Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = packet->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} ();
1739 
1740   uint16\_t offsetData = 0;
1741   uint16\_t offset = 0;
1742   uint16\_t l2Mtu = \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetMtu ();
1743   uint32\_t packetSize = packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ();
1744   uint32\_t compressedHeaderSize = packetSize - (origPacketSize - origHdrSize);
1745 
1746   uint16\_t tag = uint16\_t (\hyperlink{classns3_1_1SixLowPanNetDevice_a2790a5f0228097a1e52b728dcdbf70d2}{m\_rng}->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue} (0, 65535));
1747   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"random tag "} << tag << \textcolor{stringliteral}{" - test "} << packetSize );
1748 
1749   \textcolor{comment}{// first fragment}
1750   SixLowPanFrag1 frag1Hdr;
1751   frag1Hdr.SetDatagramTag (tag);
1752 
1753   uint32\_t size;
1754   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( l2Mtu > frag1Hdr.GetSerializedSize (),
1755                   \textcolor{stringliteral}{"6LoWPAN: can not fragment, 6LoWPAN headers are bigger than MTU"});
1756 
1757   size = l2Mtu - frag1Hdr.GetSerializedSize () - compressedHeaderSize;
1758   size -= size % 8;
1759   size += compressedHeaderSize;
1760 
1761   frag1Hdr.SetDatagramSize (origPacketSize);
1762 
1763   Ptr<Packet> fragment1 = p->CreateFragment (offsetData, size);
1764   offset += size + origHdrSize - compressedHeaderSize;
1765   offsetData += size;
1766 
1767   fragment1->AddHeader (frag1Hdr);
1768   listFragments.push\_back (fragment1);
1769 
1770   \textcolor{keywordtype}{bool} moreFrag = \textcolor{keyword}{true};
1771   \textcolor{keywordflow}{do}
1772     \{
1773       SixLowPanFragN fragNHdr;
1774       fragNHdr.SetDatagramTag (tag);
1775       fragNHdr.SetDatagramSize (origPacketSize);
1776       fragNHdr.SetDatagramOffset ((offset) >> 3);
1777 
1778       size = l2Mtu - fragNHdr.GetSerializedSize ();
1779       size -= size % 8;
1780 
1781       \textcolor{keywordflow}{if} ( (offsetData + size) > packetSize )
1782         \{
1783           size = packetSize - offsetData;
1784           moreFrag = \textcolor{keyword}{false};
1785         \}
1786 
1787       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Fragment creation - "} << offset << \textcolor{stringliteral}{", "} << offset );
1788       Ptr<Packet> fragment = p->CreateFragment (offsetData, size);
1789       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Fragment created - "} << offset << \textcolor{stringliteral}{", "} << fragment->GetSize () );
1790 
1791       offset += size;
1792       offsetData += size;
1793 
1794       fragment->AddHeader (fragNHdr);
1795       listFragments.push\_back (fragment);
1796 
1797     \}
1798   \textcolor{keywordflow}{while} (moreFrag);
1799 
1800   \textcolor{keywordflow}{return};
1801 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 21




Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Do\+Send@{Do\+Send}}
\index{Do\+Send@{Do\+Send}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Do\+Send(\+Ptr$<$ Packet $>$ packet, const Address \&source, const Address \&dest, uint16\+\_\+t protocol\+Number, bool do\+Send\+From)}{DoSend(Ptr< Packet > packet, const Address &source, const Address &dest, uint16_t protocolNumber, bool doSendFrom)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Do\+Send (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{const {\bf Address} \&}]{source, }
\item[{const {\bf Address} \&}]{dest, }
\item[{uint16\+\_\+t}]{protocol\+Number, }
\item[{bool}]{do\+Send\+From}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a0cd8b4fc52f256bd7743310434ac4680}{}\label{classns3_1_1SixLowPanNetDevice_a0cd8b4fc52f256bd7743310434ac4680}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & \hyperlink{classns3_1_1Packet}{Packet} sent from above down to Network Device. \\
\hline
\mbox{\tt in}  & {\em source} & Source mac address (only used if do\+Send\+From is true, i.\+e., \char`\"{}\+M\+A\+C spoofing\char`\"{}). \\
\hline
\mbox{\tt in}  & {\em dest} & Mac address of the destination (already resolved). \\
\hline
\mbox{\tt in}  & {\em protocol\+Number} & Identifies the type of payload contained in this packet. Used to call the right L3\+Protocol when the packet is received. \\
\hline
\mbox{\tt in}  & {\em do\+Send\+From} & Perform a Send\+From instead of a Send.\\
\hline
\end{DoxyParams}
Called from higher layer to send packet into Network Device with the specified source and destination Addresses.

\begin{DoxyReturn}{Returns}
Whether the Send operation succeeded. 
\end{DoxyReturn}

\begin{DoxyCode}
426 \{
427   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet << src << dest << protocolNumber << doSendFrom);
428   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
429 
430   Ptr<Packet> origPacket = packet->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} ();
431   uint32\_t origHdrSize = 0;
432   uint32\_t origPacketSize = packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ();
433   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{false};
434 
435   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SixLowPanNetDevice_a57d9f56656023ad738e092ba9f668192}{m\_forceEtherType})
436     \{
437       protocolNumber = \hyperlink{classns3_1_1SixLowPanNetDevice_afdea8e77d8ec66aef94e8cdbb645004b}{m\_etherType};
438     \}
439 
440   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SixLowPanNetDevice_a304a0244019df2ca598b655210d82533}{m\_useIphc})
441     \{
442       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Compressing packet using IPHC"});
443       origHdrSize += \hyperlink{classns3_1_1SixLowPanNetDevice_a67bf1501ba018d90c5bdb442371a3722}{CompressLowPanIphc} (packet, \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetAddress (), 
      dest);
444     \}
445   \textcolor{keywordflow}{else}
446     \{
447       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Compressing packet using HC1"});
448       origHdrSize += \hyperlink{classns3_1_1SixLowPanNetDevice_a0e1957fbfb793cd011b4b3f89c550b8f}{CompressLowPanHc1} (packet, \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetAddress (), 
      dest);
449     \}
450 
451   \textcolor{keywordflow}{if} (packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () < \hyperlink{classns3_1_1SixLowPanNetDevice_a61c90503b8ea0015e2c3e4dc1f599582}{m\_compressionThreshold})
452     \{
453       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Compressed packet too short, using uncompressed one"});
454       packet = origPacket;
455       SixLowPanIpv6 ipv6UncompressedHdr;
456       packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (ipv6UncompressedHdr);
457     \}
458 
459   \textcolor{keywordflow}{if} ( packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () > \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetMtu () )
460     \{
461       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Fragmentation: Packet size "} << packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () << \textcolor{stringliteral}{" - Mtu "} << 
      \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetMtu () );
462       \textcolor{comment}{// fragment}
463       std::list<Ptr<Packet> > fragmentList;
464       \hyperlink{classns3_1_1SixLowPanNetDevice_a88e96024b9eb0c0184c9c1ef26e3aa16}{DoFragmentation} (packet, origPacketSize, origHdrSize, fragmentList);
465       std::list<Ptr<Packet> >::iterator it;
466       \textcolor{keywordtype}{bool} success = \textcolor{keyword}{true};
467       \textcolor{keywordflow}{for} ( it = fragmentList.begin (); it != fragmentList.end (); it++ )
468         \{
469           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"SixLowPanNetDevice::Send (Fragment) "} << **it );
470           \hyperlink{classns3_1_1SixLowPanNetDevice_a6d80896d0b58fd8a5577c65a060ad3b1}{m\_txTrace} (*it, \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{SixLowPanNetDevice}> (), \hyperlink{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}{GetIfIndex} ());
471           \textcolor{keywordflow}{if} (doSendFrom)
472             \{
473               success &= \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->SendFrom (*it, src, dest, protocolNumber);
474             \}
475           \textcolor{keywordflow}{else}
476             \{
477               success &= \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->Send (*it, dest, protocolNumber);
478             \}
479         \}
480       ret = success;
481     \}
482   \textcolor{keywordflow}{else}
483     \{
484       \hyperlink{classns3_1_1SixLowPanNetDevice_a6d80896d0b58fd8a5577c65a060ad3b1}{m\_txTrace} (packet, \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{SixLowPanNetDevice}> (), \hyperlink{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}{GetIfIndex} ());
485       \textcolor{keywordflow}{if} (doSendFrom)
486         \{
487           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"SixLowPanNetDevice::SendFrom "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->
      \hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} () << \textcolor{stringliteral}{" "} << *packet );
488           ret = \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->SendFrom (packet, src, dest, protocolNumber);
489         \}
490       \textcolor{keywordflow}{else}
491         \{
492           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"SixLowPanNetDevice::Send "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->
      \hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} () << \textcolor{stringliteral}{" "} << *packet );
493           ret = \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->Send (packet, dest, protocolNumber);
494         \}
495     \}
496 
497   \textcolor{keywordflow}{return} ret;
498 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23




Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Drop\+Oldest\+Fragment\+Set@{Drop\+Oldest\+Fragment\+Set}}
\index{Drop\+Oldest\+Fragment\+Set@{Drop\+Oldest\+Fragment\+Set}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Drop\+Oldest\+Fragment\+Set()}{DropOldestFragmentSet()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Drop\+Oldest\+Fragment\+Set (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a5b3e75cf412c0fbd9b67e8bf092cc8fe}{}\label{classns3_1_1SixLowPanNetDevice_a5b3e75cf412c0fbd9b67e8bf092cc8fe}


Drops the oldest fragment set. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Get\+Address@{Get\+Address}}
\index{Get\+Address@{Get\+Address}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Get\+Address(void) const }{GetAddress(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Address} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Get\+Address (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a9a825d55acb0ae6fe46fa34bb8a5ae57}{}\label{classns3_1_1SixLowPanNetDevice_a9a825d55acb0ae6fe46fa34bb8a5ae57}
\begin{DoxyReturn}{Returns}
the current \hyperlink{classns3_1_1Address}{Address} of this interface. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a671f99de496d6f09ae343bb715301fb2}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
296 \{
297   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
298   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
299 
300   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetAddress ();
301 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Get\+Broadcast@{Get\+Broadcast}}
\index{Get\+Broadcast@{Get\+Broadcast}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Get\+Broadcast(void) const }{GetBroadcast(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Address} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Get\+Broadcast (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a8555d52ad55cf6b2c57228c877ac4c0b}{}\label{classns3_1_1SixLowPanNetDevice_a8555d52ad55cf6b2c57228c877ac4c0b}
\begin{DoxyReturn}{Returns}
the broadcast address supported by this netdevice.
\end{DoxyReturn}
Calling this method is invalid if Is\+Broadcast returns not true. 

Implements \hyperlink{classns3_1_1NetDevice_a4724e03bc548dd8e967cc4a7356197bd}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
350 \{
351   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
352   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
353 
354   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetBroadcast ();
355 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Get\+Channel@{Get\+Channel}}
\index{Get\+Channel@{Get\+Channel}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Get\+Channel(void) const }{GetChannel(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Channel} $>$ ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Get\+Channel (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a95e2b09c9a58f4e22d930a520b9c65f0}{}\label{classns3_1_1SixLowPanNetDevice_a95e2b09c9a58f4e22d930a520b9c65f0}
\begin{DoxyReturn}{Returns}
the channel this \hyperlink{classns3_1_1NetDevice}{Net\+Device} is connected to. The value returned can be zero if the \hyperlink{classns3_1_1NetDevice}{Net\+Device} is not yet connected to any channel or if the underlying \hyperlink{classns3_1_1NetDevice}{Net\+Device} has no concept of a channel. i.\+e., callers {\itshape must} check for zero and be ready to handle it. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a3d810bd2738634e2e851661271828565}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
280 \{
281   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
282   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
283 
284   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetChannel ();
285 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Get\+If\+Index@{Get\+If\+Index}}
\index{Get\+If\+Index@{Get\+If\+Index}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Get\+If\+Index(void) const }{GetIfIndex(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Get\+If\+Index (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}{}\label{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}
\begin{DoxyReturn}{Returns}
index if\+Index of the device 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a8c1ae2ec8eadc4524dfc1e425bfa0850}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
274 \{
275   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
276   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_ab07b4be5672c71fc3c069c3d5b44e75f}{m\_ifIndex};
277 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 25


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Get\+Mtu@{Get\+Mtu}}
\index{Get\+Mtu@{Get\+Mtu}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Get\+Mtu(void) const }{GetMtu(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Get\+Mtu (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a2808676aba45f55858ba1cee97c4104e}{}\label{classns3_1_1SixLowPanNetDevice_a2808676aba45f55858ba1cee97c4104e}


Returns the link-\/layer M\+TU for this interface. If the link-\/layer M\+TU is smaller than I\+Pv6\textquotesingle{}s minimum M\+TU (\{4944\}), 1280 will be returned. 

\begin{DoxyReturn}{Returns}
The link-\/level M\+TU in bytes for this interface. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a91f4f5d01bc2d567c1e0a69b63a4cf14}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
312 \{
313   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
314 
315   uint16\_t mtu = \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetMtu ();
316 
317   \textcolor{comment}{// RFC 4944, section 4.}
318   \textcolor{keywordflow}{if} (mtu < 1280)
319     \{
320       mtu = 1280;
321     \}
322   \textcolor{keywordflow}{return} mtu;
323 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Get\+Multicast@{Get\+Multicast}}
\index{Get\+Multicast@{Get\+Multicast}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Get\+Multicast(\+Ipv4\+Address multicast\+Group) const }{GetMulticast(Ipv4Address multicastGroup) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Address} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Get\+Multicast (
\begin{DoxyParamCaption}
\item[{{\bf Ipv4\+Address}}]{multicast\+Group}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a425fa29fb2baa8b0490c777beca71386}{}\label{classns3_1_1SixLowPanNetDevice_a425fa29fb2baa8b0490c777beca71386}


Make and return a M\+AC multicast address using the provided multicast group. 

\{1112\} says that an \hyperlink{classns3_1_1Ipv4}{Ipv4} host group address is mapped to an Ethernet multicast address by placing the low-\/order 23-\/bits of the IP address into the low-\/order 23 bits of the Ethernet multicast address 01-\/00-\/5\+E-\/00-\/00-\/00 (hex). Similar R\+F\+Cs exist for \hyperlink{classns3_1_1Ipv6}{Ipv6} and Eui64 mappings. This method performs the multicast address creation function appropriate to the underlying M\+AC address of the device. This M\+AC address is encapsulated in an abstract \hyperlink{classns3_1_1Address}{Address} to avoid dependencies on the exact M\+AC address format.

In the case of net devices that do not support multicast, clients are expected to test \hyperlink{classns3_1_1NetDevice_a1afb4848a9226540f1ff51f9b31ae95e}{Net\+Device\+::\+Is\+Multicast} and avoid attempting to map multicast packets. Subclasses of \hyperlink{classns3_1_1NetDevice}{Net\+Device} that do support multicasting are expected to override this method and provide an implementation appropriate to the particular device.


\begin{DoxyParams}{Parameters}
{\em multicast\+Group} & The IP address for the multicast group destination of the packet. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The M\+AC multicast \hyperlink{classns3_1_1Address}{Address} used to send packets to the provided multicast group.
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Calling this method is invalid if Is\+Multicast returns not true. 
\end{DoxyWarning}
\begin{DoxySeeAlso}{See also}
\hyperlink{classns3_1_1SixLowPanNetDevice_aadf6da2a7dd31391cd7feb3cb34d0b5e}{Is\+Multicast()} 
\end{DoxySeeAlso}


Implements \hyperlink{classns3_1_1NetDevice_a98aa4852df367b6a393c8cc1d88af0d9}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
366 \{
367   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << multicastGroup);
368   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
369 
370   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetMulticast (multicastGroup);
371 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Get\+Multicast@{Get\+Multicast}}
\index{Get\+Multicast@{Get\+Multicast}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Get\+Multicast(\+Ipv6\+Address addr) const }{GetMulticast(Ipv6Address addr) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Address} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Get\+Multicast (
\begin{DoxyParamCaption}
\item[{{\bf Ipv6\+Address}}]{addr}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_ac22bc87ffcd3c9b15a52c79da88b9edb}{}\label{classns3_1_1SixLowPanNetDevice_ac22bc87ffcd3c9b15a52c79da88b9edb}


Get the M\+AC multicast address corresponding to the I\+Pv6 address provided. 


\begin{DoxyParams}{Parameters}
{\em addr} & I\+Pv6 address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the M\+AC multicast address 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Calling this method is invalid if Is\+Multicast returns not true. 
\end{DoxyWarning}


Implements \hyperlink{classns3_1_1NetDevice_a46479a2c0101c6f9da9251ed4d7575bd}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
374 \{
375   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << addr);
376   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
377 
378   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->GetMulticast (addr);
379 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Get\+Net\+Device@{Get\+Net\+Device}}
\index{Get\+Net\+Device@{Get\+Net\+Device}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Get\+Net\+Device() const }{GetNetDevice() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Net\+Device} $>$ ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Get\+Net\+Device (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1SixLowPanNetDevice_a21365a973c4130399b51d175b39bbd97}{}\label{classns3_1_1SixLowPanNetDevice_a21365a973c4130399b51d175b39bbd97}


Returns a smart pointer to the underlying \hyperlink{classns3_1_1NetDevice}{Net\+Device}. 

\begin{DoxyReturn}{Returns}
A smart pointer to the underlying \hyperlink{classns3_1_1NetDevice}{Net\+Device}. 
\end{DoxyReturn}

\begin{DoxyCode}
118 \{
119   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
120   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice};
121 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Get\+Node@{Get\+Node}}
\index{Get\+Node@{Get\+Node}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Get\+Node(void) const }{GetNode(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Node} $>$ ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Get\+Node (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a8acf7abf8a8d9ff2ea2ff62e9a71a340}{}\label{classns3_1_1SixLowPanNetDevice_a8acf7abf8a8d9ff2ea2ff62e9a71a340}
\begin{DoxyReturn}{Returns}
the node base class which contains this network interface.
\end{DoxyReturn}
When a subclass needs to get access to the underlying node base class to print the nodeid for example, it can invoke this method. 

Implements \hyperlink{classns3_1_1NetDevice_a098b6cc4339ac00c62e75cfa48c8aeac}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
501 \{
502   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
503   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node};
504 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a744728b84055111218b43824c598e30c}{}\label{classns3_1_1SixLowPanNetDevice_a744728b84055111218b43824c598e30c}


Get the type ID. 

\begin{DoxyReturn}{Returns}
The object \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
50 \{
51   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::SixLowPanNetDevice"})
52     .SetParent<NetDevice> ()
53     .SetGroupName (\textcolor{stringliteral}{"SixLowPan"})
54     .AddConstructor<\hyperlink{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{SixLowPanNetDevice}> ()
55     .AddAttribute (\textcolor{stringliteral}{"Rfc6282"}, \textcolor{stringliteral}{"Use RFC6282 (IPHC) if true, RFC4944 (HC1) otherwise."},
56                    BooleanValue (\textcolor{keyword}{true}),
57                    MakeBooleanAccessor (&\hyperlink{classns3_1_1SixLowPanNetDevice_a304a0244019df2ca598b655210d82533}{SixLowPanNetDevice::m\_useIphc}),
58                    MakeBooleanChecker ())
59     .AddAttribute (\textcolor{stringliteral}{"OmitUdpChecksum"},
60                    \textcolor{stringliteral}{"Omit the UDP checksum in IPHC compression."},
61                    BooleanValue (\textcolor{keyword}{true}),
62                    MakeBooleanAccessor (&\hyperlink{classns3_1_1SixLowPanNetDevice_aa3503adbbb86b19e4ec2d17f3c8436f7}{SixLowPanNetDevice::m\_omitUdpChecksum}
      ),
63                    MakeBooleanChecker ())
64     .AddAttribute (\textcolor{stringliteral}{"FragmentReassemblyListSize"}, \textcolor{stringliteral}{"The maximum size of the reassembly buffer (in packets).
       Zero meaning infinite."},
65                    UintegerValue (0),
66                    MakeUintegerAccessor (&
      \hyperlink{classns3_1_1SixLowPanNetDevice_acf2402dc29d4865287993a508b74c855}{SixLowPanNetDevice::m\_fragmentReassemblyListSize}),
67                    MakeUintegerChecker<uint16\_t> ())
68     .AddAttribute (\textcolor{stringliteral}{"FragmentExpirationTimeout"},
69                    \textcolor{stringliteral}{"When this timeout expires, the fragments will be cleared from the buffer."},
70                    TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (60)),
71                    MakeTimeAccessor (&
      \hyperlink{classns3_1_1SixLowPanNetDevice_ace8f2bb99c947fdaa963d8372467642c}{SixLowPanNetDevice::m\_fragmentExpirationTimeout}),
72                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
73     .AddAttribute (\textcolor{stringliteral}{"CompressionThreshold"},
74                    \textcolor{stringliteral}{"The minimum MAC layer payload size."},
75                    UintegerValue (0x0),
76                    MakeUintegerAccessor (&
      \hyperlink{classns3_1_1SixLowPanNetDevice_a61c90503b8ea0015e2c3e4dc1f599582}{SixLowPanNetDevice::m\_compressionThreshold}),
77                    MakeUintegerChecker<uint32\_t> ())
78     .AddAttribute (\textcolor{stringliteral}{"ForceEtherType"},
79                    \textcolor{stringliteral}{"Force a specific EtherType in L2 frames."},
80                    BooleanValue (\textcolor{keyword}{false}),
81                    MakeBooleanAccessor (&\hyperlink{classns3_1_1SixLowPanNetDevice_a57d9f56656023ad738e092ba9f668192}{SixLowPanNetDevice::m\_forceEtherType}
      ),
82                    MakeBooleanChecker ())
83     .AddAttribute (\textcolor{stringliteral}{"EtherType"},
84                    \textcolor{stringliteral}{"The specific EtherType to be used in L2 frames."},
85                    UintegerValue (0xFFFF),
86                    MakeUintegerAccessor (&\hyperlink{classns3_1_1SixLowPanNetDevice_afdea8e77d8ec66aef94e8cdbb645004b}{SixLowPanNetDevice::m\_etherType}),
87                    MakeUintegerChecker<uint16\_t> ())
88     .AddTraceSource (\textcolor{stringliteral}{"Tx"},
89                      \textcolor{stringliteral}{"Send - packet (including 6LoWPAN header), "}
90                      \textcolor{stringliteral}{"SixLoWPanNetDevice Ptr, interface index."},
91                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1SixLowPanNetDevice_a6d80896d0b58fd8a5577c65a060ad3b1}{SixLowPanNetDevice::m\_txTrace}),
92                      \textcolor{stringliteral}{"ns3::SixLowPanNetDevice::RxTxTracedCallback"})
93     .AddTraceSource (\textcolor{stringliteral}{"Rx"},
94                      \textcolor{stringliteral}{"Receive - packet (including 6LoWPAN header), "}
95                      \textcolor{stringliteral}{"SixLoWPanNetDevice Ptr, interface index."},
96                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1SixLowPanNetDevice_a868eb6580b5eced376dadafa67aeda6b}{SixLowPanNetDevice::m\_rxTrace}),
97                      \textcolor{stringliteral}{"ns3::SixLowPanNetDevice::RxTxTracedCallback"})
98     .AddTraceSource (\textcolor{stringliteral}{"Drop"},
99                      \textcolor{stringliteral}{"Drop - DropReason, packet (including 6LoWPAN header), "}
100                      \textcolor{stringliteral}{"SixLoWPanNetDevice Ptr, interface index."},
101                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1SixLowPanNetDevice_a93e0ef7a17057bcb8420b8d37ec56356}{SixLowPanNetDevice::m\_dropTrace}),
102                      \textcolor{stringliteral}{"ns3::SixLowPanNetDevice::DropTracedCallback"})
103   ;
104   \textcolor{keywordflow}{return} tid;
105 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 26


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Handle\+Fragments\+Timeout@{Handle\+Fragments\+Timeout}}
\index{Handle\+Fragments\+Timeout@{Handle\+Fragments\+Timeout}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Handle\+Fragments\+Timeout(\+Fragment\+Key key, uint32\+\_\+t iif)}{HandleFragmentsTimeout(FragmentKey key, uint32_t iif)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Handle\+Fragments\+Timeout (
\begin{DoxyParamCaption}
\item[{{\bf Fragment\+Key}}]{key, }
\item[{uint32\+\_\+t}]{iif}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a9a88d53c1d9702b93470d5cbb1e526e9}{}\label{classns3_1_1SixLowPanNetDevice_a9a88d53c1d9702b93470d5cbb1e526e9}


Process the timeout for packet fragments. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em key} & A key representing the packet fragments. \\
\hline
\mbox{\tt in}  & {\em iif} & Input Interface. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2067 \{
2068   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2069 
2070   MapFragments\_t::iterator it = \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.find (key);
2071   std::list< Ptr<Packet> > storedFragments = it->second->GetFraments ();
2072   \textcolor{keywordflow}{for} (\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std::list}< Ptr<Packet> >::iterator fragIter = storedFragments.begin ();
2073        fragIter != storedFragments.end (); fragIter++)
2074     \{
2075       \hyperlink{classns3_1_1SixLowPanNetDevice_a93e0ef7a17057bcb8420b8d37ec56356}{m\_dropTrace} (\hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05ae495bec992936b1dca1cd354f52519d3}{DROP\_FRAGMENT\_TIMEOUT}, *fragIter, 
      \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{SixLowPanNetDevice}> (), iif);
2076     \}
2077   \textcolor{comment}{// clear the buffers}
2078   it->second = 0;
2079 
2080   \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.erase (key);
2081   \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}.erase (key);
2082 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 27




Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Is\+Bridge@{Is\+Bridge}}
\index{Is\+Bridge@{Is\+Bridge}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Is\+Bridge(void) const }{IsBridge(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Is\+Bridge (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a8e826c5ee380ab40a0c609a096bd113d}{}\label{classns3_1_1SixLowPanNetDevice_a8e826c5ee380ab40a0c609a096bd113d}


Return true if the net device is acting as a bridge. 

\begin{DoxyReturn}{Returns}
value of m\+\_\+is\+Bridge flag 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a9d34556a1c83a69dacb08698ca4a1d94}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
390 \{
391   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
392   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
393 
394   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->IsBridge ();
395 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Is\+Broadcast@{Is\+Broadcast}}
\index{Is\+Broadcast@{Is\+Broadcast}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Is\+Broadcast(void) const }{IsBroadcast(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Is\+Broadcast (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a4103f55b3b04c080c645514c7ab66d3f}{}\label{classns3_1_1SixLowPanNetDevice_a4103f55b3b04c080c645514c7ab66d3f}
\begin{DoxyReturn}{Returns}
true if this interface supports a broadcast address, false otherwise. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a67f992b20858cd7b397d8fba2feff141}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
342 \{
343   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
344   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
345 
346   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->IsBroadcast ();
347 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Is\+Link\+Up@{Is\+Link\+Up}}
\index{Is\+Link\+Up@{Is\+Link\+Up}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Is\+Link\+Up(void) const }{IsLinkUp(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Is\+Link\+Up (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a24b0b22a73b507d8b11e9890d59c9454}{}\label{classns3_1_1SixLowPanNetDevice_a24b0b22a73b507d8b11e9890d59c9454}
\begin{DoxyReturn}{Returns}
true if link is up; false otherwise 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_afe1822b79e19a05ab95f693c8fb64fc7}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
326 \{
327   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
328   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
329 
330   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->IsLinkUp ();
331 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Is\+Multicast@{Is\+Multicast}}
\index{Is\+Multicast@{Is\+Multicast}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Is\+Multicast(void) const }{IsMulticast(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Is\+Multicast (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_aadf6da2a7dd31391cd7feb3cb34d0b5e}{}\label{classns3_1_1SixLowPanNetDevice_aadf6da2a7dd31391cd7feb3cb34d0b5e}
\begin{DoxyReturn}{Returns}
value of m\+\_\+is\+Multicast flag 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a1afb4848a9226540f1ff51f9b31ae95e}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
358 \{
359   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
360   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
361 
362   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->IsMulticast ();
363 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Is\+Point\+To\+Point@{Is\+Point\+To\+Point}}
\index{Is\+Point\+To\+Point@{Is\+Point\+To\+Point}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Is\+Point\+To\+Point(void) const }{IsPointToPoint(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Is\+Point\+To\+Point (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_ad36487ecf68d99b8af03dc9afb8c469d}{}\label{classns3_1_1SixLowPanNetDevice_ad36487ecf68d99b8af03dc9afb8c469d}


Return true if the net device is on a point-\/to-\/point link. 

\begin{DoxyReturn}{Returns}
value of m\+\_\+is\+Point\+To\+Point flag 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a718177f25efeaf2dbf8a18fcab87224d}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
382 \{
383   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
384   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
385 
386   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->IsPointToPoint ();
387 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Make\+Global\+Address\+From\+Mac@{Make\+Global\+Address\+From\+Mac}}
\index{Make\+Global\+Address\+From\+Mac@{Make\+Global\+Address\+From\+Mac}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Make\+Global\+Address\+From\+Mac(\+Address const \&addr, Ipv6\+Address prefix)}{MakeGlobalAddressFromMac(Address const &addr, Ipv6Address prefix)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv6\+Address} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Make\+Global\+Address\+From\+Mac (
\begin{DoxyParamCaption}
\item[{{\bf Address} const \&}]{addr, }
\item[{{\bf Ipv6\+Address}}]{prefix}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_af8af918eb21378d30eb0e1b45e978fff}{}\label{classns3_1_1SixLowPanNetDevice_af8af918eb21378d30eb0e1b45e978fff}


Make a global address from a M\+AC address. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em addr} & the M\+AC address. \\
\hline
\mbox{\tt in}  & {\em prefix} & The address prefix. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The I\+Pv6 address. 
\end{DoxyReturn}

\begin{DoxyCode}
2111 \{
2112   Ipv6Address ipv6Addr = \hyperlink{classns3_1_1Ipv6Address_a2783e8badfc98c8b0a8508bba6e1b91e}{Ipv6Address::GetAny} ();
2113 
2114   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SixLowPanNetDevice_a57d9f56656023ad738e092ba9f668192}{m\_forceEtherType} && \hyperlink{classns3_1_1Mac48Address_a55cc1e3c6aa63fd1a4f8f7d9be4ae182}{Mac48Address::IsMatchingType} (addr))
2115     \{
2116       ipv6Addr = \hyperlink{classns3_1_1Ipv6Address_a74e6a79f61e9edd0ebdbafb4db88dc35}{Ipv6Address::MakeAutoconfiguredAddress} (
      \hyperlink{classns3_1_1Mac48Address_a911ce13603a9ef837545a032b6523ae4}{Mac48Address::ConvertFrom} (addr), Ipv6Address (prefix) );
2117     \}
2118   \textcolor{keywordflow}{else}
2119     \{
2120       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Mac64Address_a50014d1350f72b89857f0262be927073}{Mac64Address::IsMatchingType} (addr))
2121         \{
2122           ipv6Addr = \hyperlink{classns3_1_1Ipv6Address_a74e6a79f61e9edd0ebdbafb4db88dc35}{Ipv6Address::MakeAutoconfiguredAddress} (
      \hyperlink{classns3_1_1Mac64Address_a9d73aef28cf6b6edf423b418ce014b10}{Mac64Address::ConvertFrom} (addr), Ipv6Address (prefix));
2123         \}
2124       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Mac16Address_a2d7aa9e24afc8e02a25ab449b0b99b1f}{Mac16Address::IsMatchingType} (addr))
2125         \{
2126           ipv6Addr = \hyperlink{classns3_1_1Ipv6Address_a74e6a79f61e9edd0ebdbafb4db88dc35}{Ipv6Address::MakeAutoconfiguredAddress} (
      \hyperlink{classns3_1_1Mac16Address_a6822cde696a7be24782dc8e1de2f1449}{Mac16Address::ConvertFrom} (addr), Ipv6Address (prefix) );
2127         \}
2128     \}
2129   \textcolor{keywordflow}{if} (ipv6Addr.IsAny ())
2130     \{
2131       \hyperlink{group__fatal_ga51ac4699be799d772ae7258d1ef6af21}{NS\_ABORT\_MSG} (\textcolor{stringliteral}{"Unknown address type"});
2132     \}
2133   \textcolor{keywordflow}{return} ipv6Addr;
2134 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 29




Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Make\+Link\+Local\+Address\+From\+Mac@{Make\+Link\+Local\+Address\+From\+Mac}}
\index{Make\+Link\+Local\+Address\+From\+Mac@{Make\+Link\+Local\+Address\+From\+Mac}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Make\+Link\+Local\+Address\+From\+Mac(\+Address const \&addr)}{MakeLinkLocalAddressFromMac(Address const &addr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv6\+Address} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Make\+Link\+Local\+Address\+From\+Mac (
\begin{DoxyParamCaption}
\item[{{\bf Address} const \&}]{addr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}{}\label{classns3_1_1SixLowPanNetDevice_acf66b0ff019d0f1b88212d452044696e}


Make a link-\/local address from a M\+AC address. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em addr} & The M\+AC address. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The I\+Pv6 link-\/local address. 
\end{DoxyReturn}

\begin{DoxyCode}
2085 \{
2086   Ipv6Address ipv6Addr = \hyperlink{classns3_1_1Ipv6Address_a2783e8badfc98c8b0a8508bba6e1b91e}{Ipv6Address::GetAny} ();
2087 
2088   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SixLowPanNetDevice_a57d9f56656023ad738e092ba9f668192}{m\_forceEtherType} && \hyperlink{classns3_1_1Mac48Address_a55cc1e3c6aa63fd1a4f8f7d9be4ae182}{Mac48Address::IsMatchingType} (addr))
2089     \{
2090       ipv6Addr = \hyperlink{classns3_1_1Ipv6Address_af57fd659aa3c06013ce1b75fb97f9fc5}{Ipv6Address::MakeAutoconfiguredLinkLocalAddress}
       (\hyperlink{classns3_1_1Mac48Address_a911ce13603a9ef837545a032b6523ae4}{Mac48Address::ConvertFrom} (addr));
2091     \}
2092   \textcolor{keywordflow}{else}
2093     \{
2094       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Mac64Address_a50014d1350f72b89857f0262be927073}{Mac64Address::IsMatchingType} (addr))
2095         \{
2096           ipv6Addr = \hyperlink{classns3_1_1Ipv6Address_af57fd659aa3c06013ce1b75fb97f9fc5}{Ipv6Address::MakeAutoconfiguredLinkLocalAddress}
       (\hyperlink{classns3_1_1Mac64Address_a9d73aef28cf6b6edf423b418ce014b10}{Mac64Address::ConvertFrom} (addr));
2097         \}
2098       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Mac16Address_a2d7aa9e24afc8e02a25ab449b0b99b1f}{Mac16Address::IsMatchingType} (addr))
2099         \{
2100           ipv6Addr = \hyperlink{classns3_1_1Ipv6Address_af57fd659aa3c06013ce1b75fb97f9fc5}{Ipv6Address::MakeAutoconfiguredLinkLocalAddress}
       (\hyperlink{classns3_1_1Mac16Address_a6822cde696a7be24782dc8e1de2f1449}{Mac16Address::ConvertFrom} (addr));
2101         \}
2102     \}
2103   \textcolor{keywordflow}{if} (ipv6Addr.IsAny ())
2104     \{
2105       \hyperlink{group__fatal_ga51ac4699be799d772ae7258d1ef6af21}{NS\_ABORT\_MSG} (\textcolor{stringliteral}{"Unknown address type"});
2106     \}
2107   \textcolor{keywordflow}{return} ipv6Addr;
2108 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 31




Here is the caller graph for this function\+:
% FIG 32


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Needs\+Arp@{Needs\+Arp}}
\index{Needs\+Arp@{Needs\+Arp}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Needs\+Arp(void) const }{NeedsArp(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Needs\+Arp (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_ac75365b6ca0919c39392c4a98a7ea2a0}{}\label{classns3_1_1SixLowPanNetDevice_ac75365b6ca0919c39392c4a98a7ea2a0}
\begin{DoxyReturn}{Returns}
true if A\+RP is needed, false otherwise.
\end{DoxyReturn}
Called by higher-\/layers to check if this \hyperlink{classns3_1_1NetDevice}{Net\+Device} requires A\+RP to be used. 

Implements \hyperlink{classns3_1_1NetDevice_ab1a133696310cad3dc2c3d1a4993f310}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
513 \{
514   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
515   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
516 
517   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->NeedsArp ();
518 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!operator=@{operator=}}
\index{operator=@{operator=}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{operator=(\+Six\+Low\+Pan\+Net\+Device const \&)}{operator=(SixLowPanNetDevice const &)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Six\+Low\+Pan\+Net\+Device}\& ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::operator= (
\begin{DoxyParamCaption}
\item[{{\bf Six\+Low\+Pan\+Net\+Device} const \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a1498e34db04e4293eecca96ed9b4f4a3}{}\label{classns3_1_1SixLowPanNetDevice_a1498e34db04e4293eecca96ed9b4f4a3}


Copy constructor. 

Defined and unimplemented to avoid misuse. \begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Process\+Fragment@{Process\+Fragment}}
\index{Process\+Fragment@{Process\+Fragment}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Process\+Fragment(\+Ptr$<$ Packet $>$ \&packet, Address const \&src, Address const \&dst, bool is\+First)}{ProcessFragment(Ptr< Packet > &packet, Address const &src, Address const &dst, bool isFirst)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Process\+Fragment (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$ \&}]{packet, }
\item[{{\bf Address} const \&}]{src, }
\item[{{\bf Address} const \&}]{dst, }
\item[{bool}]{is\+First}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a8ae23f88e38059a0096bf87e58007240}{}\label{classns3_1_1SixLowPanNetDevice_a8ae23f88e38059a0096bf87e58007240}


Process a packet fragment. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & The packet. \\
\hline
\mbox{\tt in}  & {\em src} & The source M\+AC address. \\
\hline
\mbox{\tt in}  & {\em dst} & The destination M\+AC address. \\
\hline
\mbox{\tt in}  & {\em is\+First} & True if it is the first fragment, false otherwise. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True is the fragment completed the packet. 
\end{DoxyReturn}

\begin{DoxyCode}
1804 \{
1805   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} ( \textcolor{keyword}{this} << *packet );
1806   SixLowPanFrag1 frag1Header;
1807   SixLowPanFragN fragNHeader;
1808   \hyperlink{classns3_1_1SixLowPanNetDevice_a8e3be88fc6596428b23fb7b220f8e148}{FragmentKey} key;
1809   uint16\_t packetSize;
1810   key.first = std::pair<Address, Address> (src, dst);
1811 
1812   Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = packet->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} ();
1813   uint16\_t offset = 0;
1814 
1815   \textcolor{comment}{/* Implementation note:}
1816 \textcolor{comment}{   *}
1817 \textcolor{comment}{   * The fragment offset is relative to the *uncompressed* packet.}
1818 \textcolor{comment}{   * On the other hand, the packet can not be uncompressed correctly without all}
1819 \textcolor{comment}{   * its fragments, as the UDP checksum can not be computed otherwise.}
1820 \textcolor{comment}{   *}
1821 \textcolor{comment}{   * As a consequence we must uncompress the packet twice, and save its first}
1822 \textcolor{comment}{   * fragment for the final one.}
1823 \textcolor{comment}{   */}
1824 
1825   \textcolor{keywordflow}{if} ( isFirst )
1826     \{
1827       uint8\_t dispatchRawValFrag1 = 0;
1828       \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5f}{SixLowPanDispatch::Dispatch\_e} dispatchValFrag1;
1829 
1830       p->RemoveHeader (frag1Header);
1831       packetSize = frag1Header.GetDatagramSize ();
1832       p->CopyData (&dispatchRawValFrag1, \textcolor{keyword}{sizeof}(dispatchRawValFrag1));
1833       dispatchValFrag1 = \hyperlink{classns3_1_1SixLowPanDispatch_a8405023ddddc8aee8825d743cae6ec21}{SixLowPanDispatch::GetDispatchType} (
      dispatchRawValFrag1);
1834       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Dispatches: "} << \textcolor{keywordtype}{int}(dispatchRawValFrag1) << \textcolor{stringliteral}{" - "} << \textcolor{keywordtype}{int}(
      dispatchValFrag1) );
1835       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Packet: "} << *p );
1836 
1837       \textcolor{keywordflow}{switch} ( dispatchValFrag1 )
1838         \{
1839         \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5fa04671d540d7ccb77ec76c605193170c2}{SixLowPanDispatch::LOWPAN\_IPv6}:
1840           \{
1841             SixLowPanIpv6 uncompressedHdr;
1842             p->RemoveHeader(uncompressedHdr);
1843           \}
1844          \textcolor{keywordflow}{break};
1845         \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5fa359c3405a418613875f04bbd3e973357}{SixLowPanDispatch::LOWPAN\_HC1}:
1846           \hyperlink{classns3_1_1SixLowPanNetDevice_a649ef9717609424699311ea61c8e3fc8}{DecompressLowPanHc1} (p, src, dst);
1847           \textcolor{keywordflow}{break};
1848         \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5fa7a0ab465ff9aacb2f3680baec6cacf15}{SixLowPanDispatch::LOWPAN\_IPHC}:
1849           \hyperlink{classns3_1_1SixLowPanNetDevice_ae861be68db1b554cc3e5ea5e263b12ed}{DecompressLowPanIphc} (p, src, dst);
1850           \textcolor{keywordflow}{break};
1851         \textcolor{keywordflow}{default}:
1852           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unsupported 6LoWPAN encoding, exiting."});
1853           \textcolor{keywordflow}{break};
1854         \}
1855 
1856       key.second = std::pair<uint16\_t, uint16\_t> (frag1Header.GetDatagramSize (), frag1Header.
      GetDatagramTag ());
1857     \}
1858   \textcolor{keywordflow}{else}
1859     \{
1860       p->RemoveHeader (fragNHeader);
1861       packetSize = fragNHeader.GetDatagramSize ();
1862       offset = fragNHeader.GetDatagramOffset () << 3;
1863       key.second = std::pair<uint16\_t, uint16\_t> (fragNHeader.GetDatagramSize (), fragNHeader.
      GetDatagramTag ());
1864     \}
1865 
1866   Ptr<Fragments> fragments;
1867 
1868   MapFragments\_t::iterator it = \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.find (key);
1869   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.end ())
1870     \{
1871       \textcolor{comment}{// erase the oldest packet.}
1872       \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1SixLowPanNetDevice_acf2402dc29d4865287993a508b74c855}{m\_fragmentReassemblyListSize} && (
      \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.size () >= \hyperlink{classns3_1_1SixLowPanNetDevice_acf2402dc29d4865287993a508b74c855}{m\_fragmentReassemblyListSize}) )
1873         \{
1874           MapFragmentsTimers\_t::iterator iter;
1875           MapFragmentsTimers\_t::iterator iterFound = \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}.begin ();
1876           \textcolor{keywordflow}{for} ( iter = \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}.begin (); iter != 
      \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}.end (); iter++)
1877             \{
1878               \textcolor{keywordflow}{if} ( iter->second.GetTs () < iterFound->second.GetTs () )
1879                 \{
1880                   iterFound = iter;
1881                 \}
1882             \}
1883           \hyperlink{classns3_1_1SixLowPanNetDevice_a8e3be88fc6596428b23fb7b220f8e148}{FragmentKey} oldestKey = iterFound->first;
1884 
1885           std::list< Ptr<Packet> > storedFragments = \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}[oldestKey]->GetFraments ();
1886           \textcolor{keywordflow}{for} (\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std::list}< Ptr<Packet> >::iterator fragIter = storedFragments.begin ();
1887                fragIter != storedFragments.end (); fragIter++)
1888             \{
1889               \hyperlink{classns3_1_1SixLowPanNetDevice_a93e0ef7a17057bcb8420b8d37ec56356}{m\_dropTrace} (\hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a90263f3641544e6ead204d6036b95160}{DROP\_FRAGMENT\_BUFFER\_FULL}, *fragIter, 
      \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{SixLowPanNetDevice}> (), 
      \hyperlink{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}{GetIfIndex} ());
1890             \}
1891 
1892           \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}[oldestKey].Cancel ();
1893           \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}.erase (oldestKey);
1894           \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}[oldestKey] = 0;
1895           \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.erase (oldestKey);
1896 
1897         \}
1898       fragments = Create<Fragments> ();
1899       fragments->SetPacketSize (packetSize);
1900       \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.insert (std::make\_pair (key, fragments));
1901       uint32\_t ifIndex = \hyperlink{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}{GetIfIndex} ();
1902       \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}[key] = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1SixLowPanNetDevice_ace8f2bb99c947fdaa963d8372467642c}{m\_fragmentExpirationTimeout},
1903                                                     &
      \hyperlink{classns3_1_1SixLowPanNetDevice_a9a88d53c1d9702b93470d5cbb1e526e9}{SixLowPanNetDevice::HandleFragmentsTimeout}, \textcolor{keyword}{this},
1904                                                     key, ifIndex);
1905     \}
1906   \textcolor{keywordflow}{else}
1907     \{
1908       fragments = it->second;
1909     \}
1910 
1911   fragments->AddFragment (p, offset);
1912 
1913   \textcolor{comment}{// add the very first fragment so we can correctly decode the packet once is rebuilt.}
1914   \textcolor{comment}{// this is needed because otherwise the UDP header length and checksum can not be calculated.}
1915   \textcolor{keywordflow}{if} ( isFirst )
1916     \{
1917       fragments->AddFirstFragment (packet);
1918     \}
1919 
1920   \textcolor{keywordflow}{if} ( fragments->IsEntire () )
1921     \{
1922       packet = fragments->GetPacket ();
1923       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reconstructed packet: "} << *packet);
1924 
1925       SixLowPanFrag1 frag1Header;
1926       packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (frag1Header);
1927 
1928       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Rebuilt packet. Size "} << packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () << \textcolor{stringliteral}{" - "} << *packet);
1929       fragments = 0;
1930       \hyperlink{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{m\_fragments}.erase (key);
1931       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}[key].IsRunning ())
1932         \{
1933           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Stopping 6LoWPAN WaitFragmentsTimer at "} << 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" due to complete packet"});
1934           \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}[key].Cancel ();
1935         \}
1936       \hyperlink{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{m\_fragmentsTimers}.erase (key);
1937       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1938     \}
1939 
1940   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1941 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 33




Here is the caller graph for this function\+:
% FIG 34


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Receive\+From\+Device@{Receive\+From\+Device}}
\index{Receive\+From\+Device@{Receive\+From\+Device}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Receive\+From\+Device(\+Ptr$<$ Net\+Device $>$ device, Ptr$<$ const Packet $>$ packet, uint16\+\_\+t protocol, Address const \&source, Address const \&destination, Packet\+Type packet\+Type)}{ReceiveFromDevice(Ptr< NetDevice > device, Ptr< const Packet > packet, uint16_t protocol, Address const &source, Address const &destination, PacketType packetType)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Receive\+From\+Device (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Net\+Device} $>$}]{device, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{uint16\+\_\+t}]{protocol, }
\item[{{\bf Address} const \&}]{source, }
\item[{{\bf Address} const \&}]{destination, }
\item[{{\bf Packet\+Type}}]{packet\+Type}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a35d31ab6c6270f1923ce5b0f77d582b6}{}\label{classns3_1_1SixLowPanNetDevice_a35d31ab6c6270f1923ce5b0f77d582b6}


Receives all the packets from a \hyperlink{classns3_1_1NetDevice}{Net\+Device} for further processing. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em device} & The \hyperlink{classns3_1_1NetDevice}{Net\+Device} the packet ws received from. \\
\hline
\mbox{\tt in}  & {\em packet} & The received packet. \\
\hline
\mbox{\tt in}  & {\em protocol} & The protocol (if known). \\
\hline
\mbox{\tt in}  & {\em source} & The source address. \\
\hline
\mbox{\tt in}  & {\em destination} & The destination address. \\
\hline
\mbox{\tt in}  & {\em packet\+Type} & The packet kind (e.\+g., H\+O\+ST, B\+R\+O\+A\+D\+C\+A\+ST, etc.). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The I\+Pv6 link-\/local address. 
\end{DoxyReturn}

\begin{DoxyCode}
175 \{
176   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << incomingPort << packet << protocol << src << dst);
177   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"UID is "} << packet->GetUid ());
178 
179   uint8\_t dispatchRawVal = 0;
180   \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5f}{SixLowPanDispatch::Dispatch\_e} dispatchVal;
181   Ptr<Packet> copyPkt = packet->Copy ();
182 
183   \hyperlink{classns3_1_1SixLowPanNetDevice_a868eb6580b5eced376dadafa67aeda6b}{m\_rxTrace} (copyPkt, \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{SixLowPanNetDevice}> (), \hyperlink{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}{GetIfIndex} ());
184 
185   copyPkt->CopyData (&dispatchRawVal, \textcolor{keyword}{sizeof}(dispatchRawVal));
186   dispatchVal = \hyperlink{classns3_1_1SixLowPanDispatch_a8405023ddddc8aee8825d743cae6ec21}{SixLowPanDispatch::GetDispatchType} (dispatchRawVal);
187   \textcolor{keywordtype}{bool} isPktDecompressed = \textcolor{keyword}{false};
188   \textcolor{keywordtype}{bool} fragmented = \textcolor{keyword}{false};
189 
190   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Packet received: "} << *copyPkt );
191   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Packet length: "} << copyPkt->GetSize () );
192   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Dispatches: "} << \textcolor{keywordtype}{int}(dispatchRawVal) << \textcolor{stringliteral}{" - "} << \textcolor{keywordtype}{int}(dispatchVal) );
193 
194   \textcolor{keywordflow}{if} ( dispatchVal == \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5fab747444deb8d3cccddf5f0b521661447}{SixLowPanDispatch::LOWPAN\_FRAG1} )
195     \{
196       isPktDecompressed = \hyperlink{classns3_1_1SixLowPanNetDevice_a8ae23f88e38059a0096bf87e58007240}{ProcessFragment} (copyPkt, src, dst, \textcolor{keyword}{true});
197       fragmented = \textcolor{keyword}{true};
198     \}
199   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( dispatchVal == \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5fa53d64943ad3b50c4a431de58746b97ee}{SixLowPanDispatch::LOWPAN\_FRAGN} )
200     \{
201       isPktDecompressed = \hyperlink{classns3_1_1SixLowPanNetDevice_a8ae23f88e38059a0096bf87e58007240}{ProcessFragment} (copyPkt, src, dst, \textcolor{keyword}{false});
202       fragmented = \textcolor{keyword}{true};
203     \}
204   \textcolor{keywordflow}{if} ( fragmented )
205     \{
206       \textcolor{keywordflow}{if} ( !isPktDecompressed )
207         \{
208           \textcolor{keywordflow}{return};
209         \}
210       \textcolor{keywordflow}{else}
211         \{
212           copyPkt->CopyData (&dispatchRawVal, \textcolor{keyword}{sizeof}(dispatchRawVal));
213           dispatchVal = \hyperlink{classns3_1_1SixLowPanDispatch_a8405023ddddc8aee8825d743cae6ec21}{SixLowPanDispatch::GetDispatchType} (
      dispatchRawVal);
214         \}
215     \}
216 
217   \textcolor{keywordflow}{switch} ( dispatchVal )
218     \{
219     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5fa710f2021f99a2bb2f359991963e0f074}{SixLowPanDispatch::LOWPAN\_MESH}:
220       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Unsupported 6LoWPAN encoding: MESH, dropping."});
221       \hyperlink{classns3_1_1SixLowPanNetDevice_a93e0ef7a17057bcb8420b8d37ec56356}{m\_dropTrace} (\hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a6dde106de53cd92ae38460d4c5019183}{DROP\_UNKNOWN\_EXTENSION}, copyPkt, 
      \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{SixLowPanNetDevice}> (), 
      \hyperlink{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}{GetIfIndex} ());
222       \textcolor{keywordflow}{break};
223     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5fa099a53f6d26c8fadc8f1d90ba70043b9}{SixLowPanDispatch::LOWPAN\_BC0}:
224       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Unsupported 6LoWPAN encoding: BC0, dropping."});
225       \hyperlink{classns3_1_1SixLowPanNetDevice_a93e0ef7a17057bcb8420b8d37ec56356}{m\_dropTrace} (\hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a6dde106de53cd92ae38460d4c5019183}{DROP\_UNKNOWN\_EXTENSION}, copyPkt, 
      \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{SixLowPanNetDevice}> (), 
      \hyperlink{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}{GetIfIndex} ());
226       \textcolor{keywordflow}{break};
227     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5fa04671d540d7ccb77ec76c605193170c2}{SixLowPanDispatch::LOWPAN\_IPv6}:
228       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Packet without compression. Length: "} << copyPkt->GetSize () );
229       \{
230         SixLowPanIpv6 uncompressedHdr;
231         copyPkt->RemoveHeader(uncompressedHdr);
232         isPktDecompressed = \textcolor{keyword}{true};
233       \}
234       \textcolor{keywordflow}{break};
235     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5fa359c3405a418613875f04bbd3e973357}{SixLowPanDispatch::LOWPAN\_HC1}:
236       \hyperlink{classns3_1_1SixLowPanNetDevice_a649ef9717609424699311ea61c8e3fc8}{DecompressLowPanHc1} (copyPkt, src, dst);
237       isPktDecompressed = \textcolor{keyword}{true};
238       \textcolor{keywordflow}{break};
239     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1SixLowPanDispatch_aa51561db1ae4239db574d31d7aebbb5fa7a0ab465ff9aacb2f3680baec6cacf15}{SixLowPanDispatch::LOWPAN\_IPHC}:
240       \hyperlink{classns3_1_1SixLowPanNetDevice_ae861be68db1b554cc3e5ea5e263b12ed}{DecompressLowPanIphc} (copyPkt, src, dst);
241       isPktDecompressed = \textcolor{keyword}{true};
242       \textcolor{keywordflow}{break};
243     \textcolor{keywordflow}{default}:
244       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Unsupported 6LoWPAN encoding: dropping."});
245       \hyperlink{classns3_1_1SixLowPanNetDevice_a93e0ef7a17057bcb8420b8d37ec56356}{m\_dropTrace} (\hyperlink{classns3_1_1SixLowPanNetDevice_a70cec96e849d8504419dab1efd94fc05a6dde106de53cd92ae38460d4c5019183}{DROP\_UNKNOWN\_EXTENSION}, copyPkt, 
      \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1SixLowPanNetDevice_afb90a509d87f24373689a40f459d7ff6}{SixLowPanNetDevice}> (), 
      \hyperlink{classns3_1_1SixLowPanNetDevice_a48cd7b76a59b506df8d8a7d8604f66b3}{GetIfIndex} ());
246       \textcolor{keywordflow}{break};
247     \}
248 
249   \textcolor{keywordflow}{if} ( !isPktDecompressed )
250     \{
251       \textcolor{keywordflow}{return};
252     \}
253 
254   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Packet decompressed length: "} << copyPkt->GetSize () );
255   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{stringliteral}{"Packet decompressed received: "} << *copyPkt );
256 
257   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1SixLowPanNetDevice_add2ead5d1d3c4a9b22bc8d01e0c04d83}{m\_promiscRxCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
258     \{
259       \hyperlink{classns3_1_1SixLowPanNetDevice_add2ead5d1d3c4a9b22bc8d01e0c04d83}{m\_promiscRxCallback} (\textcolor{keyword}{this}, copyPkt, 
      \hyperlink{classns3_1_1Ipv6L3Protocol_ac44af6866e3ddd3f0cb9fbe228afdfe9}{Ipv6L3Protocol::PROT\_NUMBER}, src, dst, packetType);
260     \}
261 
262   \hyperlink{classns3_1_1SixLowPanNetDevice_ae6028c6ebba2eac40772788104cb57ea}{m\_rxCallback} (\textcolor{keyword}{this}, copyPkt, \hyperlink{classns3_1_1Ipv6L3Protocol_ac44af6866e3ddd3f0cb9fbe228afdfe9}{Ipv6L3Protocol::PROT\_NUMBER}, src);
263 
264   \textcolor{keywordflow}{return};
265 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 35




Here is the caller graph for this function\+:
% FIG 36


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Send@{Send}}
\index{Send@{Send}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Send(\+Ptr$<$ Packet $>$ packet, const Address \&dest, uint16\+\_\+t protocol\+Number)}{Send(Ptr< Packet > packet, const Address &dest, uint16_t protocolNumber)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Send (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{const {\bf Address} \&}]{dest, }
\item[{uint16\+\_\+t}]{protocol\+Number}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a6566ae05fbc295d8cd22166b6b2c28ea}{}\label{classns3_1_1SixLowPanNetDevice_a6566ae05fbc295d8cd22166b6b2c28ea}

\begin{DoxyParams}{Parameters}
{\em packet} & packet sent from above down to Network Device \\
\hline
{\em dest} & mac address of the destination (already resolved) \\
\hline
{\em protocol\+Number} & identifies the type of payload contained in this packet. Used to call the right L3\+Protocol when the packet is received.\\
\hline
\end{DoxyParams}
Called from higher layer to send packet into Network Device to the specified destination \hyperlink{classns3_1_1Address}{Address}

\begin{DoxyReturn}{Returns}
whether the Send operation succeeded 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a59f41afb0fe8951bb94d5739cbe6ee7d}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
400 \{
401   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet << dest << protocolNumber);
402   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{false};
403   Address src;
404 
405   ret = \hyperlink{classns3_1_1SixLowPanNetDevice_a0cd8b4fc52f256bd7743310434ac4680}{DoSend} (packet, src, dest, protocolNumber, \textcolor{keyword}{false});
406   \textcolor{keywordflow}{return} ret;
407 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 37


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Send\+From@{Send\+From}}
\index{Send\+From@{Send\+From}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Send\+From(\+Ptr$<$ Packet $>$ packet, const Address \&source, const Address \&dest, uint16\+\_\+t protocol\+Number)}{SendFrom(Ptr< Packet > packet, const Address &source, const Address &dest, uint16_t protocolNumber)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Send\+From (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{const {\bf Address} \&}]{source, }
\item[{const {\bf Address} \&}]{dest, }
\item[{uint16\+\_\+t}]{protocol\+Number}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_aec79675091efa676370a4f9e6f4127e3}{}\label{classns3_1_1SixLowPanNetDevice_aec79675091efa676370a4f9e6f4127e3}

\begin{DoxyParams}{Parameters}
{\em packet} & packet sent from above down to Network Device \\
\hline
{\em source} & source mac address (so called \char`\"{}\+M\+A\+C spoofing\char`\"{}) \\
\hline
{\em dest} & mac address of the destination (already resolved) \\
\hline
{\em protocol\+Number} & identifies the type of payload contained in this packet. Used to call the right L3\+Protocol when the packet is received.\\
\hline
\end{DoxyParams}
Called from higher layer to send packet into Network Device with the specified source and destination Addresses.

\begin{DoxyReturn}{Returns}
whether the Send operation succeeded 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a19d55a4746c1ae584bf7da69959a885b}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
413 \{
414   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << *packet << src << dest << protocolNumber);
415   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{false};
416 
417   ret = \hyperlink{classns3_1_1SixLowPanNetDevice_a0cd8b4fc52f256bd7743310434ac4680}{DoSend} (packet, src, dest, protocolNumber, \textcolor{keyword}{true});
418   \textcolor{keywordflow}{return} ret;
419 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 38


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Set\+Address@{Set\+Address}}
\index{Set\+Address@{Set\+Address}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Set\+Address(\+Address address)}{SetAddress(Address address)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Set\+Address (
\begin{DoxyParamCaption}
\item[{{\bf Address}}]{address}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_abad3bea50f75add62ceeab5c37b30c73}{}\label{classns3_1_1SixLowPanNetDevice_abad3bea50f75add62ceeab5c37b30c73}
Set the address of this interface 
\begin{DoxyParams}{Parameters}
{\em address} & address to set \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1NetDevice_ab56dc36bc0547471ab3210eda60ee76c}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
288 \{
289   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << address);
290   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
291 
292   \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->SetAddress (address);
293 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Set\+If\+Index@{Set\+If\+Index}}
\index{Set\+If\+Index@{Set\+If\+Index}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Set\+If\+Index(const uint32\+\_\+t index)}{SetIfIndex(const uint32_t index)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Set\+If\+Index (
\begin{DoxyParamCaption}
\item[{const uint32\+\_\+t}]{index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_ac836f6782ebbcbb1c40300b16e0c933b}{}\label{classns3_1_1SixLowPanNetDevice_ac836f6782ebbcbb1c40300b16e0c933b}

\begin{DoxyParams}{Parameters}
{\em index} & if\+Index of the device \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1NetDevice_a2e1ac6c1189cd565420305d85a193fb8}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
268 \{
269   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << index);
270   \hyperlink{classns3_1_1SixLowPanNetDevice_ab07b4be5672c71fc3c069c3d5b44e75f}{m\_ifIndex} = index;
271 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Set\+Mtu@{Set\+Mtu}}
\index{Set\+Mtu@{Set\+Mtu}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Set\+Mtu(const uint16\+\_\+t mtu)}{SetMtu(const uint16_t mtu)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Set\+Mtu (
\begin{DoxyParamCaption}
\item[{const uint16\+\_\+t}]{mtu}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_aae0319d38c749f66790e16691aa39a0c}{}\label{classns3_1_1SixLowPanNetDevice_aae0319d38c749f66790e16691aa39a0c}

\begin{DoxyParams}{Parameters}
{\em mtu} & M\+TU value, in bytes, to set for the device \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
whether the M\+TU value was within legal bounds
\end{DoxyReturn}
Override for default M\+TU defined on a per-\/type basis. 

Implements \hyperlink{classns3_1_1NetDevice_a2ba4956d45cde68eab3cbdd6ede06df0}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
304 \{
305   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << mtu);
306   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} != 0, \textcolor{stringliteral}{"Sixlowpan: can't find any lower-layer protocol
       "} << \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} );
307 
308   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice}->SetMtu (mtu);
309 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Set\+Net\+Device@{Set\+Net\+Device}}
\index{Set\+Net\+Device@{Set\+Net\+Device}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Set\+Net\+Device(\+Ptr$<$ Net\+Device $>$ device)}{SetNetDevice(Ptr< NetDevice > device)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Set\+Net\+Device (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Net\+Device} $>$}]{device}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SixLowPanNetDevice_a81c74a5dc06e3fbad1a8b1c59d1f68fa}{}\label{classns3_1_1SixLowPanNetDevice_a81c74a5dc06e3fbad1a8b1c59d1f68fa}


Setup Six\+Low\+Pan to be a proxy for the specified \hyperlink{classns3_1_1NetDevice}{Net\+Device}. All the packets incoming and outgoing from the \hyperlink{classns3_1_1NetDevice}{Net\+Device} will be processed by \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em device} & A smart pointer to the \hyperlink{classns3_1_1NetDevice}{Net\+Device} to be proxied. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
124 \{
125   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << device);
126   \hyperlink{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{m\_netDevice} = device;
127 
128   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"RegisterProtocolHandler for "} << device->GetInstanceTypeId ().GetName ());
129 
130   uint16\_t protocolType = 0;
131   \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1SixLowPanNetDevice_a57d9f56656023ad738e092ba9f668192}{m\_forceEtherType} )
132     \{
133       protocolType = \hyperlink{classns3_1_1SixLowPanNetDevice_afdea8e77d8ec66aef94e8cdbb645004b}{m\_etherType};
134     \}
135   \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node}->\hyperlink{classns3_1_1Node_af713f0e7ea5c49b4fa0b3613405c45fa}{RegisterProtocolHandler} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1SixLowPanNetDevice_a35d31ab6c6270f1923ce5b0f77d582b6}{SixLowPanNetDevice::ReceiveFromDevice},
136                                                  \textcolor{keyword}{this}),
137                                    protocolType, device, \textcolor{keyword}{false});
138 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 39




Here is the caller graph for this function\+:
% FIG 40


\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Set\+Node@{Set\+Node}}
\index{Set\+Node@{Set\+Node}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Set\+Node(\+Ptr$<$ Node $>$ node)}{SetNode(Ptr< Node > node)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Set\+Node (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_ad848920fb4d8b4ef85f6f22c817386da}{}\label{classns3_1_1SixLowPanNetDevice_ad848920fb4d8b4ef85f6f22c817386da}

\begin{DoxyParams}{Parameters}
{\em node} & the node associated to this netdevice.\\
\hline
\end{DoxyParams}
This method is called from \hyperlink{classns3_1_1Node_a42ff83ee1d5d1649c770d3f5b62375de}{ns3\+::\+Node\+::\+Add\+Device}. 

Implements \hyperlink{classns3_1_1NetDevice_a3ae520ae06e93b957f0f56f113319a08}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
507 \{
508   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << node);
509   \hyperlink{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{m\_node} = node;
510 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Set\+Promisc\+Receive\+Callback@{Set\+Promisc\+Receive\+Callback}}
\index{Set\+Promisc\+Receive\+Callback@{Set\+Promisc\+Receive\+Callback}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Set\+Promisc\+Receive\+Callback(\+Net\+Device\+::\+Promisc\+Receive\+Callback cb)}{SetPromiscReceiveCallback(NetDevice::PromiscReceiveCallback cb)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Set\+Promisc\+Receive\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Net\+Device\+::\+Promisc\+Receive\+Callback}}]{cb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a42b2eb2c8cb19b79f8a5a0e94309e28f}{}\label{classns3_1_1SixLowPanNetDevice_a42b2eb2c8cb19b79f8a5a0e94309e28f}

\begin{DoxyParams}{Parameters}
{\em cb} & callback to invoke whenever a packet has been received in promiscuous mode and must be forwarded to the higher layers.\\
\hline
\end{DoxyParams}
Enables netdevice promiscuous mode and sets the callback that will handle promiscuous mode packets. Note, promiscuous mode packets means {\itshape all} packets, including those packets that can be sensed by the netdevice but which are intended to be received by other hosts. 

Implements \hyperlink{classns3_1_1NetDevice_a3968946bdbb74d47d7b13612baad7d6d}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
527 \{
528   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &cb);
529   \hyperlink{classns3_1_1SixLowPanNetDevice_add2ead5d1d3c4a9b22bc8d01e0c04d83}{m\_promiscRxCallback} = cb;
530 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Set\+Receive\+Callback@{Set\+Receive\+Callback}}
\index{Set\+Receive\+Callback@{Set\+Receive\+Callback}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Set\+Receive\+Callback(\+Net\+Device\+::\+Receive\+Callback cb)}{SetReceiveCallback(NetDevice::ReceiveCallback cb)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Set\+Receive\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Net\+Device\+::\+Receive\+Callback}}]{cb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a4c0ba60e29603292740d6bb0aa103130}{}\label{classns3_1_1SixLowPanNetDevice_a4c0ba60e29603292740d6bb0aa103130}

\begin{DoxyParams}{Parameters}
{\em cb} & callback to invoke whenever a packet has been received and must be forwarded to the higher layers.\\
\hline
\end{DoxyParams}
Set the callback to be used to notify higher layers when a packet has been received. 

Implements \hyperlink{classns3_1_1NetDevice_ac63e4d5668e421fec4b5d37f32e7dd18}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
521 \{
522   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &cb);
523   \hyperlink{classns3_1_1SixLowPanNetDevice_ae6028c6ebba2eac40772788104cb57ea}{m\_rxCallback} = cb;
524 \}
\end{DoxyCode}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!Supports\+Send\+From@{Supports\+Send\+From}}
\index{Supports\+Send\+From@{Supports\+Send\+From}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{Supports\+Send\+From() const }{SupportsSendFrom() const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::\+Supports\+Send\+From (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a53811a2fb813d5672bf7fca5660fa94d}{}\label{classns3_1_1SixLowPanNetDevice_a53811a2fb813d5672bf7fca5660fa94d}
\begin{DoxyReturn}{Returns}
true if this interface supports a bridging mode, false otherwise. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1NetDevice_a04793d220b54c40e110ebf86dae5b25c}{ns3\+::\+Net\+Device}.


\begin{DoxyCode}
533 \{
534   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
535   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
536 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+compression\+Threshold@{m\+\_\+compression\+Threshold}}
\index{m\+\_\+compression\+Threshold@{m\+\_\+compression\+Threshold}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+compression\+Threshold}{m_compressionThreshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+compression\+Threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a61c90503b8ea0015e2c3e4dc1f599582}{}\label{classns3_1_1SixLowPanNetDevice_a61c90503b8ea0015e2c3e4dc1f599582}


Minimum L2 payload size. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+drop\+Trace@{m\+\_\+drop\+Trace}}
\index{m\+\_\+drop\+Trace@{m\+\_\+drop\+Trace}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+drop\+Trace}{m_dropTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Drop\+Reason}, {\bf Ptr}$<$const {\bf Packet}$>$, {\bf Ptr}$<${\bf Six\+Low\+Pan\+Net\+Device}$>$, uint32\+\_\+t$>$ ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+drop\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a93e0ef7a17057bcb8420b8d37ec56356}{}\label{classns3_1_1SixLowPanNetDevice_a93e0ef7a17057bcb8420b8d37ec56356}


\hyperlink{classns3_1_1Callback}{Callback} to trace drop packets. 

Data passed\+: \begin{DoxyItemize}
\item Drop\+Reason \item \hyperlink{classns3_1_1Packet}{Packet} dropped (including 6\+Lo\+W\+P\+AN header) \item \hyperlink{classns3_1_1Ptr}{Ptr} to \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} \item interface index \begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000030}{Deprecated}]The non-\/const {\ttfamily Ptr$<$\+Six\+Low\+Pan\+Net\+Device$>$} argument is deprecated and will be changed to {\ttfamily Ptr$<$const Six\+Low\+Pan\+Net\+Device$>$} in a future release. \end{DoxyRefDesc}
\end{DoxyItemize}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+ether\+Type@{m\+\_\+ether\+Type}}
\index{m\+\_\+ether\+Type@{m\+\_\+ether\+Type}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+ether\+Type}{m_etherType}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+ether\+Type\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_afdea8e77d8ec66aef94e8cdbb645004b}{}\label{classns3_1_1SixLowPanNetDevice_afdea8e77d8ec66aef94e8cdbb645004b}


Ether\+Type number (used only if m\+\_\+force\+Ether\+Type is true). 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+force\+Ether\+Type@{m\+\_\+force\+Ether\+Type}}
\index{m\+\_\+force\+Ether\+Type@{m\+\_\+force\+Ether\+Type}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+force\+Ether\+Type}{m_forceEtherType}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+force\+Ether\+Type\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a57d9f56656023ad738e092ba9f668192}{}\label{classns3_1_1SixLowPanNetDevice_a57d9f56656023ad738e092ba9f668192}


Force the Ether\+Type number. Also implying that the underlying \hyperlink{classns3_1_1NetDevice}{Net\+Device} is using 48-\/bit Addresses, e.\+g., Ethernet, Wi-\/\+Fi, etc. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+fragment\+Expiration\+Timeout@{m\+\_\+fragment\+Expiration\+Timeout}}
\index{m\+\_\+fragment\+Expiration\+Timeout@{m\+\_\+fragment\+Expiration\+Timeout}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+fragment\+Expiration\+Timeout}{m_fragmentExpirationTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+fragment\+Expiration\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_ace8f2bb99c947fdaa963d8372467642c}{}\label{classns3_1_1SixLowPanNetDevice_ace8f2bb99c947fdaa963d8372467642c}


\hyperlink{classns3_1_1Time}{Time} limit for fragment rebuilding. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+fragment\+Reassembly\+List\+Size@{m\+\_\+fragment\+Reassembly\+List\+Size}}
\index{m\+\_\+fragment\+Reassembly\+List\+Size@{m\+\_\+fragment\+Reassembly\+List\+Size}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+fragment\+Reassembly\+List\+Size}{m_fragmentReassemblyListSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+fragment\+Reassembly\+List\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_acf2402dc29d4865287993a508b74c855}{}\label{classns3_1_1SixLowPanNetDevice_acf2402dc29d4865287993a508b74c855}


How many packets can be rebuilt at the same time. Some real implementation do limit this. Zero means no limit. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+fragments@{m\+\_\+fragments}}
\index{m\+\_\+fragments@{m\+\_\+fragments}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+fragments}{m_fragments}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Map\+Fragments\+\_\+t} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+fragments\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}{}\label{classns3_1_1SixLowPanNetDevice_aed9787c7dcee491945b752d0baa69d09}


\hyperlink{classns3_1_1SixLowPanNetDevice_1_1Fragments}{Fragments} hold to be rebuilt. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+fragments\+Timers@{m\+\_\+fragments\+Timers}}
\index{m\+\_\+fragments\+Timers@{m\+\_\+fragments\+Timers}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+fragments\+Timers}{m_fragmentsTimers}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Map\+Fragments\+Timers\+\_\+t} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+fragments\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}{}\label{classns3_1_1SixLowPanNetDevice_ac1f25bfd21a90f1419db0ecf1ea82547}


Timers related to fragment rebuilding. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+if\+Index@{m\+\_\+if\+Index}}
\index{m\+\_\+if\+Index@{m\+\_\+if\+Index}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+if\+Index}{m_ifIndex}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+if\+Index\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_ab07b4be5672c71fc3c069c3d5b44e75f}{}\label{classns3_1_1SixLowPanNetDevice_ab07b4be5672c71fc3c069c3d5b44e75f}


Interface index. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+net\+Device@{m\+\_\+net\+Device}}
\index{m\+\_\+net\+Device@{m\+\_\+net\+Device}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+net\+Device}{m_netDevice}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Net\+Device}$>$ ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+net\+Device\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}{}\label{classns3_1_1SixLowPanNetDevice_a758b615a8b8f811ae3517ab9c7574f7b}


Smart pointer to the underlying \hyperlink{classns3_1_1NetDevice}{Net\+Device}. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+node@{m\+\_\+node}}
\index{m\+\_\+node@{m\+\_\+node}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+node}{m_node}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Node}$>$ ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+node\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}{}\label{classns3_1_1SixLowPanNetDevice_a3f287ff63be440ab2978697b1d9b26a5}


Smart pointer to the \hyperlink{classns3_1_1Node}{Node}. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+omit\+Udp\+Checksum@{m\+\_\+omit\+Udp\+Checksum}}
\index{m\+\_\+omit\+Udp\+Checksum@{m\+\_\+omit\+Udp\+Checksum}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+omit\+Udp\+Checksum}{m_omitUdpChecksum}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+omit\+Udp\+Checksum\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_aa3503adbbb86b19e4ec2d17f3c8436f7}{}\label{classns3_1_1SixLowPanNetDevice_aa3503adbbb86b19e4ec2d17f3c8436f7}


Omit U\+DP checksum in N\+C1 encoding. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+promisc\+Rx\+Callback@{m\+\_\+promisc\+Rx\+Callback}}
\index{m\+\_\+promisc\+Rx\+Callback@{m\+\_\+promisc\+Rx\+Callback}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+promisc\+Rx\+Callback}{m_promiscRxCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Net\+Device\+::\+Promisc\+Receive\+Callback} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+promisc\+Rx\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_add2ead5d1d3c4a9b22bc8d01e0c04d83}{}\label{classns3_1_1SixLowPanNetDevice_add2ead5d1d3c4a9b22bc8d01e0c04d83}
The callback used to notify higher layers that a packet has been received in promiscuous mode. \index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+rng@{m\+\_\+rng}}
\index{m\+\_\+rng@{m\+\_\+rng}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+rng}{m_rng}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Uniform\+Random\+Variable}$>$ ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+rng\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a2790a5f0228097a1e52b728dcdbf70d2}{}\label{classns3_1_1SixLowPanNetDevice_a2790a5f0228097a1e52b728dcdbf70d2}


Rng for the fragments tag. 

\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+rx\+Callback@{m\+\_\+rx\+Callback}}
\index{m\+\_\+rx\+Callback@{m\+\_\+rx\+Callback}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+Callback}{m_rxCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Net\+Device\+::\+Receive\+Callback} ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+rx\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_ae6028c6ebba2eac40772788104cb57ea}{}\label{classns3_1_1SixLowPanNetDevice_ae6028c6ebba2eac40772788104cb57ea}
The callback used to notify higher layers that a packet has been received. \index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+rx\+Trace@{m\+\_\+rx\+Trace}}
\index{m\+\_\+rx\+Trace@{m\+\_\+rx\+Trace}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+Trace}{m_rxTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$, {\bf Ptr}$<${\bf Six\+Low\+Pan\+Net\+Device}$>$, uint32\+\_\+t$>$ ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+rx\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a868eb6580b5eced376dadafa67aeda6b}{}\label{classns3_1_1SixLowPanNetDevice_a868eb6580b5eced376dadafa67aeda6b}


\hyperlink{classns3_1_1Callback}{Callback} to trace RX (reception) packets. 

Data passed\+: \begin{DoxyItemize}
\item \hyperlink{classns3_1_1Packet}{Packet} received (including 6\+Lo\+W\+P\+AN header) \item \hyperlink{classns3_1_1Ptr}{Ptr} to \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} \item interface index \begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000029}{Deprecated}]The non-\/const {\ttfamily Ptr$<$\+Six\+Low\+Pan\+Net\+Device$>$} argument is deprecated and will be changed to {\ttfamily Ptr$<$const Six\+Low\+Pan\+Net\+Device$>$} in a future release. \end{DoxyRefDesc}
\end{DoxyItemize}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+tx\+Trace@{m\+\_\+tx\+Trace}}
\index{m\+\_\+tx\+Trace@{m\+\_\+tx\+Trace}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+Trace}{m_txTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$, {\bf Ptr}$<${\bf Six\+Low\+Pan\+Net\+Device}$>$, uint32\+\_\+t$>$ ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+tx\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a6d80896d0b58fd8a5577c65a060ad3b1}{}\label{classns3_1_1SixLowPanNetDevice_a6d80896d0b58fd8a5577c65a060ad3b1}


\hyperlink{classns3_1_1Callback}{Callback} to trace TX (transmission) packets. 

Data passed\+: \begin{DoxyItemize}
\item \hyperlink{classns3_1_1Packet}{Packet} received (including 6\+Lo\+W\+P\+AN header) \item \hyperlink{classns3_1_1Ptr}{Ptr} to \hyperlink{classns3_1_1SixLowPanNetDevice}{Six\+Low\+Pan\+Net\+Device} \item interface index \begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000028}{Deprecated}]The non-\/const {\ttfamily Ptr$<$\+Six\+Low\+Pan\+Net\+Device$>$} argument is deprecated and will be changed to {\ttfamily Ptr$<$const Six\+Low\+Pan\+Net\+Device$>$} in a future release. \end{DoxyRefDesc}
\end{DoxyItemize}
\index{ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}!m\+\_\+use\+Iphc@{m\+\_\+use\+Iphc}}
\index{m\+\_\+use\+Iphc@{m\+\_\+use\+Iphc}!ns3\+::\+Six\+Low\+Pan\+Net\+Device@{ns3\+::\+Six\+Low\+Pan\+Net\+Device}}
\subsubsection[{\texorpdfstring{m\+\_\+use\+Iphc}{m_useIphc}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Six\+Low\+Pan\+Net\+Device\+::m\+\_\+use\+Iphc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SixLowPanNetDevice_a304a0244019df2ca598b655210d82533}{}\label{classns3_1_1SixLowPanNetDevice_a304a0244019df2ca598b655210d82533}


Use I\+P\+HC or H\+C1. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
sixlowpan/model/\hyperlink{sixlowpan-net-device_8h}{sixlowpan-\/net-\/device.\+h}\item 
sixlowpan/model/\hyperlink{sixlowpan-net-device_8cc}{sixlowpan-\/net-\/device.\+cc}\end{DoxyCompactItemize}
