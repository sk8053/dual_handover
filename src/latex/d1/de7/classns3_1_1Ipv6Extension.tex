\hypertarget{classns3_1_1Ipv6Extension}{}\section{ns3\+:\+:Ipv6\+Extension Class Reference}
\label{classns3_1_1Ipv6Extension}\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}


I\+Pv6 Extension base If you want to implement a new I\+Pv6 extension, all you have to do is implement a subclass of this class and add it to an \hyperlink{classns3_1_1Ipv6ExtensionDemux}{Ipv6\+Extension\+Demux}.  




{\ttfamily \#include $<$ipv6-\/extension.\+h$>$}



Inheritance diagram for ns3\+:\+:Ipv6\+Extension\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Ipv6\+Extension\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ipv6Extension_a80f41b66e74fbe9c43c0904dd5593aab}{Ipv6\+Extension} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1Ipv6Extension_ac125b2ede0af3b1d744cd36fde4e5a2f}{$\sim$\+Ipv6\+Extension} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1Ipv6Extension_a4dc5ccf549425b8d7c70ff790b2b0401}{Set\+Node} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node)
\begin{DoxyCompactList}\small\item\em Set the node. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classns3_1_1Ipv6Extension_a71cc2e202ef7605b1f645d8c6a384657}{Get\+Node} () const 
\begin{DoxyCompactList}\small\item\em Get the node. \end{DoxyCompactList}\item 
virtual uint8\+\_\+t \hyperlink{classns3_1_1Ipv6Extension_a293ec615901976f850085116ec882eb7}{Get\+Extension\+Number} () const =0
\begin{DoxyCompactList}\small\item\em Get the extension number. \end{DoxyCompactList}\item 
virtual uint8\+\_\+t \hyperlink{classns3_1_1Ipv6Extension_a5946bc5e6fa07b76e2dcb7e4dee01f9f}{Process} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \&packet, uint8\+\_\+t offset, \hyperlink{classns3_1_1Ipv6Header}{Ipv6\+Header} const \&ipv6\+Header, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} dst, uint8\+\_\+t $\ast$next\+Header, bool \&stop\+Processing, bool \&is\+Dropped, \hyperlink{classns3_1_1Ipv6L3Protocol_a33c64db9bc35f71ff368b132bfffa37a}{Ipv6\+L3\+Protocol\+::\+Drop\+Reason} \&drop\+Reason)=0
\begin{DoxyCompactList}\small\item\em Process method Called from \hyperlink{classns3_1_1Ipv6L3Protocol_a8a95d576e8aee9a571db93bf686d850a}{Ipv6\+L3\+Protocol\+::\+Receive}. \end{DoxyCompactList}\item 
virtual uint8\+\_\+t \hyperlink{classns3_1_1Ipv6Extension_adb5bf5cc46ab4c1936c0641ad4fd7a07}{Process\+Options} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \&packet, uint8\+\_\+t offset, uint8\+\_\+t length, \hyperlink{classns3_1_1Ipv6Header}{Ipv6\+Header} const \&ipv6\+Header, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} dst, uint8\+\_\+t $\ast$next\+Header, bool \&stop\+Processing, bool \&is\+Dropped, \hyperlink{classns3_1_1Ipv6L3Protocol_a33c64db9bc35f71ff368b132bfffa37a}{Ipv6\+L3\+Protocol\+::\+Drop\+Reason} \&drop\+Reason)
\begin{DoxyCompactList}\small\item\em Process options Called by implementing classes to process the options. \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classns3_1_1Ipv6Extension_a2c69eb5dc7b06c5e96acc888a625b43e}{Assign\+Streams} (int64\+\_\+t stream)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1Ipv6Extension_af1f1bbcd0d8a894af73b13845524bfc7}{Get\+Type\+Id} ()
\begin{DoxyCompactList}\small\item\em Get the type identificator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UniformRandomVariable}{Uniform\+Random\+Variable} $>$ \hyperlink{classns3_1_1Ipv6Extension_a785a3e81279962a9515646780b08e26a}{m\+\_\+uvar}
\begin{DoxyCompactList}\small\item\em Provides uniform random variables. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classns3_1_1Ipv6Extension_a2f23bc1dd39f1dcf9820f14cbf3bb390}{m\+\_\+node}
\begin{DoxyCompactList}\small\item\em The node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
I\+Pv6 Extension base If you want to implement a new I\+Pv6 extension, all you have to do is implement a subclass of this class and add it to an \hyperlink{classns3_1_1Ipv6ExtensionDemux}{Ipv6\+Extension\+Demux}. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!Ipv6\+Extension@{Ipv6\+Extension}}
\index{Ipv6\+Extension@{Ipv6\+Extension}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{Ipv6\+Extension()}{Ipv6Extension()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Ipv6\+Extension\+::\+Ipv6\+Extension (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6Extension_a80f41b66e74fbe9c43c0904dd5593aab}{}\label{classns3_1_1Ipv6Extension_a80f41b66e74fbe9c43c0904dd5593aab}


Constructor. 


\begin{DoxyCode}
63 \{
64   \hyperlink{log-macros-disabled_8h_a8f7e4afc291c9d29a65c18ac1f79197b}{NS\_LOG\_FUNCTION\_NOARGS} ();
65 
66   \hyperlink{classns3_1_1Ipv6Extension_a785a3e81279962a9515646780b08e26a}{m\_uvar} = CreateObject<UniformRandomVariable> ();
67 \}
\end{DoxyCode}
\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!````~Ipv6\+Extension@{$\sim$\+Ipv6\+Extension}}
\index{````~Ipv6\+Extension@{$\sim$\+Ipv6\+Extension}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{$\sim$\+Ipv6\+Extension()}{~Ipv6Extension()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Ipv6\+Extension\+::$\sim$\+Ipv6\+Extension (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1Ipv6Extension_ac125b2ede0af3b1d744cd36fde4e5a2f}{}\label{classns3_1_1Ipv6Extension_ac125b2ede0af3b1d744cd36fde4e5a2f}


Destructor. 


\begin{DoxyCode}
70 \{
71   \hyperlink{log-macros-disabled_8h_a8f7e4afc291c9d29a65c18ac1f79197b}{NS\_LOG\_FUNCTION\_NOARGS} ();
72 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!Assign\+Streams@{Assign\+Streams}}
\index{Assign\+Streams@{Assign\+Streams}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{Assign\+Streams(int64\+\_\+t stream)}{AssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::\+Ipv6\+Extension\+::\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6Extension_a2c69eb5dc7b06c5e96acc888a625b43e}{}\label{classns3_1_1Ipv6Extension_a2c69eb5dc7b06c5e96acc888a625b43e}
Assign a fixed random variable stream number to the random variables used by this model. Return the number of streams (possibly zero) that have been assigned.


\begin{DoxyParams}{Parameters}
{\em stream} & first stream index to use \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of stream indices assigned by this model 
\end{DoxyReturn}

\begin{DoxyCode}
184 \{
185   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << stream);
186   \hyperlink{classns3_1_1Ipv6Extension_a785a3e81279962a9515646780b08e26a}{m\_uvar}->\hyperlink{classns3_1_1RandomVariableStream_add11aaf975607746b7e271d300659a94}{SetStream} (stream);
187   \textcolor{keywordflow}{return} 1;
188 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!Get\+Extension\+Number@{Get\+Extension\+Number}}
\index{Get\+Extension\+Number@{Get\+Extension\+Number}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{Get\+Extension\+Number() const =0}{GetExtensionNumber() const =0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual uint8\+\_\+t ns3\+::\+Ipv6\+Extension\+::\+Get\+Extension\+Number (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1Ipv6Extension_a293ec615901976f850085116ec882eb7}{}\label{classns3_1_1Ipv6Extension_a293ec615901976f850085116ec882eb7}


Get the extension number. 

\begin{DoxyReturn}{Returns}
extension number 
\end{DoxyReturn}


Implemented in \hyperlink{classns3_1_1Ipv6ExtensionAH_ac90ec72defc925723e098193ac982a93}{ns3\+::\+Ipv6\+Extension\+AH}, \hyperlink{classns3_1_1Ipv6ExtensionESP_a694ce90c3cd808921f5127bf78c1851a}{ns3\+::\+Ipv6\+Extension\+E\+SP}, \hyperlink{classns3_1_1Ipv6ExtensionRouting_a18ab8cbbf50ee1a7ba5409d163b741f3}{ns3\+::\+Ipv6\+Extension\+Routing}, \hyperlink{classns3_1_1Ipv6ExtensionFragment_a8192d49683cb5d89db8cf74a8a72f85a}{ns3\+::\+Ipv6\+Extension\+Fragment}, \hyperlink{classns3_1_1Ipv6ExtensionDestination_a39828a9eb6b80af10072077ae9af3311}{ns3\+::\+Ipv6\+Extension\+Destination}, and \hyperlink{classns3_1_1Ipv6ExtensionHopByHop_ac304e3ed0cd24a3fa5b65b94a01c1eb6}{ns3\+::\+Ipv6\+Extension\+Hop\+By\+Hop}.



Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!Get\+Node@{Get\+Node}}
\index{Get\+Node@{Get\+Node}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{Get\+Node() const }{GetNode() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Node} $>$ ns3\+::\+Ipv6\+Extension\+::\+Get\+Node (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1Ipv6Extension_a71cc2e202ef7605b1f645d8c6a384657}{}\label{classns3_1_1Ipv6Extension_a71cc2e202ef7605b1f645d8c6a384657}


Get the node. 

\begin{DoxyReturn}{Returns}
the node 
\end{DoxyReturn}

\begin{DoxyCode}
82 \{
83   \hyperlink{log-macros-disabled_8h_a8f7e4afc291c9d29a65c18ac1f79197b}{NS\_LOG\_FUNCTION\_NOARGS} ();
84 
85   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1Ipv6Extension_a2f23bc1dd39f1dcf9820f14cbf3bb390}{m\_node};
86 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id()}{GetTypeId()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Ipv6\+Extension\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1Ipv6Extension_af1f1bbcd0d8a894af73b13845524bfc7}{}\label{classns3_1_1Ipv6Extension_af1f1bbcd0d8a894af73b13845524bfc7}


Get the type identificator. 

\begin{DoxyReturn}{Returns}
type identificator 
\end{DoxyReturn}

\begin{DoxyCode}
50 \{
51   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::Ipv6Extension"})
52     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
53     .SetGroupName (\textcolor{stringliteral}{"Internet"})
54     .AddAttribute (\textcolor{stringliteral}{"ExtensionNumber"}, \textcolor{stringliteral}{"The IPv6 extension number."},
55                    UintegerValue (0),
56                    MakeUintegerAccessor (&\hyperlink{classns3_1_1Ipv6Extension_a293ec615901976f850085116ec882eb7}{Ipv6Extension::GetExtensionNumber}
      ),
57                    MakeUintegerChecker<uint8\_t> ())
58   ;
59   \textcolor{keywordflow}{return} tid;
60 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!Process@{Process}}
\index{Process@{Process}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{Process(\+Ptr$<$ Packet $>$ \&packet, uint8\+\_\+t offset, Ipv6\+Header const \&ipv6\+Header, Ipv6\+Address dst, uint8\+\_\+t $\ast$next\+Header, bool \&stop\+Processing, bool \&is\+Dropped, Ipv6\+L3\+Protocol\+::\+Drop\+Reason \&drop\+Reason)=0}{Process(Ptr< Packet > &packet, uint8_t offset, Ipv6Header const &ipv6Header, Ipv6Address dst, uint8_t *nextHeader, bool &stopProcessing, bool &isDropped, Ipv6L3Protocol::DropReason &dropReason)=0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual uint8\+\_\+t ns3\+::\+Ipv6\+Extension\+::\+Process (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$ \&}]{packet, }
\item[{uint8\+\_\+t}]{offset, }
\item[{{\bf Ipv6\+Header} const \&}]{ipv6\+Header, }
\item[{{\bf Ipv6\+Address}}]{dst, }
\item[{uint8\+\_\+t $\ast$}]{next\+Header, }
\item[{bool \&}]{stop\+Processing, }
\item[{bool \&}]{is\+Dropped, }
\item[{{\bf Ipv6\+L3\+Protocol\+::\+Drop\+Reason} \&}]{drop\+Reason}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1Ipv6Extension_a5946bc5e6fa07b76e2dcb7e4dee01f9f}{}\label{classns3_1_1Ipv6Extension_a5946bc5e6fa07b76e2dcb7e4dee01f9f}


Process method Called from \hyperlink{classns3_1_1Ipv6L3Protocol_a8a95d576e8aee9a571db93bf686d850a}{Ipv6\+L3\+Protocol\+::\+Receive}. 


\begin{DoxyParams}{Parameters}
{\em packet} & the packet \\
\hline
{\em offset} & the offset of the extension to process \\
\hline
{\em ipv6\+Header} & the I\+Pv6 header of packet received \\
\hline
{\em dst} & destination address of the packet received (i.\+e. us) \\
\hline
{\em next\+Header} & the next header \\
\hline
{\em stop\+Processing} & true if the packet must not be further processed \\
\hline
{\em is\+Dropped} & true if the packet must be dropped \\
\hline
{\em drop\+Reason} & dropping reason \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the size processed 
\end{DoxyReturn}


Implemented in \hyperlink{classns3_1_1Ipv6ExtensionAH_ad610f5c405e3b56d195da450442d416b}{ns3\+::\+Ipv6\+Extension\+AH}, \hyperlink{classns3_1_1Ipv6ExtensionESP_af4a2734d836fe34fdf86ac91850c2ee9}{ns3\+::\+Ipv6\+Extension\+E\+SP}, \hyperlink{classns3_1_1Ipv6ExtensionLooseRouting_ab73c109952d780d1eb52c2f7c144e546}{ns3\+::\+Ipv6\+Extension\+Loose\+Routing}, \hyperlink{classns3_1_1Ipv6ExtensionRouting_afa441177f8a75d9683e826e5417b1a98}{ns3\+::\+Ipv6\+Extension\+Routing}, \hyperlink{classns3_1_1Ipv6ExtensionFragment_a8563953a172a744473bf7f80cf1ef536}{ns3\+::\+Ipv6\+Extension\+Fragment}, \hyperlink{classns3_1_1Ipv6ExtensionDestination_a27dac28c59322d3f5b2c9830f669db61}{ns3\+::\+Ipv6\+Extension\+Destination}, and \hyperlink{classns3_1_1Ipv6ExtensionHopByHop_a234507e921675c3e30d8e5ddf7108c77}{ns3\+::\+Ipv6\+Extension\+Hop\+By\+Hop}.

\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!Process\+Options@{Process\+Options}}
\index{Process\+Options@{Process\+Options}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{Process\+Options(\+Ptr$<$ Packet $>$ \&packet, uint8\+\_\+t offset, uint8\+\_\+t length, Ipv6\+Header const \&ipv6\+Header, Ipv6\+Address dst, uint8\+\_\+t $\ast$next\+Header, bool \&stop\+Processing, bool \&is\+Dropped, Ipv6\+L3\+Protocol\+::\+Drop\+Reason \&drop\+Reason)}{ProcessOptions(Ptr< Packet > &packet, uint8_t offset, uint8_t length, Ipv6Header const &ipv6Header, Ipv6Address dst, uint8_t *nextHeader, bool &stopProcessing, bool &isDropped, Ipv6L3Protocol::DropReason &dropReason)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ipv6\+Extension\+::\+Process\+Options (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$ \&}]{packet, }
\item[{uint8\+\_\+t}]{offset, }
\item[{uint8\+\_\+t}]{length, }
\item[{{\bf Ipv6\+Header} const \&}]{ipv6\+Header, }
\item[{{\bf Ipv6\+Address}}]{dst, }
\item[{uint8\+\_\+t $\ast$}]{next\+Header, }
\item[{bool \&}]{stop\+Processing, }
\item[{bool \&}]{is\+Dropped, }
\item[{{\bf Ipv6\+L3\+Protocol\+::\+Drop\+Reason} \&}]{drop\+Reason}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1Ipv6Extension_adb5bf5cc46ab4c1936c0641ad4fd7a07}{}\label{classns3_1_1Ipv6Extension_adb5bf5cc46ab4c1936c0641ad4fd7a07}


Process options Called by implementing classes to process the options. 


\begin{DoxyParams}{Parameters}
{\em packet} & the packet \\
\hline
{\em offset} & the offset of the first option to process \\
\hline
{\em length} & the total length of all options (as specified in the extension header) \\
\hline
{\em ipv6\+Header} & the I\+Pv6 header of packet received \\
\hline
{\em dst} & destination address of the packet received (i.\+e. us) \\
\hline
{\em next\+Header} & the next header \\
\hline
{\em stop\+Processing} & true if the packet must not be further processed \\
\hline
{\em is\+Dropped} & true if the packet must be dropped \\
\hline
{\em drop\+Reason} & dropping reason \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the size processed 
\end{DoxyReturn}

\begin{DoxyCode}
97 \{
98   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << offset << length << ipv6Header << dst << nextHeader << 
      isDropped);
99 
100   \textcolor{comment}{// For ICMPv6 Error packets}
101   Ptr<Packet> malformedPacket = packet->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} ();
102   malformedPacket->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (ipv6Header);
103   Ptr<Icmpv6L4Protocol> icmpv6 = \hyperlink{classns3_1_1Ipv6Extension_a71cc2e202ef7605b1f645d8c6a384657}{GetNode} ()->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<Ipv6L3Protocol> ()->GetIcmpv6 ();
104 
105   Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = packet->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} ();
106   p->\hyperlink{classns3_1_1Packet_a78aa207e7921dd2f9f7e0d0b7a1c730a}{RemoveAtStart} (offset);
107 
108   Ptr<Ipv6OptionDemux> ipv6OptionDemux = \hyperlink{classns3_1_1Ipv6Extension_a71cc2e202ef7605b1f645d8c6a384657}{GetNode} ()->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<Ipv6OptionDemux> ();
109   Ptr<Ipv6Option> ipv6Option;
110 
111   uint8\_t processedSize = 0;
112   uint32\_t size = p->GetSize ();
113   uint8\_t *\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data} = \textcolor{keyword}{new} uint8\_t[size];
114   p->CopyData (data, size);
115 
116   uint8\_t optionType = 0;
117   uint8\_t optionLength = 0;
118 
119   \textcolor{keywordflow}{while} (length > processedSize && !isDropped)
120     \{
121       optionType = *(data + processedSize);
122       ipv6Option = ipv6OptionDemux->GetOption (optionType);
123 
124       \textcolor{keywordflow}{if} (ipv6Option == 0)
125         \{
126           optionType >>= 6;
127           \textcolor{keywordflow}{switch} (optionType)
128             \{
129             \textcolor{keywordflow}{case} 0:
130               optionLength = *(data + processedSize + 1) + 2;
131               \textcolor{keywordflow}{break};
132 
133             \textcolor{keywordflow}{case} 1:
134               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Unknown Option. Drop!"});
135               optionLength = 0;
136               isDropped = \textcolor{keyword}{true};
137               stopProcessing = \textcolor{keyword}{true};
138               dropReason = \hyperlink{classns3_1_1Ipv6L3Protocol_a33c64db9bc35f71ff368b132bfffa37aa803fe59e441ce2bc53f0fe19df60c14a}{Ipv6L3Protocol::DROP\_UNKNOWN\_OPTION};
139               \textcolor{keywordflow}{break};
140 
141             \textcolor{keywordflow}{case} 2:
142               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Unknown Option. Drop!"});
143               icmpv6->SendErrorParameterError (malformedPacket, ipv6Header.GetSourceAddress (), 
      \hyperlink{classns3_1_1Icmpv6Header_ae9230cd167393f553a3c2ded106858caa4712d4dbbcd93e660a8ae14f50726629}{Icmpv6Header::ICMPV6\_UNKNOWN\_OPTION}, offset + processedSize);
144               optionLength = 0;
145               isDropped = \textcolor{keyword}{true};
146               stopProcessing = \textcolor{keyword}{true};
147               dropReason = \hyperlink{classns3_1_1Ipv6L3Protocol_a33c64db9bc35f71ff368b132bfffa37aa803fe59e441ce2bc53f0fe19df60c14a}{Ipv6L3Protocol::DROP\_UNKNOWN\_OPTION};
148               \textcolor{keywordflow}{break};
149 
150             \textcolor{keywordflow}{case} 3:
151               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Unknown Option. Drop!"});
152 
153               \textcolor{keywordflow}{if} (!ipv6Header.GetDestinationAddress ().IsMulticast ())
154                 \{
155                   icmpv6->SendErrorParameterError (malformedPacket, ipv6Header.GetSourceAddress (), 
      \hyperlink{classns3_1_1Icmpv6Header_ae9230cd167393f553a3c2ded106858caa4712d4dbbcd93e660a8ae14f50726629}{Icmpv6Header::ICMPV6\_UNKNOWN\_OPTION}, offset + processedSize);
156                 \}
157               optionLength = 0;
158               isDropped = \textcolor{keyword}{true};
159               stopProcessing = \textcolor{keyword}{true};
160               dropReason = \hyperlink{classns3_1_1Ipv6L3Protocol_a33c64db9bc35f71ff368b132bfffa37aa803fe59e441ce2bc53f0fe19df60c14a}{Ipv6L3Protocol::DROP\_UNKNOWN\_OPTION};
161               \textcolor{keywordflow}{break};
162 
163             \textcolor{keywordflow}{default}:
164               \textcolor{keywordflow}{break};
165             \}
166 
167         \}
168       \textcolor{keywordflow}{else}
169         \{
170           optionLength = ipv6Option->Process (packet, offset + processedSize, ipv6Header, isDropped);
171         \}
172 
173       processedSize += optionLength;
174       p->RemoveAtStart (optionLength);
175     \}
176 
177   \textcolor{keyword}{delete} [] \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data};
178 
179   \textcolor{keywordflow}{return} processedSize;
180 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!Set\+Node@{Set\+Node}}
\index{Set\+Node@{Set\+Node}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{Set\+Node(\+Ptr$<$ Node $>$ node)}{SetNode(Ptr< Node > node)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ipv6\+Extension\+::\+Set\+Node (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6Extension_a4dc5ccf549425b8d7c70ff790b2b0401}{}\label{classns3_1_1Ipv6Extension_a4dc5ccf549425b8d7c70ff790b2b0401}


Set the node. 


\begin{DoxyParams}{Parameters}
{\em node} & the node to set \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
75 \{
76   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << node);
77 
78   \hyperlink{classns3_1_1Ipv6Extension_a2f23bc1dd39f1dcf9820f14cbf3bb390}{m\_node} = node;
79 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!m\+\_\+node@{m\+\_\+node}}
\index{m\+\_\+node@{m\+\_\+node}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{m\+\_\+node}{m_node}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Node}$>$ ns3\+::\+Ipv6\+Extension\+::m\+\_\+node\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Ipv6Extension_a2f23bc1dd39f1dcf9820f14cbf3bb390}{}\label{classns3_1_1Ipv6Extension_a2f23bc1dd39f1dcf9820f14cbf3bb390}


The node. 

\index{ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}!m\+\_\+uvar@{m\+\_\+uvar}}
\index{m\+\_\+uvar@{m\+\_\+uvar}!ns3\+::\+Ipv6\+Extension@{ns3\+::\+Ipv6\+Extension}}
\subsubsection[{\texorpdfstring{m\+\_\+uvar}{m_uvar}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Uniform\+Random\+Variable}$>$ ns3\+::\+Ipv6\+Extension\+::m\+\_\+uvar\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1Ipv6Extension_a785a3e81279962a9515646780b08e26a}{}\label{classns3_1_1Ipv6Extension_a785a3e81279962a9515646780b08e26a}


Provides uniform random variables. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
internet/model/\hyperlink{ipv6-extension_8h}{ipv6-\/extension.\+h}\item 
internet/model/\hyperlink{ipv6-extension_8cc}{ipv6-\/extension.\+cc}\end{DoxyCompactItemize}
