\hypertarget{classns3_1_1MmWaveEnbPhy}{}\section{ns3\+:\+:Mm\+Wave\+Enb\+Phy Class Reference}
\label{classns3_1_1MmWaveEnbPhy}\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}


{\ttfamily \#include $<$mmwave-\/enb-\/phy.\+h$>$}



Inheritance diagram for ns3\+:\+:Mm\+Wave\+Enb\+Phy\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Mm\+Wave\+Enb\+Phy\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1MmWaveEnbPhy_ac81f0b473262b78aad27fc668e90eef2}{Mm\+Wave\+Enb\+Phy} ()
\item 
\hyperlink{classns3_1_1MmWaveEnbPhy_a1a187906c7eea07b987f27ab0fd95537}{Mm\+Wave\+Enb\+Phy} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWaveSpectrumPhy}{Mm\+Wave\+Spectrum\+Phy} $>$, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWaveSpectrumPhy}{Mm\+Wave\+Spectrum\+Phy} $>$)
\item 
virtual \hyperlink{classns3_1_1MmWaveEnbPhy_a55e3eb920b1eeb9d4cec4e9db9cbddb6}{$\sim$\+Mm\+Wave\+Enb\+Phy} ()
\item 
virtual void \hyperlink{classns3_1_1MmWaveEnbPhy_ad591594eeb17ea029240b75c9f578578}{Do\+Initialize} (void)
\item 
virtual void \hyperlink{classns3_1_1MmWaveEnbPhy_a3d20f3cf3e894fadeb08b42cca8e9da4}{Do\+Dispose} (void)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_ae5494b931712a00d40c1c4b2e75c2d28}{Set\+Mm\+Wave\+Enb\+Cphy\+Sap\+User} (\hyperlink{classns3_1_1LteEnbCphySapUser}{Lte\+Enb\+Cphy\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
\hyperlink{classns3_1_1LteEnbCphySapProvider}{Lte\+Enb\+Cphy\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1MmWaveEnbPhy_ab42c72ea54e88d87815abd834f19d21e}{Get\+Mm\+Wave\+Enb\+Cphy\+Sap\+Provider} ()
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a6c1dbccbab28c6883bf5a716d6605138}{Set\+Tx\+Power} (double pow)
\item 
double \hyperlink{classns3_1_1MmWaveEnbPhy_a83906efb88780c06a13f2f095e25e6a8}{Get\+Tx\+Power} () const 
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a43b75a8b0a7dcba2ad88f8c6bb5692c2}{Set\+Noise\+Figure} (double pf)
\item 
double \hyperlink{classns3_1_1MmWaveEnbPhy_a3640fc17414c1e6b0edca0b043263cc8}{Get\+Noise\+Figure} () const 
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_af8a1a892c01cd11c3de0909b2a37bf07}{Calc\+Channel\+Quality\+For\+Ue} (std\+::vector$<$ double $>$ sinr, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWaveSpectrumPhy}{Mm\+Wave\+Spectrum\+Phy} $>$ ue)
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a015a2751530829de95c6c92dfdd3a2ee}{Create\+Tx\+Power\+Spectral\+Density} ()
\begin{DoxyCompactList}\small\item\em Compute the TX Power Spectral Density. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a9e2456e5312a29007adfab81d5d79379}{Set\+Sub\+Channels} (std\+::vector$<$ int $>$ mask)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_acd2d1215a5618dcd6a2b480a0eda4051}{Do\+Set\+Sub\+Channels} ()
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_af066571ea81c9b07cb94f84e5297c11d}{Start\+Sub\+Frame} (void)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_ac0adb365904c29715ad7c1cc39695bca}{Start\+Slot} (void)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_aaea005a7298f69167a554a3c3c03b132}{End\+Slot} (void)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_aac9be87981341e7a6e303ad5d05316a1}{End\+Sub\+Frame} (void)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a2e177ec4620eeb040bb622ab32bd2432}{Send\+Data\+Channels} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1PacketBurst}{Packet\+Burst} $>$ pb, \hyperlink{classns3_1_1Time}{Time} slot\+Prd, \hyperlink{structns3_1_1SlotAllocInfo}{Slot\+Alloc\+Info} \&slot\+Info)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a1725bb913c4d82b765005106e47b85cf}{Send\+Ctrl\+Channels} (\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWaveControlMessage}{Mm\+Wave\+Control\+Message} $>$ $>$ ctrl\+Msg, \hyperlink{classns3_1_1Time}{Time} slot\+Prd)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWaveSpectrumPhy}{Mm\+Wave\+Spectrum\+Phy} $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}{Get\+Dl\+Spectrum\+Phy} () const 
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWaveSpectrumPhy}{Mm\+Wave\+Spectrum\+Phy} $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a1cdc19cd9cb5e946d5b7cc54bf4bf9db}{Get\+Ul\+Spectrum\+Phy} () const 
\item 
bool \hyperlink{classns3_1_1MmWaveEnbPhy_adc28805fe2c01c24bc0eea1f767b231f}{Add\+Ue\+Phy} (uint64\+\_\+t imsi, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ ue\+Device)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a4da2f965c88f46e2ff20d17992b001ce}{Phy\+Data\+Packet\+Received} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a016525ae90876006ff14b0a73c9a33a4}{Generate\+Data\+Cqi\+Report} (const \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} \&sinr)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_ab29ddb6f1128a28601a8cc9259fedf78}{Phy\+Ctrl\+Messages\+Received} (\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWaveControlMessage}{Mm\+Wave\+Control\+Message} $>$ $>$ msg\+List)
\item 
uint32\+\_\+t \hyperlink{classns3_1_1MmWaveEnbPhy_a044232f4d85492eaa1f5938fb60a85ca}{Get\+Absolute\+Subframe\+No} ()
\item 
int8\+\_\+t \hyperlink{classns3_1_1MmWaveEnbPhy_a8786bf8abbd0520a028513d663ca56da}{Do\+Get\+Reference\+Signal\+Power} () const 
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_aa8098860dd2b45d7ef023252c3969839}{Set\+Phy\+Sap\+User} (\hyperlink{classns3_1_1MmWaveEnbPhySapUser}{Mm\+Wave\+Enb\+Phy\+Sap\+User} $\ast$ptr)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_aed7f9e4b2a7a426dfab0a5c28aac7e3c}{Set\+Harq\+Phy\+Module} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWaveHarqPhy}{Mm\+Wave\+Harq\+Phy} $>$ harq)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_af4e7efb885e564c6a2f2b82303ef098a}{Receive\+Ul\+Harq\+Feedback} (\hyperlink{structns3_1_1UlHarqInfo}{Ul\+Harq\+Info} mes)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a09aa03118ceed8c46f87dc0f6b6c71a2}{Update\+Ue\+Sinr\+Estimate} ()
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a5ebec66c2776262f3d54c43ee1cc34db}{Call\+Pathloss} ()
\item 
double \hyperlink{classns3_1_1MmWaveEnbPhy_a5c2d760ae23133aae1b22b513a864192}{Add\+Gaussian\+Noise} (double sample)
\item 
std\+::pair$<$ uint64\+\_\+t, uint64\+\_\+t $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a0e187efd67bd94a6ace7856777aafe8d}{Apply\+Filter} (std\+::vector$<$ double $>$)
\item 
double \hyperlink{classns3_1_1MmWaveEnbPhy_ac8702bd18540548b2b3c22e6f321f2d4}{Make\+Avg} (std\+::vector$<$ double $>$)
\item 
double \hyperlink{classns3_1_1MmWaveEnbPhy_ad8b13e8ca6de657b7a6ad79a7d2831d1}{Make\+Var} (std\+::vector$<$ double $>$, double)
\item 
std\+::vector$<$ double $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_aa3e7651d7614326c712525bebb65066d}{Make\+Filter} (std\+::vector$<$ double $>$, std\+::vector$<$ double $>$, std\+::pair$<$ uint64\+\_\+t, uint64\+\_\+t $>$)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a81c6a815d89901efeaa1abc450449ef3}{Set\+Stream} (std\+::ostream $\ast$stream)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1MmWaveEnbPhy_a9d3cfef5a3c79b532d6f349898f69080}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{is\+Addtional\+Mm\+Wav\+Phy} =\hyperlink{lte__cqi__generation_8m_ab1bef239d413c4da139c4bac92cd657a}{false}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classns3_1_1MmWaveEnbPhy_ad1cc745b4aad6c2077f6598d827c1740}{Add\+Ue\+Phy} (uint16\+\_\+t rnti)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a5b4b493cc750cc598a49852f012b8d95}{Do\+Set\+Bandwidth} (uint8\+\_\+t ul\+Bandwidth, uint8\+\_\+t dl\+Bandwidth)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a228a4c97ff1357f6fa0bff3b81d1a33f}{Do\+Set\+Earfcn} (uint16\+\_\+t dl\+Earfcn, uint16\+\_\+t ul\+Earfcn)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_abb736ddd1a3a4810a9ed33e7a99c6513}{Do\+Add\+Ue} (uint16\+\_\+t rnti)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a6e36e4633558135ae94c57b16de486c7}{Do\+Remove\+Ue} (uint16\+\_\+t rnti)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a1ad1c792c6d7e2d8646f2f6685cd7b50}{Do\+Set\+Pa} (uint16\+\_\+t rnti, double pa)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_af67807cf040619075d5341c7dacd022e}{Do\+Set\+Transmission\+Mode} (uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_ae59957c3903e04236f2dc667ccd028a6}{Do\+Set\+Srs\+Configuration\+Index} (uint16\+\_\+t rnti, uint16\+\_\+t src\+Ci)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a660c7782964037643f9e600e494d7ec7}{Do\+Set\+Master\+Information\+Block} (\hyperlink{structns3_1_1LteRrcSap_1_1MasterInformationBlock}{Lte\+Rrc\+Sap\+::\+Master\+Information\+Block} mib)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a0993d57b331351f6cd6e4de0ef1557a1}{Do\+Set\+System\+Information\+Block\+Type1} (\hyperlink{structns3_1_1LteRrcSap_1_1SystemInformationBlockType1}{Lte\+Rrc\+Sap\+::\+System\+Information\+Block\+Type1} sib1)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a9536f7eba5206318b4108d847a5fbc4e}{Do\+Set\+Bandwidth} (uint8\+\_\+t \hyperlink{lte__link__budget__x2__handover__measures_8m_aeca2567c1a41f6306bac61b92ea168d2}{Bandwidth})
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a196647c1f755d612aa522e4bfbdb3f0d}{Do\+Set\+Earfcn} (uint16\+\_\+t Earfcn)
\item 
void \hyperlink{classns3_1_1MmWaveEnbPhy_a1ac1030adc34dca45fd6b7ea43af609a}{Queue\+Ul\+Tb\+Alloc} (\hyperlink{structns3_1_1TbAllocInfo}{Tb\+Alloc\+Info} tb\+Alloc\+Info)
\item 
\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{structns3_1_1TbAllocInfo}{Tb\+Alloc\+Info} $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a5c16587c7d19a6c22f77b85e025a9262}{Dequeue\+Ul\+Tb\+Alloc} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1MmWaveEnbPhy_a009230227393f4585df5440133f1a52b}{m\+\_\+curr\+Sf\+Num\+Slots}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1MmWaveEnbPhy_a4f5ae1386b8d7ab3edf6a54703184813}{m\+\_\+num\+Rbg}
\item 
std\+::set$<$ uint64\+\_\+t $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_ae65ce74b0d1344c5c5b542fa29549973}{m\+\_\+ue\+Attached}
\item 
std\+::vector$<$ int $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_aa13c933468e02fe5f7f10a6a68cea43e}{m\+\_\+list\+Of\+Subchannels}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1MmWaveEnbPhy_a4e01aff86dbfdfad888e7e08645535d8}{m\+\_\+prev\+Slot}
\item 
\hyperlink{structns3_1_1SlotAllocInfo_a6cad60db1d39034f1851e2cea625fe5d}{Slot\+Alloc\+Info\+::\+Tdd\+Mode} \hyperlink{classns3_1_1MmWaveEnbPhy_a92d3298da69cf554e4bd1ed5dbf37a08}{m\+\_\+prev\+Slot\+Dir}
\item 
std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{m\+\_\+device\+Map}
\item 
\hyperlink{classns3_1_1MmWaveEnbPhySapUser}{Mm\+Wave\+Enb\+Phy\+Sap\+User} $\ast$ \hyperlink{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{m\+\_\+phy\+Sap\+User}
\item 
\hyperlink{classns3_1_1LteEnbCphySapProvider}{Lte\+Enb\+Cphy\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1MmWaveEnbPhy_a06aa17cb3a6b1d376db7dfc8efe56499}{m\+\_\+enb\+Cphy\+Sap\+Provider}
\item 
\hyperlink{classns3_1_1LteEnbCphySapUser}{Lte\+Enb\+Cphy\+Sap\+User} $\ast$ \hyperlink{classns3_1_1MmWaveEnbPhy_ac5d84411029763cff0e7a1437c3a9397}{m\+\_\+enb\+Cphy\+Sap\+User}
\item 
\hyperlink{structns3_1_1LteRrcSap_1_1SystemInformationBlockType1}{Lte\+Rrc\+Sap\+::\+System\+Information\+Block\+Type1} \hyperlink{classns3_1_1MmWaveEnbPhy_a772e412012e0b50873b4e250de2696a2}{m\+\_\+sib1}
\item 
std\+::set$<$ uint16\+\_\+t $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\+\_\+ue\+Attached\+Rnti}
\item 
std\+::map$<$ uint64\+\_\+t, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a1e8b3730ff37d9fc19d9ec07f06e6be5}{m\+\_\+ue\+Attached\+Imsi\+Map}
\item 
std\+::map$<$ uint64\+\_\+t, double $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a754de7cf4bdbe107dfb006a5b332842a}{m\+\_\+sinr\+Map}
\item 
std\+::map$<$ uint64\+\_\+t, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a40b3813d00f430aed47e1ee084df4d78}{m\+\_\+rx\+Psd\+Map}
\item 
std\+::map$<$ \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pair\+Devices\+\_\+t}, std\+::vector$<$ double $>$ $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\+\_\+sinr\+Vector}
\item 
std\+::map$<$ \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pair\+Devices\+\_\+t}, std\+::vector$<$ double $>$ $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\+\_\+sinr\+Vector\+To\+Filter}
\item 
std\+::map$<$ \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pair\+Devices\+\_\+t}, std\+::vector$<$ double $>$ $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a796cebfd5468736861afc539d2ec4098}{m\+\_\+sinr\+Vector\+Noisy}
\item 
std\+::map$<$ \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pair\+Devices\+\_\+t}, std\+::vector$<$ double $>$ $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}{m\+\_\+final\+Sinr\+Vector}
\item 
std\+::map$<$ \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pair\+Devices\+\_\+t}, std\+::pair$<$ uint64\+\_\+t, uint64\+\_\+t $>$ $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_afee86fc55fdcef25ada2042be5740c62}{m\+\_\+samples\+Filter}
\item 
int \hyperlink{classns3_1_1MmWaveEnbPhy_af5b7224db4adb4c546e71ec42ce82703}{m\+\_\+update\+Sinr\+Period}
\item 
double \hyperlink{classns3_1_1MmWaveEnbPhy_aba71f2faaa7e68f79e9156d37c6fed57}{m\+\_\+ue\+Update\+Sinr\+Period}
\item 
double \hyperlink{classns3_1_1MmWaveEnbPhy_a3503822fc1d570af3806d0fa70d1a9f0}{m\+\_\+update\+Sinr\+Collect}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1MmWaveEnbPhy_a708a523883e45c2b4d369b4367327fd8}{m\+\_\+round\+From\+Last\+Ue\+Sinr\+Update}
\item 
double \hyperlink{classns3_1_1MmWaveEnbPhy_a60467889c9c76cba890f049098f4a822}{m\+\_\+transient}
\item 
bool \hyperlink{classns3_1_1MmWaveEnbPhy_adc49fae3719fbc3f8bfed9b49b04a6c6}{m\+\_\+noise\+And\+Filter}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWaveHarqPhy}{Mm\+Wave\+Harq\+Phy} $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_aa3e3b7fb0c5994726f3671b0afc51c58}{m\+\_\+harq\+Phy\+Module}
\item 
std\+::vector$<$ int $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a0aa065c471eb33a7bf9ba6acb966b8ff}{m\+\_\+channel\+Chunks}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MmWaveEnbPhy_a164bffc51f5edf0109f976a874bd3123}{m\+\_\+sf\+Period}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MmWaveEnbPhy_aa928d54402d87640ee61f0c3b5cf2e0c}{m\+\_\+last\+Sf\+Start}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1MmWaveEnbPhy_acabeb79f3613d2a6f8fcd44732e1da1b}{m\+\_\+curr\+Sym\+Start}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ uint64\+\_\+t, \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} \&, \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} \& $>$ \hyperlink{classns3_1_1MmWaveEnbPhy_a4a821af3f7946233c2c50831f6f5041a}{m\+\_\+ul\+Sinr\+Trace}
\item 
std\+::ostream $\ast$ \hyperlink{classns3_1_1MmWaveEnbPhy_a7295a3929ce0574f3b4bc5db5aa170af}{stream\+\_\+sinr}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1MmWaveEnbPhy_ac5bd741ead09417b54468f3f868003bc}{Member\+Lte\+Enb\+Cphy\+Sap\+Provider$<$ Mm\+Wave\+Enb\+Phy $>$}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Mm\+Wave\+Enb\+Phy@{Mm\+Wave\+Enb\+Phy}}
\index{Mm\+Wave\+Enb\+Phy@{Mm\+Wave\+Enb\+Phy}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Mm\+Wave\+Enb\+Phy()}{MmWaveEnbPhy()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Mm\+Wave\+Enb\+Phy (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_ac81f0b473262b78aad27fc668e90eef2}{}\label{classns3_1_1MmWaveEnbPhy_ac81f0b473262b78aad27fc668e90eef2}

\begin{DoxyCode}
78 \{
79         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
80         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"This constructor should not be called"});
81 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Mm\+Wave\+Enb\+Phy@{Mm\+Wave\+Enb\+Phy}}
\index{Mm\+Wave\+Enb\+Phy@{Mm\+Wave\+Enb\+Phy}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Mm\+Wave\+Enb\+Phy(\+Ptr$<$ Mm\+Wave\+Spectrum\+Phy $>$, Ptr$<$ Mm\+Wave\+Spectrum\+Phy $>$)}{MmWaveEnbPhy(Ptr< MmWaveSpectrumPhy >, Ptr< MmWaveSpectrumPhy >)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Mm\+Wave\+Enb\+Phy (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mm\+Wave\+Spectrum\+Phy} $>$}]{dl\+Phy, }
\item[{{\bf Ptr}$<$ {\bf Mm\+Wave\+Spectrum\+Phy} $>$}]{ul\+Phy}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a1a187906c7eea07b987f27ab0fd95537}{}\label{classns3_1_1MmWaveEnbPhy_a1a187906c7eea07b987f27ab0fd95537}

\begin{DoxyCode}
84     :\hyperlink{classns3_1_1MmWavePhy_a09ab3a0e8114e43dd531977bca8c5f97}{MmWavePhy} (dlPhy, ulPhy),
85         \hyperlink{classns3_1_1MmWaveEnbPhy_a4e01aff86dbfdfad888e7e08645535d8}{m\_prevSlot} (0),
86   \hyperlink{classns3_1_1MmWaveEnbPhy_a92d3298da69cf554e4bd1ed5dbf37a08}{m\_prevSlotDir} (\hyperlink{structns3_1_1SlotAllocInfo_a6cad60db1d39034f1851e2cea625fe5da0d73824eefc581199f1d80dca578ee93}{SlotAllocInfo::NA}),
87   \hyperlink{classns3_1_1MmWaveEnbPhy_acabeb79f3613d2a6f8fcd44732e1da1b}{m\_currSymStart} (0)
88 \{
89         \hyperlink{classns3_1_1MmWaveEnbPhy_a06aa17cb3a6b1d376db7dfc8efe56499}{m\_enbCphySapProvider} = \textcolor{keyword}{new} 
      \hyperlink{classns3_1_1MmWaveEnbPhy_ac5bd741ead09417b54468f3f868003bc}{MemberLteEnbCphySapProvider<MmWaveEnbPhy>} (\textcolor{keyword}{this});
90         \hyperlink{classns3_1_1MmWaveEnbPhy_a708a523883e45c2b4d369b4367327fd8}{m\_roundFromLastUeSinrUpdate} = 0;
91         \hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy}=\textcolor{keyword}{false};
92         \hyperlink{classns3_1_1Simulator_a2219ee02c0647adc83d1c918c3256266}{Simulator::ScheduleNow} (&
      \hyperlink{classns3_1_1MmWaveEnbPhy_af066571ea81c9b07cb94f84e5297c11d}{MmWaveEnbPhy::StartSubFrame}, \textcolor{keyword}{this});
93 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!````~Mm\+Wave\+Enb\+Phy@{$\sim$\+Mm\+Wave\+Enb\+Phy}}
\index{````~Mm\+Wave\+Enb\+Phy@{$\sim$\+Mm\+Wave\+Enb\+Phy}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{$\sim$\+Mm\+Wave\+Enb\+Phy()}{~MmWaveEnbPhy()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Mm\+Wave\+Enb\+Phy\+::$\sim$\+Mm\+Wave\+Enb\+Phy (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a55e3eb920b1eeb9d4cec4e9db9cbddb6}{}\label{classns3_1_1MmWaveEnbPhy_a55e3eb920b1eeb9d4cec4e9db9cbddb6}

\begin{DoxyCode}
96 \{
97 
98 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Add\+Gaussian\+Noise@{Add\+Gaussian\+Noise}}
\index{Add\+Gaussian\+Noise@{Add\+Gaussian\+Noise}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Add\+Gaussian\+Noise(double sample)}{AddGaussianNoise(double sample)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Add\+Gaussian\+Noise (
\begin{DoxyParamCaption}
\item[{double}]{sample}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a5c2d760ae23133aae1b22b513a864192}{}\label{classns3_1_1MmWaveEnbPhy_a5c2d760ae23133aae1b22b513a864192}

\begin{DoxyCode}
266 \{
267         \textcolor{keywordtype}{double} N0 = 3.98107170e-12;
268         std::complex<double> gaussianNoise;
269         \textcolor{keywordtype}{double} signalEnergy;
270         \textcolor{keywordtype}{double} noisySample;
271 
272         Ptr<NormalRandomVariable> randomVariable = CreateObject<NormalRandomVariable> ();
273         \textcolor{keywordtype}{double} gaussianSampleRe = randomVariable->GetValue();
274         \textcolor{keywordtype}{double} gaussianSampleIm = randomVariable->GetValue();
275         gaussianNoise = std::complex<double>(sqrt(0.5) * sqrt(N0) * gaussianSampleRe , sqrt(0.5) * sqrt(N0)
       * gaussianSampleIm);
276         
277         signalEnergy = LastSinrValue*N0;
278 
279         noisySample = (std::pow(std::abs(sqrt(signalEnergy)+gaussianNoise),2)-N0)/N0;
280                                 
281         \textcolor{keywordflow}{return} noisySample;
282 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Add\+Ue\+Phy@{Add\+Ue\+Phy}}
\index{Add\+Ue\+Phy@{Add\+Ue\+Phy}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Add\+Ue\+Phy(uint64\+\_\+t imsi, Ptr$<$ Net\+Device $>$ ue\+Device)}{AddUePhy(uint64_t imsi, Ptr< NetDevice > ueDevice)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Add\+Ue\+Phy (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{imsi, }
\item[{{\bf Ptr}$<$ {\bf Net\+Device} $>$}]{ue\+Device}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_adc28805fe2c01c24bc0eea1f767b231f}{}\label{classns3_1_1MmWaveEnbPhy_adc28805fe2c01c24bc0eea1f767b231f}
virtual void Send\+Ideal\+Control\+Message(\+Ptr$<$\+Ideal\+Control\+Message$>$ msg); virtual void Receive\+Ideal\+Control\+Message(\+Ptr$<$\+Ideal\+Control\+Message$>$ msg) 
\begin{DoxyCode}
1523 \{
1524         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this}<<imsi);
1525         std::set <uint64\_t>::iterator it;
1526         it = \hyperlink{classns3_1_1MmWaveEnbPhy_ae65ce74b0d1344c5c5b542fa29549973}{m\_ueAttached}.find(imsi);
1527 
1528         \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1MmWaveEnbPhy_ae65ce74b0d1344c5c5b542fa29549973}{m\_ueAttached}.end ())
1529         \{
1530                 \hyperlink{classns3_1_1MmWaveEnbPhy_ae65ce74b0d1344c5c5b542fa29549973}{m\_ueAttached}.insert(imsi);
1531                 \hyperlink{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{m\_deviceMap}.push\_back(ueDevice);
1532                 \hyperlink{classns3_1_1MmWaveEnbPhy_a1e8b3730ff37d9fc19d9ec07f06e6be5}{m\_ueAttachedImsiMap}[imsi] = ueDevice;
1533                 \textcolor{keywordflow}{return} (\textcolor{keyword}{true});
1534         \}
1535         \textcolor{keywordflow}{else}
1536         \{
1537                 \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Programming error...UE already attached"});
1538                 \textcolor{keywordflow}{return} (\textcolor{keyword}{false});
1539         \}
1540 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Add\+Ue\+Phy@{Add\+Ue\+Phy}}
\index{Add\+Ue\+Phy@{Add\+Ue\+Phy}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Add\+Ue\+Phy(uint16\+\_\+t rnti)}{AddUePhy(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Add\+Ue\+Phy (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_ad1cc745b4aad6c2077f6598d827c1740}{}\label{classns3_1_1MmWaveEnbPhy_ad1cc745b4aad6c2077f6598d827c1740}

\begin{DoxyCode}
1667 \{
1668   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
1669   std::set <uint16\_t>::iterator it;
1670   it = \hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\_ueAttachedRnti}.find (rnti);
1671   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\_ueAttachedRnti}.end ())
1672     \{
1673           \hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\_ueAttachedRnti}.insert (rnti);
1674       \textcolor{keywordflow}{return} (\textcolor{keyword}{true});
1675     \}
1676   \textcolor{keywordflow}{else}
1677     \{
1678       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"UE already attached"});
1679       \textcolor{keywordflow}{return} (\textcolor{keyword}{false});
1680     \}
1681 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Apply\+Filter@{Apply\+Filter}}
\index{Apply\+Filter@{Apply\+Filter}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Apply\+Filter(std\+::vector$<$ double $>$)}{ApplyFilter(std::vector< double >)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::pair$<$ uint64\+\_\+t, uint64\+\_\+t $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Apply\+Filter (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ double $>$}]{noisy\+Sinr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a0e187efd67bd94a6ace7856777aafe8d}{}\label{classns3_1_1MmWaveEnbPhy_a0e187efd67bd94a6ace7856777aafe8d}

\begin{DoxyCode}
288 \{
289         std::vector<double> noisySinrdB;
290         \textcolor{keywordflow}{for} (uint64\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < noisySinr.size(); ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
291         \{
292                 noisySinrdB.push\_back(10*std::log10(noisySinr.at(\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})));
293         \}       
294 
295         std::vector<double> vectorVar;
296         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"noisySinrdBSize() "} << noisySinrdB.size());
297         \textcolor{keywordflow}{for} (uint64\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < noisySinrdB.size()-1; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
298         \{       
299                 std::vector<double> partialSamples;
300                 partialSamples.push\_back(noisySinrdB.at(\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
301                 partialSamples.push\_back(noisySinrdB.at(\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}+1));
302                 \textcolor{keywordtype}{double} meanValue = \hyperlink{classns3_1_1MmWaveEnbPhy_ac8702bd18540548b2b3c22e6f321f2d4}{MakeAvg}(partialSamples);
303                 \textcolor{keywordtype}{double} varValue = \hyperlink{classns3_1_1MmWaveEnbPhy_ad8b13e8ca6de657b7a6ad79a7d2831d1}{MakeVar}(partialSamples,meanValue);
304                 vectorVar.push\_back(varValue);
305                 partialSamples.clear();
306         \}
307 
308         uint64\_t startFilter = 1e6;
309         uint64\_t endFilter = 1e6;
310 
311         \textcolor{keywordtype}{bool} flagStartFilter = \textcolor{keyword}{true};
312         \textcolor{keywordtype}{bool} flagEndFilter = \textcolor{keyword}{true};
313 
314         uint64\_t noisySinrIndex = 0;
315 
316         \textcolor{keywordflow}{for} (uint64\_t varIndex = vectorVar.size()-1; varIndex > 0; varIndex--) \textcolor{comment}{// start filter when
       variance of the noisy trace is high}
317         \{
318                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"varIndex "} << varIndex);
319                 noisySinrIndex = varIndex + 1;
320                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"vectorVar[i] "} << vectorVar.at(varIndex));
321                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"vectorVar[i] == NaN "} << (std::isnan(vectorVar.at(varIndex))));
322                 \textcolor{keywordtype}{bool} highVariance = (vectorVar.at(varIndex) > 5 || std::isnan(vectorVar.at(varIndex)));
323                 \textcolor{keywordtype}{bool} lowSinr = noisySinr.at(noisySinrIndex) < 10;
324 
325                 \textcolor{keywordflow}{if} (highVariance || (lowSinr && !highVariance))  \textcolor{comment}{// filter is applied only for low-SINR
       regimes [dB]}
326                 \{
327                         endFilter = noisySinrIndex;
328                         flagEndFilter = \textcolor{keyword}{false}; \textcolor{comment}{// a "start" sample has been identified}
329                         \textcolor{keywordflow}{break};
330                 \}
331         \}
332 
333         \textcolor{keywordflow}{if} (flagEndFilter) \textcolor{comment}{// in this case, we can avoid the filtering}
334         \{
335                 endFilter = 0; 
336         \}
337 
338         \textcolor{comment}{/* in this case, consider at least a window of 15 samples, after which we can consider}
339 \textcolor{comment}{        * as we are leaving the blockage phase and we start coming back to LOS PL regimes}
340 \textcolor{comment}{        */}
341         uint64\_t varIndex = 0;
342         uint64\_t numberOfVarWindow = 16;
343         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"VectorVarSize() "} << vectorVar.size());
344         \textcolor{keywordflow}{for} (uint64\_t noisySinrIndex = endFilter; noisySinrIndex > numberOfVarWindow; --noisySinrIndex) \textcolor{comment}{//
       must be at least after the beginnning of the blocakge}
345         \{
346                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"noisySinrIndex "} << noisySinrIndex);
347                 varIndex = noisySinrIndex - 1;
348                 
349                 std::vector<double>::const\_iterator first = vectorVar.begin() + varIndex; 
350                 std::vector<double>::const\_iterator last = vectorVar.begin() + varIndex - (
      numberOfVarWindow - 1); \textcolor{comment}{// vectorVar has one sample less than noisySinrdB}
351                 std::vector<double> prov (last,first); 
352 
353                 std::vector<double>::const\_iterator firstNoisy = noisySinrdB.begin() + noisySinrIndex; 
354                 std::vector<double>::const\_iterator lastNoisy = noisySinrdB.begin() + noisySinrIndex - 
      numberOfVarWindow;
355                 std::vector<double> provNoisy (lastNoisy,firstNoisy);
356 
357                 \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"provNoisy.size "} << provNoisy.size());
358                 \textcolor{keywordflow}{for}(std::vector<double>::const\_iterator h = provNoisy.begin(); h!=provNoisy.end(); h++)
359                 \{
360                         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"h "} << *h);
361                         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"i "} << noisySinrIndex  );
362                         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"hh "} << *(noisySinrdB.begin() + noisySinrIndex - 
      numberOfVarWindow));
363                 \}
364 
365 
366                 \textcolor{comment}{/* the filtering ends when the variance of the noisy trace is almost the same, so when}
367 \textcolor{comment}{                * the SINR is on sufficiently high values}
368 \textcolor{comment}{                */}
369                 
370                 \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() > \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds}(2.1) && 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() < \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds}(2.3))
371                 \{
372                         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"(std::all\_of(prov.begin(),prov.end(), [](double j)\{return
       j < 1;\})) "} << (std::all\_of(prov.begin(),prov.end(), [](\textcolor{keywordtype}{double} j)\{\textcolor{keywordflow}{return} j < 1;\})));    
373                         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"(std::all\_of(prov.begin(),prov.end(), [](double
       j)\{nan;\})) "} << (std::all\_of(prov.begin(),prov.end(), [](\textcolor{keywordtype}{double} k)\{\textcolor{keywordflow}{return} !std::isnan(k);\})));
374                         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"(std::all\_of(provNoisy.begin(),provNoisy.end(), [](double
       p)\{return p > 10;\})) "} << (std::all\_of(provNoisy.begin(),provNoisy.end(), [](\textcolor{keywordtype}{double} 
      \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p})\{\textcolor{keywordflow}{return} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} > 10;\})));
375                 \}
376 
377                 \textcolor{keywordflow}{if} (((std::all\_of(prov.begin(),prov.end(), [](\textcolor{keywordtype}{double} j)\{\textcolor{keywordflow}{return} j < 1;\})) && 
378                         (std::all\_of(prov.begin(),prov.end(), [](\textcolor{keywordtype}{double} k)\{\textcolor{keywordflow}{return} !std::isnan(k);\}))) || 
379                         (std::all\_of(provNoisy.begin(),provNoisy.end(), [](\textcolor{keywordtype}{double} 
      \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p})\{\textcolor{keywordflow}{return} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} > 10;\})))
380                 \{
381                         startFilter = noisySinrIndex;
382                         flagStartFilter = \textcolor{keyword}{false}; \textcolor{comment}{// a "end" sample has been identified}
383                         \textcolor{keywordflow}{break};
384                 \}
385                 
386                 \textcolor{comment}{// bool lowVariance = (vectorVar.at(varIndex) < 1 && !std::isnan(vectorVar.at(varIndex)));}
387                 \textcolor{comment}{// bool highSinr = noisySinr.at(noisySinrIndex) > 10;}
388 
389                 \textcolor{comment}{// if (highSinr && lowVariance)  // filter is applied only for low-SINR regimes [dB]}
390                 \textcolor{comment}{// \{}
391                 \textcolor{comment}{//      startFilter = noisySinrIndex;}
392                 \textcolor{comment}{//      flagStartFilter = false; // a "start" sample has been identified}
393                 \textcolor{comment}{//      break;}
394                 \textcolor{comment}{// \}}
395 
396         \}
397 
398         \textcolor{keywordflow}{if} (flagStartFilter) \textcolor{comment}{// in this case, filter till the end of the trace}
399         \{
400                 startFilter = 0;
401         \}
402 
403 
404         std::pair< uint64\_t , uint64\_t > pairFiltering = std::make\_pair(startFilter,endFilter);
405 
406         \textcolor{keywordflow}{return} pairFiltering;
407 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Calc\+Channel\+Quality\+For\+Ue@{Calc\+Channel\+Quality\+For\+Ue}}
\index{Calc\+Channel\+Quality\+For\+Ue@{Calc\+Channel\+Quality\+For\+Ue}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Calc\+Channel\+Quality\+For\+Ue(std\+::vector$<$ double $>$ sinr, Ptr$<$ Mm\+Wave\+Spectrum\+Phy $>$ ue)}{CalcChannelQualityForUe(std::vector< double > sinr, Ptr< MmWaveSpectrumPhy > ue)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Calc\+Channel\+Quality\+For\+Ue (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ double $>$}]{sinr, }
\item[{{\bf Ptr}$<$ {\bf Mm\+Wave\+Spectrum\+Phy} $>$}]{ue}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_af8a1a892c01cd11c3de0909b2a37bf07}{}\label{classns3_1_1MmWaveEnbPhy_af8a1a892c01cd11c3de0909b2a37bf07}

\begin{DoxyCode}
541 \{
542 
543 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Call\+Pathloss@{Call\+Pathloss}}
\index{Call\+Pathloss@{Call\+Pathloss}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Call\+Pathloss()}{CallPathloss()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Call\+Pathloss (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a5ebec66c2776262f3d54c43ee1cc34db}{}\label{classns3_1_1MmWaveEnbPhy_a5ebec66c2776262f3d54c43ee1cc34db}

\begin{DoxyCode}
582 \{
583         \textcolor{comment}{/* THIS METHOD IS JUST USED TO LOOK THROUGH THE ALL EXPERIMENTAL SINR ADITYA'S TRACE}
584 \textcolor{comment}{        EVEN WHEN THE SINR COMPUTATION IS NOT REQUIRED (SINCE THE SINR TRACE IS MADE EVERY 125MICROSECONDS)
       */}
585  \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION}(\textcolor{keyword}{this});
586         Ptr<SpectrumValue> noisePsd = 
      \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_ae17f7f89a0ce6934b94886b463c6db44}{MmWaveSpectrumValueHelper::CreateNoisePowerSpectralDensity}
       (\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}, \hyperlink{classns3_1_1MmWavePhy_ac3010f7611906c8dc5e93bc13ff79819}{m\_noiseFigure});
587         Ptr<SpectrumValue> totalReceivedPsd = Create <SpectrumValue> (SpectrumValue(noisePsd->
      GetSpectrumModel()));
588 
589         \textcolor{keywordflow}{for}(std::map<uint64\_t, Ptr<NetDevice> >::iterator ue = 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1e8b3730ff37d9fc19d9ec07f06e6be5}{m\_ueAttachedImsiMap}.begin(); ue != \hyperlink{classns3_1_1MmWaveEnbPhy_a1e8b3730ff37d9fc19d9ec07f06e6be5}{m\_ueAttachedImsiMap}.end(); ++ue)
590         \{
591                 \textcolor{comment}{// distinguish between MC and MmWaveNetDevice}
592                 Ptr<MmWaveUeNetDevice> ueNetDevice = DynamicCast<MmWaveUeNetDevice> (ue->second);
593                 Ptr<McUeNetDevice> mcUeDev = DynamicCast<McUeNetDevice> (ue->second);
594                 Ptr<MmWaveUePhy> uePhy;
595 
596                 \textcolor{comment}{// get tx power}
597                 \textcolor{keywordtype}{double} ueTxPower = 0;
598                 \textcolor{keywordflow}{if}(ueNetDevice != 0) 
599                 \{
600                         uePhy = ueNetDevice->GetPhy();
601                         ueTxPower = uePhy->GetTxPower();
602                 \}
603                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mcUeDev != 0) \textcolor{comment}{// it may be a MC device}
604                 \{
605                         
606 
607 
608                         \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy}) \textcolor{comment}{//sjkang}
609                                 uePhy = mcUeDev->GetMmWavePhy\_2 ();
610                         \textcolor{keywordflow}{else}
611                                 uePhy = mcUeDev->GetMmWavePhy ();
612 
613                         ueTxPower = uePhy->GetTxPower();
614 
615                 \}
616                 \textcolor{keywordflow}{else}
617                 \{
618                         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR}(\textcolor{stringliteral}{"Unrecognized device"});
619                 \}
620                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"UE Tx power = "} << ueTxPower);
621             \textcolor{keywordtype}{double} powerTxW = std::pow (10., (ueTxPower - 30) / 10);
622             \textcolor{keywordtype}{double} txPowerDensity = 0;
623         txPowerDensity = (powerTxW / (\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a8a0b7aa68fc805eb3e8cbdc289fde04c}{GetSystemBandwidth}()));
624             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"Linear UE Tx power = "} << powerTxW);
625             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"System bandwidth = "} << \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a8a0b7aa68fc805eb3e8cbdc289fde04c}{GetSystemBandwidth}());
626             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"txPowerDensity = "} << txPowerDensity);
627                 \textcolor{comment}{// create tx psd}
628                 Ptr<SpectrumValue> \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd} =                                         \textcolor{comment}{// it is the eNB
       that dictates the conf, m\_listOfSubchannels contains all the subch}
629                         \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_a1a968ae81d81f346027fe474e7962148}{MmWaveSpectrumValueHelper::CreateTxPowerSpectralDensity}
       (\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}, ueTxPower, \hyperlink{classns3_1_1MmWaveEnbPhy_aa13c933468e02fe5f7f10a6a68cea43e}{m\_listOfSubchannels});
630                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"TxPsd "} << *txPsd);
631 
632                 \textcolor{comment}{// get this node and remote node mobility}
633                 Ptr<MobilityModel> enbMob = \hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice}->GetNode()->GetObject<MobilityModel>(); 
634                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"eNB mobility "} << enbMob->GetPosition());
635                 Ptr<MobilityModel> ueMob = ue->second->GetNode()->GetObject<MobilityModel>();
636                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"UE mobility "} << ueMob->GetPosition());
637                 
638                 \textcolor{comment}{// compute rx psd}
639 
640                 \textcolor{comment}{// adjuts beamforming of antenna model wrt user}
641                 Ptr<AntennaArrayModel> rxAntennaArray = DynamicCast<AntennaArrayModel> (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}{GetDlSpectrumPhy} ()->GetRxAntenna());
642                 rxAntennaArray->ChangeBeamformingVector (ue->second);                                                                   \textcolor{comment}{
      // TODO check if this is the correct antenna}
643                 Ptr<AntennaArrayModel> txAntennaArray = DynamicCast<AntennaArrayModel> (uePhy->
      GetDlSpectrumPhy ()->GetRxAntenna());
644                 txAntennaArray->ChangeBeamformingVector (\hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice});                                                                       \textcolor{comment}{
      // TODO check if this is the correct antenna}
645 
646                 \textcolor{keywordtype}{double} pathLossDb = 0;
647                 \textcolor{keywordflow}{if} (txAntennaArray != 0)
648                 \{
649                   Angles txAngles (enbMob->GetPosition (), ueMob->GetPosition ());
650                   \textcolor{keywordtype}{double} txAntennaGain = txAntennaArray->GetGainDb (txAngles);
651                   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"txAntennaGain = "} << txAntennaGain << \textcolor{stringliteral}{" dB"});
652                   pathLossDb -= txAntennaGain;
653                 \}
654                 \textcolor{keywordflow}{if} (rxAntennaArray != 0)
655                 \{
656                   Angles rxAngles (ueMob->GetPosition (), enbMob->GetPosition ());
657                   \textcolor{keywordtype}{double} rxAntennaGain = rxAntennaArray->GetGainDb (rxAngles);
658                   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"rxAntennaGain = "} << rxAntennaGain << \textcolor{stringliteral}{" dB"});
659                   pathLossDb -= rxAntennaGain;
660                 \}
661                 \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_ae16faa8d6eeee2cc0cc712b0ccb62064}{m\_propagationLoss})
662                 \{
663                         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_a614158bb98ad735dc185e0d6eccc51a0}{m\_losTracker} != 0) \textcolor{comment}{// if I am using the PL propagation model with
       Aditya's traces}
664                         \{
665                                 \hyperlink{classns3_1_1MmWavePhy_a614158bb98ad735dc185e0d6eccc51a0}{m\_losTracker}->UpdateLosNlosState(ueMob,enbMob); \textcolor{comment}{// update the
       maps to keep trak of the real PL values, before computing the PL}
666                         \}
667                   \textcolor{keywordtype}{double} propagationGainDb = \hyperlink{classns3_1_1MmWavePhy_ae16faa8d6eeee2cc0cc712b0ccb62064}{m\_propagationLoss}->
      \hyperlink{classns3_1_1PropagationLossModel_a8b42564e9b03e2197f17aab6692c4fee}{CalcRxPower} (0, ueMob, enbMob);
668                   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"propagationGainDb = "} << propagationGainDb << \textcolor{stringliteral}{" dB"});
669                   pathLossDb -= propagationGainDb;
670                 \}                    
671                 \textcolor{comment}{//NS\_LOG\_DEBUG ("total pathLoss = " << pathLossDb << " dB");    }
672 
673                 \textcolor{keywordtype}{double} pathGainLinear = std::pow (10.0, (-pathLossDb) / 10.0);
674                 Ptr<SpectrumValue> rxPsd = txPsd->Copy();
675                 *(rxPsd) *= pathGainLinear;              
676                 \textcolor{comment}{//std::cout << this  << "\(\backslash\)t" << txPsd << std::endl;}
677                 Ptr<MmWaveBeamforming> beamforming = DynamicCast<MmWaveBeamforming> (
      \hyperlink{classns3_1_1MmWavePhy_a3d7feea996066a51496915c8c232daa4}{m\_spectrumPropagationLossModel});
678                 \textcolor{comment}{//beamforming->SetBeamformingVector(ue->second, m\_netDevice);}
679                 Ptr<MmWaveChannelMatrix> channelMatrix = DynamicCast<MmWaveChannelMatrix> (
      \hyperlink{classns3_1_1MmWavePhy_a3d7feea996066a51496915c8c232daa4}{m\_spectrumPropagationLossModel});
680                 Ptr<MmWaveChannelRaytracing> rayTracing = DynamicCast<MmWaveChannelRaytracing> (
      \hyperlink{classns3_1_1MmWavePhy_a3d7feea996066a51496915c8c232daa4}{m\_spectrumPropagationLossModel});
681                 \textcolor{keywordflow}{if} (beamforming != 0)
682                 \{
683                         \textcolor{comment}{//if (isAddtionalMmWavPhy) //sjkang}
684                         \textcolor{comment}{//      beamforming->isAdditionalMmWavePhy=true;}
685                         \textcolor{comment}{//else}
686                         \textcolor{comment}{//      beamforming->isAdditionalMmWavePhy=false;}
687                         rxPsd = beamforming->CalcRxPowerSpectralDensity(rxPsd, ueMob, enbMob);
688                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"RxPsd "} << *rxPsd);
689                 \}
690                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (channelMatrix != 0)
691                 \{
692                         rxPsd = channelMatrix->CalcRxPowerSpectralDensity(rxPsd, ueMob, enbMob);
693                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"RxPsd "} << *rxPsd);
694                 \}
695                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rayTracing != 0)
696                 \{
697                         rxPsd = rayTracing->CalcRxPowerSpectralDensity(rxPsd, ueMob, enbMob);
698                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"RxPsd "} << *rxPsd);
699                 \}
700                 \hyperlink{classns3_1_1MmWaveEnbPhy_a40b3813d00f430aed47e1ee084df4d78}{m\_rxPsdMap}[ue->first] = rxPsd;
701                 *totalReceivedPsd += *rxPsd;
702 
703                 \textcolor{comment}{// set back the bf vector to the main eNB}
704                 \textcolor{keywordflow}{if}(ueNetDevice != 0) 
705                 \{                                                                                                               \textcolor{comment}{
      // target not set yet}
706                         \textcolor{keywordflow}{if}((ueNetDevice->GetTargetEnb() != \hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice}) && (ueNetDevice->
      GetTargetEnb() != 0))
707                         \{
708                                 txAntennaArray->ChangeBeamformingVector(ueNetDevice->GetTargetEnb());
709                         \}
710                 \}
711                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mcUeDev != 0) \textcolor{comment}{// it may be a MC device}
712                 \{                                                                                                                       \textcolor{comment}{
      // target not set yet}
713                         \textcolor{comment}{//if(isAddtionalMmWavPhy)\{}
714                         \textcolor{keywordflow}{if}((mcUeDev->GetMmWaveTargetEnb() != \hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice}) && (mcUeDev->
      GetMmWaveTargetEnb() != 0) && !\hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy})
715                         \{
716                                 std::cout << \textcolor{keyword}{this} << \textcolor{stringliteral}{"---->"} << \textcolor{stringliteral}{"0 target Enb is --->"} <<
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy} <<std::endl;
717                                 \textcolor{comment}{//if(isAddtionalMmWavPhy)}
718 
719                                 txAntennaArray->ChangeBeamformingVector(mcUeDev->GetMmWaveTargetEnb());
720                                 \textcolor{comment}{//std::cout << this << "---->" << "0 target Enb is --->"
       <<isAddtionalMmWavPhy <<std::endl;}
721 
722 
723                         \}
724                         \textcolor{comment}{//\}//else \{}
725                                 \textcolor{keywordflow}{if}((mcUeDev->GetMmWaveTargetEnb\_2() != 
      \hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice}) && (mcUeDev->GetMmWaveTargetEnb\_2() != 0) && 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy}) \textcolor{comment}{//sjkang1117}
726                         \{
727                                 std::cout << \textcolor{keyword}{this} << \textcolor{stringliteral}{"---->"} << \textcolor{stringliteral}{"1 target Enb is----> "} <<
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy}<< std::endl;
728                                 \textcolor{comment}{//if(!isAddtionalMmWavPhy)}
729                                 txAntennaArray->ChangeBeamformingVector(mcUeDev->GetMmWaveTargetEnb\_2());
730                                 \textcolor{comment}{//std::cout << this << "---->" << "1 target Enb is----> "
       <<isAddtionalMmWavPhy<< std::endl;}
731 
732 
733                         \}
734                         \textcolor{comment}{//\}}
735                 \}
736                 \textcolor{keywordflow}{else}
737                 \{
738                         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR}(\textcolor{stringliteral}{"Unrecognized device"});
739                 \}
740 
741         \}
742 
743         \textcolor{keywordflow}{for}(std::map<uint64\_t, Ptr<SpectrumValue> >::iterator ue = \hyperlink{classns3_1_1MmWaveEnbPhy_a40b3813d00f430aed47e1ee084df4d78}{m\_rxPsdMap}.begin(); ue != 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a40b3813d00f430aed47e1ee084df4d78}{m\_rxPsdMap}.end(); ++ue)
744         \{
745                 SpectrumValue interference = *totalReceivedPsd - *(ue->second);
746                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"interference "} << interference);
747                 SpectrumValue sinr = *(ue->second)/(*noisePsd + interference);
748                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"sinr "} << sinr);
749                 \textcolor{keywordtype}{double} sinrAvg = \hyperlink{namespacens3_afad5475661952172fe6ef1260360dad8}{Sum}(sinr)/(sinr.GetSpectrumModel()->GetNumBands());
750                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"Real SINR every 125 microseconds is: "} << 10*std::log10(sinrAvg))
      ;
751         \}
752 
753         \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule}(\hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds}(125), &
      \hyperlink{classns3_1_1MmWaveEnbPhy_a5ebec66c2776262f3d54c43ee1cc34db}{MmWaveEnbPhy::CallPathloss}, \textcolor{keyword}{this}); \textcolor{comment}{// since one slot every 125 microseconds}
754 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}}
\index{Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Create\+Tx\+Power\+Spectral\+Density()}{CreateTxPowerSpectralDensity()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Create\+Tx\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a015a2751530829de95c6c92dfdd3a2ee}{}\label{classns3_1_1MmWaveEnbPhy_a015a2751530829de95c6c92dfdd3a2ee}


Compute the TX Power Spectral Density. 

\begin{DoxyReturn}{Returns}
a pointer to a newly allocated \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} representing the TX Power Spectral Density in W/\+Hz for each Resource Block 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1MmWavePhy_a0d0cd6f84e8ba27851c2a40a50d82d31}{ns3\+::\+Mm\+Wave\+Phy}.


\begin{DoxyCode}
547 \{
548         Ptr<SpectrumValue> psd =
549                         \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_a1a968ae81d81f346027fe474e7962148}{MmWaveSpectrumValueHelper::CreateTxPowerSpectralDensity}
       (\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}, \hyperlink{classns3_1_1MmWavePhy_ab2c43d2201e609a1c159c534e47788c1}{m\_txPower}, \hyperlink{classns3_1_1MmWaveEnbPhy_aa13c933468e02fe5f7f10a6a68cea43e}{m\_listOfSubchannels} );
550         \textcolor{keywordflow}{return} psd;
551 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Dequeue\+Ul\+Tb\+Alloc@{Dequeue\+Ul\+Tb\+Alloc}}
\index{Dequeue\+Ul\+Tb\+Alloc@{Dequeue\+Ul\+Tb\+Alloc}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Dequeue\+Ul\+Tb\+Alloc()}{DequeueUlTbAlloc()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std\+::list}$<${\bf Tb\+Alloc\+Info}$>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Dequeue\+Ul\+Tb\+Alloc (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a5c16587c7d19a6c22f77b85e025a9262}{}\label{classns3_1_1MmWaveEnbPhy_a5c16587c7d19a6c22f77b85e025a9262}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Add\+Ue@{Do\+Add\+Ue}}
\index{Do\+Add\+Ue@{Do\+Add\+Ue}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Add\+Ue(uint16\+\_\+t rnti)}{DoAddUe(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Add\+Ue (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_abb736ddd1a3a4810a9ed33e7a99c6513}{}\label{classns3_1_1MmWaveEnbPhy_abb736ddd1a3a4810a9ed33e7a99c6513}

\begin{DoxyCode}
1658 \{
1659         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
1660         \textcolor{keywordtype}{bool} success = \hyperlink{classns3_1_1MmWaveEnbPhy_adc28805fe2c01c24bc0eea1f767b231f}{AddUePhy} (rnti);
1661         \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (success, \textcolor{stringliteral}{"AddUePhy() failed"});
1662 
1663 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a3d20f3cf3e894fadeb08b42cca8e9da4}{}\label{classns3_1_1MmWaveEnbPhy_a3d20f3cf3e894fadeb08b42cca8e9da4}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1MmWaveEnbPhy_a3d20f3cf3e894fadeb08b42cca8e9da4}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
222 \{
223 
224 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Get\+Reference\+Signal\+Power@{Do\+Get\+Reference\+Signal\+Power}}
\index{Do\+Get\+Reference\+Signal\+Power@{Do\+Get\+Reference\+Signal\+Power}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Get\+Reference\+Signal\+Power() const }{DoGetReferenceSignalPower() const }}]{\setlength{\rightskip}{0pt plus 5cm}int8\+\_\+t ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Get\+Reference\+Signal\+Power (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MmWaveEnbPhy_a8786bf8abbd0520a028513d663ca56da}{}\label{classns3_1_1MmWaveEnbPhy_a8786bf8abbd0520a028513d663ca56da}

\begin{DoxyCode}
1735 \{
1736   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1737   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWavePhy_ab2c43d2201e609a1c159c534e47788c1}{m\_txPower};
1738 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Initialize@{Do\+Initialize}}
\index{Do\+Initialize@{Do\+Initialize}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Initialize(void)}{DoInitialize(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Initialize (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1MmWaveEnbPhy_ad591594eeb17ea029240b75c9f578578}{}\label{classns3_1_1MmWaveEnbPhy_ad591594eeb17ea029240b75c9f578578}
\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} implementation.

This method is called only once by \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()}. If the user calls \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} multiple times, \hyperlink{classns3_1_1MmWaveEnbPhy_ad591594eeb17ea029240b75c9f578578}{Do\+Initialize()} is called only the first time.

Subclasses are expected to override this method and chain up to their parent\textquotesingle{}s implementation once they are done. It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} and \hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{Aggregate\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1MmWavePhy_a4a5afbb66250562604dca60368ab187b}{ns3\+::\+Mm\+Wave\+Phy}.


\begin{DoxyCode}
168 \{
169         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
170         Ptr<SpectrumValue> noisePsd = 
      \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_ae17f7f89a0ce6934b94886b463c6db44}{MmWaveSpectrumValueHelper::CreateNoisePowerSpectralDensity}
       (\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}, \hyperlink{classns3_1_1MmWavePhy_ac3010f7611906c8dc5e93bc13ff79819}{m\_noiseFigure});
171         \hyperlink{classns3_1_1MmWavePhy_aa266d9d20ba903f9adf2695dd626b885}{m\_downlinkSpectrumPhy}->SetNoisePowerSpectralDensity (noisePsd);
172   \textcolor{comment}{//m\_numRbg = m\_phyMacConfig->GetNumRb() / m\_phyMacConfig->GetNumRbPerRbg();}
173         \textcolor{comment}{//m\_ctrlPeriod = NanoSeconds (1000 * m\_phyMacConfig->GetCtrlSymbols() *
       m\_phyMacConfig->GetSymbolPeriod());}
174         \textcolor{comment}{//m\_dataPeriod = NanoSeconds (1000 * (m\_phyMacConfig->GetSymbPerSlot() -
       m\_phyMacConfig->GetCtrlSymbols()) * m\_phyMacConfig->GetSymbolPeriod());}
175 
176         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a15d8a9077e0cc01988071eb3abe1f3de}{GetL1L2CtrlLatency}(); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
177         \{ \textcolor{comment}{// push elements onto queue for initial scheduling delay}
178                 \hyperlink{classns3_1_1MmWavePhy_ab8d262ef427a0c22ebb614f9991e7ce0}{m\_controlMessageQueue}.push\_back (\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std::list}<
      Ptr<MmWaveControlMessage> > ());
179         \}
180         \textcolor{comment}{//m\_sfAllocInfoUpdated = true;}
181 
182         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a97e82c809a351fea9d5058ac1bb4c3c6}{GetTotalNumChunk}(); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
183         \{
184                 \hyperlink{classns3_1_1MmWaveEnbPhy_a0aa065c471eb33a7bf9ba6acb966b8ff}{m\_channelChunks}.push\_back(\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
185         \}
186         \hyperlink{classns3_1_1MmWaveEnbPhy_a9e2456e5312a29007adfab81d5d79379}{SetSubChannels}(\hyperlink{classns3_1_1MmWaveEnbPhy_a0aa065c471eb33a7bf9ba6acb966b8ff}{m\_channelChunks});
187 
188         \hyperlink{classns3_1_1MmWaveEnbPhy_a164bffc51f5edf0109f976a874bd3123}{m\_sfPeriod} = \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds} (1000.0 * \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a1d402260d29c8931dd3dde73b295e23d}{GetSubframePeriod} ());
189 
190         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a3709cf52f6813eb8ad1af16d95082dc1}{GetSubframesPerFrame}(); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
191         \{
192                 \hyperlink{classns3_1_1MmWavePhy_a6e7002b99b8c50976033e0b96523f08c}{m\_sfAllocInfo}.push\_back (SfAllocInfo(SfnSf (
      \hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum}, \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, 0)));
193                 SlotAllocInfo dlCtrlSlot;
194                 dlCtrlSlot.m\_slotType = \hyperlink{structns3_1_1SlotAllocInfo_a3ea7cb503bfd0c9a4df55a71b81b9331ad78b7d76ef82d56c33be1fa9c1867409}{SlotAllocInfo::CTRL};
195                 dlCtrlSlot.m\_numCtrlSym = 1;
196                 dlCtrlSlot.m\_tddMode = \hyperlink{structns3_1_1SlotAllocInfo_a6cad60db1d39034f1851e2cea625fe5da9a365c9c56b7c32dcae38ee1a468ce6d}{SlotAllocInfo::DL};
197                 dlCtrlSlot.m\_dci.m\_numSym = 1;
198                 dlCtrlSlot.m\_dci.m\_symStart = 0;
199                 SlotAllocInfo ulCtrlSlot;
200                 ulCtrlSlot.m\_slotType = \hyperlink{structns3_1_1SlotAllocInfo_a3ea7cb503bfd0c9a4df55a71b81b9331ad78b7d76ef82d56c33be1fa9c1867409}{SlotAllocInfo::CTRL};
201                 ulCtrlSlot.m\_numCtrlSym = 1;
202                 ulCtrlSlot.m\_tddMode = \hyperlink{structns3_1_1SlotAllocInfo_a6cad60db1d39034f1851e2cea625fe5da916b5be54594ead6ed677c570311cad2}{SlotAllocInfo::UL};
203                 ulCtrlSlot.m\_slotIdx = 0xFF;
204                 ulCtrlSlot.m\_dci.m\_numSym = 1;
205                 ulCtrlSlot.m\_dci.m\_symStart = \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a2fe835b76e3c689defa413e395cd10cb}{GetSymbolsPerSubframe}()-1;
206                 \hyperlink{classns3_1_1MmWavePhy_a6e7002b99b8c50976033e0b96523f08c}{m\_sfAllocInfo}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].m\_slotAllocInfo.push\_back (dlCtrlSlot);
207                 \hyperlink{classns3_1_1MmWavePhy_a6e7002b99b8c50976033e0b96523f08c}{m\_sfAllocInfo}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].m\_slotAllocInfo.push\_back (ulCtrlSlot);
208         \}
209 
210         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"In mmWaveEnbPhy, the RT periodicity is: "} << 
      \hyperlink{classns3_1_1MmWaveEnbPhy_af5b7224db4adb4c546e71ec42ce82703}{m\_updateSinrPeriod} << \textcolor{stringliteral}{" microseconds"});
211         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"In mmWaveEnbPhy, the transient duration is: "} << 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a60467889c9c76cba890f049098f4a822}{m\_transient} << \textcolor{stringliteral}{" microseconds"});
212         \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1MmWaveEnbPhy_adc49fae3719fbc3f8bfed9b49b04a6c6}{m\_noiseAndFilter})
213         \{
214                 \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG}((\textcolor{keywordtype}{double})\hyperlink{classns3_1_1MmWaveEnbPhy_a60467889c9c76cba890f049098f4a822}{m\_transient}/
      \hyperlink{classns3_1_1MmWaveEnbPhy_af5b7224db4adb4c546e71ec42ce82703}{m\_updateSinrPeriod} >= 16, \textcolor{stringliteral}{"Window too small to compute the variance according to the
       ApplyFilter method"});
215         \}
216         \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule}(\hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds}(0), &
      \hyperlink{classns3_1_1MmWaveEnbPhy_a09aa03118ceed8c46f87dc0f6b6c71a2}{MmWaveEnbPhy::UpdateUeSinrEstimate}, \textcolor{keyword}{this});
217         \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule}(\hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds}(0), &
      \hyperlink{classns3_1_1MmWaveEnbPhy_a5ebec66c2776262f3d54c43ee1cc34db}{MmWaveEnbPhy::CallPathloss}, \textcolor{keyword}{this});
218         \hyperlink{classns3_1_1MmWavePhy_a4a5afbb66250562604dca60368ab187b}{MmWavePhy::DoInitialize} ();
219 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Remove\+Ue@{Do\+Remove\+Ue}}
\index{Do\+Remove\+Ue@{Do\+Remove\+Ue}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Remove\+Ue(uint16\+\_\+t rnti)}{DoRemoveUe(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Remove\+Ue (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a6e36e4633558135ae94c57b16de486c7}{}\label{classns3_1_1MmWaveEnbPhy_a6e36e4633558135ae94c57b16de486c7}

\begin{DoxyCode}
1685 \{
1686         std::set <uint16\_t>::iterator it = \hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\_ueAttachedRnti}.find(rnti);
1687         \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\_ueAttachedRnti}.end ())
1688         \{
1689                 \hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\_ueAttachedRnti}.erase(it);
1690         \}
1691         \textcolor{keywordflow}{else}
1692         \{
1693                 \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR}(\textcolor{stringliteral}{"Impossible to remove UE, not attached!"});
1694         \}
1695   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
1696 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Set\+Bandwidth@{Do\+Set\+Bandwidth}}
\index{Do\+Set\+Bandwidth@{Do\+Set\+Bandwidth}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Set\+Bandwidth(uint8\+\_\+t ul\+Bandwidth, uint8\+\_\+t dl\+Bandwidth)}{DoSetBandwidth(uint8_t ulBandwidth, uint8_t dlBandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Set\+Bandwidth (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{ul\+Bandwidth, }
\item[{uint8\+\_\+t}]{dl\+Bandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a5b4b493cc750cc598a49852f012b8d95}{}\label{classns3_1_1MmWaveEnbPhy_a5b4b493cc750cc598a49852f012b8d95}

\begin{DoxyCode}
1645 \{
1646   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint32\_t) ulBandwidth << (uint32\_t) dlBandwidth);
1647 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Set\+Bandwidth@{Do\+Set\+Bandwidth}}
\index{Do\+Set\+Bandwidth@{Do\+Set\+Bandwidth}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Set\+Bandwidth(uint8\+\_\+t Bandwidth)}{DoSetBandwidth(uint8_t Bandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Set\+Bandwidth (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{Bandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a9536f7eba5206318b4108d847a5fbc4e}{}\label{classns3_1_1MmWaveEnbPhy_a9536f7eba5206318b4108d847a5fbc4e}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Set\+Earfcn@{Do\+Set\+Earfcn}}
\index{Do\+Set\+Earfcn@{Do\+Set\+Earfcn}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Set\+Earfcn(uint16\+\_\+t dl\+Earfcn, uint16\+\_\+t ul\+Earfcn)}{DoSetEarfcn(uint16_t dlEarfcn, uint16_t ulEarfcn)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Set\+Earfcn (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{dl\+Earfcn, }
\item[{uint16\+\_\+t}]{ul\+Earfcn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a228a4c97ff1357f6fa0bff3b81d1a33f}{}\label{classns3_1_1MmWaveEnbPhy_a228a4c97ff1357f6fa0bff3b81d1a33f}

\begin{DoxyCode}
1651 \{
1652   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << ulEarfcn << dlEarfcn);
1653 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Set\+Earfcn@{Do\+Set\+Earfcn}}
\index{Do\+Set\+Earfcn@{Do\+Set\+Earfcn}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Set\+Earfcn(uint16\+\_\+t Earfcn)}{DoSetEarfcn(uint16_t Earfcn)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Set\+Earfcn (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{Earfcn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a196647c1f755d612aa522e4bfbdb3f0d}{}\label{classns3_1_1MmWaveEnbPhy_a196647c1f755d612aa522e4bfbdb3f0d}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Set\+Master\+Information\+Block@{Do\+Set\+Master\+Information\+Block}}
\index{Do\+Set\+Master\+Information\+Block@{Do\+Set\+Master\+Information\+Block}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Set\+Master\+Information\+Block(\+Lte\+Rrc\+Sap\+::\+Master\+Information\+Block mib)}{DoSetMasterInformationBlock(LteRrcSap::MasterInformationBlock mib)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Set\+Master\+Information\+Block (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Rrc\+Sap\+::\+Master\+Information\+Block}}]{mib}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a660c7782964037643f9e600e494d7ec7}{}\label{classns3_1_1MmWaveEnbPhy_a660c7782964037643f9e600e494d7ec7}

\begin{DoxyCode}
1720 \{
1721   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1722   \textcolor{comment}{//m\_mib = mib;}
1723 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Set\+Pa@{Do\+Set\+Pa}}
\index{Do\+Set\+Pa@{Do\+Set\+Pa}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Set\+Pa(uint16\+\_\+t rnti, double pa)}{DoSetPa(uint16_t rnti, double pa)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Set\+Pa (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{double}]{pa}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a1ad1c792c6d7e2d8646f2f6685cd7b50}{}\label{classns3_1_1MmWaveEnbPhy_a1ad1c792c6d7e2d8646f2f6685cd7b50}

\begin{DoxyCode}
1700 \{
1701   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
1702 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Set\+Srs\+Configuration\+Index@{Do\+Set\+Srs\+Configuration\+Index}}
\index{Do\+Set\+Srs\+Configuration\+Index@{Do\+Set\+Srs\+Configuration\+Index}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Set\+Srs\+Configuration\+Index(uint16\+\_\+t rnti, uint16\+\_\+t src\+Ci)}{DoSetSrsConfigurationIndex(uint16_t rnti, uint16_t srcCi)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Set\+Srs\+Configuration\+Index (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{src\+Ci}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_ae59957c3903e04236f2dc667ccd028a6}{}\label{classns3_1_1MmWaveEnbPhy_ae59957c3903e04236f2dc667ccd028a6}

\begin{DoxyCode}
1713 \{
1714   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1715 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Set\+Sub\+Channels@{Do\+Set\+Sub\+Channels}}
\index{Do\+Set\+Sub\+Channels@{Do\+Set\+Sub\+Channels}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Set\+Sub\+Channels()}{DoSetSubChannels()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Set\+Sub\+Channels (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_acd2d1215a5618dcd6a2b480a0eda4051}{}\label{classns3_1_1MmWaveEnbPhy_acd2d1215a5618dcd6a2b480a0eda4051}

\begin{DoxyCode}
555 \{
556 
557 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Set\+System\+Information\+Block\+Type1@{Do\+Set\+System\+Information\+Block\+Type1}}
\index{Do\+Set\+System\+Information\+Block\+Type1@{Do\+Set\+System\+Information\+Block\+Type1}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Set\+System\+Information\+Block\+Type1(\+Lte\+Rrc\+Sap\+::\+System\+Information\+Block\+Type1 sib1)}{DoSetSystemInformationBlockType1(LteRrcSap::SystemInformationBlockType1 sib1)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Set\+System\+Information\+Block\+Type1 (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Rrc\+Sap\+::\+System\+Information\+Block\+Type1}}]{sib1}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a0993d57b331351f6cd6e4de0ef1557a1}{}\label{classns3_1_1MmWaveEnbPhy_a0993d57b331351f6cd6e4de0ef1557a1}

\begin{DoxyCode}
1728 \{
1729   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1730   \hyperlink{classns3_1_1MmWaveEnbPhy_a772e412012e0b50873b4e250de2696a2}{m\_sib1} = sib1;
1731 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Do\+Set\+Transmission\+Mode@{Do\+Set\+Transmission\+Mode}}
\index{Do\+Set\+Transmission\+Mode@{Do\+Set\+Transmission\+Mode}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Set\+Transmission\+Mode(uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)}{DoSetTransmissionMode(uint16_t rnti, uint8_t txMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Do\+Set\+Transmission\+Mode (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{tx\+Mode}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_af67807cf040619075d5341c7dacd022e}{}\label{classns3_1_1MmWaveEnbPhy_af67807cf040619075d5341c7dacd022e}

\begin{DoxyCode}
1706 \{
1707   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti << (uint16\_t)txMode);
1708   \textcolor{comment}{// UL supports only SISO MODE}
1709 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!End\+Slot@{End\+Slot}}
\index{End\+Slot@{End\+Slot}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{End\+Slot(void)}{EndSlot(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+End\+Slot (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_aaea005a7298f69167a554a3c3c03b132}{}\label{classns3_1_1MmWaveEnbPhy_aaea005a7298f69167a554a3c3c03b132}

\begin{DoxyCode}
1388 \{
1389         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds ());
1390 
1391         Ptr<AntennaArrayModel> antennaArray = DynamicCast<AntennaArrayModel> (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}{GetDlSpectrumPhy} ()->GetRxAntenna());
1392         antennaArray->ChangeToOmniTx ();
1393 
1394         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum} == \hyperlink{classns3_1_1MmWaveEnbPhy_a009230227393f4585df5440133f1a52b}{m\_currSfNumSlots}-1)
1395         \{
1396                 \hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum} = 0;
1397                 \hyperlink{classns3_1_1MmWaveEnbPhy_aac9be87981341e7a6e303ad5d05316a1}{EndSubFrame} ();
1398         \}
1399         \textcolor{keywordflow}{else}
1400         \{
1401                 \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} nextSlotStart;
1402                 \textcolor{comment}{//uint8\_t slotInd = m\_slotNum+1;}
1403                 \textcolor{comment}{/*if (slotInd >= m\_currSfAllocInfo.m\_slotAllocInfo.size ())}
1404 \textcolor{comment}{                \{}
1405 \textcolor{comment}{                        if (m\_currSfAllocInfo.m\_slotAllocInfo.size () > 0)}
1406 \textcolor{comment}{                        \{}
1407 \textcolor{comment}{                                slotInd = slotInd - m\_currSfAllocInfo.m\_slotAllocInfo.size ();}
1408 \textcolor{comment}{                                nextSlotStart = NanoSeconds (1000.0 * m\_phyMacConfig->GetSymbolPeriod () *}
1409 \textcolor{comment}{                                                            
       m\_currSfAllocInfo.m\_ulSlotAllocInfo[slotInd].m\_dci.m\_symStart);}
1410 \textcolor{comment}{                        \}}
1411 \textcolor{comment}{                \}}
1412 \textcolor{comment}{                else}
1413 \textcolor{comment}{                \{}
1414 \textcolor{comment}{                        if (m\_currSfAllocInfo.m\_slotAllocInfo.size () > 0)}
1415 \textcolor{comment}{                        \{}
1416 \textcolor{comment}{                                nextSlotStart = NanoSeconds (1000.0 * m\_phyMacConfig->GetSymbolPeriod () *}
1417 \textcolor{comment}{                                                            
       m\_currSfAllocInfo.m\_slotAllocInfo[slotInd].m\_dci.m\_symStart);}
1418 \textcolor{comment}{                        \}}
1419 \textcolor{comment}{                \}*/}
1420                 \hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum}++;
1421                 nextSlotStart = \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds} (1000.0 * \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a1048fa4a24a72abc5d4d982efd6c21af}{GetSymbolPeriod} () *
1422                                                                              
      \hyperlink{classns3_1_1MmWavePhy_adf1e91c9da8a1d3f82b1517363cddbe8}{m\_currSfAllocInfo}.\hyperlink{structns3_1_1SfAllocInfo_a6a87109ff89bf270a74ff95a5bbf9231}{m\_slotAllocInfo}[\hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum}].m\_dci.m\_symStart);
1423                 \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (nextSlotStart+
      \hyperlink{classns3_1_1MmWaveEnbPhy_aa928d54402d87640ee61f0c3b5cf2e0c}{m\_lastSfStart}-\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}(), &
      \hyperlink{classns3_1_1MmWaveEnbPhy_ac0adb365904c29715ad7c1cc39695bca}{MmWaveEnbPhy::StartSlot}, \textcolor{keyword}{this});
1424         \}
1425 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!End\+Sub\+Frame@{End\+Sub\+Frame}}
\index{End\+Sub\+Frame@{End\+Sub\+Frame}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{End\+Sub\+Frame(void)}{EndSubFrame(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+End\+Sub\+Frame (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_aac9be87981341e7a6e303ad5d05316a1}{}\label{classns3_1_1MmWaveEnbPhy_aac9be87981341e7a6e303ad5d05316a1}

\begin{DoxyCode}
1429 \{
1430         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds ());
1431 
1432         \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} sfStart = \hyperlink{classns3_1_1MmWaveEnbPhy_aa928d54402d87640ee61f0c3b5cf2e0c}{m\_lastSfStart} + \hyperlink{classns3_1_1MmWaveEnbPhy_a164bffc51f5edf0109f976a874bd3123}{m\_sfPeriod} - 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}();
1433         \hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum} = 0;
1434         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum} == \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->\hyperlink{classns3_1_1MmWavePhyMacCommon_a3709cf52f6813eb8ad1af16d95082dc1}{GetSubframesPerFrame} ()-1)
1435         \{
1436                 \hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum} = 0;
1437 \textcolor{comment}{//              if (m\_frameNum == 1023)}
1438 \textcolor{comment}{//              \{}
1439 \textcolor{comment}{//                      m\_frameNum = 0;}
1440 \textcolor{comment}{//              \}}
1441 \textcolor{comment}{//              else}
1442 \textcolor{comment}{//              \{}
1443 \textcolor{comment}{//                      m\_frameNum++;}
1444 \textcolor{comment}{//              \}}
1445                 \hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum}++;
1446         \}
1447         \textcolor{keywordflow}{else}
1448         \{
1449                 \hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum}++;
1450         \}
1451 
1452         \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (sfStart, &
      \hyperlink{classns3_1_1MmWaveEnbPhy_af066571ea81c9b07cb94f84e5297c11d}{MmWaveEnbPhy::StartSubFrame}, \textcolor{keyword}{this});
1453 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Generate\+Data\+Cqi\+Report@{Generate\+Data\+Cqi\+Report}}
\index{Generate\+Data\+Cqi\+Report@{Generate\+Data\+Cqi\+Report}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Generate\+Data\+Cqi\+Report(const Spectrum\+Value \&sinr)}{GenerateDataCqiReport(const SpectrumValue &sinr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Generate\+Data\+Cqi\+Report (
\begin{DoxyParamCaption}
\item[{const {\bf Spectrum\+Value} \&}]{sinr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a016525ae90876006ff14b0a73c9a33a4}{}\label{classns3_1_1MmWaveEnbPhy_a016525ae90876006ff14b0a73c9a33a4}
need to write by UE later . it is just uplink sinr for single UE 
\begin{DoxyCode}
1556 \{
1557   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Sinr from DataCqiReport = "} << sinr);
1558   \textcolor{keywordtype}{double} sinrAvg = \hyperlink{namespacens3_afad5475661952172fe6ef1260360dad8}{Sum}(sinr)/(sinr.GetSpectrumModel()->GetNumBands()); 
1559   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Average SINR on DataCqiReport "} << 10*std::log10(sinrAvg));
1560 
1561   Values::const\_iterator it;
1562   MmWaveMacSchedSapProvider::SchedUlCqiInfoReqParameters ulcqi;
1563   ulcqi.m\_ulCqi.m\_type = \hyperlink{structns3_1_1UlCqiInfo_a8241de30e4fdc8640e892ddf1e2a6c00a6d4b515df7c45a6843584459fbde26a7}{UlCqiInfo::PUSCH};
1564   \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0;
1565   \textcolor{keywordflow}{for} (it = sinr.ConstValuesBegin (); it != sinr.ConstValuesEnd (); it++)
1566   \{
1567 \textcolor{comment}{//      double sinrdb = 10 * std::log10 ((*it));}
1568         \textcolor{comment}{//       NS\_LOG\_DEBUG ("ULCQI RB " << i << " value " << sinrdb);}
1569         \textcolor{comment}{// convert from double to fixed point notaltion Sxxxxxxxxxxx.xxx}
1570 \textcolor{comment}{//      int16\_t sinrFp = LteFfConverter::double2fpS11dot3 (sinrdb);}
1571         ulcqi.m\_ulCqi.m\_sinr.push\_back (*it);
1572         i++;
1573   \}
1574 
1575   \textcolor{comment}{// here we use the start symbol index of the slot in place of the slot index because the absolute UL slot
       index is}
1576   \textcolor{comment}{// not known to the scheduler when m\_allocationMap gets populated}
1577   ulcqi.m\_sfnSf = SfnSf (\hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum}, \hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum}, \hyperlink{classns3_1_1MmWaveEnbPhy_acabeb79f3613d2a6f8fcd44732e1da1b}{m\_currSymStart});
1578   SpectrumValue newSinr = sinr;
1579         \hyperlink{classns3_1_1MmWaveEnbPhy_a4a821af3f7946233c2c50831f6f5041a}{m\_ulSinrTrace} (0, newSinr, newSinr);
1580         \textcolor{comment}{//double sinrAvg = Sum(sinr)/(sinr.GetSpectrumModel()->GetNumBands());}
1581 
1582   \hyperlink{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{m\_phySapUser}->\hyperlink{classns3_1_1MmWaveEnbPhySapUser_ad642f5ef9b88c4741c5d43107adb8b5d}{UlCqiReport} (ulcqi);
1583   \textcolor{comment}{//this->m\_deviceMap}
1584   *\hyperlink{classns3_1_1MmWaveEnbPhy_a7295a3929ce0574f3b4bc5db5aa170af}{stream\_sinr}<< \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds}() <<\textcolor{stringliteral}{"\(\backslash\)t"} <<10*log10(sinrAvg
      ) << std::endl; 
1585 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Get\+Absolute\+Subframe\+No@{Get\+Absolute\+Subframe\+No}}
\index{Get\+Absolute\+Subframe\+No@{Get\+Absolute\+Subframe\+No}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Absolute\+Subframe\+No()}{GetAbsoluteSubframeNo()}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Get\+Absolute\+Subframe\+No (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a044232f4d85492eaa1f5938fb60a85ca}{}\label{classns3_1_1MmWaveEnbPhy_a044232f4d85492eaa1f5938fb60a85ca}

\begin{DoxyCode}
1635 \{
1636         \textcolor{keywordflow}{return} ((\hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum} - 1)*(\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a3709cf52f6813eb8ad1af16d95082dc1}{GetSubframesPerFrame}()*\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a7b6552d2e0ffbeaf3bc2f9db6d0d6e63}{GetSlotsPerSubframe}()) + \hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum});
1637 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 20


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Get\+Dl\+Spectrum\+Phy@{Get\+Dl\+Spectrum\+Phy}}
\index{Get\+Dl\+Spectrum\+Phy@{Get\+Dl\+Spectrum\+Phy}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Dl\+Spectrum\+Phy() const }{GetDlSpectrumPhy() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Mm\+Wave\+Spectrum\+Phy} $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Get\+Dl\+Spectrum\+Phy (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}{}\label{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}

\begin{DoxyCode}
570 \{
571   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWavePhy_aa266d9d20ba903f9adf2695dd626b885}{m\_downlinkSpectrumPhy};
572 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Get\+Mm\+Wave\+Enb\+Cphy\+Sap\+Provider@{Get\+Mm\+Wave\+Enb\+Cphy\+Sap\+Provider}}
\index{Get\+Mm\+Wave\+Enb\+Cphy\+Sap\+Provider@{Get\+Mm\+Wave\+Enb\+Cphy\+Sap\+Provider}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Mm\+Wave\+Enb\+Cphy\+Sap\+Provider()}{GetMmWaveEnbCphySapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Enb\+Cphy\+Sap\+Provider} $\ast$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Get\+Mm\+Wave\+Enb\+Cphy\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_ab42c72ea54e88d87815abd834f19d21e}{}\label{classns3_1_1MmWaveEnbPhy_ab42c72ea54e88d87815abd834f19d21e}

\begin{DoxyCode}
512 \{
513   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
514   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWaveEnbPhy_a06aa17cb3a6b1d376db7dfc8efe56499}{m\_enbCphySapProvider};
515 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Get\+Noise\+Figure@{Get\+Noise\+Figure}}
\index{Get\+Noise\+Figure@{Get\+Noise\+Figure}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Noise\+Figure() const }{GetNoiseFigure() const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Get\+Noise\+Figure (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MmWaveEnbPhy_a3640fc17414c1e6b0edca0b043263cc8}{}\label{classns3_1_1MmWaveEnbPhy_a3640fc17414c1e6b0edca0b043263cc8}

\begin{DoxyCode}
535 \{
536         \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWavePhy_ac3010f7611906c8dc5e93bc13ff79819}{m\_noiseFigure};
537 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Get\+Tx\+Power@{Get\+Tx\+Power}}
\index{Get\+Tx\+Power@{Get\+Tx\+Power}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Tx\+Power() const }{GetTxPower() const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Get\+Tx\+Power (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MmWaveEnbPhy_a83906efb88780c06a13f2f095e25e6a8}{}\label{classns3_1_1MmWaveEnbPhy_a83906efb88780c06a13f2f095e25e6a8}

\begin{DoxyCode}
524 \{
525         \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWavePhy_ab2c43d2201e609a1c159c534e47788c1}{m\_txPower};
526 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a9d3cfef5a3c79b532d6f349898f69080}{}\label{classns3_1_1MmWaveEnbPhy_a9d3cfef5a3c79b532d6f349898f69080}

\begin{DoxyCode}
102 \{
103   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::MmWaveEnbPhy"})
104     .SetParent<\hyperlink{classns3_1_1MmWavePhy_a09ab3a0e8114e43dd531977bca8c5f97}{MmWavePhy}> ()
105     .AddConstructor<MmWaveEnbPhy> ()
106         .AddAttribute (\textcolor{stringliteral}{"TxPower"},
107                        \textcolor{stringliteral}{"Transmission power in dBm"},
108                        DoubleValue (30.0),
109                        MakeDoubleAccessor (&\hyperlink{classns3_1_1MmWaveEnbPhy_a6c1dbccbab28c6883bf5a716d6605138}{MmWaveEnbPhy::SetTxPower},
110                                            &\hyperlink{classns3_1_1MmWaveEnbPhy_a83906efb88780c06a13f2f095e25e6a8}{MmWaveEnbPhy::GetTxPower}),
111                        MakeDoubleChecker<double> ())
112         .AddAttribute (\textcolor{stringliteral}{"NoiseAndFilter"},
113                        \textcolor{stringliteral}{"If true, use noisy SINR samples, filtered. If false, just use the SINR measure"},
114                        BooleanValue (\textcolor{keyword}{false}),
115                        MakeBooleanAccessor (&\hyperlink{classns3_1_1MmWaveEnbPhy_adc49fae3719fbc3f8bfed9b49b04a6c6}{MmWaveEnbPhy::m\_noiseAndFilter}),
116                        MakeBooleanChecker())
117         .AddAttribute (\textcolor{stringliteral}{"UpdateSinrEstimatePeriod"},
118                        \textcolor{stringliteral}{"Period (in microseconds) of update of SINR estimate of all the UE"},
119                        IntegerValue (1600), \textcolor{comment}{//TODO considering refactoring in MmWavePhyMacCommon}
120                        MakeIntegerAccessor (&\hyperlink{classns3_1_1MmWaveEnbPhy_af5b7224db4adb4c546e71ec42ce82703}{MmWaveEnbPhy::m\_updateSinrPeriod}
      ),
121                        MakeIntegerChecker<int> ())
122         .AddAttribute (\textcolor{stringliteral}{"UpdateUeSinrEstimatePeriod"},
123                        \textcolor{stringliteral}{"Period (in ms) of reporting of SINR estimate of all the UE"},
124                        DoubleValue (25.6),
125                        MakeDoubleAccessor (&\hyperlink{classns3_1_1MmWaveEnbPhy_aba71f2faaa7e68f79e9156d37c6fed57}{MmWaveEnbPhy::m\_ueUpdateSinrPeriod}
      ),
126                        MakeDoubleChecker<double> ())
127         .AddAttribute(\textcolor{stringliteral}{"Transient"},
128                                   \textcolor{stringliteral}{"Transient period (in microseconds) in which just collect SINR values
       without filtering the sample"},
129                                   IntegerValue (320000),
130                                   MakeIntegerAccessor (&
      \hyperlink{classns3_1_1MmWaveEnbPhy_a60467889c9c76cba890f049098f4a822}{MmWaveEnbPhy::m\_transient}),
131                                   MakeIntegerChecker<int> ())
132         .AddAttribute (\textcolor{stringliteral}{"NoiseFigure"},
133                        \textcolor{stringliteral}{"Loss (dB) in the Signal-to-Noise-Ratio due to non-idealities in the receiver."}
134                        \textcolor{stringliteral}{" According to Wikipedia (http://en.wikipedia.org/wiki/Noise\_figure), this is "}
135                        \textcolor{stringliteral}{"\(\backslash\)"the difference in decibels (dB) between"}
136                        \textcolor{stringliteral}{" the noise output of the actual receiver to the noise output of an "}
137                        \textcolor{stringliteral}{" ideal receiver with the same overall gain and bandwidth when the receivers "}
138                        \textcolor{stringliteral}{" are connected to sources at the standard noise temperature T0.\(\backslash\)" "}
139                        \textcolor{stringliteral}{"In this model, we consider T0 = 290K."},
140                        DoubleValue (5.0),
141                        MakeDoubleAccessor (&\hyperlink{classns3_1_1MmWavePhy_a75ed96962f67af7d16ee2b6992ec042a}{MmWavePhy::SetNoiseFigure},
142                                            &\hyperlink{classns3_1_1MmWavePhy_ade17d33d06eea7205da2bdab6e5bb276}{MmWavePhy::GetNoiseFigure}),
143                        MakeDoubleChecker<double> ())
144          .AddAttribute (\textcolor{stringliteral}{"DlSpectrumPhy"},
145                                     \textcolor{stringliteral}{"The downlink MmWaveSpectrumPhy associated to this MmWavePhy"},
146                                     \hyperlink{classns3_1_1TypeId_a3ab7b43b95f96391c514d609ca60e542a3dd4b476c9b257285c177d6c414b5fd0}{TypeId::ATTR\_GET},
147                                     PointerValue (),
148                                     MakePointerAccessor (&
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}{MmWaveEnbPhy::GetDlSpectrumPhy}),
149                                     MakePointerChecker <MmWaveSpectrumPhy> ())
150          .AddAttribute (\textcolor{stringliteral}{"UlSpectrumPhy"},
151                                     \textcolor{stringliteral}{"The uplink MmWaveSpectrumPhy associated to this MmWavePhy"},
152                                     \hyperlink{classns3_1_1TypeId_a3ab7b43b95f96391c514d609ca60e542a3dd4b476c9b257285c177d6c414b5fd0}{TypeId::ATTR\_GET},
153                                     PointerValue (),
154                                     MakePointerAccessor (&
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1cdc19cd9cb5e946d5b7cc54bf4bf9db}{MmWaveEnbPhy::GetUlSpectrumPhy}),
155                                     MakePointerChecker <MmWaveSpectrumPhy> ())
156          .AddTraceSource (\textcolor{stringliteral}{"UlSinrTrace"},
157                                           \textcolor{stringliteral}{"UL SINR statistics."},
158                                           \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1MmWaveEnbPhy_a4a821af3f7946233c2c50831f6f5041a}{MmWaveEnbPhy::m\_ulSinrTrace}),
159                                           \textcolor{stringliteral}{"ns3::UlSinr::TracedCallback"})
160 
161         ;
162   \textcolor{keywordflow}{return} tid;
163 
164 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Get\+Ul\+Spectrum\+Phy@{Get\+Ul\+Spectrum\+Phy}}
\index{Get\+Ul\+Spectrum\+Phy@{Get\+Ul\+Spectrum\+Phy}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Ul\+Spectrum\+Phy() const }{GetUlSpectrumPhy() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Mm\+Wave\+Spectrum\+Phy} $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Get\+Ul\+Spectrum\+Phy (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MmWaveEnbPhy_a1cdc19cd9cb5e946d5b7cc54bf4bf9db}{}\label{classns3_1_1MmWaveEnbPhy_a1cdc19cd9cb5e946d5b7cc54bf4bf9db}

\begin{DoxyCode}
576 \{
577   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWavePhy_a0c65a42f80d7448c933a542342575a36}{m\_uplinkSpectrumPhy};
578 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Make\+Avg@{Make\+Avg}}
\index{Make\+Avg@{Make\+Avg}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Make\+Avg(std\+::vector$<$ double $>$)}{MakeAvg(std::vector< double >)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Make\+Avg (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ double $>$}]{v}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_ac8702bd18540548b2b3c22e6f321f2d4}{}\label{classns3_1_1MmWaveEnbPhy_ac8702bd18540548b2b3c22e6f321f2d4}

\begin{DoxyCode}
231 \{
232         \textcolor{keywordtype}{double} return\_value = 0.0;
233         \textcolor{keywordtype}{int} \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} = v.size();
234        
235         \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}=0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
236         \{
237             return\_value += v.at(\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
238         \}
239        
240         \textcolor{keywordflow}{return} ( return\_value / v.size());
241 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 25


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Make\+Filter@{Make\+Filter}}
\index{Make\+Filter@{Make\+Filter}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Make\+Filter(std\+::vector$<$ double $>$, std\+::vector$<$ double $>$, std\+::pair$<$ uint64\+\_\+t, uint64\+\_\+t $>$)}{MakeFilter(std::vector< double >, std::vector< double >, std::pair< uint64_t, uint64_t >)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ double $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Make\+Filter (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ double $>$}]{noisy\+Sinr, }
\item[{std\+::vector$<$ double $>$}]{real\+Sinr, }
\item[{std\+::pair$<$ uint64\+\_\+t, uint64\+\_\+t $>$}]{pair\+Filtering}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_aa3e7651d7614326c712525bebb65066d}{}\label{classns3_1_1MmWaveEnbPhy_aa3e7651d7614326c712525bebb65066d}

\begin{DoxyCode}
411 \{       
412         
413         \textcolor{keywordflow}{for} (uint64\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < noisySinr.size(); ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
414         \{
415                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"() "} << noisySinr.at(\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
416         \}
417         \textcolor{comment}{//const uint64\_t lengthFiltering  = (std::get<1>(pairFiltering) - std::get<0>(pairFiltering));}
418         \textcolor{comment}{/* find best alpha parameter for the Kalman estimation */}
419         \textcolor{keywordtype}{int} rep = 0;
420         std::array<double,100> meanError;
421         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha} = 0; \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha} < 1; \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha} = \hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha} + 0.01 )
422         \{
423 
424                 std::vector<double>  \hyperlink{lte__link__budget__x2__handover__measures_8m_a9336ebf25087d91c818ee6e9ec29f8c1}{x};
425                 x.push\_back(0);  \textcolor{comment}{// initialization of array}
426                 \textcolor{keywordtype}{int} counter = 0;
427 
428                 \textcolor{keywordflow}{for} (uint64\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = std::get<0>(pairFiltering); i < std::get<1>(pairFiltering); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
429                 \{
430                         x.push\_back((1-\hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha})*x.at(counter)+\hyperlink{lte__uplink__power__control_8m_a62197192f0fbf4e0675eb37be1c4c175}{alpha}*(noisySinr.at(
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})));
431                         counter++;
432                 \}
433 
434                 std::vector<double> errorEstimation;
435                 counter = 0;    
436                 \textcolor{keywordflow}{for} (uint64\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = std::get<0>(pairFiltering); i < std::get<1>(pairFiltering); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
437                 \{
438                         errorEstimation.push\_back(std::abs(x.at(counter+1) - realSinr.at(
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})));
439                         counter++;
440                 \}       
441 
442                 meanError.at(rep) = \hyperlink{classns3_1_1MmWaveEnbPhy_ac8702bd18540548b2b3c22e6f321f2d4}{MakeAvg}( errorEstimation );
443                 \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() > \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds}(2.1) && 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() < \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds}(2.3))
444                 \{
445                         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"meanError "} << meanError.at(rep) << \textcolor{stringliteral}{" rep "} << rep);  
446                 \}
447                 rep++;
448         \}
449 
450         \textcolor{keywordtype}{int} posMinAlpha = std::distance(meanError.begin(),std::min\_element(meanError.begin(),meanError.end(
      )));
451         \textcolor{keywordtype}{double} minAlpha = (posMinAlpha+1)*0.01;
452         \textcolor{keywordflow}{if}(minAlpha > 0.5)
453         \{
454                 minAlpha = 0.2;
455         \}
456         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"! "} << minAlpha);
457                 
458         std::vector<double> blockageTrace;
459         blockageTrace.push\_back(0);
460         \textcolor{keywordtype}{int} counter = 0;
461         \textcolor{keywordflow}{for} (uint64\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = std::get<0>(pairFiltering); i < std::get<1>(pairFiltering); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
462         \{
463                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(noisySinr.at(\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
464                 blockageTrace.push\_back((1-minAlpha)*blockageTrace.at(counter)+minAlpha*(noisySinr.at(
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})));
465                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"fff "} << blockageTrace.at(counter));
466                 counter++;
467         \}
468 
469          std::vector<double> retFinalTrace;
470          \textcolor{comment}{/* first piece */}
471          std::vector<double>::const\_iterator firstPieceStart = noisySinr.begin();
472          std::vector<double>::const\_iterator firstPieceEnd = noisySinr.begin() +  std::get<0>(pairFiltering
      )+1;
473          std::vector<double> firstPiece;
474          firstPiece.insert(firstPiece.begin(),firstPieceStart,firstPieceEnd);
475          \textcolor{keywordflow}{for}(std::vector<double>::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = firstPiece.begin(); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}!=firstPiece.end(); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
476                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"/ "} << *\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
477 
478          \textcolor{comment}{/*last piece*/}
479          std::vector<double>::const\_iterator lastPieceStart = noisySinr.begin() + std::get<1>(pairFiltering
      )+1;
480          std::vector<double>::const\_iterator lastPieceEnd = noisySinr.end();
481          std::vector<double> lastPiece;
482 
483          firstPiece.insert(firstPiece.end(),blockageTrace.begin()+1,blockageTrace.end()-1);
484          \textcolor{keywordflow}{for}(std::vector<double>::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = firstPiece.begin(); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}!=firstPiece.end(); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
485                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"// "} << *\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
486 
487          firstPiece.insert(firstPiece.end(),lastPieceStart, lastPieceEnd);
488          \textcolor{keywordflow}{for}(std::vector<double>::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = firstPiece.begin(); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}!=firstPiece.end(); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
489          \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"/// "} << *\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
490 
491 
492 
493         \textcolor{comment}{/* insert blockageTrace (from begin + 1, in order to AVOID THE TRANSIENT, to end) in the noisySinr
       trace, }
494 \textcolor{comment}{        * after std::get<0>(pairFiltering) +1 samples,}
495 \textcolor{comment}{        * which are the samples in which we estimate that a blockage occurs and the Kalmn filter is applied}
496 \textcolor{comment}{        */}
497         \textcolor{comment}{//std::copy(blockageTrace.begin(),blockageTrace.end(),noisySinr.begin()+std::get<0>(pairFiltering)
       );}
498         \textcolor{comment}{//
      std::copy(blockageTrace.begin()+1,blockageTrace.end(),noisySinr.begin()+std::get<0>(pairFiltering)+1 ); // AVOID TRANSIENT}
499         
500         \textcolor{keywordflow}{return} firstPiece; \textcolor{comment}{// this noisySinr trace has already been updated with the filtered samples,
       where applied.}
501 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 26




Here is the caller graph for this function\+:
% FIG 27


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Make\+Var@{Make\+Var}}
\index{Make\+Var@{Make\+Var}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Make\+Var(std\+::vector$<$ double $>$, double)}{MakeVar(std::vector< double >, double)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Make\+Var (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ double $>$}]{v, }
\item[{double}]{mean}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_ad8b13e8ca6de657b7a6ad79a7d2831d1}{}\label{classns3_1_1MmWaveEnbPhy_ad8b13e8ca6de657b7a6ad79a7d2831d1}

\begin{DoxyCode}
248 \{
249         \textcolor{keywordtype}{double} sum = 0.0;
250         \textcolor{keywordtype}{double} temp =0.0;
251         \textcolor{keywordtype}{double} var =0.0;
252         \textcolor{keywordtype}{int} \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} = v.size();
253        
254         \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} j =0; j < \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}; j++)
255         \{
256             temp = std::pow((v.at(j) - mean),2);
257             sum += temp;
258         \}
259        
260         \textcolor{keywordflow}{return} var = sum/(v.size());
261 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Phy\+Ctrl\+Messages\+Received@{Phy\+Ctrl\+Messages\+Received}}
\index{Phy\+Ctrl\+Messages\+Received@{Phy\+Ctrl\+Messages\+Received}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Phy\+Ctrl\+Messages\+Received(std\+::list$<$ Ptr$<$ Mm\+Wave\+Control\+Message $>$ $>$ msg\+List)}{PhyCtrlMessagesReceived(std::list< Ptr< MmWaveControlMessage > > msgList)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Phy\+Ctrl\+Messages\+Received (
\begin{DoxyParamCaption}
\item[{{\bf std\+::list}$<$ {\bf Ptr}$<$ {\bf Mm\+Wave\+Control\+Message} $>$ $>$}]{msg\+List}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_ab29ddb6f1128a28601a8cc9259fedf78}{}\label{classns3_1_1MmWaveEnbPhy_ab29ddb6f1128a28601a8cc9259fedf78}

\begin{DoxyCode}
1593 \{
1594         std::list<Ptr<MmWaveControlMessage> >::iterator ctrlIt = msgList.begin ();
1595 
1596         \textcolor{keywordflow}{while} (ctrlIt != msgList.end ())
1597         \{
1598                 Ptr<MmWaveControlMessage> msg = (*ctrlIt);
1599 
1600                 \textcolor{keywordflow}{if} (msg->GetMessageType () == \hyperlink{classns3_1_1MmWaveControlMessage_afd7af53dea4ef8b652cf206acd508869a86a81d8d22142bcbb5be5abe46eddb97}{MmWaveControlMessage::DL\_CQI})
1601                 \{
1602                         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"ENB "} << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" received CQI"});
1603                         \hyperlink{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{m\_phySapUser}->\hyperlink{classns3_1_1MmWaveEnbPhySapUser_af9ec7de3885e371f394e017f4855996f}{ReceiveControlMessage} (msg);
1604                 \}
1605                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (msg->GetMessageType () == \hyperlink{classns3_1_1MmWaveControlMessage_afd7af53dea4ef8b652cf206acd508869ae6dfe19c64eac4df7cf4603d0ca69fd4}{MmWaveControlMessage::BSR})
1606                 \{
1607                         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"ENB "} << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" received BSR"});
1608                         \hyperlink{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{m\_phySapUser}->\hyperlink{classns3_1_1MmWaveEnbPhySapUser_af9ec7de3885e371f394e017f4855996f}{ReceiveControlMessage} (msg);
1609                 \}
1610                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (msg->GetMessageType() == 
      \hyperlink{classns3_1_1MmWaveControlMessage_afd7af53dea4ef8b652cf206acd508869aa5c50c57231f74cdc23fb3f2b86e1728}{MmWaveControlMessage::RACH\_PREAMBLE})
1611           \{
1612                         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"ENB "} << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" received RACH\_PREAMBLE"});
1613                         \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} > 0);
1614                         Ptr<MmWaveRachPreambleMessage> rachPreamble = 
      DynamicCast<MmWaveRachPreambleMessage> (msg);
1615                         \hyperlink{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{m\_phySapUser}->\hyperlink{classns3_1_1MmWaveEnbPhySapUser_aa7d2dc521d374880e73560a10797978b}{ReceiveRachPreamble} (rachPreamble->
      GetRapId ());
1616                 \}
1617                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (msg->GetMessageType() == \hyperlink{classns3_1_1MmWaveControlMessage_afd7af53dea4ef8b652cf206acd508869a8c97d0661ffe92534bc6479bc6d8ff45}{MmWaveControlMessage::DL\_HARQ}
      )
1618                 \{
1619                         Ptr<MmWaveDlHarqFeedbackMessage> dlharqMsg = 
      DynamicCast<MmWaveDlHarqFeedbackMessage> (msg);
1620                         DlHarqInfo dlharq = dlharqMsg->GetDlHarqFeedback ();
1621                         \textcolor{comment}{// check whether the UE is connected}
1622                         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\_ueAttachedRnti}.find (dlharq.m\_rnti) != 
      \hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\_ueAttachedRnti}.end ())
1623                         \{
1624                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{m\_phySapUser}->\hyperlink{classns3_1_1MmWaveEnbPhySapUser_af9ec7de3885e371f394e017f4855996f}{ReceiveControlMessage} (msg);
1625                         \}
1626                 \}
1627 
1628                 ctrlIt++;
1629         \}
1630 
1631 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 29




Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Phy\+Data\+Packet\+Received@{Phy\+Data\+Packet\+Received}}
\index{Phy\+Data\+Packet\+Received@{Phy\+Data\+Packet\+Received}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Phy\+Data\+Packet\+Received(\+Ptr$<$ Packet $>$ p)}{PhyDataPacketReceived(Ptr< Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Phy\+Data\+Packet\+Received (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a4da2f965c88f46e2ff20d17992b001ce}{}\label{classns3_1_1MmWaveEnbPhy_a4da2f965c88f46e2ff20d17992b001ce}

\begin{DoxyCode}
1544 \{
1545         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION}(\textcolor{keyword}{this});
1546         \hyperlink{classns3_1_1Simulator_a86dbaef45a15a42365d7d2ae550449f6}{Simulator::ScheduleWithContext} (
      \hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice}->GetNode()->GetId(),
1547                                         \hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds}(\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_aae260130bf376846bb01cc49242697b5}{GetTbDecodeLatency}()),
1548                                         &\hyperlink{classns3_1_1MmWaveEnbPhySapUser_a1380606c33c375d4f208061e0363d876}{MmWaveEnbPhySapUser::ReceivePhyPdu}
      ,
1549                                         \hyperlink{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{m\_phySapUser},
1550                                         p);
1551 \textcolor{comment}{//              m\_phySapUser->ReceivePhyPdu(p);}
1552 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 31




Here is the caller graph for this function\+:
% FIG 32


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Queue\+Ul\+Tb\+Alloc@{Queue\+Ul\+Tb\+Alloc}}
\index{Queue\+Ul\+Tb\+Alloc@{Queue\+Ul\+Tb\+Alloc}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Queue\+Ul\+Tb\+Alloc(\+Tb\+Alloc\+Info tb\+Alloc\+Info)}{QueueUlTbAlloc(TbAllocInfo tbAllocInfo)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Queue\+Ul\+Tb\+Alloc (
\begin{DoxyParamCaption}
\item[{{\bf Tb\+Alloc\+Info}}]{tb\+Alloc\+Info}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a1ac1030adc34dca45fd6b7ea43af609a}{}\label{classns3_1_1MmWaveEnbPhy_a1ac1030adc34dca45fd6b7ea43af609a}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Receive\+Ul\+Harq\+Feedback@{Receive\+Ul\+Harq\+Feedback}}
\index{Receive\+Ul\+Harq\+Feedback@{Receive\+Ul\+Harq\+Feedback}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Receive\+Ul\+Harq\+Feedback(\+Ul\+Harq\+Info mes)}{ReceiveUlHarqFeedback(UlHarqInfo mes)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Receive\+Ul\+Harq\+Feedback (
\begin{DoxyParamCaption}
\item[{{\bf Ul\+Harq\+Info}}]{mes}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_af4e7efb885e564c6a2f2b82303ef098a}{}\label{classns3_1_1MmWaveEnbPhy_af4e7efb885e564c6a2f2b82303ef098a}

\begin{DoxyCode}
1754 \{
1755   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1756   \textcolor{comment}{// forward to scheduler}
1757   \textcolor{comment}{//}
1758   \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\_ueAttachedRnti}.find(mes.m\_rnti) != \hyperlink{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{m\_ueAttachedRnti}.end())
1759   \{
1760         \hyperlink{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{m\_phySapUser}->\hyperlink{classns3_1_1MmWaveEnbPhySapUser_a260878e10f22889f4fbea4fb6210e402}{UlHarqFeedback} (mes);
1761   \}
1762 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 33




Here is the caller graph for this function\+:
% FIG 34


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Send\+Ctrl\+Channels@{Send\+Ctrl\+Channels}}
\index{Send\+Ctrl\+Channels@{Send\+Ctrl\+Channels}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Send\+Ctrl\+Channels(std\+::list$<$ Ptr$<$ Mm\+Wave\+Control\+Message $>$ $>$ ctrl\+Msg, Time slot\+Prd)}{SendCtrlChannels(std::list< Ptr< MmWaveControlMessage > > ctrlMsg, Time slotPrd)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Send\+Ctrl\+Channels (
\begin{DoxyParamCaption}
\item[{{\bf std\+::list}$<$ {\bf Ptr}$<$ {\bf Mm\+Wave\+Control\+Message} $>$ $>$}]{ctrl\+Msg, }
\item[{{\bf Time}}]{slot\+Prd}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a1725bb913c4d82b765005106e47b85cf}{}\label{classns3_1_1MmWaveEnbPhy_a1725bb913c4d82b765005106e47b85cf}

\begin{DoxyCode}
1515 \{
1516         \textcolor{comment}{/* Send Ctrl messages*/}
1517         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this}<<\textcolor{stringliteral}{"Send Ctrl"}); \textcolor{comment}{//sjkang send control message}
1518         \hyperlink{classns3_1_1MmWavePhy_aa266d9d20ba903f9adf2695dd626b885}{m\_downlinkSpectrumPhy}->StartTxDlControlFrames (ctrlMsgs, slotPrd);
1519 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 35


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Send\+Data\+Channels@{Send\+Data\+Channels}}
\index{Send\+Data\+Channels@{Send\+Data\+Channels}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Send\+Data\+Channels(\+Ptr$<$ Packet\+Burst $>$ pb, Time slot\+Prd, Slot\+Alloc\+Info \&slot\+Info)}{SendDataChannels(Ptr< PacketBurst > pb, Time slotPrd, SlotAllocInfo &slotInfo)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Send\+Data\+Channels (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet\+Burst} $>$}]{pb, }
\item[{{\bf Time}}]{slot\+Prd, }
\item[{{\bf Slot\+Alloc\+Info} \&}]{slot\+Info}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a2e177ec4620eeb040bb622ab32bd2432}{}\label{classns3_1_1MmWaveEnbPhy_a2e177ec4620eeb040bb622ab32bd2432}

\begin{DoxyCode}
1457 \{
1458 \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION}(\textcolor{keyword}{this});
1459         \textcolor{keywordflow}{if} (slotInfo.m\_isOmni)
1460         \{
1461                 Ptr<AntennaArrayModel> antennaArray = DynamicCast<AntennaArrayModel> (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}{GetDlSpectrumPhy} ()->GetRxAntenna());
1462                 antennaArray->ChangeToOmniTx ();
1463         \}
1464         \textcolor{keywordflow}{else}
1465         \{ \textcolor{comment}{// update beamforming vectors (currently supports 1 user only)}
1466                 \textcolor{comment}{//std::map<uint16\_t, std::vector<unsigned> >::iterator ueRbIt = slotInfo.m\_ueRbMap.begin();}
1467                 \textcolor{comment}{//uint16\_t rnti = ueRbIt->first;}
1468                 \textcolor{keywordflow}{for} (uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{m\_deviceMap}.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1469                 \{
1470                         uint64\_t ueRnti = 0;
1471                         Ptr<MmWaveUeNetDevice> ueDev = \hyperlink{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{m\_deviceMap}.at(
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})->GetObject<MmWaveUeNetDevice> ();
1472                         \textcolor{keywordflow}{if} (ueDev != 0) 
1473                         \{
1474                                 ueRnti = ueDev->GetPhy ()-> GetRnti ();
1475                         \}
1476                         \textcolor{keywordflow}{else}
1477                         \{
1478                                 Ptr<McUeNetDevice> ueMcDev = \hyperlink{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{m\_deviceMap}.at(
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})->GetObject<McUeNetDevice> ();
1479 
1480                                 \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy})
1481                                         ueRnti = ueMcDev->GetMmWavePhy\_2 () -> GetRnti (); \textcolor{comment}{//sjkang}
1482                                 \textcolor{keywordflow}{else}
1483                                         ueRnti = ueMcDev->GetMmWavePhy () -> GetRnti ();
1484                         \} 
1485 
1486                         \textcolor{comment}{//NS\_LOG\_DEBUG ("Scheduled rnti:"<<rnti <<" ue rnti:"<< ueRnti);}
1487                         \textcolor{keywordflow}{if} (slotInfo.m\_dci.m\_rnti == ueRnti)
1488                         \{
1489                                 \textcolor{comment}{//NS\_LOG\_DEBUG ("Change Beamforming Vector");}
1490                                 Ptr<AntennaArrayModel> antennaArray = DynamicCast<AntennaArrayModel> (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}{GetDlSpectrumPhy} ()->GetRxAntenna());
1491                                 antennaArray->ChangeBeamformingVector (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{m\_deviceMap}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1492                                 \textcolor{keywordflow}{break};
1493                         \}
1494 
1495                 \}
1496         \}
1497 
1498         \textcolor{comment}{/*}
1499 \textcolor{comment}{        if (!slotInfo.m\_isOmni && !slotInfo.m\_ueRbMap.empty ())}
1500 \textcolor{comment}{        \{}
1501 \textcolor{comment}{                Ptr<AntennaArrayModel> antennaArray = DynamicCast<AntennaArrayModel> (GetDlSpectrumPhy
       ()->GetRxAntenna());}
1502 \textcolor{comment}{                 //set beamforming vector;}
1503 \textcolor{comment}{                 //for ENB, you can choose 64 antenna with 0-15 sectors, or 4 antenna with 0-3 sectors;}
1504 \textcolor{comment}{                 //input is (sector, antenna number)}
1505 \textcolor{comment}{                antennaArray->SetSector (0,64);}
1506 \textcolor{comment}{        \}}
1507 \textcolor{comment}{        */}
1508 
1509         std::list<Ptr<MmWaveControlMessage> > ctrlMsgs;
1510         \hyperlink{classns3_1_1MmWavePhy_aa266d9d20ba903f9adf2695dd626b885}{m\_downlinkSpectrumPhy}->StartTxDataFrames(pb, ctrlMsgs, slotPrd, slotInfo.
      m\_slotIdx);
1511 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 36




Here is the caller graph for this function\+:
% FIG 37


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Set\+Harq\+Phy\+Module@{Set\+Harq\+Phy\+Module}}
\index{Set\+Harq\+Phy\+Module@{Set\+Harq\+Phy\+Module}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Harq\+Phy\+Module(\+Ptr$<$ Mm\+Wave\+Harq\+Phy $>$ harq)}{SetHarqPhyModule(Ptr< MmWaveHarqPhy > harq)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Set\+Harq\+Phy\+Module (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mm\+Wave\+Harq\+Phy} $>$}]{harq}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_aed7f9e4b2a7a426dfab0a5c28aac7e3c}{}\label{classns3_1_1MmWaveEnbPhy_aed7f9e4b2a7a426dfab0a5c28aac7e3c}

\begin{DoxyCode}
1748 \{
1749   \hyperlink{classns3_1_1MmWaveEnbPhy_aa3e3b7fb0c5994726f3671b0afc51c58}{m\_harqPhyModule} = harq;
1750 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Set\+Mm\+Wave\+Enb\+Cphy\+Sap\+User@{Set\+Mm\+Wave\+Enb\+Cphy\+Sap\+User}}
\index{Set\+Mm\+Wave\+Enb\+Cphy\+Sap\+User@{Set\+Mm\+Wave\+Enb\+Cphy\+Sap\+User}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Mm\+Wave\+Enb\+Cphy\+Sap\+User(\+Lte\+Enb\+Cphy\+Sap\+User $\ast$s)}{SetMmWaveEnbCphySapUser(LteEnbCphySapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Set\+Mm\+Wave\+Enb\+Cphy\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Enb\+Cphy\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_ae5494b931712a00d40c1c4b2e75c2d28}{}\label{classns3_1_1MmWaveEnbPhy_ae5494b931712a00d40c1c4b2e75c2d28}

\begin{DoxyCode}
505 \{
506   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
507   \hyperlink{classns3_1_1MmWaveEnbPhy_ac5d84411029763cff0e7a1437c3a9397}{m\_enbCphySapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
508 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Set\+Noise\+Figure@{Set\+Noise\+Figure}}
\index{Set\+Noise\+Figure@{Set\+Noise\+Figure}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Noise\+Figure(double pf)}{SetNoiseFigure(double pf)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Set\+Noise\+Figure (
\begin{DoxyParamCaption}
\item[{double}]{pf}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a43b75a8b0a7dcba2ad88f8c6bb5692c2}{}\label{classns3_1_1MmWaveEnbPhy_a43b75a8b0a7dcba2ad88f8c6bb5692c2}

\begin{DoxyCode}
530 \{
531         \hyperlink{classns3_1_1MmWavePhy_ac3010f7611906c8dc5e93bc13ff79819}{m\_noiseFigure} = \hyperlink{lte__link__budget_8m_a9cd8534b44434622d5c8bbb1e3f3ff62}{nf};
532 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Set\+Phy\+Sap\+User@{Set\+Phy\+Sap\+User}}
\index{Set\+Phy\+Sap\+User@{Set\+Phy\+Sap\+User}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Phy\+Sap\+User(\+Mm\+Wave\+Enb\+Phy\+Sap\+User $\ast$ptr)}{SetPhySapUser(MmWaveEnbPhySapUser *ptr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Set\+Phy\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Mm\+Wave\+Enb\+Phy\+Sap\+User} $\ast$}]{ptr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_aa8098860dd2b45d7ef023252c3969839}{}\label{classns3_1_1MmWaveEnbPhy_aa8098860dd2b45d7ef023252c3969839}

\begin{DoxyCode}
1742 \{
1743         \hyperlink{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{m\_phySapUser} = ptr;
1744 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Set\+Stream@{Set\+Stream}}
\index{Set\+Stream@{Set\+Stream}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Stream(std\+::ostream $\ast$stream)}{SetStream(std::ostream *stream)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Set\+Stream (
\begin{DoxyParamCaption}
\item[{std\+::ostream $\ast$}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a81c6a815d89901efeaa1abc450449ef3}{}\label{classns3_1_1MmWaveEnbPhy_a81c6a815d89901efeaa1abc450449ef3}

\begin{DoxyCode}
1588                                        \{
1589         \hyperlink{classns3_1_1MmWaveEnbPhy_a7295a3929ce0574f3b4bc5db5aa170af}{stream\_sinr} = str;
1590 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Set\+Sub\+Channels@{Set\+Sub\+Channels}}
\index{Set\+Sub\+Channels@{Set\+Sub\+Channels}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Sub\+Channels(std\+::vector$<$ int $>$ mask)}{SetSubChannels(std::vector< int > mask)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Set\+Sub\+Channels (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ int $>$}]{mask}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a9e2456e5312a29007adfab81d5d79379}{}\label{classns3_1_1MmWaveEnbPhy_a9e2456e5312a29007adfab81d5d79379}

\begin{DoxyCode}
561 \{
562         \hyperlink{classns3_1_1MmWaveEnbPhy_aa13c933468e02fe5f7f10a6a68cea43e}{m\_listOfSubchannels} = mask;
563         Ptr<SpectrumValue> \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd} = \hyperlink{classns3_1_1MmWaveEnbPhy_a015a2751530829de95c6c92dfdd3a2ee}{CreateTxPowerSpectralDensity} ();
564         \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (txPsd);
565         \hyperlink{classns3_1_1MmWavePhy_aa266d9d20ba903f9adf2695dd626b885}{m\_downlinkSpectrumPhy}->SetTxPowerSpectralDensity (txPsd);
566 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 38




Here is the caller graph for this function\+:
% FIG 39


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Set\+Tx\+Power@{Set\+Tx\+Power}}
\index{Set\+Tx\+Power@{Set\+Tx\+Power}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Tx\+Power(double pow)}{SetTxPower(double pow)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Set\+Tx\+Power (
\begin{DoxyParamCaption}
\item[{double}]{pow}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a6c1dbccbab28c6883bf5a716d6605138}{}\label{classns3_1_1MmWaveEnbPhy_a6c1dbccbab28c6883bf5a716d6605138}

\begin{DoxyCode}
519 \{
520         \hyperlink{classns3_1_1MmWavePhy_ab2c43d2201e609a1c159c534e47788c1}{m\_txPower} = pow;
521 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 40


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Start\+Slot@{Start\+Slot}}
\index{Start\+Slot@{Start\+Slot}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Start\+Slot(void)}{StartSlot(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Start\+Slot (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_ac0adb365904c29715ad7c1cc39695bca}{}\label{classns3_1_1MmWaveEnbPhy_ac0adb365904c29715ad7c1cc39695bca}

\begin{DoxyCode}
1203 \{
1204 \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION}(\textcolor{keyword}{this});
1205         \textcolor{comment}{//assume the control signal is omi}
1206         Ptr<AntennaArrayModel> antennaArray = DynamicCast<AntennaArrayModel> (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}{GetDlSpectrumPhy} ()->GetRxAntenna());
1207         antennaArray->ChangeToOmniTx ();
1208 
1209         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1210 
1211         SlotAllocInfo currSlot;
1212 
1213         \textcolor{comment}{/*uint8\_t slotInd = 0;}
1214 \textcolor{comment}{        if (m\_slotNum >= m\_currSfAllocInfo.m\_dlSlotAllocInfo.size ())}
1215 \textcolor{comment}{        \{}
1216 \textcolor{comment}{                if (m\_currSfAllocInfo.m\_ulSlotAllocInfo.size () > 0)}
1217 \textcolor{comment}{                \{}
1218 \textcolor{comment}{                        slotInd = m\_slotNum - m\_currSfAllocInfo.m\_dlSlotAllocInfo.size ();}
1219 \textcolor{comment}{                        currSlot = m\_currSfAllocInfo.m\_ulSlotAllocInfo[slotInd];}
1220 \textcolor{comment}{                        m\_currSymStart = currSlot.m\_dci.m\_symStart;}
1221 \textcolor{comment}{                \}}
1222 \textcolor{comment}{        \}}
1223 \textcolor{comment}{        else}
1224 \textcolor{comment}{        \{}
1225 \textcolor{comment}{                if (m\_currSfAllocInfo.m\_ulSlotAllocInfo.size () > 0)}
1226 \textcolor{comment}{                \{}
1227 \textcolor{comment}{                        slotInd = m\_slotNum;}
1228 \textcolor{comment}{                        currSlot = m\_currSfAllocInfo.m\_dlSlotAllocInfo[slotInd];}
1229 \textcolor{comment}{                        m\_currSymStart = currSlot.m\_dci.m\_symStart;}
1230 \textcolor{comment}{                \}}
1231 \textcolor{comment}{        \}*/}
1232 
1233         \textcolor{comment}{//slotInd = m\_slotNum;}
1234         currSlot = \hyperlink{classns3_1_1MmWavePhy_adf1e91c9da8a1d3f82b1517363cddbe8}{m\_currSfAllocInfo}.\hyperlink{structns3_1_1SfAllocInfo_a6a87109ff89bf270a74ff95a5bbf9231}{m\_slotAllocInfo}[
      \hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum}];
1235         \hyperlink{classns3_1_1MmWaveEnbPhy_acabeb79f3613d2a6f8fcd44732e1da1b}{m\_currSymStart} = currSlot.m\_dci.m\_symStart;
1236 
1237         SfnSf sfn = SfnSf (\hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum}, \hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum}, \hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum});
1238   \hyperlink{classns3_1_1MmWaveEnbPhy_aa3e3b7fb0c5994726f3671b0afc51c58}{m\_harqPhyModule}->SubframeIndication (sfn);  \textcolor{comment}{// trigger HARQ module}
1239 
1240   std::list <Ptr<MmWaveControlMessage > > dciMsgList;
1241 
1242         \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} guardPeriod;
1243         \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} slotPeriod;
1244 
1245         \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum} == 0) \textcolor{comment}{// DL control slot}
1246         \{
1247                 \textcolor{comment}{// get control messages to be transmitted in DL-Control period}
1248                 std::list <Ptr<MmWaveControlMessage > > ctrlMsgs = 
      \hyperlink{classns3_1_1MmWavePhy_a3ac83b01351f502d4b781ebf3216b8cc}{GetControlMessages} ();
1249                 \textcolor{comment}{//std::list <Ptr<MmWaveControlMessage > >::iterator it = ctrlMsgs.begin ();}
1250                 \textcolor{comment}{// find all DL/UL DCI elements and create DCI messages to be transmitted in DL control
       period}
1251                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} islot = 0; islot < \hyperlink{classns3_1_1MmWavePhy_adf1e91c9da8a1d3f82b1517363cddbe8}{m\_currSfAllocInfo}.
      \hyperlink{structns3_1_1SfAllocInfo_a6a87109ff89bf270a74ff95a5bbf9231}{m\_slotAllocInfo}.size (); islot++)
1252                 \{
1253                         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_adf1e91c9da8a1d3f82b1517363cddbe8}{m\_currSfAllocInfo}.\hyperlink{structns3_1_1SfAllocInfo_a6a87109ff89bf270a74ff95a5bbf9231}{m\_slotAllocInfo}[islot].
      m\_slotType != \hyperlink{structns3_1_1SlotAllocInfo_a3ea7cb503bfd0c9a4df55a71b81b9331ad78b7d76ef82d56c33be1fa9c1867409}{SlotAllocInfo::CTRL} &&
1254                                         \hyperlink{classns3_1_1MmWavePhy_adf1e91c9da8a1d3f82b1517363cddbe8}{m\_currSfAllocInfo}.
      \hyperlink{structns3_1_1SfAllocInfo_a6a87109ff89bf270a74ff95a5bbf9231}{m\_slotAllocInfo}[islot].m\_tddMode == \hyperlink{structns3_1_1SlotAllocInfo_a6cad60db1d39034f1851e2cea625fe5da9a365c9c56b7c32dcae38ee1a468ce6d}{SlotAllocInfo::DL})
1255                         \{
1256                                 DciInfoElementTdma &dciElem = \hyperlink{classns3_1_1MmWavePhy_adf1e91c9da8a1d3f82b1517363cddbe8}{m\_currSfAllocInfo}.
      \hyperlink{structns3_1_1SfAllocInfo_a6a87109ff89bf270a74ff95a5bbf9231}{m\_slotAllocInfo}[islot].m\_dci;
1257                                 \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (dciElem.m\_format == 
      \hyperlink{structns3_1_1DciInfoElementTdma_af998ccd3b1e03836c113d353facc76f4a6497273a219b44fa44ea3a6ea608bfcb}{DciInfoElementTdma::DL});
1258                                 \textcolor{keywordflow}{if} (dciElem.m\_tbSize > 0)
1259                                 \{
1260                                         Ptr<MmWaveTdmaDciMessage> dciMsg = Create<MmWaveTdmaDciMessage> ();
1261                                         dciMsg->SetDciInfoElement (dciElem);
1262                                         dciMsg->SetSfnSf (sfn);
1263                                         dciMsgList.push\_back (dciMsg);
1264                                         ctrlMsgs.push\_back (dciMsg);
1265                                 \}
1266                         \}
1267                 \}
1268 
1269                 \textcolor{keywordtype}{unsigned} ulSfNum = (\hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum} + \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_afd70935ec71838fefe6a8e18198f19cb}{GetUlSchedDelay} ()) % \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a3709cf52f6813eb8ad1af16d95082dc1}{GetSubframesPerFrame} ();
1270                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} islot = 0; islot < \hyperlink{classns3_1_1MmWavePhy_a6e7002b99b8c50976033e0b96523f08c}{m\_sfAllocInfo}[ulSfNum].m\_slotAllocInfo.size (
      ); islot++)
1271                 \{
1272                         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_a6e7002b99b8c50976033e0b96523f08c}{m\_sfAllocInfo}[ulSfNum].m\_slotAllocInfo[islot].m\_slotType != 
      \hyperlink{structns3_1_1SlotAllocInfo_a3ea7cb503bfd0c9a4df55a71b81b9331ad78b7d76ef82d56c33be1fa9c1867409}{SlotAllocInfo::CTRL}
1273                                         && \hyperlink{classns3_1_1MmWavePhy_a6e7002b99b8c50976033e0b96523f08c}{m\_sfAllocInfo}[ulSfNum].m\_slotAllocInfo[islot].
      m\_tddMode == \hyperlink{structns3_1_1SlotAllocInfo_a6cad60db1d39034f1851e2cea625fe5da916b5be54594ead6ed677c570311cad2}{SlotAllocInfo::UL})
1274                         \{
1275                                 DciInfoElementTdma &dciElem = \hyperlink{classns3_1_1MmWavePhy_a6e7002b99b8c50976033e0b96523f08c}{m\_sfAllocInfo}[ulSfNum].
      m\_slotAllocInfo[islot].m\_dci;
1276                                 \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (dciElem.m\_format == 
      \hyperlink{structns3_1_1DciInfoElementTdma_af998ccd3b1e03836c113d353facc76f4a8611bf12ef88d043baf0e591bc63b314}{DciInfoElementTdma::UL});
1277                                 \textcolor{keywordflow}{if} (dciElem.m\_tbSize > 0)
1278                                 \{
1279                                         Ptr<MmWaveTdmaDciMessage> dciMsg = Create<MmWaveTdmaDciMessage> ();
1280                                         dciMsg->SetDciInfoElement (dciElem);
1281                                         dciMsg->SetSfnSf (sfn);
1282                                         \textcolor{comment}{//dciMsgList.push\_back (dciMsg);}
1283                                         ctrlMsgs.push\_back (dciMsg);
1284                                 \}
1285                         \}
1286                 \}
1287 
1288                 \textcolor{comment}{// TX control period}
1289                 \textcolor{comment}{//std::cout<<"MmWaveEnbPhy:: transimit packet to Enb sjkang vi DL control channel"
       <<std::endl;;}
1290                 slotPeriod = \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds} (1000.0*\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a1048fa4a24a72abc5d4d982efd6c21af}{GetSymbolPeriod} ()*\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->\hyperlink{classns3_1_1MmWavePhyMacCommon_a1be2da684374de93d7f501aab2441b5a}{GetDlCtrlSymbols}());
1291                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"ENB "} << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" TXing DL CTRL frame "} << 
      \hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum} << \textcolor{stringliteral}{" subframe "} << (\textcolor{keywordtype}{unsigned})\hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum} << \textcolor{stringliteral}{" symbols "}
1292                               << (\textcolor{keywordtype}{unsigned})currSlot.m\_dci.m\_symStart << \textcolor{stringliteral}{"-"} << (\textcolor{keywordtype}{unsigned})(currSlot.m\_dci.
      m\_symStart+currSlot.m\_dci.m\_numSym-1)
1293                               << \textcolor{stringliteral}{"\(\backslash\)t start "} << \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() << \textcolor{stringliteral}{" end "} << 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() + slotPeriod-\hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds}(1.0));
1294                 \hyperlink{classns3_1_1MmWaveEnbPhy_a1725bb913c4d82b765005106e47b85cf}{SendCtrlChannels}(ctrlMsgs, slotPeriod-
      \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds}(1.0)); \textcolor{comment}{// -1 ns ensures control ends before data period //sjkang will send control
       mnessage}
1295         \}
1296         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum} == \hyperlink{classns3_1_1MmWaveEnbPhy_a009230227393f4585df5440133f1a52b}{m\_currSfNumSlots}-1) \textcolor{comment}{// UL control slot}
1297         \{
1298                 slotPeriod = \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds} (1000.0*\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a1048fa4a24a72abc5d4d982efd6c21af}{GetSymbolPeriod} ()*\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->\hyperlink{classns3_1_1MmWavePhyMacCommon_aa0bf8af14050bc5dc6513fbc86319a9b}{GetUlCtrlSymbols}());
1299                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"ENB "} << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" RXing UL CTRL frame "} << 
      \hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum} << \textcolor{stringliteral}{" subframe "} << (\textcolor{keywordtype}{unsigned})\hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum} << \textcolor{stringliteral}{" symbols "}
1300                               << (\textcolor{keywordtype}{unsigned})currSlot.m\_dci.m\_symStart << \textcolor{stringliteral}{"-"} << (\textcolor{keywordtype}{unsigned})(currSlot.m\_dci.
      m\_symStart+currSlot.m\_dci.m\_numSym-1)
1301                                                             << \textcolor{stringliteral}{"\(\backslash\)t start "} << 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() << \textcolor{stringliteral}{" end "} << \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() + slotPeriod);
1302         \}
1303         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (currSlot.m\_tddMode == \hyperlink{structns3_1_1SlotAllocInfo_a6cad60db1d39034f1851e2cea625fe5da9a365c9c56b7c32dcae38ee1a468ce6d}{SlotAllocInfo::DL})        \textcolor{comment}{// transmit DL slot}
1304         \{
1305                 slotPeriod = \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds} (1000.0 * \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a1048fa4a24a72abc5d4d982efd6c21af}{GetSymbolPeriod}() * currSlot.m\_dci.m\_numSym);
1306                 \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (currSlot.m\_tddMode == \hyperlink{structns3_1_1SlotAllocInfo_a6cad60db1d39034f1851e2cea625fe5da9a365c9c56b7c32dcae38ee1a468ce6d}{SlotAllocInfo::DL});
1307                 \textcolor{comment}{//NS\_LOG\_DEBUG ("Slot " << m\_slotNum << " scheduled for Downlink");}
1308                 \textcolor{comment}{//                      if (m\_prevSlotDir == SlotAllocInfo::UL)  // if curr slot == DL and
       prev slot == UL}
1309                 \textcolor{comment}{//                      \{}
1310                 \textcolor{comment}{//                              guardPeriod = NanoSeconds (1000.0 *
       m\_phyMacConfig->GetGuardPeriod ());}
1311                 \textcolor{comment}{//                      \}}
1312                 \textcolor{comment}{//std::cout<<"MmWaveEnbPhy:: transimit packet to Enb sjkang" <<std::endl;;}
1313                 Ptr<PacketBurst> pktBurst = \hyperlink{classns3_1_1MmWavePhy_acc47ea975529c5c4ae3ad138fb3f4278}{GetPacketBurst} (SfnSf (
      \hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum}, \hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum}, currSlot.m\_dci.m\_symStart));
1314                 \textcolor{keywordflow}{if}(pktBurst && pktBurst->GetNPackets() > 0)
1315                 \{
1316                         std::list< Ptr<Packet> > pkts = pktBurst->GetPackets ();
1317                         MmWaveMacPduTag macTag;
1318                         pkts.front ()->PeekPacketTag (macTag);
1319                         \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} ((macTag.GetSfn().m\_sfNum == \hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum}) && (macTag.GetSfn()
      .m\_slotNum == currSlot.m\_dci.m\_symStart));
1320                 \}
1321                 \textcolor{keywordflow}{else}
1322                 \{
1323                         \textcolor{comment}{// sometimes the UE will be scheduled when no data is queued}
1324                         \textcolor{comment}{// in this case, send an empty PDU}
1325                         MmWaveMacPduTag tag (SfnSf(\hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum}, \hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum}, currSlot.m\_dci.
      m\_symStart));
1326                         Ptr<Packet> emptyPdu = Create <Packet> ();
1327                         MmWaveMacPduHeader header;
1328                         MacSubheader subheader (3, 0);  \textcolor{comment}{// lcid = 3, size = 0}
1329                         header.AddSubheader (subheader);
1330                         emptyPdu->AddHeader (header);
1331                         emptyPdu->AddPacketTag (tag);
1332                         LteRadioBearerTag bearerTag (currSlot.m\_dci.m\_rnti, 3, 0);
1333                         emptyPdu->AddPacketTag (bearerTag);
1334                         pktBurst = CreateObject<PacketBurst> ();
1335                         pktBurst->AddPacket (emptyPdu);
1336                 \}
1337                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"ENB "} << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" TXing DL DATA frame "} << 
      \hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum} << \textcolor{stringliteral}{" subframe "} << (\textcolor{keywordtype}{unsigned})\hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum} << \textcolor{stringliteral}{" symbols "}
1338                               << (\textcolor{keywordtype}{unsigned})currSlot.m\_dci.m\_symStart << \textcolor{stringliteral}{"-"} << (\textcolor{keywordtype}{unsigned})(currSlot.m\_dci.
      m\_symStart+currSlot.m\_dci.m\_numSym-1)
1339                               << \textcolor{stringliteral}{"\(\backslash\)t start "} << \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}()+
      \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds}(1.0) << \textcolor{stringliteral}{" end "} << \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() + slotPeriod-
      \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds} (2.0));
1340                 \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (\hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds}(1.0), &
      \hyperlink{classns3_1_1MmWaveEnbPhy_a2e177ec4620eeb040bb622ab32bd2432}{MmWaveEnbPhy::SendDataChannels}, \textcolor{keyword}{this}, pktBurst, slotPeriod-
      \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds} (2.0), currSlot);
1341         \}
1342         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (currSlot.m\_tddMode == \hyperlink{structns3_1_1SlotAllocInfo_a6cad60db1d39034f1851e2cea625fe5da916b5be54594ead6ed677c570311cad2}{SlotAllocInfo::UL})  \textcolor{comment}{// receive UL slot}
1343         \{
1344                 slotPeriod = \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds} (1000.0 * \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a1048fa4a24a72abc5d4d982efd6c21af}{GetSymbolPeriod}() * currSlot.m\_dci.m\_numSym);
1345                 \textcolor{comment}{//NS\_LOG\_DEBUG ("Slot " << (uint8\_t)m\_slotNum << " scheduled for Uplink");}
1346                 \hyperlink{classns3_1_1MmWavePhy_aa266d9d20ba903f9adf2695dd626b885}{m\_downlinkSpectrumPhy}->AddExpectedTb(currSlot.m\_dci.m\_rnti, currSlot.
      m\_dci.m\_ndi, currSlot.m\_dci.m\_tbSize,
1347                                                      currSlot.m\_dci.m\_mcs, 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a0aa065c471eb33a7bf9ba6acb966b8ff}{m\_channelChunks}, currSlot.m\_dci.m\_harqProcess, currSlot.m\_dci.m\_rv, \textcolor{keyword}{false},
1348                                                      currSlot.m\_dci.m\_symStart, currSlot.m\_dci.m\_numSym);
1349 
1350                 \textcolor{keywordflow}{for} (uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{m\_deviceMap}.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1351                 \{
1352                         Ptr<MmWaveUeNetDevice> ueDev = DynamicCast<MmWaveUeNetDevice> (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{m\_deviceMap}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1353                         Ptr<McUeNetDevice> mcUeDev = DynamicCast<McUeNetDevice> (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{m\_deviceMap}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1354                         uint64\_t ueRnti; \textcolor{comment}{//= (ueDev != 0) ? (ueDev->GetPhy ()->GetRnti ()) :
       (mcUeDev->GetMmWavePhy()->GetRnti ());}
1355 
1356                         \textcolor{comment}{//if (mcUeDev->GetMmWavePhy()==0)\{}
1357                                 \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy}) \textcolor{comment}{//sjkang}
1358                         ueRnti = (ueDev != 0) ? (ueDev->GetPhy ()->GetRnti ()) : (mcUeDev->GetMmWavePhy\_2()
      ->GetRnti ());\textcolor{comment}{//sjkang}
1359                                 \textcolor{keywordflow}{else}
1360                                         ueRnti = (ueDev != 0) ? (ueDev->GetPhy ()->GetRnti ()) : (mcUeDev->
      GetMmWavePhy()->GetRnti ());\textcolor{comment}{//sjkang}
1361 
1362                         \textcolor{comment}{//\}}
1363                         \textcolor{comment}{//NS\_LOG\_DEBUG ("Scheduled rnti:"<<rnti <<" ue rnti:"<< ueRnti);}
1364                         \textcolor{keywordflow}{if} (currSlot.m\_rnti == ueRnti)
1365                         \{
1366                                 \textcolor{comment}{//NS\_LOG\_DEBUG ("Change Beamforming Vector");}
1367 
1368                                 Ptr<AntennaArrayModel> antennaArray = DynamicCast<AntennaArrayModel> (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}{GetDlSpectrumPhy} ()->GetRxAntenna());
1369                                 antennaArray->ChangeBeamformingVector (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{m\_deviceMap}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1370                                 \textcolor{keywordflow}{break};
1371                         \}
1372                 \}
1373 
1374                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"ENB "} << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" RXing UL DATA frame "} << 
      \hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum} << \textcolor{stringliteral}{" subframe "} << (\textcolor{keywordtype}{unsigned})\hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum} << \textcolor{stringliteral}{" symbols "}
1375                               << (\textcolor{keywordtype}{unsigned})currSlot.m\_dci.m\_symStart << \textcolor{stringliteral}{"-"} << (\textcolor{keywordtype}{unsigned})(currSlot.m\_dci.
      m\_symStart+currSlot.m\_dci.m\_numSym-1)
1376                               << \textcolor{stringliteral}{"\(\backslash\)t start "} << \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() << \textcolor{stringliteral}{" end "} << 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() + slotPeriod );
1377         \}
1378 
1379   \hyperlink{classns3_1_1MmWaveEnbPhy_a92d3298da69cf554e4bd1ed5dbf37a08}{m\_prevSlotDir} = currSlot.m\_tddMode;
1380 
1381         \hyperlink{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{m\_phySapUser}->\hyperlink{classns3_1_1MmWaveEnbPhySapUser_a233023a30b3f41bc54347d3bdce1ff05}{SubframeIndication} (SfnSf (
      \hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum}, \hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum}, \hyperlink{classns3_1_1MmWavePhy_a6c83cdb8c36a9a58ae8b9f17933680ac}{m\_slotNum}));  \textcolor{comment}{// trigger MAC}
1382 
1383         \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (slotPeriod, &
      \hyperlink{classns3_1_1MmWaveEnbPhy_aaea005a7298f69167a554a3c3c03b132}{MmWaveEnbPhy::EndSlot}, \textcolor{keyword}{this});
1384 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 41




Here is the caller graph for this function\+:
% FIG 42


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Start\+Sub\+Frame@{Start\+Sub\+Frame}}
\index{Start\+Sub\+Frame@{Start\+Sub\+Frame}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Start\+Sub\+Frame(void)}{StartSubFrame(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Start\+Sub\+Frame (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_af066571ea81c9b07cb94f84e5297c11d}{}\label{classns3_1_1MmWaveEnbPhy_af066571ea81c9b07cb94f84e5297c11d}

\begin{DoxyCode}
1165 \{
1166         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1167 
1168         \hyperlink{classns3_1_1MmWaveEnbPhy_aa928d54402d87640ee61f0c3b5cf2e0c}{m\_lastSfStart} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}();
1169 
1170         \hyperlink{classns3_1_1MmWavePhy_adf1e91c9da8a1d3f82b1517363cddbe8}{m\_currSfAllocInfo} = \hyperlink{classns3_1_1MmWavePhy_a6e7002b99b8c50976033e0b96523f08c}{m\_sfAllocInfo}[\hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum}];
1171         \textcolor{comment}{//m\_currSfNumSlots = m\_currSfAllocInfo.m\_dlSlotAllocInfo.size () +
       m\_currSfAllocInfo.m\_ulSlotAllocInfo.size ();}
1172         \hyperlink{classns3_1_1MmWaveEnbPhy_a009230227393f4585df5440133f1a52b}{m\_currSfNumSlots} = \hyperlink{classns3_1_1MmWavePhy_adf1e91c9da8a1d3f82b1517363cddbe8}{m\_currSfAllocInfo}.
      \hyperlink{structns3_1_1SfAllocInfo_a6a87109ff89bf270a74ff95a5bbf9231}{m\_slotAllocInfo}.size ();
1173 
1174         \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} ((\hyperlink{classns3_1_1MmWavePhy_adf1e91c9da8a1d3f82b1517363cddbe8}{m\_currSfAllocInfo}.\hyperlink{structns3_1_1SfAllocInfo_a94ce81441772a4663db2051e7fb3e7d7}{m\_sfnSf}.
      \hyperlink{structns3_1_1SfnSf_a28d741175c84feef9a47c8d8bd60b9bf}{m\_frameNum} == \hyperlink{classns3_1_1MmWavePhy_a852ce585035a1c12122d2775e64ff38a}{m\_frameNum}) &&
1175                    (\hyperlink{classns3_1_1MmWavePhy_adf1e91c9da8a1d3f82b1517363cddbe8}{m\_currSfAllocInfo}.\hyperlink{structns3_1_1SfAllocInfo_a94ce81441772a4663db2051e7fb3e7d7}{m\_sfnSf}.\hyperlink{structns3_1_1SfnSf_a501403661892f4c9bf1d40ef088f3f36}{m\_sfNum} == 
      \hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum}));
1176 
1177         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum} == 0)                \textcolor{comment}{// send MIB at the beginning of each frame}
1178         \{
1179                 LteRrcSap::MasterInformationBlock mib;
1180                 mib.dlBandwidth = (uint8\_t)4;
1181                 mib.systemFrameNumber = 1;
1182                 Ptr<MmWaveMibMessage> mibMsg = Create<MmWaveMibMessage> ();
1183                 mibMsg->SetMib(mib);
1184                 \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_ab8d262ef427a0c22ebb614f9991e7ce0}{m\_controlMessageQueue}.empty())
1185                 \{
1186                         std::list<Ptr<MmWaveControlMessage> > \hyperlink{buildings__pathloss_8m_a5b54c0a045f179bcbbbc9abcb8b5cd4c}{l};
1187                         \hyperlink{classns3_1_1MmWavePhy_ab8d262ef427a0c22ebb614f9991e7ce0}{m\_controlMessageQueue}.push\_back (l);
1188                 \}
1189                 \hyperlink{classns3_1_1MmWavePhy_ab8d262ef427a0c22ebb614f9991e7ce0}{m\_controlMessageQueue}.at (0).push\_back (mibMsg);
1190         \}
1191         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_af3d76eb9f3e5e1ff669852d05986c1a3}{m\_sfNum} == 5)  \textcolor{comment}{// send SIB at beginning of second half-frame}
1192         \{
1193                 Ptr<MmWaveSib1Message> msg = Create<MmWaveSib1Message> ();
1194                 msg->SetSib1 (\hyperlink{classns3_1_1MmWaveEnbPhy_a772e412012e0b50873b4e250de2696a2}{m\_sib1});
1195                 \hyperlink{classns3_1_1MmWavePhy_ab8d262ef427a0c22ebb614f9991e7ce0}{m\_controlMessageQueue}.at (0).push\_back (msg);
1196         \}
1197 
1198         \hyperlink{classns3_1_1MmWaveEnbPhy_ac0adb365904c29715ad7c1cc39695bca}{StartSlot}();
1199 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 43




Here is the caller graph for this function\+:
% FIG 44


\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Update\+Ue\+Sinr\+Estimate@{Update\+Ue\+Sinr\+Estimate}}
\index{Update\+Ue\+Sinr\+Estimate@{Update\+Ue\+Sinr\+Estimate}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Update\+Ue\+Sinr\+Estimate()}{UpdateUeSinrEstimate()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Enb\+Phy\+::\+Update\+Ue\+Sinr\+Estimate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveEnbPhy_a09aa03118ceed8c46f87dc0f6b6c71a2}{}\label{classns3_1_1MmWaveEnbPhy_a09aa03118ceed8c46f87dc0f6b6c71a2}

\begin{DoxyCode}
762 \{
763     \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION}(\textcolor{keyword}{this});
764         \hyperlink{classns3_1_1MmWaveEnbPhy_a754de7cf4bdbe107dfb006a5b332842a}{m\_sinrMap}.clear();
765         \hyperlink{classns3_1_1MmWaveEnbPhy_a40b3813d00f430aed47e1ee084df4d78}{m\_rxPsdMap}.clear();
766         
767 
768         Ptr<SpectrumValue> noisePsd = 
      \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_ae17f7f89a0ce6934b94886b463c6db44}{MmWaveSpectrumValueHelper::CreateNoisePowerSpectralDensity}
       (\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}, \hyperlink{classns3_1_1MmWavePhy_ac3010f7611906c8dc5e93bc13ff79819}{m\_noiseFigure});
769         Ptr<SpectrumValue> totalReceivedPsd = Create <SpectrumValue> (SpectrumValue(noisePsd->
      GetSpectrumModel()));
770 
771         \textcolor{keywordflow}{for}(std::map<uint64\_t, Ptr<NetDevice> >::iterator ue = 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1e8b3730ff37d9fc19d9ec07f06e6be5}{m\_ueAttachedImsiMap}.begin(); ue != \hyperlink{classns3_1_1MmWaveEnbPhy_a1e8b3730ff37d9fc19d9ec07f06e6be5}{m\_ueAttachedImsiMap}.end(); ++ue)
772         \{
773                 \textcolor{comment}{// distinguish between MC and MmWaveNetDevice}
774                 Ptr<MmWaveUeNetDevice> ueNetDevice = DynamicCast<MmWaveUeNetDevice> (ue->second);
775                 Ptr<McUeNetDevice> mcUeDev = DynamicCast<McUeNetDevice> (ue->second);
776                 Ptr<MmWaveUePhy> uePhy;
777                 \textcolor{comment}{// get tx power}
778                 \textcolor{keywordtype}{double} ueTxPower = 0;
779                 \textcolor{keywordflow}{if}(ueNetDevice != 0) 
780                 \{
781                         uePhy = ueNetDevice->GetPhy();
782                         ueTxPower = uePhy->GetTxPower();
783                 \}
784                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mcUeDev != 0) \textcolor{comment}{// it may be a MC device}
785                 \{
786                         
787 
788                         \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy}) \textcolor{comment}{//sjkang}
789                                 uePhy = mcUeDev->GetMmWavePhy\_2 ();
790 
791                         \textcolor{keywordflow}{else}
792                                 uePhy = mcUeDev->GetMmWavePhy ();
793                         ueTxPower = uePhy->GetTxPower();        
794                 \}
795                 \textcolor{keywordflow}{else}
796                 \{
797                         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR}(\textcolor{stringliteral}{"Unrecognized device"});
798                 \}
799                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"UE Tx power = "} << ueTxPower);
800             \textcolor{keywordtype}{double} powerTxW = std::pow (10., (ueTxPower - 30) / 10);
801             \textcolor{keywordtype}{double} txPowerDensity = 0;
802         txPowerDensity = (powerTxW / (\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a8a0b7aa68fc805eb3e8cbdc289fde04c}{GetSystemBandwidth}()));
803             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"Linear UE Tx power = "} << powerTxW);
804             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"System bandwidth = "} << \hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a8a0b7aa68fc805eb3e8cbdc289fde04c}{GetSystemBandwidth}());
805             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"txPowerDensity = "} << txPowerDensity);
806                 \textcolor{comment}{// create tx psd}
807                 Ptr<SpectrumValue> \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd} =                                         \textcolor{comment}{// it is the eNB
       that dictates the conf, m\_listOfSubchannels contains all the subch}
808                         \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_a1a968ae81d81f346027fe474e7962148}{MmWaveSpectrumValueHelper::CreateTxPowerSpectralDensity}
       (\hyperlink{classns3_1_1MmWavePhy_a869abf36bbdbb94eed77ba6e4846f6e4}{m\_phyMacConfig}, ueTxPower, \hyperlink{classns3_1_1MmWaveEnbPhy_aa13c933468e02fe5f7f10a6a68cea43e}{m\_listOfSubchannels});
809                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"TxPsd "} << *txPsd);
810 
811                 \textcolor{comment}{// get this node and remote node mobility}
812                 Ptr<MobilityModel> enbMob = \hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice}->GetNode()->GetObject<MobilityModel>(); 
813                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"eNB mobility "} << enbMob->GetPosition());
814                 Ptr<MobilityModel> ueMob = ue->second->GetNode()->GetObject<MobilityModel>();
815                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"UE mobility "} << ueMob->GetPosition());
816                 
817                 \textcolor{comment}{// compute rx psd}
818 
819                 \textcolor{comment}{// adjuts beamforming of antenna model wrt user}
820                 Ptr<AntennaArrayModel> rxAntennaArray = DynamicCast<AntennaArrayModel> (
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1fd12ed3e1da54288cf17a1bb9bcdf74}{GetDlSpectrumPhy} ()->GetRxAntenna());
821                 rxAntennaArray->ChangeBeamformingVector (ue->second);                                                                   \textcolor{comment}{
      // TODO check if this is the correct antenna}
822                 Ptr<AntennaArrayModel> txAntennaArray = DynamicCast<AntennaArrayModel> (uePhy->
      GetDlSpectrumPhy ()->GetRxAntenna());                                                                                                                                                                \textcolor{comment}{
      // Dl, since the Ul is not actually used (TDD device)}
823                 txAntennaArray->ChangeBeamformingVector (\hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice});                                                                       \textcolor{comment}{
      // TODO check if this is the correct antenna}
824                 
825                 \textcolor{keywordtype}{double} pathLossDb = 0;
826                 \textcolor{keywordflow}{if} (txAntennaArray != 0)
827                 \{
828                   Angles txAngles (enbMob->GetPosition (), ueMob->GetPosition ());
829                   \textcolor{keywordtype}{double} txAntennaGain = txAntennaArray->GetGainDb (txAngles);
830                   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"txAntennaGain = "} << txAntennaGain << \textcolor{stringliteral}{" dB"});
831                   pathLossDb -= txAntennaGain;
832                 \}
833                 \textcolor{keywordflow}{if} (rxAntennaArray != 0)
834                 \{
835                   Angles rxAngles (ueMob->GetPosition (), enbMob->GetPosition ());
836                   \textcolor{keywordtype}{double} rxAntennaGain = rxAntennaArray->GetGainDb (rxAngles);
837                   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"rxAntennaGain = "} << rxAntennaGain << \textcolor{stringliteral}{" dB"});
838                   pathLossDb -= rxAntennaGain;
839                 \}
840                 \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_ae16faa8d6eeee2cc0cc712b0ccb62064}{m\_propagationLoss})
841                 \{
842                         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWavePhy_a614158bb98ad735dc185e0d6eccc51a0}{m\_losTracker} != 0) \textcolor{comment}{// if I am using the PL propagation model with
       Aditya's traces}
843                         \{
844                                 \hyperlink{classns3_1_1MmWavePhy_a614158bb98ad735dc185e0d6eccc51a0}{m\_losTracker}->UpdateLosNlosState(ueMob,enbMob); \textcolor{comment}{// update the
       maps to keep trak of the real PL values, before computing the PL}
845                         \}
846                   \textcolor{keywordtype}{double} propagationGainDb = \hyperlink{classns3_1_1MmWavePhy_ae16faa8d6eeee2cc0cc712b0ccb62064}{m\_propagationLoss}->
      \hyperlink{classns3_1_1PropagationLossModel_a8b42564e9b03e2197f17aab6692c4fee}{CalcRxPower} (0, ueMob, enbMob);
847                   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"propagationGainDb = "} << propagationGainDb << \textcolor{stringliteral}{" dB"});
848                   pathLossDb -= propagationGainDb;
849                 \}                    
850                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"total pathLoss = "} << pathLossDb << \textcolor{stringliteral}{" dB"});
851 
852                 \textcolor{keywordtype}{double} pathGainLinear = std::pow (10.0, (-pathLossDb) / 10.0);
853                 Ptr<SpectrumValue> rxPsd = txPsd->Copy();
854                 *(rxPsd) *= pathGainLinear;              
855 
856                 Ptr<MmWaveBeamforming> beamforming = DynamicCast<MmWaveBeamforming> (
      \hyperlink{classns3_1_1MmWavePhy_a3d7feea996066a51496915c8c232daa4}{m\_spectrumPropagationLossModel});
857                 \textcolor{comment}{//beamforming->SetBeamformingVector(ue->second, m\_netDevice);}
858                 Ptr<MmWaveChannelMatrix> channelMatrix = DynamicCast<MmWaveChannelMatrix> (
      \hyperlink{classns3_1_1MmWavePhy_a3d7feea996066a51496915c8c232daa4}{m\_spectrumPropagationLossModel});
859                 Ptr<MmWaveChannelRaytracing> rayTracing = DynamicCast<MmWaveChannelRaytracing> (
      \hyperlink{classns3_1_1MmWavePhy_a3d7feea996066a51496915c8c232daa4}{m\_spectrumPropagationLossModel});
860                 Ptr<MmWave3gppChannel> mmWave3gpp = DynamicCast<MmWave3gppChannel> (
      \hyperlink{classns3_1_1MmWavePhy_a3d7feea996066a51496915c8c232daa4}{m\_spectrumPropagationLossModel});
861                 \textcolor{keywordflow}{if} (beamforming != 0)
862                 \{
863                         rxPsd = beamforming->CalcRxPowerSpectralDensity(rxPsd, ueMob, enbMob);
864                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"RxPsd "} << *rxPsd);
865                 \}
866                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (channelMatrix != 0)
867                 \{
868                         rxPsd = channelMatrix->CalcRxPowerSpectralDensity(rxPsd, ueMob, enbMob);
869                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"RxPsd "} << *rxPsd);
870                 \}
871                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rayTracing != 0)
872                 \{
873                         rxPsd = rayTracing->CalcRxPowerSpectralDensity(rxPsd, ueMob, enbMob);
874                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"RxPsd "} << *rxPsd);
875                 \}
876                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mmWave3gpp != 0)
877                 \{
878                         rxPsd = mmWave3gpp->CalcRxPowerSpectralDensity(rxPsd, ueMob, enbMob);
879                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"RxPsd "} << *rxPsd);
880                 \}       
881                 \hyperlink{classns3_1_1MmWaveEnbPhy_a40b3813d00f430aed47e1ee084df4d78}{m\_rxPsdMap}[ue->first] = rxPsd;
882 
883                 *totalReceivedPsd += *rxPsd;
884 
885                 \textcolor{comment}{// set back the bf vector to the main eNB}
886                 \textcolor{keywordflow}{if}(ueNetDevice != 0) 
887                 \{                                                                                                               \textcolor{comment}{
      // target not set yet}
888                         \textcolor{keywordflow}{if}((ueNetDevice->GetTargetEnb() != \hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice}) && (ueNetDevice->
      GetTargetEnb() != 0))
889                         \{
890                                 txAntennaArray->ChangeBeamformingVector(ueNetDevice->GetTargetEnb());
891                         \}
892                 \}
893                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mcUeDev != 0) \textcolor{comment}{// it may be a MC device}
894                 \{                                                                                                                       \textcolor{comment}{
      // target not set yet}
895                         \textcolor{keywordflow}{if}((mcUeDev->GetMmWaveTargetEnb() != \hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice}) && (mcUeDev->
      GetMmWaveTargetEnb() != 0) && !\hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy})
896                         \{
897                                 txAntennaArray->ChangeBeamformingVector(mcUeDev->GetMmWaveTargetEnb());
898                         \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((mcUeDev->GetMmWaveTargetEnb\_2() != \hyperlink{classns3_1_1MmWavePhy_a0f14f4e8f7539b06497ba321d9df344c}{m\_netDevice}) && (mcUeDev->
      GetMmWaveTargetEnb\_2() != 0) && \hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy} ) \textcolor{comment}{//sjkang1117}
899                         \{
900                                 txAntennaArray->ChangeBeamformingVector(mcUeDev->GetMmWaveTargetEnb\_2());
901                         \}
902                 \}
903                 \textcolor{keywordflow}{else}
904                 \{
905                         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR}(\textcolor{stringliteral}{"Unrecognized device"});
906                 \}
907 
908         \}
909 
910         \textcolor{keywordflow}{for}(std::map<uint64\_t, Ptr<SpectrumValue> >::iterator ue = \hyperlink{classns3_1_1MmWaveEnbPhy_a40b3813d00f430aed47e1ee084df4d78}{m\_rxPsdMap}.begin(); ue != 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a40b3813d00f430aed47e1ee084df4d78}{m\_rxPsdMap}.end(); ++ue)
911         \{
912                 SpectrumValue interference = *totalReceivedPsd - *(ue->second);
913                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"interference "} << interference);
914                 SpectrumValue sinr = *(ue->second)/(*noisePsd); \textcolor{comment}{// + interference); }
915                 \textcolor{comment}{// we consider the SNR only!}
916                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"sinr "} << sinr);
917                 \textcolor{keywordtype}{double} sinrAvg = \hyperlink{namespacens3_afad5475661952172fe6ef1260360dad8}{Sum}(sinr)/(sinr.GetSpectrumModel()->GetNumBands());
918                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"Time "} << \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}().GetSeconds() << \textcolor{stringliteral}{" CellId
       "} << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" UE "} << ue->first << \textcolor{stringliteral}{"Average SINR "} << 10*std::log10(sinrAvg));
919 
920                 \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1MmWaveEnbPhy_adc49fae3719fbc3f8bfed9b49b04a6c6}{m\_noiseAndFilter})
921                 \{
922                         \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pairDevices\_t} pairDevices = std::make\_pair(ue->first, 
      \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId}); \textcolor{comment}{// this is the current pair (UE-eNB)}
923                         std::map< pairDevices\_t, std::vector<double> >::iterator iteratorSinr =
924                                                                  \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\_sinrVector}.find(pairDevices)
      ; \textcolor{comment}{// pair [pairDevices,Sinrvalue] }
925 
926                         \textcolor{keywordflow}{if} (iteratorSinr != \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\_sinrVector}.end()) \textcolor{comment}{// this map has already been
       initialized, so I can add a new element for the SINR collection}
927                         \{
928                                 \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Now}().\hyperlink{classns3_1_1Time_a2542b9273c336da11fcaf54e8bc6e4c8}{GetMicroSeconds}() <= 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a60467889c9c76cba890f049098f4a822}{m\_transient} )
929                                 \{
930                                         \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\_sinrVector}.at(pairDevices).push\_back(sinrAvg); \textcolor{comment}{//
       before transient, so just collect SINR values}
931                                 \}
932                                 \textcolor{keywordflow}{else}
933                                 \{       
934                                         \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\_sinrVector}.at(pairDevices).erase(
      \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\_sinrVector}.at(pairDevices).begin());
935                                         \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\_sinrVector}.at(pairDevices).push\_back(sinrAvg); \textcolor{comment}{//
       before transient, so just collect SINR values}
936                                 \}
937                                 
938                                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"At time "} << \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Now}().GetMicroSeconds() << \textcolor{stringliteral}{" push
       back the REAL SINR "} << 10*std::log10(sinrAvg) <<
939                                          \textcolor{stringliteral}{" for pair with CellId "} << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" and UE "} << ue->
      first);
940                         \}
941                         \textcolor{keywordflow}{else} \textcolor{comment}{// vector is not initialized, so it means that we are still in the initial
       transient phase, for that pair}
942                         \{
943                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\_sinrVector}.insert(std::pair<
      \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pairDevices\_t}, std::vector<double> >(pairDevices,std::vector<double>()));
944                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\_sinrVector}.at(pairDevices).push\_back(sinrAvg); \textcolor{comment}{// push back a
       new SINR value}
945                                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"At time "} << \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Now}().GetMicroSeconds() << \textcolor{stringliteral}{"
       first initializazion and push back the SINR "} << 10*std::log10(sinrAvg) << 
946                                         \textcolor{stringliteral}{" for pair with CellId "} << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" and UE "} << ue->
      first);
947                         \}       
948 
949                 
950 
951 
952                         std::map< pairDevices\_t, std::vector<double> >::iterator iteratorFinalTrace =
953                                                          \hyperlink{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}{m\_finalSinrVector}.find(
      pairDevices); \textcolor{comment}{// pair [pairDevices,Sinrvalue] }
954                         \textcolor{comment}{/* INITIALIZATION OF VECTORS */}
955                         \textcolor{keywordflow}{if} (iteratorFinalTrace == \hyperlink{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}{m\_finalSinrVector}.end())
956                         \{               
957                                 \hyperlink{classns3_1_1MmWaveEnbPhy_afee86fc55fdcef25ada2042be5740c62}{m\_samplesFilter}.insert(std::pair<
      \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pairDevices\_t},std::pair<uint64\_t,uint64\_t> >(pairDevices,std::pair<uint64\_t,uint64\_t>())); 
958                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}{m\_finalSinrVector}.insert(std::pair<
      \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pairDevices\_t},std::vector<double> > (pairDevices,std::vector<double> ()) );
959                         \}
960                         
961                         
962                         std::map< pairDevices\_t, std::vector<double> >::iterator iteratorSinrToFilter =
963                                                          \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.find(
      pairDevices); \textcolor{comment}{// pair [pairDevices,Sinrvalue] }
964                         \textcolor{comment}{/* INITIALIZATION OF VECTORS */}
965                         \textcolor{keywordflow}{if} (iteratorSinrToFilter == \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.end())
966                         \{
967                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.insert(std::pair<
      \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pairDevices\_t},std::vector<double> > (pairDevices,std::vector<double>()));
968                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a796cebfd5468736861afc539d2ec4098}{m\_sinrVectorNoisy}.insert(std::pair<
      \hyperlink{namespacens3_abe460b1ad735ce7c8e408857371b87af}{pairDevices\_t},std::vector<double> > (pairDevices,std::vector<double>()));
969                         \}       
970 
971                         \textcolor{comment}{/* generate Gaussian noise for the last SINR value (that is the current one) */}
972                         \textcolor{keywordtype}{double} sinrNoisy = \hyperlink{classns3_1_1MmWaveEnbPhy_a5c2d760ae23133aae1b22b513a864192}{AddGaussianNoise}(
      \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\_sinrVector}.at(pairDevices).back());  
973 
974 
975                         \textcolor{comment}{/* UPDATE TRACE TO BE FILTERED */}
976                         \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Now}().\hyperlink{classns3_1_1Time_a2542b9273c336da11fcaf54e8bc6e4c8}{GetMicroSeconds}() <= 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a60467889c9c76cba890f049098f4a822}{m\_transient})
977                         \{
978                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a796cebfd5468736861afc539d2ec4098}{m\_sinrVectorNoisy}.at(pairDevices).push\_back(sinrNoisy);
979 
980                                  \textcolor{comment}{// if (sinrNoisy < 0)}
981                                  \textcolor{comment}{// \{}
982                                  \textcolor{comment}{//     NS\_LOG\_DEBUG("Old SINR value was " << 10*std::log10(sinrNoisy) << "
       while now is " << 10*std::log10(0.1));}
983                                  \textcolor{comment}{//     sinrNoisy = 0.1;}
984                                  \textcolor{comment}{// \}   }
985                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.at(pairDevices).push\_back(
      sinrNoisy);
986                                 
987                         \}
988                         \textcolor{keywordflow}{else}
989                         \{
990                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a796cebfd5468736861afc539d2ec4098}{m\_sinrVectorNoisy}.at(pairDevices).erase(
      \hyperlink{classns3_1_1MmWaveEnbPhy_a796cebfd5468736861afc539d2ec4098}{m\_sinrVectorNoisy}.at(pairDevices).begin());
991                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a796cebfd5468736861afc539d2ec4098}{m\_sinrVectorNoisy}.at(pairDevices).push\_back(sinrNoisy);
992 
993                                  \textcolor{comment}{// if (sinrNoisy < 0)}
994                                  \textcolor{comment}{// \{}
995                                  \textcolor{comment}{//     NS\_LOG\_DEBUG("Old SINR value was " << 10*std::log10(sinrNoisy) << "
       while now is " << 10*std::log10(0.1));}
996                                  \textcolor{comment}{//     sinrNoisy = 0.1;}
997                                  \textcolor{comment}{// \}   }
998 
999                                 \textcolor{keywordtype}{double} toPlot = *\hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.at(pairDevices).
      begin();
1000                                 \textcolor{keywordtype}{double} toPlotbis = sinrNoisy;
1001                                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"(Remove SINR)  "} << toPlot);
1002                                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"(Add SINR)  "} << toPlotbis);
1003 
1004                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.at(pairDevices).erase(
      \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.at(pairDevices).begin());
1005                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.at(pairDevices).push\_back(
      sinrNoisy);
1006 
1007 
1008                         \}
1009                                         
1010                         
1011                         \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Now}().GetMicroSeconds() > \hyperlink{classns3_1_1MmWaveEnbPhy_a60467889c9c76cba890f049098f4a822}{m\_transient}) \textcolor{comment}{// apply filter only when
       I have a sufficiently large set of SINR samples}
1012                         \{
1013                                 std::vector<double> vectorNoisy = 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a796cebfd5468736861afc539d2ec4098}{m\_sinrVectorNoisy}.at(pairDevices);
1014                                 std::pair <uint64\_t , uint64\_t > pairFiltering = 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a0e187efd67bd94a6ace7856777aafe8d}{ApplyFilter}(vectorNoisy); \textcolor{comment}{// find where to apply the filter, according to the variance}
1015                                 \hyperlink{classns3_1_1MmWaveEnbPhy_afee86fc55fdcef25ada2042be5740c62}{m\_samplesFilter}.at(pairDevices) = pairFiltering; \textcolor{comment}{// where to
       apply the linear filter}
1016                                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"£££££££££££££££ start at sample "} << std::get<0>
       (pairFiltering) );
1017                                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"£££££££££££££££ end at sample "} << std::get<1> (
      pairFiltering) );
1018                 
1019                                 \textcolor{comment}{/* just apply filter where the SINR is too low and we are in a blockage
       situation */}
1020                                 \textcolor{keywordflow}{if} (std::get<0> (\hyperlink{classns3_1_1MmWaveEnbPhy_afee86fc55fdcef25ada2042be5740c62}{m\_samplesFilter}.at(pairDevices)) == 
      std::get<1> (\hyperlink{classns3_1_1MmWaveEnbPhy_afee86fc55fdcef25ada2042be5740c62}{m\_samplesFilter}.at(pairDevices)) ) \textcolor{comment}{// if start = end}
1021                                 \{
1022                                         \hyperlink{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}{m\_finalSinrVector}.at(pairDevices) = 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.at(pairDevices); \textcolor{comment}{// no need to apply the filter}
1023                                         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"At time "} << 
      \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Now}().GetMicroSeconds() << \textcolor{stringliteral}{" there is no need to apply the Kalman filter for mmWave eNB "}
1024                                                 << \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" and UE "} << ue->first);
1025                                 \}
1026                                 \textcolor{keywordflow}{else}
1027                                 \{
1028                                         std::vector<double> vectorToFilter = 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.at(pairDevices);
1029                                         std::vector<double> sinrVector = 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{m\_sinrVector}.at(pairDevices);
1030                                         std::pair<uint64\_t, uint64\_t> filterPair = 
      \hyperlink{classns3_1_1MmWaveEnbPhy_afee86fc55fdcef25ada2042be5740c62}{m\_samplesFilter}.at(pairDevices);
1031                                         std::vector<double> finalTrace;
1032                                         finalTrace = \hyperlink{classns3_1_1MmWaveEnbPhy_aa3e7651d7614326c712525bebb65066d}{MakeFilter}(vectorNoisy, sinrVector, 
      filterPair);
1033                                         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"finaltrace "} << finalTrace.back());
1034                                         \hyperlink{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}{m\_finalSinrVector}.at(pairDevices) = finalTrace;
1035                                         finalTrace.clear();
1036                                 \}
1037                                         
1038                         
1039                                 \textcolor{comment}{/* the last sample in the filtered sequence is referred to the current time
       instant,}
1040 \textcolor{comment}{                                * referred to the uplink reference signal that is used to build the RT in
       the LteEnbRrc class */}
1041                                 \textcolor{keywordtype}{double} sampleToForward = \hyperlink{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}{m\_finalSinrVector}.at(pairDevices)
      .back(); 
1042                                 \textcolor{keywordflow}{if} (sampleToForward < 0) \textcolor{comment}{// this would be converted in NaN, in the log
       scale}
1043                                 \{
1044                                         sampleToForward = 1e-20;
1045                                 \}
1046                                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{" mmWave eNB "} << 
      \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" reports the SINR "} << 10*std::log10(sampleToForward) << \textcolor{stringliteral}{" for UE "} << ue->first);
1047                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a754de7cf4bdbe107dfb006a5b332842a}{m\_sinrMap}[ue->first] = sampleToForward; \textcolor{comment}{//
       <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< in order to FORWARD to LteEnbRrc the value of SINR for the RT}
1048 
1049                                 \textcolor{comment}{//
      m\_sinrVectorToFilter.at(pairDevices).erase(m\_sinrVectorToFilter.at(pairDevices).begin());}
1050                                 \textcolor{comment}{//
      m\_sinrVectorToFilter.at(pairDevices).push\_back(m\_finalSinrVector.at(pairDevices).back());}
1051                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.at(pairDevices).pop\_back();
1052                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.at(pairDevices).push\_back(
      \hyperlink{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}{m\_finalSinrVector}.at(pairDevices).back());
1053                         \}
1054                         \textcolor{keywordflow}{else} \textcolor{comment}{// before the transient is over, just forwart the (last) noisy sample, without
       having filtered}
1055                         \{
1056                                 \textcolor{keywordtype}{double} sampleToForward = \hyperlink{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{m\_sinrVectorToFilter}.at(
      pairDevices).back();
1057                                 \textcolor{keywordflow}{if} (sampleToForward < 0) \textcolor{comment}{// this would be converted in NaN, in the log
       scale}
1058                                 \{
1059                                         sampleToForward = 1e-20;
1060                                 \}
1061                                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{" mmWave eNB "} << 
      \hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId} << \textcolor{stringliteral}{" FIRST reports the SINR "} << 10*std::log10(sampleToForward) << \textcolor{stringliteral}{" for UE "} << ue->first
      );
1062                                 \hyperlink{classns3_1_1MmWaveEnbPhy_a754de7cf4bdbe107dfb006a5b332842a}{m\_sinrMap}[ue->first] = sampleToForward; \textcolor{comment}{//
       <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< in order to FORWARD to LteEnbRrc the value of SINR for the RT}
1063                         \}
1064 
1065                         
1066                         \textcolor{comment}{// // START PRINTING }
1067                         \textcolor{comment}{// if (m\_cellId == 3)}
1068                         \textcolor{comment}{// \{}
1069                         
1070                         \textcolor{comment}{//      std::ofstream outFile ("SINR\_real.txt", std::fstream::in |
       std::fstream::out | std::fstream::app);}
1071                         \textcolor{comment}{//      if (outFile.is\_open())}
1072                         \textcolor{comment}{//      \{}
1073 
1074                         \textcolor{comment}{//              outFile << m\_sinrVector.at(pairDevices).back() << '\(\backslash\)n';}
1075                         \textcolor{comment}{//              outFile.close();}
1076                         \textcolor{comment}{//      \}}
1077                         \textcolor{comment}{// \}}
1078                         \textcolor{comment}{// //END PRINTING }
1079 
1080 
1081                         \textcolor{comment}{// // START PRINTING}
1082                         \textcolor{comment}{// if (m\_cellId == 3)}
1083                         \textcolor{comment}{// \{}
1084                         \textcolor{comment}{//      std::ofstream outFileter ("SINR\_final.txt", std::fstream::in |
       std::fstream::out | std::fstream::app);}
1085                         \textcolor{comment}{//      if (outFileter.is\_open())}
1086                         \textcolor{comment}{//      \{}
1087                         \textcolor{comment}{//              outFileter << m\_sinrVectorToFilter.at(pairDevices).back() << '\(\backslash\)n';}
1088                         \textcolor{comment}{//              outFileter.close();}
1089                         \textcolor{comment}{//      \}}
1090                         \textcolor{comment}{// \}}
1091                         \textcolor{comment}{// // END PRINTING }
1092 
1093                         \textcolor{comment}{//              // START PRINTING}
1094                         \textcolor{comment}{// if (m\_cellId == 3)}
1095                         \textcolor{comment}{// \{}
1096                         \textcolor{comment}{//      std::ofstream outFileter ("SINR\_noisy.txt", std::fstream::in |
       std::fstream::out | std::fstream::app);}
1097                         \textcolor{comment}{//      if (outFileter.is\_open())}
1098                         \textcolor{comment}{//      \{}
1099                         \textcolor{comment}{//              outFileter << sinrNoisy << '\(\backslash\)n';}
1100                         \textcolor{comment}{//              outFileter.close();}
1101                         \textcolor{comment}{//      \}}
1102                         \textcolor{comment}{// \}}
1103                         \textcolor{comment}{// // END PRINTING }
1104                         
1105 
1106 
1107 
1108                         \textcolor{comment}{/* after the SINR sample is forwarded, I need to REFRESH all the maps, so that }
1109 \textcolor{comment}{                        * a new SINR sequence can be created, to generate a new SINR sample }
1110 \textcolor{comment}{                        * for the next RT}
1111 \textcolor{comment}{                        */}
1112                         \hyperlink{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}{m\_finalSinrVector}.erase(pairDevices);
1113                         \hyperlink{classns3_1_1MmWaveEnbPhy_afee86fc55fdcef25ada2042be5740c62}{m\_samplesFilter}.erase(pairDevices);
1114                         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"ERASE MAPS FOR RT"});
1115                 \}
1116                 \textcolor{keywordflow}{else} \textcolor{comment}{// noise and filtering processes are not applied!}
1117                 \{
1118                         \hyperlink{classns3_1_1MmWaveEnbPhy_a754de7cf4bdbe107dfb006a5b332842a}{m\_sinrMap}[ue->first] = sinrAvg;
1119                         \textcolor{comment}{//std::cout<<sinrAvg <<std::endl;}
1120                 \}
1121 
1122         \}
1123 
1124 
1125         \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1MmWaveEnbPhy_a708a523883e45c2b4d369b4367327fd8}{m\_roundFromLastUeSinrUpdate} >= (
      \hyperlink{classns3_1_1MmWaveEnbPhy_aba71f2faaa7e68f79e9156d37c6fed57}{m\_ueUpdateSinrPeriod}/\hyperlink{classns3_1_1MmWaveEnbPhy_af5b7224db4adb4c546e71ec42ce82703}{m\_updateSinrPeriod}))
1126         \{
1127                 \hyperlink{classns3_1_1MmWaveEnbPhy_a708a523883e45c2b4d369b4367327fd8}{m\_roundFromLastUeSinrUpdate} = 0;
1128                 \textcolor{keywordflow}{for}(std::map<uint64\_t, Ptr<NetDevice> >::iterator ue = 
      \hyperlink{classns3_1_1MmWaveEnbPhy_a1e8b3730ff37d9fc19d9ec07f06e6be5}{m\_ueAttachedImsiMap}.begin(); ue != \hyperlink{classns3_1_1MmWaveEnbPhy_a1e8b3730ff37d9fc19d9ec07f06e6be5}{m\_ueAttachedImsiMap}.end(); ++ue)
1129                 \{
1130                         \textcolor{comment}{// distinguish between MC and MmWaveNetDevice}
1131                         Ptr<MmWaveUeNetDevice> ueNetDevice = DynamicCast<MmWaveUeNetDevice> (ue->second);
1132                         Ptr<McUeNetDevice> mcUeDev = DynamicCast<McUeNetDevice> (ue->second);
1133                         Ptr<MmWaveUePhy> uePhy;
1134                         \textcolor{keywordflow}{if}(ueNetDevice != 0) 
1135                         \{
1136                                 uePhy = ueNetDevice->GetPhy();
1137                         \}
1138                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mcUeDev != 0) \textcolor{comment}{// it may be a MC device}
1139                         \{
1140 
1141                                 \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{isAddtionalMmWavPhy})
1142                                         uePhy = mcUeDev->GetMmWavePhy\_2 ();
1143                                 \textcolor{keywordflow}{else}
1144                                         uePhy = mcUeDev->GetMmWavePhy ();
1145 
1146                         \}
1147                         uePhy->UpdateSinrEstimate(\hyperlink{classns3_1_1MmWavePhy_a0594531da45f93220d4f5de292bae823}{m\_cellId}, \hyperlink{classns3_1_1MmWaveEnbPhy_a754de7cf4bdbe107dfb006a5b332842a}{m\_sinrMap}.find(ue->first)->
      second);
1148                 \}
1149         \}
1150         \textcolor{keywordflow}{else}
1151         \{
1152                 \hyperlink{classns3_1_1MmWaveEnbPhy_a708a523883e45c2b4d369b4367327fd8}{m\_roundFromLastUeSinrUpdate}++;
1153         \}
1154 
1155         LteEnbCphySapUser::UeAssociatedSinrInfo info;
1156         info.ueImsiSinrMap = \hyperlink{classns3_1_1MmWaveEnbPhy_a754de7cf4bdbe107dfb006a5b332842a}{m\_sinrMap};
1157         \hyperlink{classns3_1_1MmWaveEnbPhy_ac5d84411029763cff0e7a1437c3a9397}{m\_enbCphySapUser}->\hyperlink{classns3_1_1LteEnbCphySapUser_aed0dcd8c1add1b9e51138420ed6d2b1a}{UpdateUeSinrEstimate}(info);
1158         
1159 
1160         \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule}(\hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds}(
      \hyperlink{classns3_1_1MmWaveEnbPhy_af5b7224db4adb4c546e71ec42ce82703}{m\_updateSinrPeriod}), &\hyperlink{classns3_1_1MmWaveEnbPhy_a09aa03118ceed8c46f87dc0f6b6c71a2}{MmWaveEnbPhy::UpdateUeSinrEstimate}
      , \textcolor{keyword}{this}); \textcolor{comment}{// recall after m\_updateSinrPeriod microseconds}
1161 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 45




Here is the caller graph for this function\+:
% FIG 46




\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!Member\+Lte\+Enb\+Cphy\+Sap\+Provider$<$ Mm\+Wave\+Enb\+Phy $>$@{Member\+Lte\+Enb\+Cphy\+Sap\+Provider$<$ Mm\+Wave\+Enb\+Phy $>$}}
\index{Member\+Lte\+Enb\+Cphy\+Sap\+Provider$<$ Mm\+Wave\+Enb\+Phy $>$@{Member\+Lte\+Enb\+Cphy\+Sap\+Provider$<$ Mm\+Wave\+Enb\+Phy $>$}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{Member\+Lte\+Enb\+Cphy\+Sap\+Provider$<$ Mm\+Wave\+Enb\+Phy $>$}{MemberLteEnbCphySapProvider< MmWaveEnbPhy >}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Member\+Lte\+Enb\+Cphy\+Sap\+Provider}$<$ {\bf Mm\+Wave\+Enb\+Phy} $>$\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1MmWaveEnbPhy_ac5bd741ead09417b54468f3f868003bc}{}\label{classns3_1_1MmWaveEnbPhy_ac5bd741ead09417b54468f3f868003bc}


\subsection{Member Data Documentation}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!is\+Addtional\+Mm\+Wav\+Phy@{is\+Addtional\+Mm\+Wav\+Phy}}
\index{is\+Addtional\+Mm\+Wav\+Phy@{is\+Addtional\+Mm\+Wav\+Phy}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{is\+Addtional\+Mm\+Wav\+Phy}{isAddtionalMmWavPhy}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mm\+Wave\+Enb\+Phy\+::is\+Addtional\+Mm\+Wav\+Phy ={\bf false}}\hypertarget{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}{}\label{classns3_1_1MmWaveEnbPhy_a1a171ed81b1efedf963000d89f2cbd98}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+channel\+Chunks@{m\+\_\+channel\+Chunks}}
\index{m\+\_\+channel\+Chunks@{m\+\_\+channel\+Chunks}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+channel\+Chunks}{m_channelChunks}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$int$>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+channel\+Chunks\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a0aa065c471eb33a7bf9ba6acb966b8ff}{}\label{classns3_1_1MmWaveEnbPhy_a0aa065c471eb33a7bf9ba6acb966b8ff}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+curr\+Sf\+Num\+Slots@{m\+\_\+curr\+Sf\+Num\+Slots}}
\index{m\+\_\+curr\+Sf\+Num\+Slots@{m\+\_\+curr\+Sf\+Num\+Slots}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+curr\+Sf\+Num\+Slots}{m_currSfNumSlots}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+curr\+Sf\+Num\+Slots\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a009230227393f4585df5440133f1a52b}{}\label{classns3_1_1MmWaveEnbPhy_a009230227393f4585df5440133f1a52b}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+curr\+Sym\+Start@{m\+\_\+curr\+Sym\+Start}}
\index{m\+\_\+curr\+Sym\+Start@{m\+\_\+curr\+Sym\+Start}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+curr\+Sym\+Start}{m_currSymStart}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+curr\+Sym\+Start\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_acabeb79f3613d2a6f8fcd44732e1da1b}{}\label{classns3_1_1MmWaveEnbPhy_acabeb79f3613d2a6f8fcd44732e1da1b}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+device\+Map@{m\+\_\+device\+Map}}
\index{m\+\_\+device\+Map@{m\+\_\+device\+Map}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+device\+Map}{m_deviceMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Ptr}$<${\bf Net\+Device}$>$ $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+device\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}{}\label{classns3_1_1MmWaveEnbPhy_a4b6fe922f96dd05597a1fe2f9a523ce9}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+enb\+Cphy\+Sap\+Provider@{m\+\_\+enb\+Cphy\+Sap\+Provider}}
\index{m\+\_\+enb\+Cphy\+Sap\+Provider@{m\+\_\+enb\+Cphy\+Sap\+Provider}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+enb\+Cphy\+Sap\+Provider}{m_enbCphySapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Enb\+Cphy\+Sap\+Provider}$\ast$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+enb\+Cphy\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a06aa17cb3a6b1d376db7dfc8efe56499}{}\label{classns3_1_1MmWaveEnbPhy_a06aa17cb3a6b1d376db7dfc8efe56499}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+enb\+Cphy\+Sap\+User@{m\+\_\+enb\+Cphy\+Sap\+User}}
\index{m\+\_\+enb\+Cphy\+Sap\+User@{m\+\_\+enb\+Cphy\+Sap\+User}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+enb\+Cphy\+Sap\+User}{m_enbCphySapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Enb\+Cphy\+Sap\+User}$\ast$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+enb\+Cphy\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_ac5d84411029763cff0e7a1437c3a9397}{}\label{classns3_1_1MmWaveEnbPhy_ac5d84411029763cff0e7a1437c3a9397}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+final\+Sinr\+Vector@{m\+\_\+final\+Sinr\+Vector}}
\index{m\+\_\+final\+Sinr\+Vector@{m\+\_\+final\+Sinr\+Vector}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+final\+Sinr\+Vector}{m_finalSinrVector}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<${\bf pair\+Devices\+\_\+t} , std\+::vector$<$double$>$ $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+final\+Sinr\+Vector\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}{}\label{classns3_1_1MmWaveEnbPhy_a6c34c832c1bcb05fab00a4435cc499d0}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+harq\+Phy\+Module@{m\+\_\+harq\+Phy\+Module}}
\index{m\+\_\+harq\+Phy\+Module@{m\+\_\+harq\+Phy\+Module}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+harq\+Phy\+Module}{m_harqPhyModule}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Mm\+Wave\+Harq\+Phy}$>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+harq\+Phy\+Module\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_aa3e3b7fb0c5994726f3671b0afc51c58}{}\label{classns3_1_1MmWaveEnbPhy_aa3e3b7fb0c5994726f3671b0afc51c58}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+last\+Sf\+Start@{m\+\_\+last\+Sf\+Start}}
\index{m\+\_\+last\+Sf\+Start@{m\+\_\+last\+Sf\+Start}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Sf\+Start}{m_lastSfStart}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+last\+Sf\+Start\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_aa928d54402d87640ee61f0c3b5cf2e0c}{}\label{classns3_1_1MmWaveEnbPhy_aa928d54402d87640ee61f0c3b5cf2e0c}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+list\+Of\+Subchannels@{m\+\_\+list\+Of\+Subchannels}}
\index{m\+\_\+list\+Of\+Subchannels@{m\+\_\+list\+Of\+Subchannels}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+list\+Of\+Subchannels}{m_listOfSubchannels}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$int$>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+list\+Of\+Subchannels\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_aa13c933468e02fe5f7f10a6a68cea43e}{}\label{classns3_1_1MmWaveEnbPhy_aa13c933468e02fe5f7f10a6a68cea43e}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+noise\+And\+Filter@{m\+\_\+noise\+And\+Filter}}
\index{m\+\_\+noise\+And\+Filter@{m\+\_\+noise\+And\+Filter}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+noise\+And\+Filter}{m_noiseAndFilter}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+noise\+And\+Filter\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_adc49fae3719fbc3f8bfed9b49b04a6c6}{}\label{classns3_1_1MmWaveEnbPhy_adc49fae3719fbc3f8bfed9b49b04a6c6}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+num\+Rbg@{m\+\_\+num\+Rbg}}
\index{m\+\_\+num\+Rbg@{m\+\_\+num\+Rbg}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+num\+Rbg}{m_numRbg}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+num\+Rbg\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a4f5ae1386b8d7ab3edf6a54703184813}{}\label{classns3_1_1MmWaveEnbPhy_a4f5ae1386b8d7ab3edf6a54703184813}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+phy\+Sap\+User@{m\+\_\+phy\+Sap\+User}}
\index{m\+\_\+phy\+Sap\+User@{m\+\_\+phy\+Sap\+User}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Sap\+User}{m_phySapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mm\+Wave\+Enb\+Phy\+Sap\+User}$\ast$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+phy\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}{}\label{classns3_1_1MmWaveEnbPhy_a666331e7a8200a6b17215bdda089f671}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+prev\+Slot@{m\+\_\+prev\+Slot}}
\index{m\+\_\+prev\+Slot@{m\+\_\+prev\+Slot}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+prev\+Slot}{m_prevSlot}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+prev\+Slot\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a4e01aff86dbfdfad888e7e08645535d8}{}\label{classns3_1_1MmWaveEnbPhy_a4e01aff86dbfdfad888e7e08645535d8}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+prev\+Slot\+Dir@{m\+\_\+prev\+Slot\+Dir}}
\index{m\+\_\+prev\+Slot\+Dir@{m\+\_\+prev\+Slot\+Dir}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+prev\+Slot\+Dir}{m_prevSlotDir}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Slot\+Alloc\+Info\+::\+Tdd\+Mode} ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+prev\+Slot\+Dir\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a92d3298da69cf554e4bd1ed5dbf37a08}{}\label{classns3_1_1MmWaveEnbPhy_a92d3298da69cf554e4bd1ed5dbf37a08}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+round\+From\+Last\+Ue\+Sinr\+Update@{m\+\_\+round\+From\+Last\+Ue\+Sinr\+Update}}
\index{m\+\_\+round\+From\+Last\+Ue\+Sinr\+Update@{m\+\_\+round\+From\+Last\+Ue\+Sinr\+Update}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+round\+From\+Last\+Ue\+Sinr\+Update}{m_roundFromLastUeSinrUpdate}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+round\+From\+Last\+Ue\+Sinr\+Update\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a708a523883e45c2b4d369b4367327fd8}{}\label{classns3_1_1MmWaveEnbPhy_a708a523883e45c2b4d369b4367327fd8}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+rx\+Psd\+Map@{m\+\_\+rx\+Psd\+Map}}
\index{m\+\_\+rx\+Psd\+Map@{m\+\_\+rx\+Psd\+Map}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+Psd\+Map}{m_rxPsdMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint64\+\_\+t, {\bf Ptr}$<${\bf Spectrum\+Value}$>$ $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+rx\+Psd\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a40b3813d00f430aed47e1ee084df4d78}{}\label{classns3_1_1MmWaveEnbPhy_a40b3813d00f430aed47e1ee084df4d78}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+samples\+Filter@{m\+\_\+samples\+Filter}}
\index{m\+\_\+samples\+Filter@{m\+\_\+samples\+Filter}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+samples\+Filter}{m_samplesFilter}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<${\bf pair\+Devices\+\_\+t}, std\+::pair $<$uint64\+\_\+t,uint64\+\_\+t$>$ $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+samples\+Filter\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_afee86fc55fdcef25ada2042be5740c62}{}\label{classns3_1_1MmWaveEnbPhy_afee86fc55fdcef25ada2042be5740c62}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+sf\+Period@{m\+\_\+sf\+Period}}
\index{m\+\_\+sf\+Period@{m\+\_\+sf\+Period}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+sf\+Period}{m_sfPeriod}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+sf\+Period\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a164bffc51f5edf0109f976a874bd3123}{}\label{classns3_1_1MmWaveEnbPhy_a164bffc51f5edf0109f976a874bd3123}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+sib1@{m\+\_\+sib1}}
\index{m\+\_\+sib1@{m\+\_\+sib1}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+sib1}{m_sib1}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Rrc\+Sap\+::\+System\+Information\+Block\+Type1} ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+sib1\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a772e412012e0b50873b4e250de2696a2}{}\label{classns3_1_1MmWaveEnbPhy_a772e412012e0b50873b4e250de2696a2}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+sinr\+Map@{m\+\_\+sinr\+Map}}
\index{m\+\_\+sinr\+Map@{m\+\_\+sinr\+Map}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+sinr\+Map}{m_sinrMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint64\+\_\+t, double $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+sinr\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a754de7cf4bdbe107dfb006a5b332842a}{}\label{classns3_1_1MmWaveEnbPhy_a754de7cf4bdbe107dfb006a5b332842a}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+sinr\+Vector@{m\+\_\+sinr\+Vector}}
\index{m\+\_\+sinr\+Vector@{m\+\_\+sinr\+Vector}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+sinr\+Vector}{m_sinrVector}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<${\bf pair\+Devices\+\_\+t} , std\+::vector$<$double$>$ $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+sinr\+Vector\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}{}\label{classns3_1_1MmWaveEnbPhy_a9e1e37ef62d54fbfc28bfd829e78f239}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+sinr\+Vector\+Noisy@{m\+\_\+sinr\+Vector\+Noisy}}
\index{m\+\_\+sinr\+Vector\+Noisy@{m\+\_\+sinr\+Vector\+Noisy}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+sinr\+Vector\+Noisy}{m_sinrVectorNoisy}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<${\bf pair\+Devices\+\_\+t} , std\+::vector$<$double$>$ $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+sinr\+Vector\+Noisy\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a796cebfd5468736861afc539d2ec4098}{}\label{classns3_1_1MmWaveEnbPhy_a796cebfd5468736861afc539d2ec4098}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+sinr\+Vector\+To\+Filter@{m\+\_\+sinr\+Vector\+To\+Filter}}
\index{m\+\_\+sinr\+Vector\+To\+Filter@{m\+\_\+sinr\+Vector\+To\+Filter}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+sinr\+Vector\+To\+Filter}{m_sinrVectorToFilter}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<${\bf pair\+Devices\+\_\+t} , std\+::vector$<$double$>$ $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+sinr\+Vector\+To\+Filter\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}{}\label{classns3_1_1MmWaveEnbPhy_a2887e6ce935c6d25fc2759269b811bbe}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+transient@{m\+\_\+transient}}
\index{m\+\_\+transient@{m\+\_\+transient}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+transient}{m_transient}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+transient\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a60467889c9c76cba890f049098f4a822}{}\label{classns3_1_1MmWaveEnbPhy_a60467889c9c76cba890f049098f4a822}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+ue\+Attached@{m\+\_\+ue\+Attached}}
\index{m\+\_\+ue\+Attached@{m\+\_\+ue\+Attached}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Attached}{m_ueAttached}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::set$<$uint64\+\_\+t$>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+ue\+Attached\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_ae65ce74b0d1344c5c5b542fa29549973}{}\label{classns3_1_1MmWaveEnbPhy_ae65ce74b0d1344c5c5b542fa29549973}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+ue\+Attached\+Imsi\+Map@{m\+\_\+ue\+Attached\+Imsi\+Map}}
\index{m\+\_\+ue\+Attached\+Imsi\+Map@{m\+\_\+ue\+Attached\+Imsi\+Map}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Attached\+Imsi\+Map}{m_ueAttachedImsiMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint64\+\_\+t, {\bf Ptr}$<${\bf Net\+Device}$>$ $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+ue\+Attached\+Imsi\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a1e8b3730ff37d9fc19d9ec07f06e6be5}{}\label{classns3_1_1MmWaveEnbPhy_a1e8b3730ff37d9fc19d9ec07f06e6be5}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+ue\+Attached\+Rnti@{m\+\_\+ue\+Attached\+Rnti}}
\index{m\+\_\+ue\+Attached\+Rnti@{m\+\_\+ue\+Attached\+Rnti}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Attached\+Rnti}{m_ueAttachedRnti}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::set$<$uint16\+\_\+t$>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+ue\+Attached\+Rnti\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}{}\label{classns3_1_1MmWaveEnbPhy_ab46ab3660a2a3be573ae70bb1eaf2908}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+ue\+Update\+Sinr\+Period@{m\+\_\+ue\+Update\+Sinr\+Period}}
\index{m\+\_\+ue\+Update\+Sinr\+Period@{m\+\_\+ue\+Update\+Sinr\+Period}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Update\+Sinr\+Period}{m_ueUpdateSinrPeriod}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+ue\+Update\+Sinr\+Period\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_aba71f2faaa7e68f79e9156d37c6fed57}{}\label{classns3_1_1MmWaveEnbPhy_aba71f2faaa7e68f79e9156d37c6fed57}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+ul\+Sinr\+Trace@{m\+\_\+ul\+Sinr\+Trace}}
\index{m\+\_\+ul\+Sinr\+Trace@{m\+\_\+ul\+Sinr\+Trace}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Sinr\+Trace}{m_ulSinrTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<$ uint64\+\_\+t, {\bf Spectrum\+Value}\&, {\bf Spectrum\+Value}\& $>$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+ul\+Sinr\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a4a821af3f7946233c2c50831f6f5041a}{}\label{classns3_1_1MmWaveEnbPhy_a4a821af3f7946233c2c50831f6f5041a}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+update\+Sinr\+Collect@{m\+\_\+update\+Sinr\+Collect}}
\index{m\+\_\+update\+Sinr\+Collect@{m\+\_\+update\+Sinr\+Collect}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+update\+Sinr\+Collect}{m_updateSinrCollect}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+update\+Sinr\+Collect\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a3503822fc1d570af3806d0fa70d1a9f0}{}\label{classns3_1_1MmWaveEnbPhy_a3503822fc1d570af3806d0fa70d1a9f0}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!m\+\_\+update\+Sinr\+Period@{m\+\_\+update\+Sinr\+Period}}
\index{m\+\_\+update\+Sinr\+Period@{m\+\_\+update\+Sinr\+Period}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+update\+Sinr\+Period}{m_updateSinrPeriod}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Mm\+Wave\+Enb\+Phy\+::m\+\_\+update\+Sinr\+Period\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_af5b7224db4adb4c546e71ec42ce82703}{}\label{classns3_1_1MmWaveEnbPhy_af5b7224db4adb4c546e71ec42ce82703}
\index{ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}!stream\+\_\+sinr@{stream\+\_\+sinr}}
\index{stream\+\_\+sinr@{stream\+\_\+sinr}!ns3\+::\+Mm\+Wave\+Enb\+Phy@{ns3\+::\+Mm\+Wave\+Enb\+Phy}}
\subsubsection[{\texorpdfstring{stream\+\_\+sinr}{stream_sinr}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::ostream$\ast$ ns3\+::\+Mm\+Wave\+Enb\+Phy\+::stream\+\_\+sinr\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveEnbPhy_a7295a3929ce0574f3b4bc5db5aa170af}{}\label{classns3_1_1MmWaveEnbPhy_a7295a3929ce0574f3b4bc5db5aa170af}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
mmwave/model/\hyperlink{mmwave-enb-phy_8h}{mmwave-\/enb-\/phy.\+h}\item 
mmwave/model/\hyperlink{mmwave-enb-phy_8cc}{mmwave-\/enb-\/phy.\+cc}\end{DoxyCompactItemize}
