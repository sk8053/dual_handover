\hypertarget{classns3_1_1TcpGeneralErrorModel}{}\section{ns3\+:\+:Tcp\+General\+Error\+Model Class Reference}
\label{classns3_1_1TcpGeneralErrorModel}\index{ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}}


A general (T\+C\+P-\/aware) error model.  




{\ttfamily \#include $<$tcp-\/error-\/model.\+h$>$}



Inheritance diagram for ns3\+:\+:Tcp\+General\+Error\+Model\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Tcp\+General\+Error\+Model\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1TcpGeneralErrorModel_abd916457dd21c03bc4154a4782bea17d}{Tcp\+General\+Error\+Model} ()
\item 
void \hyperlink{classns3_1_1TcpGeneralErrorModel_a812f8d0b0eaf4508efd44be00028673f}{Set\+Drop\+Callback} (\hyperlink{classns3_1_1Callback}{Callback}$<$ void, const \hyperlink{classns3_1_1Ipv4Header}{Ipv4\+Header} \&, const \hyperlink{classns3_1_1TcpHeader}{Tcp\+Header} \&, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ cb)
\begin{DoxyCompactList}\small\item\em Set the drop callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1TcpGeneralErrorModel_a361bdf6f195a14d8861417a1fa39fc7b}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \hyperlink{classns3_1_1TcpGeneralErrorModel_aba3c6551e43eabb1ac165b2dc7d491c9}{Should\+Drop} (const \hyperlink{classns3_1_1Ipv4Header}{Ipv4\+Header} \&ip\+Header, const \hyperlink{classns3_1_1TcpHeader}{Tcp\+Header} \&tcp\+Header, uint32\+\_\+t packet\+Size)=0
\begin{DoxyCompactList}\small\item\em Check if the packet should be dropped. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \hyperlink{classns3_1_1TcpGeneralErrorModel_a45cf0b37801164078eb0643dfe388468}{Do\+Corrupt} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Callback}{Callback}$<$ void, const \hyperlink{classns3_1_1Ipv4Header}{Ipv4\+Header} \&, const \hyperlink{classns3_1_1TcpHeader}{Tcp\+Header} \&, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1TcpGeneralErrorModel_a8c608cfd9642b92571b8b4cc771bd55f}{m\+\_\+drop\+Callback}
\begin{DoxyCompactList}\small\item\em Drop callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A general (T\+C\+P-\/aware) error model. 

The class is responsible to take away the IP and T\+CP header from the packet, and then to interrogate the method Should\+Drop, dropping the packet accordingly to the returned value. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}!Tcp\+General\+Error\+Model@{Tcp\+General\+Error\+Model}}
\index{Tcp\+General\+Error\+Model@{Tcp\+General\+Error\+Model}!ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}}
\subsubsection[{\texorpdfstring{Tcp\+General\+Error\+Model()}{TcpGeneralErrorModel()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Tcp\+General\+Error\+Model\+::\+Tcp\+General\+Error\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TcpGeneralErrorModel_abd916457dd21c03bc4154a4782bea17d}{}\label{classns3_1_1TcpGeneralErrorModel_abd916457dd21c03bc4154a4782bea17d}

\begin{DoxyCode}
39 \{
40   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
41 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}!Do\+Corrupt@{Do\+Corrupt}}
\index{Do\+Corrupt@{Do\+Corrupt}!ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}}
\subsubsection[{\texorpdfstring{Do\+Corrupt(\+Ptr$<$ Packet $>$ p)}{DoCorrupt(Ptr< Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Tcp\+General\+Error\+Model\+::\+Do\+Corrupt (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1TcpGeneralErrorModel_a45cf0b37801164078eb0643dfe388468}{}\label{classns3_1_1TcpGeneralErrorModel_a45cf0b37801164078eb0643dfe388468}
Corrupt a packet according to the specified model. 
\begin{DoxyParams}{Parameters}
{\em p} & the packet to corrupt \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the packet is corrupted 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1ErrorModel_a7be074c59511ef72066d17a37036a0e0}{ns3\+::\+Error\+Model}.


\begin{DoxyCode}
45 \{
46   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << p);
47 
48   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1ErrorModel_a471bffecc63bfce9c4dc7b59d7038cd4}{IsEnabled} ())
49     \{
50       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
51     \}
52 
53   Ipv4Header ipHeader;
54   TcpHeader tcpHeader;
55 
56   p->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (ipHeader);
57   p->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (tcpHeader);
58 
59   \textcolor{keywordtype}{bool} toDrop = \hyperlink{classns3_1_1TcpGeneralErrorModel_aba3c6551e43eabb1ac165b2dc7d491c9}{ShouldDrop} (ipHeader, tcpHeader, p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
60 
61   \textcolor{keywordflow}{if} (toDrop && ! \hyperlink{classns3_1_1TcpGeneralErrorModel_a8c608cfd9642b92571b8b4cc771bd55f}{m\_dropCallback}.IsNull ())
62     \{
63       \hyperlink{classns3_1_1TcpGeneralErrorModel_a8c608cfd9642b92571b8b4cc771bd55f}{m\_dropCallback} (ipHeader, tcpHeader, p);
64     \}
65 
66   p->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (tcpHeader);
67   p->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (ipHeader);
68 
69   \textcolor{keywordflow}{return} toDrop;
70 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Tcp\+General\+Error\+Model\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TcpGeneralErrorModel_a361bdf6f195a14d8861417a1fa39fc7b}{}\label{classns3_1_1TcpGeneralErrorModel_a361bdf6f195a14d8861417a1fa39fc7b}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
31 \{
32   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::TcpGeneralErrorModel"})
33     .SetParent<\hyperlink{classns3_1_1ErrorModel_a89d58fc926bb907d546844d8e6437f30}{ErrorModel}> ()
34   ;
35   \textcolor{keywordflow}{return} tid;
36 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}!Set\+Drop\+Callback@{Set\+Drop\+Callback}}
\index{Set\+Drop\+Callback@{Set\+Drop\+Callback}!ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}}
\subsubsection[{\texorpdfstring{Set\+Drop\+Callback(\+Callback$<$ void, const Ipv4\+Header \&, const Tcp\+Header \&, Ptr$<$ const Packet $>$ $>$ cb)}{SetDropCallback(Callback< void, const Ipv4Header &, const TcpHeader &, Ptr< const Packet > > cb)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tcp\+General\+Error\+Model\+::\+Set\+Drop\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Callback}$<$ void, const {\bf Ipv4\+Header} \&, const {\bf Tcp\+Header} \&, {\bf Ptr}$<$ const {\bf Packet} $>$ $>$}]{cb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1TcpGeneralErrorModel_a812f8d0b0eaf4508efd44be00028673f}{}\label{classns3_1_1TcpGeneralErrorModel_a812f8d0b0eaf4508efd44be00028673f}


Set the drop callback. 


\begin{DoxyParams}{Parameters}
{\em cb} & The callback to be set. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
53   \{
54     \hyperlink{classns3_1_1TcpGeneralErrorModel_a8c608cfd9642b92571b8b4cc771bd55f}{m\_dropCallback} = cb;
55   \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}!Should\+Drop@{Should\+Drop}}
\index{Should\+Drop@{Should\+Drop}!ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}}
\subsubsection[{\texorpdfstring{Should\+Drop(const Ipv4\+Header \&ip\+Header, const Tcp\+Header \&tcp\+Header, uint32\+\_\+t packet\+Size)=0}{ShouldDrop(const Ipv4Header &ipHeader, const TcpHeader &tcpHeader, uint32_t packetSize)=0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual bool ns3\+::\+Tcp\+General\+Error\+Model\+::\+Should\+Drop (
\begin{DoxyParamCaption}
\item[{const {\bf Ipv4\+Header} \&}]{ip\+Header, }
\item[{const {\bf Tcp\+Header} \&}]{tcp\+Header, }
\item[{uint32\+\_\+t}]{packet\+Size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}\hypertarget{classns3_1_1TcpGeneralErrorModel_aba3c6551e43eabb1ac165b2dc7d491c9}{}\label{classns3_1_1TcpGeneralErrorModel_aba3c6551e43eabb1ac165b2dc7d491c9}


Check if the packet should be dropped. 


\begin{DoxyParams}{Parameters}
{\em ip\+Header} & The packet I\+Pv4 header. \\
\hline
{\em tcp\+Header} & The packet T\+CP header. \\
\hline
{\em packet\+Size} & The packet size. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the packet should be dropped. 
\end{DoxyReturn}


Implemented in \hyperlink{classTcpDropRatioErrorModel_a7e543a7b2bb5a40320dac331e80976f7}{Tcp\+Drop\+Ratio\+Error\+Model}, \hyperlink{classns3_1_1TcpFlagErrorModel_a078b078644aa6ea2527956fb99a84916}{ns3\+::\+Tcp\+Flag\+Error\+Model}, and \hyperlink{classns3_1_1TcpSeqErrorModel_a3958ef76d5830e46a4f5f890eb1397a3}{ns3\+::\+Tcp\+Seq\+Error\+Model}.



Here is the caller graph for this function\+:
% FIG 7




\subsection{Member Data Documentation}
\index{ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}!m\+\_\+drop\+Callback@{m\+\_\+drop\+Callback}}
\index{m\+\_\+drop\+Callback@{m\+\_\+drop\+Callback}!ns3\+::\+Tcp\+General\+Error\+Model@{ns3\+::\+Tcp\+General\+Error\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+drop\+Callback}{m_dropCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Callback}$<$void, const {\bf Ipv4\+Header}\&, const {\bf Tcp\+Header}\&, {\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Tcp\+General\+Error\+Model\+::m\+\_\+drop\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TcpGeneralErrorModel_a8c608cfd9642b92571b8b4cc771bd55f}{}\label{classns3_1_1TcpGeneralErrorModel_a8c608cfd9642b92571b8b4cc771bd55f}


Drop callback. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{tcp-error-model_8h}{tcp-\/error-\/model.\+h}\item 
internet/test/\hyperlink{tcp-error-model_8cc}{tcp-\/error-\/model.\+cc}\end{DoxyCompactItemize}
