\hypertarget{classns3_1_1PssFfMacScheduler}{}\section{ns3\+:\+:Pss\+Ff\+Mac\+Scheduler Class Reference}
\label{classns3_1_1PssFfMacScheduler}\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}


Implements the S\+C\+H\+ED S\+AP and C\+S\+C\+H\+ED S\+AP for a Priority Set scheduler.  




{\ttfamily \#include $<$pss-\/ff-\/mac-\/scheduler.\+h$>$}



Inheritance diagram for ns3\+:\+:Pss\+Ff\+Mac\+Scheduler\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Pss\+Ff\+Mac\+Scheduler\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1PssFfMacScheduler_ac74abd1f46b26a6ba4050f19d9fb45ff}{Pss\+Ff\+Mac\+Scheduler} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1PssFfMacScheduler_ae9e7fc2f0f8648c25462e9c4884eab17}{$\sim$\+Pss\+Ff\+Mac\+Scheduler} ()
\item 
virtual void \hyperlink{classns3_1_1PssFfMacScheduler_aef17051a95160a1b1239430c1f5b942b}{Do\+Dispose} (void)
\item 
virtual void \hyperlink{classns3_1_1PssFfMacScheduler_a9984af36c22b8a8d03ea315986ac6f91}{Set\+Ff\+Mac\+Csched\+Sap\+User} (\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual void \hyperlink{classns3_1_1PssFfMacScheduler_adc587ebc6984d038f02da5f67c053f45}{Set\+Ff\+Mac\+Sched\+Sap\+User} (\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_af128210fa97ceff88a9afedd2d65a6e3}{Get\+Ff\+Mac\+Csched\+Sap\+Provider} ()
\item 
virtual \hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_a4ca725f3c193a47af8eb81caf07c0688}{Get\+Ff\+Mac\+Sched\+Sap\+Provider} ()
\item 
virtual void \hyperlink{classns3_1_1PssFfMacScheduler_a8f5a1ecdf9b7546b2f915c8b258beb9f}{Set\+Lte\+Ffr\+Sap\+Provider} (\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_a1997fd997f2826515cdb80dbc4af838d}{Get\+Lte\+Ffr\+Sap\+User} ()
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a8da9dee3a2925075c6c72104fd13f35a}{Transmission\+Mode\+Configuration\+Update} (uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)
\item 
\hyperlink{classns3_1_1PssFfMacScheduler_ac74abd1f46b26a6ba4050f19d9fb45ff}{Pss\+Ff\+Mac\+Scheduler} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1PssFfMacScheduler_a0245134d9f9783cd60af9f1e2e5f6bb2}{$\sim$\+Pss\+Ff\+Mac\+Scheduler} ()
\item 
virtual void \hyperlink{classns3_1_1PssFfMacScheduler_a4bbf1f8fb80d53ea04321c690092deee}{Do\+Dispose} (void)
\item 
virtual void \hyperlink{classns3_1_1PssFfMacScheduler_ac9f49b4aa8dbe64bcbfc7437886c6db1}{Set\+Ff\+Mac\+Csched\+Sap\+User} (\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual void \hyperlink{classns3_1_1PssFfMacScheduler_ad49c23bfd99840e43c1183653f3dfa19}{Set\+Ff\+Mac\+Sched\+Sap\+User} (\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_adf0328a808e9d89f42e9aa51d5a36b7e}{Get\+Ff\+Mac\+Csched\+Sap\+Provider} ()
\item 
virtual \hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_a135e9a37de3ee0e009f8e18f7bf3dfd6}{Get\+Ff\+Mac\+Sched\+Sap\+Provider} ()
\item 
virtual void \hyperlink{classns3_1_1PssFfMacScheduler_ab11028fccdb730ceb53f2239c4871ed5}{Set\+Lte\+Ffr\+Sap\+Provider} (\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_a988802206e5d09c70986f9d492ec93ca}{Get\+Lte\+Ffr\+Sap\+User} ()
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a8da9dee3a2925075c6c72104fd13f35a}{Transmission\+Mode\+Configuration\+Update} (uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1PssFfMacScheduler_a2d0fc8e9b34a8a204f23d8140f548f36}{Get\+Type\+Id} (void)
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1PssFfMacScheduler_a93495d80fde829e4f0b09f2c3b87b6bf}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a9c63ab9df8fe1bba7cd615dfb0c975df}{Do\+Csched\+Cell\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a4e8bae0a131e7e0e1a9ff8b1a463e7ca}{Do\+Csched\+Ue\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_afc6bf6ad38635cfafcc6fd1d4e4ec3cd}{Do\+Csched\+Lc\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a5dfcf09aa4d0f020f6ee8ca800e946d8}{Do\+Csched\+Lc\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a0c850cfa3552f209936e930680566acd}{Do\+Csched\+Ue\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_aaaa9f8493205efe8090c7f32620881ce}{Do\+Sched\+Dl\+Rlc\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a8707932c4af831dd24a66734c6a7cc6d}{Do\+Sched\+Dl\+Paging\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlPagingBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a445c892b673a20767a360eb369a5a537}{Do\+Sched\+Dl\+Mac\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlMacBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a7b4e2fbe84bca59191c664a2b130b5b0}{Do\+Sched\+Dl\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a7df53d2a993dba93c8f172b928190191}{Do\+Sched\+Dl\+Rach\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRachInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_ae91d9424e172df65de53e0395455980d}{Do\+Sched\+Dl\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a9179ed7943c4bc8cd4c6cdc4e35a8cb7}{Do\+Sched\+Ul\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_adabe74a557ef7b089c6f1dd8d63148e3}{Do\+Sched\+Ul\+Noise\+Interference\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlNoiseInterferenceReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a5883efb2d790fd7f6816051fc70c2974}{Do\+Sched\+Ul\+Sr\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlSrInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a4fab1c37436af9d2b6e2787f15eb8d9d}{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlMacCtrlInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a076446d288bea04ee5eeb8c6dda4ce45}{Do\+Sched\+Ul\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
int \hyperlink{classns3_1_1PssFfMacScheduler_aa3caedda9572ce0438063926b19d7efb}{Get\+Rbg\+Size} (int dlbandwidth)
\item 
int \hyperlink{classns3_1_1PssFfMacScheduler_afa94be0f9d6a6f6ce3aee86abf764e27}{Lc\+Active\+Per\+Flow} (uint16\+\_\+t rnti)
\item 
double \hyperlink{classns3_1_1PssFfMacScheduler_a15bdac925576b1d79d0c8a8eb3cc54b8}{Estimate\+Ul\+Sinr} (uint16\+\_\+t rnti, uint16\+\_\+t rb)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a2e7bc40b4840831d734e10bea3124046}{Refresh\+Dl\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a7f324be2e5aedb9053989a1bb82036ca}{Refresh\+Ul\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a892f1cbf2d0ef364fd0dbca6dc6a7848}{Update\+Dl\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a8731138acd04bc66f4896f5f823d12cc}{Update\+Ul\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint16\+\_\+t size)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1PssFfMacScheduler_a5c5fbf9993def2ae6cf974ae81bc0ddb}{Update\+Harq\+Process\+Id} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Update and return a new process Id for the R\+N\+TI specified. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1PssFfMacScheduler_a1740bdf713ce5efee7e691ea11176d4c}{Harq\+Process\+Availability} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Return the availability of free process for the R\+N\+TI specified. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_ab4cc64c15c7cf1365bad5ae358e99437}{Refresh\+Harq\+Processes} ()
\begin{DoxyCompactList}\small\item\em Refresh H\+A\+RQ processes according to the timers. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a9c63ab9df8fe1bba7cd615dfb0c975df}{Do\+Csched\+Cell\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a4e8bae0a131e7e0e1a9ff8b1a463e7ca}{Do\+Csched\+Ue\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_afc6bf6ad38635cfafcc6fd1d4e4ec3cd}{Do\+Csched\+Lc\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a5dfcf09aa4d0f020f6ee8ca800e946d8}{Do\+Csched\+Lc\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a0c850cfa3552f209936e930680566acd}{Do\+Csched\+Ue\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_aaaa9f8493205efe8090c7f32620881ce}{Do\+Sched\+Dl\+Rlc\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a8707932c4af831dd24a66734c6a7cc6d}{Do\+Sched\+Dl\+Paging\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlPagingBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a445c892b673a20767a360eb369a5a537}{Do\+Sched\+Dl\+Mac\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlMacBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a7b4e2fbe84bca59191c664a2b130b5b0}{Do\+Sched\+Dl\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a7df53d2a993dba93c8f172b928190191}{Do\+Sched\+Dl\+Rach\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRachInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_ae91d9424e172df65de53e0395455980d}{Do\+Sched\+Dl\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a9179ed7943c4bc8cd4c6cdc4e35a8cb7}{Do\+Sched\+Ul\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_adabe74a557ef7b089c6f1dd8d63148e3}{Do\+Sched\+Ul\+Noise\+Interference\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlNoiseInterferenceReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a5883efb2d790fd7f6816051fc70c2974}{Do\+Sched\+Ul\+Sr\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlSrInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a4fab1c37436af9d2b6e2787f15eb8d9d}{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlMacCtrlInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a076446d288bea04ee5eeb8c6dda4ce45}{Do\+Sched\+Ul\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
int \hyperlink{classns3_1_1PssFfMacScheduler_aa3caedda9572ce0438063926b19d7efb}{Get\+Rbg\+Size} (int dlbandwidth)
\item 
int \hyperlink{classns3_1_1PssFfMacScheduler_afa94be0f9d6a6f6ce3aee86abf764e27}{Lc\+Active\+Per\+Flow} (uint16\+\_\+t rnti)
\item 
double \hyperlink{classns3_1_1PssFfMacScheduler_a15bdac925576b1d79d0c8a8eb3cc54b8}{Estimate\+Ul\+Sinr} (uint16\+\_\+t rnti, uint16\+\_\+t rb)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a2e7bc40b4840831d734e10bea3124046}{Refresh\+Dl\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a7f324be2e5aedb9053989a1bb82036ca}{Refresh\+Ul\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a892f1cbf2d0ef364fd0dbca6dc6a7848}{Update\+Dl\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)
\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_a8731138acd04bc66f4896f5f823d12cc}{Update\+Ul\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint16\+\_\+t size)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1PssFfMacScheduler_a5c5fbf9993def2ae6cf974ae81bc0ddb}{Update\+Harq\+Process\+Id} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Update and return a new process Id for the R\+N\+TI specified. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1PssFfMacScheduler_a1740bdf713ce5efee7e691ea11176d4c}{Harq\+Process\+Availability} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Return the availability of free process for the R\+N\+TI specified. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1PssFfMacScheduler_ab4cc64c15c7cf1365bad5ae358e99437}{Refresh\+Harq\+Processes} ()
\begin{DoxyCompactList}\small\item\em Refresh H\+A\+RQ processes according to the timers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteAmc}{Lte\+Amc} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\+\_\+amc}
\item 
std\+::map$<$ \hyperlink{structns3_1_1LteFlowId__t}{Lte\+Flow\+Id\+\_\+t}, \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\+\_\+rlc\+Buffer\+Req}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1pssFlowPerf__t}{pss\+Flow\+Perf\+\_\+t} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\+\_\+flow\+Stats\+Dl}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1pssFlowPerf__t}{pss\+Flow\+Perf\+\_\+t} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a352297bd379991aba26a724661058120}{m\+\_\+flow\+Stats\+Ul}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}{m\+\_\+p10\+Cqi\+Rxed}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a687c4283769d0e08724b80d4f5a5cf77}{m\+\_\+p10\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1SbMeasResult__s}{Sb\+Meas\+Result\+\_\+s} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\+\_\+a30\+Cqi\+Rxed}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1PssFfMacScheduler_aebfb8f26fbeb4ab75f566ce974f2cb65}{m\+\_\+a30\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ uint16\+\_\+t $>$ $>$ \hyperlink{classns3_1_1PssFfMacScheduler_ad06e7461edc613eb44a4a9c474915022}{m\+\_\+allocation\+Maps}
\item 
std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ double $>$ $>$ \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\+\_\+ue\+Cqi}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a1cc9115fabab47bd1c6de8fa20725782}{m\+\_\+ue\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\+\_\+ce\+Bsr\+Rxed}
\item 
\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_a502c23d2808cc6888f04b996ca6a2f2f}{m\+\_\+csched\+Sap\+User}
\item 
\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_aef80e10798607daea4efdf4cf1297bd9}{m\+\_\+sched\+Sap\+User}
\item 
\hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_ac11b1d69f7082523bec1759f39331619}{m\+\_\+csched\+Sap\+Provider}
\item 
\hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_a9c95ea6430238a972ca249cc7c017a91}{m\+\_\+sched\+Sap\+Provider}
\item 
\hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_aba075c2fcb5d36a9276a0519a53ad5b2}{m\+\_\+ffr\+Sap\+User}
\item 
\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\+\_\+ffr\+Sap\+Provider}
\item 
\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\+\_\+csched\+Cell\+Config}
\item 
double \hyperlink{classns3_1_1PssFfMacScheduler_aecdbf7e675d36f9ed48a35d8135fb08e}{m\+\_\+time\+Window}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}{m\+\_\+next\+Rnti\+Ul}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\+\_\+cqi\+Timers\+Threshold}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\+\_\+ues\+Tx\+Mode}
\item 
std\+::string \hyperlink{classns3_1_1PssFfMacScheduler_a8442a089f3cb7fcaf802fb5da9caee02}{m\+\_\+fd\+Scheduler\+Type}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1PssFfMacScheduler_a5f2880c5cc34c2189db6e92bc2cae47e}{m\+\_\+n\+Mux}
\item 
bool \hyperlink{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}{m\+\_\+harq\+On}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a860dc1e5d114893e493e5ff2696d7171}{m\+\_\+dl\+Harq\+Current\+Process\+Id}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a457b3571b67ff17d042e9894e90e2ce2}{Dl\+Harq\+Processes\+Status\+\_\+t} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\+\_\+dl\+Harq\+Processes\+Status}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a39413ade536de4b1c82d6c0074cc703e}{Dl\+Harq\+Processes\+Timer\+\_\+t} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{m\+\_\+dl\+Harq\+Processes\+Timer}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_af25599bf8f9f564075c005759c9af18c}{Dl\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a167441dd2a0e5cde664eedfd19a07fbf}{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a4c0cbd1e72f1c667f8b5879655f13210}{Dl\+Harq\+Rlc\+Pdu\+List\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}
\item 
std\+::vector$<$ \hyperlink{structns3_1_1DlInfoListElement__s}{Dl\+Info\+List\+Element\+\_\+s} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\+\_\+dl\+Info\+List\+Buffered}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\+\_\+ul\+Harq\+Current\+Process\+Id}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_af765c4daaafe4ea4809c1041fc196629}{Ul\+Harq\+Processes\+Status\+\_\+t} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a80badd341a079bd237ef7fe60db2cb79}{m\+\_\+ul\+Harq\+Processes\+Status}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a042cbd6bf67e73911cba35b8c070223d}{Ul\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}
\item 
std\+::vector$<$ struct \hyperlink{structns3_1_1RachListElement__s}{Rach\+List\+Element\+\_\+s} $>$ \hyperlink{classns3_1_1PssFfMacScheduler_a7365478ecd213eef5da163ace10a94ed}{m\+\_\+rach\+List}
\item 
std\+::vector$<$ uint16\+\_\+t $>$ \hyperlink{classns3_1_1PssFfMacScheduler_af093989004d46e1bf45ba2bdb1dfa03e}{m\+\_\+rach\+Allocation\+Map}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1PssFfMacScheduler_a535c4d18454b96af02427b81a3b20930}{m\+\_\+ul\+Grant\+Mcs}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1PssFfMacScheduler_a142f1cdc3a9a0831d8cc0beb9ee55924}{Pss\+Scheduler\+Member\+Csched\+Sap\+Provider}
\item 
class \hyperlink{classns3_1_1PssFfMacScheduler_aaa7b9ef44118729ff0c95dfe22fdb7de}{Pss\+Scheduler\+Member\+Sched\+Sap\+Provider}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Implements the S\+C\+H\+ED S\+AP and C\+S\+C\+H\+ED S\+AP for a Priority Set scheduler. 

This class implements the interface defined by the \hyperlink{classns3_1_1FfMacScheduler}{Ff\+Mac\+Scheduler} abstract class 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Pss\+Ff\+Mac\+Scheduler@{Pss\+Ff\+Mac\+Scheduler}}
\index{Pss\+Ff\+Mac\+Scheduler@{Pss\+Ff\+Mac\+Scheduler}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Pss\+Ff\+Mac\+Scheduler()}{PssFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Pss\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PssFfMacScheduler_ac74abd1f46b26a6ba4050f19d9fb45ff}{}\label{classns3_1_1PssFfMacScheduler_ac74abd1f46b26a6ba4050f19d9fb45ff}


Constructor. 

Creates the M\+AC \hyperlink{classns3_1_1Scheduler}{Scheduler} interface implementation 
\begin{DoxyCode}
220   :   \hyperlink{classns3_1_1PssFfMacScheduler_a502c23d2808cc6888f04b996ca6a2f2f}{m\_cschedSapUser} (0),
221     \hyperlink{classns3_1_1PssFfMacScheduler_aef80e10798607daea4efdf4cf1297bd9}{m\_schedSapUser} (0),
222     \hyperlink{classns3_1_1PssFfMacScheduler_aecdbf7e675d36f9ed48a35d8135fb08e}{m\_timeWindow} (99.0),
223     \hyperlink{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}{m\_nextRntiUl} (0)
224 \{
225   \hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc} = CreateObject <LteAmc> ();
226   \hyperlink{classns3_1_1PssFfMacScheduler_ac11b1d69f7082523bec1759f39331619}{m\_cschedSapProvider} = \textcolor{keyword}{new} 
      \hyperlink{classns3_1_1PssFfMacScheduler_a142f1cdc3a9a0831d8cc0beb9ee55924}{PssSchedulerMemberCschedSapProvider} (\textcolor{keyword}{this});
227   \hyperlink{classns3_1_1PssFfMacScheduler_a9c95ea6430238a972ca249cc7c017a91}{m\_schedSapProvider} = \textcolor{keyword}{new} \hyperlink{classns3_1_1PssFfMacScheduler_aaa7b9ef44118729ff0c95dfe22fdb7de}{PssSchedulerMemberSchedSapProvider}
       (\textcolor{keyword}{this});
228   \hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider} = 0;
229   \hyperlink{classns3_1_1PssFfMacScheduler_aba075c2fcb5d36a9276a0519a53ad5b2}{m\_ffrSapUser} = \textcolor{keyword}{new} MemberLteFfrSapUser<PssFfMacScheduler> (\textcolor{keyword}{this});
230 \}
\end{DoxyCode}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!````~Pss\+Ff\+Mac\+Scheduler@{$\sim$\+Pss\+Ff\+Mac\+Scheduler}}
\index{````~Pss\+Ff\+Mac\+Scheduler@{$\sim$\+Pss\+Ff\+Mac\+Scheduler}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{$\sim$\+Pss\+Ff\+Mac\+Scheduler()}{~PssFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::$\sim$\+Pss\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_ae9e7fc2f0f8648c25462e9c4884eab17}{}\label{classns3_1_1PssFfMacScheduler_ae9e7fc2f0f8648c25462e9c4884eab17}
Destructor 
\begin{DoxyCode}
233 \{
234   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
235 \}
\end{DoxyCode}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Pss\+Ff\+Mac\+Scheduler@{Pss\+Ff\+Mac\+Scheduler}}
\index{Pss\+Ff\+Mac\+Scheduler@{Pss\+Ff\+Mac\+Scheduler}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Pss\+Ff\+Mac\+Scheduler()}{PssFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Pss\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PssFfMacScheduler_ac74abd1f46b26a6ba4050f19d9fb45ff}{}\label{classns3_1_1PssFfMacScheduler_ac74abd1f46b26a6ba4050f19d9fb45ff}


Constructor. 

Creates the M\+AC \hyperlink{classns3_1_1Scheduler}{Scheduler} interface implementation \index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!````~Pss\+Ff\+Mac\+Scheduler@{$\sim$\+Pss\+Ff\+Mac\+Scheduler}}
\index{````~Pss\+Ff\+Mac\+Scheduler@{$\sim$\+Pss\+Ff\+Mac\+Scheduler}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{$\sim$\+Pss\+Ff\+Mac\+Scheduler()}{~PssFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::$\sim$\+Pss\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_a0245134d9f9783cd60af9f1e2e5f6bb2}{}\label{classns3_1_1PssFfMacScheduler_a0245134d9f9783cd60af9f1e2e5f6bb2}
Destructor 

\subsection{Member Function Documentation}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}}
\index{Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Cell\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters \&params)}{DoCschedCellConfigReq(const struct FfMacCschedSapProvider::CschedCellConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Cell\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a9c63ab9df8fe1bba7cd615dfb0c975df}{}\label{classns3_1_1PssFfMacScheduler_a9c63ab9df8fe1bba7cd615dfb0c975df}

\begin{DoxyCode}
329 \{
330   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
331   \textcolor{comment}{// Read the subset of parameters used}
332   \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig} = params;
333   \hyperlink{classns3_1_1PssFfMacScheduler_af093989004d46e1bf45ba2bdb1dfa03e}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
334   FfMacCschedSapUser::CschedUeConfigCnfParameters cnf;
335   cnf.m\_result = \hyperlink{namespacens3_a7acf2b7f9e0781dfe43a6bc54d6ecd07a4e8f5e8f6e514152d0a9fbd6b1607fd0}{SUCCESS};
336   \hyperlink{classns3_1_1PssFfMacScheduler_a502c23d2808cc6888f04b996ca6a2f2f}{m\_cschedSapUser}->\hyperlink{classns3_1_1FfMacCschedSapUser_aecc852478a4ba7e4cd868dae75e01b68}{CschedUeConfigCnf} (cnf);
337   \textcolor{keywordflow}{return};
338 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}}
\index{Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Cell\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters \&params)}{DoCschedCellConfigReq(const struct FfMacCschedSapProvider::CschedCellConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Cell\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a9c63ab9df8fe1bba7cd615dfb0c975df}{}\label{classns3_1_1PssFfMacScheduler_a9c63ab9df8fe1bba7cd615dfb0c975df}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}}
\index{Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters \&params)}{DoCschedLcConfigReq(const struct FfMacCschedSapProvider::CschedLcConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_afc6bf6ad38635cfafcc6fd1d4e4ec3cd}{}\label{classns3_1_1PssFfMacScheduler_afc6bf6ad38635cfafcc6fd1d4e4ec3cd}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}}
\index{Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters \&params)}{DoCschedLcConfigReq(const struct FfMacCschedSapProvider::CschedLcConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_afc6bf6ad38635cfafcc6fd1d4e4ec3cd}{}\label{classns3_1_1PssFfMacScheduler_afc6bf6ad38635cfafcc6fd1d4e4ec3cd}

\begin{DoxyCode}
381 \{
382   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" New LC, rnti: "}  << params.m\_rnti);
383 
384   std::map <uint16\_t, pssFlowPerf\_t>::iterator it;
385   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_logicalChannelConfigList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
386     \{
387       it = \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.find (params.m\_rnti);
388 
389       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.end ())
390         \{
391           \textcolor{keywordtype}{double} tbrDlInBytes = params.m\_logicalChannelConfigList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_eRabGuaranteedBitrateDl / 8;   \textcolor{comment}{
      // byte/s}
392           \textcolor{keywordtype}{double} tbrUlInBytes = params.m\_logicalChannelConfigList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_eRabGuaranteedBitrateUl / 8;   \textcolor{comment}{
      // byte/s}
393 
394           pssFlowPerf\_t flowStatsDl;
395           flowStatsDl.flowStart = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
396           flowStatsDl.totalBytesTransmitted = 0;
397           flowStatsDl.lastTtiBytesTransmitted = 0;
398           flowStatsDl.lastAveragedThroughput = 1;
399           flowStatsDl.secondLastAveragedThroughput = 1;
400           flowStatsDl.targetThroughput = tbrDlInBytes;
401           \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.insert (std::pair<uint16\_t, pssFlowPerf\_t> (params.m\_rnti, flowStatsDl
      ));
402           pssFlowPerf\_t flowStatsUl;
403           flowStatsUl.flowStart = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
404           flowStatsUl.totalBytesTransmitted = 0;
405           flowStatsUl.lastTtiBytesTransmitted = 0;
406           flowStatsUl.lastAveragedThroughput = 1;
407           flowStatsUl.secondLastAveragedThroughput = 1;
408           flowStatsUl.targetThroughput = tbrUlInBytes;
409           \hyperlink{classns3_1_1PssFfMacScheduler_a352297bd379991aba26a724661058120}{m\_flowStatsUl}.insert (std::pair<uint16\_t, pssFlowPerf\_t> (params.m\_rnti, flowStatsUl
      ));
410         \}
411       \textcolor{keywordflow}{else}
412         \{
413           \textcolor{comment}{// update GBR from UeManager::SetupDataRadioBearer ()}
414           \textcolor{keywordtype}{double} tbrDlInBytes = params.m\_logicalChannelConfigList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_eRabGuaranteedBitrateDl / 8;   \textcolor{comment}{
      // byte/s}
415           \textcolor{keywordtype}{double} tbrUlInBytes = params.m\_logicalChannelConfigList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_eRabGuaranteedBitrateUl / 8;   \textcolor{comment}{
      // byte/s}
416           \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}[(*it).first].targetThroughput = tbrDlInBytes;
417           \hyperlink{classns3_1_1PssFfMacScheduler_a352297bd379991aba26a724661058120}{m\_flowStatsUl}[(*it).first].targetThroughput = tbrUlInBytes;
418         \}
419     \}
420 
421   \textcolor{keywordflow}{return};
422 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}}
\index{Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters \&params)}{DoCschedLcReleaseReq(const struct FfMacCschedSapProvider::CschedLcReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a5dfcf09aa4d0f020f6ee8ca800e946d8}{}\label{classns3_1_1PssFfMacScheduler_a5dfcf09aa4d0f020f6ee8ca800e946d8}

\begin{DoxyCode}
426 \{
427   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
428   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_logicalChannelIdentity.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
429     \{
430       std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it = 
      \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.begin ();
431       std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator temp;
432       \textcolor{keywordflow}{while} (it!=\hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.end ())
433         \{
434           \textcolor{keywordflow}{if} (((*it).first.m\_rnti == params.m\_rnti) && ((*it).first.m\_lcId == params.
      m\_logicalChannelIdentity.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})))
435             \{
436               temp = it;
437               it++;
438               \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.erase (temp);
439             \}
440           \textcolor{keywordflow}{else}
441             \{
442               it++;
443             \}
444         \}
445     \}
446   \textcolor{keywordflow}{return};
447 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}}
\index{Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters \&params)}{DoCschedLcReleaseReq(const struct FfMacCschedSapProvider::CschedLcReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a5dfcf09aa4d0f020f6ee8ca800e946d8}{}\label{classns3_1_1PssFfMacScheduler_a5dfcf09aa4d0f020f6ee8ca800e946d8}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}}
\index{Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters \&params)}{DoCschedUeConfigReq(const struct FfMacCschedSapProvider::CschedUeConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a4e8bae0a131e7e0e1a9ff8b1a463e7ca}{}\label{classns3_1_1PssFfMacScheduler_a4e8bae0a131e7e0e1a9ff8b1a463e7ca}

\begin{DoxyCode}
342 \{
343   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << params.m\_rnti << \textcolor{stringliteral}{" txMode "} << (uint16\_t)params.
      m\_transmissionMode);
344   std::map <uint16\_t,uint8\_t>::iterator it = \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.find (params.m\_rnti);
345   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.end ())
346     \{
347       \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.insert (std::pair <uint16\_t, double> (params.m\_rnti, params.m\_transmissionMode
      ));
348       \textcolor{comment}{// generate HARQ buffers}
349       \hyperlink{classns3_1_1PssFfMacScheduler_a860dc1e5d114893e493e5ff2696d7171}{m\_dlHarqCurrentProcessId}.insert (std::pair <uint16\_t,uint8\_t > (params.m\_rnti
      , 0));
350       \hyperlink{namespacens3_a457b3571b67ff17d042e9894e90e2ce2}{DlHarqProcessesStatus\_t} dlHarqPrcStatus;
351       dlHarqPrcStatus.resize (8,0);
352       \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.insert (std::pair <uint16\_t, DlHarqProcessesStatus\_t> 
      (params.m\_rnti, dlHarqPrcStatus));
353       \hyperlink{namespacens3_a39413ade536de4b1c82d6c0074cc703e}{DlHarqProcessesTimer\_t} dlHarqProcessesTimer;
354       dlHarqProcessesTimer.resize (8,0);
355       \hyperlink{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{m\_dlHarqProcessesTimer}.insert (std::pair <uint16\_t, DlHarqProcessesTimer\_t> (
      params.m\_rnti, dlHarqProcessesTimer));
356       \hyperlink{namespacens3_af25599bf8f9f564075c005759c9af18c}{DlHarqProcessesDciBuffer\_t} dlHarqdci;
357       dlHarqdci.resize (8);
358       \hyperlink{classns3_1_1PssFfMacScheduler_a167441dd2a0e5cde664eedfd19a07fbf}{m\_dlHarqProcessesDciBuffer}.insert (std::pair <uint16\_t,
       DlHarqProcessesDciBuffer\_t> (params.m\_rnti, dlHarqdci));
359       \hyperlink{namespacens3_a4c0cbd1e72f1c667f8b5879655f13210}{DlHarqRlcPduListBuffer\_t} dlHarqRlcPdu;
360       dlHarqRlcPdu.resize (2);
361       dlHarqRlcPdu.at (0).resize (8);
362       dlHarqRlcPdu.at (1).resize (8);
363       \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.insert (std::pair <uint16\_t,
       DlHarqRlcPduListBuffer\_t> (params.m\_rnti, dlHarqRlcPdu));
364       \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.insert (std::pair <uint16\_t,uint8\_t > (params.m\_rnti
      , 0));
365       \hyperlink{namespacens3_af765c4daaafe4ea4809c1041fc196629}{UlHarqProcessesStatus\_t} ulHarqPrcStatus;
366       ulHarqPrcStatus.resize (8,0);
367       \hyperlink{classns3_1_1PssFfMacScheduler_a80badd341a079bd237ef7fe60db2cb79}{m\_ulHarqProcessesStatus}.insert (std::pair <uint16\_t, UlHarqProcessesStatus\_t> 
      (params.m\_rnti, ulHarqPrcStatus));
368       \hyperlink{namespacens3_a042cbd6bf67e73911cba35b8c070223d}{UlHarqProcessesDciBuffer\_t} ulHarqdci;
369       ulHarqdci.resize (8);
370       \hyperlink{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{m\_ulHarqProcessesDciBuffer}.insert (std::pair <uint16\_t,
       UlHarqProcessesDciBuffer\_t> (params.m\_rnti, ulHarqdci));
371     \}
372   \textcolor{keywordflow}{else}
373     \{
374       (*it).second = params.m\_transmissionMode;
375     \}
376   \textcolor{keywordflow}{return};
377 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}}
\index{Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters \&params)}{DoCschedUeConfigReq(const struct FfMacCschedSapProvider::CschedUeConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a4e8bae0a131e7e0e1a9ff8b1a463e7ca}{}\label{classns3_1_1PssFfMacScheduler_a4e8bae0a131e7e0e1a9ff8b1a463e7ca}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}}
\index{Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters \&params)}{DoCschedUeReleaseReq(const struct FfMacCschedSapProvider::CschedUeReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a0c850cfa3552f209936e930680566acd}{}\label{classns3_1_1PssFfMacScheduler_a0c850cfa3552f209936e930680566acd}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}}
\index{Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters \&params)}{DoCschedUeReleaseReq(const struct FfMacCschedSapProvider::CschedUeReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a0c850cfa3552f209936e930680566acd}{}\label{classns3_1_1PssFfMacScheduler_a0c850cfa3552f209936e930680566acd}

\begin{DoxyCode}
451 \{
452   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
453   
454   \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.erase (params.m\_rnti);
455   \hyperlink{classns3_1_1PssFfMacScheduler_a860dc1e5d114893e493e5ff2696d7171}{m\_dlHarqCurrentProcessId}.erase (params.m\_rnti);
456   \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.erase  (params.m\_rnti);
457   \hyperlink{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{m\_dlHarqProcessesTimer}.erase (params.m\_rnti);
458   \hyperlink{classns3_1_1PssFfMacScheduler_a167441dd2a0e5cde664eedfd19a07fbf}{m\_dlHarqProcessesDciBuffer}.erase  (params.m\_rnti);
459   \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.erase  (params.m\_rnti);
460   \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.erase  (params.m\_rnti);
461   \hyperlink{classns3_1_1PssFfMacScheduler_a80badd341a079bd237ef7fe60db2cb79}{m\_ulHarqProcessesStatus}.erase  (params.m\_rnti);
462   \hyperlink{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{m\_ulHarqProcessesDciBuffer}.erase  (params.m\_rnti);
463   \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.erase  (params.m\_rnti);
464   \hyperlink{classns3_1_1PssFfMacScheduler_a352297bd379991aba26a724661058120}{m\_flowStatsUl}.erase  (params.m\_rnti);
465   \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.erase (params.m\_rnti);
466   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it = 
      \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.begin ();
467   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator temp;
468   \textcolor{keywordflow}{while} (it!=\hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.end ())
469     \{
470       \textcolor{keywordflow}{if} ((*it).first.m\_rnti == params.m\_rnti)
471         \{
472           temp = it;
473           it++;
474           \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.erase (temp);
475         \}
476       \textcolor{keywordflow}{else}
477         \{
478           it++;
479         \}
480     \}
481   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}{m\_nextRntiUl} == params.m\_rnti)
482     \{
483       \hyperlink{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}{m\_nextRntiUl} = 0;
484     \}
485 
486   \textcolor{keywordflow}{return};
487 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_a4bbf1f8fb80d53ea04321c690092deee}{}\label{classns3_1_1PssFfMacScheduler_a4bbf1f8fb80d53ea04321c690092deee}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1PssFfMacScheduler_aef17051a95160a1b1239430c1f5b942b}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1FfMacScheduler_a771411e455992b81d8399681779debd9}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_aef17051a95160a1b1239430c1f5b942b}{}\label{classns3_1_1PssFfMacScheduler_aef17051a95160a1b1239430c1f5b942b}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1PssFfMacScheduler_aef17051a95160a1b1239430c1f5b942b}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1FfMacScheduler_a771411e455992b81d8399681779debd9}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
239 \{
240   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
241   \hyperlink{classns3_1_1PssFfMacScheduler_a167441dd2a0e5cde664eedfd19a07fbf}{m\_dlHarqProcessesDciBuffer}.clear ();
242   \hyperlink{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{m\_dlHarqProcessesTimer}.clear ();
243   \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.clear ();
244   \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.clear ();
245   \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.clear ();
246   \hyperlink{classns3_1_1PssFfMacScheduler_a80badd341a079bd237ef7fe60db2cb79}{m\_ulHarqProcessesStatus}.clear ();
247   \hyperlink{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{m\_ulHarqProcessesDciBuffer}.clear ();
248   \textcolor{keyword}{delete} \hyperlink{classns3_1_1PssFfMacScheduler_ac11b1d69f7082523bec1759f39331619}{m\_cschedSapProvider};
249   \textcolor{keyword}{delete} \hyperlink{classns3_1_1PssFfMacScheduler_a9c95ea6430238a972ca249cc7c017a91}{m\_schedSapProvider};
250   \textcolor{keyword}{delete} \hyperlink{classns3_1_1PssFfMacScheduler_aba075c2fcb5d36a9276a0519a53ad5b2}{m\_ffrSapUser};
251 \}
\end{DoxyCode}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedDlCqiInfoReq(const struct FfMacSchedSapProvider::SchedDlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_ae91d9424e172df65de53e0395455980d}{}\label{classns3_1_1PssFfMacScheduler_ae91d9424e172df65de53e0395455980d}

\begin{DoxyCode}
1716 \{
1717   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1718   \hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_a9b28572b241707f364405a269f79dbd8}{ReportDlCqiInfo} (params);
1719 
1720   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_cqiList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1721     \{
1722       \textcolor{keywordflow}{if} ( params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_cqiType == \hyperlink{structns3_1_1CqiListElement__s_a8f1bd827fd9842e7c07e39265d88299aa9db5a80433fbf06a4c98935e28ad26e8}{CqiListElement\_s::P10} )
1723         \{
1724           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"wideband CQI "} <<  (uint32\_t) params.m\_cqiList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0) << \textcolor{stringliteral}{" reported"});
1725           std::map <uint16\_t,uint8\_t>::iterator it;
1726           uint16\_t rnti = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1727           it = \hyperlink{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}{m\_p10CqiRxed}.find (rnti);
1728           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}{m\_p10CqiRxed}.end ())
1729             \{
1730               \textcolor{comment}{// create the new entry}
1731               \hyperlink{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}{m\_p10CqiRxed}.insert ( std::pair<uint16\_t, uint8\_t > (rnti, params.m\_cqiList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0)) ); \textcolor{comment}{// only codeword 0 at this stage (SISO)}
1732               \textcolor{comment}{// generate correspondent timer}
1733               \hyperlink{classns3_1_1PssFfMacScheduler_a687c4283769d0e08724b80d4f5a5cf77}{m\_p10CqiTimers}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold}));
1734             \}
1735           \textcolor{keywordflow}{else}
1736             \{
1737               \textcolor{comment}{// update the CQI value and refresh correspondent timer}
1738               (*it).second = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0);
1739               \textcolor{comment}{// update correspondent timer}
1740               std::map <uint16\_t,uint32\_t>::iterator itTimers;
1741               itTimers = \hyperlink{classns3_1_1PssFfMacScheduler_a687c4283769d0e08724b80d4f5a5cf77}{m\_p10CqiTimers}.find (rnti);
1742               (*itTimers).second = \hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold};
1743             \}
1744         \}
1745       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_cqiType == \hyperlink{structns3_1_1CqiListElement__s_a8f1bd827fd9842e7c07e39265d88299aab9a9d64494e36c89d7932a00edb056a7}{CqiListElement\_s::A30} )
1746         \{
1747           \textcolor{comment}{// subband CQI reporting high layer configured}
1748           std::map <uint16\_t,SbMeasResult\_s>::iterator it;
1749           uint16\_t rnti = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1750           it = \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.find (rnti);
1751           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.end ())
1752             \{
1753               \textcolor{comment}{// create the new entry}
1754               \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.insert ( std::pair<uint16\_t, SbMeasResult\_s > (rnti, params.
      m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbMeasResult) );
1755               \hyperlink{classns3_1_1PssFfMacScheduler_aebfb8f26fbeb4ab75f566ce974f2cb65}{m\_a30CqiTimers}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold}));
1756             \}
1757           \textcolor{keywordflow}{else}
1758             \{
1759               \textcolor{comment}{// update the CQI value and refresh correspondent timer}
1760               (*it).second = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbMeasResult;
1761               std::map <uint16\_t,uint32\_t>::iterator itTimers;
1762               itTimers = \hyperlink{classns3_1_1PssFfMacScheduler_aebfb8f26fbeb4ab75f566ce974f2cb65}{m\_a30CqiTimers}.find (rnti);
1763               (*itTimers).second = \hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold};
1764             \}
1765         \}
1766       \textcolor{keywordflow}{else}
1767         \{
1768           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" CQI type unknown"});
1769         \}
1770     \}
1771 
1772   \textcolor{keywordflow}{return};
1773 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedDlCqiInfoReq(const struct FfMacSchedSapProvider::SchedDlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_ae91d9424e172df65de53e0395455980d}{}\label{classns3_1_1PssFfMacScheduler_ae91d9424e172df65de53e0395455980d}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Mac\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters \&params)}{DoSchedDlMacBufferReq(const struct FfMacSchedSapProvider::SchedDlMacBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Mac\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a445c892b673a20767a360eb369a5a537}{}\label{classns3_1_1PssFfMacScheduler_a445c892b673a20767a360eb369a5a537}

\begin{DoxyCode}
524 \{
525   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
526   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method not implemented"});
527   \textcolor{keywordflow}{return};
528 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Mac\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters \&params)}{DoSchedDlMacBufferReq(const struct FfMacSchedSapProvider::SchedDlMacBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Mac\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a445c892b673a20767a360eb369a5a537}{}\label{classns3_1_1PssFfMacScheduler_a445c892b673a20767a360eb369a5a537}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Paging\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters \&params)}{DoSchedDlPagingBufferReq(const struct FfMacSchedSapProvider::SchedDlPagingBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Paging\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a8707932c4af831dd24a66734c6a7cc6d}{}\label{classns3_1_1PssFfMacScheduler_a8707932c4af831dd24a66734c6a7cc6d}

\begin{DoxyCode}
516 \{
517   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
518   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method not implemented"});
519   \textcolor{keywordflow}{return};
520 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Paging\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters \&params)}{DoSchedDlPagingBufferReq(const struct FfMacSchedSapProvider::SchedDlPagingBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Paging\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a8707932c4af831dd24a66734c6a7cc6d}{}\label{classns3_1_1PssFfMacScheduler_a8707932c4af831dd24a66734c6a7cc6d}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}}
\index{Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rach\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters \&params)}{DoSchedDlRachInfoReq(const struct FfMacSchedSapProvider::SchedDlRachInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rach\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a7df53d2a993dba93c8f172b928190191}{}\label{classns3_1_1PssFfMacScheduler_a7df53d2a993dba93c8f172b928190191}

\begin{DoxyCode}
1706 \{
1707   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1708 
1709   \hyperlink{classns3_1_1PssFfMacScheduler_a7365478ecd213eef5da163ace10a94ed}{m\_rachList} = params.m\_rachList;
1710   
1711   \textcolor{keywordflow}{return};
1712 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}}
\index{Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rach\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters \&params)}{DoSchedDlRachInfoReq(const struct FfMacSchedSapProvider::SchedDlRachInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rach\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a7df53d2a993dba93c8f172b928190191}{}\label{classns3_1_1PssFfMacScheduler_a7df53d2a993dba93c8f172b928190191}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rlc\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters \&params)}{DoSchedDlRlcBufferReq(const struct FfMacSchedSapProvider::SchedDlRlcBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rlc\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_aaaa9f8493205efe8090c7f32620881ce}{}\label{classns3_1_1PssFfMacScheduler_aaaa9f8493205efe8090c7f32620881ce}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rlc\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters \&params)}{DoSchedDlRlcBufferReq(const struct FfMacSchedSapProvider::SchedDlRlcBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rlc\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_aaaa9f8493205efe8090c7f32620881ce}{}\label{classns3_1_1PssFfMacScheduler_aaaa9f8493205efe8090c7f32620881ce}

\begin{DoxyCode}
492 \{
493   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << params.m\_rnti << (uint32\_t) params.m\_logicalChannelIdentity);
494   \textcolor{comment}{// API generated by RLC for updating RLC parameters on a LC (tx and retx queues)}
495 
496   std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
497 
498   LteFlowId\_t flow (params.m\_rnti, params.m\_logicalChannelIdentity);
499 
500   it =  \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.find (flow);
501 
502   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.end ())
503     \{
504       \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.insert (std::pair <LteFlowId\_t,
       FfMacSchedSapProvider::SchedDlRlcBufferReqParameters> (flow, params));
505     \}
506   \textcolor{keywordflow}{else}
507     \{
508       (*it).second = params;
509     \}
510 
511   \textcolor{keywordflow}{return};
512 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}}
\index{Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters \&params)}{DoSchedDlTriggerReq(const struct FfMacSchedSapProvider::SchedDlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a7b4e2fbe84bca59191c664a2b130b5b0}{}\label{classns3_1_1PssFfMacScheduler_a7b4e2fbe84bca59191c664a2b130b5b0}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000107}{Todo}]check correct value according the D\+C\+Is txed \end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000133}{Todo}]check correct value according the D\+C\+Is txed \end{DoxyRefDesc}

\begin{DoxyCode}
677 \{
678   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{" subframe no. "} << (0
      xF & params.m\_sfnSf));
679   \textcolor{comment}{// API generated by RLC for triggering the scheduling of a DL subframe}
680 
681 
682   \textcolor{comment}{// evaluate the relative channel quality indicator for each UE per each RBG}
683   \textcolor{comment}{// (since we are using allocation type 0 the small unit of allocation is RBG)}
684   \textcolor{comment}{// Resource allocation type 0 (see sec 7.1.6.1 of 36.213)}
685 
686   \hyperlink{classns3_1_1PssFfMacScheduler_a2e7bc40b4840831d734e10bea3124046}{RefreshDlCqiMaps} ();
687 
688   \textcolor{keywordtype}{int} rbgSize = \hyperlink{classns3_1_1PssFfMacScheduler_aa3caedda9572ce0438063926b19d7efb}{GetRbgSize} (\hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth});
689   \textcolor{keywordtype}{int} rbgNum = \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth} / rbgSize;
690   std::map <uint16\_t, std::vector <uint16\_t> > allocationMap; \textcolor{comment}{// RBs map per RNTI}
691   std::vector <bool> rbgMap;  \textcolor{comment}{// global RBGs map}
692   uint16\_t rbgAllocatedNum = 0;
693   std::set <uint16\_t> rntiAllocated;
694   rbgMap.resize (\hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth} / rbgSize, \textcolor{keyword}{false});
695 
696   rbgMap = \hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_ad60306dae43b74dc25b65f81d6587a24}{GetAvailableDlRbg} ();
697   \textcolor{keywordflow}{for} (std::vector<bool>::iterator it = rbgMap.begin (); it != rbgMap.end (); it++)
698     \{
699       \textcolor{keywordflow}{if} ((*it) == true )
700         \{
701           rbgAllocatedNum++;
702         \}
703     \}
704 
705   FfMacSchedSapUser::SchedDlConfigIndParameters ret;
706 
707   \textcolor{comment}{//   update UL HARQ proc id}
708   std::map <uint16\_t, uint8\_t>::iterator itProcId;
709   \textcolor{keywordflow}{for} (itProcId = \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.begin (); itProcId != 
      \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.end (); itProcId++)
710     \{
711       (*itProcId).second = ((*itProcId).second + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
712     \}
713 
714   \textcolor{comment}{// RACH Allocation}
715   uint16\_t rbAllocatedNum = 0;
716   std::vector <bool> ulRbMap;
717   ulRbMap.resize (\hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, \textcolor{keyword}{false});
718   ulRbMap = \hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_aafd23b22a27ec83e03d54795c122d175}{GetAvailableUlRbg} ();
719   uint8\_t maxContinuousUlBandwidth = 0;
720   uint8\_t tmpMinBandwidth = 0;
721   uint16\_t ffrRbStartOffset = 0;
722   uint16\_t tmpFfrRbStartOffset = 0;
723   uint16\_t index = 0;
724 
725   \textcolor{keywordflow}{for} (std::vector<bool>::iterator it = ulRbMap.begin (); it != ulRbMap.end (); it++)
726     \{
727       \textcolor{keywordflow}{if} ((*it) == true )
728         \{
729           rbAllocatedNum++;
730           \textcolor{keywordflow}{if} (tmpMinBandwidth > maxContinuousUlBandwidth)
731             \{
732               maxContinuousUlBandwidth = tmpMinBandwidth;
733               ffrRbStartOffset = tmpFfrRbStartOffset;
734             \}
735           tmpMinBandwidth = 0;
736         \}
737       \textcolor{keywordflow}{else}
738         \{
739           \textcolor{keywordflow}{if} (tmpMinBandwidth == 0)
740             \{
741               tmpFfrRbStartOffset = index;
742             \}
743           tmpMinBandwidth++;
744         \}
745       index++;
746     \}
747 
748   \textcolor{keywordflow}{if} (tmpMinBandwidth > maxContinuousUlBandwidth)
749     \{
750       maxContinuousUlBandwidth = tmpMinBandwidth;
751       ffrRbStartOffset = tmpFfrRbStartOffset;
752     \}
753 
754   \hyperlink{classns3_1_1PssFfMacScheduler_af093989004d46e1bf45ba2bdb1dfa03e}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
755   uint16\_t rbStart = 0;
756   rbStart = ffrRbStartOffset;
757   std::vector <struct RachListElement\_s>::iterator itRach;
758   \textcolor{keywordflow}{for} (itRach = \hyperlink{classns3_1_1PssFfMacScheduler_a7365478ecd213eef5da163ace10a94ed}{m\_rachList}.begin (); itRach != \hyperlink{classns3_1_1PssFfMacScheduler_a7365478ecd213eef5da163ace10a94ed}{m\_rachList}.end (); itRach++)
759     \{
760       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetTbSizeFromMcs (\hyperlink{classns3_1_1PssFfMacScheduler_a535c4d18454b96af02427b81a3b20930}{m\_ulGrantMcs}, 
      \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) > (*itRach).m\_estimatedSize, \textcolor{stringliteral}{" Default UL
       Grant MCS does not allow to send RACH messages"});
761       BuildRarListElement\_s newRar;
762       newRar.m\_rnti = (*itRach).m\_rnti;
763       \textcolor{comment}{// DL-RACH Allocation}
764       \textcolor{comment}{// Ideal: no needs of configuring m\_dci}
765       \textcolor{comment}{// UL-RACH Allocation}
766       newRar.m\_grant.m\_rnti = newRar.m\_rnti;
767       newRar.m\_grant.m\_mcs = \hyperlink{classns3_1_1PssFfMacScheduler_a535c4d18454b96af02427b81a3b20930}{m\_ulGrantMcs};
768       uint16\_t rbLen = 1;
769       uint16\_t tbSizeBits = 0;
770       \textcolor{comment}{// find lowest TB size that fits UL grant estimated size}
771       \textcolor{keywordflow}{while} ((tbSizeBits < (*itRach).m\_estimatedSize) && (rbStart + rbLen < (ffrRbStartOffset + 
      maxContinuousUlBandwidth)))
772         \{
773           rbLen++;
774           tbSizeBits = \hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetTbSizeFromMcs (\hyperlink{classns3_1_1PssFfMacScheduler_a535c4d18454b96af02427b81a3b20930}{m\_ulGrantMcs}, rbLen);
775         \}
776       \textcolor{keywordflow}{if} (tbSizeBits < (*itRach).m\_estimatedSize)
777         \{
778           \textcolor{comment}{// no more allocation space: finish allocation}
779           \textcolor{keywordflow}{break};
780         \}
781       newRar.m\_grant.m\_rbStart = rbStart;
782       newRar.m\_grant.m\_rbLen = rbLen;
783       newRar.m\_grant.m\_tbSize = tbSizeBits / 8;
784       newRar.m\_grant.m\_hopping = \textcolor{keyword}{false};
785       newRar.m\_grant.m\_tpc = 0;
786       newRar.m\_grant.m\_cqiRequest = \textcolor{keyword}{false};
787       newRar.m\_grant.m\_ulDelay = \textcolor{keyword}{false};
788       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL grant allocated to RNTI "} << (*itRach).m\_rnti << \textcolor{stringliteral}{" rbStart "} << 
      rbStart << \textcolor{stringliteral}{" rbLen "} << rbLen << \textcolor{stringliteral}{" MCS "} << \hyperlink{classns3_1_1PssFfMacScheduler_a535c4d18454b96af02427b81a3b20930}{m\_ulGrantMcs} << \textcolor{stringliteral}{" tbSize "} << newRar.m\_grant.
      m\_tbSize);
789       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rbStart + rbLen; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
790         \{
791           \hyperlink{classns3_1_1PssFfMacScheduler_af093989004d46e1bf45ba2bdb1dfa03e}{m\_rachAllocationMap}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = (*itRach).m\_rnti;
792         \}
793 
794       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}{m\_harqOn} == \textcolor{keyword}{true})
795         \{
796           \textcolor{comment}{// generate UL-DCI for HARQ retransmissions}
797           UlDciListElement\_s uldci;
798           uldci.m\_rnti = newRar.m\_rnti;
799           uldci.m\_rbLen = rbLen;
800           uldci.m\_rbStart = rbStart;
801           uldci.m\_mcs = \hyperlink{classns3_1_1PssFfMacScheduler_a535c4d18454b96af02427b81a3b20930}{m\_ulGrantMcs};
802           uldci.m\_tbSize = tbSizeBits / 8;
803           uldci.m\_ndi = 1;
804           uldci.m\_cceIndex = 0;
805           uldci.m\_aggrLevel = 1;
806           uldci.m\_ueTxAntennaSelection = 3; \textcolor{comment}{// antenna selection OFF}
807           uldci.m\_hopping = \textcolor{keyword}{false};
808           uldci.m\_n2Dmrs = 0;
809           uldci.m\_tpc = 0; \textcolor{comment}{// no power control}
810           uldci.m\_cqiRequest = \textcolor{keyword}{false}; \textcolor{comment}{// only period CQI at this stage}
811           uldci.m\_ulIndex = 0; \textcolor{comment}{// TDD parameter}
812           uldci.m\_dai = 1; \textcolor{comment}{// TDD parameter}
813           uldci.m\_freqHopping = 0;
814           uldci.m\_pdcchPowerOffset = 0; \textcolor{comment}{// not used}
815 
816           uint8\_t harqId = 0;
817           std::map <uint16\_t, uint8\_t>::iterator itProcId;
818           itProcId = \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.find (uldci.m\_rnti);
819           \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.end ())
820             \{
821               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << uldci.m\_rnti);
822             \}
823           harqId = (*itProcId).second;
824           std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{m\_ulHarqProcessesDciBuffer}.find (uldci.m\_rnti);
825           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{m\_ulHarqProcessesDciBuffer}.end ())
826             \{
827               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in UL DCI HARQ buffer for RNTI "} << 
      uldci.m\_rnti);
828             \}
829           (*itDci).second.at (harqId) = uldci;
830         \}
831 
832       rbStart = rbStart + rbLen;
833       ret.m\_buildRarList.push\_back (newRar);
834     \}
835   \hyperlink{classns3_1_1PssFfMacScheduler_a7365478ecd213eef5da163ace10a94ed}{m\_rachList}.clear ();
836 
837 
838   \textcolor{comment}{// Process DL HARQ feedback}
839   \hyperlink{classns3_1_1PssFfMacScheduler_ab4cc64c15c7cf1365bad5ae358e99437}{RefreshHarqProcesses} ();
840   \textcolor{comment}{// retrieve past HARQ retx buffered}
841   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.size () > 0)
842     \{
843       \textcolor{keywordflow}{if} (params.m\_dlInfoList.size () > 0)
844         \{
845           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Received DL-HARQ feedback"});
846           \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.insert (\hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.end (),
       params.m\_dlInfoList.begin (), params.m\_dlInfoList.end ());
847         \}
848     \}
849   \textcolor{keywordflow}{else}
850     \{
851       \textcolor{keywordflow}{if} (params.m\_dlInfoList.size () > 0)
852         \{
853           \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered} = params.m\_dlInfoList;
854         \}
855     \}
856   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}{m\_harqOn} == \textcolor{keyword}{false})
857     \{
858       \textcolor{comment}{// Ignore HARQ feedback}
859       \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.clear ();
860     \}
861   std::vector <struct DlInfoListElement\_s> dlInfoListUntxed;
862   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
863     \{
864       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find (
      \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
865       \textcolor{keywordflow}{if} (itRnti != rntiAllocated.end ())
866         \{
867           \textcolor{comment}{// RNTI already allocated for retx}
868           \textcolor{keywordflow}{continue};
869         \}
870       uint8\_t nLayers = \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.size ();
871       std::vector <bool> retx;
872       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Processing DLHARQ feedback"});
873       \textcolor{keywordflow}{if} (nLayers == 1)
874         \{
875           retx.push\_back (\hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (0) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
876           retx.push\_back (\textcolor{keyword}{false});
877         \}
878       \textcolor{keywordflow}{else}
879         \{
880           retx.push\_back (\hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (0) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
881           retx.push\_back (\hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (1) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
882         \}
883       \textcolor{keywordflow}{if} (retx.at (0) || retx.at (1))
884         \{
885           \textcolor{comment}{// retrieve HARQ process information}
886           uint16\_t rnti = \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
887           uint8\_t harqId = \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId;
888           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ retx RNTI "} << rnti << \textcolor{stringliteral}{" harqId "} << (uint16\_t)harqId);
889           std::map <uint16\_t, DlHarqProcessesDciBuffer\_t>::iterator itHarq = 
      \hyperlink{classns3_1_1PssFfMacScheduler_a167441dd2a0e5cde664eedfd19a07fbf}{m\_dlHarqProcessesDciBuffer}.find (rnti);
890           \textcolor{keywordflow}{if} (itHarq == \hyperlink{classns3_1_1PssFfMacScheduler_a167441dd2a0e5cde664eedfd19a07fbf}{m\_dlHarqProcessesDciBuffer}.end ())
891             \{
892               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << rnti);
893             \}
894 
895           DlDciListElement\_s dci = (*itHarq).second.at (harqId);
896           \textcolor{keywordtype}{int} rv = 0;
897           \textcolor{keywordflow}{if} (dci.m\_rv.size () == 1)
898             \{
899               rv = dci.m\_rv.at (0);
900             \}
901           \textcolor{keywordflow}{else}
902             \{
903               rv = (dci.m\_rv.at (0) > dci.m\_rv.at (1) ? dci.m\_rv.at (0) : dci.m\_rv.at (1));
904             \}
905 
906           \textcolor{keywordflow}{if} (rv == 3)
907             \{
908               \textcolor{comment}{// maximum number of retx reached -> drop process}
909               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Maximum number of retransmissions reached -> drop process"});
910               std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator it = 
      \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.find (rnti);
911               \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.end ())
912                 \{
913                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
914                 \}
915               (*it).second.at (harqId) = 0;
916               std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.find (rnti);
917               \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
918                 \{
919                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << 
      \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
920                 \}
921               \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.size (); k++)
922                 \{
923                   (*itRlcPdu).second.at (k).at (harqId).clear ();
924                 \}
925               \textcolor{keywordflow}{continue};
926             \}
927           \textcolor{comment}{// check the feasibility of retransmitting on the same RBGs}
928           \textcolor{comment}{// translate the DCI to Spectrum framework}
929           std::vector <int> dciRbg;
930           uint32\_t mask = 0x1;
931           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Original RBGs "} << dci.m\_rbBitmap << \textcolor{stringliteral}{" rnti "} << dci.m\_rnti);
932           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 32; j++)
933             \{
934               \textcolor{keywordflow}{if} (((dci.m\_rbBitmap & mask) >> j) == 1)
935                 \{
936                   dciRbg.push\_back (j);
937                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)t"} << j);
938                 \}
939               mask = (mask << 1);
940             \}
941           \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
942           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < dciRbg.size (); j++)
943             \{
944               \textcolor{keywordflow}{if} (rbgMap.at (dciRbg.at (j)) == \textcolor{keyword}{true})
945                 \{
946                   free = \textcolor{keyword}{false};
947                   \textcolor{keywordflow}{break};
948                 \}
949             \}
950           \textcolor{keywordflow}{if} (free)
951             \{
952               \textcolor{comment}{// use the same RBGs for the retx}
953               \textcolor{comment}{// reserve RBGs}
954               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < dciRbg.size (); j++)
955                 \{
956                   rbgMap.at (dciRbg.at (j)) = \textcolor{keyword}{true};
957                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"RBG "} << dciRbg.at (j) << \textcolor{stringliteral}{" assigned"});
958                   rbgAllocatedNum++;
959                 \}
960 
961               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Send retx in the same RBGs"});
962             \}
963           \textcolor{keywordflow}{else}
964             \{
965               \textcolor{comment}{// find RBGs for sending HARQ retx}
966               uint8\_t j = 0;
967               uint8\_t rbgId = (dciRbg.at (dciRbg.size () - 1) + 1) % rbgNum;
968               uint8\_t startRbg = dciRbg.at (dciRbg.size () - 1);
969               std::vector <bool> rbgMapCopy = rbgMap;
970               \textcolor{keywordflow}{while} ((j < dciRbg.size ())&&(startRbg != rbgId))
971                 \{
972                   \textcolor{keywordflow}{if} (rbgMapCopy.at (rbgId) == \textcolor{keyword}{false})
973                     \{
974                       rbgMapCopy.at (rbgId) = \textcolor{keyword}{true};
975                       dciRbg.at (j) = rbgId;
976                       j++;
977                     \}
978                   rbgId = (rbgId + 1) % rbgNum;
979                 \}
980               \textcolor{keywordflow}{if} (j == dciRbg.size ())
981                 \{
982                   \textcolor{comment}{// find new RBGs -> update DCI map}
983                   uint32\_t rbgMask = 0;
984                   \textcolor{keywordflow}{for} (uint16\_t k = 0; k < dciRbg.size (); k++)
985                     \{
986                       rbgMask = rbgMask + (0x1 << dciRbg.at (k));
987                       rbgAllocatedNum++;
988                     \}
989                   dci.m\_rbBitmap = rbgMask;
990                   rbgMap = rbgMapCopy;
991                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Move retx in RBGs "} << dciRbg.size ());
992                 \}
993               \textcolor{keywordflow}{else}
994                 \{
995                   \textcolor{comment}{// HARQ retx cannot be performed on this TTI -> store it}
996                   dlInfoListUntxed.push\_back (\hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
997                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" No resource for this retx -> buffer it"});
998                 \}
999             \}
1000           \textcolor{comment}{// retrieve RLC PDU list for retx TBsize and update DCI}
1001           BuildDataListElement\_s newEl;
1002           std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.find (rnti);
1003           \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
1004             \{
1005               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << rnti);
1006             \}
1007           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayers; j++)
1008             \{
1009               \textcolor{keywordflow}{if} (retx.at (j))
1010                 \{
1011                   \textcolor{keywordflow}{if} (j >= dci.m\_ndi.size ())
1012                     \{
1013                       \textcolor{comment}{// for avoiding errors in MIMO transient phases}
1014                       dci.m\_ndi.push\_back (0);
1015                       dci.m\_rv.push\_back (0);
1016                       dci.m\_mcs.push\_back (0);
1017                       dci.m\_tbsSize.push\_back (0);
1018                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" no txed (MIMO
       transition)"});
1019                     \}
1020                   \textcolor{keywordflow}{else}
1021                     \{
1022                       dci.m\_ndi.at (j) = 0;
1023                       dci.m\_rv.at (j)++;
1024                       (*itHarq).second.at (harqId).m\_rv.at (j)++;
1025                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" RV "} << (uint16\_t)dci.
      m\_rv.at (j));
1026                     \}
1027                 \}
1028               \textcolor{keywordflow}{else}
1029                 \{
1030                   \textcolor{comment}{// empty TB of layer j}
1031                   dci.m\_ndi.at (j) = 0;
1032                   dci.m\_rv.at (j) = 0;
1033                   dci.m\_mcs.at (j) = 0;
1034                   dci.m\_tbsSize.at (j) = 0;
1035                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" no retx"});
1036                 \}
1037             \}
1038           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.at (0).at (dci.m\_harqProcess).size (); k++)
1039             \{
1040               std::vector <struct RlcPduListElement\_s> rlcPduListPerLc;
1041               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayers; j++)
1042                 \{
1043                   \textcolor{keywordflow}{if} (retx.at (j))
1044                     \{
1045                       \textcolor{keywordflow}{if} (j < dci.m\_ndi.size ())
1046                         \{
1047                           rlcPduListPerLc.push\_back ((*itRlcPdu).second.at (j).at (dci.m\_harqProcess).at (k
      ));
1048                         \}
1049                     \}
1050                 \}
1051 
1052               \textcolor{keywordflow}{if} (rlcPduListPerLc.size () > 0)
1053                 \{
1054                   newEl.m\_rlcPduList.push\_back (rlcPduListPerLc);
1055                 \}
1056             \}
1057           newEl.m\_rnti = rnti;
1058           newEl.m\_dci = dci;
1059           (*itHarq).second.at (harqId).m\_rv = dci.m\_rv;
1060           \textcolor{comment}{// refresh timer}
1061           std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itHarqTimer = 
      \hyperlink{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{m\_dlHarqProcessesTimer}.find (rnti);
1062           \textcolor{keywordflow}{if} (itHarqTimer== \hyperlink{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{m\_dlHarqProcessesTimer}.end ())
1063             \{
1064               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find HARQ timer for RNTI "} << (uint16\_t)rnti);
1065             \}
1066           (*itHarqTimer).second.at (harqId) = 0;
1067           ret.m\_buildDataList.push\_back (newEl);
1068           rntiAllocated.insert (rnti);
1069         \}
1070       \textcolor{keywordflow}{else}
1071         \{
1072           \textcolor{comment}{// update HARQ process status}
1073           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ received ACK for UE "} << 
      \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1074           std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator it = 
      \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.find (\hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1075           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.end ())
1076             \{
1077               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << 
      \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1078             \}
1079           (*it).second.at (\hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId) = 0;
1080           std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.find (
      \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1081           \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
1082             \{
1083               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << 
      \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1084             \}
1085           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.size (); k++)
1086             \{
1087               (*itRlcPdu).second.at (k).at (\hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId).clear ();
1088             \}
1089         \}
1090     \}
1091   \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered}.clear ();
1092   \hyperlink{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{m\_dlInfoListBuffered} = dlInfoListUntxed;
1093 
1094   \textcolor{keywordflow}{if} (rbgAllocatedNum == rbgNum)
1095     \{
1096       \textcolor{comment}{// all the RBGs are already allocated -> exit}
1097       \textcolor{keywordflow}{if} ((ret.m\_buildDataList.size () > 0) || (ret.m\_buildRarList.size () > 0))
1098         \{
1099           \hyperlink{classns3_1_1PssFfMacScheduler_aef80e10798607daea4efdf4cf1297bd9}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a28f8484af5a32a45ee6c0e51770d83f7}{SchedDlConfigInd} (ret);
1100         \}
1101       \textcolor{keywordflow}{return};
1102     \}
1103 
1104 
1105   std::map <uint16\_t, pssFlowPerf\_t>::iterator it;
1106   std::map <uint16\_t, pssFlowPerf\_t> tdUeSet; \textcolor{comment}{// the result of TD scheduler}
1107 
1108   \textcolor{comment}{// schedulability check}
1109   std::map <uint16\_t, pssFlowPerf\_t> ueSet;
1110   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.begin (); it != \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.end (); it++)
1111     \{
1112       \textcolor{keywordflow}{if}( \hyperlink{classns3_1_1PssFfMacScheduler_afa94be0f9d6a6f6ce3aee86abf764e27}{LcActivePerFlow} ((*it).first) > 0 )
1113         \{
1114           ueSet.insert(std::pair <uint16\_t, pssFlowPerf\_t> ((*it).first, (*it).second));
1115         \}
1116     \}
1117 
1118   \textcolor{keywordflow}{if} (ueSet.size() != 0)
1119     \{ \textcolor{comment}{// has data in RLC buffer}
1120 
1121       \textcolor{comment}{// Time Domain scheduler}
1122       std::vector <std::pair<double, uint16\_t> > ueSet1;
1123       std::vector <std::pair<double,uint16\_t> > ueSet2;
1124       \textcolor{keywordflow}{for} (it = ueSet.begin (); it != ueSet.end (); it++)
1125         \{
1126           std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1127           \textcolor{keywordflow}{if} ((itRnti != rntiAllocated.end ())||(!\hyperlink{classns3_1_1PssFfMacScheduler_a1740bdf713ce5efee7e691ea11176d4c}{HarqProcessAvailability} ((*it).
      first)))
1128             \{
1129               \textcolor{comment}{// UE already allocated for HARQ or without HARQ process available -> drop it}
1130               \textcolor{keywordflow}{if} (itRnti != rntiAllocated.end ())
1131               \{
1132                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI discared for HARQ tx"} << (uint16\_t)(*it).first);
1133               \}
1134               \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1PssFfMacScheduler_a1740bdf713ce5efee7e691ea11176d4c}{HarqProcessAvailability} ((*it).first))
1135               \{
1136                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI discared for HARQ id"} << (uint16\_t)(*it).first);
1137               \}
1138               \textcolor{keywordflow}{continue};
1139             \}
1140     
1141           \textcolor{keywordtype}{double} metric = 0.0;
1142           \textcolor{keywordflow}{if} ((*it).second.lastAveragedThroughput < (*it).second.targetThroughput )
1143             \{
1144                     \textcolor{comment}{// calculate TD BET metric}
1145               metric = 1 / (*it).second.lastAveragedThroughput;
1146               ueSet1.push\_back(std::pair<double, uint16\_t> (metric, (*it).first));
1147             \}
1148           \textcolor{keywordflow}{else}
1149             \{
1150               \textcolor{comment}{// calculate TD PF metric}
1151               std::map <uint16\_t,uint8\_t>::iterator itCqi;
1152               itCqi = \hyperlink{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}{m\_p10CqiRxed}.find ((*it).first);
1153               std::map <uint16\_t,uint8\_t>::iterator itTxMode;
1154               itTxMode = \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.find ((*it).first);
1155               \textcolor{keywordflow}{if} (itTxMode == \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.end())
1156                 \{
1157                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Transmission Mode info on user "} << (*it).first);
1158                 \}
1159               \textcolor{keywordtype}{int} nLayer = \hyperlink{classns3_1_1TransmissionModesLayers_a31f608b7bfaa77440fe4cb85ad035329}{TransmissionModesLayers::TxMode2LayerNum}
       ((*itTxMode).second);
1160               uint8\_t wbCqi = 0;
1161               \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}{m\_p10CqiRxed}.end())
1162                 \{
1163                   wbCqi = 1; \textcolor{comment}{// start with lowest value}
1164                 \}
1165               \textcolor{keywordflow}{else}
1166                 \{
1167                   wbCqi = (*itCqi).second;
1168                 \}
1169     
1170               \textcolor{keywordflow}{if} (wbCqi > 0)
1171                 \{
1172                   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_afa94be0f9d6a6f6ce3aee86abf764e27}{LcActivePerFlow} ((*it).first) > 0)
1173                     \{
1174                       \textcolor{comment}{// this UE has data to transmit}
1175                       \textcolor{keywordtype}{double} achievableRate = 0.0;
1176                       \textcolor{keywordflow}{for} (uint8\_t k = 0; k < nLayer; k++) 
1177                         \{
1178                           uint8\_t mcs = 0; 
1179                           mcs = \hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetMcsFromCqi (wbCqi);
1180                           achievableRate += ((\hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetTbSizeFromMcs (mcs, rbgSize) / 8) / 0.001); \textcolor{comment}{//
       = TB size / TTI}
1181                         \}
1182     
1183                       metric = achievableRate / (*it).second.lastAveragedThroughput;
1184                    \}
1185                 \} \textcolor{comment}{// end of wbCqi}
1186     
1187               ueSet2.push\_back(std::pair<double, uint16\_t> (metric, (*it).first));
1188             \}
1189         \}\textcolor{comment}{// end of ueSet}
1190     
1191     
1192       \textcolor{keywordflow}{if} (ueSet1.size () != 0 || ueSet2.size () != 0)
1193         \{
1194           \textcolor{comment}{// sorting UE in ueSet1 and ueSet1 in descending order based on their metric value}
1195           std::sort (ueSet1.rbegin (), ueSet1.rend ());
1196           std::sort (ueSet2.rbegin (), ueSet2.rend ());
1197  
1198           \textcolor{comment}{// select UE set for frequency domain scheduler}
1199           uint32\_t nMux;
1200           \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1PssFfMacScheduler_a5f2880c5cc34c2189db6e92bc2cae47e}{m\_nMux} > 0)
1201             nMux = \hyperlink{classns3_1_1PssFfMacScheduler_a5f2880c5cc34c2189db6e92bc2cae47e}{m\_nMux};
1202           \textcolor{keywordflow}{else}
1203             \{
1204               \textcolor{comment}{// select half number of UE}
1205               \textcolor{keywordflow}{if} (ueSet1.size() + ueSet2.size() <=2 )
1206                 nMux = 1;
1207               \textcolor{keywordflow}{else}
1208                 nMux = (int)((ueSet1.size() + ueSet2.size()) / 2) ; \textcolor{comment}{// TD scheduler only transfers half
       selected UE per RTT to TD scheduler}
1209             \}
1210           \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.begin (); it != \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.end (); it--)
1211            \{
1212              std::vector <std::pair<double, uint16\_t> >::iterator itSet;
1213              \textcolor{keywordflow}{for} (itSet = ueSet1.begin (); itSet != ueSet1.end () && nMux != 0; itSet++)
1214                \{  
1215                  std::map <uint16\_t, pssFlowPerf\_t>::iterator itUe;
1216                  itUe = \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.find((*itSet).second);
1217                  tdUeSet.insert(std::pair<uint16\_t, pssFlowPerf\_t> ( (*itUe).first, (*itUe).second ) );
1218                  nMux--;
1219                \}
1220            
1221              \textcolor{keywordflow}{if} (nMux == 0)
1222                \textcolor{keywordflow}{break};
1223         
1224              \textcolor{keywordflow}{for} (itSet = ueSet2.begin (); itSet != ueSet2.end () && nMux != 0; itSet++)
1225                \{  
1226                  std::map <uint16\_t, pssFlowPerf\_t>::iterator itUe;
1227                  itUe = \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.find((*itSet).second);
1228                  tdUeSet.insert(std::pair<uint16\_t, pssFlowPerf\_t> ( (*itUe).first, (*itUe).second ) );
1229                  nMux--;
1230                \}
1231         
1232              \textcolor{keywordflow}{if} (nMux == 0)
1233                \textcolor{keywordflow}{break};
1234         
1235            \} \textcolor{comment}{// end of m\_flowStatsDl}
1236         
1237         
1238           \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1PssFfMacScheduler_a8442a089f3cb7fcaf802fb5da9caee02}{m\_fdSchedulerType}.compare(\textcolor{stringliteral}{"CoItA"}) == 0)
1239             \{
1240               \textcolor{comment}{// FD scheduler: Carrier over Interference to Average (CoItA)}
1241               std::map < uint16\_t, uint8\_t > sbCqiSum;
1242               \textcolor{keywordflow}{for} (it = tdUeSet.begin (); it != tdUeSet.end (); it++)
1243                 \{
1244                   uint8\_t sum = 0;
1245                   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rbgNum; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1246                     \{
1247                       std::map <uint16\_t,SbMeasResult\_s>::iterator itCqi;
1248                       itCqi = \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.find ((*it).first);
1249                       std::map <uint16\_t,uint8\_t>::iterator itTxMode;
1250                       itTxMode = \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.find ((*it).first);
1251                       \textcolor{keywordflow}{if} (itTxMode == \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.end ())
1252                         \{
1253                           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Transmission Mode info on user "} << (*it).first
      );
1254                         \}
1255                       \textcolor{keywordtype}{int} nLayer = \hyperlink{classns3_1_1TransmissionModesLayers_a31f608b7bfaa77440fe4cb85ad035329}{TransmissionModesLayers::TxMode2LayerNum}
       ((*itTxMode).second);
1256                       std::vector <uint8\_t> sbCqis;
1257                       \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.end ())
1258                         \{
1259                           \textcolor{keywordflow}{for} (uint8\_t k = 0; k < nLayer; k++)
1260                             \{
1261                               sbCqis.push\_back (1);  \textcolor{comment}{// start with lowest value}
1262                             \}
1263                         \}
1264                       \textcolor{keywordflow}{else}
1265                         \{
1266                           sbCqis = (*itCqi).second.m\_higherLayerSelected.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbCqi;
1267                         \}
1268         
1269                       uint8\_t cqi1 = sbCqis.at (0);
1270                       uint8\_t cqi2 = 1;
1271                       \textcolor{keywordflow}{if} (sbCqis.size () > 1)
1272                         \{
1273                           cqi2 = sbCqis.at (1);
1274                         \}
1275             
1276                       uint8\_t sbCqi;
1277                       \textcolor{keywordflow}{if} ((cqi1 > 0)||(cqi2 > 0)) \textcolor{comment}{// CQI == 0 means "out of range" (see table 7.2.3-1 of
       36.213)}
1278                         \{
1279                           \textcolor{keywordflow}{for} (uint8\_t k = 0; k < nLayer; k++) 
1280                             \{
1281                               \textcolor{keywordflow}{if} (sbCqis.size () > k)
1282                                 \{                       
1283                                   sbCqi = sbCqis.at(k);
1284                                 \}
1285                               \textcolor{keywordflow}{else}
1286                                 \{
1287                                   \textcolor{comment}{// no info on this subband }
1288                                   sbCqi = 0;
1289                                 \}
1290                               sum += sbCqi;
1291                             \}
1292                         \}   \textcolor{comment}{// end if cqi}
1293                     \}\textcolor{comment}{// end of rbgNum}
1294               
1295                   sbCqiSum.insert (std::pair<uint16\_t, uint8\_t> ((*it).first, sum));
1296                 \}\textcolor{comment}{// end tdUeSet}
1297         
1298               \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rbgNum; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1299                 \{
1300                   \textcolor{keywordflow}{if} (rbgMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \textcolor{keyword}{true})
1301                     \textcolor{keywordflow}{continue};
1302 
1303                   std::map <uint16\_t, pssFlowPerf\_t>::iterator itMax = tdUeSet.end ();
1304                   \textcolor{keywordtype}{double} metricMax = 0.0;
1305                   \textcolor{keywordflow}{for} (it = tdUeSet.begin (); it != tdUeSet.end (); it++)
1306                     \{
1307                       \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider}->
      \hyperlink{classns3_1_1LteFfrSapProvider_a91f4de3c794d2a32fae5bcfafd88b6fa}{IsDlRbgAvailableForUe} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, (*it).first)) == \textcolor{keyword}{false})
1308                         \textcolor{keywordflow}{continue};
1309 
1310                       \textcolor{comment}{// calculate PF weigth }
1311                       \textcolor{keywordtype}{double} weight = (*it).second.targetThroughput / (*it).second.lastAveragedThroughput;
1312                       \textcolor{keywordflow}{if} (weight < 1.0)
1313                         weight = 1.0;
1314         
1315                       std::map < uint16\_t, uint8\_t>::iterator itSbCqiSum;
1316                       itSbCqiSum = sbCqiSum.find((*it).first);
1317         
1318                       std::map <uint16\_t,SbMeasResult\_s>::iterator itCqi;
1319                       itCqi = \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.find ((*it).first);
1320                       std::map <uint16\_t,uint8\_t>::iterator itTxMode;
1321                       itTxMode = \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.find ((*it).first);
1322                       \textcolor{keywordflow}{if} (itTxMode == \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.end())
1323                         \{
1324                           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Transmission Mode info on user "} << (*it).first
      );
1325                         \}
1326                       \textcolor{keywordtype}{int} nLayer = \hyperlink{classns3_1_1TransmissionModesLayers_a31f608b7bfaa77440fe4cb85ad035329}{TransmissionModesLayers::TxMode2LayerNum}
       ((*itTxMode).second);
1327                       std::vector <uint8\_t> sbCqis;
1328                       \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.end ())
1329                         \{
1330                           \textcolor{keywordflow}{for} (uint8\_t k = 0; k < nLayer; k++)
1331                             \{
1332                               sbCqis.push\_back (1);  \textcolor{comment}{// start with lowest value}
1333                             \}
1334                         \}
1335                       \textcolor{keywordflow}{else}
1336                         \{
1337                           sbCqis = (*itCqi).second.m\_higherLayerSelected.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbCqi;
1338                         \}
1339         
1340                       uint8\_t cqi1 = sbCqis.at( 0);
1341                       uint8\_t cqi2 = 1;
1342                       \textcolor{keywordflow}{if} (sbCqis.size () > 1)
1343                         \{
1344                           cqi2 = sbCqis.at(1);
1345                         \}
1346             
1347                       uint8\_t sbCqi;
1348                       \textcolor{keywordtype}{double} colMetric = 0.0;
1349                       \textcolor{keywordflow}{if} ((cqi1 > 0)||(cqi2 > 0)) \textcolor{comment}{// CQI == 0 means "out of range" (see table 7.2.3-1 of
       36.213)}
1350                         \{
1351                           \textcolor{keywordflow}{for} (uint8\_t k = 0; k < nLayer; k++) 
1352                             \{
1353                               \textcolor{keywordflow}{if} (sbCqis.size () > k)
1354                                 \{                       
1355                                   sbCqi = sbCqis.at(k);
1356                                 \}
1357                               \textcolor{keywordflow}{else}
1358                                 \{
1359                                   \textcolor{comment}{// no info on this subband }
1360                                   sbCqi = 0;
1361                                 \}
1362                               colMetric += (double)sbCqi / (\textcolor{keywordtype}{double})(*itSbCqiSum).second;
1363                                 \} 
1364                         \}   \textcolor{comment}{// end if cqi}
1365         
1366                       \textcolor{keywordtype}{double} metric = 0.0;
1367                       \textcolor{keywordflow}{if} (colMetric != 0)
1368                         metric= weight * colMetric;
1369                       \textcolor{keywordflow}{else}
1370                         metric = 1;
1371         
1372                       \textcolor{keywordflow}{if} (metric > metricMax )
1373                         \{
1374                           metricMax = metric;
1375                           itMax = it;
1376                         \}
1377                     \} \textcolor{comment}{// end of tdUeSet}
1378 
1379                   \textcolor{keywordflow}{if} (itMax == tdUeSet.end ())
1380                     \{
1381                       \textcolor{comment}{// no UE available for downlink}
1382                     \}
1383                   \textcolor{keywordflow}{else}
1384                     \{
1385                       allocationMap[(*itMax).first].push\_back (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1386                       rbgMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = \textcolor{keyword}{true};
1387                     \}
1388                 \}\textcolor{comment}{// end of rbgNum}
1389         
1390             \}\textcolor{comment}{// end of CoIta}
1391         
1392         
1393           \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1PssFfMacScheduler_a8442a089f3cb7fcaf802fb5da9caee02}{m\_fdSchedulerType}.compare(\textcolor{stringliteral}{"PFsch"}) == 0)
1394             \{
1395               \textcolor{comment}{// FD scheduler: Proportional Fair scheduled (PFsch)}
1396               \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rbgNum; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1397                 \{
1398                   \textcolor{keywordflow}{if} (rbgMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \textcolor{keyword}{true})
1399                     \textcolor{keywordflow}{continue};
1400 
1401                   std::map <uint16\_t, pssFlowPerf\_t>::iterator itMax = tdUeSet.end ();
1402                   \textcolor{keywordtype}{double} metricMax = 0.0;
1403                   \textcolor{keywordflow}{for} (it = tdUeSet.begin (); it != tdUeSet.end (); it++)
1404                     \{
1405                       \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider}->
      \hyperlink{classns3_1_1LteFfrSapProvider_a91f4de3c794d2a32fae5bcfafd88b6fa}{IsDlRbgAvailableForUe} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, (*it).first)) == \textcolor{keyword}{false})
1406                         \textcolor{keywordflow}{continue};
1407                       \textcolor{comment}{// calculate PF weigth }
1408                       \textcolor{keywordtype}{double} weight = (*it).second.targetThroughput / (*it).second.lastAveragedThroughput;
1409                       \textcolor{keywordflow}{if} (weight < 1.0)
1410                         weight = 1.0;
1411         
1412                       std::map <uint16\_t,SbMeasResult\_s>::iterator itCqi;
1413                       itCqi = \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.find ((*it).first);
1414                       std::map <uint16\_t,uint8\_t>::iterator itTxMode;
1415                       itTxMode = \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.find ((*it).first);
1416                       \textcolor{keywordflow}{if} (itTxMode == \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.end())
1417                         \{
1418                           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Transmission Mode info on user "} << (*it).first
      );
1419                         \}
1420                       \textcolor{keywordtype}{int} nLayer = \hyperlink{classns3_1_1TransmissionModesLayers_a31f608b7bfaa77440fe4cb85ad035329}{TransmissionModesLayers::TxMode2LayerNum}
       ((*itTxMode).second);
1421                       std::vector <uint8\_t> sbCqis;
1422                       \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.end ())
1423                         \{
1424                           \textcolor{keywordflow}{for} (uint8\_t k = 0; k < nLayer; k++)
1425                             \{
1426                               sbCqis.push\_back (1);  \textcolor{comment}{// start with lowest value}
1427                             \}
1428                         \}
1429                       \textcolor{keywordflow}{else}
1430                         \{
1431                           sbCqis = (*itCqi).second.m\_higherLayerSelected.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbCqi;
1432                         \}
1433         
1434                       uint8\_t cqi1 = sbCqis.at(0);
1435                       uint8\_t cqi2 = 1;
1436                       \textcolor{keywordflow}{if} (sbCqis.size () > 1)
1437                         \{
1438                           cqi2 = sbCqis.at(1);
1439                         \}
1440                 
1441                       \textcolor{keywordtype}{double} schMetric = 0.0;
1442                       \textcolor{keywordflow}{if} ((cqi1 > 0)||(cqi2 > 0)) \textcolor{comment}{// CQI == 0 means "out of range" (see table 7.2.3-1 of
       36.213)}
1443                         \{
1444                           \textcolor{keywordtype}{double} achievableRate = 0.0;
1445                           \textcolor{keywordflow}{for} (uint8\_t k = 0; k < nLayer; k++) 
1446                             \{
1447                               uint8\_t mcs = 0;
1448                               \textcolor{keywordflow}{if} (sbCqis.size () > k)
1449                                 \{                       
1450                                   mcs = \hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetMcsFromCqi (sbCqis.at (k));
1451                                 \}
1452                               \textcolor{keywordflow}{else}
1453                                 \{
1454                                   \textcolor{comment}{// no info on this subband  -> worst MCS}
1455                                   mcs = 0;
1456                                 \}
1457                               achievableRate += ((\hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetTbSizeFromMcs (mcs, rbgSize) / 8) / 0.001)
      ; \textcolor{comment}{// = TB size / TTI}
1458                             \}
1459                           schMetric = achievableRate / (*it).second.secondLastAveragedThroughput;
1460                         \}   \textcolor{comment}{// end if cqi}
1461          
1462                       \textcolor{keywordtype}{double} metric = 0.0;
1463                       metric= weight * schMetric;
1464          
1465                       \textcolor{keywordflow}{if} (metric > metricMax )
1466                         \{
1467                           metricMax = metric;
1468                           itMax = it;
1469                         \}
1470                     \} \textcolor{comment}{// end of tdUeSet}
1471 
1472                   \textcolor{keywordflow}{if} (itMax == tdUeSet.end ())
1473                     \{
1474                       \textcolor{comment}{// no UE available for downlink }
1475                     \}
1476                   \textcolor{keywordflow}{else}
1477                     \{
1478                       allocationMap[(*itMax).first].push\_back (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1479                       rbgMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = \textcolor{keyword}{true};
1480                     \}
1481          
1482                 \}\textcolor{comment}{// end of rbgNum}
1483         
1484             \} \textcolor{comment}{// end of PFsch}
1485 
1486         \} \textcolor{comment}{// end if ueSet1 || ueSet2}
1487     
1488     \} \textcolor{comment}{// end if ueSet}
1489 
1490 
1491 
1492   \textcolor{comment}{// reset TTI stats of users}
1493   std::map <uint16\_t, pssFlowPerf\_t>::iterator itStats;
1494   \textcolor{keywordflow}{for} (itStats = \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.begin (); itStats != \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.end (); itStats
      ++)
1495     \{
1496       (*itStats).second.lastTtiBytesTransmitted = 0;
1497     \}
1498 
1499   \textcolor{comment}{// generate the transmission opportunities by grouping the RBGs of the same RNTI and}
1500   \textcolor{comment}{// creating the correspondent DCIs}
1501   std::map <uint16\_t, std::vector <uint16\_t> >::iterator itMap = allocationMap.begin ();
1502   \textcolor{keywordflow}{while} (itMap != allocationMap.end ())
1503     \{
1504       \textcolor{comment}{// create new BuildDataListElement\_s for this LC}
1505       BuildDataListElement\_s newEl;
1506       newEl.m\_rnti = (*itMap).first;
1507       \textcolor{comment}{// create the DlDciListElement\_s}
1508       DlDciListElement\_s newDci;
1509       newDci.m\_rnti = (*itMap).first;
1510       newDci.m\_harqProcess = \hyperlink{classns3_1_1PssFfMacScheduler_a5c5fbf9993def2ae6cf974ae81bc0ddb}{UpdateHarqProcessId} ((*itMap).first);
1511 
1512       uint16\_t lcActives = \hyperlink{classns3_1_1PssFfMacScheduler_afa94be0f9d6a6f6ce3aee86abf764e27}{LcActivePerFlow} ((*itMap).first);
1513       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"Allocate user "} << newEl.m\_rnti << \textcolor{stringliteral}{" rbg "} << lcActives);
1514       \textcolor{keywordflow}{if} (lcActives == 0)
1515         \{
1516           \textcolor{comment}{// Set to max value, to avoid divide by 0 below}
1517           lcActives = (uint16\_t)65535; \textcolor{comment}{// UINT16\_MAX;}
1518         \}
1519       uint16\_t RgbPerRnti = (*itMap).second.size ();
1520       std::map <uint16\_t,SbMeasResult\_s>::iterator itCqi;
1521       itCqi = \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.find ((*itMap).first);
1522       std::map <uint16\_t,uint8\_t>::iterator itTxMode;
1523       itTxMode = \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.find ((*itMap).first);
1524       \textcolor{keywordflow}{if} (itTxMode == \hyperlink{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{m\_uesTxMode}.end ())
1525         \{
1526           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Transmission Mode info on user "} << (*itMap).first);
1527         \}
1528       \textcolor{keywordtype}{int} nLayer = \hyperlink{classns3_1_1TransmissionModesLayers_a31f608b7bfaa77440fe4cb85ad035329}{TransmissionModesLayers::TxMode2LayerNum} (
      (*itTxMode).second);
1529       std::vector <uint8\_t> worstCqi (2, 15);
1530       \textcolor{keywordflow}{if} (itCqi != \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.end ())
1531         \{
1532           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itMap).second.size (); k++)
1533             \{
1534               \textcolor{keywordflow}{if} ((*itCqi).second.m\_higherLayerSelected.size () > (*itMap).second.at (k))
1535                 \{
1536                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RBG "} << (*itMap).second.at (k) << \textcolor{stringliteral}{" CQI "} << (uint16\_t
      )((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.at (k)).m\_sbCqi.at (0)) );
1537                   \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1538                     \{
1539                       \textcolor{keywordflow}{if} ((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.at (k)).m\_sbCqi.size ()
       > j)
1540                         \{
1541                           \textcolor{keywordflow}{if} (((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.at (k)).m\_sbCqi.at
       (j)) < worstCqi.at (j))
1542                             \{
1543                               worstCqi.at (j) = ((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.
      at (k)).m\_sbCqi.at (j));
1544                             \}
1545                         \}
1546                       \textcolor{keywordflow}{else}
1547                         \{
1548                           \textcolor{comment}{// no CQI for this layer of this suband -> worst one}
1549                           worstCqi.at (j) = 1;
1550                         \}
1551                     \}
1552                 \}
1553               \textcolor{keywordflow}{else}
1554                 \{
1555                   \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1556                     \{
1557                       worstCqi.at (j) = 1; \textcolor{comment}{// try with lowest MCS in RBG with no info on channel}
1558                     \}
1559                 \}
1560             \}
1561         \}
1562       \textcolor{keywordflow}{else}
1563         \{
1564           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1565             \{
1566               worstCqi.at (j) = 1; \textcolor{comment}{// try with lowest MCS in RBG with no info on channel}
1567             \}
1568         \}
1569       \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1570         \{
1571           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Layer "} << (uint16\_t)j << \textcolor{stringliteral}{" CQI selected "} << (uint16\_t)
      worstCqi.at (j));
1572         \}
1573       uint32\_t bytesTxed = 0;
1574       \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1575         \{
1576           newDci.m\_mcs.push\_back (\hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetMcsFromCqi (worstCqi.at (j)));
1577           \textcolor{keywordtype}{int} tbSize = (\hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetTbSizeFromMcs (newDci.m\_mcs.at (j), RgbPerRnti * rbgSize) / 8); \textcolor{comment}{//
       (size of TB in bytes according to table 7.1.7.2.1-1 of 36.213)}
1578           newDci.m\_tbsSize.push\_back (tbSize);
1579           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Layer "} << (uint16\_t)j << \textcolor{stringliteral}{" MCS selected"} << 
      \hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetMcsFromCqi (worstCqi.at (j)));
1580           bytesTxed += tbSize;
1581         \}
1582 
1583       newDci.m\_resAlloc = 0;  \textcolor{comment}{// only allocation type 0 at this stage}
1584       newDci.m\_rbBitmap = 0; \textcolor{comment}{// TBD (32 bit bitmap see 7.1.6 of 36.213)}
1585       uint32\_t rbgMask = 0;
1586       \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itMap).second.size (); k++)
1587         \{
1588           rbgMask = rbgMask + (0x1 << (*itMap).second.at (k));
1589           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Allocated RBG "} << (*itMap).second.at (k));
1590         \}
1591       newDci.m\_rbBitmap = rbgMask; \textcolor{comment}{// (32 bit bitmap see 7.1.6 of 36.213)}
1592 
1593       \textcolor{comment}{// create the rlc PDUs -> equally divide resources among actives LCs}
1594       std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator itBufReq;
1595       \textcolor{keywordflow}{for} (itBufReq = \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.begin (); itBufReq != 
      \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.end (); itBufReq++)
1596         \{
1597           \textcolor{keywordflow}{if} (((*itBufReq).first.m\_rnti == (*itMap).first)
1598               && (((*itBufReq).second.m\_rlcTransmissionQueueSize > 0)
1599                   || ((*itBufReq).second.m\_rlcRetransmissionQueueSize > 0)
1600                   || ((*itBufReq).second.m\_rlcStatusPduSize > 0) ))
1601             \{
1602               std::vector <struct RlcPduListElement\_s> newRlcPduLe;
1603               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1604                 \{
1605                   RlcPduListElement\_s newRlcEl;
1606                   newRlcEl.m\_logicalChannelIdentity = (*itBufReq).first.m\_lcId;
1607                   newRlcEl.m\_size = newDci.m\_tbsSize.at (j) / lcActives;
1608                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" LCID "} << (uint32\_t) newRlcEl.m\_logicalChannelIdentity 
      << \textcolor{stringliteral}{" size "} << newRlcEl.m\_size << \textcolor{stringliteral}{" layer "} << (uint16\_t)j);
1609                   newRlcPduLe.push\_back (newRlcEl);
1610                   \hyperlink{classns3_1_1PssFfMacScheduler_a892f1cbf2d0ef364fd0dbca6dc6a7848}{UpdateDlRlcBufferInfo} (newDci.m\_rnti, newRlcEl.
      m\_logicalChannelIdentity, newRlcEl.m\_size);
1611                   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}{m\_harqOn} == \textcolor{keyword}{true})
1612                     \{
1613                       \textcolor{comment}{// store RLC PDU list for HARQ}
1614                       std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.find ((*itMap).first);
1615                       \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{m\_dlHarqProcessesRlcPduListBuffer}.
      end ())
1616                         \{
1617                           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI 
      "} << (*itMap).first);
1618                         \}
1619                       (*itRlcPdu).second.at (j).at (newDci.m\_harqProcess).push\_back (newRlcEl);
1620                     \}
1621                 \}
1622               newEl.m\_rlcPduList.push\_back (newRlcPduLe);
1623             \}
1624           \textcolor{keywordflow}{if} ((*itBufReq).first.m\_rnti > (*itMap).first)
1625             \{
1626               \textcolor{keywordflow}{break};
1627             \}
1628         \}
1629       \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1630         \{
1631           newDci.m\_ndi.push\_back (1);
1632           newDci.m\_rv.push\_back (0);
1633         \}
1634 
1635       newDci.m\_tpc = \hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_a0021d72c12fdaddd3817ef0eb5a7cd4e}{GetTpc} ((*itMap).first);
1636 
1637       newEl.m\_dci = newDci;
1638 
1639       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}{m\_harqOn} == \textcolor{keyword}{true})
1640         \{
1641           \textcolor{comment}{// store DCI for HARQ}
1642           std::map <uint16\_t, DlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1PssFfMacScheduler_a167441dd2a0e5cde664eedfd19a07fbf}{m\_dlHarqProcessesDciBuffer}.find (newEl.m\_rnti);
1643           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1PssFfMacScheduler_a167441dd2a0e5cde664eedfd19a07fbf}{m\_dlHarqProcessesDciBuffer}.end ())
1644             \{
1645               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in DCI HARQ buffer for RNTI "} << 
      newEl.m\_rnti);
1646             \}
1647           (*itDci).second.at (newDci.m\_harqProcess) = newDci;
1648           \textcolor{comment}{// refresh timer}
1649           std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itHarqTimer =  
      \hyperlink{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{m\_dlHarqProcessesTimer}.find (newEl.m\_rnti);
1650           \textcolor{keywordflow}{if} (itHarqTimer== \hyperlink{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{m\_dlHarqProcessesTimer}.end ())
1651             \{
1652               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find HARQ timer for RNTI "} << (uint16\_t)newEl.m\_rnti
      );
1653             \}
1654           (*itHarqTimer).second.at (newDci.m\_harqProcess) = 0;
1655         \}
1656 
1657       \textcolor{comment}{// ...more parameters -> ingored in this version}
1658 
1659       ret.m\_buildDataList.push\_back (newEl);
1660       \textcolor{comment}{// update UE stats}
1661       std::map <uint16\_t, pssFlowPerf\_t>::iterator it;
1662       it = \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.find ((*itMap).first);
1663       \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.end ())
1664         \{
1665           (*it).second.lastTtiBytesTransmitted = bytesTxed;
1666           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE total bytes txed "} << (*it).second.lastTtiBytesTransmitted);
1667 
1668 
1669         \}
1670       \textcolor{keywordflow}{else}
1671         \{
1672           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" No Stats for this allocated UE"});
1673         \}
1674 
1675       itMap++;
1676     \} \textcolor{comment}{// end while allocation}
1677   ret.m\_nrOfPdcchOfdmSymbols = 1;   
1678 
1679 
1680   \textcolor{comment}{// update UEs stats}
1681   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Update UEs statistics"});
1682   \textcolor{keywordflow}{for} (itStats = \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.begin (); itStats != \hyperlink{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{m\_flowStatsDl}.end (); itStats
      ++)
1683     \{ 
1684       std::map <uint16\_t, pssFlowPerf\_t>::iterator itUeScheduleted = tdUeSet.end();
1685       itUeScheduleted = tdUeSet.find((*itStats).first);
1686       \textcolor{keywordflow}{if} (itUeScheduleted != tdUeSet.end())
1687         \{
1688           (*itStats).second.secondLastAveragedThroughput = ((1.0 - (1 / 
      \hyperlink{classns3_1_1PssFfMacScheduler_aecdbf7e675d36f9ed48a35d8135fb08e}{m\_timeWindow})) * (*itStats).second.secondLastAveragedThroughput) + ((1 / 
      \hyperlink{classns3_1_1PssFfMacScheduler_aecdbf7e675d36f9ed48a35d8135fb08e}{m\_timeWindow}) * (double)((*itStats).second.lastTtiBytesTransmitted / 0.001));
1689         \}
1690 
1691       (*itStats).second.totalBytesTransmitted += (*itStats).second.lastTtiBytesTransmitted;
1692       \textcolor{comment}{// update average throughput (see eq. 12.3 of Sec 12.3.1.2 of LTE – The UMTS Long Term Evolution, Ed
       Wiley)}
1693       (*itStats).second.lastAveragedThroughput = ((1.0 - (1.0 / \hyperlink{classns3_1_1PssFfMacScheduler_aecdbf7e675d36f9ed48a35d8135fb08e}{m\_timeWindow})) * (*itStats).
      second.lastAveragedThroughput) + ((1.0 / \hyperlink{classns3_1_1PssFfMacScheduler_aecdbf7e675d36f9ed48a35d8135fb08e}{m\_timeWindow}) * (double)((*itStats).second.
      lastTtiBytesTransmitted / 0.001));
1694       (*itStats).second.lastTtiBytesTransmitted = 0;
1695     \}
1696 
1697 
1698   \hyperlink{classns3_1_1PssFfMacScheduler_aef80e10798607daea4efdf4cf1297bd9}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a28f8484af5a32a45ee6c0e51770d83f7}{SchedDlConfigInd} (ret);
1699 
1700 
1701   \textcolor{keywordflow}{return};
1702 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}}
\index{Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters \&params)}{DoSchedDlTriggerReq(const struct FfMacSchedSapProvider::SchedDlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a7b4e2fbe84bca59191c664a2b130b5b0}{}\label{classns3_1_1PssFfMacScheduler_a7b4e2fbe84bca59191c664a2b130b5b0}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedUlCqiInfoReq(const struct FfMacSchedSapProvider::SchedUlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a076446d288bea04ee5eeb8c6dda4ce45}{}\label{classns3_1_1PssFfMacScheduler_a076446d288bea04ee5eeb8c6dda4ce45}

\begin{DoxyCode}
2252 \{
2253   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2254 \textcolor{comment}{// retrieve the allocation for this subframe}
2255   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1FfMacScheduler_adae16e66a1c4231da80a1221297442cf}{m\_ulCqiFilter})
2256     \{
2257     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52af2e0df473ba2c8f9cb131cb760591aed}{FfMacScheduler::SRS\_UL\_CQI}:
2258       \{
2259         \textcolor{comment}{// filter all the CQIs that are not SRS based}
2260         \textcolor{keywordflow}{if} (params.m\_ulCqi.m\_type != \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af4b6dba4243636562c910c4d4761dd7e}{UlCqi\_s::SRS})
2261           \{
2262             \textcolor{keywordflow}{return};
2263           \}
2264       \}
2265       \textcolor{keywordflow}{break};
2266     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52a4a833bc779439b15bd904e1dd8eaa563}{FfMacScheduler::PUSCH\_UL\_CQI}:
2267       \{
2268         \textcolor{comment}{// filter all the CQIs that are not SRS based}
2269         \textcolor{keywordflow}{if} (params.m\_ulCqi.m\_type != \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a9716b20a3095c473ae3fde1eb5d0bb63}{UlCqi\_s::PUSCH})
2270           \{
2271             \textcolor{keywordflow}{return};
2272           \}
2273       \}
2274     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52a84059a597c72335f0a5963c3efcbda71}{FfMacScheduler::ALL\_UL\_CQI}:
2275       \textcolor{keywordflow}{break};
2276 
2277     \textcolor{keywordflow}{default}:
2278       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown UL CQI type"});
2279     \}
2280 
2281   \textcolor{keywordflow}{switch} (params.m\_ulCqi.m\_type)
2282     \{
2283     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a9716b20a3095c473ae3fde1eb5d0bb63}{UlCqi\_s::PUSCH}:
2284       \{
2285         std::map <uint16\_t, std::vector <uint16\_t> >::iterator itMap;
2286         std::map <uint16\_t, std::vector <double> >::iterator itCqi;
2287         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Collect PUSCH CQIs of Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{"
       subframe no. "} << (0xF & params.m\_sfnSf));
2288         itMap = \hyperlink{classns3_1_1PssFfMacScheduler_ad06e7461edc613eb44a4a9c474915022}{m\_allocationMaps}.find (params.m\_sfnSf);
2289         \textcolor{keywordflow}{if} (itMap == \hyperlink{classns3_1_1PssFfMacScheduler_ad06e7461edc613eb44a4a9c474915022}{m\_allocationMaps}.end ())
2290           \{
2291             \textcolor{keywordflow}{return};
2292           \}
2293         \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < (*itMap).second.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
2294           \{
2295             \textcolor{comment}{// convert from fixed point notation Sxxxxxxxxxxx.xxx to double}
2296             \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
2297             itCqi = \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.find ((*itMap).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
2298             \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.end ())
2299               \{
2300                 \textcolor{comment}{// create a new entry}
2301                 std::vector <double> newCqi;
2302                 \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
2303                   \{
2304                     \textcolor{keywordflow}{if} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} == j)
2305                       \{
2306                         newCqi.push\_back (sinr);
2307                       \}
2308                     \textcolor{keywordflow}{else}
2309                       \{
2310                         \textcolor{comment}{// initialize with NO\_SINR value.}
2311                         newCqi.push\_back (\hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR});
2312                       \}
2313 
2314                   \}
2315                 \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.insert (std::pair <uint16\_t, std::vector <double> > ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), newCqi));
2316                 \textcolor{comment}{// generate correspondent timer}
2317                 \hyperlink{classns3_1_1PssFfMacScheduler_a1cc9115fabab47bd1c6de8fa20725782}{m\_ueCqiTimers}.insert (std::pair <uint16\_t, uint32\_t > ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), \hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold}));
2318               \}
2319             \textcolor{keywordflow}{else}
2320               \{
2321                 \textcolor{comment}{// update the value}
2322                 (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = sinr;
2323                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << (*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) << \textcolor{stringliteral}{" RB "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" SINR "} << sinr);
2324                 \textcolor{comment}{// update correspondent timer}
2325                 std::map <uint16\_t, uint32\_t>::iterator itTimers;
2326                 itTimers = \hyperlink{classns3_1_1PssFfMacScheduler_a1cc9115fabab47bd1c6de8fa20725782}{m\_ueCqiTimers}.find ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
2327                 (*itTimers).second = \hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold};
2328 
2329               \}
2330 
2331           \}
2332         \textcolor{comment}{// remove obsolete info on allocation}
2333         \hyperlink{classns3_1_1PssFfMacScheduler_ad06e7461edc613eb44a4a9c474915022}{m\_allocationMaps}.erase (itMap);
2334       \}
2335       \textcolor{keywordflow}{break};
2336     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af4b6dba4243636562c910c4d4761dd7e}{UlCqi\_s::SRS}:
2337       \{
2338         \textcolor{comment}{// get the RNTI from vendor specific parameters}
2339         uint16\_t rnti = 0;
2340         \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (params.m\_vendorSpecificList.size () > 0);
2341         \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_vendorSpecificList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
2342           \{
2343             \textcolor{keywordflow}{if} (params.m\_vendorSpecificList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_type == \hyperlink{lte-vendor-specific-parameters_8h_a3b5e6e766032ab4a8e374a1cfd237a26}{SRS\_CQI\_RNTI\_VSP})
2344               \{
2345                 Ptr<SrsCqiRntiVsp> vsp = DynamicCast<SrsCqiRntiVsp> (params.m\_vendorSpecificList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_value);
2346                 rnti = vsp->GetRnti ();
2347               \}
2348           \}
2349         std::map <uint16\_t, std::vector <double> >::iterator itCqi;
2350         itCqi = \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.find (rnti);
2351         \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.end ())
2352           \{
2353             \textcolor{comment}{// create a new entry}
2354             std::vector <double> newCqi;
2355             \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
2356               \{
2357                 \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (j));
2358                 newCqi.push\_back (sinr);
2359                 \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" new SRS-CQI for RB  "} << j << \textcolor{stringliteral}{" value
       "} << sinr);
2360 
2361               \}
2362             \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.insert (std::pair <uint16\_t, std::vector <double> > (rnti, newCqi));
2363             \textcolor{comment}{// generate correspondent timer}
2364             \hyperlink{classns3_1_1PssFfMacScheduler_a1cc9115fabab47bd1c6de8fa20725782}{m\_ueCqiTimers}.insert (std::pair <uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold}));
2365           \}
2366         \textcolor{keywordflow}{else}
2367           \{
2368             \textcolor{comment}{// update the values}
2369             \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
2370               \{
2371                 \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (j));
2372                 (*itCqi).second.at (j) = sinr;
2373                 \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" update SRS-CQI for RB  "} << j << \textcolor{stringliteral}{"
       value "} << sinr);
2374               \}
2375             \textcolor{comment}{// update correspondent timer}
2376             std::map <uint16\_t, uint32\_t>::iterator itTimers;
2377             itTimers = \hyperlink{classns3_1_1PssFfMacScheduler_a1cc9115fabab47bd1c6de8fa20725782}{m\_ueCqiTimers}.find (rnti);
2378             (*itTimers).second = \hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold};
2379 
2380           \}
2381 
2382 
2383       \}
2384       \textcolor{keywordflow}{break};
2385     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a05ca6554bc6fcd96a0a51fbaa8e794c7}{UlCqi\_s::PUCCH\_1}:
2386     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a35664b4bda6f1cd6acfe9edc84c7571d}{UlCqi\_s::PUCCH\_2}:
2387     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af93f36792cb1eed08f6119e4abfe58e8}{UlCqi\_s::PRACH}:
2388       \{
2389         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"PssFfMacScheduler supports only PUSCH and SRS UL-CQIs"});
2390       \}
2391       \textcolor{keywordflow}{break};
2392     \textcolor{keywordflow}{default}:
2393       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown type of UL-CQI"});
2394     \}
2395   \textcolor{keywordflow}{return};
2396 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedUlCqiInfoReq(const struct FfMacSchedSapProvider::SchedUlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a076446d288bea04ee5eeb8c6dda4ce45}{}\label{classns3_1_1PssFfMacScheduler_a076446d288bea04ee5eeb8c6dda4ce45}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}}
\index{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters \&params)}{DoSchedUlMacCtrlInfoReq(const struct FfMacSchedSapProvider::SchedUlMacCtrlInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a4fab1c37436af9d2b6e2787f15eb8d9d}{}\label{classns3_1_1PssFfMacScheduler_a4fab1c37436af9d2b6e2787f15eb8d9d}

\begin{DoxyCode}
2208 \{
2209   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2210 
2211   std::map <uint16\_t,uint32\_t>::iterator it;
2212 
2213   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_macCeList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
2214     \{
2215       \textcolor{keywordflow}{if} ( params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_macCeType == \hyperlink{structns3_1_1MacCeListElement__s_a270a6526dfc7da02e9dc91823c290f6bac50796b01160b1825ec34efa1ad9f051}{MacCeListElement\_s::BSR} )
2216         \{
2217           \textcolor{comment}{// buffer status report}
2218           \textcolor{comment}{// note that this scheduler does not differentiate the}
2219           \textcolor{comment}{// allocation according to which LCGs have more/less bytes}
2220           \textcolor{comment}{// to send.}
2221           \textcolor{comment}{// Hence the BSR of different LCGs are just summed up to get}
2222           \textcolor{comment}{// a total queue size that is used for allocation purposes.}
2223 
2224           uint32\_t buffer = 0;
2225           \textcolor{keywordflow}{for} (uint8\_t lcg = 0; lcg < 4; ++lcg)
2226             \{
2227               uint8\_t bsrId = params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_macCeValue.m\_bufferStatus.at (lcg);
2228               buffer += \hyperlink{classns3_1_1BufferSizeLevelBsr_a67fc905f267ed8ac5a617fe229699122}{BufferSizeLevelBsr::BsrId2BufferSize} (bsrId);
2229             \}
2230           
2231           uint16\_t rnti = params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
2232           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"RNTI="} << rnti << \textcolor{stringliteral}{" buffer="} << buffer);
2233           it = \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.find (rnti);
2234           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.end ())
2235             \{
2236               \textcolor{comment}{// create the new entry}
2237               \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, buffer));
2238             \}
2239           \textcolor{keywordflow}{else}
2240             \{
2241               \textcolor{comment}{// update the buffer size value}
2242               (*it).second = buffer;
2243             \}
2244         \}
2245     \}
2246 
2247   \textcolor{keywordflow}{return};
2248 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19




Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}}
\index{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters \&params)}{DoSchedUlMacCtrlInfoReq(const struct FfMacSchedSapProvider::SchedUlMacCtrlInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a4fab1c37436af9d2b6e2787f15eb8d9d}{}\label{classns3_1_1PssFfMacScheduler_a4fab1c37436af9d2b6e2787f15eb8d9d}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}}
\index{Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Noise\+Interference\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters \&params)}{DoSchedUlNoiseInterferenceReq(const struct FfMacSchedSapProvider::SchedUlNoiseInterferenceReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Noise\+Interference\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_adabe74a557ef7b089c6f1dd8d63148e3}{}\label{classns3_1_1PssFfMacScheduler_adabe74a557ef7b089c6f1dd8d63148e3}

\begin{DoxyCode}
2194 \{
2195   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2196   \textcolor{keywordflow}{return};
2197 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}}
\index{Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Noise\+Interference\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters \&params)}{DoSchedUlNoiseInterferenceReq(const struct FfMacSchedSapProvider::SchedUlNoiseInterferenceReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Noise\+Interference\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_adabe74a557ef7b089c6f1dd8d63148e3}{}\label{classns3_1_1PssFfMacScheduler_adabe74a557ef7b089c6f1dd8d63148e3}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}}
\index{Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Sr\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters \&params)}{DoSchedUlSrInfoReq(const struct FfMacSchedSapProvider::SchedUlSrInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Sr\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a5883efb2d790fd7f6816051fc70c2974}{}\label{classns3_1_1PssFfMacScheduler_a5883efb2d790fd7f6816051fc70c2974}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}}
\index{Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Sr\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters \&params)}{DoSchedUlSrInfoReq(const struct FfMacSchedSapProvider::SchedUlSrInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Sr\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a5883efb2d790fd7f6816051fc70c2974}{}\label{classns3_1_1PssFfMacScheduler_a5883efb2d790fd7f6816051fc70c2974}

\begin{DoxyCode}
2201 \{
2202   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2203   \textcolor{keywordflow}{return};
2204 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}}
\index{Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters \&params)}{DoSchedUlTriggerReq(const struct FfMacSchedSapProvider::SchedUlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a9179ed7943c4bc8cd4c6cdc4e35a8cb7}{}\label{classns3_1_1PssFfMacScheduler_a9179ed7943c4bc8cd4c6cdc4e35a8cb7}

\begin{DoxyCode}
1809 \{
1810   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL - Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{" subframe no. "} 
      << (0xF & params.m\_sfnSf) << \textcolor{stringliteral}{" size "} << params.m\_ulInfoList.size ());
1811 
1812   \hyperlink{classns3_1_1PssFfMacScheduler_a7f324be2e5aedb9053989a1bb82036ca}{RefreshUlCqiMaps} ();
1813   \hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_a14e6bcaf7db6afcb42f75122717313b1}{ReportUlCqiInfo} (\hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi});
1814 
1815   \textcolor{comment}{// Generate RBs map}
1816   FfMacSchedSapUser::SchedUlConfigIndParameters ret;
1817   std::vector <bool> rbMap;
1818   uint16\_t rbAllocatedNum = 0;
1819   std::set <uint16\_t> rntiAllocated;
1820   std::vector <uint16\_t> rbgAllocationMap;
1821   \textcolor{comment}{// update with RACH allocation map}
1822   rbgAllocationMap = \hyperlink{classns3_1_1PssFfMacScheduler_af093989004d46e1bf45ba2bdb1dfa03e}{m\_rachAllocationMap};
1823   \textcolor{comment}{//rbgAllocationMap.resize (m\_cschedCellConfig.m\_ulBandwidth, 0);}
1824   \hyperlink{classns3_1_1PssFfMacScheduler_af093989004d46e1bf45ba2bdb1dfa03e}{m\_rachAllocationMap}.clear ();
1825   \hyperlink{classns3_1_1PssFfMacScheduler_af093989004d46e1bf45ba2bdb1dfa03e}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
1826 
1827   rbMap.resize (\hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, \textcolor{keyword}{false});
1828 
1829   rbMap = \hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_aafd23b22a27ec83e03d54795c122d175}{GetAvailableUlRbg} ();
1830 
1831   \textcolor{keywordflow}{for} (std::vector<bool>::iterator it = rbMap.begin (); it != rbMap.end (); it++)
1832     \{
1833       \textcolor{keywordflow}{if} ((*it) == true )
1834         \{
1835           rbAllocatedNum++;
1836         \}
1837     \}
1838 
1839   uint8\_t minContinuousUlBandwidth = \hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider}->
      \hyperlink{classns3_1_1LteFfrSapProvider_a78c8a0c801d8a7d4f2e853f5138fd577}{GetMinContinuousUlBandwidth} ();
1840   uint8\_t ffrUlBandwidth = \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth} - rbAllocatedNum
      ;
1841 
1842 
1843   \textcolor{comment}{// remove RACH allocation}
1844   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1845     \{
1846       \textcolor{keywordflow}{if} (rbgAllocationMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) != 0)
1847         \{
1848           rbMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = \textcolor{keyword}{true};
1849           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Allocated for RACH "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1850         \}
1851     \}
1852 
1853 
1854   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}{m\_harqOn} == \textcolor{keyword}{true})
1855     \{
1856       \textcolor{comment}{//   Process UL HARQ feedback}
1857       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_ulInfoList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1858         \{        
1859           \textcolor{keywordflow}{if} (params.m\_ulInfoList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_receptionStatus == 
      \hyperlink{structns3_1_1UlInfoListElement__s_a2a4dff5145d25c81086660e991db6f61a98aed738fd24811d3461668e394a53c8}{UlInfoListElement\_s::NotOk})
1860             \{
1861               \textcolor{comment}{// retx correspondent block: retrieve the UL-DCI}
1862               uint16\_t rnti = params.m\_ulInfoList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1863               std::map <uint16\_t, uint8\_t>::iterator itProcId = 
      \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.find (rnti);
1864               \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.end ())
1865                 \{
1866                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1867                 \}
1868               uint8\_t harqId = (uint8\_t)((*itProcId).second - \hyperlink{lte-common_8h_a275321ee206f130c3ddc81fcdaa13cfd}{HARQ\_PERIOD}) % 
      \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
1869               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-HARQ retx RNTI "} << rnti << \textcolor{stringliteral}{" harqId "} << (uint16\_t)
      harqId << \textcolor{stringliteral}{" i "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" size "}  << params.m\_ulInfoList.size ());
1870               std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itHarq = 
      \hyperlink{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{m\_ulHarqProcessesDciBuffer}.find (rnti);
1871               \textcolor{keywordflow}{if} (itHarq == \hyperlink{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{m\_ulHarqProcessesDciBuffer}.end ())
1872                 \{
1873                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1874                   \textcolor{keywordflow}{continue};
1875                 \}
1876               UlDciListElement\_s dci = (*itHarq).second.at (harqId);
1877               std::map <uint16\_t, UlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1PssFfMacScheduler_a80badd341a079bd237ef7fe60db2cb79}{m\_ulHarqProcessesStatus}.find (rnti);
1878               \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1PssFfMacScheduler_a80badd341a079bd237ef7fe60db2cb79}{m\_ulHarqProcessesStatus}.end ())
1879                 \{
1880                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1881                 \}
1882               \textcolor{keywordflow}{if} ((*itStat).second.at (harqId) >= 3)
1883                 \{
1884                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Max number of retransmissions reached (UL)-> drop process"});
1885                   \textcolor{keywordflow}{continue};
1886                 \}
1887               \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
1888               \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = dci.m\_rbStart; j < dci.m\_rbStart + dci.m\_rbLen; j++)
1889                 \{
1890                   \textcolor{keywordflow}{if} (rbMap.at (j) == \textcolor{keyword}{true})
1891                     \{
1892                       free = \textcolor{keyword}{false};
1893                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" BUSY "} << j);
1894                     \}
1895                 \}
1896               \textcolor{keywordflow}{if} (free)
1897                 \{
1898                   \textcolor{comment}{// retx on the same RBs}
1899                   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = dci.m\_rbStart; j < dci.m\_rbStart + dci.m\_rbLen; j++)
1900                     \{
1901                       rbMap.at (j) = \textcolor{keyword}{true};
1902                       rbgAllocationMap.at (j) = dci.m\_rnti;
1903                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tRB "} << j);
1904                       rbAllocatedNum++;
1905                     \}
1906                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Send retx in the same RBs "} << (uint16\_t)dci.m\_rbStart 
      << \textcolor{stringliteral}{" to "} << dci.m\_rbStart + dci.m\_rbLen << \textcolor{stringliteral}{" RV "} << (*itStat).second.at (harqId) + 1);
1907                 \}
1908               \textcolor{keywordflow}{else}
1909                 \{
1910                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Cannot allocate retx due to RACH allocations for UE "} << rnti);
1911                   \textcolor{keywordflow}{continue};
1912                 \}
1913               dci.m\_ndi = 0;
1914               \textcolor{comment}{// Update HARQ buffers with new HarqId}
1915               (*itStat).second.at ((*itProcId).second) = (*itStat).second.at (harqId) + 1;
1916               (*itStat).second.at (harqId) = 0;
1917               (*itHarq).second.at ((*itProcId).second) = dci;
1918               ret.m\_dciList.push\_back (dci);
1919               rntiAllocated.insert (dci.m\_rnti);
1920             \}
1921             \textcolor{keywordflow}{else}
1922             \{
1923               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ-ACK feedback from RNTI "} << params.m\_ulInfoList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1924             \}
1925         \}
1926     \}
1927 
1928   std::map <uint16\_t,uint32\_t>::iterator it;
1929   \textcolor{keywordtype}{int} nflows = 0;
1930 
1931   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.begin (); it != \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.end (); it++)
1932     \{
1933       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1934       \textcolor{comment}{// select UEs with queues not empty and not yet allocated for HARQ}
1935       \textcolor{keywordflow}{if} (((*it).second > 0)&&(itRnti == rntiAllocated.end ()))
1936         \{
1937           nflows++;
1938         \}
1939     \}
1940 
1941   \textcolor{keywordflow}{if} (nflows == 0)
1942     \{
1943       \textcolor{keywordflow}{if} (ret.m\_dciList.size () > 0)
1944         \{
1945           \hyperlink{classns3_1_1PssFfMacScheduler_ad06e7461edc613eb44a4a9c474915022}{m\_allocationMaps}.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.
      m\_sfnSf, rbgAllocationMap));
1946           \hyperlink{classns3_1_1PssFfMacScheduler_aef80e10798607daea4efdf4cf1297bd9}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a1b89636256701a84d990db7db8aea874}{SchedUlConfigInd} (ret);
1947         \}
1948         
1949       \textcolor{keywordflow}{return};  \textcolor{comment}{// no flows to be scheduled}
1950     \}
1951 
1952 
1953   \textcolor{comment}{// Divide the remaining resources equally among the active users starting from the subsequent one served
       last scheduling trigger}
1954   uint16\_t tempRbPerFlow = (ffrUlBandwidth) / (nflows + rntiAllocated.size ());
1955   uint16\_t rbPerFlow = (minContinuousUlBandwidth < tempRbPerFlow) ? minContinuousUlBandwidth : 
      tempRbPerFlow;
1956 
1957   \textcolor{keywordflow}{if} (rbPerFlow < 3)
1958     \{
1959       rbPerFlow = 3;  \textcolor{comment}{// at least 3 rbg per flow (till available resource) to ensure TxOpportunity >= 7
       bytes}
1960     \}
1961   \textcolor{keywordtype}{int} rbAllocated = 0;
1962 
1963   std::map <uint16\_t, pssFlowPerf\_t>::iterator itStats;
1964   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}{m\_nextRntiUl} != 0)
1965     \{
1966       \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.begin (); it != \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.end (); it++)
1967         \{
1968           \textcolor{keywordflow}{if} ((*it).first == \hyperlink{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}{m\_nextRntiUl})
1969             \{
1970               \textcolor{keywordflow}{break};
1971             \}
1972         \}
1973       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.end ())
1974         \{
1975           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" no user found"});
1976         \}
1977     \}
1978   \textcolor{keywordflow}{else}
1979     \{
1980       it = \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.begin ();
1981       \hyperlink{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}{m\_nextRntiUl} = (*it).first;
1982     \}
1983   \textcolor{keywordflow}{do}
1984     \{
1985       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1986       \textcolor{keywordflow}{if} ((itRnti != rntiAllocated.end ())||((*it).second == 0))
1987         \{
1988           \textcolor{comment}{// UE already allocated for UL-HARQ -> skip it}
1989           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE already allocated in HARQ -> discared, RNTI "} << (*it).
      first);
1990           it++;
1991           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.end ())
1992             \{
1993               \textcolor{comment}{// restart from the first}
1994               it = \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.begin ();
1995             \}
1996           \textcolor{keywordflow}{continue};
1997         \}
1998       \textcolor{keywordflow}{if} (rbAllocated + rbPerFlow - 1 > \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth})
1999         \{
2000           \textcolor{comment}{// limit to physical resources last resource assignment}
2001           rbPerFlow = \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth} - rbAllocated;
2002           \textcolor{comment}{// at least 3 rbg per flow to ensure TxOpportunity >= 7 bytes}
2003           \textcolor{keywordflow}{if} (rbPerFlow < 3)
2004             \{
2005               \textcolor{comment}{// terminate allocation}
2006               rbPerFlow = 0;      
2007             \}
2008         \}
2009 
2010       rbAllocated = 0;
2011       UlDciListElement\_s uldci;
2012       uldci.m\_rnti = (*it).first;
2013       uldci.m\_rbLen = rbPerFlow;
2014       \textcolor{keywordtype}{bool} allocated = \textcolor{keyword}{false};
2015       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RB Allocated "} << rbAllocated << \textcolor{stringliteral}{" rbPerFlow "} << rbPerFlow << \textcolor{stringliteral}{"
       flows "} << nflows);
2016       \textcolor{keywordflow}{while} ((!allocated)&&((rbAllocated + rbPerFlow - \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) < 1) && (rbPerFlow != 0))
2017         \{
2018           \textcolor{comment}{// check availability}
2019           \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
2020           \textcolor{keywordflow}{for} (uint16\_t j = rbAllocated; j < rbAllocated + rbPerFlow; j++)
2021             \{
2022               \textcolor{keywordflow}{if} (rbMap.at (j) == \textcolor{keyword}{true})
2023                 \{
2024                   free = \textcolor{keyword}{false};
2025                   \textcolor{keywordflow}{break};
2026                 \}
2027               \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_a3ef80840549b8ea3d50d2cef8a9866e2}{IsUlRbgAvailableForUe} (j, (*it).
      first)) == \textcolor{keyword}{false})
2028                 \{
2029                   free = \textcolor{keyword}{false};
2030                   \textcolor{keywordflow}{break};
2031                 \}
2032             \}
2033           \textcolor{keywordflow}{if} (free)
2034             \{
2035                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"RNTI: "}<< (*it).first<< \textcolor{stringliteral}{" RB Allocated "} << rbAllocated 
      << \textcolor{stringliteral}{" rbPerFlow "} << rbPerFlow << \textcolor{stringliteral}{" flows "} << nflows);
2036               uldci.m\_rbStart = rbAllocated;
2037 
2038               \textcolor{keywordflow}{for} (uint16\_t j = rbAllocated; j < rbAllocated + rbPerFlow; j++)
2039                 \{
2040                   rbMap.at (j) = \textcolor{keyword}{true};
2041                   \textcolor{comment}{// store info on allocation for managing ul-cqi interpretation}
2042                   rbgAllocationMap.at (j) = (*it).first;
2043                 \}
2044               rbAllocated += rbPerFlow;
2045               allocated = \textcolor{keyword}{true};
2046               \textcolor{keywordflow}{break};
2047             \}
2048           rbAllocated++;
2049           \textcolor{keywordflow}{if} (rbAllocated + rbPerFlow - 1 > \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth})
2050             \{
2051               \textcolor{comment}{// limit to physical resources last resource assignment}
2052               rbPerFlow = \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth} - rbAllocated;
2053               \textcolor{comment}{// at least 3 rbg per flow to ensure TxOpportunity >= 7 bytes}
2054               \textcolor{keywordflow}{if} (rbPerFlow < 3)
2055                 \{
2056                   \textcolor{comment}{// terminate allocation}
2057                   rbPerFlow = 0;                 
2058                 \}
2059             \}
2060         \}
2061       \textcolor{keywordflow}{if} (!allocated)
2062         \{
2063           \textcolor{comment}{// unable to allocate new resource: finish scheduling}
2064 \textcolor{comment}{//          m\_nextRntiUl = (*it).first;}
2065 \textcolor{comment}{//          if (ret.m\_dciList.size () > 0)}
2066 \textcolor{comment}{//            \{}
2067 \textcolor{comment}{//              m\_schedSapUser->SchedUlConfigInd (ret);}
2068 \textcolor{comment}{//            \}}
2069 \textcolor{comment}{//          m\_allocationMaps.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.m\_sfnSf,
       rbgAllocationMap));}
2070 \textcolor{comment}{//          return;}
2071           \textcolor{keywordflow}{break};
2072         \}
2073 
2074 
2075 
2076       std::map <uint16\_t, std::vector <double> >::iterator itCqi = \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.find ((*it).first);
2077       \textcolor{keywordtype}{int} cqi = 0;
2078       \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.end ())
2079         \{
2080           \textcolor{comment}{// no cqi info about this UE}
2081           uldci.m\_mcs = 0; \textcolor{comment}{// MCS 0 -> UL-AMC TBD}
2082         \}
2083       \textcolor{keywordflow}{else}
2084         \{
2085           \textcolor{comment}{// take the lowest CQI value (worst RB)}
2086           \textcolor{keywordtype}{double} minSinr = (*itCqi).second.at (uldci.m\_rbStart);
2087           \textcolor{keywordflow}{if} (minSinr == \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
2088             \{
2089               minSinr = \hyperlink{classns3_1_1PssFfMacScheduler_a15bdac925576b1d79d0c8a8eb3cc54b8}{EstimateUlSinr} ((*it).first, uldci.m\_rbStart);
2090             \}
2091           \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = uldci.m\_rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < uldci.m\_rbStart + uldci.m\_rbLen; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
2092             \{
2093               \textcolor{keywordtype}{double} sinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
2094               \textcolor{keywordflow}{if} (sinr == \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
2095                 \{
2096                   sinr = \hyperlink{classns3_1_1PssFfMacScheduler_a15bdac925576b1d79d0c8a8eb3cc54b8}{EstimateUlSinr} ((*it).first, \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
2097                 \}
2098               \textcolor{keywordflow}{if} ((*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) < minSinr)
2099                 \{
2100                   minSinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
2101                 \}
2102             \}
2103 
2104           \textcolor{comment}{// translate SINR -> cqi: WILD ACK: same as DL}
2105           \textcolor{keywordtype}{double} \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s} = log2 ( 1 + (
2106                                  std::pow (10, minSinr / 10 )  /
2107                                  ( (-std::log (5.0 * 0.00005 )) / 1.5) ));
2108           cqi = \hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetCqiFromSpectralEfficiency (s);
2109           \textcolor{keywordflow}{if} (cqi == 0)
2110             \{
2111               it++;
2112               \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.end ())
2113                 \{
2114                   \textcolor{comment}{// restart from the first}
2115                   it = \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.begin ();
2116                 \}
2117               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE discared for CQI=0, RNTI "} << uldci.m\_rnti);
2118               \textcolor{comment}{// remove UE from allocation map}
2119               \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = uldci.m\_rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < uldci.m\_rbStart + uldci.m\_rbLen; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
2120                 \{
2121                   rbgAllocationMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
2122                 \}
2123               \textcolor{keywordflow}{continue}; \textcolor{comment}{// CQI == 0 means "out of range" (see table 7.2.3-1 of 36.213)}
2124             \}
2125           uldci.m\_mcs = \hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetMcsFromCqi (cqi);
2126         \}
2127 
2128       uldci.m\_tbSize = (\hyperlink{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{m\_amc}->GetTbSizeFromMcs (uldci.m\_mcs, rbPerFlow) / 8);
2129       \hyperlink{classns3_1_1PssFfMacScheduler_a8731138acd04bc66f4896f5f823d12cc}{UpdateUlRlcBufferInfo} (uldci.m\_rnti, uldci.m\_tbSize);
2130       uldci.m\_ndi = 1;
2131       uldci.m\_cceIndex = 0;
2132       uldci.m\_aggrLevel = 1;
2133       uldci.m\_ueTxAntennaSelection = 3; \textcolor{comment}{// antenna selection OFF}
2134       uldci.m\_hopping = \textcolor{keyword}{false};
2135       uldci.m\_n2Dmrs = 0;
2136       uldci.m\_tpc = 0; \textcolor{comment}{// no power control}
2137       uldci.m\_cqiRequest = \textcolor{keyword}{false}; \textcolor{comment}{// only period CQI at this stage}
2138       uldci.m\_ulIndex = 0; \textcolor{comment}{// TDD parameter}
2139       uldci.m\_dai = 1; \textcolor{comment}{// TDD parameter}
2140       uldci.m\_freqHopping = 0;
2141       uldci.m\_pdcchPowerOffset = 0; \textcolor{comment}{// not used}
2142       ret.m\_dciList.push\_back (uldci);
2143       \textcolor{comment}{// store DCI for HARQ\_PERIOD}
2144       uint8\_t harqId = 0;
2145       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}{m\_harqOn} == \textcolor{keyword}{true})
2146         \{
2147           std::map <uint16\_t, uint8\_t>::iterator itProcId;
2148           itProcId = \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.find (uldci.m\_rnti);
2149           \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{m\_ulHarqCurrentProcessId}.end ())
2150             \{
2151               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << uldci.m\_rnti);
2152             \}
2153           harqId = (*itProcId).second;
2154           std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{m\_ulHarqProcessesDciBuffer}.find (uldci.m\_rnti);
2155           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{m\_ulHarqProcessesDciBuffer}.end ())
2156             \{
2157               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in UL DCI HARQ buffer for RNTI "} << 
      uldci.m\_rnti);
2158             \}
2159           (*itDci).second.at (harqId) = uldci;
2160           \textcolor{comment}{// Update HARQ process status (RV 0)}
2161           std::map <uint16\_t, UlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1PssFfMacScheduler_a80badd341a079bd237ef7fe60db2cb79}{m\_ulHarqProcessesStatus}.find (uldci.m\_rnti);
2162           \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1PssFfMacScheduler_a80badd341a079bd237ef7fe60db2cb79}{m\_ulHarqProcessesStatus}.end ())
2163             \{
2164               \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << uldci.
      m\_rnti);
2165             \}
2166           (*itStat).second.at (harqId) = 0;
2167         \}
2168 
2169       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE Allocation RNTI "} << (*it).first << \textcolor{stringliteral}{" startPRB "} << (uint32\_t)
      uldci.m\_rbStart << \textcolor{stringliteral}{" nPRB "} << (uint32\_t)uldci.m\_rbLen << \textcolor{stringliteral}{" CQI "} << cqi << \textcolor{stringliteral}{" MCS "} << (uint32\_t)uldci.m\_mcs 
      << \textcolor{stringliteral}{" TBsize "} << uldci.m\_tbSize << \textcolor{stringliteral}{" RbAlloc "} << rbAllocated << \textcolor{stringliteral}{" harqId "} << (uint16\_t)harqId);
2170 
2171       it++;
2172       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.end ())
2173         \{
2174           \textcolor{comment}{// restart from the first}
2175           it = \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.begin ();
2176         \}
2177       \textcolor{keywordflow}{if} ((rbAllocated == \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) || (rbPerFlow ==
       0))
2178         \{
2179           \textcolor{comment}{// Stop allocation: no more PRBs}
2180           \hyperlink{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}{m\_nextRntiUl} = (*it).first;
2181           \textcolor{keywordflow}{break};
2182         \}
2183     \}
2184   \textcolor{keywordflow}{while} (((*it).first != \hyperlink{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}{m\_nextRntiUl})&&(rbPerFlow!=0));
2185 
2186   \hyperlink{classns3_1_1PssFfMacScheduler_ad06e7461edc613eb44a4a9c474915022}{m\_allocationMaps}.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.m\_sfnSf, 
      rbgAllocationMap));
2187   \hyperlink{classns3_1_1PssFfMacScheduler_aef80e10798607daea4efdf4cf1297bd9}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a1b89636256701a84d990db7db8aea874}{SchedUlConfigInd} (ret);
2188 
2189   \textcolor{keywordflow}{return};
2190 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23




Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}}
\index{Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters \&params)}{DoSchedUlTriggerReq(const struct FfMacSchedSapProvider::SchedUlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a9179ed7943c4bc8cd4c6cdc4e35a8cb7}{}\label{classns3_1_1PssFfMacScheduler_a9179ed7943c4bc8cd4c6cdc4e35a8cb7}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}}
\index{Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Estimate\+Ul\+Sinr(uint16\+\_\+t rnti, uint16\+\_\+t rb)}{EstimateUlSinr(uint16_t rnti, uint16_t rb)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Estimate\+Ul\+Sinr (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{rb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a15bdac925576b1d79d0c8a8eb3cc54b8}{}\label{classns3_1_1PssFfMacScheduler_a15bdac925576b1d79d0c8a8eb3cc54b8}

\begin{DoxyCode}
1778 \{
1779   std::map <uint16\_t, std::vector <double> >::iterator itCqi = \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.find (rnti);
1780   \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.end ())
1781     \{
1782       \textcolor{comment}{// no cqi info about this UE}
1783       \textcolor{keywordflow}{return} (\hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR});
1784 
1785     \}
1786   \textcolor{keywordflow}{else}
1787     \{
1788       \textcolor{comment}{// take the average SINR value among the available}
1789       \textcolor{keywordtype}{double} sinrSum = 0;
1790       \textcolor{keywordtype}{int} sinrNum = 0;
1791       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1792         \{
1793           \textcolor{keywordtype}{double} sinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1794           \textcolor{keywordflow}{if} (sinr != \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
1795             \{
1796               sinrSum += sinr;
1797               sinrNum++;
1798             \}
1799         \}
1800       \textcolor{keywordtype}{double} estimatedSinr = (sinrNum > 0) ? (sinrSum / sinrNum) : DBL\_MAX;
1801       \textcolor{comment}{// store the value}
1802       (*itCqi).second.at (rb) = estimatedSinr;
1803       \textcolor{keywordflow}{return} (estimatedSinr);
1804     \}
1805 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 25


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}}
\index{Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Estimate\+Ul\+Sinr(uint16\+\_\+t rnti, uint16\+\_\+t rb)}{EstimateUlSinr(uint16_t rnti, uint16_t rb)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Estimate\+Ul\+Sinr (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{rb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a15bdac925576b1d79d0c8a8eb3cc54b8}{}\label{classns3_1_1PssFfMacScheduler_a15bdac925576b1d79d0c8a8eb3cc54b8}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Csched\+Sap\+Provider()}{GetFfMacCschedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Ff\+Mac\+Csched\+Sap\+Provider}$\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Csched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_adf0328a808e9d89f42e9aa51d5a36b7e}{}\label{classns3_1_1PssFfMacScheduler_adf0328a808e9d89f42e9aa51d5a36b7e}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Csched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a458388c88c892d32e2d7a48883947379}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Csched\+Sap\+Provider()}{GetFfMacCschedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Csched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_af128210fa97ceff88a9afedd2d65a6e3}{}\label{classns3_1_1PssFfMacScheduler_af128210fa97ceff88a9afedd2d65a6e3}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Csched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a458388c88c892d32e2d7a48883947379}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
305 \{
306   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PssFfMacScheduler_ac11b1d69f7082523bec1759f39331619}{m\_cschedSapProvider};
307 \}
\end{DoxyCode}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Sched\+Sap\+Provider()}{GetFfMacSchedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Ff\+Mac\+Sched\+Sap\+Provider}$\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Sched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_a135e9a37de3ee0e009f8e18f7bf3dfd6}{}\label{classns3_1_1PssFfMacScheduler_a135e9a37de3ee0e009f8e18f7bf3dfd6}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Sched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_ad3a2aca6f1c01fbddf88bfbf19cc07a4}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Sched\+Sap\+Provider()}{GetFfMacSchedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Sched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_a4ca725f3c193a47af8eb81caf07c0688}{}\label{classns3_1_1PssFfMacScheduler_a4ca725f3c193a47af8eb81caf07c0688}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Sched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_ad3a2aca6f1c01fbddf88bfbf19cc07a4}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
311 \{
312   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PssFfMacScheduler_a9c95ea6430238a972ca249cc7c017a91}{m\_schedSapProvider};
313 \}
\end{DoxyCode}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}}
\index{Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Lte\+Ffr\+Sap\+User()}{GetLteFfrSapUser()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+User} $\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Get\+Lte\+Ffr\+Sap\+User (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_a1997fd997f2826515cdb80dbc4af838d}{}\label{classns3_1_1PssFfMacScheduler_a1997fd997f2826515cdb80dbc4af838d}
\begin{DoxyReturn}{Returns}
the User part of the Lte\+Ffr\+Sap provided by the Ffr\+Algorithm 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a32fe62051fd6ac175116417df11e6c4e}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
323 \{
324   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PssFfMacScheduler_aba075c2fcb5d36a9276a0519a53ad5b2}{m\_ffrSapUser};
325 \}
\end{DoxyCode}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}}
\index{Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Lte\+Ffr\+Sap\+User()}{GetLteFfrSapUser()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Lte\+Ffr\+Sap\+User}$\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Get\+Lte\+Ffr\+Sap\+User (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_a988802206e5d09c70986f9d492ec93ca}{}\label{classns3_1_1PssFfMacScheduler_a988802206e5d09c70986f9d492ec93ca}
\begin{DoxyReturn}{Returns}
the User part of the Lte\+Ffr\+Sap provided by the Ffr\+Algorithm 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a32fe62051fd6ac175116417df11e6c4e}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Get\+Rbg\+Size@{Get\+Rbg\+Size}}
\index{Get\+Rbg\+Size@{Get\+Rbg\+Size}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Rbg\+Size(int dlbandwidth)}{GetRbgSize(int dlbandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Get\+Rbg\+Size (
\begin{DoxyParamCaption}
\item[{int}]{dlbandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_aa3caedda9572ce0438063926b19d7efb}{}\label{classns3_1_1PssFfMacScheduler_aa3caedda9572ce0438063926b19d7efb}

\begin{DoxyCode}
532 \{
533   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 4; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
534     \{
535       \textcolor{keywordflow}{if} (dlbandwidth < \hyperlink{namespacens3_aca0561367fba73fda0ca46a7b2b0cbcf}{PssType0AllocationRbg}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}])
536         \{
537           \textcolor{keywordflow}{return} (i + 1);
538         \}
539     \}
540 
541   \textcolor{keywordflow}{return} (-1);
542 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Get\+Rbg\+Size@{Get\+Rbg\+Size}}
\index{Get\+Rbg\+Size@{Get\+Rbg\+Size}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Rbg\+Size(int dlbandwidth)}{GetRbgSize(int dlbandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Get\+Rbg\+Size (
\begin{DoxyParamCaption}
\item[{int}]{dlbandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_aa3caedda9572ce0438063926b19d7efb}{}\label{classns3_1_1PssFfMacScheduler_aa3caedda9572ce0438063926b19d7efb}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Type\+Id} ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1PssFfMacScheduler_a93495d80fde829e4f0b09f2c3b87b6bf}{}\label{classns3_1_1PssFfMacScheduler_a93495d80fde829e4f0b09f2c3b87b6bf}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1PssFfMacScheduler_a2d0fc8e9b34a8a204f23d8140f548f36}{}\label{classns3_1_1PssFfMacScheduler_a2d0fc8e9b34a8a204f23d8140f548f36}

\begin{DoxyCode}
255 \{
256   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::PssFfMacScheduler"})
257     .SetParent<\hyperlink{classns3_1_1FfMacScheduler_aa4c8ce28dbba2c19ff3328533c444045}{FfMacScheduler}> ()
258     .SetGroupName(\textcolor{stringliteral}{"Lte"})
259     .AddConstructor<\hyperlink{classns3_1_1PssFfMacScheduler_ac74abd1f46b26a6ba4050f19d9fb45ff}{PssFfMacScheduler}> ()
260     .AddAttribute (\textcolor{stringliteral}{"CqiTimerThreshold"},
261                    \textcolor{stringliteral}{"The number of TTIs a CQI is valid (default 1000 - 1 sec.)"},
262                    UintegerValue (1000),
263                    MakeUintegerAccessor (&
      \hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{PssFfMacScheduler::m\_cqiTimersThreshold}),
264                    MakeUintegerChecker<uint32\_t> ())
265     .AddAttribute (\textcolor{stringliteral}{"PssFdSchedulerType"},
266                    \textcolor{stringliteral}{"FD scheduler in PSS (default value is PFsch)"},
267                    StringValue (\textcolor{stringliteral}{"PFsch"}),
268                    MakeStringAccessor (&\hyperlink{classns3_1_1PssFfMacScheduler_a8442a089f3cb7fcaf802fb5da9caee02}{PssFfMacScheduler::m\_fdSchedulerType}
      ),
269                    MakeStringChecker ())
270     .AddAttribute (\textcolor{stringliteral}{"nMux"},
271                    \textcolor{stringliteral}{"The number of UE selected by TD scheduler (default value is 0)"},
272                    UintegerValue (0),
273                    MakeUintegerAccessor (&\hyperlink{classns3_1_1PssFfMacScheduler_a5f2880c5cc34c2189db6e92bc2cae47e}{PssFfMacScheduler::m\_nMux}),
274                    MakeUintegerChecker<uint32\_t> ())
275     .AddAttribute (\textcolor{stringliteral}{"HarqEnabled"},
276                    \textcolor{stringliteral}{"Activate/Deactivate the HARQ [by default is active]."},
277                    BooleanValue (\textcolor{keyword}{true}),
278                    MakeBooleanAccessor (&\hyperlink{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}{PssFfMacScheduler::m\_harqOn}),
279                    MakeBooleanChecker ())
280     .AddAttribute (\textcolor{stringliteral}{"UlGrantMcs"},
281                    \textcolor{stringliteral}{"The MCS of the UL grant, must be [0..15] (default 0)"},
282                    UintegerValue (0),
283                    MakeUintegerAccessor (&\hyperlink{classns3_1_1PssFfMacScheduler_a535c4d18454b96af02427b81a3b20930}{PssFfMacScheduler::m\_ulGrantMcs}),
284                    MakeUintegerChecker<uint8\_t> ())
285   ;
286   \textcolor{keywordflow}{return} tid;
287 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 27


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Harq\+Process\+Availability@{Harq\+Process\+Availability}}
\index{Harq\+Process\+Availability@{Harq\+Process\+Availability}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Harq\+Process\+Availability(uint16\+\_\+t rnti)}{HarqProcessAvailability(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Harq\+Process\+Availability (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a1740bdf713ce5efee7e691ea11176d4c}{}\label{classns3_1_1PssFfMacScheduler_a1740bdf713ce5efee7e691ea11176d4c}


Return the availability of free process for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}

\begin{DoxyCode}
570 \{
571   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
572 
573   std::map <uint16\_t, uint8\_t>::iterator it = \hyperlink{classns3_1_1PssFfMacScheduler_a860dc1e5d114893e493e5ff2696d7171}{m\_dlHarqCurrentProcessId}.find (rnti);
574   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_a860dc1e5d114893e493e5ff2696d7171}{m\_dlHarqCurrentProcessId}.end ())
575     \{
576       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id found for this RNTI "} << rnti);
577     \}
578   std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.find (rnti);
579   \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.end ())
580     \{
581       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Statusfound for this RNTI "} << rnti);
582     \}
583   uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second;
584   \textcolor{keywordflow}{do}
585     \{
586       i = (i + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
587     \}
588   \textcolor{keywordflow}{while} ( ((*itStat).second.at (i) != 0)&&(i != (*it).second));
589   \textcolor{keywordflow}{if} ((*itStat).second.at (i) == 0)
590     \{
591       \textcolor{keywordflow}{return} (\textcolor{keyword}{true});
592     \}
593   \textcolor{keywordflow}{else}
594     \{
595       \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); \textcolor{comment}{// return a not valid harq proc id}
596     \}
597 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Harq\+Process\+Availability@{Harq\+Process\+Availability}}
\index{Harq\+Process\+Availability@{Harq\+Process\+Availability}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Harq\+Process\+Availability(uint16\+\_\+t rnti)}{HarqProcessAvailability(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Harq\+Process\+Availability (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a1740bdf713ce5efee7e691ea11176d4c}{}\label{classns3_1_1PssFfMacScheduler_a1740bdf713ce5efee7e691ea11176d4c}


Return the availability of free process for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}}
\index{Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Lc\+Active\+Per\+Flow(uint16\+\_\+t rnti)}{LcActivePerFlow(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Lc\+Active\+Per\+Flow (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_afa94be0f9d6a6f6ce3aee86abf764e27}{}\label{classns3_1_1PssFfMacScheduler_afa94be0f9d6a6f6ce3aee86abf764e27}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}}
\index{Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Lc\+Active\+Per\+Flow(uint16\+\_\+t rnti)}{LcActivePerFlow(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Lc\+Active\+Per\+Flow (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_afa94be0f9d6a6f6ce3aee86abf764e27}{}\label{classns3_1_1PssFfMacScheduler_afa94be0f9d6a6f6ce3aee86abf764e27}

\begin{DoxyCode}
547 \{
548   std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
549   \textcolor{keywordtype}{int} lcActive = 0;
550   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.begin (); it != \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.end (); it++)
551     \{
552       \textcolor{keywordflow}{if} (((*it).first.m\_rnti == rnti) && (((*it).second.m\_rlcTransmissionQueueSize > 0)
553                                            || ((*it).second.m\_rlcRetransmissionQueueSize > 0)
554                                            || ((*it).second.m\_rlcStatusPduSize > 0) ))
555         \{
556           lcActive++;
557         \}
558       \textcolor{keywordflow}{if} ((*it).first.m\_rnti > rnti)
559         \{
560           \textcolor{keywordflow}{break};
561         \}
562     \}
563   \textcolor{keywordflow}{return} (lcActive);
564 
565 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 29


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}}
\index{Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Dl\+Cqi\+Maps(void)}{RefreshDlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Refresh\+Dl\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a2e7bc40b4840831d734e10bea3124046}{}\label{classns3_1_1PssFfMacScheduler_a2e7bc40b4840831d734e10bea3124046}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}}
\index{Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Dl\+Cqi\+Maps(void)}{RefreshDlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Refresh\+Dl\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a2e7bc40b4840831d734e10bea3124046}{}\label{classns3_1_1PssFfMacScheduler_a2e7bc40b4840831d734e10bea3124046}

\begin{DoxyCode}
2400 \{
2401   \textcolor{comment}{// refresh DL CQI P01 Map}
2402   std::map <uint16\_t,uint32\_t>::iterator itP10 = \hyperlink{classns3_1_1PssFfMacScheduler_a687c4283769d0e08724b80d4f5a5cf77}{m\_p10CqiTimers}.begin ();
2403   \textcolor{keywordflow}{while} (itP10 != \hyperlink{classns3_1_1PssFfMacScheduler_a687c4283769d0e08724b80d4f5a5cf77}{m\_p10CqiTimers}.end ())
2404     \{
2405       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" P10-CQI for user "} << (*itP10).first << \textcolor{stringliteral}{" is "} << (uint32\_t)
      (*itP10).second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold});
2406       \textcolor{keywordflow}{if} ((*itP10).second == 0)
2407         \{
2408           \textcolor{comment}{// delete correspondent entries}
2409           std::map <uint16\_t,uint8\_t>::iterator itMap = \hyperlink{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}{m\_p10CqiRxed}.find ((*itP10).first);
2410           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}{m\_p10CqiRxed}.end (), \textcolor{stringliteral}{" Does not find CQI report
       for user "} << (*itP10).first);
2411           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" P10-CQI expired for user "} << (*itP10).first);
2412           \hyperlink{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}{m\_p10CqiRxed}.erase (itMap);
2413           std::map <uint16\_t,uint32\_t>::iterator temp = itP10;
2414           itP10++;
2415           \hyperlink{classns3_1_1PssFfMacScheduler_a687c4283769d0e08724b80d4f5a5cf77}{m\_p10CqiTimers}.erase (temp);
2416         \}
2417       \textcolor{keywordflow}{else}
2418         \{
2419           (*itP10).second--;
2420           itP10++;
2421         \}
2422     \}
2423 
2424   \textcolor{comment}{// refresh DL CQI A30 Map}
2425   std::map <uint16\_t,uint32\_t>::iterator itA30 = \hyperlink{classns3_1_1PssFfMacScheduler_aebfb8f26fbeb4ab75f566ce974f2cb65}{m\_a30CqiTimers}.begin ();
2426   \textcolor{keywordflow}{while} (itA30 != \hyperlink{classns3_1_1PssFfMacScheduler_aebfb8f26fbeb4ab75f566ce974f2cb65}{m\_a30CqiTimers}.end ())
2427     \{
2428       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" A30-CQI for user "} << (*itA30).first << \textcolor{stringliteral}{" is "} << (uint32\_t)
      (*itA30).second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold});
2429       \textcolor{keywordflow}{if} ((*itA30).second == 0)
2430         \{
2431           \textcolor{comment}{// delete correspondent entries}
2432           std::map <uint16\_t,SbMeasResult\_s>::iterator itMap = \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.find ((*itA30).
      first);
2433           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.end (), \textcolor{stringliteral}{" Does not find CQI report
       for user "} << (*itA30).first);
2434           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" A30-CQI expired for user "} << (*itA30).first);
2435           \hyperlink{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{m\_a30CqiRxed}.erase (itMap);
2436           std::map <uint16\_t,uint32\_t>::iterator temp = itA30;
2437           itA30++;
2438           \hyperlink{classns3_1_1PssFfMacScheduler_aebfb8f26fbeb4ab75f566ce974f2cb65}{m\_a30CqiTimers}.erase (temp);
2439         \}
2440       \textcolor{keywordflow}{else}
2441         \{
2442           (*itA30).second--;
2443           itA30++;
2444         \}
2445     \}
2446 
2447   \textcolor{keywordflow}{return};
2448 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}}
\index{Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Harq\+Processes()}{RefreshHarqProcesses()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Refresh\+Harq\+Processes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_ab4cc64c15c7cf1365bad5ae358e99437}{}\label{classns3_1_1PssFfMacScheduler_ab4cc64c15c7cf1365bad5ae358e99437}


Refresh H\+A\+RQ processes according to the timers. 


\begin{DoxyCode}
644 \{
645   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
646 
647   std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itTimers;
648   \textcolor{keywordflow}{for} (itTimers = \hyperlink{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{m\_dlHarqProcessesTimer}.begin (); itTimers != 
      \hyperlink{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{m\_dlHarqProcessesTimer}.end (); itTimers ++)
649     \{
650       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
651         \{
652           \textcolor{keywordflow}{if} ((*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \hyperlink{cqa-ff-mac-scheduler_8h_add9e0c4889dc1b5b25686480b31ad166}{HARQ\_DL\_TIMEOUT})
653             \{
654               \textcolor{comment}{// reset HARQ process}
655               
656               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Reset HARQ proc "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" for RNTI "} << (*itTimers).
      first);
657               std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.find ((*itTimers).first);
658               \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.end ())
659                 \{
660                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Status found for this RNTI "} << (*itTimers).
      first);
661                 \}
662               (*itStat).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
663               (*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
664             \}
665           \textcolor{keywordflow}{else}
666             \{
667               (*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})++;
668             \}
669         \}
670     \}
671   
672 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 31


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}}
\index{Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Harq\+Processes()}{RefreshHarqProcesses()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Refresh\+Harq\+Processes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_ab4cc64c15c7cf1365bad5ae358e99437}{}\label{classns3_1_1PssFfMacScheduler_ab4cc64c15c7cf1365bad5ae358e99437}


Refresh H\+A\+RQ processes according to the timers. 

\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}}
\index{Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Ul\+Cqi\+Maps(void)}{RefreshUlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Refresh\+Ul\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a7f324be2e5aedb9053989a1bb82036ca}{}\label{classns3_1_1PssFfMacScheduler_a7f324be2e5aedb9053989a1bb82036ca}

\begin{DoxyCode}
2453 \{
2454   \textcolor{comment}{// refresh UL CQI  Map}
2455   std::map <uint16\_t,uint32\_t>::iterator itUl = \hyperlink{classns3_1_1PssFfMacScheduler_a1cc9115fabab47bd1c6de8fa20725782}{m\_ueCqiTimers}.begin ();
2456   \textcolor{keywordflow}{while} (itUl != \hyperlink{classns3_1_1PssFfMacScheduler_a1cc9115fabab47bd1c6de8fa20725782}{m\_ueCqiTimers}.end ())
2457     \{
2458       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-CQI for user "} << (*itUl).first << \textcolor{stringliteral}{" is "} << (uint32\_t)(*itUl).
      second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{m\_cqiTimersThreshold});
2459       \textcolor{keywordflow}{if} ((*itUl).second == 0)
2460         \{
2461           \textcolor{comment}{// delete correspondent entries}
2462           std::map <uint16\_t, std::vector <double> >::iterator itMap = \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.find ((*itUl).first);
2463           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.end (), \textcolor{stringliteral}{" Does not find CQI report for user "}
       << (*itUl).first);
2464           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-CQI exired for user "} << (*itUl).first);
2465           (*itMap).second.clear ();
2466           \hyperlink{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{m\_ueCqi}.erase (itMap);
2467           std::map <uint16\_t,uint32\_t>::iterator temp = itUl;
2468           itUl++;
2469           \hyperlink{classns3_1_1PssFfMacScheduler_a1cc9115fabab47bd1c6de8fa20725782}{m\_ueCqiTimers}.erase (temp);
2470         \}
2471       \textcolor{keywordflow}{else}
2472         \{
2473           (*itUl).second--;
2474           itUl++;
2475         \}
2476     \}
2477 
2478   \textcolor{keywordflow}{return};
2479 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 32


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}}
\index{Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Ul\+Cqi\+Maps(void)}{RefreshUlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Refresh\+Ul\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a7f324be2e5aedb9053989a1bb82036ca}{}\label{classns3_1_1PssFfMacScheduler_a7f324be2e5aedb9053989a1bb82036ca}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Csched\+Sap\+User(\+Ff\+Mac\+Csched\+Sap\+User $\ast$s)}{SetFfMacCschedSapUser(FfMacCschedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Csched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_ac9f49b4aa8dbe64bcbfc7437886c6db1}{}\label{classns3_1_1PssFfMacScheduler_ac9f49b4aa8dbe64bcbfc7437886c6db1}
set the user part of the Ff\+Mac\+Csched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a3984d8478223218fd4432a9f9ead328b}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Csched\+Sap\+User(\+Ff\+Mac\+Csched\+Sap\+User $\ast$s)}{SetFfMacCschedSapUser(FfMacCschedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Csched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_a9984af36c22b8a8d03ea315986ac6f91}{}\label{classns3_1_1PssFfMacScheduler_a9984af36c22b8a8d03ea315986ac6f91}
set the user part of the Ff\+Mac\+Csched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a3984d8478223218fd4432a9f9ead328b}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
293 \{
294   \hyperlink{classns3_1_1PssFfMacScheduler_a502c23d2808cc6888f04b996ca6a2f2f}{m\_cschedSapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
295 \}
\end{DoxyCode}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Sched\+Sap\+User(\+Ff\+Mac\+Sched\+Sap\+User $\ast$s)}{SetFfMacSchedSapUser(FfMacSchedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Sched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_ad49c23bfd99840e43c1183653f3dfa19}{}\label{classns3_1_1PssFfMacScheduler_ad49c23bfd99840e43c1183653f3dfa19}
set the user part of the Ff\+Mac\+Sched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_aa45093350c367b9a33263d5b6eecee34}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Sched\+Sap\+User(\+Ff\+Mac\+Sched\+Sap\+User $\ast$s)}{SetFfMacSchedSapUser(FfMacSchedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Sched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_adc587ebc6984d038f02da5f67c053f45}{}\label{classns3_1_1PssFfMacScheduler_adc587ebc6984d038f02da5f67c053f45}
set the user part of the Ff\+Mac\+Sched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_aa45093350c367b9a33263d5b6eecee34}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
299 \{
300   \hyperlink{classns3_1_1PssFfMacScheduler_aef80e10798607daea4efdf4cf1297bd9}{m\_schedSapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
301 \}
\end{DoxyCode}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}}
\index{Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Lte\+Ffr\+Sap\+Provider(\+Lte\+Ffr\+Sap\+Provider $\ast$s)}{SetLteFfrSapProvider(LteFfrSapProvider *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Set\+Lte\+Ffr\+Sap\+Provider (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Ffr\+Sap\+Provider} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_a8f5a1ecdf9b7546b2f915c8b258beb9f}{}\label{classns3_1_1PssFfMacScheduler_a8f5a1ecdf9b7546b2f915c8b258beb9f}
Set the Provider part of the Lte\+Ffr\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a2b3a1635ada88804f035984277371926}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
317 \{
318   \hyperlink{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{m\_ffrSapProvider} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
319 \}
\end{DoxyCode}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}}
\index{Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Lte\+Ffr\+Sap\+Provider(\+Lte\+Ffr\+Sap\+Provider $\ast$s)}{SetLteFfrSapProvider(LteFfrSapProvider *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Set\+Lte\+Ffr\+Sap\+Provider (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Ffr\+Sap\+Provider} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PssFfMacScheduler_ab11028fccdb730ceb53f2239c4871ed5}{}\label{classns3_1_1PssFfMacScheduler_ab11028fccdb730ceb53f2239c4871ed5}
Set the Provider part of the Lte\+Ffr\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a2b3a1635ada88804f035984277371926}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}}
\index{Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Transmission\+Mode\+Configuration\+Update(uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)}{TransmissionModeConfigurationUpdate(uint16_t rnti, uint8_t txMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Transmission\+Mode\+Configuration\+Update (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{tx\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PssFfMacScheduler_a8da9dee3a2925075c6c72104fd13f35a}{}\label{classns3_1_1PssFfMacScheduler_a8da9dee3a2925075c6c72104fd13f35a}

\begin{DoxyCode}
2560 \{
2561   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" txMode "} << (uint16\_t)txMode);
2562   FfMacCschedSapUser::CschedUeConfigUpdateIndParameters params;
2563   params.m\_rnti = rnti;
2564   params.m\_transmissionMode = txMode;
2565   \hyperlink{classns3_1_1PssFfMacScheduler_a502c23d2808cc6888f04b996ca6a2f2f}{m\_cschedSapUser}->\hyperlink{classns3_1_1FfMacCschedSapUser_a63f3fa5bac0cc7234a17c3241bff6a04}{CschedUeConfigUpdateInd} (params);
2566 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 33


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}}
\index{Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Transmission\+Mode\+Configuration\+Update(uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)}{TransmissionModeConfigurationUpdate(uint16_t rnti, uint8_t txMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Transmission\+Mode\+Configuration\+Update (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{tx\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PssFfMacScheduler_a8da9dee3a2925075c6c72104fd13f35a}{}\label{classns3_1_1PssFfMacScheduler_a8da9dee3a2925075c6c72104fd13f35a}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}}
\index{Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Dl\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)}{UpdateDlRlcBufferInfo(uint16_t rnti, uint8_t lcid, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Update\+Dl\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{lcid, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a892f1cbf2d0ef364fd0dbca6dc6a7848}{}\label{classns3_1_1PssFfMacScheduler_a892f1cbf2d0ef364fd0dbca6dc6a7848}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}}
\index{Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Dl\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)}{UpdateDlRlcBufferInfo(uint16_t rnti, uint8_t lcid, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Update\+Dl\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{lcid, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a892f1cbf2d0ef364fd0dbca6dc6a7848}{}\label{classns3_1_1PssFfMacScheduler_a892f1cbf2d0ef364fd0dbca6dc6a7848}

\begin{DoxyCode}
2483 \{
2484   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
2485   LteFlowId\_t flow (rnti, lcid);
2486   it = \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.find (flow);
2487   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{m\_rlcBufferReq}.end ())
2488     \{
2489       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE "} << rnti << \textcolor{stringliteral}{" LC "} << (uint16\_t)lcid << \textcolor{stringliteral}{" txqueue "} << (*it).
      second.m\_rlcTransmissionQueueSize << \textcolor{stringliteral}{" retxqueue "} << (*it).second.m\_rlcRetransmissionQueueSize << \textcolor{stringliteral}{" status "} 
      << (*it).second.m\_rlcStatusPduSize << \textcolor{stringliteral}{" decrease "} << size);
2490       \textcolor{comment}{// Update queues: RLC tx order Status, ReTx, Tx}
2491       \textcolor{comment}{// Update status queue}
2492       \textcolor{keywordflow}{if} (((*it).second.m\_rlcStatusPduSize > 0) && (size >= (*it).second.m\_rlcStatusPduSize))
2493         \{
2494            (*it).second.m\_rlcStatusPduSize = 0;
2495         \}
2496       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (((*it).second.m\_rlcRetransmissionQueueSize > 0) && (size >= (*it).second.
      m\_rlcRetransmissionQueueSize))
2497         \{
2498           (*it).second.m\_rlcRetransmissionQueueSize = 0;
2499         \}
2500       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((*it).second.m\_rlcTransmissionQueueSize > 0)
2501         \{
2502           uint32\_t rlcOverhead;
2503           \textcolor{keywordflow}{if} (lcid == 1)
2504             \{
2505               \textcolor{comment}{// for SRB1 (using RLC AM) it's better to}
2506               \textcolor{comment}{// overestimate RLC overhead rather than}
2507               \textcolor{comment}{// underestimate it and risk unneeded}
2508               \textcolor{comment}{// segmentation which increases delay }
2509               rlcOverhead = 4;                                  
2510             \}
2511           \textcolor{keywordflow}{else}
2512             \{
2513               \textcolor{comment}{// minimum RLC overhead due to header}
2514               rlcOverhead = 2;
2515             \}
2516           \textcolor{comment}{// update transmission queue}
2517           \textcolor{keywordflow}{if} ((*it).second.m\_rlcTransmissionQueueSize <= size - rlcOverhead)
2518             \{
2519               (*it).second.m\_rlcTransmissionQueueSize = 0;
2520             \}
2521           \textcolor{keywordflow}{else}
2522             \{                    
2523               (*it).second.m\_rlcTransmissionQueueSize -= size - rlcOverhead;
2524             \}
2525         \}
2526     \}
2527   \textcolor{keywordflow}{else}
2528     \{
2529       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Does not find DL RLC Buffer Report of UE "} << rnti);
2530     \}
2531 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 34


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}}
\index{Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Harq\+Process\+Id(uint16\+\_\+t rnti)}{UpdateHarqProcessId(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Update\+Harq\+Process\+Id (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a5c5fbf9993def2ae6cf974ae81bc0ddb}{}\label{classns3_1_1PssFfMacScheduler_a5c5fbf9993def2ae6cf974ae81bc0ddb}


Update and return a new process Id for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}

\begin{DoxyCode}
603 \{
604   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
605 
606   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}{m\_harqOn} == \textcolor{keyword}{false})
607     \{
608       \textcolor{keywordflow}{return} (0);
609     \}
610 
611 
612   std::map <uint16\_t, uint8\_t>::iterator it = \hyperlink{classns3_1_1PssFfMacScheduler_a860dc1e5d114893e493e5ff2696d7171}{m\_dlHarqCurrentProcessId}.find (rnti);
613   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1PssFfMacScheduler_a860dc1e5d114893e493e5ff2696d7171}{m\_dlHarqCurrentProcessId}.end ())
614     \{
615       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id found for this RNTI "} << rnti);
616     \}
617   std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.find (rnti);
618   \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{m\_dlHarqProcessesStatus}.end ())
619     \{
620       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Statusfound for this RNTI "} << rnti);
621     \}
622   uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second;
623   \textcolor{keywordflow}{do}
624     \{
625       i = (i + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
626     \}
627   \textcolor{keywordflow}{while} ( ((*itStat).second.at (i) != 0)&&(i != (*it).second));
628   \textcolor{keywordflow}{if} ((*itStat).second.at (i) == 0)
629     \{
630       (*it).second = \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
631       (*itStat).second.at (i) = 1;
632     \}
633   \textcolor{keywordflow}{else}
634     \{
635       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No HARQ process available for RNTI "} << rnti << \textcolor{stringliteral}{" check before update
       with HarqProcessAvailability"});
636     \}
637 
638   \textcolor{keywordflow}{return} ((*it).second);
639 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 35


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}}
\index{Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Harq\+Process\+Id(uint16\+\_\+t rnti)}{UpdateHarqProcessId(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Update\+Harq\+Process\+Id (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a5c5fbf9993def2ae6cf974ae81bc0ddb}{}\label{classns3_1_1PssFfMacScheduler_a5c5fbf9993def2ae6cf974ae81bc0ddb}


Update and return a new process Id for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}}
\index{Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Ul\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint16\+\_\+t size)}{UpdateUlRlcBufferInfo(uint16_t rnti, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Update\+Ul\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a8731138acd04bc66f4896f5f823d12cc}{}\label{classns3_1_1PssFfMacScheduler_a8731138acd04bc66f4896f5f823d12cc}

\begin{DoxyCode}
2535 \{
2536 
2537   size = size - 2; \textcolor{comment}{// remove the minimum RLC overhead}
2538   std::map <uint16\_t,uint32\_t>::iterator it = \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.find (rnti);
2539   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{m\_ceBsrRxed}.end ())
2540     \{
2541       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE "} << rnti << \textcolor{stringliteral}{" size "} << size << \textcolor{stringliteral}{" BSR "} << (*it).second);
2542       \textcolor{keywordflow}{if} ((*it).second >= size)
2543         \{
2544           (*it).second -= size;
2545         \}
2546       \textcolor{keywordflow}{else}
2547         \{
2548           (*it).second = 0;
2549         \}
2550     \}
2551   \textcolor{keywordflow}{else}
2552     \{
2553       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Does not find BSR report info of UE "} << rnti);
2554     \}
2555 
2556 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 36


\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}}
\index{Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Ul\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint16\+\_\+t size)}{UpdateUlRlcBufferInfo(uint16_t rnti, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::\+Update\+Ul\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a8731138acd04bc66f4896f5f823d12cc}{}\label{classns3_1_1PssFfMacScheduler_a8731138acd04bc66f4896f5f823d12cc}


\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Pss\+Scheduler\+Member\+Csched\+Sap\+Provider@{Pss\+Scheduler\+Member\+Csched\+Sap\+Provider}}
\index{Pss\+Scheduler\+Member\+Csched\+Sap\+Provider@{Pss\+Scheduler\+Member\+Csched\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Pss\+Scheduler\+Member\+Csched\+Sap\+Provider}{PssSchedulerMemberCschedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pss\+Scheduler\+Member\+Csched\+Sap\+Provider}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1PssFfMacScheduler_a142f1cdc3a9a0831d8cc0beb9ee55924}{}\label{classns3_1_1PssFfMacScheduler_a142f1cdc3a9a0831d8cc0beb9ee55924}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!Pss\+Scheduler\+Member\+Sched\+Sap\+Provider@{Pss\+Scheduler\+Member\+Sched\+Sap\+Provider}}
\index{Pss\+Scheduler\+Member\+Sched\+Sap\+Provider@{Pss\+Scheduler\+Member\+Sched\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Pss\+Scheduler\+Member\+Sched\+Sap\+Provider}{PssSchedulerMemberSchedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pss\+Scheduler\+Member\+Sched\+Sap\+Provider}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1PssFfMacScheduler_aaa7b9ef44118729ff0c95dfe22fdb7de}{}\label{classns3_1_1PssFfMacScheduler_aaa7b9ef44118729ff0c95dfe22fdb7de}


\subsection{Member Data Documentation}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+a30\+Cqi\+Rxed@{m\+\_\+a30\+Cqi\+Rxed}}
\index{m\+\_\+a30\+Cqi\+Rxed@{m\+\_\+a30\+Cqi\+Rxed}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+a30\+Cqi\+Rxed}{m_a30CqiRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Sb\+Meas\+Result\+\_\+s} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+a30\+Cqi\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}{}\label{classns3_1_1PssFfMacScheduler_ab1bc511b7c55ead9b2e8ff1e0d4b0e3b}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+a30\+Cqi\+Timers@{m\+\_\+a30\+Cqi\+Timers}}
\index{m\+\_\+a30\+Cqi\+Timers@{m\+\_\+a30\+Cqi\+Timers}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+a30\+Cqi\+Timers}{m_a30CqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+a30\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_aebfb8f26fbeb4ab75f566ce974f2cb65}{}\label{classns3_1_1PssFfMacScheduler_aebfb8f26fbeb4ab75f566ce974f2cb65}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+allocation\+Maps@{m\+\_\+allocation\+Maps}}
\index{m\+\_\+allocation\+Maps@{m\+\_\+allocation\+Maps}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+allocation\+Maps}{m_allocationMaps}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ uint16\+\_\+t $>$ $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+allocation\+Maps\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_ad06e7461edc613eb44a4a9c474915022}{}\label{classns3_1_1PssFfMacScheduler_ad06e7461edc613eb44a4a9c474915022}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+amc@{m\+\_\+amc}}
\index{m\+\_\+amc@{m\+\_\+amc}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+amc}{m_amc}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Lte\+Amc} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+amc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}{}\label{classns3_1_1PssFfMacScheduler_a0cbf5421430268701ab8a313ab912785}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+ce\+Bsr\+Rxed@{m\+\_\+ce\+Bsr\+Rxed}}
\index{m\+\_\+ce\+Bsr\+Rxed@{m\+\_\+ce\+Bsr\+Rxed}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ce\+Bsr\+Rxed}{m_ceBsrRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+ce\+Bsr\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}{}\label{classns3_1_1PssFfMacScheduler_a7adb86186e0190e6b0aa66a562499268}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+cqi\+Timers\+Threshold@{m\+\_\+cqi\+Timers\+Threshold}}
\index{m\+\_\+cqi\+Timers\+Threshold@{m\+\_\+cqi\+Timers\+Threshold}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+cqi\+Timers\+Threshold}{m_cqiTimersThreshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+cqi\+Timers\+Threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}{}\label{classns3_1_1PssFfMacScheduler_a56d836fa470b6d79eca2b03258325373}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Cell\+Config@{m\+\_\+csched\+Cell\+Config}}
\index{m\+\_\+csched\+Cell\+Config@{m\+\_\+csched\+Cell\+Config}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Cell\+Config}{m_cschedCellConfig}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Cell\+Config\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}{}\label{classns3_1_1PssFfMacScheduler_a6808e2b2024ed0ced82f80bfe6f0801f}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Sap\+Provider@{m\+\_\+csched\+Sap\+Provider}}
\index{m\+\_\+csched\+Sap\+Provider@{m\+\_\+csched\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Sap\+Provider}{m_cschedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_ac11b1d69f7082523bec1759f39331619}{}\label{classns3_1_1PssFfMacScheduler_ac11b1d69f7082523bec1759f39331619}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Sap\+User@{m\+\_\+csched\+Sap\+User}}
\index{m\+\_\+csched\+Sap\+User@{m\+\_\+csched\+Sap\+User}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Sap\+User}{m_cschedSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a502c23d2808cc6888f04b996ca6a2f2f}{}\label{classns3_1_1PssFfMacScheduler_a502c23d2808cc6888f04b996ca6a2f2f}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Current\+Process\+Id@{m\+\_\+dl\+Harq\+Current\+Process\+Id}}
\index{m\+\_\+dl\+Harq\+Current\+Process\+Id@{m\+\_\+dl\+Harq\+Current\+Process\+Id}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Current\+Process\+Id}{m_dlHarqCurrentProcessId}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Current\+Process\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a860dc1e5d114893e493e5ff2696d7171}{}\label{classns3_1_1PssFfMacScheduler_a860dc1e5d114893e493e5ff2696d7171}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}}
\index{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}{m_dlHarqProcessesDciBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a167441dd2a0e5cde664eedfd19a07fbf}{}\label{classns3_1_1PssFfMacScheduler_a167441dd2a0e5cde664eedfd19a07fbf}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}}
\index{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}{m_dlHarqProcessesRlcPduListBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Rlc\+Pdu\+List\+Buffer\+\_\+t} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}{}\label{classns3_1_1PssFfMacScheduler_a0f31f16c2a9f067c6189462a9797e06b}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Status@{m\+\_\+dl\+Harq\+Processes\+Status}}
\index{m\+\_\+dl\+Harq\+Processes\+Status@{m\+\_\+dl\+Harq\+Processes\+Status}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Status}{m_dlHarqProcessesStatus}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Status\+\_\+t} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Status\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}{}\label{classns3_1_1PssFfMacScheduler_aaddeb3fa864cb82b5829d4ca1cf9abea}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Timer@{m\+\_\+dl\+Harq\+Processes\+Timer}}
\index{m\+\_\+dl\+Harq\+Processes\+Timer@{m\+\_\+dl\+Harq\+Processes\+Timer}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Timer}{m_dlHarqProcessesTimer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Timer\+\_\+t} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Timer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}{}\label{classns3_1_1PssFfMacScheduler_afcae17e3f08b0a6f1e1458a39da8cdcb}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Info\+List\+Buffered@{m\+\_\+dl\+Info\+List\+Buffered}}
\index{m\+\_\+dl\+Info\+List\+Buffered@{m\+\_\+dl\+Info\+List\+Buffered}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Info\+List\+Buffered}{m_dlInfoListBuffered}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Dl\+Info\+List\+Element\+\_\+s} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Info\+List\+Buffered\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}{}\label{classns3_1_1PssFfMacScheduler_a3a7d9c7460c66767201d15a1d6f58758}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+fd\+Scheduler\+Type@{m\+\_\+fd\+Scheduler\+Type}}
\index{m\+\_\+fd\+Scheduler\+Type@{m\+\_\+fd\+Scheduler\+Type}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+fd\+Scheduler\+Type}{m_fdSchedulerType}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+fd\+Scheduler\+Type\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a8442a089f3cb7fcaf802fb5da9caee02}{}\label{classns3_1_1PssFfMacScheduler_a8442a089f3cb7fcaf802fb5da9caee02}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+ffr\+Sap\+Provider@{m\+\_\+ffr\+Sap\+Provider}}
\index{m\+\_\+ffr\+Sap\+Provider@{m\+\_\+ffr\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ffr\+Sap\+Provider}{m_ffrSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+Provider} $\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+ffr\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}{}\label{classns3_1_1PssFfMacScheduler_a8b7889293dd002f806e2d6afd9c50aed}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+ffr\+Sap\+User@{m\+\_\+ffr\+Sap\+User}}
\index{m\+\_\+ffr\+Sap\+User@{m\+\_\+ffr\+Sap\+User}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ffr\+Sap\+User}{m_ffrSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+User} $\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+ffr\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_aba075c2fcb5d36a9276a0519a53ad5b2}{}\label{classns3_1_1PssFfMacScheduler_aba075c2fcb5d36a9276a0519a53ad5b2}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+flow\+Stats\+Dl@{m\+\_\+flow\+Stats\+Dl}}
\index{m\+\_\+flow\+Stats\+Dl@{m\+\_\+flow\+Stats\+Dl}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+flow\+Stats\+Dl}{m_flowStatsDl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf pss\+Flow\+Perf\+\_\+t} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+flow\+Stats\+Dl\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}{}\label{classns3_1_1PssFfMacScheduler_add144474dc7bd9d89b93ff14bc8d27c9}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+flow\+Stats\+Ul@{m\+\_\+flow\+Stats\+Ul}}
\index{m\+\_\+flow\+Stats\+Ul@{m\+\_\+flow\+Stats\+Ul}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+flow\+Stats\+Ul}{m_flowStatsUl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf pss\+Flow\+Perf\+\_\+t} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+flow\+Stats\+Ul\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a352297bd379991aba26a724661058120}{}\label{classns3_1_1PssFfMacScheduler_a352297bd379991aba26a724661058120}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+harq\+On@{m\+\_\+harq\+On}}
\index{m\+\_\+harq\+On@{m\+\_\+harq\+On}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+harq\+On}{m_harqOn}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+harq\+On\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}{}\label{classns3_1_1PssFfMacScheduler_a7163e6149892abe4c17ce95be6bf1953}
m\+\_\+harq\+On when false inhibit te H\+A\+RQ mechanisms (by default active) \index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+next\+Rnti\+Ul@{m\+\_\+next\+Rnti\+Ul}}
\index{m\+\_\+next\+Rnti\+Ul@{m\+\_\+next\+Rnti\+Ul}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+next\+Rnti\+Ul}{m_nextRntiUl}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+next\+Rnti\+Ul\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}{}\label{classns3_1_1PssFfMacScheduler_a9bbe57fde0c3046e43a686473b5e33ff}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+n\+Mux@{m\+\_\+n\+Mux}}
\index{m\+\_\+n\+Mux@{m\+\_\+n\+Mux}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+n\+Mux}{m_nMux}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+n\+Mux\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a5f2880c5cc34c2189db6e92bc2cae47e}{}\label{classns3_1_1PssFfMacScheduler_a5f2880c5cc34c2189db6e92bc2cae47e}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+p10\+Cqi\+Rxed@{m\+\_\+p10\+Cqi\+Rxed}}
\index{m\+\_\+p10\+Cqi\+Rxed@{m\+\_\+p10\+Cqi\+Rxed}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+p10\+Cqi\+Rxed}{m_p10CqiRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+p10\+Cqi\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}{}\label{classns3_1_1PssFfMacScheduler_a268235ec4bf4d7e3a75840dec54bf22d}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+p10\+Cqi\+Timers@{m\+\_\+p10\+Cqi\+Timers}}
\index{m\+\_\+p10\+Cqi\+Timers@{m\+\_\+p10\+Cqi\+Timers}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+p10\+Cqi\+Timers}{m_p10CqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+p10\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a687c4283769d0e08724b80d4f5a5cf77}{}\label{classns3_1_1PssFfMacScheduler_a687c4283769d0e08724b80d4f5a5cf77}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+rach\+Allocation\+Map@{m\+\_\+rach\+Allocation\+Map}}
\index{m\+\_\+rach\+Allocation\+Map@{m\+\_\+rach\+Allocation\+Map}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rach\+Allocation\+Map}{m_rachAllocationMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ uint16\+\_\+t $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+rach\+Allocation\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_af093989004d46e1bf45ba2bdb1dfa03e}{}\label{classns3_1_1PssFfMacScheduler_af093989004d46e1bf45ba2bdb1dfa03e}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+rach\+List@{m\+\_\+rach\+List}}
\index{m\+\_\+rach\+List@{m\+\_\+rach\+List}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rach\+List}{m_rachList}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ struct {\bf Rach\+List\+Element\+\_\+s} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+rach\+List\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a7365478ecd213eef5da163ace10a94ed}{}\label{classns3_1_1PssFfMacScheduler_a7365478ecd213eef5da163ace10a94ed}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+rlc\+Buffer\+Req@{m\+\_\+rlc\+Buffer\+Req}}
\index{m\+\_\+rlc\+Buffer\+Req@{m\+\_\+rlc\+Buffer\+Req}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rlc\+Buffer\+Req}{m_rlcBufferReq}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ {\bf Lte\+Flow\+Id\+\_\+t}, {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+rlc\+Buffer\+Req\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}{}\label{classns3_1_1PssFfMacScheduler_af66c823e9ee8ce17084dff35ce128191}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+sched\+Sap\+Provider@{m\+\_\+sched\+Sap\+Provider}}
\index{m\+\_\+sched\+Sap\+Provider@{m\+\_\+sched\+Sap\+Provider}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+sched\+Sap\+Provider}{m_schedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+sched\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a9c95ea6430238a972ca249cc7c017a91}{}\label{classns3_1_1PssFfMacScheduler_a9c95ea6430238a972ca249cc7c017a91}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+sched\+Sap\+User@{m\+\_\+sched\+Sap\+User}}
\index{m\+\_\+sched\+Sap\+User@{m\+\_\+sched\+Sap\+User}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+sched\+Sap\+User}{m_schedSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+sched\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_aef80e10798607daea4efdf4cf1297bd9}{}\label{classns3_1_1PssFfMacScheduler_aef80e10798607daea4efdf4cf1297bd9}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+time\+Window@{m\+\_\+time\+Window}}
\index{m\+\_\+time\+Window@{m\+\_\+time\+Window}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+time\+Window}{m_timeWindow}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+time\+Window\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_aecdbf7e675d36f9ed48a35d8135fb08e}{}\label{classns3_1_1PssFfMacScheduler_aecdbf7e675d36f9ed48a35d8135fb08e}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+ue\+Cqi@{m\+\_\+ue\+Cqi}}
\index{m\+\_\+ue\+Cqi@{m\+\_\+ue\+Cqi}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Cqi}{m_ueCqi}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ double $>$ $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+ue\+Cqi\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}{}\label{classns3_1_1PssFfMacScheduler_abd1f917911a86bfd576e93ec67d7b8b2}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+ue\+Cqi\+Timers@{m\+\_\+ue\+Cqi\+Timers}}
\index{m\+\_\+ue\+Cqi\+Timers@{m\+\_\+ue\+Cqi\+Timers}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Cqi\+Timers}{m_ueCqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+ue\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a1cc9115fabab47bd1c6de8fa20725782}{}\label{classns3_1_1PssFfMacScheduler_a1cc9115fabab47bd1c6de8fa20725782}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+ues\+Tx\+Mode@{m\+\_\+ues\+Tx\+Mode}}
\index{m\+\_\+ues\+Tx\+Mode@{m\+\_\+ues\+Tx\+Mode}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ues\+Tx\+Mode}{m_uesTxMode}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+ues\+Tx\+Mode\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}{}\label{classns3_1_1PssFfMacScheduler_a48aa1d9dc22e9c73e3c2206be76bb6cd}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Grant\+Mcs@{m\+\_\+ul\+Grant\+Mcs}}
\index{m\+\_\+ul\+Grant\+Mcs@{m\+\_\+ul\+Grant\+Mcs}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Grant\+Mcs}{m_ulGrantMcs}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Grant\+Mcs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a535c4d18454b96af02427b81a3b20930}{}\label{classns3_1_1PssFfMacScheduler_a535c4d18454b96af02427b81a3b20930}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Current\+Process\+Id@{m\+\_\+ul\+Harq\+Current\+Process\+Id}}
\index{m\+\_\+ul\+Harq\+Current\+Process\+Id@{m\+\_\+ul\+Harq\+Current\+Process\+Id}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Current\+Process\+Id}{m_ulHarqCurrentProcessId}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Current\+Process\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}{}\label{classns3_1_1PssFfMacScheduler_a9e2a7c8f3e5e48aa429a5a06f4f70a72}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}}
\index{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}{m_ulHarqProcessesDciBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Ul\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}{}\label{classns3_1_1PssFfMacScheduler_adfb2ba26a401807d40208e7b8f01f813}
\index{ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Processes\+Status@{m\+\_\+ul\+Harq\+Processes\+Status}}
\index{m\+\_\+ul\+Harq\+Processes\+Status@{m\+\_\+ul\+Harq\+Processes\+Status}!ns3\+::\+Pss\+Ff\+Mac\+Scheduler@{ns3\+::\+Pss\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Processes\+Status}{m_ulHarqProcessesStatus}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Ul\+Harq\+Processes\+Status\+\_\+t} $>$ ns3\+::\+Pss\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Processes\+Status\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PssFfMacScheduler_a80badd341a079bd237ef7fe60db2cb79}{}\label{classns3_1_1PssFfMacScheduler_a80badd341a079bd237ef7fe60db2cb79}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{lte_2model_2pss-ff-mac-scheduler_8h}{pss-\/ff-\/mac-\/scheduler.\+h}\item 
lte/model/\hyperlink{lte_2model_2pss-ff-mac-scheduler_8cc}{pss-\/ff-\/mac-\/scheduler.\+cc}\end{DoxyCompactItemize}
