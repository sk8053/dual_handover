\hypertarget{classLteUeMeasurementsPiecewiseTestCase2}{}\section{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2 Class Reference}
\label{classLteUeMeasurementsPiecewiseTestCase2}\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}


Testing UE measurements in L\+TE with simulation of 2 e\+NodeB and 1 UE in piecewise configuration and 240 ms report interval.  




{\ttfamily \#include $<$lte-\/test-\/ue-\/measurements.\+h$>$}



Inheritance diagram for Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+:
% FIG 0


Collaboration diagram for Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a79e021f7305bb2fa3bcb6ae8e26daf40}{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2} (std\+::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, \hyperlink{structns3_1_1LteRrcSap_1_1ReportConfigEutra}{Lte\+Rrc\+Sap\+::\+Report\+Config\+Eutra} config, std\+::vector$<$ \hyperlink{classns3_1_1Time}{Time} $>$ expected\+Time, std\+::vector$<$ uint8\+\_\+t $>$ expected\+Rsrp)
\item 
virtual \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_acce908be9ace48462e50f821dece3988}{$\sim$\+Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2} ()
\item 
void \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_ab39f5db572c10fb73def61678fd38940}{Recv\+Measurement\+Report\+Callback} (std\+::string context, uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id, uint16\+\_\+t rnti, \hyperlink{structns3_1_1LteRrcSap_1_1MeasurementReport}{Lte\+Rrc\+Sap\+::\+Measurement\+Report} report)
\begin{DoxyCompactList}\small\item\em Triggers when e\+NodeB receives measurement report from UE, then perform verification on it. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_aa3d0caf8f82d095e8c85434b294482b6}{Do\+Run} ()
\begin{DoxyCompactList}\small\item\em Setup the simulation with the intended UE measurement reporting configuration, run it, and connect the {\ttfamily Recv\+Measurement\+Report\+Callback} function to the {\ttfamily Lte\+Ue\+Rrc\+::\+Recv\+Measurement\+Report} trace source. \end{DoxyCompactList}\item 
virtual void \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_af30df52490d10310d41dde277a07c75f}{Do\+Teardown} ()
\begin{DoxyCompactList}\small\item\em Runs at the end of the simulation, verifying that all expected measurement reports have been examined. \end{DoxyCompactList}\item 
void \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a582eec9b9dd60c08957083693fab1af9}{Teleport\+Very\+Near} ()
\item 
void \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_aba969894d5ee56960fd6d66518b8a906}{Teleport\+Near} ()
\item 
void \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_aa07c9fc98cb14af186fcba52517d9275}{Teleport\+Far} ()
\item 
void \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_ab62f5e0226e38678f6e2b542f6b1eb5e}{Teleport\+Very\+Far} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structns3_1_1LteRrcSap_1_1ReportConfigEutra}{Lte\+Rrc\+Sap\+::\+Report\+Config\+Eutra} \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a90660b3f94d62547d30ea5d3eabebc80}{m\+\_\+config}
\begin{DoxyCompactList}\small\item\em The active report triggering configuration. \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{classns3_1_1Time}{Time} $>$ \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_affb68ca4f88019ca3b9aadbefe29d908}{m\+\_\+expected\+Time}
\begin{DoxyCompactList}\small\item\em The list of expected time when measurement reports are received by e\+NodeB. \end{DoxyCompactList}\item 
std\+::vector$<$ uint8\+\_\+t $>$ \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a657edc6c75b0ebc54cebca3ba7bb166f}{m\+\_\+expected\+Rsrp}
\begin{DoxyCompactList}\small\item\em The list of expected values of R\+S\+RP (in 3\+G\+PP range unit) from the measurement reports received. \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{classns3_1_1Time}{Time} $>$\+::iterator \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a49b9123d994ebabacb649491774d231d}{m\+\_\+it\+Expected\+Time}
\begin{DoxyCompactList}\small\item\em Pointer to the element of {\ttfamily m\+\_\+expected\+Time} which is expected to occur next in the simulation. \end{DoxyCompactList}\item 
std\+::vector$<$ uint8\+\_\+t $>$\+::iterator \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_adf38952334ae0b1372acdc5004420a01}{m\+\_\+it\+Expected\+Rsrp}
\begin{DoxyCompactList}\small\item\em Pointer to the element of {\ttfamily m\+\_\+expected\+Rsrp} which is expected to occur next in the simulation. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_af0d0ce23466c65b4ded17e0d8a5748bd}{m\+\_\+expected\+Meas\+Id}
\begin{DoxyCompactList}\small\item\em The measurement identity being tested. Measurement reports with different measurement identity (e.\+g. from handover algorithm) will be ignored. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a085c911b012df1a52dde2bb903ba56e3}{m\+\_\+ue\+Mobility}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Testing UE measurements in L\+TE with simulation of 2 e\+NodeB and 1 UE in piecewise configuration and 240 ms report interval. 

\subsection{Constructor \& Destructor Documentation}
\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2(std\+::string name, Lte\+Rrc\+Sap\+::\+Report\+Config\+Eutra config, std\+::vector$<$ Time $>$ expected\+Time, std\+::vector$<$ uint8\+\_\+t $>$ expected\+Rsrp)}{LteUeMeasurementsPiecewiseTestCase2(std::string name, LteRrcSap::ReportConfigEutra config, std::vector< Time > expectedTime, std::vector< uint8_t > expectedRsrp)}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::\+Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2 (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name, }
\item[{{\bf Lte\+Rrc\+Sap\+::\+Report\+Config\+Eutra}}]{config, }
\item[{std\+::vector$<$ {\bf Time} $>$}]{expected\+Time, }
\item[{std\+::vector$<$ uint8\+\_\+t $>$}]{expected\+Rsrp}
\end{DoxyParamCaption}
)}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_a79e021f7305bb2fa3bcb6ae8e26daf40}{}\label{classLteUeMeasurementsPiecewiseTestCase2_a79e021f7305bb2fa3bcb6ae8e26daf40}

\begin{DoxyCode}
1108   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}),
1109     \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a90660b3f94d62547d30ea5d3eabebc80}{m\_config} (config),
1110     \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_affb68ca4f88019ca3b9aadbefe29d908}{m\_expectedTime} (expectedTime),
1111     \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a657edc6c75b0ebc54cebca3ba7bb166f}{m\_expectedRsrp} (expectedRsrp)
1112 \{
1113   \textcolor{comment}{// input sanity check}
1114   uint16\_t size = \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_affb68ca4f88019ca3b9aadbefe29d908}{m\_expectedTime}.size ();
1115 
1116   \textcolor{keywordflow}{if} (size != \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a657edc6c75b0ebc54cebca3ba7bb166f}{m\_expectedRsrp}.size ())
1117     \{
1118       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Vectors of expected results are not of the same size"});
1119     \}
1120 
1121   \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a49b9123d994ebabacb649491774d231d}{m\_itExpectedTime} = \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_affb68ca4f88019ca3b9aadbefe29d908}{m\_expectedTime}.begin ();
1122   \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_adf38952334ae0b1372acdc5004420a01}{m\_itExpectedRsrp} = \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a657edc6c75b0ebc54cebca3ba7bb166f}{m\_expectedRsrp}.begin ();
1123 
1124   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" name="} << \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name});
1125 \}
\end{DoxyCode}
\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!````~Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{$\sim$\+Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\index{````~Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{$\sim$\+Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{$\sim$\+Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2()}{~LteUeMeasurementsPiecewiseTestCase2()}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::$\sim$\+Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_acce908be9ace48462e50f821dece3988}{}\label{classLteUeMeasurementsPiecewiseTestCase2_acce908be9ace48462e50f821dece3988}

\begin{DoxyCode}
1128 \{
1129   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1130 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Do\+Run()}{DoRun()}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_aa3d0caf8f82d095e8c85434b294482b6}{}\label{classLteUeMeasurementsPiecewiseTestCase2_aa3d0caf8f82d095e8c85434b294482b6}


Setup the simulation with the intended UE measurement reporting configuration, run it, and connect the {\ttfamily Recv\+Measurement\+Report\+Callback} function to the {\ttfamily Lte\+Ue\+Rrc\+::\+Recv\+Measurement\+Report} trace source. 



Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
1134 \{
1135   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" "} << \hyperlink{classns3_1_1TestCase_a28f7bb59669c24dae1c290fc17fc9b62}{GetName} ());
1136 
1137   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
1138   lteHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"PathlossModel"},
1139                            StringValue (\textcolor{stringliteral}{"ns3::FriisSpectrumPropagationLossModel"}));
1140   lteHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"UseIdealRrc"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
1141 
1142   \textcolor{comment}{//Disable Uplink Power Control}
1143   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::EnableUplinkPowerControl"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
1144 
1145   \textcolor{comment}{// Create Nodes: eNodeB and UE}
1146   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
1147   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes;
1148   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (2);
1149   ueNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
1150 
1151   \textcolor{comment}{/*}
1152 \textcolor{comment}{   * The topology is the following:}
1153 \textcolor{comment}{   *}
1154 \textcolor{comment}{   * eNodeB    UE                                                eNodeB}
1155 \textcolor{comment}{   *    |      |                                                    |}
1156 \textcolor{comment}{   *    x ---- x --------------- x ------- x --------------- x ---- x}
1157 \textcolor{comment}{   *      50 m |      200 m      |  100 m  |      200 m      | 50 m}
1158 \textcolor{comment}{   *           |                 |         |                 |}
1159 \textcolor{comment}{   *        VeryNear            Near      Far             VeryFar}
1160 \textcolor{comment}{   */}
1161 
1162   \hyperlink{classns3_1_1Ptr}{Ptr<ListPositionAllocator>} positionAlloc = CreateObject<ListPositionAllocator> 
      ();
1163   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (0.0, 0.0, 0.0)); \textcolor{comment}{// Serving eNodeB}
1164   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (600.0, 0.0, 0.0)); \textcolor{comment}{// Neighbour eNodeB}
1165   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (50.0, 0.0, 0.0)); \textcolor{comment}{// UE}
1166   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
1167   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
1168   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (positionAlloc);
1169   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (enbNodes);
1170   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (ueNodes);
1171   \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a085c911b012df1a52dde2bb903ba56e3}{m\_ueMobility} = ueNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ();
1172 
1173   \textcolor{comment}{// Disable layer-3 filtering}
1174   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteEnbRrc::RsrpFilterCoefficient"},
1175                       UintegerValue (0));
1176 
1177   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
1178   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
1179   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs;
1180   lteHelper->\hyperlink{classns3_1_1LteHelper_a8f86e55b8b80a81732c4b2df00fb25d5}{SetSchedulerType} (\textcolor{stringliteral}{"ns3::RrFfMacScheduler"});
1181   lteHelper->\hyperlink{classns3_1_1LteHelper_a38f8c7f4592b31c0f3dedb53e7909742}{SetSchedulerAttribute} (\textcolor{stringliteral}{"UlCqiFilter"},
1182                                     \hyperlink{classns3_1_1EnumValue}{EnumValue} (FfMacScheduler::PUSCH\_UL\_CQI));
1183   enbDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes);
1184   ueDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes);
1185 
1186   \textcolor{comment}{// Setup UE measurement configuration in serving cell}
1187   \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbRrc>} enbRrc1 = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ()->GetRrc ();
1188   \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_af0d0ce23466c65b4ded17e0d8a5748bd}{m\_expectedMeasId} = enbRrc1->\hyperlink{classns3_1_1LteEnbRrc_a4b9348b6c39a805cd23d3ed4a5091ae5}{AddUeMeasReportConfig} (
      \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a90660b3f94d62547d30ea5d3eabebc80}{m\_config});
1189 
1190   \textcolor{comment}{// Disable handover in neighbour cell}
1191   \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbRrc>} enbRrc2 = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1)->GetObject<
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ()->GetRrc ();
1192   enbRrc2->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"AdmitHandoverRequest"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
1193 
1194   \textcolor{comment}{// Attach UE to serving eNodeB}
1195   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0), enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
1196 
1197   \textcolor{comment}{// Activate an EPS bearer}
1198   \textcolor{keyword}{enum} \hyperlink{structns3_1_1EpsBearer_aecf0c67109c5eb4ec0b07226fff5885e}{EpsBearer::Qci} q = EpsBearer::GBR\_CONV\_VOICE;
1199   \hyperlink{structns3_1_1EpsBearer}{EpsBearer} bearer (q);
1200   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs, bearer);
1201 
1202   \textcolor{comment}{// Connect to trace sources in serving eNodeB}
1203   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/0/DeviceList/0/LteEnbRrc/RecvMeasurementReport"},
1204                    \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_ab39f5db572c10fb73def61678fd38940}{LteUeMeasurementsPiecewiseTestCase2::RecvMeasurementReportCallback}
      ,
1205                                  \textcolor{keyword}{this}));
1206 
1207   \textcolor{comment}{/*}
1208 \textcolor{comment}{   * Schedule "teleports"}
1209 \textcolor{comment}{   *          0                   1                   2}
1210 \textcolor{comment}{   *          +-------------------+-------------------+---------> time}
1211 \textcolor{comment}{   * VeryNear |------  ----    ----                    --------}
1212 \textcolor{comment}{   *     Near |                    ----            ----}
1213 \textcolor{comment}{   *      Far |                        ----    ----}
1214 \textcolor{comment}{   *  VeryFar |      --    ----            ----}
1215 \textcolor{comment}{   */}
1216   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (301),
1217                        &\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_ab62f5e0226e38678f6e2b542f6b1eb5e}{LteUeMeasurementsPiecewiseTestCase2::TeleportVeryFar}
      , \textcolor{keyword}{this});
1218   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (401),
1219                        &\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a582eec9b9dd60c08957083693fab1af9}{LteUeMeasurementsPiecewiseTestCase2::TeleportVeryNear}
      , \textcolor{keyword}{this});
1220   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (601),
1221                        &\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_ab62f5e0226e38678f6e2b542f6b1eb5e}{LteUeMeasurementsPiecewiseTestCase2::TeleportVeryFar}
      , \textcolor{keyword}{this});
1222   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (801),
1223                        &\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a582eec9b9dd60c08957083693fab1af9}{LteUeMeasurementsPiecewiseTestCase2::TeleportVeryNear}
      , \textcolor{keyword}{this});
1224   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1001),
1225                        &\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_aba969894d5ee56960fd6d66518b8a906}{LteUeMeasurementsPiecewiseTestCase2::TeleportNear}
      , \textcolor{keyword}{this});
1226   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1201),
1227                        &\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_aa07c9fc98cb14af186fcba52517d9275}{LteUeMeasurementsPiecewiseTestCase2::TeleportFar}
      , \textcolor{keyword}{this});
1228   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1401),
1229                        &\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_ab62f5e0226e38678f6e2b542f6b1eb5e}{LteUeMeasurementsPiecewiseTestCase2::TeleportVeryFar}
      , \textcolor{keyword}{this});
1230   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1601),
1231                        &\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_aa07c9fc98cb14af186fcba52517d9275}{LteUeMeasurementsPiecewiseTestCase2::TeleportFar}
      , \textcolor{keyword}{this});
1232   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1801),
1233                        &\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_aba969894d5ee56960fd6d66518b8a906}{LteUeMeasurementsPiecewiseTestCase2::TeleportNear}
      , \textcolor{keyword}{this});
1234   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (2001),
1235                        &\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a582eec9b9dd60c08957083693fab1af9}{LteUeMeasurementsPiecewiseTestCase2::TeleportVeryNear}
      , \textcolor{keyword}{this});
1236 
1237   \textcolor{comment}{// Run simulation}
1238   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.201));
1239   Simulator::Run ();
1240   Simulator::Destroy ();
1241 
1242 \} \textcolor{comment}{// end of void LteUeMeasurementsPiecewiseTestCase2::DoRun ()}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!Do\+Teardown@{Do\+Teardown}}
\index{Do\+Teardown@{Do\+Teardown}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Do\+Teardown()}{DoTeardown()}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::\+Do\+Teardown (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_af30df52490d10310d41dde277a07c75f}{}\label{classLteUeMeasurementsPiecewiseTestCase2_af30df52490d10310d41dde277a07c75f}


Runs at the end of the simulation, verifying that all expected measurement reports have been examined. 



Reimplemented from \hyperlink{classns3_1_1TestCase_a8917f1604e28d312a8086f76291e3c46}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
1246 \{
1247   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1248   \textcolor{keywordtype}{bool} hasEnded = \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a49b9123d994ebabacb649491774d231d}{m\_itExpectedTime} == \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_affb68ca4f88019ca3b9aadbefe29d908}{m\_expectedTime}.end ();
1249   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (hasEnded, \textcolor{keyword}{true},
1250                          \textcolor{stringliteral}{"Reporting should have occurred at "} << 
      \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a49b9123d994ebabacb649491774d231d}{m\_itExpectedTime}->GetSeconds () << \textcolor{stringliteral}{"s"});
1251   hasEnded = \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_adf38952334ae0b1372acdc5004420a01}{m\_itExpectedRsrp} == \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a657edc6c75b0ebc54cebca3ba7bb166f}{m\_expectedRsrp}.end ();
1252   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (hasEnded);
1253 \}
\end{DoxyCode}
\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!Recv\+Measurement\+Report\+Callback@{Recv\+Measurement\+Report\+Callback}}
\index{Recv\+Measurement\+Report\+Callback@{Recv\+Measurement\+Report\+Callback}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Recv\+Measurement\+Report\+Callback(std\+::string context, uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id, uint16\+\_\+t rnti, Lte\+Rrc\+Sap\+::\+Measurement\+Report report)}{RecvMeasurementReportCallback(std::string context, uint64_t imsi, uint16_t cellId, uint16_t rnti, LteRrcSap::MeasurementReport report)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::\+Recv\+Measurement\+Report\+Callback (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{uint64\+\_\+t}]{imsi, }
\item[{uint16\+\_\+t}]{cell\+Id, }
\item[{uint16\+\_\+t}]{rnti, }
\item[{{\bf Lte\+Rrc\+Sap\+::\+Measurement\+Report}}]{report}
\end{DoxyParamCaption}
)}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_ab39f5db572c10fb73def61678fd38940}{}\label{classLteUeMeasurementsPiecewiseTestCase2_ab39f5db572c10fb73def61678fd38940}


Triggers when e\+NodeB receives measurement report from UE, then perform verification on it. 

The trigger is set up beforehand by connecting to the {\ttfamily Lte\+Ue\+Rrc\+::\+Recv\+Measurement\+Report} trace source.

Verification consists of checking whether the report carries the right value of R\+S\+RP or not, and whether it occurs at the expected time or not. 
\begin{DoxyCode}
1259 \{
1260   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << context);
1261   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (rnti == 1);
1262   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (cellId == 1);
1263 
1264   \textcolor{keywordflow}{if} (report.\hyperlink{structns3_1_1LteRrcSap_1_1MeasurementReport_a84a65ffec25d719fdcba03fb28ca5b86}{measResults}.\hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a1608bbea7e59da137c1b58d3bf55e907}{measId} == \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_af0d0ce23466c65b4ded17e0d8a5748bd}{m\_expectedMeasId})
1265     \{
1266       \textcolor{comment}{// verifying the report completeness}
1267       \hyperlink{structns3_1_1LteRrcSap_1_1MeasResults}{LteRrcSap::MeasResults} measResults = report.
      \hyperlink{structns3_1_1LteRrcSap_1_1MeasurementReport_a84a65ffec25d719fdcba03fb28ca5b86}{measResults};
1268       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Serving cellId="} << cellId
1269                          << \textcolor{stringliteral}{" rsrp="} << (uint16\_t) measResults.\hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a4d7bf8765525493fe5f5cccdbf94ab8b}{rsrpResult}
1270                          << \textcolor{stringliteral}{" ("} << EutranMeasurementMapping::RsrpRange2Dbm (measResults.
      \hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a4d7bf8765525493fe5f5cccdbf94ab8b}{rsrpResult}) << \textcolor{stringliteral}{" dBm)"}
1271                          << \textcolor{stringliteral}{" rsrq="} << (uint16\_t) measResults.\hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a6a64246cfa5d09eb42120890de3dca32}{rsrqResult}
1272                          << \textcolor{stringliteral}{" ("} << EutranMeasurementMapping::RsrqRange2Db (measResults.
      \hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a6a64246cfa5d09eb42120890de3dca32}{rsrqResult}) << \textcolor{stringliteral}{" dB)"});
1273 
1274       \textcolor{comment}{// verifying reported best cells}
1275       \textcolor{keywordflow}{if} (measResults.\hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a1fc2cdef154508dd522b46c71f854f03}{measResultListEutra}.size () == 0)
1276         \{
1277           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (measResults.
      \hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a1a102ebfb647fe85739933dcd2532736}{haveMeasResultNeighCells}, \textcolor{keyword}{false},
1278                                  \textcolor{stringliteral}{"Unexpected report content"});
1279         \}
1280       \textcolor{keywordflow}{else}
1281         \{
1282           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (measResults.
      \hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a1a102ebfb647fe85739933dcd2532736}{haveMeasResultNeighCells}, \textcolor{keyword}{true},
1283                                  \textcolor{stringliteral}{"Unexpected report content"});
1284           std::list<LteRrcSap::MeasResultEutra>::iterator it = measResults.
      \hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a1fc2cdef154508dd522b46c71f854f03}{measResultListEutra}.begin ();
1285           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (it != measResults.\hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a1fc2cdef154508dd522b46c71f854f03}{measResultListEutra}.end ());
1286           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (it->physCellId == 2);
1287           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->haveCgiInfo, \textcolor{keyword}{false},
1288                                  \textcolor{stringliteral}{"Report contains cgi-info, which is not supported"});
1289           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->haveRsrpResult, \textcolor{keyword}{true},
1290                                  \textcolor{stringliteral}{"Report does not contain measured RSRP result"});
1291           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (it->haveRsrqResult, \textcolor{keyword}{true},
1292                                  \textcolor{stringliteral}{"Report does not contain measured RSRQ result"});
1293           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Neighbour cellId="} << it->physCellId
1294                              << \textcolor{stringliteral}{" rsrp="} << (uint16\_t) it->rsrpResult
1295                              << \textcolor{stringliteral}{" ("} << EutranMeasurementMapping::RsrpRange2Dbm (it->rsrpResult) << \textcolor{stringliteral}{" dBm)"}
1296                              << \textcolor{stringliteral}{" rsrq="} << (uint16\_t) it->rsrqResult
1297                              << \textcolor{stringliteral}{" ("} << EutranMeasurementMapping::RsrqRange2Db (it->rsrqResult) << \textcolor{stringliteral}{" dB)"});
1298 
1299         \} \textcolor{comment}{// end of else of if (measResults.measResultListEutra.size () == 0)}
1300 
1301       \textcolor{comment}{// verifying the report timing}
1302       \textcolor{keywordtype}{bool} hasEnded = \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a49b9123d994ebabacb649491774d231d}{m\_itExpectedTime} == \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_affb68ca4f88019ca3b9aadbefe29d908}{m\_expectedTime}.end ();
1303       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (hasEnded, \textcolor{keyword}{false},
1304                              \textcolor{stringliteral}{"Reporting should not have occurred at "}
1305                              << \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{"s"});
1306       \textcolor{keywordflow}{if} (!hasEnded)
1307         \{
1308           hasEnded = \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_adf38952334ae0b1372acdc5004420a01}{m\_itExpectedRsrp} == \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a657edc6c75b0ebc54cebca3ba7bb166f}{m\_expectedRsrp}.end ();
1309           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (!hasEnded);
1310 
1311           \textcolor{comment}{// using milliseconds to avoid floating-point comparison}
1312           uint64\_t timeNowMs = \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_aba3428a8b6c4c8d9014ce44145081f34}{GetMilliSeconds} ();
1313           uint64\_t timeExpectedMs = \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a49b9123d994ebabacb649491774d231d}{m\_itExpectedTime}->GetMilliSeconds ();
1314           \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a49b9123d994ebabacb649491774d231d}{m\_itExpectedTime}++;
1315 
1316           uint16\_t observedRsrp = measResults.\hyperlink{structns3_1_1LteRrcSap_1_1MeasResults_a4d7bf8765525493fe5f5cccdbf94ab8b}{rsrpResult};
1317           uint16\_t referenceRsrp = *\hyperlink{classLteUeMeasurementsPiecewiseTestCase2_adf38952334ae0b1372acdc5004420a01}{m\_itExpectedRsrp};
1318           \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_adf38952334ae0b1372acdc5004420a01}{m\_itExpectedRsrp}++;
1319 
1320           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (timeNowMs, timeExpectedMs,
1321                                  \textcolor{stringliteral}{"Reporting should not have occurred at this time"});
1322           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (observedRsrp, referenceRsrp,
1323                                  \textcolor{stringliteral}{"The RSRP observed differs with the reference RSRP"});
1324 
1325         \} \textcolor{comment}{// end of if (!hasEnded)}
1326 
1327     \} \textcolor{comment}{// end of if (report.measResults.measId == m\_expectedMeasId)}
1328 
1329 \} \textcolor{comment}{// end of void LteUeMeasurementsPiecewiseTestCase2::RecvMeasurementReportCallback}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!Teleport\+Far@{Teleport\+Far}}
\index{Teleport\+Far@{Teleport\+Far}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Teleport\+Far()}{TeleportFar()}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::\+Teleport\+Far (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_aa07c9fc98cb14af186fcba52517d9275}{}\label{classLteUeMeasurementsPiecewiseTestCase2_aa07c9fc98cb14af186fcba52517d9275}

\begin{DoxyCode}
1347 \{
1348   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1349   \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a085c911b012df1a52dde2bb903ba56e3}{m\_ueMobility}->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (350.0, 0.0, 0.0));
1350 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!Teleport\+Near@{Teleport\+Near}}
\index{Teleport\+Near@{Teleport\+Near}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Teleport\+Near()}{TeleportNear()}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::\+Teleport\+Near (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_aba969894d5ee56960fd6d66518b8a906}{}\label{classLteUeMeasurementsPiecewiseTestCase2_aba969894d5ee56960fd6d66518b8a906}

\begin{DoxyCode}
1340 \{
1341   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1342   \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a085c911b012df1a52dde2bb903ba56e3}{m\_ueMobility}->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (250.0, 0.0, 0.0));
1343 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!Teleport\+Very\+Far@{Teleport\+Very\+Far}}
\index{Teleport\+Very\+Far@{Teleport\+Very\+Far}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Teleport\+Very\+Far()}{TeleportVeryFar()}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::\+Teleport\+Very\+Far (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_ab62f5e0226e38678f6e2b542f6b1eb5e}{}\label{classLteUeMeasurementsPiecewiseTestCase2_ab62f5e0226e38678f6e2b542f6b1eb5e}

\begin{DoxyCode}
1354 \{
1355   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1356   \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a085c911b012df1a52dde2bb903ba56e3}{m\_ueMobility}->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (550.0, 0.0, 0.0));
1357 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!Teleport\+Very\+Near@{Teleport\+Very\+Near}}
\index{Teleport\+Very\+Near@{Teleport\+Very\+Near}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Teleport\+Very\+Near()}{TeleportVeryNear()}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::\+Teleport\+Very\+Near (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_a582eec9b9dd60c08957083693fab1af9}{}\label{classLteUeMeasurementsPiecewiseTestCase2_a582eec9b9dd60c08957083693fab1af9}

\begin{DoxyCode}
1333 \{
1334   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1335   \hyperlink{classLteUeMeasurementsPiecewiseTestCase2_a085c911b012df1a52dde2bb903ba56e3}{m\_ueMobility}->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (50.0, 0.0, 0.0));
1336 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12




\subsection{Member Data Documentation}
\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!m\+\_\+config@{m\+\_\+config}}
\index{m\+\_\+config@{m\+\_\+config}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+config}{m_config}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Rrc\+Sap\+::\+Report\+Config\+Eutra} Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::m\+\_\+config\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_a90660b3f94d62547d30ea5d3eabebc80}{}\label{classLteUeMeasurementsPiecewiseTestCase2_a90660b3f94d62547d30ea5d3eabebc80}


The active report triggering configuration. 

\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!m\+\_\+expected\+Meas\+Id@{m\+\_\+expected\+Meas\+Id}}
\index{m\+\_\+expected\+Meas\+Id@{m\+\_\+expected\+Meas\+Id}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+expected\+Meas\+Id}{m_expectedMeasId}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::m\+\_\+expected\+Meas\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_af0d0ce23466c65b4ded17e0d8a5748bd}{}\label{classLteUeMeasurementsPiecewiseTestCase2_af0d0ce23466c65b4ded17e0d8a5748bd}


The measurement identity being tested. Measurement reports with different measurement identity (e.\+g. from handover algorithm) will be ignored. 

\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!m\+\_\+expected\+Rsrp@{m\+\_\+expected\+Rsrp}}
\index{m\+\_\+expected\+Rsrp@{m\+\_\+expected\+Rsrp}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+expected\+Rsrp}{m_expectedRsrp}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$uint8\+\_\+t$>$ Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::m\+\_\+expected\+Rsrp\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_a657edc6c75b0ebc54cebca3ba7bb166f}{}\label{classLteUeMeasurementsPiecewiseTestCase2_a657edc6c75b0ebc54cebca3ba7bb166f}


The list of expected values of R\+S\+RP (in 3\+G\+PP range unit) from the measurement reports received. 

\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!m\+\_\+expected\+Time@{m\+\_\+expected\+Time}}
\index{m\+\_\+expected\+Time@{m\+\_\+expected\+Time}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+expected\+Time}{m_expectedTime}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Time}$>$ Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::m\+\_\+expected\+Time\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_affb68ca4f88019ca3b9aadbefe29d908}{}\label{classLteUeMeasurementsPiecewiseTestCase2_affb68ca4f88019ca3b9aadbefe29d908}


The list of expected time when measurement reports are received by e\+NodeB. 

\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!m\+\_\+it\+Expected\+Rsrp@{m\+\_\+it\+Expected\+Rsrp}}
\index{m\+\_\+it\+Expected\+Rsrp@{m\+\_\+it\+Expected\+Rsrp}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+it\+Expected\+Rsrp}{m_itExpectedRsrp}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$uint8\+\_\+t$>$\+::iterator Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::m\+\_\+it\+Expected\+Rsrp\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_adf38952334ae0b1372acdc5004420a01}{}\label{classLteUeMeasurementsPiecewiseTestCase2_adf38952334ae0b1372acdc5004420a01}


Pointer to the element of {\ttfamily m\+\_\+expected\+Rsrp} which is expected to occur next in the simulation. 

\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!m\+\_\+it\+Expected\+Time@{m\+\_\+it\+Expected\+Time}}
\index{m\+\_\+it\+Expected\+Time@{m\+\_\+it\+Expected\+Time}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+it\+Expected\+Time}{m_itExpectedTime}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Time}$>$\+::iterator Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::m\+\_\+it\+Expected\+Time\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_a49b9123d994ebabacb649491774d231d}{}\label{classLteUeMeasurementsPiecewiseTestCase2_a49b9123d994ebabacb649491774d231d}


Pointer to the element of {\ttfamily m\+\_\+expected\+Time} which is expected to occur next in the simulation. 

\index{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}!m\+\_\+ue\+Mobility@{m\+\_\+ue\+Mobility}}
\index{m\+\_\+ue\+Mobility@{m\+\_\+ue\+Mobility}!Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2@{Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Mobility}{m_ueMobility}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Mobility\+Model}$>$ Lte\+Ue\+Measurements\+Piecewise\+Test\+Case2\+::m\+\_\+ue\+Mobility\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteUeMeasurementsPiecewiseTestCase2_a085c911b012df1a52dde2bb903ba56e3}{}\label{classLteUeMeasurementsPiecewiseTestCase2_a085c911b012df1a52dde2bb903ba56e3}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/test/\hyperlink{lte-test-ue-measurements_8h}{lte-\/test-\/ue-\/measurements.\+h}\item 
lte/test/\hyperlink{lte-test-ue-measurements_8cc}{lte-\/test-\/ue-\/measurements.\+cc}\end{DoxyCompactItemize}
