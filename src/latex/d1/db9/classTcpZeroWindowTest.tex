\hypertarget{classTcpZeroWindowTest}{}\section{Tcp\+Zero\+Window\+Test Class Reference}
\label{classTcpZeroWindowTest}\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}


Testing the congestion avoidance increment on T\+CP Zero\+Window.  




Inheritance diagram for Tcp\+Zero\+Window\+Test\+:
% FIG 0


Collaboration diagram for Tcp\+Zero\+Window\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTcpZeroWindowTest_aa59bd9ff03d3ed74df10fd796e823fa5}{Tcp\+Zero\+Window\+Test} (const std\+::string \&desc)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1TcpSocketMsgBase}{Tcp\+Socket\+Msg\+Base} $>$ \hyperlink{classTcpZeroWindowTest_a50c83ae2a30fae1f9fe9d9409daeea5e}{Create\+Receiver\+Socket} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node)
\begin{DoxyCompactList}\small\item\em Create and install the socket to install on the receiver. \end{DoxyCompactList}\item 
virtual void \hyperlink{classTcpZeroWindowTest_a8ae4bc8d2e49f2678978253d1821201f}{Tx} (const \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p}, const \hyperlink{classns3_1_1TcpHeader}{Tcp\+Header} \&h, \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6ee}{Socket\+Who} who)
\begin{DoxyCompactList}\small\item\em Packet transmitted down to IP layer. \end{DoxyCompactList}\item 
virtual void \hyperlink{classTcpZeroWindowTest_a6cfbd4a866da415fbb1f6e7e55a2fda3}{Rx} (const \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p}, const \hyperlink{classns3_1_1TcpHeader}{Tcp\+Header} \&h, \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6ee}{Socket\+Who} who)
\begin{DoxyCompactList}\small\item\em Packet received from IP layer. \end{DoxyCompactList}\item 
virtual void \hyperlink{classTcpZeroWindowTest_a7a204f4fce57938f52c87d3ea446d2e5}{Processed\+Ack} (const \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1TcpSocketState}{Tcp\+Socket\+State} $>$ tcb, const \hyperlink{classns3_1_1TcpHeader}{Tcp\+Header} \&h, \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6ee}{Socket\+Who} who)
\begin{DoxyCompactList}\small\item\em Processed ack. \end{DoxyCompactList}\item 
void \hyperlink{classTcpZeroWindowTest_ad90cb2d4119c58675d439c5420d67e1a}{Normal\+Close} (\hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6ee}{Socket\+Who} who)
\begin{DoxyCompactList}\small\item\em Socket closed normally. \end{DoxyCompactList}\item 
void \hyperlink{classTcpZeroWindowTest_a14cb644621314ffd24ceef333b6abe13}{Final\+Checks} ()
\begin{DoxyCompactList}\small\item\em Performs the (eventual) final checks through test asserts. \end{DoxyCompactList}\item 
virtual void \hyperlink{classTcpZeroWindowTest_ac5468dca75edd6211d8edb9e5104b405}{Configure\+Environment} ()
\begin{DoxyCompactList}\small\item\em Change the configuration of the evironment. \end{DoxyCompactList}\item 
virtual void \hyperlink{classTcpZeroWindowTest_a479fded52c00397a0262d7584d00fec9}{Configure\+Properties} ()
\begin{DoxyCompactList}\small\item\em Change the configuration of the socket properties. \end{DoxyCompactList}\item 
void \hyperlink{classTcpZeroWindowTest_a7e9e165eee9f680e1b0071ffc64a87af}{Increase\+Buf\+Size} ()
\begin{DoxyCompactList}\small\item\em Increase the receiver buffer size. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classTcpZeroWindowTest_abe00925a77cf14a65c1c9d77154ac0f6}{m\+\_\+receive\+Pkt\+Event}
\begin{DoxyCompactList}\small\item\em Receive packet event. \end{DoxyCompactList}\item 
bool \hyperlink{classTcpZeroWindowTest_aa34edd5e5e001d0ac86a213dfd4ab1ab}{m\+\_\+zero\+Window\+Probe}
\begin{DoxyCompactList}\small\item\em Zero\+Window probe. \end{DoxyCompactList}\item 
bool \hyperlink{classTcpZeroWindowTest_a29625fe07d920a3cb28a30e7f73ba500}{m\+\_\+window\+Updated}
\begin{DoxyCompactList}\small\item\em Window updated. \end{DoxyCompactList}\item 
bool \hyperlink{classTcpZeroWindowTest_a580deac0b590a79aae8eae4c5770d789}{m\+\_\+sender\+Finished}
\begin{DoxyCompactList}\small\item\em Send finished. \end{DoxyCompactList}\item 
bool \hyperlink{classTcpZeroWindowTest_a66d629347820b9ddc220cf8945a92aea}{m\+\_\+receiver\+Finished}
\begin{DoxyCompactList}\small\item\em Receiver finished. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Testing the congestion avoidance increment on T\+CP Zero\+Window. 

\subsection{Constructor \& Destructor Documentation}
\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{Tcp\+Zero\+Window\+Test(const std\+::string \&desc)}{TcpZeroWindowTest(const std::string &desc)}}]{\setlength{\rightskip}{0pt plus 5cm}Tcp\+Zero\+Window\+Test\+::\+Tcp\+Zero\+Window\+Test (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{desc}
\end{DoxyParamCaption}
)}\hypertarget{classTcpZeroWindowTest_aa59bd9ff03d3ed74df10fd796e823fa5}{}\label{classTcpZeroWindowTest_aa59bd9ff03d3ed74df10fd796e823fa5}


Constructor. 


\begin{DoxyParams}{Parameters}
{\em desc} & Test description. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
73   : \hyperlink{classns3_1_1TcpGeneralTest_aed700e733bc50b1e736cb52c0b71f3f8}{TcpGeneralTest} (desc),
74     \hyperlink{classTcpZeroWindowTest_aa34edd5e5e001d0ac86a213dfd4ab1ab}{m\_zeroWindowProbe} (\textcolor{keyword}{false}),
75     \hyperlink{classTcpZeroWindowTest_a29625fe07d920a3cb28a30e7f73ba500}{m\_windowUpdated} (\textcolor{keyword}{false}),
76     \hyperlink{classTcpZeroWindowTest_a580deac0b590a79aae8eae4c5770d789}{m\_senderFinished} (\textcolor{keyword}{false}),
77     \hyperlink{classTcpZeroWindowTest_a66d629347820b9ddc220cf8945a92aea}{m\_receiverFinished} (\textcolor{keyword}{false})
78 \{
79 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Configure\+Environment@{Configure\+Environment}}
\index{Configure\+Environment@{Configure\+Environment}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{Configure\+Environment()}{ConfigureEnvironment()}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Zero\+Window\+Test\+::\+Configure\+Environment (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classTcpZeroWindowTest_ac5468dca75edd6211d8edb9e5104b405}{}\label{classTcpZeroWindowTest_ac5468dca75edd6211d8edb9e5104b405}


Change the configuration of the evironment. 



Reimplemented from \hyperlink{classns3_1_1TcpGeneralTest_abd4e42807a8d2b13dcd207131af12c3b}{ns3\+::\+Tcp\+General\+Test}.


\begin{DoxyCode}
83 \{
84   TcpGeneralTest::ConfigureEnvironment ();
85   \hyperlink{classns3_1_1TcpGeneralTest_a256c8df5966f89ed0acfc966cd5d3898}{SetAppPktCount} (20);
86   \hyperlink{classns3_1_1TcpGeneralTest_a892d917a99ab3ce285e7ffec4eac743f}{SetMTU} (500);
87   \hyperlink{classns3_1_1TcpGeneralTest_af8d94d931bd7377ff0267a7ce1edc74d}{SetTransmitStart} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.0));
88   \hyperlink{classns3_1_1TcpGeneralTest_a167056795264e377b425cdac2441b263}{SetPropagationDelay} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (50));
89 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Configure\+Properties@{Configure\+Properties}}
\index{Configure\+Properties@{Configure\+Properties}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{Configure\+Properties()}{ConfigureProperties()}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Zero\+Window\+Test\+::\+Configure\+Properties (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classTcpZeroWindowTest_a479fded52c00397a0262d7584d00fec9}{}\label{classTcpZeroWindowTest_a479fded52c00397a0262d7584d00fec9}


Change the configuration of the socket properties. 



Reimplemented from \hyperlink{classns3_1_1TcpGeneralTest_a48b3f15add5cb4b3a9906bd5240e64be}{ns3\+::\+Tcp\+General\+Test}.


\begin{DoxyCode}
93 \{
94   TcpGeneralTest::ConfigureProperties ();
95   \hyperlink{classns3_1_1TcpGeneralTest_a5a238ea27ee528f984f834e84bfe6e97}{SetInitialCwnd} (\hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea5400e3d6b26928cf9e67ebb026462256}{SENDER}, 10);
96 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Create\+Receiver\+Socket@{Create\+Receiver\+Socket}}
\index{Create\+Receiver\+Socket@{Create\+Receiver\+Socket}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{Create\+Receiver\+Socket(\+Ptr$<$ Node $>$ node)}{CreateReceiverSocket(Ptr< Node > node)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Tcp\+Socket\+Msg\+Base} $>$ Tcp\+Zero\+Window\+Test\+::\+Create\+Receiver\+Socket (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classTcpZeroWindowTest_a50c83ae2a30fae1f9fe9d9409daeea5e}{}\label{classTcpZeroWindowTest_a50c83ae2a30fae1f9fe9d9409daeea5e}


Create and install the socket to install on the receiver. 


\begin{DoxyParams}{Parameters}
{\em node} & receiver node pointer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the socket to be installed in the receiver 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1TcpGeneralTest_a5f2bfe5673d80704ec6608badf7c1c6e}{ns3\+::\+Tcp\+General\+Test}.


\begin{DoxyCode}
106 \{
107   \hyperlink{classns3_1_1Ptr}{Ptr<TcpSocketMsgBase>} socket = TcpGeneralTest::CreateReceiverSocket (node);
108 
109   socket->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"RcvBufSize"}, UintegerValue (0));
110   Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0),
111                        &\hyperlink{classTcpZeroWindowTest_a7e9e165eee9f680e1b0071ffc64a87af}{TcpZeroWindowTest::IncreaseBufSize}, \textcolor{keyword}{this});
112 
113   \textcolor{keywordflow}{return} socket;
114 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Final\+Checks@{Final\+Checks}}
\index{Final\+Checks@{Final\+Checks}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{Final\+Checks()}{FinalChecks()}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Zero\+Window\+Test\+::\+Final\+Checks (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classTcpZeroWindowTest_a14cb644621314ffd24ceef333b6abe13}{}\label{classTcpZeroWindowTest_a14cb644621314ffd24ceef333b6abe13}


Performs the (eventual) final checks through test asserts. 



Reimplemented from \hyperlink{classns3_1_1TcpGeneralTest_ada871cedd37de404288f163b6f8dea39}{ns3\+::\+Tcp\+General\+Test}.


\begin{DoxyCode}
225 \{
226   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classTcpZeroWindowTest_aa34edd5e5e001d0ac86a213dfd4ab1ab}{m\_zeroWindowProbe}, \textcolor{keyword}{true},
227                          \textcolor{stringliteral}{"Zero window probe not sent"});
228   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classTcpZeroWindowTest_a29625fe07d920a3cb28a30e7f73ba500}{m\_windowUpdated}, \textcolor{keyword}{true},
229                          \textcolor{stringliteral}{"Window has not updated during the connection"});
230   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classTcpZeroWindowTest_a580deac0b590a79aae8eae4c5770d789}{m\_senderFinished}, \textcolor{keyword}{true},
231                          \textcolor{stringliteral}{"Connection not closed successfully (SENDER)"});
232   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classTcpZeroWindowTest_a66d629347820b9ddc220cf8945a92aea}{m\_receiverFinished}, \textcolor{keyword}{true},
233                          \textcolor{stringliteral}{"Connection not closed successfully (RECEIVER)"});
234 \}
\end{DoxyCode}
\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Increase\+Buf\+Size@{Increase\+Buf\+Size}}
\index{Increase\+Buf\+Size@{Increase\+Buf\+Size}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{Increase\+Buf\+Size()}{IncreaseBufSize()}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Zero\+Window\+Test\+::\+Increase\+Buf\+Size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classTcpZeroWindowTest_a7e9e165eee9f680e1b0071ffc64a87af}{}\label{classTcpZeroWindowTest_a7e9e165eee9f680e1b0071ffc64a87af}


Increase the receiver buffer size. 


\begin{DoxyCode}
100 \{
101   \hyperlink{classns3_1_1TcpGeneralTest_a41a9e5ce0eab2c080fd501f6f246b9ee}{SetRcvBufSize} (\hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea2a9a39a8fe1edd25b643a48956b8ecff}{RECEIVER}, 2500);
102 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Normal\+Close@{Normal\+Close}}
\index{Normal\+Close@{Normal\+Close}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{Normal\+Close(\+Socket\+Who who)}{NormalClose(SocketWho who)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Zero\+Window\+Test\+::\+Normal\+Close (
\begin{DoxyParamCaption}
\item[{{\bf Socket\+Who}}]{who}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classTcpZeroWindowTest_ad90cb2d4119c58675d439c5420d67e1a}{}\label{classTcpZeroWindowTest_ad90cb2d4119c58675d439c5420d67e1a}


Socket closed normally. 


\begin{DoxyParams}{Parameters}
{\em who} & the socket closed (S\+E\+N\+D\+ER or R\+E\+C\+E\+I\+V\+ER) \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1TcpGeneralTest_a38d972b53fbdb443df17121b9a6a31b3}{ns3\+::\+Tcp\+General\+Test}.


\begin{DoxyCode}
212 \{
213   \textcolor{keywordflow}{if} (who == \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea5400e3d6b26928cf9e67ebb026462256}{SENDER})
214     \{
215       \hyperlink{classTcpZeroWindowTest_a580deac0b590a79aae8eae4c5770d789}{m\_senderFinished} = \textcolor{keyword}{true};
216     \}
217   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (who == \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea2a9a39a8fe1edd25b643a48956b8ecff}{RECEIVER})
218     \{
219       \hyperlink{classTcpZeroWindowTest_a66d629347820b9ddc220cf8945a92aea}{m\_receiverFinished} = \textcolor{keyword}{true};
220     \}
221 \}
\end{DoxyCode}
\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Processed\+Ack@{Processed\+Ack}}
\index{Processed\+Ack@{Processed\+Ack}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{Processed\+Ack(const Ptr$<$ const Tcp\+Socket\+State $>$ tcb, const Tcp\+Header \&h, Socket\+Who who)}{ProcessedAck(const Ptr< const TcpSocketState > tcb, const TcpHeader &h, SocketWho who)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Zero\+Window\+Test\+::\+Processed\+Ack (
\begin{DoxyParamCaption}
\item[{const {\bf Ptr}$<$ const {\bf Tcp\+Socket\+State} $>$}]{tcb, }
\item[{const {\bf Tcp\+Header} \&}]{h, }
\item[{{\bf Socket\+Who}}]{who}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classTcpZeroWindowTest_a7a204f4fce57938f52c87d3ea446d2e5}{}\label{classTcpZeroWindowTest_a7a204f4fce57938f52c87d3ea446d2e5}


Processed ack. 

Invoked after the processing of the A\+CK


\begin{DoxyParams}{Parameters}
{\em tcb} & Transmission Control Block \\
\hline
{\em h} & the header of segment \\
\hline
{\em who} & the socket which has processed the A\+CK (S\+E\+N\+D\+ER or R\+E\+C\+E\+I\+V\+ER) \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1TcpGeneralTest_aaf6040114684686637a68e26a736f63d}{ns3\+::\+Tcp\+General\+Test}.


\begin{DoxyCode}
239 \{
240   \textcolor{keywordflow}{if} (who == \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea5400e3d6b26928cf9e67ebb026462256}{SENDER})
241     \{
242       \textcolor{keywordflow}{if} (h.\hyperlink{classns3_1_1TcpHeader_a0d04c5620ee147d4e01d56b9530e8db1}{GetFlags} () & TcpHeader::SYN)
243         \{
244           \hyperlink{classns3_1_1EventId}{EventId} persistentEvent = \hyperlink{classns3_1_1TcpGeneralTest_a506c827969e3cafacb668145de706751}{GetPersistentEvent} (
      \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea5400e3d6b26928cf9e67ebb026462256}{SENDER});
245           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (persistentEvent.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} (), \textcolor{keyword}{true},
246                                  \textcolor{stringliteral}{"Persistent event not started"});
247         \}
248     \}
249   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (who == \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea2a9a39a8fe1edd25b643a48956b8ecff}{RECEIVER})
250     \{
251 
252     \}
253 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Rx@{Rx}}
\index{Rx@{Rx}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{Rx(const Ptr$<$ const Packet $>$ p, const Tcp\+Header \&h, Socket\+Who who)}{Rx(const Ptr< const Packet > p, const TcpHeader &h, SocketWho who)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Zero\+Window\+Test\+::\+Rx (
\begin{DoxyParamCaption}
\item[{const {\bf Ptr}$<$ const {\bf Packet} $>$}]{p, }
\item[{const {\bf Tcp\+Header} \&}]{h, }
\item[{{\bf Socket\+Who}}]{who}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classTcpZeroWindowTest_a6cfbd4a866da415fbb1f6e7e55a2fda3}{}\label{classTcpZeroWindowTest_a6cfbd4a866da415fbb1f6e7e55a2fda3}


Packet received from IP layer. 


\begin{DoxyParams}{Parameters}
{\em p} & packet \\
\hline
{\em h} & header \\
\hline
{\em who} & the socket which has received the packet (S\+E\+N\+D\+ER or R\+E\+C\+E\+I\+V\+ER) \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1TcpGeneralTest_ab4744fb3cbeb09405e2debc943c01c3a}{ns3\+::\+Tcp\+General\+Test}.


\begin{DoxyCode}
186 \{
187   \textcolor{keywordflow}{if} (who == \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea5400e3d6b26928cf9e67ebb026462256}{SENDER})
188     \{
189       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tSENDER RX "} << h << \textcolor{stringliteral}{" size "} << p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
190 
191       \textcolor{keywordflow}{if} (h.\hyperlink{classns3_1_1TcpHeader_a0d04c5620ee147d4e01d56b9530e8db1}{GetFlags} () & TcpHeader::SYN)
192         \{
193           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (h.\hyperlink{classns3_1_1TcpHeader_aa6adcd54e5b13941acdf6328cecc9b29}{GetWindowSize} (), 0,
194                                  \textcolor{stringliteral}{"RECEIVER window size is not 0 in the SYN-ACK"});
195         \}
196 
197       \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () >= 10.0)
198         \{
199           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (h.\hyperlink{classns3_1_1TcpHeader_aa6adcd54e5b13941acdf6328cecc9b29}{GetWindowSize} (), 2500,
200                                  \textcolor{stringliteral}{"Receiver window not updated"});
201           \hyperlink{classTcpZeroWindowTest_a29625fe07d920a3cb28a30e7f73ba500}{m\_windowUpdated} = \textcolor{keyword}{true};
202         \}
203     \}
204   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (who == \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea2a9a39a8fe1edd25b643a48956b8ecff}{RECEIVER})
205     \{
206       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tRECEIVER RX "} << h << \textcolor{stringliteral}{" size "} << p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
207     \}
208 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!Tx@{Tx}}
\index{Tx@{Tx}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{Tx(const Ptr$<$ const Packet $>$ p, const Tcp\+Header \&h, Socket\+Who who)}{Tx(const Ptr< const Packet > p, const TcpHeader &h, SocketWho who)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Zero\+Window\+Test\+::\+Tx (
\begin{DoxyParamCaption}
\item[{const {\bf Ptr}$<$ const {\bf Packet} $>$}]{p, }
\item[{const {\bf Tcp\+Header} \&}]{h, }
\item[{{\bf Socket\+Who}}]{who}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classTcpZeroWindowTest_a8ae4bc8d2e49f2678978253d1821201f}{}\label{classTcpZeroWindowTest_a8ae4bc8d2e49f2678978253d1821201f}


Packet transmitted down to IP layer. 


\begin{DoxyParams}{Parameters}
{\em p} & packet \\
\hline
{\em h} & header \\
\hline
{\em who} & the socket which has received the packet (S\+E\+N\+D\+ER or R\+E\+C\+E\+I\+V\+ER) \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1TcpGeneralTest_ae3ae1d4a08bd0337cf66ef34d4771d89}{ns3\+::\+Tcp\+General\+Test}.


\begin{DoxyCode}
118 \{
119   \textcolor{keywordflow}{if} (who == \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea5400e3d6b26928cf9e67ebb026462256}{SENDER})
120     \{
121       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tSENDER TX "} << h << \textcolor{stringliteral}{" size "} << p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
122 
123       \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () <= 6.0)
124         \{
125           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 0,
126                                  \textcolor{stringliteral}{"Data packet sent anyway"});
127         \}
128       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () > 6.0
129                && \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () <= 7.0)
130         \{
131           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classTcpZeroWindowTest_aa34edd5e5e001d0ac86a213dfd4ab1ab}{m\_zeroWindowProbe}, \textcolor{keyword}{false}, \textcolor{stringliteral}{"Sent
       another probe"});
132 
133           \textcolor{keywordflow}{if} (!\hyperlink{classTcpZeroWindowTest_aa34edd5e5e001d0ac86a213dfd4ab1ab}{m\_zeroWindowProbe})
134             \{
135               \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 1,
136                                      \textcolor{stringliteral}{"Data packet sent instead of window probe"});
137               \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (h.\hyperlink{classns3_1_1TcpHeader_a1081077eaf9bc64e9af909cebd128ae5}{GetSequenceNumber} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (1),
138                                      \textcolor{stringliteral}{"Data packet sent instead of window probe"});
139               \hyperlink{classTcpZeroWindowTest_aa34edd5e5e001d0ac86a213dfd4ab1ab}{m\_zeroWindowProbe} = \textcolor{keyword}{true};
140             \}
141         \}
142       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () > 7.0
143                && \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () < 10.0)
144         \{
145           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No packets should be sent before the window update"});
146         \}
147     \}
148   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (who == \hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea2a9a39a8fe1edd25b643a48956b8ecff}{RECEIVER})
149     \{
150       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tRECEIVER TX "} << h << \textcolor{stringliteral}{" size "} << p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
151 
152       \textcolor{keywordflow}{if} (h.\hyperlink{classns3_1_1TcpHeader_a0d04c5620ee147d4e01d56b9530e8db1}{GetFlags} () & TcpHeader::SYN)
153         \{
154           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (h.\hyperlink{classns3_1_1TcpHeader_aa6adcd54e5b13941acdf6328cecc9b29}{GetWindowSize} (), 0,
155                                  \textcolor{stringliteral}{"RECEIVER window size is not 0 in the SYN-ACK"});
156         \}
157 
158       \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () > 6.0
159           && \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () <= 7.0)
160         \{
161           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (h.\hyperlink{classns3_1_1TcpHeader_a1081077eaf9bc64e9af909cebd128ae5}{GetSequenceNumber} (), 
      \hyperlink{group__network_gacb2070e4e98d2d5135c9bede58f07a03}{SequenceNumber32} (1),
162                                  \textcolor{stringliteral}{"Data packet sent instead of window probe"});
163           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (h.\hyperlink{classns3_1_1TcpHeader_aa6adcd54e5b13941acdf6328cecc9b29}{GetWindowSize} (), 0,
164                                  \textcolor{stringliteral}{"No zero window advertised by RECEIVER"});
165         \}
166       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () > 7.0
167                && \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () < 10.0)
168         \{
169           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No packets should be sent before the window update"});
170         \}
171       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ().GetSeconds () >= 10.0)
172         \{
173           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (h.\hyperlink{classns3_1_1TcpHeader_aa6adcd54e5b13941acdf6328cecc9b29}{GetWindowSize} (), 2500,
174                                  \textcolor{stringliteral}{"Receiver window not updated"});
175         \}
176     \}
177 
178   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{group__internet-test_ga754ba534fba0aeb1e923326d7c49a7d3}{GetCongStateFrom} (
      \hyperlink{classns3_1_1TcpGeneralTest_a41500a9bdc54361db731c0538bd822fd}{GetTcb} (\hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea5400e3d6b26928cf9e67ebb026462256}{SENDER})), TcpSocketState::CA\_OPEN,
179                          \textcolor{stringliteral}{"Sender State is not OPEN"});
180   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{group__internet-test_ga754ba534fba0aeb1e923326d7c49a7d3}{GetCongStateFrom} (
      \hyperlink{classns3_1_1TcpGeneralTest_a41500a9bdc54361db731c0538bd822fd}{GetTcb} (\hyperlink{classns3_1_1TcpGeneralTest_a29338e6b7137cad650c2ff835713f6eea2a9a39a8fe1edd25b643a48956b8ecff}{RECEIVER})), TcpSocketState::CA\_OPEN,
181                          \textcolor{stringliteral}{"Receiver State is not OPEN"});
182 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




\subsection{Member Data Documentation}
\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!m\+\_\+receive\+Pkt\+Event@{m\+\_\+receive\+Pkt\+Event}}
\index{m\+\_\+receive\+Pkt\+Event@{m\+\_\+receive\+Pkt\+Event}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+receive\+Pkt\+Event}{m_receivePktEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} Tcp\+Zero\+Window\+Test\+::m\+\_\+receive\+Pkt\+Event\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classTcpZeroWindowTest_abe00925a77cf14a65c1c9d77154ac0f6}{}\label{classTcpZeroWindowTest_abe00925a77cf14a65c1c9d77154ac0f6}


Receive packet event. 

\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!m\+\_\+receiver\+Finished@{m\+\_\+receiver\+Finished}}
\index{m\+\_\+receiver\+Finished@{m\+\_\+receiver\+Finished}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+receiver\+Finished}{m_receiverFinished}}]{\setlength{\rightskip}{0pt plus 5cm}bool Tcp\+Zero\+Window\+Test\+::m\+\_\+receiver\+Finished\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classTcpZeroWindowTest_a66d629347820b9ddc220cf8945a92aea}{}\label{classTcpZeroWindowTest_a66d629347820b9ddc220cf8945a92aea}


Receiver finished. 

\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!m\+\_\+sender\+Finished@{m\+\_\+sender\+Finished}}
\index{m\+\_\+sender\+Finished@{m\+\_\+sender\+Finished}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+sender\+Finished}{m_senderFinished}}]{\setlength{\rightskip}{0pt plus 5cm}bool Tcp\+Zero\+Window\+Test\+::m\+\_\+sender\+Finished\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classTcpZeroWindowTest_a580deac0b590a79aae8eae4c5770d789}{}\label{classTcpZeroWindowTest_a580deac0b590a79aae8eae4c5770d789}


Send finished. 

\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!m\+\_\+window\+Updated@{m\+\_\+window\+Updated}}
\index{m\+\_\+window\+Updated@{m\+\_\+window\+Updated}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+window\+Updated}{m_windowUpdated}}]{\setlength{\rightskip}{0pt plus 5cm}bool Tcp\+Zero\+Window\+Test\+::m\+\_\+window\+Updated\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classTcpZeroWindowTest_a29625fe07d920a3cb28a30e7f73ba500}{}\label{classTcpZeroWindowTest_a29625fe07d920a3cb28a30e7f73ba500}


Window updated. 

\index{Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}!m\+\_\+zero\+Window\+Probe@{m\+\_\+zero\+Window\+Probe}}
\index{m\+\_\+zero\+Window\+Probe@{m\+\_\+zero\+Window\+Probe}!Tcp\+Zero\+Window\+Test@{Tcp\+Zero\+Window\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+zero\+Window\+Probe}{m_zeroWindowProbe}}]{\setlength{\rightskip}{0pt plus 5cm}bool Tcp\+Zero\+Window\+Test\+::m\+\_\+zero\+Window\+Probe\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classTcpZeroWindowTest_aa34edd5e5e001d0ac86a213dfd4ab1ab}{}\label{classTcpZeroWindowTest_aa34edd5e5e001d0ac86a213dfd4ab1ab}


Zero\+Window probe. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{tcp-zero-window-test_8cc}{tcp-\/zero-\/window-\/test.\+cc}\end{DoxyCompactItemize}
