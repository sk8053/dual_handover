\hypertarget{hash-example_8cc}{}\section{core/examples/hash-\/example.cc File Reference}
\label{hash-example_8cc}\index{core/examples/hash-\/example.\+cc@{core/examples/hash-\/example.\+cc}}
{\ttfamily \#include $<$algorithm$>$}\\*
{\ttfamily \#include $<$climits$>$}\\*
{\ttfamily \#include $<$fstream$>$}\\*
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$iomanip$>$}\\*
{\ttfamily \#include $<$map$>$}\\*
{\ttfamily \#include $<$vector$>$}\\*
{\ttfamily \#include \char`\"{}ns3/core-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/hash.\+h\char`\"{}}\\*
Include dependency graph for hash-\/example.cc\+:
% FIG 0
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1Hash_1_1Example_1_1Collider}{ns3\+::\+Hash\+::\+Example\+::\+Collider}
\item 
class \hyperlink{classns3_1_1Hash_1_1Example_1_1Dictionary}{ns3\+::\+Hash\+::\+Example\+::\+Dictionary}
\item 
class \hyperlink{classns3_1_1Hash_1_1Example_1_1DictFiles}{ns3\+::\+Hash\+::\+Example\+::\+Dict\+Files}
\end{DoxyCompactItemize}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespacens3}{ns3}
\begin{DoxyCompactList}\small\item\em Here are defined all data structures needed by an O\+L\+SR node. \end{DoxyCompactList}\item 
 \hyperlink{namespacens3_1_1Hash}{ns3\+::\+Hash}
\item 
 \hyperlink{namespacens3_1_1Hash_1_1Example}{ns3\+::\+Hash\+::\+Example}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespacens3_a836449775bd07dc59d2e85e7d47fd2e2}{ns3\+::\+N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE} (\char`\"{}Hasher\char`\"{})
\item 
int \hyperlink{hash-example_8cc_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Example usage of \hyperlink{namespacens3_1_1Hash}{ns3\+::\+Hash}.

This example reads words from a list of files, creates a dictionary mapping words to hash values, reports collisions, and measures the execution time of the hash function implementations.

See \hyperlink{group__hash}{Hash Functions}

Example Output\+: \begin{DoxyVerb}./waf --run="hasher-example --time \
  --dict=/usr/share/dict/web2 \
  --dict=/usr/share/dict/web2a \
  --dict=/usr/share/dict/propernames \
  --dict=/usr/share/dict/connectives"

Waf: Entering directory `build'
Waf: Leaving directory `build'
'build' finished successfully (3.028s)

Hasher
Hashing the dictionaries
Dictionary file: /usr/share/dict/web2
Dictionary file: /usr/share/dict/web2a
Dictionary file: /usr/share/dict/propernames
Dictionary file: /usr/share/dict/connectives

Number of words or phrases: 312094
Expected number of collisions: (32-bit table) 11.3389
Expected number of collisions: (64-bit table) 2.6401e-09

FNV1a (32-bit version): 13 collisions:
a75b0ae7  elephantlike        interventralia
091c4808  diversionary        propenseness
172be6ba  bairnishness        sora
e6cb5099  purifier            spongoblastic
4a841078  ameliorable         unsmotherable
6ed21de2  brand-newness       peripherial
22acb19b  Petrarchism         dewy-pinioned
5723634a  grain gold          hyphenation
f58026c1  seven-channeled     turritella
946fc6ec  multiradiate        sister block
88625851  brachtmema          ule tree
dc28b5ea  Un-lutheran         gutturotetany
9255bf44  re-sorter           working stress

FNV1a (64-bit version): 0 collisions:

Murmur3 (32-bit version): 11 collisions:
5ea83eee  impalace            metahewettite
e06fbdde  constancy           oligosynthetic
2a713795  hypermonosyllable   presatisfaction
c8bf0ef9  Hadromerina         starky
d9c04b3d  Accipiter           syllable
c0da8f81  seriation           trigonon
17612b26  daemon              unerring
c2349ad7  air spring          iron
1d91386f  nine-pounder        semicrescentic
fe17b1a5  cone speaker        oblong-wedgeshaped
faa12798  saw bearing         wilting point

Murmur3 (64-bit version): 0 collisions:

Hash timing                        Phrases      Reps     Ticks     ns/hash
FNV1a (32-bit version)              312094       100   3140531     100.628
FNV1a (64-bit version)              312094       100   3145240     100.779
Murmur3 (32-bit version)            312094       100   4152139     133.041
Murmur3 (64-bit version)            312094       100   4191464     134.301\end{DoxyVerb}
 

\subsection{Function Documentation}
\index{hash-\/example.\+cc@{hash-\/example.\+cc}!main@{main}}
\index{main@{main}!hash-\/example.\+cc@{hash-\/example.\+cc}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$argv[])}{main(int argc, char *argv[])}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{hash-example_8cc_a0ddf1224851353fc92bfbff6f499fa97}{}\label{hash-example_8cc_a0ddf1224851353fc92bfbff6f499fa97}

\begin{DoxyCode}
541 \{
542   std::cout << std::endl;
543   std::cout << \textcolor{stringliteral}{"Hasher"} << std::endl;
544 
545   \textcolor{keywordtype}{bool} timing = \textcolor{keyword}{false};
546   \hyperlink{classns3_1_1Hash_1_1Example_1_1DictFiles}{DictFiles} files;
547 
548   \hyperlink{classns3_1_1CommandLine}{CommandLine} cmd;
549   cmd.\hyperlink{classns3_1_1CommandLine_a9db9facadd99f6dfe78e39e22d5db3c0}{Usage} (\textcolor{stringliteral}{"Find hash collisions in the dictionary."});
550   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"dict"}, \textcolor{stringliteral}{"Dictionary file to hash"},
551                 \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback}(&DictFiles::Add,
552                              &files));
553   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"time"}, \textcolor{stringliteral}{"Run timing test"}, timing);
554   cmd.\hyperlink{classns3_1_1CommandLine_a5c10b85b3207e5ecb48d907966923156}{Parse} (argc, argv);
555 
556   \hyperlink{classns3_1_1Hash_1_1Example_1_1Dictionary}{Dictionary} dict;
557   dict.\hyperlink{classns3_1_1Hash_1_1Example_1_1Dictionary_a091918961277b192b334cd5241f1c660}{Add} ( \hyperlink{classns3_1_1Hash_1_1Example_1_1Collider}{Collider} (\textcolor{stringliteral}{"FNV1a"},
558                        \hyperlink{classns3_1_1Hasher}{Hasher} ( Create<Hash::Function::Fnv1a> () ),
559                        Collider::Bits32));
560   dict.\hyperlink{classns3_1_1Hash_1_1Example_1_1Dictionary_a091918961277b192b334cd5241f1c660}{Add} ( \hyperlink{classns3_1_1Hash_1_1Example_1_1Collider}{Collider} (\textcolor{stringliteral}{"FNV1a"},
561                        \hyperlink{classns3_1_1Hasher}{Hasher} ( Create<Hash::Function::Fnv1a> () ),
562                        Collider::Bits64));
563 
564   dict.\hyperlink{classns3_1_1Hash_1_1Example_1_1Dictionary_a091918961277b192b334cd5241f1c660}{Add} ( \hyperlink{classns3_1_1Hash_1_1Example_1_1Collider}{Collider} (\textcolor{stringliteral}{"Murmur3"},
565                        \hyperlink{classns3_1_1Hasher}{Hasher} ( Create<Hash::Function::Murmur3> () ),
566                        Collider::Bits32));
567   dict.\hyperlink{classns3_1_1Hash_1_1Example_1_1Dictionary_a091918961277b192b334cd5241f1c660}{Add} ( \hyperlink{classns3_1_1Hash_1_1Example_1_1Collider}{Collider} (\textcolor{stringliteral}{"Murmur3"},
568                        \hyperlink{classns3_1_1Hasher}{Hasher} ( Create<Hash::Function::Murmur3> () ),
569                        Collider::Bits64));
570   
571   files.\hyperlink{classns3_1_1Hash_1_1Example_1_1DictFiles_a59e6e06d279091c6163ba0282d25b778}{ReadInto} (dict);
572   
573   dict.\hyperlink{classns3_1_1Hash_1_1Example_1_1Dictionary_aabb6449a0507d883d7c786b03d5d07d8}{Report} ();
574   
575   \textcolor{keywordflow}{if} (timing)
576     \{
577       dict.\hyperlink{classns3_1_1Hash_1_1Example_1_1Dictionary_ae863340110d978b98e6608c15cf01d09}{Time} ();
578     \}  \textcolor{comment}{// if (timing)}
579 
580 
581 \}  \textcolor{comment}{// main}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1


