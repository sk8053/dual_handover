\hypertarget{classns3_1_1ApWifiMac}{}\section{ns3\+:\+:Ap\+Wifi\+Mac Class Reference}
\label{classns3_1_1ApWifiMac}\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}


Wi-\/\+Fi AP state machine

Handle association, dis-\/association and authentication, of S\+T\+As within an infrastructure B\+SS.  




{\ttfamily \#include $<$ap-\/wifi-\/mac.\+h$>$}



Inheritance diagram for ns3\+:\+:Ap\+Wifi\+Mac\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Ap\+Wifi\+Mac\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1ApWifiMac_a6fda79b577eb79eaabceb05a36e27b44}{Ap\+Wifi\+Mac} ()
\item 
virtual \hyperlink{classns3_1_1ApWifiMac_a3df10fd221c6bb1ed3f64de34ec79074}{$\sim$\+Ap\+Wifi\+Mac} ()
\item 
void \hyperlink{classns3_1_1ApWifiMac_ae3c3d4faab6d3a50f7a776cc493a5465}{Set\+Wifi\+Remote\+Station\+Manager} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} $>$ station\+Manager)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a81ca5583755bed83abd5e011be755cd4}{Set\+Link\+Up\+Callback} (\hyperlink{classns3_1_1Callback}{Callback}$<$ void $>$ link\+Up)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a0675813a47439c500d3c7770301d1ad6}{Enqueue} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a794a21315279c5b464be5af21f3352cb}{Enqueue} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from})
\item 
bool \hyperlink{classns3_1_1ApWifiMac_ad2adbeff7d0d13c68c88757da68e6478}{Supports\+Send\+From} (void) const 
\item 
void \hyperlink{classns3_1_1ApWifiMac_aafe8da38f3bff4de51d264e1a193a1f2}{Set\+Address} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} address)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a164d67e99b6afd7cdf95c1ec5a5b40e4}{Set\+Beacon\+Interval} (\hyperlink{classns3_1_1Time}{Time} interval)
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1ApWifiMac_adaa4b445c0b2a4afa016dd4df1b4b4eb}{Get\+Beacon\+Interval} (void) const 
\item 
void \hyperlink{classns3_1_1ApWifiMac_ae26ad921c3064d5e174c27860c41dfdd}{Start\+Beaconing} (void)
\item 
bool \hyperlink{classns3_1_1ApWifiMac_abc972d9a628f6b50b27a05b1e464bbcd}{Get\+Short\+Slot\+Time\+Enabled} (void) const 
\item 
bool \hyperlink{classns3_1_1ApWifiMac_a19ae41add0c00c244c7a66adf523b445}{Get\+Short\+Preamble\+Enabled} (void) const 
\item 
bool \hyperlink{classns3_1_1ApWifiMac_a402b8852eba84458667b666df75b589f}{Is\+Non\+Gf\+Ht\+Stas\+Present} (void) const 
\item 
uint8\+\_\+t \hyperlink{classns3_1_1ApWifiMac_abec5a8ca80c9649d59eeaf37eb091bd1}{Get\+Vht\+Operational\+Channel\+Width} (void) const 
\item 
int64\+\_\+t \hyperlink{classns3_1_1ApWifiMac_aab3410af41c0477ddaf60bc3f6659de9}{Assign\+Streams} (int64\+\_\+t stream)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1ApWifiMac_aa7cd3c1ec15889267ab5b5e183b91d2b}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1ApWifiMac_ab7e832f29bf91319e3ecdf0de7d5d598}{Receive} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a42c321554bcf340cf7d3da46ad95b836}{Tx\+Ok} (const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&hdr)
\item 
void \hyperlink{classns3_1_1ApWifiMac_aecabca257eb2b43205eeefd63d09de95}{Tx\+Failed} (const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&hdr)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a1eb0f6a5911786e99fc0b58fd2a0e356}{Deaggregate\+Amsdu\+And\+Forward} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ aggregated\+Packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a407bd4754f3f401eb6c5b4a4fe622250}{Forward\+Down} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from}, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to)
\item 
void \hyperlink{classns3_1_1ApWifiMac_abcc518337b1ccf6ebd983bc36a004bb4}{Forward\+Down} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from}, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, uint8\+\_\+t tid)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a0a9fcbd87326c5c56644deb3504038df}{Send\+Probe\+Resp} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a0a36426da94f43b0a9136adf4e58f425}{Send\+Assoc\+Resp} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, bool success)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a6c8cbc0fc95f3eaf4840d4ffcf78fac5}{Send\+One\+Beacon} (void)
\item 
\hyperlink{classns3_1_1CapabilityInformation}{Capability\+Information} \hyperlink{classns3_1_1ApWifiMac_a5794cfc6ec6c72f335b36f302a83178a}{Get\+Capabilities} (void) const 
\item 
\hyperlink{classns3_1_1ErpInformation}{Erp\+Information} \hyperlink{classns3_1_1ApWifiMac_ae88a116a1cdc0895105765b2c27e2f1a}{Get\+Erp\+Information} (void) const 
\item 
\hyperlink{classns3_1_1EdcaParameterSet}{Edca\+Parameter\+Set} \hyperlink{classns3_1_1ApWifiMac_a6b29faae7352877a1aa97a2146725ff5}{Get\+Edca\+Parameter\+Set} (void) const 
\item 
\hyperlink{classns3_1_1HtOperation}{Ht\+Operation} \hyperlink{classns3_1_1ApWifiMac_ae67f8b753332b379d189007ffee40733}{Get\+Ht\+Operation} (void) const 
\item 
\hyperlink{classns3_1_1VhtOperation}{Vht\+Operation} \hyperlink{classns3_1_1ApWifiMac_afde045b9f011d312e3110bb5b9411403}{Get\+Vht\+Operation} (void) const 
\item 
\hyperlink{classns3_1_1SupportedRates}{Supported\+Rates} \hyperlink{classns3_1_1ApWifiMac_a3d1278fa6624859d50b4ed984125de30}{Get\+Supported\+Rates} (void) const 
\item 
\hyperlink{classns3_1_1DsssParameterSet}{Dsss\+Parameter\+Set} \hyperlink{classns3_1_1ApWifiMac_a577723413f2a747d71ed01d8646ccc79}{Get\+Dsss\+Parameter\+Set} (void) const 
\item 
void \hyperlink{classns3_1_1ApWifiMac_a09ad3b96835cb8fac18783423d3e57a7}{Set\+Beacon\+Generation} (bool enable)
\item 
bool \hyperlink{classns3_1_1ApWifiMac_af6c5a1906e2bb39a655f92738efb9256}{Get\+Beacon\+Generation} (void) const 
\item 
bool \hyperlink{classns3_1_1ApWifiMac_a62eda2e1029d7922c4ed5bb5b0925d13}{Get\+Use\+Non\+Erp\+Protection} (void) const 
\item 
bool \hyperlink{classns3_1_1ApWifiMac_adafdc3775cb9facdd312947c854bbd81}{Get\+Rifs\+Mode} (void) const 
\item 
void \hyperlink{classns3_1_1ApWifiMac_a6a889756f44c64698ddeac55437a1e0f}{Do\+Dispose} (void)
\item 
void \hyperlink{classns3_1_1ApWifiMac_a398b0e04d5c31b7459358a459beff098}{Do\+Initialize} (void)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1DcaTxop}{Dca\+Txop} $>$ \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\+\_\+beacon\+Dca}
\begin{DoxyCompactList}\small\item\em Dedicated \hyperlink{classns3_1_1DcaTxop}{Dca\+Txop} for beacons. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1ApWifiMac_a798e9c63c2c85d0973fd1456ffdd38e3}{m\+\_\+beacon\+Interval}
\begin{DoxyCompactList}\small\item\em Interval between beacons. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1ApWifiMac_a783d01de4969a1227232246d82ce1ce9}{m\+\_\+enable\+Beacon\+Generation}
\begin{DoxyCompactList}\small\item\em Flag whether beacons are being generated. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1ApWifiMac_a9ba5983f49f1c44c2623ace4e463d3a0}{m\+\_\+beacon\+Event}
\begin{DoxyCompactList}\small\item\em Event to generate one beacon. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UniformRandomVariable}{Uniform\+Random\+Variable} $>$ \hyperlink{classns3_1_1ApWifiMac_a319661e15bf89aedd0e0a3494195d055}{m\+\_\+beacon\+Jitter}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1UniformRandomVariable}{Uniform\+Random\+Variable} used to randomize the time of the first beacon. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1ApWifiMac_a803812db18b44720f24e48140e0f0c1e}{m\+\_\+enable\+Beacon\+Jitter}
\begin{DoxyCompactList}\small\item\em Flag whether the first beacon should be generated at random time. \end{DoxyCompactList}\item 
\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} $>$ \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\+\_\+sta\+List}
\begin{DoxyCompactList}\small\item\em List of all stations currently associated to the AP. \end{DoxyCompactList}\item 
\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} $>$ \hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\+\_\+non\+Erp\+Stations}
\begin{DoxyCompactList}\small\item\em List of all non-\/\+E\+RP stations currently associated to the AP. \end{DoxyCompactList}\item 
\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} $>$ \hyperlink{classns3_1_1ApWifiMac_a148d1aa2c429b0530603c797775fa5da}{m\+\_\+non\+Ht\+Stations}
\begin{DoxyCompactList}\small\item\em List of all non-\/\+HT stations currently associated to the AP. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1ApWifiMac_a3f18f344b2eefe6357790600df8c4d23}{m\+\_\+enable\+Non\+Erp\+Protection}
\begin{DoxyCompactList}\small\item\em Flag whether protection mechanism is used or not when non-\/\+E\+RP S\+T\+As are present within the B\+SS. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1ApWifiMac_ab5ac2f56d033984a8db29d69aa230811}{m\+\_\+disable\+Rifs}
\begin{DoxyCompactList}\small\item\em Flag whether to force R\+I\+FS to be disabled within the B\+SS If non-\/\+HT S\+T\+As are detected. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Wi-\/\+Fi AP state machine

Handle association, dis-\/association and authentication, of S\+T\+As within an infrastructure B\+SS. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Ap\+Wifi\+Mac@{Ap\+Wifi\+Mac}}
\index{Ap\+Wifi\+Mac@{Ap\+Wifi\+Mac}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Ap\+Wifi\+Mac()}{ApWifiMac()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Ap\+Wifi\+Mac\+::\+Ap\+Wifi\+Mac (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ApWifiMac_a6fda79b577eb79eaabceb05a36e27b44}{}\label{classns3_1_1ApWifiMac_a6fda79b577eb79eaabceb05a36e27b44}

\begin{DoxyCode}
81   : \hyperlink{classns3_1_1ApWifiMac_a783d01de4969a1227232246d82ce1ce9}{m\_enableBeaconGeneration} (\textcolor{keyword}{false})
82 \{
83   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
84   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca} = CreateObject<DcaTxop> ();
85   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca}->SetAifsn (1);
86   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca}->SetMinCw (0);
87   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca}->SetMaxCw (0);
88   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca}->SetLow (\hyperlink{classns3_1_1RegularWifiMac_a726ce0ade9bb7e6b7d81cd397f32dbde}{m\_low});
89   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca}->SetManager (\hyperlink{classns3_1_1RegularWifiMac_affcfccaae7c9ff15df0ad6752df95a16}{m\_dcfManager});
90   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca}->SetTxMiddle (\hyperlink{classns3_1_1RegularWifiMac_afe94bc7a577c1b76234d6ae23bad0d1c}{m\_txMiddle});
91 
92   \textcolor{comment}{//Let the lower layers know that we are acting as an AP.}
93   \hyperlink{classns3_1_1RegularWifiMac_ab388733458378c0cbf456d0368eee723}{SetTypeOfStation} (\hyperlink{namespacens3_a21fd18ff410cecc971a0c27634830445aed6b16257135c44d936ad7cc56f2336f}{AP});
94 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!````~Ap\+Wifi\+Mac@{$\sim$\+Ap\+Wifi\+Mac}}
\index{````~Ap\+Wifi\+Mac@{$\sim$\+Ap\+Wifi\+Mac}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{$\sim$\+Ap\+Wifi\+Mac()}{~ApWifiMac()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Ap\+Wifi\+Mac\+::$\sim$\+Ap\+Wifi\+Mac (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_a3df10fd221c6bb1ed3f64de34ec79074}{}\label{classns3_1_1ApWifiMac_a3df10fd221c6bb1ed3f64de34ec79074}

\begin{DoxyCode}
97 \{
98   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
99   \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.clear ();
100   \hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\_nonErpStations}.clear ();
101   \hyperlink{classns3_1_1ApWifiMac_a148d1aa2c429b0530603c797775fa5da}{m\_nonHtStations}.clear ();
102 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Assign\+Streams@{Assign\+Streams}}
\index{Assign\+Streams@{Assign\+Streams}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Assign\+Streams(int64\+\_\+t stream)}{AssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::\+Ap\+Wifi\+Mac\+::\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ApWifiMac_aab3410af41c0477ddaf60bc3f6659de9}{}\label{classns3_1_1ApWifiMac_aab3410af41c0477ddaf60bc3f6659de9}
Assign a fixed random variable stream number to the random variables used by this model. Return the number of streams (possibly zero) that have been assigned.


\begin{DoxyParams}{Parameters}
{\em stream} & first stream index to use\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of stream indices assigned by this model 
\end{DoxyReturn}

\begin{DoxyCode}
194 \{
195   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << stream);
196   \hyperlink{classns3_1_1ApWifiMac_a319661e15bf89aedd0e0a3494195d055}{m\_beaconJitter}->\hyperlink{classns3_1_1RandomVariableStream_add11aaf975607746b7e271d300659a94}{SetStream} (stream);
197   \textcolor{keywordflow}{return} 1;
198 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Deaggregate\+Amsdu\+And\+Forward@{Deaggregate\+Amsdu\+And\+Forward}}
\index{Deaggregate\+Amsdu\+And\+Forward@{Deaggregate\+Amsdu\+And\+Forward}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Deaggregate\+Amsdu\+And\+Forward(\+Ptr$<$ Packet $>$ aggregated\+Packet, const Wifi\+Mac\+Header $\ast$hdr)}{DeaggregateAmsduAndForward(Ptr< Packet > aggregatedPacket, const WifiMacHeader *hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Deaggregate\+Amsdu\+And\+Forward (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{aggregated\+Packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_a1eb0f6a5911786e99fc0b58fd2a0e356}{}\label{classns3_1_1ApWifiMac_a1eb0f6a5911786e99fc0b58fd2a0e356}
This method is called to de-\/aggregate an A-\/\+M\+S\+DU and forward the constituent packets up the stack. We override the \hyperlink{classns3_1_1WifiMac}{Wifi\+Mac} version here because, as an AP, we also need to think about redistributing to other associated S\+T\+As.


\begin{DoxyParams}{Parameters}
{\em aggregated\+Packet} & the \hyperlink{classns3_1_1Packet}{Packet} containing the A-\/\+M\+S\+DU. \\
\hline
{\em hdr} & a pointer to the M\+AC header for {\ttfamily aggregated\+Packet}. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1RegularWifiMac_a21621ca70e5d272de72d0609eb43cf15}{ns3\+::\+Regular\+Wifi\+Mac}.


\begin{DoxyCode}
1102 \{
1103   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << aggregatedPacket << hdr);
1104   \hyperlink{classns3_1_1MsduAggregator_a9ca3d84483249fae3dffc35bcc98bb11}{MsduAggregator::DeaggregatedMsdus} packets =
1105     \hyperlink{classns3_1_1MsduAggregator_a5fbab40dc4a2b4b8ff94508ca7c988fc}{MsduAggregator::Deaggregate} (aggregatedPacket);
1106 
1107   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1MsduAggregator_a6cc0e0e5681fa47009e6ff74d15f1656}{MsduAggregator::DeaggregatedMsdusCI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = packets.begin ();
1108        \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != packets.end (); ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
1109     \{
1110       \textcolor{keywordflow}{if} ((*i).second.GetDestinationAddr () == \hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ())
1111         \{
1112           \hyperlink{classns3_1_1RegularWifiMac_a34df292af97e69fefda8303cdb323d1d}{ForwardUp} ((*i).first, (*i).second.GetSourceAddr (),
1113                      (*i).second.GetDestinationAddr ());
1114         \}
1115       \textcolor{keywordflow}{else}
1116         \{
1117           Mac48Address \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from} = (*i).second.GetSourceAddr ();
1118           Mac48Address to = (*i).second.GetDestinationAddr ();
1119           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"forwarding QoS frame from="} << from << \textcolor{stringliteral}{", to="} << to);
1120           \hyperlink{classns3_1_1ApWifiMac_a407bd4754f3f401eb6c5b4a4fe622250}{ForwardDown} ((*i).first, from, to, hdr->GetQosTid ());
1121         \}
1122     \}
1123 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_a6a889756f44c64698ddeac55437a1e0f}{}\label{classns3_1_1ApWifiMac_a6a889756f44c64698ddeac55437a1e0f}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1ApWifiMac_a6a889756f44c64698ddeac55437a1e0f}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1RegularWifiMac_aaa1859a22112b2d594ac9d6f19fecfac}{ns3\+::\+Regular\+Wifi\+Mac}.


\begin{DoxyCode}
106 \{
107   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
108   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca}->Dispose ();
109   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca} = 0;
110   \hyperlink{classns3_1_1ApWifiMac_a783d01de4969a1227232246d82ce1ce9}{m\_enableBeaconGeneration} = \textcolor{keyword}{false};
111   \hyperlink{classns3_1_1ApWifiMac_a9ba5983f49f1c44c2623ace4e463d3a0}{m\_beaconEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
112   \hyperlink{classns3_1_1RegularWifiMac_aaa1859a22112b2d594ac9d6f19fecfac}{RegularWifiMac::DoDispose} ();
113 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Do\+Initialize@{Do\+Initialize}}
\index{Do\+Initialize@{Do\+Initialize}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Do\+Initialize(void)}{DoInitialize(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Do\+Initialize (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_a398b0e04d5c31b7459358a459beff098}{}\label{classns3_1_1ApWifiMac_a398b0e04d5c31b7459358a459beff098}
\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} implementation.

This method is called only once by \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()}. If the user calls \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} multiple times, \hyperlink{classns3_1_1ApWifiMac_a398b0e04d5c31b7459358a459beff098}{Do\+Initialize()} is called only the first time.

Subclasses are expected to override this method and chain up to their parent\textquotesingle{}s implementation once they are done. It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} and \hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{Aggregate\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1RegularWifiMac_ae034e83c1704ac081981e475607f9a37}{ns3\+::\+Regular\+Wifi\+Mac}.


\begin{DoxyCode}
1127 \{
1128   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1129   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca}->Initialize ();
1130   \hyperlink{classns3_1_1ApWifiMac_a9ba5983f49f1c44c2623ace4e463d3a0}{m\_beaconEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
1131   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1ApWifiMac_a783d01de4969a1227232246d82ce1ce9}{m\_enableBeaconGeneration})
1132     \{
1133       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1ApWifiMac_a803812db18b44720f24e48140e0f0c1e}{m\_enableBeaconJitter})
1134         \{
1135           int64\_t jitter = \hyperlink{classns3_1_1ApWifiMac_a319661e15bf89aedd0e0a3494195d055}{m\_beaconJitter}->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue} (0, 
      \hyperlink{classns3_1_1ApWifiMac_a798e9c63c2c85d0973fd1456ffdd38e3}{m\_beaconInterval}.\hyperlink{classns3_1_1Time_a2542b9273c336da11fcaf54e8bc6e4c8}{GetMicroSeconds} ());
1136           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Scheduling initial beacon for access point "} << 
      \hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} () << \textcolor{stringliteral}{" at time "} << jitter << \textcolor{stringliteral}{" microseconds"});
1137           \hyperlink{classns3_1_1ApWifiMac_a9ba5983f49f1c44c2623ace4e463d3a0}{m\_beaconEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (jitter), &\hyperlink{classns3_1_1ApWifiMac_a6c8cbc0fc95f3eaf4840d4ffcf78fac5}{ApWifiMac::SendOneBeacon}, \textcolor{keyword}{this});
1138         \}
1139       \textcolor{keywordflow}{else}
1140         \{
1141           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Scheduling initial beacon for access point "} << 
      \hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} () << \textcolor{stringliteral}{" at time 0"});
1142           \hyperlink{classns3_1_1ApWifiMac_a9ba5983f49f1c44c2623ace4e463d3a0}{m\_beaconEvent} = \hyperlink{classns3_1_1Simulator_a2219ee02c0647adc83d1c918c3256266}{Simulator::ScheduleNow} (&
      \hyperlink{classns3_1_1ApWifiMac_a6c8cbc0fc95f3eaf4840d4ffcf78fac5}{ApWifiMac::SendOneBeacon}, \textcolor{keyword}{this});
1143         \}
1144     \}
1145   \hyperlink{classns3_1_1RegularWifiMac_ae034e83c1704ac081981e475607f9a37}{RegularWifiMac::DoInitialize} ();
1146 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Enqueue@{Enqueue}}
\index{Enqueue@{Enqueue}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Enqueue(\+Ptr$<$ const Packet $>$ packet, Mac48\+Address to)}{Enqueue(Ptr< const Packet > packet, Mac48Address to)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Enqueue (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{{\bf Mac48\+Address}}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_a0675813a47439c500d3c7770301d1ad6}{}\label{classns3_1_1ApWifiMac_a0675813a47439c500d3c7770301d1ad6}

\begin{DoxyParams}{Parameters}
{\em packet} & the packet to send. \\
\hline
{\em to} & the address to which the packet should be sent.\\
\hline
\end{DoxyParams}
The packet should be enqueued in a tx queue, and should be dequeued as soon as the channel access function determines that access is granted to this M\+AC. 

Implements \hyperlink{classns3_1_1RegularWifiMac_a646c2c6e87a90501f5688dfbde765bb7}{ns3\+::\+Regular\+Wifi\+Mac}.


\begin{DoxyCode}
363 \{
364   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << to);
365   \textcolor{comment}{//We're sending this packet with a from address that is our own. We}
366   \textcolor{comment}{//get that address from the lower MAC and make use of the}
367   \textcolor{comment}{//from-spoofing Enqueue() method to avoid duplicated code.}
368   \hyperlink{classns3_1_1ApWifiMac_a0675813a47439c500d3c7770301d1ad6}{Enqueue} (packet, to, \hyperlink{classns3_1_1RegularWifiMac_a726ce0ade9bb7e6b7d81cd397f32dbde}{m\_low}->\hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{GetAddress} ());
369 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Enqueue@{Enqueue}}
\index{Enqueue@{Enqueue}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Enqueue(\+Ptr$<$ const Packet $>$ packet, Mac48\+Address to, Mac48\+Address from)}{Enqueue(Ptr< const Packet > packet, Mac48Address to, Mac48Address from)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Enqueue (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{{\bf Mac48\+Address}}]{to, }
\item[{{\bf Mac48\+Address}}]{from}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_a794a21315279c5b464be5af21f3352cb}{}\label{classns3_1_1ApWifiMac_a794a21315279c5b464be5af21f3352cb}

\begin{DoxyParams}{Parameters}
{\em packet} & the packet to send. \\
\hline
{\em to} & the address to which the packet should be sent. \\
\hline
{\em from} & the address from which the packet should be sent.\\
\hline
\end{DoxyParams}
The packet should be enqueued in a tx queue, and should be dequeued as soon as the channel access function determines that access is granted to this M\+AC. The extra parameter \char`\"{}from\char`\"{} allows this device to operate in a bridged mode, forwarding received frames without altering the source address. 

Reimplemented from \hyperlink{classns3_1_1RegularWifiMac_a2d4f98880477b25928a74cd9ab9df6e7}{ns3\+::\+Regular\+Wifi\+Mac}.


\begin{DoxyCode}
349 \{
350   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << to << \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from});
351   \textcolor{keywordflow}{if} (to.IsBroadcast () || \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a1c3e9d6c0ca04ccb08793d034d9d156f}{IsAssociated} (to))
352     \{
353       \hyperlink{classns3_1_1ApWifiMac_a407bd4754f3f401eb6c5b4a4fe622250}{ForwardDown} (packet, \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from}, to);
354     \}
355   \textcolor{keywordflow}{else}
356     \{
357       \hyperlink{classns3_1_1WifiMac_aef7418bfb03d5146dda41c392f3e6671}{NotifyTxDrop} (packet);
358     \}
359 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Forward\+Down@{Forward\+Down}}
\index{Forward\+Down@{Forward\+Down}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Forward\+Down(\+Ptr$<$ const Packet $>$ packet, Mac48\+Address from, Mac48\+Address to)}{ForwardDown(Ptr< const Packet > packet, Mac48Address from, Mac48Address to)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Forward\+Down (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{{\bf Mac48\+Address}}]{from, }
\item[{{\bf Mac48\+Address}}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a407bd4754f3f401eb6c5b4a4fe622250}{}\label{classns3_1_1ApWifiMac_a407bd4754f3f401eb6c5b4a4fe622250}
Forward the packet down to D\+C\+F/\+E\+D\+C\+AF (enqueue the packet). This method is a wrapper for Forward\+Down with traffic id.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet we are forwarding to D\+C\+F/\+E\+D\+C\+AF \\
\hline
{\em from} & the address to be used for \hyperlink{classns3_1_1Address}{Address} 3 field in the header \\
\hline
{\em to} & the address to be used for \hyperlink{classns3_1_1Address}{Address} 1 field in the header \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
274 \{
275   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from} << to);
276   \textcolor{comment}{//If we are not a QoS AP then we definitely want to use AC\_BE to}
277   \textcolor{comment}{//transmit the packet. A TID of zero will map to AC\_BE (through \(\backslash\)c}
278   \textcolor{comment}{//QosUtilsMapTidToAc()), so we use that as our default here.}
279   uint8\_t tid = 0;
280 
281   \textcolor{comment}{//If we are a QoS AP then we attempt to get a TID for this packet}
282   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_aeecdb918687493a8efdd70304bc0cee9}{m\_qosSupported})
283     \{
284       tid = \hyperlink{group__wifi_gaa7ad20082f78b63633d0557d24927150}{QosUtilsGetTidForPacket} (packet);
285       \textcolor{comment}{//Any value greater than 7 is invalid and likely indicates that}
286       \textcolor{comment}{//the packet had no QoS tag, so we revert to zero, which'll}
287       \textcolor{comment}{//mean that AC\_BE is used.}
288       \textcolor{keywordflow}{if} (tid > 7)
289         \{
290           tid = 0;
291         \}
292     \}
293 
294   \hyperlink{classns3_1_1ApWifiMac_a407bd4754f3f401eb6c5b4a4fe622250}{ForwardDown} (packet, \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from}, to, tid);
295 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Forward\+Down@{Forward\+Down}}
\index{Forward\+Down@{Forward\+Down}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Forward\+Down(\+Ptr$<$ const Packet $>$ packet, Mac48\+Address from, Mac48\+Address to, uint8\+\_\+t tid)}{ForwardDown(Ptr< const Packet > packet, Mac48Address from, Mac48Address to, uint8_t tid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Forward\+Down (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{{\bf Mac48\+Address}}]{from, }
\item[{{\bf Mac48\+Address}}]{to, }
\item[{uint8\+\_\+t}]{tid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_abcc518337b1ccf6ebd983bc36a004bb4}{}\label{classns3_1_1ApWifiMac_abcc518337b1ccf6ebd983bc36a004bb4}
Forward the packet down to D\+C\+F/\+E\+D\+C\+AF (enqueue the packet).


\begin{DoxyParams}{Parameters}
{\em packet} & the packet we are forwarding to D\+C\+F/\+E\+D\+C\+AF \\
\hline
{\em from} & the address to be used for \hyperlink{classns3_1_1Address}{Address} 3 field in the header \\
\hline
{\em to} & the address to be used for \hyperlink{classns3_1_1Address}{Address} 1 field in the header \\
\hline
{\em tid} & the traffic id for the packet \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
300 \{
301   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from} << to << static\_cast<uint32\_t> (tid));
302   WifiMacHeader hdr;
303 
304   \textcolor{comment}{//For now, an AP that supports QoS does not support non-QoS}
305   \textcolor{comment}{//associations, and vice versa. In future the AP model should}
306   \textcolor{comment}{//support simultaneously associated QoS and non-QoS STAs, at which}
307   \textcolor{comment}{//point there will need to be per-association QoS state maintained}
308   \textcolor{comment}{//by the association state machine, and consulted here.}
309   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_aeecdb918687493a8efdd70304bc0cee9}{m\_qosSupported})
310     \{
311       hdr.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aafd37aea1ac3edba5410fac6367b19b1d}{WIFI\_MAC\_QOSDATA});
312       hdr.SetQosAckPolicy (\hyperlink{classns3_1_1WifiMacHeader_ae3a382482f357972019f5e1b3162adc4a9f52b9c6ca65d046ce2be9d70bce28cf}{WifiMacHeader::NORMAL\_ACK});
313       hdr.SetQosNoEosp ();
314       hdr.SetQosNoAmsdu ();
315       \textcolor{comment}{//Transmission of multiple frames in the same Polled TXOP is not supported for now}
316       hdr.SetQosTxopLimit (0);
317       \textcolor{comment}{//Fill in the QoS control field in the MAC header}
318       hdr.SetQosTid (tid);
319     \}
320   \textcolor{keywordflow}{else}
321     \{
322       hdr.SetTypeData ();
323     \}
324 
325   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a8950c44b8cf2ad1f9274821cf88adc7b}{m\_htSupported} || \hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported} || 
      \hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
326     \{
327       hdr.SetNoOrder ();
328     \}
329   hdr.SetAddr1 (to);
330   hdr.SetAddr2 (\hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ());
331   hdr.SetAddr3 (\hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from});
332   hdr.SetDsFrom ();
333   hdr.SetDsNotTo ();
334 
335   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_aeecdb918687493a8efdd70304bc0cee9}{m\_qosSupported})
336     \{
337       \textcolor{comment}{//Sanity check that the TID is valid}
338       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (tid < 8);
339       \hyperlink{classns3_1_1RegularWifiMac_ac750365ab3708902cc0b7700164c706d}{m\_edca}[\hyperlink{group__wifi_ga4e36efcff6dd83eaee42e1af0de43d48}{QosUtilsMapTidToAc} (tid)]->Queue (packet, hdr);
340     \}
341   \textcolor{keywordflow}{else}
342     \{
343       \hyperlink{classns3_1_1RegularWifiMac_a152965c3def1a308b088b37c2c88a1a2}{m\_dca}->Queue (packet, hdr);
344     \}
345 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Beacon\+Generation@{Get\+Beacon\+Generation}}
\index{Get\+Beacon\+Generation@{Get\+Beacon\+Generation}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Beacon\+Generation(void) const }{GetBeaconGeneration(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Beacon\+Generation (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_af6c5a1906e2bb39a655f92738efb9256}{}\label{classns3_1_1ApWifiMac_af6c5a1906e2bb39a655f92738efb9256}
Return whether the AP is generating beacons.

\begin{DoxyReturn}{Returns}
true if beacons are periodically generated, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
142 \{
143   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
144   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1ApWifiMac_a783d01de4969a1227232246d82ce1ce9}{m\_enableBeaconGeneration};
145 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Beacon\+Interval@{Get\+Beacon\+Interval}}
\index{Get\+Beacon\+Interval@{Get\+Beacon\+Interval}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Beacon\+Interval(void) const }{GetBeaconInterval(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Beacon\+Interval (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1ApWifiMac_adaa4b445c0b2a4afa016dd4df1b4b4eb}{}\label{classns3_1_1ApWifiMac_adaa4b445c0b2a4afa016dd4df1b4b4eb}
\begin{DoxyReturn}{Returns}
the interval between two beacon transmissions. 
\end{DoxyReturn}

\begin{DoxyCode}
149 \{
150   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
151   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1ApWifiMac_a798e9c63c2c85d0973fd1456ffdd38e3}{m\_beaconInterval};
152 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Capabilities@{Get\+Capabilities}}
\index{Get\+Capabilities@{Get\+Capabilities}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Capabilities(void) const }{GetCapabilities(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Capability\+Information} ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Capabilities (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a5794cfc6ec6c72f335b36f302a83178a}{}\label{classns3_1_1ApWifiMac_a5794cfc6ec6c72f335b36f302a83178a}
Return the Capability information of the current AP.

\begin{DoxyReturn}{Returns}
the Capability information that we support 
\end{DoxyReturn}

\begin{DoxyCode}
439 \{
440   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
441   CapabilityInformation capabilities;
442   capabilities.SetShortPreamble (\hyperlink{classns3_1_1ApWifiMac_a19ae41add0c00c244c7a66adf523b445}{GetShortPreambleEnabled} ());
443   capabilities.SetShortSlotTime (\hyperlink{classns3_1_1ApWifiMac_abc972d9a628f6b50b27a05b1e464bbcd}{GetShortSlotTimeEnabled} ());
444   \textcolor{keywordflow}{return} capabilities;
445 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Dsss\+Parameter\+Set@{Get\+Dsss\+Parameter\+Set}}
\index{Get\+Dsss\+Parameter\+Set@{Get\+Dsss\+Parameter\+Set}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Dsss\+Parameter\+Set(void) const }{GetDsssParameterSet(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Dsss\+Parameter\+Set} ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Dsss\+Parameter\+Set (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a577723413f2a747d71ed01d8646ccc79}{}\label{classns3_1_1ApWifiMac_a577723413f2a747d71ed01d8646ccc79}
Return the D\+S\+SS Parameter Set that we support.

\begin{DoxyReturn}{Returns}
the D\+S\+SS Parameter Set that we support 
\end{DoxyReturn}

\begin{DoxyCode}
426 \{
427   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
428   DsssParameterSet dsssParameters;
429   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_ab6ce267a1e23e9c1d84908e07831bd6d}{m\_dsssSupported})
430     \{
431       dsssParameters.SetDsssSupported (1);
432       dsssParameters.SetCurrentChannel (\hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a5cf0ccf06109ace61db51c83e91b7e8d}{GetChannelNumber} ());
433     \}
434   \textcolor{keywordflow}{return} dsssParameters;
435 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Edca\+Parameter\+Set@{Get\+Edca\+Parameter\+Set}}
\index{Get\+Edca\+Parameter\+Set@{Get\+Edca\+Parameter\+Set}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Edca\+Parameter\+Set(void) const }{GetEdcaParameterSet(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Edca\+Parameter\+Set} ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Edca\+Parameter\+Set (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a6b29faae7352877a1aa97a2146725ff5}{}\label{classns3_1_1ApWifiMac_a6b29faae7352877a1aa97a2146725ff5}
Return the E\+D\+CA Parameter Set of the current AP.

\begin{DoxyReturn}{Returns}
the E\+D\+CA Parameter Set that we support 
\end{DoxyReturn}

\begin{DoxyCode}
471 \{
472   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
473   EdcaParameterSet edcaParameters;
474   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_aeecdb918687493a8efdd70304bc0cee9}{m\_qosSupported})
475     \{
476       edcaParameters.SetQosSupported (1);
477       Ptr<EdcaTxopN> edca;
478       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txopLimit;
479 
480       edca = \hyperlink{classns3_1_1RegularWifiMac_ac750365ab3708902cc0b7700164c706d}{m\_edca}.find (\hyperlink{group__wifi_ggab422b4562ba272b39a9b6bca3513f3aca136016fc12611734060b599355503c29}{AC\_BE})->second;
481       txopLimit = edca->GetTxopLimit ();
482       edcaParameters.SetBeAci (0);
483       edcaParameters.SetBeCWmin (edca->GetMinCw ());
484       edcaParameters.SetBeCWmax (edca->GetMaxCw ());
485       edcaParameters.SetBeAifsn (edca->GetAifsn ());
486       edcaParameters.SetBeTXOPLimit (txopLimit.GetMicroSeconds () / 32);
487 
488       edca = \hyperlink{classns3_1_1RegularWifiMac_ac750365ab3708902cc0b7700164c706d}{m\_edca}.find (\hyperlink{group__wifi_ggab422b4562ba272b39a9b6bca3513f3aca53e99420c645076e74307112d73eb38b}{AC\_BK})->second;
489       txopLimit = edca->GetTxopLimit ();
490       edcaParameters.SetBkAci (1);
491       edcaParameters.SetBkCWmin (edca->GetMinCw ());
492       edcaParameters.SetBkCWmax (edca->GetMaxCw ());
493       edcaParameters.SetBkAifsn (edca->GetAifsn ());
494       edcaParameters.SetBkTXOPLimit (txopLimit.GetMicroSeconds () / 32);
495 
496       edca = \hyperlink{classns3_1_1RegularWifiMac_ac750365ab3708902cc0b7700164c706d}{m\_edca}.find (\hyperlink{group__wifi_ggab422b4562ba272b39a9b6bca3513f3aca1c60bd99c5ede59bb50b91182cb81d0f}{AC\_VI})->second;
497       txopLimit = edca->GetTxopLimit ();
498       edcaParameters.SetViAci (2);
499       edcaParameters.SetViCWmin (edca->GetMinCw ());
500       edcaParameters.SetViCWmax (edca->GetMaxCw ());
501       edcaParameters.SetViAifsn (edca->GetAifsn ());
502       edcaParameters.SetViTXOPLimit (txopLimit.GetMicroSeconds () / 32);
503 
504       edca = \hyperlink{classns3_1_1RegularWifiMac_ac750365ab3708902cc0b7700164c706d}{m\_edca}.find (\hyperlink{group__wifi_ggab422b4562ba272b39a9b6bca3513f3aca147b7f007ca5459e52ee93d1ebe83639}{AC\_VO})->second;
505       txopLimit = edca->GetTxopLimit ();
506       edcaParameters.SetVoAci (3);
507       edcaParameters.SetVoCWmin (edca->GetMinCw ());
508       edcaParameters.SetVoCWmax (edca->GetMaxCw ());
509       edcaParameters.SetVoAifsn (edca->GetAifsn ());
510       edcaParameters.SetVoTXOPLimit (txopLimit.GetMicroSeconds () / 32);
511     \}
512   \textcolor{keywordflow}{return} edcaParameters;
513 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19




Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Erp\+Information@{Get\+Erp\+Information}}
\index{Get\+Erp\+Information@{Get\+Erp\+Information}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Erp\+Information(void) const }{GetErpInformation(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Erp\+Information} ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Erp\+Information (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_ae88a116a1cdc0895105765b2c27e2f1a}{}\label{classns3_1_1ApWifiMac_ae88a116a1cdc0895105765b2c27e2f1a}
Return the E\+RP information of the current AP.

\begin{DoxyReturn}{Returns}
the E\+RP information that we support 
\end{DoxyReturn}

\begin{DoxyCode}
449 \{
450   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
451   ErpInformation \hyperlink{doc_2readme_8txt_a56b8f954d58753a81bcf37ef0ad7ca0a}{information};
452   information.SetErpSupported (1);
453   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_ab90230e9a9ea6331758a53a316ee2b38}{m\_erpSupported})
454     \{
455       information.SetNonErpPresent (!\hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\_nonErpStations}.empty ());
456       information.SetUseProtection (\hyperlink{classns3_1_1ApWifiMac_a62eda2e1029d7922c4ed5bb5b0925d13}{GetUseNonErpProtection} ());
457       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1ApWifiMac_a19ae41add0c00c244c7a66adf523b445}{GetShortPreambleEnabled} ())
458         \{
459           information.SetBarkerPreambleMode (0);
460         \}
461       \textcolor{keywordflow}{else}
462         \{
463           information.SetBarkerPreambleMode (1);
464         \}
465     \}
466   \textcolor{keywordflow}{return} \hyperlink{doc_2readme_8txt_a56b8f954d58753a81bcf37ef0ad7ca0a}{information};
467 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 21




Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Ht\+Operation@{Get\+Ht\+Operation}}
\index{Get\+Ht\+Operation@{Get\+Ht\+Operation}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Ht\+Operation(void) const }{GetHtOperation(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ht\+Operation} ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Ht\+Operation (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_ae67f8b753332b379d189007ffee40733}{}\label{classns3_1_1ApWifiMac_ae67f8b753332b379d189007ffee40733}
Return the HT operation of the current AP.

\begin{DoxyReturn}{Returns}
the HT operation that we support 
\end{DoxyReturn}

\begin{DoxyCode}
517 \{
518   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
519   HtOperation operation;
520   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a8950c44b8cf2ad1f9274821cf88adc7b}{m\_htSupported})
521     \{
522       operation.SetHtSupported (1);
523       operation.SetRifsMode (\hyperlink{classns3_1_1ApWifiMac_adafdc3775cb9facdd312947c854bbd81}{GetRifsMode} ());
524       operation.SetNonGfHtStasPresent (\hyperlink{classns3_1_1ApWifiMac_a402b8852eba84458667b666df75b589f}{IsNonGfHtStasPresent} ());
525       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1ApWifiMac_a148d1aa2c429b0530603c797775fa5da}{m\_nonHtStations}.empty ())
526         \{
527           operation.SetHtProtection (\hyperlink{namespacens3_a5298e425f21042471c21b3089e862195aa3c011b4a436b4d55993f0a5a6380caa}{NO\_PROTECTION});
528         \}
529       \textcolor{keywordflow}{else}
530         \{
531           operation.SetHtProtection (\hyperlink{namespacens3_a5298e425f21042471c21b3089e862195af0057fb3d5ffc6dbd305b04e1e684d84}{MIXED\_MODE\_PROTECTION});
532         \}
533     \}
534   \textcolor{keywordflow}{return} operation;
535 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23




Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Rifs\+Mode@{Get\+Rifs\+Mode}}
\index{Get\+Rifs\+Mode@{Get\+Rifs\+Mode}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Rifs\+Mode(void) const }{GetRifsMode(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Rifs\+Mode (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_adafdc3775cb9facdd312947c854bbd81}{}\label{classns3_1_1ApWifiMac_adafdc3775cb9facdd312947c854bbd81}
Return whether R\+I\+FS is allowed in the B\+SS.

\begin{DoxyReturn}{Returns}
true if R\+I\+FS is allowed in the B\+SS, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
1158 \{
1159   \textcolor{keywordtype}{bool} rifsMode = \textcolor{keyword}{false};
1160   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a8950c44b8cf2ad1f9274821cf88adc7b}{m\_htSupported} && !\hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported}) \textcolor{comment}{//RIFS mode is forbidden for VHT}
1161     \{
1162       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1ApWifiMac_a148d1aa2c429b0530603c797775fa5da}{m\_nonHtStations}.empty () || !\hyperlink{classns3_1_1ApWifiMac_ab5ac2f56d033984a8db29d69aa230811}{m\_disableRifs})
1163         \{
1164           rifsMode = \textcolor{keyword}{true};
1165         \}
1166     \}
1167   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_aee913cae11540b2878873ca3ac968afc}{GetRifsSupported} () && rifsMode)
1168     \{
1169       \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a61a25c7485e65131a0ebba3993d6744a}{SetRifsPermitted} (\textcolor{keyword}{true});
1170     \}
1171   \textcolor{keywordflow}{else}
1172     \{
1173       \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a61a25c7485e65131a0ebba3993d6744a}{SetRifsPermitted} (\textcolor{keyword}{false});
1174     \}
1175   \textcolor{keywordflow}{return} rifsMode;
1176 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 25




Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Short\+Preamble\+Enabled@{Get\+Short\+Preamble\+Enabled}}
\index{Get\+Short\+Preamble\+Enabled@{Get\+Short\+Preamble\+Enabled}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Short\+Preamble\+Enabled(void) const }{GetShortPreambleEnabled(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Short\+Preamble\+Enabled (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1ApWifiMac_a19ae41add0c00c244c7a66adf523b445}{}\label{classns3_1_1ApWifiMac_a19ae41add0c00c244c7a66adf523b445}
Determine whether short preamble should be enabled or not in the B\+SS. Typically, true is returned only when the AP and all associated stations support short P\+L\+CP preamble.

\begin{DoxyReturn}{Returns}
whether short preamble should be enabled or not in the B\+SS. 
\end{DoxyReturn}

\begin{DoxyCode}
223 \{
224   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_ab90230e9a9ea6331758a53a316ee2b38}{m\_erpSupported} || \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2705695b8839425c7f728d527f66dcc}{GetShortPlcpPreambleSupported}
       ())
225     \{
226       \textcolor{keywordflow}{for} (std::list<Mac48Address>::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\_nonErpStations}.begin (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\_nonErpStations}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
227         \{
228           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a75da15b749baf80b44aa5435d2747d9e}{GetShortPreambleSupported} (*
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \textcolor{keyword}{false})
229             \{
230               \textcolor{keywordflow}{return} \textcolor{keyword}{false};
231             \}
232         \}
233       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
234     \}
235   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
236 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 27




Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Short\+Slot\+Time\+Enabled@{Get\+Short\+Slot\+Time\+Enabled}}
\index{Get\+Short\+Slot\+Time\+Enabled@{Get\+Short\+Slot\+Time\+Enabled}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Short\+Slot\+Time\+Enabled(void) const }{GetShortSlotTimeEnabled(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Short\+Slot\+Time\+Enabled (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1ApWifiMac_abc972d9a628f6b50b27a05b1e464bbcd}{}\label{classns3_1_1ApWifiMac_abc972d9a628f6b50b27a05b1e464bbcd}
Determine whether short slot time should be enabled or not in the B\+SS. Typically, true is returned only when there is no non-\/erp stations associated to the AP, and that short slot time is supported by the AP and by all other E\+RP stations that are associated to the AP. Otherwise, false is returned.

\begin{DoxyReturn}{Returns}
whether short slot time should be enabled or not in the B\+SS. 
\end{DoxyReturn}

\begin{DoxyCode}
202 \{
203   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\_nonErpStations}.size () != 0)
204     \{
205       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
206     \}
207   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_ab90230e9a9ea6331758a53a316ee2b38}{m\_erpSupported} == \textcolor{keyword}{true} && \hyperlink{classns3_1_1RegularWifiMac_a05ec5d1fa4fffd5067a811d3bc1ddd72}{GetShortSlotTimeSupported} () == \textcolor{keyword}{true}
      )
208     \{
209       \textcolor{keywordflow}{for} (std::list<Mac48Address>::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.begin (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
210         \{
211           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a62ea37f7c34915c72a51cfcde22ea4ae}{GetShortSlotTimeSupported} (*
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \textcolor{keyword}{false})
212             \{
213               \textcolor{keywordflow}{return} \textcolor{keyword}{false};
214             \}
215         \}
216       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
217     \}
218   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
219 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 29




Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Supported\+Rates@{Get\+Supported\+Rates}}
\index{Get\+Supported\+Rates@{Get\+Supported\+Rates}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Supported\+Rates(void) const }{GetSupportedRates(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Supported\+Rates} ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Supported\+Rates (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a3d1278fa6624859d50b4ed984125de30}{}\label{classns3_1_1ApWifiMac_a3d1278fa6624859d50b4ed984125de30}
Return an instance of \hyperlink{classns3_1_1SupportedRates}{Supported\+Rates} that contains all rates that we support including HT rates.

\begin{DoxyReturn}{Returns}
\hyperlink{classns3_1_1SupportedRates}{Supported\+Rates} all rates that we support 
\end{DoxyReturn}

\begin{DoxyCode}
380 \{
381   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
382   SupportedRates rates;
383   \textcolor{comment}{//If it is an HT-AP or VHT-AP or HE-AP, then add the BSSMembershipSelectorSet}
384   \textcolor{comment}{//The standard says that the BSSMembershipSelectorSet}
385   \textcolor{comment}{//must have its MSB set to 1 (must be treated as a Basic Rate)}
386   \textcolor{comment}{//Also the standard mentioned that at least 1 element should be included in the SupportedRates the rest
       can be in the ExtendedSupportedRates}
387   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a8950c44b8cf2ad1f9274821cf88adc7b}{m\_htSupported} || \hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported} || 
      \hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
388     \{
389       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a0d5b168ddf02c7df51f83004454232c2}{GetNBssMembershipSelectors} (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
390         \{
391           rates.AddBssMembershipSelectorRate (\hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->
      \hyperlink{classns3_1_1WifiPhy_a3b6817c0140f083292ef70333d1c78c3}{GetBssMembershipSelector} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
392         \}
393     \}
394   \textcolor{comment}{//}
395   \textcolor{comment}{//Send the set of supported rates and make sure that we indicate}
396   \textcolor{comment}{//the Basic Rate set in this set of supported rates.}
397   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a2467e56b69d64bb2d648302f39397317}{GetNModes} (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
398     \{
399       WifiMode mode = \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ac35983a13a769a7fbaac43340b8cdaf2}{GetMode} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
400       uint64\_t modeDataRate = mode.\hyperlink{classns3_1_1WifiMode_adcfbe150f69da720db23387f733b8a52}{GetDataRate} (\hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->
      \hyperlink{classns3_1_1WifiPhy_a4a5d5009b3b3308f2baeed42a2007189}{GetChannelWidth} ());
401       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Adding supported rate of "} << modeDataRate);
402       rates.AddSupportedRate (modeDataRate);
403       \textcolor{comment}{//Add rates that are part of the BSSBasicRateSet (manufacturer dependent!)}
404       \textcolor{comment}{//here we choose to add the mandatory rates to the BSSBasicRateSet,}
405       \textcolor{comment}{//except for 802.11b where we assume that only the non HR-DSSS rates are part of the BSSBasicRateSet}
406       \textcolor{keywordflow}{if} (mode.IsMandatory () && (mode.GetModulationClass () != 
      \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a3c847bbae970f2de31e7b4eb7ff49840}{WIFI\_MOD\_CLASS\_HR\_DSSS}))
407         \{
408           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Adding basic mode "} << mode.GetUniqueName ());
409           \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a169339a6312b10580cb6a940228833f0}{AddBasicMode} (mode);
410         \}
411     \}
412   \textcolor{comment}{//set the basic rates}
413   \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a1528f837dd70f82cda248f1434b94357}{GetNBasicModes} (); j++)
414     \{
415       WifiMode mode = \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a8e4599eafc71fa98f6869e3d8908ea24}{GetBasicMode} (j);
416       uint64\_t modeDataRate = mode.\hyperlink{classns3_1_1WifiMode_adcfbe150f69da720db23387f733b8a52}{GetDataRate} (\hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->
      \hyperlink{classns3_1_1WifiPhy_a4a5d5009b3b3308f2baeed42a2007189}{GetChannelWidth} ());
417       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Setting basic rate "} << mode.GetUniqueName ());
418       rates.SetBasicRate (modeDataRate);
419     \}
420 
421   \textcolor{keywordflow}{return} rates;
422 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 31




Here is the caller graph for this function\+:
% FIG 32


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1ApWifiMac_aa7cd3c1ec15889267ab5b5e183b91d2b}{}\label{classns3_1_1ApWifiMac_aa7cd3c1ec15889267ab5b5e183b91d2b}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
38 \{
39   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::ApWifiMac"})
40     .SetParent<\hyperlink{classns3_1_1RegularWifiMac_a56bc0e2b8ecde6fc50e6f8921ce64957}{RegularWifiMac}> ()
41     .SetGroupName (\textcolor{stringliteral}{"Wifi"})
42     .AddConstructor<\hyperlink{classns3_1_1ApWifiMac_a6fda79b577eb79eaabceb05a36e27b44}{ApWifiMac}> ()
43     .AddAttribute (\textcolor{stringliteral}{"BeaconInterval"},
44                    \textcolor{stringliteral}{"Delay between two beacons"},
45                    TimeValue (\hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (102400)),
46                    MakeTimeAccessor (&\hyperlink{classns3_1_1ApWifiMac_adaa4b445c0b2a4afa016dd4df1b4b4eb}{ApWifiMac::GetBeaconInterval},
47                                      &\hyperlink{classns3_1_1ApWifiMac_a164d67e99b6afd7cdf95c1ec5a5b40e4}{ApWifiMac::SetBeaconInterval}),
48                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
49     .AddAttribute (\textcolor{stringliteral}{"BeaconJitter"},
50                    \textcolor{stringliteral}{"A uniform random variable to cause the initial beacon starting time (after simulation
       time 0) "}
51                    \textcolor{stringliteral}{"to be distributed between 0 and the BeaconInterval."},
52                    StringValue (\textcolor{stringliteral}{"ns3::UniformRandomVariable"}),
53                    MakePointerAccessor (&\hyperlink{classns3_1_1ApWifiMac_a319661e15bf89aedd0e0a3494195d055}{ApWifiMac::m\_beaconJitter}),
54                    MakePointerChecker<UniformRandomVariable> ())
55     .AddAttribute (\textcolor{stringliteral}{"EnableBeaconJitter"},
56                    \textcolor{stringliteral}{"If beacons are enabled, whether to jitter the initial send event."},
57                    BooleanValue (\textcolor{keyword}{false}),
58                    MakeBooleanAccessor (&\hyperlink{classns3_1_1ApWifiMac_a803812db18b44720f24e48140e0f0c1e}{ApWifiMac::m\_enableBeaconJitter}),
59                    MakeBooleanChecker ())
60     .AddAttribute (\textcolor{stringliteral}{"BeaconGeneration"},
61                    \textcolor{stringliteral}{"Whether or not beacons are generated."},
62                    BooleanValue (\textcolor{keyword}{true}),
63                    MakeBooleanAccessor (&\hyperlink{classns3_1_1ApWifiMac_a09ad3b96835cb8fac18783423d3e57a7}{ApWifiMac::SetBeaconGeneration},
64                                         &\hyperlink{classns3_1_1ApWifiMac_af6c5a1906e2bb39a655f92738efb9256}{ApWifiMac::GetBeaconGeneration}),
65                    MakeBooleanChecker ())
66     .AddAttribute (\textcolor{stringliteral}{"EnableNonErpProtection"}, \textcolor{stringliteral}{"Whether or not protection mechanism should be used when
       non-ERP STAs are present within the BSS."}
67                    \textcolor{stringliteral}{"This parameter is only used when ERP is supported by the AP."},
68                    BooleanValue (\textcolor{keyword}{true}),
69                    MakeBooleanAccessor (&\hyperlink{classns3_1_1ApWifiMac_a3f18f344b2eefe6357790600df8c4d23}{ApWifiMac::m\_enableNonErpProtection}
      ),
70                    MakeBooleanChecker ())
71     .AddAttribute (\textcolor{stringliteral}{"RifsMode"}, \textcolor{stringliteral}{"If non-HT STAs are detected, whether to force RIFS to be disabled within
       the BSS."}
72                    \textcolor{stringliteral}{"This parameter is only used when HT is supported by the AP."},
73                    BooleanValue (\textcolor{keyword}{true}),
74                    MakeBooleanAccessor (&\hyperlink{classns3_1_1ApWifiMac_ab5ac2f56d033984a8db29d69aa230811}{ApWifiMac::m\_disableRifs}),
75                    MakeBooleanChecker ())
76   ;
77   \textcolor{keywordflow}{return} tid;
78 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 33


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Use\+Non\+Erp\+Protection@{Get\+Use\+Non\+Erp\+Protection}}
\index{Get\+Use\+Non\+Erp\+Protection@{Get\+Use\+Non\+Erp\+Protection}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Use\+Non\+Erp\+Protection(void) const }{GetUseNonErpProtection(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Use\+Non\+Erp\+Protection (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a62eda2e1029d7922c4ed5bb5b0925d13}{}\label{classns3_1_1ApWifiMac_a62eda2e1029d7922c4ed5bb5b0925d13}
Return whether protection for non-\/\+E\+RP stations is used in the B\+SS.

\begin{DoxyReturn}{Returns}
true if protection for non-\/\+E\+RP stations is used in the B\+SS, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
1150 \{
1151   \textcolor{keywordtype}{bool} useProtection = !\hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\_nonErpStations}.empty () && 
      \hyperlink{classns3_1_1ApWifiMac_a3f18f344b2eefe6357790600df8c4d23}{m\_enableNonErpProtection};
1152   \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a409e92951019a05af1266a30c14995d2}{SetUseNonErpProtection} (useProtection);
1153   \textcolor{keywordflow}{return} useProtection;
1154 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 34




Here is the caller graph for this function\+:
% FIG 35


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Vht\+Operation@{Get\+Vht\+Operation}}
\index{Get\+Vht\+Operation@{Get\+Vht\+Operation}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Vht\+Operation(void) const }{GetVhtOperation(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Vht\+Operation} ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Vht\+Operation (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_afde045b9f011d312e3110bb5b9411403}{}\label{classns3_1_1ApWifiMac_afde045b9f011d312e3110bb5b9411403}
Return the V\+HT operation of the current AP.

\begin{DoxyReturn}{Returns}
the V\+HT operation that we support 
\end{DoxyReturn}

\begin{DoxyCode}
539 \{
540   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
541   VhtOperation operation;
542   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported})
543     \{
544       operation.SetVhtSupported (1);
545       uint8\_t channelWidth = \hyperlink{classns3_1_1ApWifiMac_abec5a8ca80c9649d59eeaf37eb091bd1}{GetVhtOperationalChannelWidth} ();
546       \textcolor{keywordflow}{if} (channelWidth == 160)
547         \{
548           operation.SetChannelWidth (2);
549         \}
550       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (channelWidth == 80)
551         \{
552           operation.SetChannelWidth (1);
553         \}
554       \textcolor{keywordflow}{else}
555         \{
556           operation.SetChannelWidth (0);
557         \}
558       \textcolor{keywordflow}{for} (uint8\_t nss = 1; nss <= 8; nss++)
559         \{
560           uint8\_t maxMcs;
561           \textcolor{keywordflow}{if} (nss <= m\_phy->GetMaxSupportedRxSpatialStreams ())
562             \{
563               maxMcs = 9; \textcolor{comment}{//TBD: hardcode to 9 for now since we assume all MCS values are supported}
564             \}
565           \textcolor{keywordflow}{else}
566             \{
567               maxMcs = 0;
568             \}
569           operation.SetMaxVhtMcsPerNss (nss, maxMcs);
570         \}
571 
572     \}
573   \textcolor{keywordflow}{return} operation;
574 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 36




Here is the caller graph for this function\+:
% FIG 37


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Get\+Vht\+Operational\+Channel\+Width@{Get\+Vht\+Operational\+Channel\+Width}}
\index{Get\+Vht\+Operational\+Channel\+Width@{Get\+Vht\+Operational\+Channel\+Width}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Vht\+Operational\+Channel\+Width(void) const }{GetVhtOperationalChannelWidth(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ap\+Wifi\+Mac\+::\+Get\+Vht\+Operational\+Channel\+Width (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1ApWifiMac_abec5a8ca80c9649d59eeaf37eb091bd1}{}\label{classns3_1_1ApWifiMac_abec5a8ca80c9649d59eeaf37eb091bd1}
Determine the V\+HT operational channel width (in M\+Hz).

\begin{DoxyReturn}{Returns}
the V\+HT operational channel width (in M\+Hz). 
\end{DoxyReturn}

\begin{DoxyCode}
256 \{
257   uint8\_t channelWidth = \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a4a5d5009b3b3308f2baeed42a2007189}{GetChannelWidth} ();
258   \textcolor{keywordflow}{for} (std::list<Mac48Address>::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.begin (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
259     \{
260       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_aecf5ed3203b9b55cd831696a08daa5fe}{GetVhtSupported} (*\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}))
261         \{
262           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a8e61df321e8e10b731dea83caafb0cce}{GetChannelWidthSupported} (*
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) < channelWidth)
263             \{
264               channelWidth = \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a8e61df321e8e10b731dea83caafb0cce}{GetChannelWidthSupported} (*\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
265             \}
266         \}
267     \}
268   \textcolor{keywordflow}{return} channelWidth;
269 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 38




Here is the caller graph for this function\+:
% FIG 39


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Is\+Non\+Gf\+Ht\+Stas\+Present@{Is\+Non\+Gf\+Ht\+Stas\+Present}}
\index{Is\+Non\+Gf\+Ht\+Stas\+Present@{Is\+Non\+Gf\+Ht\+Stas\+Present}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Is\+Non\+Gf\+Ht\+Stas\+Present(void) const }{IsNonGfHtStasPresent(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::\+Is\+Non\+Gf\+Ht\+Stas\+Present (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1ApWifiMac_a402b8852eba84458667b666df75b589f}{}\label{classns3_1_1ApWifiMac_a402b8852eba84458667b666df75b589f}
Determine whether non-\/\+Greenfield HT stations are present or not.

\begin{DoxyReturn}{Returns}
whether non-\/\+Greenfield HT stations are present or not. 
\end{DoxyReturn}

\begin{DoxyCode}
240 \{
241   \textcolor{keywordtype}{bool} isNonGfHtStasPresent = \textcolor{keyword}{false};
242   \textcolor{keywordflow}{for} (std::list<Mac48Address>::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.begin (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
243     \{
244       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ad7e8b1cf473b5ce4a593d6dff8e038d1}{GetGreenfieldSupported} (*
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \textcolor{keyword}{false})
245         \{
246           isNonGfHtStasPresent = \textcolor{keyword}{true};
247           \textcolor{keywordflow}{break};
248         \}
249     \}
250   \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_af420085117ec1e0f26fc494cc978ab7d}{SetUseGreenfieldProtection} (
      isNonGfHtStasPresent);
251   \textcolor{keywordflow}{return} isNonGfHtStasPresent;
252 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 40




Here is the caller graph for this function\+:
% FIG 41


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Receive@{Receive}}
\index{Receive@{Receive}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Receive(\+Ptr$<$ Packet $>$ packet, const Wifi\+Mac\+Header $\ast$hdr)}{Receive(Ptr< Packet > packet, const WifiMacHeader *hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Receive (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_ab7e832f29bf91319e3ecdf0de7d5d598}{}\label{classns3_1_1ApWifiMac_ab7e832f29bf91319e3ecdf0de7d5d598}
This method acts as the \hyperlink{classns3_1_1MacRxMiddle}{Mac\+Rx\+Middle} receive callback and is invoked to notify us that a frame has been received. The implementation is intended to capture logic that is going to be common to all (or most) derived classes. Specifically, handling of Block Ack managment frames is dealt with here.

This method will need, however, to be overriden by derived classes so that they can perform their data handling before invoking the base version.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet that has been received. \\
\hline
{\em hdr} & a pointer to the M\+AC header of the received frame. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1RegularWifiMac_a9abbbcea65b6dc416ab1b44785c40e9f}{ns3\+::\+Regular\+Wifi\+Mac}.


\begin{DoxyCode}
789 \{
790   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << hdr);
791 
792   Mac48Address \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from} = hdr->GetAddr2 ();
793 
794   \textcolor{keywordflow}{if} (hdr->IsData ())
795     \{
796       Mac48Address bssid = hdr->GetAddr1 ();
797       \textcolor{keywordflow}{if} (!hdr->IsFromDs ()
798           && hdr->IsToDs ()
799           && bssid == \hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ()
800           && \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a1c3e9d6c0ca04ccb08793d034d9d156f}{IsAssociated} (from))
801         \{
802           Mac48Address to = hdr->GetAddr3 ();
803           \textcolor{keywordflow}{if} (to == \hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ())
804             \{
805               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"frame for me from="} << from);
806               \textcolor{keywordflow}{if} (hdr->IsQosData ())
807                 \{
808                   \textcolor{keywordflow}{if} (hdr->IsQosAmsdu ())
809                     \{
810                       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Received A-MSDU from="} << from << \textcolor{stringliteral}{", size="} << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
811                       \hyperlink{classns3_1_1ApWifiMac_a1eb0f6a5911786e99fc0b58fd2a0e356}{DeaggregateAmsduAndForward} (packet, hdr);
812                       packet = 0;
813                     \}
814                   \textcolor{keywordflow}{else}
815                     \{
816                       \hyperlink{classns3_1_1RegularWifiMac_a34df292af97e69fefda8303cdb323d1d}{ForwardUp} (packet, from, bssid);
817                     \}
818                 \}
819               \textcolor{keywordflow}{else}
820                 \{
821                   \hyperlink{classns3_1_1RegularWifiMac_a34df292af97e69fefda8303cdb323d1d}{ForwardUp} (packet, from, bssid);
822                 \}
823             \}
824           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (to.IsGroup ()
825                    || \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a1c3e9d6c0ca04ccb08793d034d9d156f}{IsAssociated} (to))
826             \{
827               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"forwarding frame from="} << from << \textcolor{stringliteral}{", to="} << to);
828               Ptr<Packet> copy = packet->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} ();
829 
830               \textcolor{comment}{//If the frame we are forwarding is of type QoS Data,}
831               \textcolor{comment}{//then we need to preserve the UP in the QoS control}
832               \textcolor{comment}{//header...}
833               \textcolor{keywordflow}{if} (hdr->IsQosData ())
834                 \{
835                   \hyperlink{classns3_1_1ApWifiMac_a407bd4754f3f401eb6c5b4a4fe622250}{ForwardDown} (packet, from, to, hdr->GetQosTid ());
836                 \}
837               \textcolor{keywordflow}{else}
838                 \{
839                   \hyperlink{classns3_1_1ApWifiMac_a407bd4754f3f401eb6c5b4a4fe622250}{ForwardDown} (packet, from, to);
840                 \}
841               \hyperlink{classns3_1_1RegularWifiMac_a34df292af97e69fefda8303cdb323d1d}{ForwardUp} (copy, from, to);
842             \}
843           \textcolor{keywordflow}{else}
844             \{
845               \hyperlink{classns3_1_1RegularWifiMac_a34df292af97e69fefda8303cdb323d1d}{ForwardUp} (packet, from, to);
846             \}
847         \}
848       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr->IsFromDs ()
849                && hdr->IsToDs ())
850         \{
851           \textcolor{comment}{//this is an AP-to-AP frame}
852           \textcolor{comment}{//we ignore for now.}
853           \hyperlink{classns3_1_1WifiMac_acc2ef3079b2a6ac4fb3838608e5e1ed4}{NotifyRxDrop} (packet);
854         \}
855       \textcolor{keywordflow}{else}
856         \{
857           \textcolor{comment}{//we can ignore these frames since}
858           \textcolor{comment}{//they are not targeted at the AP}
859           \hyperlink{classns3_1_1WifiMac_acc2ef3079b2a6ac4fb3838608e5e1ed4}{NotifyRxDrop} (packet);
860         \}
861       \textcolor{keywordflow}{return};
862     \}
863   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr->IsMgt ())
864     \{
865       \textcolor{keywordflow}{if} (hdr->IsProbeReq ())
866         \{
867           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (hdr->GetAddr1 ().IsBroadcast ());
868           \hyperlink{classns3_1_1ApWifiMac_a0a9fcbd87326c5c56644deb3504038df}{SendProbeResp} (from);
869           \textcolor{keywordflow}{return};
870         \}
871       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr->GetAddr1 () == \hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ())
872         \{
873           \textcolor{keywordflow}{if} (hdr->IsAssocReq ())
874             \{
875               \textcolor{comment}{//first, verify that the the station's supported}
876               \textcolor{comment}{//rate set is compatible with our Basic Rate set}
877               MgtAssocRequestHeader assocReq;
878               packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (assocReq);
879               CapabilityInformation capabilities = assocReq.GetCapabilities ();
880               \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a87909d301ec356d94d625e41d7015e5a}{AddSupportedPlcpPreamble} (from, 
      capabilities.IsShortPreamble ());
881               SupportedRates rates = assocReq.GetSupportedRates ();
882               \textcolor{keywordtype}{bool} problem = \textcolor{keyword}{false};
883               \textcolor{keywordtype}{bool} isHtStation = \textcolor{keyword}{false};
884               \textcolor{keywordtype}{bool} isOfdmStation = \textcolor{keyword}{false};
885               \textcolor{keywordtype}{bool} isErpStation = \textcolor{keyword}{false};
886               \textcolor{keywordtype}{bool} isDsssStation = \textcolor{keyword}{false};
887               \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a1528f837dd70f82cda248f1434b94357}{GetNBasicModes} (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
888                 \{
889                   WifiMode mode = \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a8e4599eafc71fa98f6869e3d8908ea24}{GetBasicMode} (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
890                   \textcolor{keywordflow}{if} (!rates.IsSupportedRate (mode.GetDataRate (\hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->
      \hyperlink{classns3_1_1WifiPhy_a4a5d5009b3b3308f2baeed42a2007189}{GetChannelWidth} ())))
891                     \{
892                       \textcolor{keywordflow}{if} ((mode.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217aed8070e1ee089724d73fe63030cc112c}{WIFI\_MOD\_CLASS\_DSSS}) || (mode.
      GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a3c847bbae970f2de31e7b4eb7ff49840}{WIFI\_MOD\_CLASS\_HR\_DSSS}))
893                         \{
894                           isDsssStation = \textcolor{keyword}{false};
895                         \}
896                       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode.GetModulationClass () == 
      \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217afc1f5ef8d2c985f37a3224dd86ab014d}{WIFI\_MOD\_CLASS\_ERP\_OFDM})
897                         \{
898                           isErpStation = \textcolor{keyword}{false};
899                         \}
900                       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a30a83a0318357c9611f09e6faadc8006}{WIFI\_MOD\_CLASS\_OFDM})
901                         \{
902                           isOfdmStation = \textcolor{keyword}{false};
903                         \}
904                       \textcolor{keywordflow}{if} (isDsssStation == \textcolor{keyword}{false} && isErpStation == \textcolor{keyword}{false} && isOfdmStation == \textcolor{keyword}{false})
905                         \{
906                           problem = \textcolor{keyword}{true};
907                           \textcolor{keywordflow}{break};
908                         \}
909                     \}
910                   \textcolor{keywordflow}{else}
911                     \{
912                       \textcolor{keywordflow}{if} ((mode.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217aed8070e1ee089724d73fe63030cc112c}{WIFI\_MOD\_CLASS\_DSSS}) || (mode.
      GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a3c847bbae970f2de31e7b4eb7ff49840}{WIFI\_MOD\_CLASS\_HR\_DSSS}))
913                         \{
914                           isDsssStation = \textcolor{keyword}{true};
915                         \}
916                       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode.GetModulationClass () == 
      \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217afc1f5ef8d2c985f37a3224dd86ab014d}{WIFI\_MOD\_CLASS\_ERP\_OFDM})
917                         \{
918                           isErpStation = \textcolor{keyword}{true};
919                         \}
920                       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a30a83a0318357c9611f09e6faadc8006}{WIFI\_MOD\_CLASS\_OFDM})
921                         \{
922                           isOfdmStation = \textcolor{keyword}{true};
923                         \}
924                     \}
925                 \}
926               \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ad6f363b975424a99e6190d04078408e5}{AddSupportedErpSlotTime} (from, 
      capabilities.IsShortSlotTime () && isErpStation);
927               \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a8950c44b8cf2ad1f9274821cf88adc7b}{m\_htSupported})
928                 \{
929                   \textcolor{comment}{//check whether the HT STA supports all MCSs in Basic MCS Set}
930                   HtCapabilities htcapabilities = assocReq.GetHtCapabilities ();
931                   \textcolor{keywordflow}{if} (htcapabilities.IsSupportedMcs (0))
932                     \{
933                       isHtStation = \textcolor{keyword}{true};
934                       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a0a421b0b492b65ca21919258085db4dd}{GetNBasicMcs} (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
935                         \{
936                           WifiMode mcs = \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_ad879e69f9470219a53c87de067bf2f40}{GetBasicMcs} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
937                           \textcolor{keywordflow}{if} (!htcapabilities.IsSupportedMcs (mcs.GetMcsValue ()))
938                             \{
939                               problem = \textcolor{keyword}{true};
940                               \textcolor{keywordflow}{break};
941                             \}
942                         \}
943                     \}
944                 \}
945               \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported})
946                 \{
947                   \textcolor{comment}{//check whether the VHT STA supports all MCSs in Basic MCS Set}
948                   VhtCapabilities vhtcapabilities = assocReq.GetVhtCapabilities ();
949                   \textcolor{keywordflow}{if} (vhtcapabilities.GetVhtCapabilitiesInfo () != 0)
950                     \{
951                       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a0a421b0b492b65ca21919258085db4dd}{GetNBasicMcs} (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
952                         \{
953                           WifiMode mcs = \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_ad879e69f9470219a53c87de067bf2f40}{GetBasicMcs} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
954                           \textcolor{keywordflow}{if} (!vhtcapabilities.IsSupportedTxMcs (mcs.GetMcsValue ()))
955                             \{
956                               problem = \textcolor{keyword}{true};
957                               \textcolor{keywordflow}{break};
958                             \}
959                         \}
960                     \}
961                 \}
962               \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
963                 \{
964                   \textcolor{comment}{//check whether the HE STA supports all MCSs in Basic MCS Set}
965                   HeCapabilities hecapabilities = assocReq.GetHeCapabilities ();
966                   \textcolor{keywordflow}{if} (hecapabilities.GetSupportedMcsAndNss () != 0)
967                     \{
968                       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a0a421b0b492b65ca21919258085db4dd}{GetNBasicMcs} (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
969                         \{
970                           WifiMode mcs = \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_ad879e69f9470219a53c87de067bf2f40}{GetBasicMcs} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
971                           \textcolor{keywordflow}{if} (!hecapabilities.IsSupportedTxMcs (mcs.GetMcsValue ()))
972                             \{
973                               problem = \textcolor{keyword}{true};
974                               \textcolor{keywordflow}{break};
975                             \}
976                         \}
977                     \}
978                 \}
979               \textcolor{keywordflow}{if} (problem)
980                 \{
981                   \textcolor{comment}{//One of the Basic Rate set mode is not}
982                   \textcolor{comment}{//supported by the station. So, we return an assoc}
983                   \textcolor{comment}{//response with an error status.}
984                   \hyperlink{classns3_1_1ApWifiMac_a0a36426da94f43b0a9136adf4e58f425}{SendAssocResp} (hdr->GetAddr2 (), \textcolor{keyword}{false});
985                 \}
986               \textcolor{keywordflow}{else}
987                 \{
988                   \textcolor{comment}{//station supports all rates in Basic Rate Set.}
989                   \textcolor{comment}{//record all its supported modes in its associated WifiRemoteStation}
990                   \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a2467e56b69d64bb2d648302f39397317}{GetNModes} (); j++)
991                     \{
992                       WifiMode mode = \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ac35983a13a769a7fbaac43340b8cdaf2}{GetMode} (j);
993                       \textcolor{keywordflow}{if} (rates.IsSupportedRate (mode.GetDataRate (\hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->
      \hyperlink{classns3_1_1WifiPhy_a4a5d5009b3b3308f2baeed42a2007189}{GetChannelWidth} ())))
994                         \{
995                           \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a90f4d6b042c2692493446d36a3de799f}{AddSupportedMode} (from, mode);
996                         \}
997                     \}
998                   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a8950c44b8cf2ad1f9274821cf88adc7b}{m\_htSupported})
999                     \{
1000                       HtCapabilities htCapabilities = assocReq.GetHtCapabilities ();
1001                       \textcolor{keywordflow}{if} (htCapabilities.IsSupportedMcs (0))
1002                         \{
1003                           \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_ae78d843a98a66ff2d8584da8ed189b4d}{AddStationHtCapabilities} (from, htCapabilities);
1004                           \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aede1b3de380510e387aaafcfda7a0db0}{GetNMcs} (); j++)
1005                             \{
1006                               WifiMode mcs = \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a6a8740a6fbb7ff618c80e0a0867467fd}{GetMcs} (j);
1007                               \textcolor{keywordflow}{if} (mcs.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a6ac45cac36cc4454649435d24ebf349c}{WIFI\_MOD\_CLASS\_HT} && 
      htCapabilities.IsSupportedMcs (mcs.GetMcsValue ()))
1008                                 \{
1009                                   \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a4fd51c027afacdfa7225346d6d88c6b3}{AddSupportedMcs} (from, mcs);
1010                                 \}
1011                             \}
1012                         \}
1013                     \}
1014                   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported})
1015                     \{
1016                       VhtCapabilities vhtCapabilities = assocReq.GetVhtCapabilities ();
1017                       \textcolor{comment}{//we will always fill in RxHighestSupportedLgiDataRate field at TX, so this can be
       used to check whether it supports VHT}
1018                       \textcolor{keywordflow}{if} (vhtCapabilities.GetRxHighestSupportedLgiDataRate () > 0)
1019                         \{
1020                           \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a52b9e283f99e113cba95afbc2acea72b}{AddStationVhtCapabilities} (from, vhtCapabilities);
1021                           \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aede1b3de380510e387aaafcfda7a0db0}{GetNMcs} (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1022                             \{
1023                               WifiMode mcs = \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a6a8740a6fbb7ff618c80e0a0867467fd}{GetMcs} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1024                               \textcolor{keywordflow}{if} (mcs.GetModulationClass () == 
      \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a9863e4342bf5c238c74dddfc4d96c67e}{WIFI\_MOD\_CLASS\_VHT} && vhtCapabilities.IsSupportedTxMcs (mcs.GetMcsValue ()))
1025                                 \{
1026                                   \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a4fd51c027afacdfa7225346d6d88c6b3}{AddSupportedMcs} (hdr->GetAddr2 (), mcs);
1027                                   \textcolor{comment}{//here should add a control to add basic MCS when it is implemented}
1028                                 \}
1029                             \}
1030                         \}
1031                     \}
1032                   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
1033                     \{
1034                       HeCapabilities heCapabilities = assocReq.GetHeCapabilities ();
1035                       \textcolor{comment}{//todo: once we support non constant rate managers, we should add checks here whether
       HE is supported by the peer}
1036                       \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a948fccf8ed2cb0dcfaa73784ec35db8e}{AddStationHeCapabilities} (
      from, heCapabilities);
1037                       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aede1b3de380510e387aaafcfda7a0db0}{GetNMcs} (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1038                         \{
1039                           WifiMode mcs = \hyperlink{classns3_1_1RegularWifiMac_a1a6dad8eb0a057a4e1b459f518457a4c}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a6a8740a6fbb7ff618c80e0a0867467fd}{GetMcs} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1040                           \textcolor{keywordflow}{if} (mcs.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217abfa4f7272510045a9b43e8ac27ac13b0}{WIFI\_MOD\_CLASS\_HE} && 
      heCapabilities.IsSupportedTxMcs (mcs.GetMcsValue ()))
1041                             \{
1042                               \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a4fd51c027afacdfa7225346d6d88c6b3}{AddSupportedMcs} (hdr->
      GetAddr2 (), mcs);
1043                               \textcolor{comment}{//here should add a control to add basic MCS when it is implemented}
1044                             \}
1045                         \}
1046                     \}
1047                   \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a884385355dee42ba3eed2757bc485ac8}{RecordWaitAssocTxOk} (from);
1048                   \textcolor{keywordflow}{if} (!isHtStation)
1049                     \{
1050                       \hyperlink{classns3_1_1ApWifiMac_a148d1aa2c429b0530603c797775fa5da}{m\_nonHtStations}.push\_back (hdr->GetAddr2 ());
1051                     \}
1052                   \textcolor{keywordflow}{if} (!isErpStation && isDsssStation)
1053                     \{
1054                       \hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\_nonErpStations}.push\_back (hdr->GetAddr2 ());
1055                     \}
1056                   \textcolor{comment}{// send assoc response with success status.}
1057                   \hyperlink{classns3_1_1ApWifiMac_a0a36426da94f43b0a9136adf4e58f425}{SendAssocResp} (hdr->GetAddr2 (), \textcolor{keyword}{true});
1058                 \}
1059               \textcolor{keywordflow}{return};
1060             \}
1061           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr->IsDisassociation ())
1062             \{
1063               \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_abcb92c63342aed2603c1dfb131e0fe8a}{RecordDisassociated} (from);
1064               \textcolor{keywordflow}{for} (std::list<Mac48Address>::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.begin (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1065                 \{
1066                   \textcolor{keywordflow}{if} ((*\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from})
1067                     \{
1068                       \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.erase (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1069                       \textcolor{keywordflow}{break};
1070                     \}
1071                 \}
1072               \textcolor{keywordflow}{for} (std::list<Mac48Address>::iterator j = \hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\_nonErpStations}.begin (); j != 
      \hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\_nonErpStations}.end (); j++)
1073                 \{
1074                   \textcolor{keywordflow}{if} ((*j) == \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from})
1075                     \{
1076                       \hyperlink{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{m\_nonErpStations}.erase (j);
1077                       \textcolor{keywordflow}{break};
1078                     \}
1079                 \}
1080               \textcolor{keywordflow}{for} (std::list<Mac48Address>::iterator j = \hyperlink{classns3_1_1ApWifiMac_a148d1aa2c429b0530603c797775fa5da}{m\_nonHtStations}.begin (); j != 
      \hyperlink{classns3_1_1ApWifiMac_a148d1aa2c429b0530603c797775fa5da}{m\_nonHtStations}.end (); j++)
1081                 \{
1082                   \textcolor{keywordflow}{if} ((*j) == \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from})
1083                     \{
1084                       \hyperlink{classns3_1_1ApWifiMac_a148d1aa2c429b0530603c797775fa5da}{m\_nonHtStations}.erase (j);
1085                       \textcolor{keywordflow}{break};
1086                     \}
1087                 \}
1088               \textcolor{keywordflow}{return};
1089             \}
1090         \}
1091     \}
1092 
1093   \textcolor{comment}{//Invoke the receive handler of our parent class to deal with any}
1094   \textcolor{comment}{//other frames. Specifically, this will handle Block Ack-related}
1095   \textcolor{comment}{//Management Action frames.}
1096   \hyperlink{classns3_1_1RegularWifiMac_a9abbbcea65b6dc416ab1b44785c40e9f}{RegularWifiMac::Receive} (packet, hdr);
1097 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 42


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Send\+Assoc\+Resp@{Send\+Assoc\+Resp}}
\index{Send\+Assoc\+Resp@{Send\+Assoc\+Resp}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Send\+Assoc\+Resp(\+Mac48\+Address to, bool success)}{SendAssocResp(Mac48Address to, bool success)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Send\+Assoc\+Resp (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{to, }
\item[{bool}]{success}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a0a36426da94f43b0a9136adf4e58f425}{}\label{classns3_1_1ApWifiMac_a0a36426da94f43b0a9136adf4e58f425}
Forward an association response packet to the D\+CF. The standard is not clear on the correct queue for management frames if QoS is supported. We always use the D\+CF.


\begin{DoxyParams}{Parameters}
{\em to} & the address of the S\+TA we are sending an association response to \\
\hline
{\em success} & indicates whether the association was successful or not \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
633 \{
634   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << to << success);
635   WifiMacHeader hdr;
636   hdr.SetAssocResp ();
637   hdr.SetAddr1 (to);
638   hdr.SetAddr2 (\hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ());
639   hdr.SetAddr3 (\hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ());
640   hdr.SetDsNotFrom ();
641   hdr.SetDsNotTo ();
642   Ptr<Packet> packet = Create<Packet> ();
643   MgtAssocResponseHeader assoc;
644   StatusCode code;
645   \textcolor{keywordflow}{if} (success)
646     \{
647       code.SetSuccess ();
648       \hyperlink{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{m\_staList}.push\_back (to);
649     \}
650   \textcolor{keywordflow}{else}
651     \{
652       code.SetFailure ();
653     \}
654   assoc.SetSupportedRates (\hyperlink{classns3_1_1ApWifiMac_a3d1278fa6624859d50b4ed984125de30}{GetSupportedRates} ());
655   assoc.SetStatusCode (code);
656   assoc.SetCapabilities (\hyperlink{classns3_1_1ApWifiMac_a5794cfc6ec6c72f335b36f302a83178a}{GetCapabilities} ());
657   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_ab90230e9a9ea6331758a53a316ee2b38}{m\_erpSupported})
658     \{
659       assoc.SetErpInformation (\hyperlink{classns3_1_1ApWifiMac_ae88a116a1cdc0895105765b2c27e2f1a}{GetErpInformation} ());
660     \}
661   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_aeecdb918687493a8efdd70304bc0cee9}{m\_qosSupported})
662     \{
663       assoc.SetEdcaParameterSet (\hyperlink{classns3_1_1ApWifiMac_a6b29faae7352877a1aa97a2146725ff5}{GetEdcaParameterSet} ());
664     \}
665   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a8950c44b8cf2ad1f9274821cf88adc7b}{m\_htSupported} || \hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported} || 
      \hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
666     \{
667       assoc.SetHtCapabilities (\hyperlink{classns3_1_1RegularWifiMac_ae2b0a52735a938a0f1ca233397ae2185}{GetHtCapabilities} ());
668       assoc.SetHtOperation (\hyperlink{classns3_1_1ApWifiMac_ae67f8b753332b379d189007ffee40733}{GetHtOperation} ());
669       hdr.SetNoOrder ();
670     \}
671   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported} || \hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
672     \{
673       assoc.SetVhtCapabilities (\hyperlink{classns3_1_1RegularWifiMac_ade487870f5663694d30a2dd6a7e614e8}{GetVhtCapabilities} ());
674       assoc.SetVhtOperation (\hyperlink{classns3_1_1ApWifiMac_afde045b9f011d312e3110bb5b9411403}{GetVhtOperation} ());
675     \}
676   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
677     \{
678       assoc.SetHeCapabilities (\hyperlink{classns3_1_1RegularWifiMac_aea22761a20fdff9f6c1a9acc49d63700}{GetHeCapabilities} ());
679     \}
680   packet->AddHeader (assoc);
681 
682   \textcolor{comment}{//The standard is not clear on the correct queue for management}
683   \textcolor{comment}{//frames if we are a QoS AP. The approach taken here is to always}
684   \textcolor{comment}{//use the DCF for these regardless of whether we have a QoS}
685   \textcolor{comment}{//association or not.}
686   \hyperlink{classns3_1_1RegularWifiMac_a152965c3def1a308b088b37c2c88a1a2}{m\_dca}->Queue (packet, hdr);
687 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 43




Here is the caller graph for this function\+:
% FIG 44


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Send\+One\+Beacon@{Send\+One\+Beacon}}
\index{Send\+One\+Beacon@{Send\+One\+Beacon}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Send\+One\+Beacon(void)}{SendOneBeacon(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Send\+One\+Beacon (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a6c8cbc0fc95f3eaf4840d4ffcf78fac5}{}\label{classns3_1_1ApWifiMac_a6c8cbc0fc95f3eaf4840d4ffcf78fac5}
Forward a beacon packet to the beacon special D\+CF. 
\begin{DoxyCode}
691 \{
692   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
693   WifiMacHeader hdr;
694   hdr.SetBeacon ();
695   hdr.SetAddr1 (\hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ());
696   hdr.SetAddr2 (\hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ());
697   hdr.SetAddr3 (\hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ());
698   hdr.SetDsNotFrom ();
699   hdr.SetDsNotTo ();
700   Ptr<Packet> packet = Create<Packet> ();
701   MgtBeaconHeader beacon;
702   beacon.SetSsid (\hyperlink{classns3_1_1RegularWifiMac_a3cd4316ccd72111fa94f7091d4deb521}{GetSsid} ());
703   beacon.SetSupportedRates (\hyperlink{classns3_1_1ApWifiMac_a3d1278fa6624859d50b4ed984125de30}{GetSupportedRates} ());
704   beacon.SetBeaconIntervalUs (\hyperlink{classns3_1_1ApWifiMac_a798e9c63c2c85d0973fd1456ffdd38e3}{m\_beaconInterval}.\hyperlink{classns3_1_1Time_a2542b9273c336da11fcaf54e8bc6e4c8}{GetMicroSeconds} ());
705   beacon.SetCapabilities (\hyperlink{classns3_1_1ApWifiMac_a5794cfc6ec6c72f335b36f302a83178a}{GetCapabilities} ());
706   \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a66a2f347bbc24c14a38da8dc56781cc8}{SetShortPreambleEnabled} (
      \hyperlink{classns3_1_1ApWifiMac_a19ae41add0c00c244c7a66adf523b445}{GetShortPreambleEnabled} ());
707   \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a127fb3ed96ad66f647c1fa3dc616e274}{SetShortSlotTimeEnabled} (
      \hyperlink{classns3_1_1ApWifiMac_abc972d9a628f6b50b27a05b1e464bbcd}{GetShortSlotTimeEnabled} ());
708   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_ab6ce267a1e23e9c1d84908e07831bd6d}{m\_dsssSupported})
709     \{
710       beacon.SetDsssParameterSet (\hyperlink{classns3_1_1ApWifiMac_a577723413f2a747d71ed01d8646ccc79}{GetDsssParameterSet} ());
711     \}
712   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_ab90230e9a9ea6331758a53a316ee2b38}{m\_erpSupported})
713     \{
714       beacon.SetErpInformation (\hyperlink{classns3_1_1ApWifiMac_ae88a116a1cdc0895105765b2c27e2f1a}{GetErpInformation} ());
715     \}
716   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_aeecdb918687493a8efdd70304bc0cee9}{m\_qosSupported})
717     \{
718       beacon.SetEdcaParameterSet (\hyperlink{classns3_1_1ApWifiMac_a6b29faae7352877a1aa97a2146725ff5}{GetEdcaParameterSet} ());
719     \}
720   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a8950c44b8cf2ad1f9274821cf88adc7b}{m\_htSupported} || \hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported})
721     \{
722       beacon.SetHtCapabilities (\hyperlink{classns3_1_1RegularWifiMac_ae2b0a52735a938a0f1ca233397ae2185}{GetHtCapabilities} ());
723       beacon.SetHtOperation (\hyperlink{classns3_1_1ApWifiMac_ae67f8b753332b379d189007ffee40733}{GetHtOperation} ());
724       hdr.SetNoOrder ();
725     \}
726   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported} || \hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
727     \{
728       beacon.SetVhtCapabilities (\hyperlink{classns3_1_1RegularWifiMac_ade487870f5663694d30a2dd6a7e614e8}{GetVhtCapabilities} ());
729       beacon.SetVhtOperation (\hyperlink{classns3_1_1ApWifiMac_afde045b9f011d312e3110bb5b9411403}{GetVhtOperation} ());
730     \}
731   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
732     \{
733       beacon.SetHeCapabilities (\hyperlink{classns3_1_1RegularWifiMac_aea22761a20fdff9f6c1a9acc49d63700}{GetHeCapabilities} ());
734     \}
735   packet->AddHeader (beacon);
736 
737   \textcolor{comment}{//The beacon has it's own special queue, so we load it in there}
738   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca}->Queue (packet, hdr);
739   \hyperlink{classns3_1_1ApWifiMac_a9ba5983f49f1c44c2623ace4e463d3a0}{m\_beaconEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1ApWifiMac_a798e9c63c2c85d0973fd1456ffdd38e3}{m\_beaconInterval}, &\hyperlink{classns3_1_1ApWifiMac_a6c8cbc0fc95f3eaf4840d4ffcf78fac5}{ApWifiMac::SendOneBeacon}, \textcolor{keyword}{this});
740 
741   \textcolor{comment}{//If a STA that does not support Short Slot Time associates,}
742   \textcolor{comment}{//the AP shall use long slot time beginning at the first Beacon}
743   \textcolor{comment}{//subsequent to the association of the long slot time STA.}
744   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_ab90230e9a9ea6331758a53a316ee2b38}{m\_erpSupported})
745     \{
746       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1ApWifiMac_abc972d9a628f6b50b27a05b1e464bbcd}{GetShortSlotTimeEnabled} () == \textcolor{keyword}{true})
747         \{
748           \textcolor{comment}{//Enable short slot time}
749           \hyperlink{classns3_1_1RegularWifiMac_a71241af3585e17c102e51576f19a49b9}{SetSlot} (\hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (9));
750         \}
751       \textcolor{keywordflow}{else}
752         \{
753           \textcolor{comment}{//Disable short slot time}
754           \hyperlink{classns3_1_1RegularWifiMac_a71241af3585e17c102e51576f19a49b9}{SetSlot} (\hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (20));
755         \}
756     \}
757 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 45




Here is the caller graph for this function\+:
% FIG 46


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Send\+Probe\+Resp@{Send\+Probe\+Resp}}
\index{Send\+Probe\+Resp@{Send\+Probe\+Resp}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Send\+Probe\+Resp(\+Mac48\+Address to)}{SendProbeResp(Mac48Address to)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Send\+Probe\+Resp (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a0a9fcbd87326c5c56644deb3504038df}{}\label{classns3_1_1ApWifiMac_a0a9fcbd87326c5c56644deb3504038df}
Forward a probe response packet to the D\+CF. The standard is not clear on the correct queue for management frames if QoS is supported. We always use the D\+CF.


\begin{DoxyParams}{Parameters}
{\em to} & the address of the S\+TA we are sending a probe response to \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
578 \{
579   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << to);
580   WifiMacHeader hdr;
581   hdr.SetProbeResp ();
582   hdr.SetAddr1 (to);
583   hdr.SetAddr2 (\hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ());
584   hdr.SetAddr3 (\hyperlink{classns3_1_1RegularWifiMac_aea719a7d05fbc664c50479fc900777b7}{GetAddress} ());
585   hdr.SetDsNotFrom ();
586   hdr.SetDsNotTo ();
587   Ptr<Packet> packet = Create<Packet> ();
588   MgtProbeResponseHeader probe;
589   probe.SetSsid (\hyperlink{classns3_1_1RegularWifiMac_a3cd4316ccd72111fa94f7091d4deb521}{GetSsid} ());
590   probe.SetSupportedRates (\hyperlink{classns3_1_1ApWifiMac_a3d1278fa6624859d50b4ed984125de30}{GetSupportedRates} ());
591   probe.SetBeaconIntervalUs (\hyperlink{classns3_1_1ApWifiMac_a798e9c63c2c85d0973fd1456ffdd38e3}{m\_beaconInterval}.\hyperlink{classns3_1_1Time_a2542b9273c336da11fcaf54e8bc6e4c8}{GetMicroSeconds} ());
592   probe.SetCapabilities (\hyperlink{classns3_1_1ApWifiMac_a5794cfc6ec6c72f335b36f302a83178a}{GetCapabilities} ());
593   \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a66a2f347bbc24c14a38da8dc56781cc8}{SetShortPreambleEnabled} (
      \hyperlink{classns3_1_1ApWifiMac_a19ae41add0c00c244c7a66adf523b445}{GetShortPreambleEnabled} ());
594   \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a127fb3ed96ad66f647c1fa3dc616e274}{SetShortSlotTimeEnabled} (
      \hyperlink{classns3_1_1ApWifiMac_abc972d9a628f6b50b27a05b1e464bbcd}{GetShortSlotTimeEnabled} ());
595   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_ab6ce267a1e23e9c1d84908e07831bd6d}{m\_dsssSupported})
596     \{
597       probe.SetDsssParameterSet (\hyperlink{classns3_1_1ApWifiMac_a577723413f2a747d71ed01d8646ccc79}{GetDsssParameterSet} ());
598     \}
599   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_ab90230e9a9ea6331758a53a316ee2b38}{m\_erpSupported})
600     \{
601       probe.SetErpInformation (\hyperlink{classns3_1_1ApWifiMac_ae88a116a1cdc0895105765b2c27e2f1a}{GetErpInformation} ());
602     \}
603   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_aeecdb918687493a8efdd70304bc0cee9}{m\_qosSupported})
604     \{
605       probe.SetEdcaParameterSet (\hyperlink{classns3_1_1ApWifiMac_a6b29faae7352877a1aa97a2146725ff5}{GetEdcaParameterSet} ());
606     \}
607   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a8950c44b8cf2ad1f9274821cf88adc7b}{m\_htSupported} || \hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported} || 
      \hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
608     \{
609       probe.SetHtCapabilities (\hyperlink{classns3_1_1RegularWifiMac_ae2b0a52735a938a0f1ca233397ae2185}{GetHtCapabilities} ());
610       probe.SetHtOperation (\hyperlink{classns3_1_1ApWifiMac_ae67f8b753332b379d189007ffee40733}{GetHtOperation} ());
611       hdr.SetNoOrder ();
612     \}
613   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a151f330fdeb3f83f9ec7cf07537f0e86}{m\_vhtSupported} || \hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
614     \{
615       probe.SetVhtCapabilities (\hyperlink{classns3_1_1RegularWifiMac_ade487870f5663694d30a2dd6a7e614e8}{GetVhtCapabilities} ());
616       probe.SetVhtOperation (\hyperlink{classns3_1_1ApWifiMac_afde045b9f011d312e3110bb5b9411403}{GetVhtOperation} ());
617     \}
618   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1RegularWifiMac_a9458143c722fa0b6e5d223d41585842a}{m\_heSupported})
619     \{
620       probe.SetHeCapabilities (\hyperlink{classns3_1_1RegularWifiMac_aea22761a20fdff9f6c1a9acc49d63700}{GetHeCapabilities} ());
621     \}
622   packet->AddHeader (probe);
623 
624   \textcolor{comment}{//The standard is not clear on the correct queue for management}
625   \textcolor{comment}{//frames if we are a QoS AP. The approach taken here is to always}
626   \textcolor{comment}{//use the DCF for these regardless of whether we have a QoS}
627   \textcolor{comment}{//association or not.}
628   \hyperlink{classns3_1_1RegularWifiMac_a152965c3def1a308b088b37c2c88a1a2}{m\_dca}->Queue (packet, hdr);
629 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 47




Here is the caller graph for this function\+:
% FIG 48


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Set\+Address@{Set\+Address}}
\index{Set\+Address@{Set\+Address}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Address(\+Mac48\+Address address)}{SetAddress(Mac48Address address)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Set\+Address (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{address}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_aafe8da38f3bff4de51d264e1a193a1f2}{}\label{classns3_1_1ApWifiMac_aafe8da38f3bff4de51d264e1a193a1f2}

\begin{DoxyParams}{Parameters}
{\em address} & the current address of this M\+AC layer. \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1WifiMac_acb910dff0196a6ddc27efd106efa1f3a}{ns3\+::\+Wifi\+Mac}.


\begin{DoxyCode}
117 \{
118   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << address);
119   \textcolor{comment}{//As an AP, our MAC address is also the BSSID. Hence we are}
120   \textcolor{comment}{//overriding this function and setting both in our parent class.}
121   \hyperlink{classns3_1_1RegularWifiMac_a71265ac4dff0a65208bed95af4031391}{RegularWifiMac::SetAddress} (address);
122   \hyperlink{classns3_1_1RegularWifiMac_a24af45a5447f736b996a48a0db584e99}{RegularWifiMac::SetBssid} (address);
123 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 49


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Set\+Beacon\+Generation@{Set\+Beacon\+Generation}}
\index{Set\+Beacon\+Generation@{Set\+Beacon\+Generation}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Beacon\+Generation(bool enable)}{SetBeaconGeneration(bool enable)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Set\+Beacon\+Generation (
\begin{DoxyParamCaption}
\item[{bool}]{enable}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a09ad3b96835cb8fac18783423d3e57a7}{}\label{classns3_1_1ApWifiMac_a09ad3b96835cb8fac18783423d3e57a7}
Enable or disable beacon generation of the AP.


\begin{DoxyParams}{Parameters}
{\em enable} & enable or disable beacon generation \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
127 \{
128   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << enable);
129   \textcolor{keywordflow}{if} (!enable)
130     \{
131       \hyperlink{classns3_1_1ApWifiMac_a9ba5983f49f1c44c2623ace4e463d3a0}{m\_beaconEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
132     \}
133   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (enable && !\hyperlink{classns3_1_1ApWifiMac_a783d01de4969a1227232246d82ce1ce9}{m\_enableBeaconGeneration})
134     \{
135       \hyperlink{classns3_1_1ApWifiMac_a9ba5983f49f1c44c2623ace4e463d3a0}{m\_beaconEvent} = \hyperlink{classns3_1_1Simulator_a2219ee02c0647adc83d1c918c3256266}{Simulator::ScheduleNow} (&
      \hyperlink{classns3_1_1ApWifiMac_a6c8cbc0fc95f3eaf4840d4ffcf78fac5}{ApWifiMac::SendOneBeacon}, \textcolor{keyword}{this});
136     \}
137   \hyperlink{classns3_1_1ApWifiMac_a783d01de4969a1227232246d82ce1ce9}{m\_enableBeaconGeneration} = enable;
138 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 50




Here is the caller graph for this function\+:
% FIG 51


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Set\+Beacon\+Interval@{Set\+Beacon\+Interval}}
\index{Set\+Beacon\+Interval@{Set\+Beacon\+Interval}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Beacon\+Interval(\+Time interval)}{SetBeaconInterval(Time interval)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Set\+Beacon\+Interval (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{interval}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ApWifiMac_a164d67e99b6afd7cdf95c1ec5a5b40e4}{}\label{classns3_1_1ApWifiMac_a164d67e99b6afd7cdf95c1ec5a5b40e4}

\begin{DoxyParams}{Parameters}
{\em interval} & the interval between two beacon transmissions. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
176 \{
177   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << interval);
178   \textcolor{keywordflow}{if} ((interval.GetMicroSeconds () % 1024) != 0)
179     \{
180       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"beacon interval should be multiple of 1024us (802.11 time unit), see IEEE
       Std. 802.11-2012"});
181     \}
182   \hyperlink{classns3_1_1ApWifiMac_a798e9c63c2c85d0973fd1456ffdd38e3}{m\_beaconInterval} = interval;
183 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 52




Here is the caller graph for this function\+:
% FIG 53


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Set\+Link\+Up\+Callback@{Set\+Link\+Up\+Callback}}
\index{Set\+Link\+Up\+Callback@{Set\+Link\+Up\+Callback}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Link\+Up\+Callback(\+Callback$<$ void $>$ link\+Up)}{SetLinkUpCallback(Callback< void > linkUp)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Set\+Link\+Up\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Callback}$<$ void $>$}]{link\+Up}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_a81ca5583755bed83abd5e011be755cd4}{}\label{classns3_1_1ApWifiMac_a81ca5583755bed83abd5e011be755cd4}

\begin{DoxyParams}{Parameters}
{\em link\+Up} & the callback to invoke when the link becomes up. \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1WifiMac_a7216f476412946276b93e413c13eca72}{ns3\+::\+Wifi\+Mac}.


\begin{DoxyCode}
164 \{
165   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &linkUp);
166   \hyperlink{classns3_1_1RegularWifiMac_a093dd2e9fcca0c14998b2f551fa0e4e8}{RegularWifiMac::SetLinkUpCallback} (linkUp);
167 
168   \textcolor{comment}{//The approach taken here is that, from the point of view of an AP,}
169   \textcolor{comment}{//the link is always up, so we immediately invoke the callback if}
170   \textcolor{comment}{//one is set}
171   linkUp ();
172 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 54


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Set\+Wifi\+Remote\+Station\+Manager@{Set\+Wifi\+Remote\+Station\+Manager}}
\index{Set\+Wifi\+Remote\+Station\+Manager@{Set\+Wifi\+Remote\+Station\+Manager}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Wifi\+Remote\+Station\+Manager(\+Ptr$<$ Wifi\+Remote\+Station\+Manager $>$ station\+Manager)}{SetWifiRemoteStationManager(Ptr< WifiRemoteStationManager > stationManager)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Set\+Wifi\+Remote\+Station\+Manager (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Wifi\+Remote\+Station\+Manager} $>$}]{station\+Manager}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_ae3c3d4faab6d3a50f7a776cc493a5465}{}\label{classns3_1_1ApWifiMac_ae3c3d4faab6d3a50f7a776cc493a5465}

\begin{DoxyParams}{Parameters}
{\em station\+Manager} & the station manager attached to this M\+AC. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1RegularWifiMac_a78959718cd1c3543063f991f9d5eb61b}{ns3\+::\+Regular\+Wifi\+Mac}.


\begin{DoxyCode}
156 \{
157   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << stationManager);
158   \hyperlink{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{m\_beaconDca}->SetWifiRemoteStationManager (stationManager);
159   \hyperlink{classns3_1_1RegularWifiMac_a78959718cd1c3543063f991f9d5eb61b}{RegularWifiMac::SetWifiRemoteStationManager} (stationManager);
160 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 55


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Start\+Beaconing@{Start\+Beaconing}}
\index{Start\+Beaconing@{Start\+Beaconing}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Start\+Beaconing(void)}{StartBeaconing(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Start\+Beaconing (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ApWifiMac_ae26ad921c3064d5e174c27860c41dfdd}{}\label{classns3_1_1ApWifiMac_ae26ad921c3064d5e174c27860c41dfdd}
Start beacon transmission immediately. 
\begin{DoxyCode}
187 \{
188   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
189   \hyperlink{classns3_1_1ApWifiMac_a6c8cbc0fc95f3eaf4840d4ffcf78fac5}{SendOneBeacon} ();
190 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 56


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Supports\+Send\+From@{Supports\+Send\+From}}
\index{Supports\+Send\+From@{Supports\+Send\+From}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Supports\+Send\+From(void) const }{SupportsSendFrom(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::\+Supports\+Send\+From (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_ad2adbeff7d0d13c68c88757da68e6478}{}\label{classns3_1_1ApWifiMac_ad2adbeff7d0d13c68c88757da68e6478}
\begin{DoxyReturn}{Returns}
if this M\+AC supports sending from arbitrary address.
\end{DoxyReturn}
The interface may or may not support sending from arbitrary address. This function returns true if sending from arbitrary address is supported, false otherwise. 

Reimplemented from \hyperlink{classns3_1_1RegularWifiMac_a4042e0faa5c4e03ea75704c9a476c9ee}{ns3\+::\+Regular\+Wifi\+Mac}.


\begin{DoxyCode}
373 \{
374   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
375   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
376 \}
\end{DoxyCode}
\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Tx\+Failed@{Tx\+Failed}}
\index{Tx\+Failed@{Tx\+Failed}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Tx\+Failed(const Wifi\+Mac\+Header \&hdr)}{TxFailed(const WifiMacHeader &hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Tx\+Failed (
\begin{DoxyParamCaption}
\item[{const {\bf Wifi\+Mac\+Header} \&}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_aecabca257eb2b43205eeefd63d09de95}{}\label{classns3_1_1ApWifiMac_aecabca257eb2b43205eeefd63d09de95}
The packet we sent was successfully received by the receiver (i.\+e. we did not receive an A\+CK from the receiver). If the packet was an association response to the receiver, we record that the receiver is not associated with us yet.


\begin{DoxyParams}{Parameters}
{\em hdr} & the header of the packet that we failed to sent \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1RegularWifiMac_a5ceb49e604b64dd12289968581693e41}{ns3\+::\+Regular\+Wifi\+Mac}.


\begin{DoxyCode}
775 \{
776   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
777   \hyperlink{classns3_1_1RegularWifiMac_a5ceb49e604b64dd12289968581693e41}{RegularWifiMac::TxFailed} (hdr);
778 
779   \textcolor{keywordflow}{if} (hdr.IsAssocResp ()
780       && \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a6c528a30dc8733c17a928d645628369a}{IsWaitAssocTxOk} (hdr.GetAddr1 ()))
781     \{
782       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"assoc failed with sta="} << hdr.GetAddr1 ());
783       \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ae84c9b8961758783f13640e2300aab83}{RecordGotAssocTxFailed} (hdr.GetAddr1 ());
784     \}
785 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 57


\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!Tx\+Ok@{Tx\+Ok}}
\index{Tx\+Ok@{Tx\+Ok}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{Tx\+Ok(const Wifi\+Mac\+Header \&hdr)}{TxOk(const WifiMacHeader &hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ap\+Wifi\+Mac\+::\+Tx\+Ok (
\begin{DoxyParamCaption}
\item[{const {\bf Wifi\+Mac\+Header} \&}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ApWifiMac_a42c321554bcf340cf7d3da46ad95b836}{}\label{classns3_1_1ApWifiMac_a42c321554bcf340cf7d3da46ad95b836}
The packet we sent was successfully received by the receiver (i.\+e. we received an A\+CK from the receiver). If the packet was an association response to the receiver, we record that the receiver is now associated with us.


\begin{DoxyParams}{Parameters}
{\em hdr} & the header of the packet that we successfully sent \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1RegularWifiMac_a3ba5567e68201374ee1509d2cb1bbe7f}{ns3\+::\+Regular\+Wifi\+Mac}.


\begin{DoxyCode}
761 \{
762   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
763   \hyperlink{classns3_1_1RegularWifiMac_a3ba5567e68201374ee1509d2cb1bbe7f}{RegularWifiMac::TxOk} (hdr);
764 
765   \textcolor{keywordflow}{if} (hdr.IsAssocResp ()
766       && \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a6c528a30dc8733c17a928d645628369a}{IsWaitAssocTxOk} (hdr.GetAddr1 ()))
767     \{
768       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"associated with sta="} << hdr.GetAddr1 ());
769       \hyperlink{classns3_1_1RegularWifiMac_a76d1a5e27b64bfe36f24a55d1eea2775}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a8c61f2f22d687bcb7eff7c5342906005}{RecordGotAssocTxOk} (hdr.GetAddr1 ());
770     \}
771 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 58




\subsection{Member Data Documentation}
\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+beacon\+Dca@{m\+\_\+beacon\+Dca}}
\index{m\+\_\+beacon\+Dca@{m\+\_\+beacon\+Dca}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+beacon\+Dca}{m_beaconDca}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Dca\+Txop}$>$ ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+beacon\+Dca\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}{}\label{classns3_1_1ApWifiMac_a5eb69e654f0897d16c71e96bf168784d}


Dedicated \hyperlink{classns3_1_1DcaTxop}{Dca\+Txop} for beacons. 

\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+beacon\+Event@{m\+\_\+beacon\+Event}}
\index{m\+\_\+beacon\+Event@{m\+\_\+beacon\+Event}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+beacon\+Event}{m_beaconEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+beacon\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a9ba5983f49f1c44c2623ace4e463d3a0}{}\label{classns3_1_1ApWifiMac_a9ba5983f49f1c44c2623ace4e463d3a0}


Event to generate one beacon. 

\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+beacon\+Interval@{m\+\_\+beacon\+Interval}}
\index{m\+\_\+beacon\+Interval@{m\+\_\+beacon\+Interval}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+beacon\+Interval}{m_beaconInterval}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+beacon\+Interval\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a798e9c63c2c85d0973fd1456ffdd38e3}{}\label{classns3_1_1ApWifiMac_a798e9c63c2c85d0973fd1456ffdd38e3}


Interval between beacons. 

\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+beacon\+Jitter@{m\+\_\+beacon\+Jitter}}
\index{m\+\_\+beacon\+Jitter@{m\+\_\+beacon\+Jitter}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+beacon\+Jitter}{m_beaconJitter}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Uniform\+Random\+Variable}$>$ ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+beacon\+Jitter\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a319661e15bf89aedd0e0a3494195d055}{}\label{classns3_1_1ApWifiMac_a319661e15bf89aedd0e0a3494195d055}


\hyperlink{classns3_1_1UniformRandomVariable}{Uniform\+Random\+Variable} used to randomize the time of the first beacon. 

\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+disable\+Rifs@{m\+\_\+disable\+Rifs}}
\index{m\+\_\+disable\+Rifs@{m\+\_\+disable\+Rifs}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+disable\+Rifs}{m_disableRifs}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+disable\+Rifs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_ab5ac2f56d033984a8db29d69aa230811}{}\label{classns3_1_1ApWifiMac_ab5ac2f56d033984a8db29d69aa230811}


Flag whether to force R\+I\+FS to be disabled within the B\+SS If non-\/\+HT S\+T\+As are detected. 

\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+enable\+Beacon\+Generation@{m\+\_\+enable\+Beacon\+Generation}}
\index{m\+\_\+enable\+Beacon\+Generation@{m\+\_\+enable\+Beacon\+Generation}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+enable\+Beacon\+Generation}{m_enableBeaconGeneration}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+enable\+Beacon\+Generation\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a783d01de4969a1227232246d82ce1ce9}{}\label{classns3_1_1ApWifiMac_a783d01de4969a1227232246d82ce1ce9}


Flag whether beacons are being generated. 

\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+enable\+Beacon\+Jitter@{m\+\_\+enable\+Beacon\+Jitter}}
\index{m\+\_\+enable\+Beacon\+Jitter@{m\+\_\+enable\+Beacon\+Jitter}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+enable\+Beacon\+Jitter}{m_enableBeaconJitter}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+enable\+Beacon\+Jitter\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a803812db18b44720f24e48140e0f0c1e}{}\label{classns3_1_1ApWifiMac_a803812db18b44720f24e48140e0f0c1e}


Flag whether the first beacon should be generated at random time. 

\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+enable\+Non\+Erp\+Protection@{m\+\_\+enable\+Non\+Erp\+Protection}}
\index{m\+\_\+enable\+Non\+Erp\+Protection@{m\+\_\+enable\+Non\+Erp\+Protection}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+enable\+Non\+Erp\+Protection}{m_enableNonErpProtection}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+enable\+Non\+Erp\+Protection\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a3f18f344b2eefe6357790600df8c4d23}{}\label{classns3_1_1ApWifiMac_a3f18f344b2eefe6357790600df8c4d23}


Flag whether protection mechanism is used or not when non-\/\+E\+RP S\+T\+As are present within the B\+SS. 

\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+non\+Erp\+Stations@{m\+\_\+non\+Erp\+Stations}}
\index{m\+\_\+non\+Erp\+Stations@{m\+\_\+non\+Erp\+Stations}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+non\+Erp\+Stations}{m_nonErpStations}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std\+::list}$<${\bf Mac48\+Address}$>$ ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+non\+Erp\+Stations\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}{}\label{classns3_1_1ApWifiMac_a0f928a5ab62fc090a939a26ac3675caf}


List of all non-\/\+E\+RP stations currently associated to the AP. 

\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+non\+Ht\+Stations@{m\+\_\+non\+Ht\+Stations}}
\index{m\+\_\+non\+Ht\+Stations@{m\+\_\+non\+Ht\+Stations}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+non\+Ht\+Stations}{m_nonHtStations}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std\+::list}$<${\bf Mac48\+Address}$>$ ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+non\+Ht\+Stations\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a148d1aa2c429b0530603c797775fa5da}{}\label{classns3_1_1ApWifiMac_a148d1aa2c429b0530603c797775fa5da}


List of all non-\/\+HT stations currently associated to the AP. 

\index{ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}!m\+\_\+sta\+List@{m\+\_\+sta\+List}}
\index{m\+\_\+sta\+List@{m\+\_\+sta\+List}!ns3\+::\+Ap\+Wifi\+Mac@{ns3\+::\+Ap\+Wifi\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+sta\+List}{m_staList}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std\+::list}$<${\bf Mac48\+Address}$>$ ns3\+::\+Ap\+Wifi\+Mac\+::m\+\_\+sta\+List\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}{}\label{classns3_1_1ApWifiMac_a2a483f2002457f12a9e53e4b227cf1e8}


List of all stations currently associated to the AP. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wifi/model/\hyperlink{ap-wifi-mac_8h}{ap-\/wifi-\/mac.\+h}\item 
wifi/model/\hyperlink{ap-wifi-mac_8cc}{ap-\/wifi-\/mac.\+cc}\end{DoxyCompactItemize}
