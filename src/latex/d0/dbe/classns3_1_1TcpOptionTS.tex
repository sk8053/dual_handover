\hypertarget{classns3_1_1TcpOptionTS}{}\section{ns3\+:\+:Tcp\+Option\+TS Class Reference}
\label{classns3_1_1TcpOptionTS}\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}


{\ttfamily \#include $<$tcp-\/option-\/ts.\+h$>$}



Inheritance diagram for ns3\+:\+:Tcp\+Option\+TS\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Tcp\+Option\+TS\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1TcpOptionTS_a2c8a30da7c246fba0b17dfb449cb9f58}{Tcp\+Option\+TS} ()
\item 
virtual \hyperlink{classns3_1_1TcpOptionTS_afe4e82f33e6ad3a7d1f077039bfdb792}{$\sim$\+Tcp\+Option\+TS} ()
\item 
virtual \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1TcpOptionTS_a95d2739629b72c44ad8da0a6df144345}{Get\+Instance\+Type\+Id} (void) const 
\item 
virtual void \hyperlink{classns3_1_1TcpOptionTS_a26807629b0479027d8b35366eb869a72}{Print} (std\+::ostream \&os) const 
\begin{DoxyCompactList}\small\item\em Print the Option contents. \end{DoxyCompactList}\item 
virtual void \hyperlink{classns3_1_1TcpOptionTS_a78c958095d201d40006442a5cea4e41d}{Serialize} (\hyperlink{classns3_1_1Buffer_1_1Iterator}{Buffer\+::\+Iterator} start) const 
\begin{DoxyCompactList}\small\item\em Serialize the Option to a buffer iterator. \end{DoxyCompactList}\item 
virtual uint32\+\_\+t \hyperlink{classns3_1_1TcpOptionTS_ae71464d31dff111b7bb6bf3bd0bd43b3}{Deserialize} (\hyperlink{classns3_1_1Buffer_1_1Iterator}{Buffer\+::\+Iterator} start)
\begin{DoxyCompactList}\small\item\em Deserialize the Option from a buffer iterator. \end{DoxyCompactList}\item 
virtual uint8\+\_\+t \hyperlink{classns3_1_1TcpOptionTS_aed740381b190fddac2eb37868b98c3be}{Get\+Kind} (void) const 
\begin{DoxyCompactList}\small\item\em Get the `kind\textquotesingle{} (as in \{793\}) of this option. \end{DoxyCompactList}\item 
virtual uint32\+\_\+t \hyperlink{classns3_1_1TcpOptionTS_a7a7ad69a22e63a72f6874fe8f3df994b}{Get\+Serialized\+Size} (void) const 
\begin{DoxyCompactList}\small\item\em Returns number of bytes required for Option serialization. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1TcpOptionTS_a96298c3d347dba059cf671c4f33b6ee8}{Get\+Timestamp} (void) const 
\begin{DoxyCompactList}\small\item\em Get the timestamp stored in the Option. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1TcpOptionTS_ac89342e97b8f226a78ac57ebd461901b}{Get\+Echo} (void) const 
\begin{DoxyCompactList}\small\item\em Get the timestamp echo stored in the Option. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TcpOptionTS_a1419aa24133aa3422269a817a3dd62db}{Set\+Timestamp} (uint32\+\_\+t \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ada841f58d7be618bfbc76c87e7d44086}{ts})
\begin{DoxyCompactList}\small\item\em Set the timestamp stored in the Option. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TcpOptionTS_ae64ff1487e5bf1b579ae2f6cff3dadd4}{Set\+Echo} (uint32\+\_\+t \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ada841f58d7be618bfbc76c87e7d44086}{ts})
\begin{DoxyCompactList}\small\item\em Set the timestamp echo stored in the Option. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1TcpOptionTS_a54ce1501eb71df2e7a1b173b5449b923}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\item 
static uint32\+\_\+t \hyperlink{classns3_1_1TcpOptionTS_aa4a0e1a584d5cd3be873173cb686e069}{Now\+To\+Ts\+Value} ()
\begin{DoxyCompactList}\small\item\em Return an uint32\+\_\+t value which represent \char`\"{}now\char`\"{}. \end{DoxyCompactList}\item 
static \hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1TcpOptionTS_a43934610282898ab9631acb58f2bd35e}{Elapsed\+Time\+From\+Ts\+Value} (uint32\+\_\+t echo\+Time)
\begin{DoxyCompactList}\small\item\em Estimate the \hyperlink{classns3_1_1Time}{Time} elapsed from a TS echo value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1TcpOptionTS_a83d1b603d3254c11a6abcbebb2c01891}{m\+\_\+timestamp}
\begin{DoxyCompactList}\small\item\em local timestamp \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1TcpOptionTS_adafe4629ad7c27ef0f4f4fba344620c4}{m\+\_\+echo}
\begin{DoxyCompactList}\small\item\em echo timestamp \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Defines the T\+CP option of kind 8 (timestamp option) as in \{1323\} 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Tcp\+Option\+TS@{Tcp\+Option\+TS}}
\index{Tcp\+Option\+TS@{Tcp\+Option\+TS}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Tcp\+Option\+T\+S()}{TcpOptionTS()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Tcp\+Option\+T\+S\+::\+Tcp\+Option\+TS (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TcpOptionTS_a2c8a30da7c246fba0b17dfb449cb9f58}{}\label{classns3_1_1TcpOptionTS_a2c8a30da7c246fba0b17dfb449cb9f58}

\begin{DoxyCode}
31   : \hyperlink{classns3_1_1TcpOption_addb362ad11c648a1c1929d8c841a611f}{TcpOption} (),
32     \hyperlink{classns3_1_1TcpOptionTS_a83d1b603d3254c11a6abcbebb2c01891}{m\_timestamp} (0),
33     \hyperlink{classns3_1_1TcpOptionTS_adafe4629ad7c27ef0f4f4fba344620c4}{m\_echo} (0)
34 \{
35 \}
\end{DoxyCode}
\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!````~Tcp\+Option\+TS@{$\sim$\+Tcp\+Option\+TS}}
\index{````~Tcp\+Option\+TS@{$\sim$\+Tcp\+Option\+TS}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{$\sim$\+Tcp\+Option\+T\+S()}{~TcpOptionTS()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Tcp\+Option\+T\+S\+::$\sim$\+Tcp\+Option\+TS (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TcpOptionTS_afe4e82f33e6ad3a7d1f077039bfdb792}{}\label{classns3_1_1TcpOptionTS_afe4e82f33e6ad3a7d1f077039bfdb792}

\begin{DoxyCode}
38 \{
39 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Deserialize@{Deserialize}}
\index{Deserialize@{Deserialize}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Deserialize(\+Buffer\+::\+Iterator start)}{Deserialize(Buffer::Iterator start)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Tcp\+Option\+T\+S\+::\+Deserialize (
\begin{DoxyParamCaption}
\item[{{\bf Buffer\+::\+Iterator}}]{start}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TcpOptionTS_ae71464d31dff111b7bb6bf3bd0bd43b3}{}\label{classns3_1_1TcpOptionTS_ae71464d31dff111b7bb6bf3bd0bd43b3}


Deserialize the Option from a buffer iterator. 


\begin{DoxyParams}{Parameters}
{\em start} & the buffer iterator \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of deserialized bytes 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1TcpOption_a94bfe84ac60383554b296293289d5059}{ns3\+::\+Tcp\+Option}.


\begin{DoxyCode}
82 \{
83   Buffer::Iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start};
84 
85   uint8\_t readKind = i.ReadU8 ();
86   \textcolor{keywordflow}{if} (readKind != \hyperlink{classns3_1_1TcpOptionTS_aed740381b190fddac2eb37868b98c3be}{GetKind} ())
87     \{
88       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Malformed Timestamp option"});
89       \textcolor{keywordflow}{return} 0;
90     \}
91 
92   uint8\_t size = i.ReadU8 ();
93   \textcolor{keywordflow}{if} (size != 10)
94     \{
95       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Malformed Timestamp option"});
96       \textcolor{keywordflow}{return} 0;
97     \}
98   \hyperlink{classns3_1_1TcpOptionTS_a83d1b603d3254c11a6abcbebb2c01891}{m\_timestamp} = i.ReadNtohU32 ();
99   \hyperlink{classns3_1_1TcpOptionTS_adafe4629ad7c27ef0f4f4fba344620c4}{m\_echo} = i.ReadNtohU32 ();
100   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TcpOptionTS_a7a7ad69a22e63a72f6874fe8f3df994b}{GetSerializedSize} ();
101 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Elapsed\+Time\+From\+Ts\+Value@{Elapsed\+Time\+From\+Ts\+Value}}
\index{Elapsed\+Time\+From\+Ts\+Value@{Elapsed\+Time\+From\+Ts\+Value}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Elapsed\+Time\+From\+Ts\+Value(uint32\+\_\+t echo\+Time)}{ElapsedTimeFromTsValue(uint32_t echoTime)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Tcp\+Option\+T\+S\+::\+Elapsed\+Time\+From\+Ts\+Value (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{echo\+Time}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TcpOptionTS_a43934610282898ab9631acb58f2bd35e}{}\label{classns3_1_1TcpOptionTS_a43934610282898ab9631acb58f2bd35e}


Estimate the \hyperlink{classns3_1_1Time}{Time} elapsed from a TS echo value. 

The echo\+Time should be a value returned from Now\+To\+Ts\+Value.


\begin{DoxyParams}{Parameters}
{\em echo\+Time} & Echoed value from other side \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{classns3_1_1TcpOptionTS_aa4a0e1a584d5cd3be873173cb686e069}{Now\+To\+Ts\+Value} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
The measured R\+TT 
\end{DoxyReturn}

\begin{DoxyCode}
145 \{
146   uint64\_t now64 = (uint64\_t) \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().\hyperlink{classns3_1_1Time_aba3428a8b6c4c8d9014ce44145081f34}{GetMilliSeconds} ();
147   uint32\_t now32 = now64 & 0xFFFFFFFF;
148 
149   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} ret = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0);
150   \textcolor{keywordflow}{if} (now32 > echoTime)
151     \{
152       ret = \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (now32 - echoTime);
153     \}
154 
155   \textcolor{keywordflow}{return} ret;
156 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Get\+Echo@{Get\+Echo}}
\index{Get\+Echo@{Get\+Echo}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Get\+Echo(void) const }{GetEcho(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Tcp\+Option\+T\+S\+::\+Get\+Echo (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1TcpOptionTS_ac89342e97b8f226a78ac57ebd461901b}{}\label{classns3_1_1TcpOptionTS_ac89342e97b8f226a78ac57ebd461901b}


Get the timestamp echo stored in the Option. 

\begin{DoxyReturn}{Returns}
the timestamp echo 
\end{DoxyReturn}

\begin{DoxyCode}
117 \{
118   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TcpOptionTS_adafe4629ad7c27ef0f4f4fba344620c4}{m\_echo};
119 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Get\+Instance\+Type\+Id@{Get\+Instance\+Type\+Id}}
\index{Get\+Instance\+Type\+Id@{Get\+Instance\+Type\+Id}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Get\+Instance\+Type\+Id(void) const }{GetInstanceTypeId(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Tcp\+Option\+T\+S\+::\+Get\+Instance\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TcpOptionTS_a95d2739629b72c44ad8da0a6df144345}{}\label{classns3_1_1TcpOptionTS_a95d2739629b72c44ad8da0a6df144345}
Get the most derived \hyperlink{classns3_1_1TypeId}{Type\+Id} for this \hyperlink{classns3_1_1Object}{Object}.

This method is typically implemented by \hyperlink{classns3_1_1Object_a51e5994fa4b6eae32d719ad69f8fcbf5}{ns3\+::\+Object\+::\+Get\+Instance\+Type\+Id} but some classes which derive from \hyperlink{classns3_1_1ObjectBase}{ns3\+::\+Object\+Base} directly have to implement it themselves.

\begin{DoxyReturn}{Returns}
The \hyperlink{classns3_1_1TypeId}{Type\+Id} associated to the most-\/derived type of this instance. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1TcpOption_a11470d5f15a38426db82cdd7340565c7}{ns3\+::\+Tcp\+Option}.


\begin{DoxyCode}
54 \{
55   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TcpOptionTS_a54ce1501eb71df2e7a1b173b5449b923}{GetTypeId} ();
56 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Get\+Kind@{Get\+Kind}}
\index{Get\+Kind@{Get\+Kind}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Get\+Kind(void) const }{GetKind(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Tcp\+Option\+T\+S\+::\+Get\+Kind (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TcpOptionTS_aed740381b190fddac2eb37868b98c3be}{}\label{classns3_1_1TcpOptionTS_aed740381b190fddac2eb37868b98c3be}


Get the `kind\textquotesingle{} (as in \{793\}) of this option. 

\begin{DoxyReturn}{Returns}
the Option Kind 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1TcpOption_a29376dfd9504f5dd47dbad652caf04f7}{ns3\+::\+Tcp\+Option}.


\begin{DoxyCode}
105 \{
106   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TcpOption_ab5fef728704d0ef8415899ca6af3efdda36327bb876e173f67d0881ecccc10bba}{TcpOption::TS};
107 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Get\+Serialized\+Size@{Get\+Serialized\+Size}}
\index{Get\+Serialized\+Size@{Get\+Serialized\+Size}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Get\+Serialized\+Size(void) const }{GetSerializedSize(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Tcp\+Option\+T\+S\+::\+Get\+Serialized\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TcpOptionTS_a7a7ad69a22e63a72f6874fe8f3df994b}{}\label{classns3_1_1TcpOptionTS_a7a7ad69a22e63a72f6874fe8f3df994b}


Returns number of bytes required for Option serialization. 

\begin{DoxyReturn}{Returns}
number of bytes required for Option serialization 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1TcpOption_ac6c6b5d8905ffc2fdbe99448474c08da}{ns3\+::\+Tcp\+Option}.


\begin{DoxyCode}
66 \{
67   \textcolor{keywordflow}{return} 10;
68 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Get\+Timestamp@{Get\+Timestamp}}
\index{Get\+Timestamp@{Get\+Timestamp}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Get\+Timestamp(void) const }{GetTimestamp(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Tcp\+Option\+T\+S\+::\+Get\+Timestamp (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1TcpOptionTS_a96298c3d347dba059cf671c4f33b6ee8}{}\label{classns3_1_1TcpOptionTS_a96298c3d347dba059cf671c4f33b6ee8}


Get the timestamp stored in the Option. 

\begin{DoxyReturn}{Returns}
the timestamp 
\end{DoxyReturn}

\begin{DoxyCode}
111 \{
112   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TcpOptionTS_a83d1b603d3254c11a6abcbebb2c01891}{m\_timestamp};
113 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Tcp\+Option\+T\+S\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TcpOptionTS_a54ce1501eb71df2e7a1b173b5449b923}{}\label{classns3_1_1TcpOptionTS_a54ce1501eb71df2e7a1b173b5449b923}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
43 \{
44   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::TcpOptionTS"})
45     .SetParent<\hyperlink{classns3_1_1TcpOption_addb362ad11c648a1c1929d8c841a611f}{TcpOption}> ()
46     .SetGroupName (\textcolor{stringliteral}{"Internet"})
47     .AddConstructor<\hyperlink{classns3_1_1TcpOptionTS_a2c8a30da7c246fba0b17dfb449cb9f58}{TcpOptionTS}> ()
48   ;
49   \textcolor{keywordflow}{return} tid;
50 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Now\+To\+Ts\+Value@{Now\+To\+Ts\+Value}}
\index{Now\+To\+Ts\+Value@{Now\+To\+Ts\+Value}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Now\+To\+Ts\+Value()}{NowToTsValue()}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Tcp\+Option\+T\+S\+::\+Now\+To\+Ts\+Value (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TcpOptionTS_aa4a0e1a584d5cd3be873173cb686e069}{}\label{classns3_1_1TcpOptionTS_aa4a0e1a584d5cd3be873173cb686e069}


Return an uint32\+\_\+t value which represent \char`\"{}now\char`\"{}. 

The value returned is usually used as Timestamp option for the T\+CP header; when the value will be echoed back, calculating the R\+TT will be an easy matter.

The R\+FC does not mention any units for this value; following what is implemented in OS, we use milliseconds. Any change to this must be reflected to Estimate\+Rtt\+From\+Ts.

\begin{DoxySeeAlso}{See also}
Estimate\+Rtt\+From\+Ts 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
The Timestamp value to use 
\end{DoxyReturn}

\begin{DoxyCode}
135 \{
136   uint64\_t now = (uint64\_t) \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().\hyperlink{classns3_1_1Time_aba3428a8b6c4c8d9014ce44145081f34}{GetMilliSeconds} ();
137 
138   \textcolor{comment}{// high: (now & 0xFFFFFFFF00000000ULL) >> 32;}
139   \textcolor{comment}{// low: now & 0xFFFFFFFF}
140   \textcolor{keywordflow}{return} (now & 0xFFFFFFFF);
141 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Print@{Print}}
\index{Print@{Print}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Print(std\+::ostream \&os) const }{Print(std::ostream &os) const }}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tcp\+Option\+T\+S\+::\+Print (
\begin{DoxyParamCaption}
\item[{std\+::ostream \&}]{os}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TcpOptionTS_a26807629b0479027d8b35366eb869a72}{}\label{classns3_1_1TcpOptionTS_a26807629b0479027d8b35366eb869a72}


Print the Option contents. 


\begin{DoxyParams}{Parameters}
{\em os} & the output stream \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1TcpOption_aa5e70d98998c808d77b6e7ba7fa094a1}{ns3\+::\+Tcp\+Option}.


\begin{DoxyCode}
60 \{
61   os << \hyperlink{classns3_1_1TcpOptionTS_a83d1b603d3254c11a6abcbebb2c01891}{m\_timestamp} << \textcolor{stringliteral}{";"} << \hyperlink{classns3_1_1TcpOptionTS_adafe4629ad7c27ef0f4f4fba344620c4}{m\_echo};
62 \}
\end{DoxyCode}
\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Serialize@{Serialize}}
\index{Serialize@{Serialize}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Serialize(\+Buffer\+::\+Iterator start) const }{Serialize(Buffer::Iterator start) const }}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tcp\+Option\+T\+S\+::\+Serialize (
\begin{DoxyParamCaption}
\item[{{\bf Buffer\+::\+Iterator}}]{start}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TcpOptionTS_a78c958095d201d40006442a5cea4e41d}{}\label{classns3_1_1TcpOptionTS_a78c958095d201d40006442a5cea4e41d}


Serialize the Option to a buffer iterator. 


\begin{DoxyParams}{Parameters}
{\em start} & the buffer iterator \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1TcpOption_a8327cc829ad856643147808f32194ab5}{ns3\+::\+Tcp\+Option}.


\begin{DoxyCode}
72 \{
73   Buffer::Iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start};
74   i.WriteU8 (\hyperlink{classns3_1_1TcpOptionTS_aed740381b190fddac2eb37868b98c3be}{GetKind} ()); \textcolor{comment}{// Kind}
75   i.WriteU8 (10); \textcolor{comment}{// Length}
76   i.WriteHtonU32 (\hyperlink{classns3_1_1TcpOptionTS_a83d1b603d3254c11a6abcbebb2c01891}{m\_timestamp}); \textcolor{comment}{// Local timestamp}
77   i.WriteHtonU32 (\hyperlink{classns3_1_1TcpOptionTS_adafe4629ad7c27ef0f4f4fba344620c4}{m\_echo}); \textcolor{comment}{// Echo timestamp}
78 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Set\+Echo@{Set\+Echo}}
\index{Set\+Echo@{Set\+Echo}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Set\+Echo(uint32\+\_\+t ts)}{SetEcho(uint32_t ts)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tcp\+Option\+T\+S\+::\+Set\+Echo (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{ts}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TcpOptionTS_ae64ff1487e5bf1b579ae2f6cff3dadd4}{}\label{classns3_1_1TcpOptionTS_ae64ff1487e5bf1b579ae2f6cff3dadd4}


Set the timestamp echo stored in the Option. 


\begin{DoxyParams}{Parameters}
{\em ts} & the timestamp echo \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
129 \{
130   \hyperlink{classns3_1_1TcpOptionTS_adafe4629ad7c27ef0f4f4fba344620c4}{m\_echo} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ada841f58d7be618bfbc76c87e7d44086}{ts};
131 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!Set\+Timestamp@{Set\+Timestamp}}
\index{Set\+Timestamp@{Set\+Timestamp}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{Set\+Timestamp(uint32\+\_\+t ts)}{SetTimestamp(uint32_t ts)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tcp\+Option\+T\+S\+::\+Set\+Timestamp (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{ts}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TcpOptionTS_a1419aa24133aa3422269a817a3dd62db}{}\label{classns3_1_1TcpOptionTS_a1419aa24133aa3422269a817a3dd62db}


Set the timestamp stored in the Option. 


\begin{DoxyParams}{Parameters}
{\em ts} & the timestamp \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
123 \{
124   \hyperlink{classns3_1_1TcpOptionTS_a83d1b603d3254c11a6abcbebb2c01891}{m\_timestamp} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ada841f58d7be618bfbc76c87e7d44086}{ts};
125 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 18




\subsection{Member Data Documentation}
\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!m\+\_\+echo@{m\+\_\+echo}}
\index{m\+\_\+echo@{m\+\_\+echo}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{m\+\_\+echo}{m_echo}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Tcp\+Option\+T\+S\+::m\+\_\+echo\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1TcpOptionTS_adafe4629ad7c27ef0f4f4fba344620c4}{}\label{classns3_1_1TcpOptionTS_adafe4629ad7c27ef0f4f4fba344620c4}


echo timestamp 

\index{ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}!m\+\_\+timestamp@{m\+\_\+timestamp}}
\index{m\+\_\+timestamp@{m\+\_\+timestamp}!ns3\+::\+Tcp\+Option\+TS@{ns3\+::\+Tcp\+Option\+TS}}
\subsubsection[{\texorpdfstring{m\+\_\+timestamp}{m_timestamp}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Tcp\+Option\+T\+S\+::m\+\_\+timestamp\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1TcpOptionTS_a83d1b603d3254c11a6abcbebb2c01891}{}\label{classns3_1_1TcpOptionTS_a83d1b603d3254c11a6abcbebb2c01891}


local timestamp 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
internet/model/\hyperlink{tcp-option-ts_8h}{tcp-\/option-\/ts.\+h}\item 
internet/model/\hyperlink{tcp-option-ts_8cc}{tcp-\/option-\/ts.\+cc}\end{DoxyCompactItemize}
