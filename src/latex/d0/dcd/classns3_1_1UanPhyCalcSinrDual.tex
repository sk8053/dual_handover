\hypertarget{classns3_1_1UanPhyCalcSinrDual}{}\section{ns3\+:\+:Uan\+Phy\+Calc\+Sinr\+Dual Class Reference}
\label{classns3_1_1UanPhyCalcSinrDual}\index{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual@{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual}}


{\ttfamily \#include $<$uan-\/phy-\/dual.\+h$>$}



Inheritance diagram for ns3\+:\+:Uan\+Phy\+Calc\+Sinr\+Dual\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Uan\+Phy\+Calc\+Sinr\+Dual\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1UanPhyCalcSinrDual_a2337f6ba5f2f122f643f314150dc65cc}{Uan\+Phy\+Calc\+Sinr\+Dual} ()
\item 
virtual \hyperlink{classns3_1_1UanPhyCalcSinrDual_a9d687d98e63867da32783fa6df1bad8b}{$\sim$\+Uan\+Phy\+Calc\+Sinr\+Dual} ()
\item 
virtual double \hyperlink{classns3_1_1UanPhyCalcSinrDual_a79c7ea15803777ba117f33eafec649b3}{Calc\+Sinr\+Db} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ pkt, \hyperlink{classns3_1_1Time}{Time} arr\+Time, double rx\+Power\+Db, double amb\+Noise\+Db, \hyperlink{classns3_1_1UanTxMode}{Uan\+Tx\+Mode} mode, \hyperlink{classns3_1_1UanPdp}{Uan\+Pdp} pdp, const \hyperlink{classns3_1_1UanTransducer_a95332a21e30506421a116d4b5c4dfd75}{Uan\+Transducer\+::\+Arrival\+List} \&arrival\+List) const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1UanPhyCalcSinrDual_a235697c503bf5805c1fcb0364ac3f2ed}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Default S\+I\+NR model for \hyperlink{classns3_1_1UanPhyDual}{Uan\+Phy\+Dual}

Considers interfering packet power as additional ambient noise only if there is overlap in frequency band as found from supplied \hyperlink{classns3_1_1UanTxMode}{Uan\+Tx\+Mode}. If there is no overlap, then the packets are considered not to interfere. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual@{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual}!Uan\+Phy\+Calc\+Sinr\+Dual@{Uan\+Phy\+Calc\+Sinr\+Dual}}
\index{Uan\+Phy\+Calc\+Sinr\+Dual@{Uan\+Phy\+Calc\+Sinr\+Dual}!ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual@{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual}}
\subsubsection[{\texorpdfstring{Uan\+Phy\+Calc\+Sinr\+Dual()}{UanPhyCalcSinrDual()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual\+::\+Uan\+Phy\+Calc\+Sinr\+Dual (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UanPhyCalcSinrDual_a2337f6ba5f2f122f643f314150dc65cc}{}\label{classns3_1_1UanPhyCalcSinrDual_a2337f6ba5f2f122f643f314150dc65cc}
Constructor 
\begin{DoxyCode}
49 \{
50 
51 \}
\end{DoxyCode}
\index{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual@{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual}!````~Uan\+Phy\+Calc\+Sinr\+Dual@{$\sim$\+Uan\+Phy\+Calc\+Sinr\+Dual}}
\index{````~Uan\+Phy\+Calc\+Sinr\+Dual@{$\sim$\+Uan\+Phy\+Calc\+Sinr\+Dual}!ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual@{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual}}
\subsubsection[{\texorpdfstring{$\sim$\+Uan\+Phy\+Calc\+Sinr\+Dual()}{~UanPhyCalcSinrDual()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual\+::$\sim$\+Uan\+Phy\+Calc\+Sinr\+Dual (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanPhyCalcSinrDual_a9d687d98e63867da32783fa6df1bad8b}{}\label{classns3_1_1UanPhyCalcSinrDual_a9d687d98e63867da32783fa6df1bad8b}
Destructor 
\begin{DoxyCode}
53 \{
54 
55 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual@{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual}!Calc\+Sinr\+Db@{Calc\+Sinr\+Db}}
\index{Calc\+Sinr\+Db@{Calc\+Sinr\+Db}!ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual@{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual}}
\subsubsection[{\texorpdfstring{Calc\+Sinr\+Db(\+Ptr$<$ Packet $>$ pkt, Time arr\+Time, double rx\+Power\+Db, double amb\+Noise\+Db, Uan\+Tx\+Mode mode, Uan\+Pdp pdp, const Uan\+Transducer\+::\+Arrival\+List \&arrival\+List) const }{CalcSinrDb(Ptr< Packet > pkt, Time arrTime, double rxPowerDb, double ambNoiseDb, UanTxMode mode, UanPdp pdp, const UanTransducer::ArrivalList &arrivalList) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual\+::\+Calc\+Sinr\+Db (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{pkt, }
\item[{{\bf Time}}]{arr\+Time, }
\item[{double}]{rx\+Power\+Db, }
\item[{double}]{amb\+Noise\+Db, }
\item[{{\bf Uan\+Tx\+Mode}}]{mode, }
\item[{{\bf Uan\+Pdp}}]{pdp, }
\item[{const {\bf Uan\+Transducer\+::\+Arrival\+List} \&}]{arrival\+List}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UanPhyCalcSinrDual_a79c7ea15803777ba117f33eafec649b3}{}\label{classns3_1_1UanPhyCalcSinrDual_a79c7ea15803777ba117f33eafec649b3}
Calculate the S\+I\+NR value for a packet.


\begin{DoxyParams}{Parameters}
{\em pkt} & \hyperlink{classns3_1_1Packet}{Packet} to calculate S\+I\+NR for. \\
\hline
{\em arr\+Time} & Arrival time of pkt. \\
\hline
{\em rx\+Power\+Db} & The received signal strength of the packet in dB re 1 u\+Pa. \\
\hline
{\em amb\+Noise\+Db} & Ambient channel noise in dB re 1 u\+Pa. \\
\hline
{\em mode} & TX Mode of pkt. \\
\hline
{\em pdp} & Power delay profile of pkt. \\
\hline
{\em arrival\+List} & List of interfering arrivals given from Transducer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The S\+I\+NR in dB re 1 u\+Pa. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1UanPhyCalcSinr_ad595f00cc07f863e9f5f957e2f772d56}{ns3\+::\+Uan\+Phy\+Calc\+Sinr}.


\begin{DoxyCode}
76 \{
77 
78   \textcolor{keywordflow}{if} (mode.GetModType () != \hyperlink{classns3_1_1UanTxMode_a0e822d222c13aa9499c96d9b3ad21223a5358ed9e093870402823f95c2cda1110}{UanTxMode::OTHER})
79     \{
80       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Calculating SINR for unsupported modulation type"});
81     \}
82 
83   \textcolor{keywordtype}{double} intKp = -\hyperlink{classns3_1_1UanPhyCalcSinr_a7af4e8735a93dabeef93d929fe166d27}{DbToKp} (rxPowerDb); \textcolor{comment}{// This packet is in the arrivalList}
84   UanTransducer::ArrivalList::const\_iterator it = arrivalList.begin ();
85   \textcolor{keywordflow}{for} (; it != arrivalList.end (); it++)
86     \{
87       \textcolor{comment}{// Only count interference if there is overlap in incoming frequency}
88       \textcolor{keywordflow}{if} (std::abs ( (\textcolor{keywordtype}{double}) it->GetTxMode ().GetCenterFreqHz () - (double) mode.GetCenterFreqHz ())
89           < (\textcolor{keywordtype}{double})(it->GetTxMode ().GetBandwidthHz () / 2 + mode.GetBandwidthHz () / 2) - 0.5)
90         \{
91           UanHeaderCommon ch, ch2;
92           \textcolor{keywordflow}{if} (pkt)
93             \{
94               pkt->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (ch);
95             \}
96           it->GetPacket ()->PeekHeader (ch2);
97 
98           \textcolor{keywordflow}{if} (pkt)
99             \{
100               \textcolor{keywordflow}{if} (ch.GetType () == \hyperlink{classns3_1_1UanMacRc_ad12bbd636f03943095e1c81cd1cc24b3a21bca93e0670db9a343de5d95ff64092}{UanMacRc::TYPE\_DATA})
101                 \{
102                   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Adding interferer from "} << ch2.GetSrc () << \textcolor{stringliteral}{" against "} << ch
      .GetSrc () << \textcolor{stringliteral}{": PktRxMode: "}
103                                                           << mode.GetName () << \textcolor{stringliteral}{" Int mode: "} << it->
      GetTxMode ().GetName () << \textcolor{stringliteral}{" Separation: "}
104                                                           << std::abs ( (\textcolor{keywordtype}{double}) it->GetTxMode ().
      GetCenterFreqHz () - (double) mode.GetCenterFreqHz ())
105                                                           << \textcolor{stringliteral}{" Combined bandwidths: "} << (\textcolor{keywordtype}{double})(it->
      GetTxMode ().GetBandwidthHz () / 2 + mode.GetBandwidthHz () / 2) - 0.5);
106                 \}
107             \}
108           intKp += \hyperlink{classns3_1_1UanPhyCalcSinr_a7af4e8735a93dabeef93d929fe166d27}{DbToKp} (it->GetRxPowerDb ());
109         \}
110     \}
111 
112   \textcolor{keywordtype}{double} totalIntDb = \hyperlink{classns3_1_1UanPhyCalcSinr_a5f57a07d4f7e8e457a4c6fb946b9ec96}{KpToDb} (intKp + \hyperlink{classns3_1_1UanPhyCalcSinr_a7af4e8735a93dabeef93d929fe166d27}{DbToKp} (ambNoiseDb));
113 
114   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ().GetSeconds () << \textcolor{stringliteral}{" Calculating SINR:  RxPower =
       "} << rxPowerDb << \textcolor{stringliteral}{" dB.  Number of interferers = "} << arrivalList.size () << \textcolor{stringliteral}{"  Interference + noise power
       = "} << totalIntDb << \textcolor{stringliteral}{" dB.  SINR = "} << rxPowerDb - totalIntDb << \textcolor{stringliteral}{" dB."});
115   \textcolor{keywordflow}{return} rxPowerDb - totalIntDb;
116 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual@{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual@{ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Uan\+Phy\+Calc\+Sinr\+Dual\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1UanPhyCalcSinrDual_a235697c503bf5805c1fcb0364ac3f2ed}{}\label{classns3_1_1UanPhyCalcSinrDual_a235697c503bf5805c1fcb0364ac3f2ed}
Register this type. \begin{DoxyReturn}{Returns}
The \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
59 \{
60   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::UanPhyCalcSinrDual"})
61     .SetParent<UanPhyCalcSinr> ()
62     .SetGroupName (\textcolor{stringliteral}{"Uan"})
63     .AddConstructor<\hyperlink{classns3_1_1UanPhyCalcSinrDual_a2337f6ba5f2f122f643f314150dc65cc}{UanPhyCalcSinrDual}> ()
64   ;
65   \textcolor{keywordflow}{return} tid;
66 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
uan/model/\hyperlink{uan-phy-dual_8h}{uan-\/phy-\/dual.\+h}\item 
uan/model/\hyperlink{uan-phy-dual_8cc}{uan-\/phy-\/dual.\+cc}\end{DoxyCompactItemize}
