\hypertarget{classBug772ChainTest}{}\section{Bug772\+Chain\+Test Class Reference}
\label{classBug772ChainTest}\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}


A\+O\+DV deferred route lookup test case (see \{772\})  




{\ttfamily \#include $<$bug-\/772.\+h$>$}



Inheritance diagram for Bug772\+Chain\+Test\+:
% FIG 0


Collaboration diagram for Bug772\+Chain\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classBug772ChainTest_a140d0870edac38189152a782f5255dd1}{Bug772\+Chain\+Test} (const char $\ast$const prefix, const char $\ast$const proto, \hyperlink{classns3_1_1Time}{Time} time, uint32\+\_\+t size)
\item 
\hyperlink{classBug772ChainTest_ad965916b1933d847e4ed4f37a0967823}{$\sim$\+Bug772\+Chain\+Test} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classBug772ChainTest_a8afa0710a496d8d1b85abee049afb120}{Create\+Nodes} ()
\begin{DoxyCompactList}\small\item\em Create test topology. \end{DoxyCompactList}\item 
void \hyperlink{classBug772ChainTest_a9dfdee167ab354dd596e13d1a873e50a}{Create\+Devices} ()
\begin{DoxyCompactList}\small\item\em Create devices, install T\+C\+P/\+IP stack and applications. \end{DoxyCompactList}\item 
void \hyperlink{classBug772ChainTest_adbcdc4b89a09e559a59047bd282cba86}{Check\+Results} ()
\begin{DoxyCompactList}\small\item\em Compare traces with reference ones. \end{DoxyCompactList}\item 
void \hyperlink{classBug772ChainTest_a28c0cb91d146d6b3fdfb86dc8dc1f5b6}{Do\+Run} ()
\begin{DoxyCompactList}\small\item\em Go. \end{DoxyCompactList}\item 
void \hyperlink{classBug772ChainTest_a2599f993595c4c5f3c5afdb417775896}{Handle\+Read} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em receive data \end{DoxyCompactList}\item 
void \hyperlink{classBug772ChainTest_aa2ca782ce38d9b2435001b878650146c}{Send\+Data} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1NodeContainer}{Node\+Container} $\ast$ \hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\+\_\+nodes}
\item 
const std\+::string \hyperlink{classBug772ChainTest_a8008aa030717e255183ef4337d1e3f27}{m\+\_\+prefix}
\begin{DoxyCompactList}\small\item\em P\+C\+AP file names prefix. \end{DoxyCompactList}\item 
const std\+::string \hyperlink{classBug772ChainTest_a107f53a666f3b0c5e7d3065d56bac5e2}{m\+\_\+proto}
\begin{DoxyCompactList}\small\item\em Socket factory T\+ID. \end{DoxyCompactList}\item 
const \hyperlink{classns3_1_1Time}{Time} \hyperlink{classBug772ChainTest_ad9e30dbc5ae2b796084eb0db5cf46602}{m\+\_\+time}
\begin{DoxyCompactList}\small\item\em Total simulation time. \end{DoxyCompactList}\item 
const uint32\+\_\+t \hyperlink{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}{m\+\_\+size}
\begin{DoxyCompactList}\small\item\em Chain size. \end{DoxyCompactList}\item 
const double \hyperlink{classBug772ChainTest_a8b6f1eaf4682f00c5092be2f4b79ffc3}{m\+\_\+step}
\begin{DoxyCompactList}\small\item\em Chain step, meters. \end{DoxyCompactList}\item 
const uint16\+\_\+t \hyperlink{classBug772ChainTest_a32f57f5fa12f89ab99561d458f430acb}{m\+\_\+port}
\begin{DoxyCompactList}\small\item\em port number \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ \hyperlink{classBug772ChainTest_a4d3a3e78853e99307c08276bac5d7ece}{m\+\_\+recv\+Socket}
\begin{DoxyCompactList}\small\item\em Receiving socket. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ \hyperlink{classBug772ChainTest_aa38ac9d2ddc0693c530652565e3657d9}{m\+\_\+send\+Socket}
\begin{DoxyCompactList}\small\item\em Transmitting socket. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classBug772ChainTest_af3610211c4be36edd070e6359c33bcca}{m\+\_\+received\+Packets}
\begin{DoxyCompactList}\small\item\em Received packet count. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A\+O\+DV deferred route lookup test case (see \{772\}) 

U\+DP packet transfers are delayed while a route is found and then while A\+RP completes. Eight packets should be sent, queued until the path becomes functional, and then delivered. 

\subsection{Constructor \& Destructor Documentation}
\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{Bug772\+Chain\+Test(const char $\ast$const prefix, const char $\ast$const proto, Time time, uint32\+\_\+t size)}{Bug772ChainTest(const char *const prefix, const char *const proto, Time time, uint32_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}Bug772\+Chain\+Test\+::\+Bug772\+Chain\+Test (
\begin{DoxyParamCaption}
\item[{const char $\ast$const}]{prefix, }
\item[{const char $\ast$const}]{proto, }
\item[{{\bf Time}}]{time, }
\item[{uint32\+\_\+t}]{size}
\end{DoxyParamCaption}
)}\hypertarget{classBug772ChainTest_a140d0870edac38189152a782f5255dd1}{}\label{classBug772ChainTest_a140d0870edac38189152a782f5255dd1}
Create test case


\begin{DoxyParams}{Parameters}
{\em prefix} & Unique file names prefix \\
\hline
{\em proto} & \hyperlink{classns3_1_1UdpSocketFactory}{ns3\+::\+Udp\+Socket\+Factory} or \hyperlink{classns3_1_1TcpSocketFactory}{ns3\+::\+Tcp\+Socket\+Factory} \\
\hline
{\em size} & Number of nodes in the chain \\
\hline
{\em time} & Simulation time \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
51                                                                                                            
       : 
52   \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Bug 772 UDP and TCP chain regression test"}),
53   \hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes} (0),
54   \hyperlink{classBug772ChainTest_a8008aa030717e255183ef4337d1e3f27}{m\_prefix} (prefix),
55   \hyperlink{classBug772ChainTest_a107f53a666f3b0c5e7d3065d56bac5e2}{m\_proto} (proto),
56   \hyperlink{classBug772ChainTest_ad9e30dbc5ae2b796084eb0db5cf46602}{m\_time} (t),
57   \hyperlink{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}{m\_size} (size),
58   \hyperlink{classBug772ChainTest_a8b6f1eaf4682f00c5092be2f4b79ffc3}{m\_step} (120),
59   \hyperlink{classBug772ChainTest_a32f57f5fa12f89ab99561d458f430acb}{m\_port} (9),
60   \hyperlink{classBug772ChainTest_af3610211c4be36edd070e6359c33bcca}{m\_receivedPackets} (0)
61 \{
62 \}
\end{DoxyCode}
\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!````~Bug772\+Chain\+Test@{$\sim$\+Bug772\+Chain\+Test}}
\index{````~Bug772\+Chain\+Test@{$\sim$\+Bug772\+Chain\+Test}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{$\sim$\+Bug772\+Chain\+Test()}{~Bug772ChainTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Bug772\+Chain\+Test\+::$\sim$\+Bug772\+Chain\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classBug772ChainTest_ad965916b1933d847e4ed4f37a0967823}{}\label{classBug772ChainTest_ad965916b1933d847e4ed4f37a0967823}

\begin{DoxyCode}
65 \{
66   \textcolor{keyword}{delete} \hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes};
67 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!Check\+Results@{Check\+Results}}
\index{Check\+Results@{Check\+Results}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{Check\+Results()}{CheckResults()}}]{\setlength{\rightskip}{0pt plus 5cm}void Bug772\+Chain\+Test\+::\+Check\+Results (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_adbcdc4b89a09e559a59047bd282cba86}{}\label{classBug772ChainTest_adbcdc4b89a09e559a59047bd282cba86}


Compare traces with reference ones. 


\begin{DoxyCode}
184 \{
185   \textcolor{comment}{// We should have sent 8 packets (every 0.25 seconds from time 1 to time 3)}
186   \textcolor{comment}{// Check that the received packet count is 8}
187   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classBug772ChainTest_af3610211c4be36edd070e6359c33bcca}{m\_receivedPackets}, 8, \textcolor{stringliteral}{"Did not receive
       expected 8 packets"});
188 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!Create\+Devices@{Create\+Devices}}
\index{Create\+Devices@{Create\+Devices}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{Create\+Devices()}{CreateDevices()}}]{\setlength{\rightskip}{0pt plus 5cm}void Bug772\+Chain\+Test\+::\+Create\+Devices (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_a9dfdee167ab354dd596e13d1a873e50a}{}\label{classBug772ChainTest_a9dfdee167ab354dd596e13d1a873e50a}


Create devices, install T\+C\+P/\+IP stack and applications. 


\begin{DoxyCode}
126 \{
127   int64\_t streamsUsed = 0;
128   \textcolor{comment}{// 1. Setup WiFi}
129   \hyperlink{classns3_1_1WifiMacHelper}{WifiMacHelper} wifiMac;
130   wifiMac.\hyperlink{classns3_1_1WifiMacHelper_a382d8df76a1dd7007179d1963b4b6bc6}{SetType} (\textcolor{stringliteral}{"ns3::AdhocWifiMac"});
131   \hyperlink{classns3_1_1YansWifiPhyHelper}{YansWifiPhyHelper} wifiPhy = YansWifiPhyHelper::Default ();
132   \textcolor{comment}{// This test suite output was originally based on YansErrorRateModel}
133   wifiPhy.\hyperlink{classns3_1_1WifiPhyHelper_a219d3ae5881842aa42ea341b985ce114}{SetErrorRateModel} (\textcolor{stringliteral}{"ns3::YansErrorRateModel"});
134   \hyperlink{classns3_1_1YansWifiChannelHelper}{YansWifiChannelHelper} wifiChannel = YansWifiChannelHelper::Default ();
135   \hyperlink{classns3_1_1Ptr}{Ptr<YansWifiChannel>} chan = wifiChannel.\hyperlink{classns3_1_1YansWifiChannelHelper_a0532e292ab9452f3cf630c848708e563}{Create} ();
136   wifiPhy.\hyperlink{classns3_1_1YansWifiPhyHelper_ad2e9a27587dd4ff320435c93cc2676de}{SetChannel} (chan);
137   wifiPhy.\hyperlink{classns3_1_1WifiPhyHelper_a2527d6d7b29f717fd7436166c5f05f1a}{Set} (\textcolor{stringliteral}{"TxGain"}, DoubleValue (1.0)); \textcolor{comment}{//this configuration should go away in future revision to
       the test}
138   wifiPhy.\hyperlink{classns3_1_1WifiPhyHelper_a2527d6d7b29f717fd7436166c5f05f1a}{Set} (\textcolor{stringliteral}{"RxGain"}, DoubleValue (1.0)); \textcolor{comment}{//this configuration should go away in future revision to
       the test}
139   \hyperlink{classns3_1_1WifiHelper}{WifiHelper} wifi;
140   wifi.\hyperlink{classns3_1_1WifiHelper_a3d01b178aeb2de246ab5a3aa5638ce24}{SetRemoteStationManager} (\textcolor{stringliteral}{"ns3::ConstantRateWifiManager"}, \textcolor{stringliteral}{"DataMode"}, 
      StringValue (\textcolor{stringliteral}{"OfdmRate6Mbps"}), \textcolor{stringliteral}{"RtsCtsThreshold"}, StringValue (\textcolor{stringliteral}{"2200"}));
141   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} devices = wifi.\hyperlink{classns3_1_1WifiHelper_a451b3d33fa1497c22f06c5451f57a127}{Install} (wifiPhy, wifiMac, *
      \hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes}); 
142 
143   \textcolor{comment}{// Assign fixed stream numbers to wifi and channel random variables}
144   streamsUsed += wifi.\hyperlink{classns3_1_1WifiHelper_ab29bf13f8726c2e0807a583bfea79777}{AssignStreams} (devices, streamsUsed);
145   \textcolor{comment}{// Assign 6 streams per device}
146   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (streamsUsed, (devices.\hyperlink{classns3_1_1NetDeviceContainer_a74cafc212479bc38976bebd118e856b9}{GetN} () * 6), \textcolor{stringliteral}{"Stream assignment
       mismatch"});
147   streamsUsed += wifiChannel.\hyperlink{classns3_1_1YansWifiChannelHelper_ab409a15cfb8abb5195177625191e2584}{AssignStreams} (chan, streamsUsed);
148   \textcolor{comment}{// Assign 0 streams per channel for this configuration }
149   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (streamsUsed, (devices.\hyperlink{classns3_1_1NetDeviceContainer_a74cafc212479bc38976bebd118e856b9}{GetN} () * 6), \textcolor{stringliteral}{"Stream assignment
       mismatch"});
150 
151   \textcolor{comment}{// 2. Setup TCP/IP & AODV}
152   \hyperlink{classns3_1_1AodvHelper}{AodvHelper} aodv; \textcolor{comment}{// Use default parameters here}
153   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internetStack;
154   internetStack.\hyperlink{classns3_1_1InternetStackHelper_a3e382c02df022dec79952a7eca8cd5ba}{SetRoutingHelper} (aodv);
155   internetStack.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (*\hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes});
156   streamsUsed += internetStack.\hyperlink{classns3_1_1InternetStackHelper_a63c904e832a2f17e036338db4aa2f1b8}{AssignStreams} (*\hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes}, streamsUsed);
157   \textcolor{comment}{// Expect to use (3*m\_size) more streams for internet stack random variables}
158   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (streamsUsed, ((devices.\hyperlink{classns3_1_1NetDeviceContainer_a74cafc212479bc38976bebd118e856b9}{GetN} () * 6) + (3*
      \hyperlink{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}{m\_size})), \textcolor{stringliteral}{"Stream assignment mismatch"});
159   streamsUsed += aodv.\hyperlink{classns3_1_1AodvHelper_a478d356b61ddc4a3384bd50153113f74}{AssignStreams} (*\hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes}, streamsUsed);
160   \textcolor{comment}{// Expect to use m\_size more streams for AODV}
161   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (streamsUsed, ((devices.\hyperlink{classns3_1_1NetDeviceContainer_a74cafc212479bc38976bebd118e856b9}{GetN} () * 6) + (3*
      \hyperlink{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}{m\_size}) + \hyperlink{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}{m\_size}), \textcolor{stringliteral}{"Stream assignment mismatch"});
162   \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} address;
163   address.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.1.0"}, \textcolor{stringliteral}{"255.255.255.0"});
164   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} interfaces = address.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (devices);
165 
166   \textcolor{comment}{// 3. Setup UDP source and sink}
167   \hyperlink{classBug772ChainTest_aa38ac9d2ddc0693c530652565e3657d9}{m\_sendSocket} = Socket::CreateSocket (\hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes}->\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0), TypeId::LookupByName (
      \hyperlink{classBug772ChainTest_a107f53a666f3b0c5e7d3065d56bac5e2}{m\_proto}));
168   \hyperlink{classBug772ChainTest_aa38ac9d2ddc0693c530652565e3657d9}{m\_sendSocket}->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} ();
169   \hyperlink{classBug772ChainTest_aa38ac9d2ddc0693c530652565e3657d9}{m\_sendSocket}->\hyperlink{classns3_1_1Socket_a97f08aaf37b8fd7d4b5cad4dfdd4022a}{Connect} (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (interfaces.
      \hyperlink{classns3_1_1Ipv4InterfaceContainer_ae63208dcd222be986822937ee4aa828c}{GetAddress} (\hyperlink{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}{m\_size}-1), \hyperlink{classBug772ChainTest_a32f57f5fa12f89ab99561d458f430acb}{m\_port}));
170   \hyperlink{classBug772ChainTest_aa38ac9d2ddc0693c530652565e3657d9}{m\_sendSocket}->\hyperlink{classns3_1_1Socket_a32b4fa27b732a63207c8d9054a817ed5}{SetAllowBroadcast} (\textcolor{keyword}{true});
171   Simulator::ScheduleWithContext (\hyperlink{classBug772ChainTest_aa38ac9d2ddc0693c530652565e3657d9}{m\_sendSocket}->\hyperlink{classns3_1_1Socket_aba642ad4301c1df47befc0aa9afa2e48}{GetNode} ()->
      \hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} (), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0),
172                                   &\hyperlink{classBug772ChainTest_aa2ca782ce38d9b2435001b878650146c}{Bug772ChainTest::SendData}, \textcolor{keyword}{this}, 
      \hyperlink{classBug772ChainTest_aa38ac9d2ddc0693c530652565e3657d9}{m\_sendSocket});
173 
174   \hyperlink{classBug772ChainTest_a4d3a3e78853e99307c08276bac5d7ece}{m\_recvSocket} = Socket::CreateSocket (\hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes}->\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (
      \hyperlink{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}{m\_size} - 1), TypeId::LookupByName (\hyperlink{classBug772ChainTest_a107f53a666f3b0c5e7d3065d56bac5e2}{m\_proto}));
175   m\_recvSocket->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (Ipv4Address::GetAny (), 
      \hyperlink{classBug772ChainTest_a32f57f5fa12f89ab99561d458f430acb}{m\_port}));
176   m\_recvSocket->Listen ();
177   m\_recvSocket->ShutdownSend ();
178   m\_recvSocket->SetRecvCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classBug772ChainTest_a2599f993595c4c5f3c5afdb417775896}{Bug772ChainTest::HandleRead}, \textcolor{keyword}{this}));
179 
180 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!Create\+Nodes@{Create\+Nodes}}
\index{Create\+Nodes@{Create\+Nodes}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{Create\+Nodes()}{CreateNodes()}}]{\setlength{\rightskip}{0pt plus 5cm}void Bug772\+Chain\+Test\+::\+Create\+Nodes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_a8afa0710a496d8d1b85abee049afb120}{}\label{classBug772ChainTest_a8afa0710a496d8d1b85abee049afb120}


Create test topology. 


\begin{DoxyCode}
109 \{
110   \hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes} = \textcolor{keyword}{new} \hyperlink{classns3_1_1NodeContainer}{NodeContainer};
111   \hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes}->\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (\hyperlink{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}{m\_size});
112   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
113   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (\textcolor{stringliteral}{"ns3::GridPositionAllocator"},
114                                  \textcolor{stringliteral}{"MinX"}, DoubleValue (0.0),
115                                  \textcolor{stringliteral}{"MinY"}, DoubleValue (0.0),
116                                  \textcolor{stringliteral}{"DeltaX"}, DoubleValue (\hyperlink{classBug772ChainTest_a8b6f1eaf4682f00c5092be2f4b79ffc3}{m\_step}),
117                                  \textcolor{stringliteral}{"DeltaY"}, DoubleValue (0),
118                                  \textcolor{stringliteral}{"GridWidth"}, UintegerValue (\hyperlink{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}{m\_size}),
119                                  \textcolor{stringliteral}{"LayoutType"}, StringValue (\textcolor{stringliteral}{"RowFirst"}));
120   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
121   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (*\hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes});
122 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run()}{DoRun()}}]{\setlength{\rightskip}{0pt plus 5cm}void Bug772\+Chain\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classBug772ChainTest_a28c0cb91d146d6b3fdfb86dc8dc1f5b6}{}\label{classBug772ChainTest_a28c0cb91d146d6b3fdfb86dc8dc1f5b6}


Go. 



Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
88 \{
89   RngSeedManager::SetSeed (12345);
90   RngSeedManager::SetRun (7);
91 
92   \textcolor{comment}{// Default of 3 will cause packet loss }
93   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::ArpCache::PendingQueueSize"}, UintegerValue (10));  
94 
95   \hyperlink{classBug772ChainTest_a8afa0710a496d8d1b85abee049afb120}{CreateNodes} ();
96   \hyperlink{classBug772ChainTest_a9dfdee167ab354dd596e13d1a873e50a}{CreateDevices} ();
97 
98   Simulator::Stop (\hyperlink{classBug772ChainTest_ad9e30dbc5ae2b796084eb0db5cf46602}{m\_time} + \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1));  \textcolor{comment}{// Allow buffered packets to clear}
99   Simulator::Run ();
100   Simulator::Destroy ();
101 
102   \hyperlink{classBug772ChainTest_adbcdc4b89a09e559a59047bd282cba86}{CheckResults} ();
103 
104   \textcolor{keyword}{delete} \hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes}, \hyperlink{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{m\_nodes} = 0;
105 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!Handle\+Read@{Handle\+Read}}
\index{Handle\+Read@{Handle\+Read}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{Handle\+Read(\+Ptr$<$ Socket $>$ socket)}{HandleRead(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Bug772\+Chain\+Test\+::\+Handle\+Read (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_a2599f993595c4c5f3c5afdb417775896}{}\label{classBug772ChainTest_a2599f993595c4c5f3c5afdb417775896}


receive data 


\begin{DoxyCode}
82 \{
83   \hyperlink{classBug772ChainTest_af3610211c4be36edd070e6359c33bcca}{m\_receivedPackets}++;
84 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!Send\+Data@{Send\+Data}}
\index{Send\+Data@{Send\+Data}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{Send\+Data(\+Ptr$<$ Socket $>$ socket)}{SendData(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Bug772\+Chain\+Test\+::\+Send\+Data (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_aa2ca782ce38d9b2435001b878650146c}{}\label{classBug772ChainTest_aa2ca782ce38d9b2435001b878650146c}
Send data 
\begin{DoxyParams}{Parameters}
{\em socket} & the sending socket \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
71 \{
72   \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} () < \hyperlink{classBug772ChainTest_ad9e30dbc5ae2b796084eb0db5cf46602}{m\_time})
73     \{
74       socket->\hyperlink{classns3_1_1Socket_a036901c8f485fe5b6eab93b7f2ec289d}{Send} (Create<Packet> (1000));
75       Simulator::ScheduleWithContext (socket->\hyperlink{classns3_1_1Socket_aba642ad4301c1df47befc0aa9afa2e48}{GetNode} ()->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} (), 
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.25),
76                                       &\hyperlink{classBug772ChainTest_aa2ca782ce38d9b2435001b878650146c}{Bug772ChainTest::SendData}, \textcolor{keyword}{this}, socket);
77     \}
78 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10




\subsection{Member Data Documentation}
\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!m\+\_\+nodes@{m\+\_\+nodes}}
\index{m\+\_\+nodes@{m\+\_\+nodes}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+nodes}{m_nodes}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Node\+Container}$\ast$ Bug772\+Chain\+Test\+::m\+\_\+nodes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}{}\label{classBug772ChainTest_a516c0c86192d926b8277fd3ed0e7f112}
\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!m\+\_\+port@{m\+\_\+port}}
\index{m\+\_\+port@{m\+\_\+port}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+port}{m_port}}]{\setlength{\rightskip}{0pt plus 5cm}const uint16\+\_\+t Bug772\+Chain\+Test\+::m\+\_\+port\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_a32f57f5fa12f89ab99561d458f430acb}{}\label{classBug772ChainTest_a32f57f5fa12f89ab99561d458f430acb}


port number 

\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!m\+\_\+prefix@{m\+\_\+prefix}}
\index{m\+\_\+prefix@{m\+\_\+prefix}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+prefix}{m_prefix}}]{\setlength{\rightskip}{0pt plus 5cm}const std\+::string Bug772\+Chain\+Test\+::m\+\_\+prefix\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_a8008aa030717e255183ef4337d1e3f27}{}\label{classBug772ChainTest_a8008aa030717e255183ef4337d1e3f27}


P\+C\+AP file names prefix. 

\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!m\+\_\+proto@{m\+\_\+proto}}
\index{m\+\_\+proto@{m\+\_\+proto}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+proto}{m_proto}}]{\setlength{\rightskip}{0pt plus 5cm}const std\+::string Bug772\+Chain\+Test\+::m\+\_\+proto\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_a107f53a666f3b0c5e7d3065d56bac5e2}{}\label{classBug772ChainTest_a107f53a666f3b0c5e7d3065d56bac5e2}


Socket factory T\+ID. 

\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!m\+\_\+received\+Packets@{m\+\_\+received\+Packets}}
\index{m\+\_\+received\+Packets@{m\+\_\+received\+Packets}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+received\+Packets}{m_receivedPackets}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Bug772\+Chain\+Test\+::m\+\_\+received\+Packets\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_af3610211c4be36edd070e6359c33bcca}{}\label{classBug772ChainTest_af3610211c4be36edd070e6359c33bcca}


Received packet count. 

\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!m\+\_\+recv\+Socket@{m\+\_\+recv\+Socket}}
\index{m\+\_\+recv\+Socket@{m\+\_\+recv\+Socket}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+recv\+Socket}{m_recvSocket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Socket}$>$ Bug772\+Chain\+Test\+::m\+\_\+recv\+Socket\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_a4d3a3e78853e99307c08276bac5d7ece}{}\label{classBug772ChainTest_a4d3a3e78853e99307c08276bac5d7ece}


Receiving socket. 

\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!m\+\_\+send\+Socket@{m\+\_\+send\+Socket}}
\index{m\+\_\+send\+Socket@{m\+\_\+send\+Socket}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+send\+Socket}{m_sendSocket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Socket}$>$ Bug772\+Chain\+Test\+::m\+\_\+send\+Socket\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_aa38ac9d2ddc0693c530652565e3657d9}{}\label{classBug772ChainTest_aa38ac9d2ddc0693c530652565e3657d9}


Transmitting socket. 

\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!m\+\_\+size@{m\+\_\+size}}
\index{m\+\_\+size@{m\+\_\+size}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+size}{m_size}}]{\setlength{\rightskip}{0pt plus 5cm}const uint32\+\_\+t Bug772\+Chain\+Test\+::m\+\_\+size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}{}\label{classBug772ChainTest_a7204a38a0c781f1231601e4ee404c8d4}


Chain size. 

\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!m\+\_\+step@{m\+\_\+step}}
\index{m\+\_\+step@{m\+\_\+step}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+step}{m_step}}]{\setlength{\rightskip}{0pt plus 5cm}const double Bug772\+Chain\+Test\+::m\+\_\+step\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_a8b6f1eaf4682f00c5092be2f4b79ffc3}{}\label{classBug772ChainTest_a8b6f1eaf4682f00c5092be2f4b79ffc3}


Chain step, meters. 

\index{Bug772\+Chain\+Test@{Bug772\+Chain\+Test}!m\+\_\+time@{m\+\_\+time}}
\index{m\+\_\+time@{m\+\_\+time}!Bug772\+Chain\+Test@{Bug772\+Chain\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+time}{m_time}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Time} Bug772\+Chain\+Test\+::m\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classBug772ChainTest_ad9e30dbc5ae2b796084eb0db5cf46602}{}\label{classBug772ChainTest_ad9e30dbc5ae2b796084eb0db5cf46602}


Total simulation time. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
aodv/test/\hyperlink{bug-772_8h}{bug-\/772.\+h}\item 
aodv/test/\hyperlink{bug-772_8cc}{bug-\/772.\+cc}\end{DoxyCompactItemize}
