\hypertarget{classns3_1_1PcapFileWrapper}{}\section{ns3\+:\+:Pcap\+File\+Wrapper Class Reference}
\label{classns3_1_1PcapFileWrapper}\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}


{\ttfamily \#include $<$pcap-\/file-\/wrapper.\+h$>$}



Inheritance diagram for ns3\+:\+:Pcap\+File\+Wrapper\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Pcap\+File\+Wrapper\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1PcapFileWrapper_a93d36544051d06b8e9d669c54e1d6da0}{Pcap\+File\+Wrapper} ()
\item 
\hyperlink{classns3_1_1PcapFileWrapper_a7411aab7ddb9e89a8599c03b91cd2337}{$\sim$\+Pcap\+File\+Wrapper} ()
\item 
bool \hyperlink{classns3_1_1PcapFileWrapper_a78e9c467a729b6f5387ba75b09bc8488}{Fail} (void) const 
\item 
bool \hyperlink{classns3_1_1PcapFileWrapper_aab530ce4c968c7e40c9bb790ce7ec1c2}{Eof} (void) const 
\item 
void \hyperlink{classns3_1_1PcapFileWrapper_a31e8c580c9fa3af146badde80dbbc044}{Clear} (void)
\item 
void \hyperlink{classns3_1_1PcapFileWrapper_a351ffbe082feafac5f6fba9ea13f5886}{Open} (std\+::string const \&filename, std\+::ios\+::openmode mode)
\item 
void \hyperlink{classns3_1_1PcapFileWrapper_a3953c7fbf120b889a60969a5ec93a7bc}{Close} (void)
\item 
void \hyperlink{classns3_1_1PcapFileWrapper_a7e8ffc1bba1f4cc7e4efa4c7fca3072d}{Init} (uint32\+\_\+t data\+Link\+Type, uint32\+\_\+t snap\+Len=std\+::numeric\+\_\+limits$<$ uint32\+\_\+t $>$\+::\hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{max}(), int32\+\_\+t tz\+Correction=\hyperlink{classns3_1_1PcapFile_abd695588f972dc80b0c928aeda466dc0}{Pcap\+File\+::\+Z\+O\+N\+E\+\_\+\+D\+E\+F\+A\+U\+LT})
\item 
void \hyperlink{classns3_1_1PcapFileWrapper_a00c5afa3a653c6bcfaa37fe35c43675e}{Write} (\hyperlink{classns3_1_1Time}{Time} t, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\begin{DoxyCompactList}\small\item\em Write the next packet to file. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1PcapFileWrapper_a925650a4c9db83aacda30dfe89c1f2ec}{Write} (\hyperlink{classns3_1_1Time}{Time} t, const \hyperlink{classns3_1_1Header}{Header} \&header, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\begin{DoxyCompactList}\small\item\em Write the provided header along with the packet to the pcap file. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1PcapFileWrapper_a1caef773ca7a9260db45dcc5911d08f3}{Write} (\hyperlink{classns3_1_1Time}{Time} t, uint8\+\_\+t const $\ast$buffer, uint32\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Write the provided data buffer to the pcap file. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1PcapFileWrapper_a00109cbdbbf9dd2d3fb1856e660e355c}{Read} (\hyperlink{classns3_1_1Time}{Time} \&t)
\begin{DoxyCompactList}\small\item\em Read the next packet from the file. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1PcapFileWrapper_abb2104cf35129697f72a4d71f2e7d90b}{Get\+Magic} (void)
\begin{DoxyCompactList}\small\item\em Returns the magic number of the pcap file as defined by the magic\+\_\+number field in the pcap global header. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1PcapFileWrapper_a97f42f75bc1cf3885aee68a3088e7bf4}{Get\+Version\+Major} (void)
\begin{DoxyCompactList}\small\item\em Returns the major version of the pcap file as defined by the version\+\_\+major field in the pcap global header. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1PcapFileWrapper_aaccc49b53a2b5f2ec4239e63b9b05054}{Get\+Version\+Minor} (void)
\begin{DoxyCompactList}\small\item\em Returns the minor version of the pcap file as defined by the version\+\_\+minor field in the pcap global header. \end{DoxyCompactList}\item 
int32\+\_\+t \hyperlink{classns3_1_1PcapFileWrapper_ad819ceb3916fa74c16640d271e7eef1e}{Get\+Time\+Zone\+Offset} (void)
\begin{DoxyCompactList}\small\item\em Returns the time zone offset of the pcap file as defined by the thiszone field in the pcap global header. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1PcapFileWrapper_a7d3709b3e1a3d198ae66d8fabefab73a}{Get\+Sig\+Figs} (void)
\begin{DoxyCompactList}\small\item\em Returns the accuracy of timestamps field of the pcap file as defined by the sigfigs field in the pcap global header. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1PcapFileWrapper_a3589e30c015e8a215ccc02a3cfbdee81}{Get\+Snap\+Len} (void)
\begin{DoxyCompactList}\small\item\em Returns the max length of saved packets field of the pcap file as defined by the snaplen field in the pcap global header. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1PcapFileWrapper_a1ea3ae0fe160429a34d23f40d70e2e61}{Get\+Data\+Link\+Type} (void)
\begin{DoxyCompactList}\small\item\em Returns the data link type field of the pcap file as defined by the network field in the pcap global header. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1PcapFileWrapper_a8c21964d5910e1a29c414e9f7188e22d}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1PcapFile}{Pcap\+File} \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\+\_\+file}
\begin{DoxyCompactList}\small\item\em Pcap file. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1PcapFileWrapper_a3c8cfde5e7aaf2c1ecfef7646a8032db}{m\+\_\+snap\+Len}
\begin{DoxyCompactList}\small\item\em max length of saved packets \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1PcapFileWrapper_aefa7cc2c0286d92eb3bfb50cc382f3ff}{m\+\_\+nanosec\+Mode}
\begin{DoxyCompactList}\small\item\em Timestamps in nanosecond mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A class that wraps a \hyperlink{classns3_1_1PcapFile}{Pcap\+File} as an \hyperlink{classns3_1_1Object}{ns3\+::\+Object} and provides a higher-\/layer ns-\/3 interface to the low-\/level public methods of \hyperlink{classns3_1_1PcapFile}{Pcap\+File}. Users are encouraged to use this object instead of class \hyperlink{classns3_1_1PcapFile}{ns3\+::\+Pcap\+File} in ns-\/3 public A\+P\+Is. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Pcap\+File\+Wrapper@{Pcap\+File\+Wrapper}}
\index{Pcap\+File\+Wrapper@{Pcap\+File\+Wrapper}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Pcap\+File\+Wrapper()}{PcapFileWrapper()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Pcap\+File\+Wrapper\+::\+Pcap\+File\+Wrapper (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a93d36544051d06b8e9d669c54e1d6da0}{}\label{classns3_1_1PcapFileWrapper_a93d36544051d06b8e9d669c54e1d6da0}

\begin{DoxyCode}
55 \{
56   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
57 \}
\end{DoxyCode}
\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!````~Pcap\+File\+Wrapper@{$\sim$\+Pcap\+File\+Wrapper}}
\index{````~Pcap\+File\+Wrapper@{$\sim$\+Pcap\+File\+Wrapper}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{$\sim$\+Pcap\+File\+Wrapper()}{~PcapFileWrapper()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Pcap\+File\+Wrapper\+::$\sim$\+Pcap\+File\+Wrapper (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a7411aab7ddb9e89a8599c03b91cd2337}{}\label{classns3_1_1PcapFileWrapper_a7411aab7ddb9e89a8599c03b91cd2337}

\begin{DoxyCode}
60 \{
61   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
62   \hyperlink{classns3_1_1PcapFileWrapper_a3953c7fbf120b889a60969a5ec93a7bc}{Close} ();   
63 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




\subsection{Member Function Documentation}
\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Clear@{Clear}}
\index{Clear@{Clear}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Clear(void)}{Clear(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pcap\+File\+Wrapper\+::\+Clear (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a31e8c580c9fa3af146badde80dbbc044}{}\label{classns3_1_1PcapFileWrapper_a31e8c580c9fa3af146badde80dbbc044}
Clear all state bits of the underlying iostream. 
\begin{DoxyCode}
80 \{
81   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
82   \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a4b593422b0941d936d98635151d1d8ce}{Clear} ();
83 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Close@{Close}}
\index{Close@{Close}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Close(void)}{Close(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pcap\+File\+Wrapper\+::\+Close (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a3953c7fbf120b889a60969a5ec93a7bc}{}\label{classns3_1_1PcapFileWrapper_a3953c7fbf120b889a60969a5ec93a7bc}
Close the underlying pcap file. 
\begin{DoxyCode}
87 \{
88   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
89   \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_ad3b6c28d464742ee1fa3a64628339a5b}{Close} ();
90 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Eof@{Eof}}
\index{Eof@{Eof}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Eof(void) const }{Eof(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Pcap\+File\+Wrapper\+::\+Eof (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1PcapFileWrapper_aab530ce4c968c7e40c9bb790ce7ec1c2}{}\label{classns3_1_1PcapFileWrapper_aab530ce4c968c7e40c9bb790ce7ec1c2}
\begin{DoxyReturn}{Returns}
true if the \textquotesingle{}eof\textquotesingle{} bit is set in the underlying iostream, false otherwise. 
\end{DoxyReturn}

\begin{DoxyCode}
74 \{
75   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
76   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_ad8b9cd552beb5e1c348e04c98d3daffa}{Eof} ();
77 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Fail@{Fail}}
\index{Fail@{Fail}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Fail(void) const }{Fail(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Pcap\+File\+Wrapper\+::\+Fail (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1PcapFileWrapper_a78e9c467a729b6f5387ba75b09bc8488}{}\label{classns3_1_1PcapFileWrapper_a78e9c467a729b6f5387ba75b09bc8488}
\begin{DoxyReturn}{Returns}
true if the \textquotesingle{}fail\textquotesingle{} bit is set in the underlying iostream, false otherwise. 
\end{DoxyReturn}

\begin{DoxyCode}
67 \{
68   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
69   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} ();
70 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Get\+Data\+Link\+Type@{Get\+Data\+Link\+Type}}
\index{Get\+Data\+Link\+Type@{Get\+Data\+Link\+Type}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Get\+Data\+Link\+Type(void)}{GetDataLinkType(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Pcap\+File\+Wrapper\+::\+Get\+Data\+Link\+Type (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a1ea3ae0fe160429a34d23f40d70e2e61}{}\label{classns3_1_1PcapFileWrapper_a1ea3ae0fe160429a34d23f40d70e2e61}


Returns the data link type field of the pcap file as defined by the network field in the pcap global header. 

See \href{http://wiki.wireshark.org/Development/LibpcapFileFormat}{\tt http\+://wiki.\+wireshark.\+org/\+Development/\+Libpcap\+File\+Format}

\begin{DoxyReturn}{Returns}
data link type field 
\end{DoxyReturn}

\begin{DoxyCode}
254 \{
255   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
256   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_aa3795e9a87e7a4151fb4d30747eaa072}{GetDataLinkType} ();
257 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Get\+Magic@{Get\+Magic}}
\index{Get\+Magic@{Get\+Magic}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Get\+Magic(void)}{GetMagic(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Pcap\+File\+Wrapper\+::\+Get\+Magic (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_abb2104cf35129697f72a4d71f2e7d90b}{}\label{classns3_1_1PcapFileWrapper_abb2104cf35129697f72a4d71f2e7d90b}


Returns the magic number of the pcap file as defined by the magic\+\_\+number field in the pcap global header. 

See \href{http://wiki.wireshark.org/Development/LibpcapFileFormat}{\tt http\+://wiki.\+wireshark.\+org/\+Development/\+Libpcap\+File\+Format}

\begin{DoxyReturn}{Returns}
magic number 
\end{DoxyReturn}

\begin{DoxyCode}
212 \{
213   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
214   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_ac32dd628aa09604ae0280ad87bafe105}{GetMagic} ();
215 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Get\+Sig\+Figs@{Get\+Sig\+Figs}}
\index{Get\+Sig\+Figs@{Get\+Sig\+Figs}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Get\+Sig\+Figs(void)}{GetSigFigs(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Pcap\+File\+Wrapper\+::\+Get\+Sig\+Figs (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a7d3709b3e1a3d198ae66d8fabefab73a}{}\label{classns3_1_1PcapFileWrapper_a7d3709b3e1a3d198ae66d8fabefab73a}


Returns the accuracy of timestamps field of the pcap file as defined by the sigfigs field in the pcap global header. 

See \href{http://wiki.wireshark.org/Development/LibpcapFileFormat}{\tt http\+://wiki.\+wireshark.\+org/\+Development/\+Libpcap\+File\+Format}

\begin{DoxyReturn}{Returns}
accuracy of timestamps 
\end{DoxyReturn}

\begin{DoxyCode}
240 \{
241   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
242   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a7074106d671684484d083f5970723c07}{GetSigFigs} ();
243 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Get\+Snap\+Len@{Get\+Snap\+Len}}
\index{Get\+Snap\+Len@{Get\+Snap\+Len}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Get\+Snap\+Len(void)}{GetSnapLen(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Pcap\+File\+Wrapper\+::\+Get\+Snap\+Len (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a3589e30c015e8a215ccc02a3cfbdee81}{}\label{classns3_1_1PcapFileWrapper_a3589e30c015e8a215ccc02a3cfbdee81}


Returns the max length of saved packets field of the pcap file as defined by the snaplen field in the pcap global header. 

See \href{http://wiki.wireshark.org/Development/LibpcapFileFormat}{\tt http\+://wiki.\+wireshark.\+org/\+Development/\+Libpcap\+File\+Format}

\begin{DoxyReturn}{Returns}
max length of saved packets field 
\end{DoxyReturn}

\begin{DoxyCode}
247 \{
248   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
249   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a1ad2956ada10389364ee11fae1937e6b}{GetSnapLen} ();
250 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Get\+Time\+Zone\+Offset@{Get\+Time\+Zone\+Offset}}
\index{Get\+Time\+Zone\+Offset@{Get\+Time\+Zone\+Offset}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Get\+Time\+Zone\+Offset(void)}{GetTimeZoneOffset(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int32\+\_\+t ns3\+::\+Pcap\+File\+Wrapper\+::\+Get\+Time\+Zone\+Offset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_ad819ceb3916fa74c16640d271e7eef1e}{}\label{classns3_1_1PcapFileWrapper_ad819ceb3916fa74c16640d271e7eef1e}


Returns the time zone offset of the pcap file as defined by the thiszone field in the pcap global header. 

See \href{http://wiki.wireshark.org/Development/LibpcapFileFormat}{\tt http\+://wiki.\+wireshark.\+org/\+Development/\+Libpcap\+File\+Format}

\begin{DoxyReturn}{Returns}
time zone offset 
\end{DoxyReturn}

\begin{DoxyCode}
233 \{
234   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
235   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_af2f76f02140b0cd7820f630382626d51}{GetTimeZoneOffset} ();
236 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Pcap\+File\+Wrapper\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1PcapFileWrapper_a8c21964d5910e1a29c414e9f7188e22d}{}\label{classns3_1_1PcapFileWrapper_a8c21964d5910e1a29c414e9f7188e22d}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
34 \{
35   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::PcapFileWrapper"})
36     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
37     .SetGroupName(\textcolor{stringliteral}{"Network"})
38     .AddConstructor<\hyperlink{classns3_1_1PcapFileWrapper_a93d36544051d06b8e9d669c54e1d6da0}{PcapFileWrapper}> ()
39     .AddAttribute (\textcolor{stringliteral}{"CaptureSize"},
40                    \textcolor{stringliteral}{"Maximum length of captured packets (cf. pcap snaplen)"},
41                    UintegerValue (\hyperlink{classns3_1_1PcapFile_ac5fda3d19b0cd0f85b0c151c2397681b}{PcapFile::SNAPLEN\_DEFAULT}),
42                    MakeUintegerAccessor (&\hyperlink{classns3_1_1PcapFileWrapper_a3c8cfde5e7aaf2c1ecfef7646a8032db}{PcapFileWrapper::m\_snapLen}),
43                    MakeUintegerChecker<uint32\_t> (0, \hyperlink{classns3_1_1PcapFile_ac5fda3d19b0cd0f85b0c151c2397681b}{PcapFile::SNAPLEN\_DEFAULT}))
44     .AddAttribute (\textcolor{stringliteral}{"NanosecMode"},
45                    \textcolor{stringliteral}{"Whether packet timestamps in the PCAP file are nanoseconds or microseconds(default)."},
46                    BooleanValue (\textcolor{keyword}{false}),
47                    MakeBooleanAccessor (&\hyperlink{classns3_1_1PcapFileWrapper_aefa7cc2c0286d92eb3bfb50cc382f3ff}{PcapFileWrapper::m\_nanosecMode}),
48                    MakeBooleanChecker())
49   ;
50   \textcolor{keywordflow}{return} tid;
51 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Get\+Version\+Major@{Get\+Version\+Major}}
\index{Get\+Version\+Major@{Get\+Version\+Major}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Get\+Version\+Major(void)}{GetVersionMajor(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Pcap\+File\+Wrapper\+::\+Get\+Version\+Major (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a97f42f75bc1cf3885aee68a3088e7bf4}{}\label{classns3_1_1PcapFileWrapper_a97f42f75bc1cf3885aee68a3088e7bf4}


Returns the major version of the pcap file as defined by the version\+\_\+major field in the pcap global header. 

See \href{http://wiki.wireshark.org/Development/LibpcapFileFormat}{\tt http\+://wiki.\+wireshark.\+org/\+Development/\+Libpcap\+File\+Format}

\begin{DoxyReturn}{Returns}
major version 
\end{DoxyReturn}

\begin{DoxyCode}
219 \{
220   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
221   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a182c0d559994abde0e1c5691bbb6f2bd}{GetVersionMajor} ();
222 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Get\+Version\+Minor@{Get\+Version\+Minor}}
\index{Get\+Version\+Minor@{Get\+Version\+Minor}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Get\+Version\+Minor(void)}{GetVersionMinor(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Pcap\+File\+Wrapper\+::\+Get\+Version\+Minor (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_aaccc49b53a2b5f2ec4239e63b9b05054}{}\label{classns3_1_1PcapFileWrapper_aaccc49b53a2b5f2ec4239e63b9b05054}


Returns the minor version of the pcap file as defined by the version\+\_\+minor field in the pcap global header. 

See \href{http://wiki.wireshark.org/Development/LibpcapFileFormat}{\tt http\+://wiki.\+wireshark.\+org/\+Development/\+Libpcap\+File\+Format}

\begin{DoxyReturn}{Returns}
minor version 
\end{DoxyReturn}

\begin{DoxyCode}
226 \{
227   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
228   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_aec2a5893556ce03eface12adc8ef200d}{GetVersionMinor} ();
229 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Init@{Init}}
\index{Init@{Init}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Init(uint32\+\_\+t data\+Link\+Type, uint32\+\_\+t snap\+Len=std\+::numeric\+\_\+limits$<$ uint32\+\_\+t $>$\+::max(), int32\+\_\+t tz\+Correction=\+Pcap\+File\+::\+Z\+O\+N\+E\+\_\+\+D\+E\+F\+A\+U\+L\+T)}{Init(uint32_t dataLinkType, uint32_t snapLen=std::numeric_limits< uint32_t >::max(), int32_t tzCorrection=PcapFile::ZONE_DEFAULT)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pcap\+File\+Wrapper\+::\+Init (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{data\+Link\+Type, }
\item[{uint32\+\_\+t}]{snap\+Len = {\ttfamily std\+:\+:numeric\+\_\+limits$<$uint32\+\_\+t$>$\+:\+:{\bf max}~()}, }
\item[{int32\+\_\+t}]{tz\+Correction = {\ttfamily {\bf Pcap\+File\+::\+Z\+O\+N\+E\+\_\+\+D\+E\+F\+A\+U\+LT}}}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a7e8ffc1bba1f4cc7e4efa4c7fca3072d}{}\label{classns3_1_1PcapFileWrapper_a7e8ffc1bba1f4cc7e4efa4c7fca3072d}
Initialize the pcap file associated with this wrapper. This file must have been previously opened with write permissions.


\begin{DoxyParams}{Parameters}
{\em data\+Link\+Type} & A data link type as defined in the pcap library. If you want to make resulting pcap files visible in existing tools, the data link type must match existing definitions, such as P\+C\+A\+P\+\_\+\+E\+T\+H\+E\+R\+N\+ET, P\+C\+A\+P\+\_\+\+P\+PP, P\+C\+A\+P\+\_\+80211, etc. If you are storing different kinds of packet data, such as naked T\+CP headers, you are at liberty to locally define your own data link types. According to the pcap-\/linktype man page, \char`\"{}well-\/known\char`\"{} pcap linktypes range from 0 to 177. If you use a large random number for your type, chances are small for a collision.\\
\hline
{\em snap\+Len} & An optional maximum size for packets written to the file. Defaults to 65535. If packets exceed this length they are truncated.\\
\hline
{\em tz\+Correction} & An integer describing the offset of your local time zone from U\+T\+C/\+G\+MT. For example, Pacific Standard \hyperlink{classns3_1_1Time}{Time} in the US is G\+M\+T-\/8, so one would enter -\/8 for that correction. Defaults to 0 (U\+TC).\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
Calling this method on an existing file will result in the loss any existing data. 
\end{DoxyWarning}

\begin{DoxyCode}
101 \{
102   \textcolor{comment}{//}
103   \textcolor{comment}{// If the user doesn't provide a snaplen, the default value will come in.  If}
104   \textcolor{comment}{// this happens, we use the "CaptureSize" Attribute.  If the user does provide}
105   \textcolor{comment}{// a snaplen, we use the one provided.}
106   \textcolor{comment}{//}
107   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << dataLinkType << snapLen << tzCorrection);
108   \textcolor{keywordflow}{if} (snapLen != \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint32\_t>::max} ())
109     \{
110       \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a80c8adea1baa66e3f730df2927b0fc9b}{Init} (dataLinkType, snapLen, tzCorrection, \textcolor{keyword}{false}, 
      \hyperlink{classns3_1_1PcapFileWrapper_aefa7cc2c0286d92eb3bfb50cc382f3ff}{m\_nanosecMode});
111     \} 
112   \textcolor{keywordflow}{else}
113     \{
114       \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a80c8adea1baa66e3f730df2927b0fc9b}{Init} (dataLinkType, \hyperlink{classns3_1_1PcapFileWrapper_a3c8cfde5e7aaf2c1ecfef7646a8032db}{m\_snapLen}, tzCorrection, \textcolor{keyword}{false}, 
      \hyperlink{classns3_1_1PcapFileWrapper_aefa7cc2c0286d92eb3bfb50cc382f3ff}{m\_nanosecMode});
115     \} 
116 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Open@{Open}}
\index{Open@{Open}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Open(std\+::string const \&filename, std\+::ios\+::openmode mode)}{Open(std::string const &filename, std::ios::openmode mode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pcap\+File\+Wrapper\+::\+Open (
\begin{DoxyParamCaption}
\item[{std\+::string const \&}]{filename, }
\item[{std\+::ios\+::openmode}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a351ffbe082feafac5f6fba9ea13f5886}{}\label{classns3_1_1PcapFileWrapper_a351ffbe082feafac5f6fba9ea13f5886}
Create a new pcap file or open an existing pcap file. Semantics are similar to the stdc++ io stream classes.

Since a pcap file is always a binary file, the file type is automatically selected as a binary file (fstream\+::binary is automatically ored with the mode field).


\begin{DoxyParams}{Parameters}
{\em filename} & String containing the name of the file.\\
\hline
{\em mode} & String containing the access mode for the file. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
94 \{
95   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << filename << mode);
96   \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a064e8494e28e823d0bb4e40549f9f483}{Open} (filename, mode);
97 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Read@{Read}}
\index{Read@{Read}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Read(\+Time \&t)}{Read(Time &t)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Packet} $>$ ns3\+::\+Pcap\+File\+Wrapper\+::\+Read (
\begin{DoxyParamCaption}
\item[{{\bf Time} \&}]{t}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a00109cbdbbf9dd2d3fb1856e660e355c}{}\label{classns3_1_1PcapFileWrapper_a00109cbdbbf9dd2d3fb1856e660e355c}


Read the next packet from the file. 


\begin{DoxyParams}{Parameters}
{\em t} & Reference to packet timestamp as \hyperlink{classns3_1_1Time}{ns3\+::\+Time}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to \hyperlink{classns3_1_1Packet}{ns3\+::\+Packet}. 
\end{DoxyReturn}

\begin{DoxyCode}
180 \{
181   uint32\_t tsSec;
182   uint32\_t tsUsec;
183   uint32\_t inclLen;
184   uint32\_t origLen;
185   uint32\_t readLen;
186 
187   uint32\_t maxBytes=65536;
188   uint8\_t  datbuf[maxBytes];
189 
190   \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a18c5045735408fe45a8cbc9e6b34a4fb}{Read} (datbuf,maxBytes,tsSec,tsUsec,inclLen,origLen,readLen);
191 
192   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail}())
193     \{
194       \textcolor{keywordflow}{return} 0;
195     \}
196 
197   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_ab19447f457118e7b345d4dc971d11c77}{IsNanoSecMode}())
198     \{
199       t = \hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds}(tsSec*1000000000ULL+tsUsec);
200     \}
201   \textcolor{keywordflow}{else}
202     \{
203       t = \hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds}(tsSec*1000000ULL+tsUsec);
204     \}
205 
206   \textcolor{keywordflow}{return} Create<Packet> (datbuf,origLen);
207 
208 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Write@{Write}}
\index{Write@{Write}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Write(\+Time t, Ptr$<$ const Packet $>$ p)}{Write(Time t, Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pcap\+File\+Wrapper\+::\+Write (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{t, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a00c5afa3a653c6bcfaa37fe35c43675e}{}\label{classns3_1_1PcapFileWrapper_a00c5afa3a653c6bcfaa37fe35c43675e}


Write the next packet to file. 


\begin{DoxyParams}{Parameters}
{\em t} & \hyperlink{classns3_1_1Packet}{Packet} timestamp as \hyperlink{classns3_1_1Time}{ns3\+::\+Time}. \\
\hline
{\em p} & \hyperlink{classns3_1_1Packet}{Packet} to write to the pcap file. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
120 \{
121   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << t << \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p});
122   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_ab19447f457118e7b345d4dc971d11c77}{IsNanoSecMode}())
123     \{
124       uint64\_t current = t.GetNanoSeconds ();
125       uint64\_t \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s}       = current / 1000000000;
126       uint64\_t ns      = current % 1000000000;
127       \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a3920f5bae95ca0021875e6e9c2630ccf}{Write} (s, ns, \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p});
128     \}
129   \textcolor{keywordflow}{else}
130     \{
131       uint64\_t current = t.GetMicroSeconds ();
132       uint64\_t s       = current / 1000000;
133       uint64\_t us      = current % 1000000;
134       \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a3920f5bae95ca0021875e6e9c2630ccf}{Write} (s, us, \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p});
135     \}
136 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Write@{Write}}
\index{Write@{Write}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Write(\+Time t, const Header \&header, Ptr$<$ const Packet $>$ p)}{Write(Time t, const Header &header, Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pcap\+File\+Wrapper\+::\+Write (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{t, }
\item[{const {\bf Header} \&}]{header, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a925650a4c9db83aacda30dfe89c1f2ec}{}\label{classns3_1_1PcapFileWrapper_a925650a4c9db83aacda30dfe89c1f2ec}


Write the provided header along with the packet to the pcap file. 

It is the case that adding a header to a packet prior to writing it to a file must trigger a deep copy in the \hyperlink{classns3_1_1Packet}{Packet}. By providing the header separately, we can avoid that copy.


\begin{DoxyParams}{Parameters}
{\em t} & \hyperlink{classns3_1_1Packet}{Packet} timestamp as \hyperlink{classns3_1_1Time}{ns3\+::\+Time}. \\
\hline
{\em header} & The \hyperlink{classns3_1_1Header}{Header} to prepend to the packet. \\
\hline
{\em p} & \hyperlink{classns3_1_1Packet}{Packet} to write to the pcap file. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
140 \{
141   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << t << &header << \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p});
142   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_ab19447f457118e7b345d4dc971d11c77}{IsNanoSecMode}())
143     \{
144       uint64\_t current = t.GetNanoSeconds ();
145       uint64\_t \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s}       = current / 1000000000;
146       uint64\_t ns      = current % 1000000000;
147       \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a3920f5bae95ca0021875e6e9c2630ccf}{Write} (s, ns, header, \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p});
148     \}
149   \textcolor{keywordflow}{else}
150     \{
151       uint64\_t current = t.GetMicroSeconds ();
152       uint64\_t s       = current / 1000000;
153       uint64\_t us      = current % 1000000;
154       \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a3920f5bae95ca0021875e6e9c2630ccf}{Write} (s, us, header, \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p});
155     \}
156 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 20


\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!Write@{Write}}
\index{Write@{Write}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{Write(\+Time t, uint8\+\_\+t const $\ast$buffer, uint32\+\_\+t length)}{Write(Time t, uint8_t const *buffer, uint32_t length)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Pcap\+File\+Wrapper\+::\+Write (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{t, }
\item[{uint8\+\_\+t const $\ast$}]{buffer, }
\item[{uint32\+\_\+t}]{length}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PcapFileWrapper_a1caef773ca7a9260db45dcc5911d08f3}{}\label{classns3_1_1PcapFileWrapper_a1caef773ca7a9260db45dcc5911d08f3}


Write the provided data buffer to the pcap file. 


\begin{DoxyParams}{Parameters}
{\em t} & \hyperlink{classns3_1_1Packet}{Packet} timestamp as \hyperlink{classns3_1_1Time}{ns3\+::\+Time}. \\
\hline
{\em buffer} & The buffer to write. \\
\hline
{\em length} & The size of the buffer. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
160 \{
161   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << t << &buffer << length);
162   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_ab19447f457118e7b345d4dc971d11c77}{IsNanoSecMode}())
163     \{
164       uint64\_t current = t.GetNanoSeconds ();
165       uint64\_t \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s}       = current / 1000000000;
166       uint64\_t ns      = current % 1000000000;
167       \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a3920f5bae95ca0021875e6e9c2630ccf}{Write} (s, ns, buffer, length);
168     \}
169   \textcolor{keywordflow}{else}
170     \{
171       uint64\_t current = t.GetMicroSeconds ();
172       uint64\_t s       = current / 1000000;
173       uint64\_t us      = current % 1000000;
174       \hyperlink{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{m\_file}.\hyperlink{classns3_1_1PcapFile_a3920f5bae95ca0021875e6e9c2630ccf}{Write} (s, us, buffer, length);
175     \}
176 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 21




\subsection{Member Data Documentation}
\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!m\+\_\+file@{m\+\_\+file}}
\index{m\+\_\+file@{m\+\_\+file}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{m\+\_\+file}{m_file}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pcap\+File} ns3\+::\+Pcap\+File\+Wrapper\+::m\+\_\+file\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}{}\label{classns3_1_1PcapFileWrapper_a10e005fc71286fc660bc21c1dd10ad18}


Pcap file. 

\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!m\+\_\+nanosec\+Mode@{m\+\_\+nanosec\+Mode}}
\index{m\+\_\+nanosec\+Mode@{m\+\_\+nanosec\+Mode}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{m\+\_\+nanosec\+Mode}{m_nanosecMode}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Pcap\+File\+Wrapper\+::m\+\_\+nanosec\+Mode\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PcapFileWrapper_aefa7cc2c0286d92eb3bfb50cc382f3ff}{}\label{classns3_1_1PcapFileWrapper_aefa7cc2c0286d92eb3bfb50cc382f3ff}


Timestamps in nanosecond mode. 

\index{ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}!m\+\_\+snap\+Len@{m\+\_\+snap\+Len}}
\index{m\+\_\+snap\+Len@{m\+\_\+snap\+Len}!ns3\+::\+Pcap\+File\+Wrapper@{ns3\+::\+Pcap\+File\+Wrapper}}
\subsubsection[{\texorpdfstring{m\+\_\+snap\+Len}{m_snapLen}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Pcap\+File\+Wrapper\+::m\+\_\+snap\+Len\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PcapFileWrapper_a3c8cfde5e7aaf2c1ecfef7646a8032db}{}\label{classns3_1_1PcapFileWrapper_a3c8cfde5e7aaf2c1ecfef7646a8032db}


max length of saved packets 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
network/utils/\hyperlink{pcap-file-wrapper_8h}{pcap-\/file-\/wrapper.\+h}\item 
network/utils/\hyperlink{pcap-file-wrapper_8cc}{pcap-\/file-\/wrapper.\+cc}\end{DoxyCompactItemize}
