\hypertarget{classLteUplinkOpenLoopPowerControlTestCase}{}\section{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case Class Reference}
\label{classLteUplinkOpenLoopPowerControlTestCase}\index{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}}


{\ttfamily \#include $<$lte-\/test-\/uplink-\/power-\/control.\+h$>$}



Inheritance diagram for Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case\+:
% FIG 0


Collaboration diagram for Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLteUplinkOpenLoopPowerControlTestCase_ab0adc4b0960ea79807d3f320a6927f5f}{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case} (std\+::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name})
\item 
virtual \hyperlink{classLteUplinkOpenLoopPowerControlTestCase_a51c3cc235020573bb14a1bba0593e549}{$\sim$\+Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classLteUplinkOpenLoopPowerControlTestCase_a1cd67f8fd6b950e1a92142dec9e4af10}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}!Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}}
\index{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}!Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case(std\+::string name)}{LteUplinkOpenLoopPowerControlTestCase(std::string name)}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case\+::\+Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name}
\end{DoxyParamCaption}
)}\hypertarget{classLteUplinkOpenLoopPowerControlTestCase_ab0adc4b0960ea79807d3f320a6927f5f}{}\label{classLteUplinkOpenLoopPowerControlTestCase_ab0adc4b0960ea79807d3f320a6927f5f}

\begin{DoxyCode}
183   : \hyperlink{classLteUplinkPowerControlTestCase_ac1aac9206ce30c28f80107fea71c8e8c}{LteUplinkPowerControlTestCase} (\textcolor{stringliteral}{"Uplink Open Loop Power Control: "} + 
      \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name})
184 \{
185   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Creating LteUplinkPowerControlTestCase"});
186 \}
\end{DoxyCode}
\index{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}!````~Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{$\sim$\+Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}}
\index{````~Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{$\sim$\+Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}!Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case()}{~LteUplinkOpenLoopPowerControlTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case\+::$\sim$\+Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classLteUplinkOpenLoopPowerControlTestCase_a51c3cc235020573bb14a1bba0593e549}{}\label{classLteUplinkOpenLoopPowerControlTestCase_a51c3cc235020573bb14a1bba0593e549}

\begin{DoxyCode}
189 \{
190 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case@{Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Uplink\+Open\+Loop\+Power\+Control\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLteUplinkOpenLoopPowerControlTestCase_a1cd67f8fd6b950e1a92142dec9e4af10}{}\label{classLteUplinkOpenLoopPowerControlTestCase_a1cd67f8fd6b950e1a92142dec9e4af10}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Reimplemented from \hyperlink{classLteUplinkPowerControlTestCase_ade34c47524d78d2154c15ba6c257a581}{Lte\+Uplink\+Power\+Control\+Test\+Case}.


\begin{DoxyCode}
194 \{
195   \hyperlink{group__config_ga2c1b65724f42f8c72276d7e7ad6df6db}{Config::Reset} ();
196   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteHelper::UseIdealRrc"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
197 
198   \textcolor{keywordtype}{double} eNbTxPower = 30;
199   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteEnbPhy::TxPower"}, DoubleValue (eNbTxPower));
200   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::TxPower"}, DoubleValue (10.0));
201   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::EnableUplinkPowerControl"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
202 
203   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::ClosedLoop"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
204   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::AccumulationEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
205   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::PoNominalPusch"}, IntegerValue (-90));
206   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::PsrsOffset"}, IntegerValue (9));
207 
208   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
209 
210   uint8\_t bandwidth = 25;
211   \textcolor{keywordtype}{double} \hyperlink{lte__link__budget__interference_8m_ab5ca0c44c6f0a063a5219b3749db661f}{d1} = 0;
212 
213   \textcolor{comment}{// Create Nodes: eNodeB and UE}
214   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
215   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes;
216   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
217   ueNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
218   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} allNodes = \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ( enbNodes, ueNodes);
219 
220 \textcolor{comment}{/*   the topology is the following:}
221 \textcolor{comment}{ *}
222 \textcolor{comment}{ *   eNB1-------------------------UE}
223 \textcolor{comment}{ *                  d1}
224 \textcolor{comment}{ */}
225 
226   \textcolor{comment}{// Install Mobility Model}
227   \hyperlink{classns3_1_1Ptr}{Ptr<ListPositionAllocator>} positionAlloc = CreateObject<ListPositionAllocator> 
      ();
228   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (0.0, 0.0, 0.0));                  \textcolor{comment}{// eNB1}
229   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (d1, 0.0, 0.0));           \textcolor{comment}{// UE1}
230 
231   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
232   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
233   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (positionAlloc);
234   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (allNodes);
235   \hyperlink{classLteUplinkPowerControlTestCase_a0b8bf35679af00783442c2e310b30e45}{m\_ueMobility} = ueNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ();
236 
237   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
238   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
239   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs;
240   lteHelper->\hyperlink{classns3_1_1LteHelper_a8f86e55b8b80a81732c4b2df00fb25d5}{SetSchedulerType} (\textcolor{stringliteral}{"ns3::PfFfMacScheduler"});
241 
242   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"DlBandwidth"}, UintegerValue (bandwidth));
243   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"UlBandwidth"}, UintegerValue (bandwidth));
244 
245   enbDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes);
246   ueDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes);
247 
248   \hyperlink{classns3_1_1Ptr}{Ptr<LteUePhy>} uePhy = DynamicCast<LteUePhy>( ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ()->GetPhy () );
249   \hyperlink{classLteUplinkPowerControlTestCase_af2fabece7259e4b60cc73d7ec02b7a3d}{m\_ueUpc} = uePhy->\hyperlink{classns3_1_1LteUePhy_a386b038c79252c3fe8408e68279fa88b}{GetUplinkPowerControl} ();
250 
251   m\_ueUpc->\hyperlink{classns3_1_1ObjectBase_a1be45f6fd561e75dcac9dfa81b2b81e4}{TraceConnectWithoutContext} (\textcolor{stringliteral}{"ReportPuschTxPower"},
252                                        \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-uplink-power-control_8cc_a2236a3f87ff177b3305bf82ff492f8ad}{PuschTxPowerNofitication}, \textcolor{keyword}{this}));
253   m\_ueUpc->TraceConnectWithoutContext (\textcolor{stringliteral}{"ReportPucchTxPower"},
254                                        \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-uplink-power-control_8cc_a4a348fa3ab0a4e65de2ddb70fe0176e3}{PucchTxPowerNofitication}, \textcolor{keyword}{this}));
255   m\_ueUpc->TraceConnectWithoutContext (\textcolor{stringliteral}{"ReportSrsTxPower"},
256                                        \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-uplink-power-control_8cc_acc0b838be35884288e3872794ca2903d}{SrsTxPowerNofitication}, \textcolor{keyword}{this}));
257 
258   \textcolor{comment}{// Attach a UE to a eNB}
259   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs, enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
260 
261   \textcolor{comment}{// Activate a data radio bearer}
262   \textcolor{keyword}{enum} \hyperlink{structns3_1_1EpsBearer_aecf0c67109c5eb4ec0b07226fff5885e}{EpsBearer::Qci} q = EpsBearer::GBR\_CONV\_VOICE;
263   \hyperlink{structns3_1_1EpsBearer}{EpsBearer} bearer (q);
264   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs, bearer);
265 
266   \textcolor{comment}{//Changing UE position}
267   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (0),
268                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 0, 0, -40, -40, -40);
269   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (200),
270                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 200, 0, 8.9745, 8.9745, 11.9745);
271   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (300),
272                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 400, 0, 14.9951, 14.9951, 17.9951 );
273   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (400),
274                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 600, 0, 18.5169, 18.5169, 21.5169 );
275   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (500),
276                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 800, 0, 21.0157, 21.0157, 23 );
277   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (600),
278                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 1000, 0, 22.9539, 22.9539, 23 );
279   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (700),
280                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 1200, 0, 23, 10, 23 );
281   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (800),
282                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 400, 0, 14.9951, 14.9951, 17.9951 );
283   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (900),
284                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 800, 0, 21.0157, 21.0157, 23 );
285   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1000),
286                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 0, 0, -40, -40, -40 );
287   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1100),
288                        &\hyperlink{classLteUplinkPowerControlTestCase_a97a59d65135bb418dd2aaabd673c5da0}{LteUplinkPowerControlTestCase::TeleportUe},
       \textcolor{keyword}{this}, 100, 0, 2.9539, 2.9539, 5.9539 );
289   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.200));
290   Simulator::Run ();
291 
292   Simulator::Destroy ();
293 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/test/\hyperlink{lte-test-uplink-power-control_8h}{lte-\/test-\/uplink-\/power-\/control.\+h}\item 
lte/test/\hyperlink{lte-test-uplink-power-control_8cc}{lte-\/test-\/uplink-\/power-\/control.\+cc}\end{DoxyCompactItemize}
