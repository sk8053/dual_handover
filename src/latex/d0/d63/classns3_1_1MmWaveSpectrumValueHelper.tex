\hypertarget{classns3_1_1MmWaveSpectrumValueHelper}{}\section{ns3\+:\+:Mm\+Wave\+Spectrum\+Value\+Helper Class Reference}
\label{classns3_1_1MmWaveSpectrumValueHelper}\index{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}}


This class defines all functions to create spectrum model for mmwave.  




{\ttfamily \#include $<$mmwave-\/spectrum-\/value-\/helper.\+h$>$}



Collaboration diagram for ns3\+:\+:Mm\+Wave\+Spectrum\+Value\+Helper\+:
% FIG 0
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_a23fc6693b28bb565a97768b536225b58}{Get\+Spectrum\+Model} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWavePhyMacCommon}{Mm\+Wave\+Phy\+Mac\+Common} $>$ ptr\+Config)
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_a1a968ae81d81f346027fe474e7962148}{Create\+Tx\+Power\+Spectral\+Density} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWavePhyMacCommon}{Mm\+Wave\+Phy\+Mac\+Common} $>$ ptr\+Config, double power\+Tx, std\+::vector$<$ int $>$ \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{active\+Rbs})
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_a197369303e536cd592b7ac4aebbe7140}{Create\+Tx\+Power\+Spectral\+Density} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWavePhyMacCommon}{Mm\+Wave\+Phy\+Mac\+Common} $>$ ptr\+Config, double power\+Tx, std\+::map$<$ int, double $>$ power\+Tx\+Map, std\+::vector$<$ int $>$ \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{active\+Rbs})
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_ae17f7f89a0ce6934b94886b463c6db44}{Create\+Noise\+Power\+Spectral\+Density} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWavePhyMacCommon}{Mm\+Wave\+Phy\+Mac\+Common} $>$ ptr\+Config, double noise\+Figure)
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_ac7fbcb2539490f77adbee2487580abb5}{Create\+Noise\+Power\+Spectral\+Density} (double noise\+Figure, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ spectrum\+Model)
\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_acc22bc3ad1571c328d808ccaf2c56a09}{m\+\_\+model} = 0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class defines all functions to create spectrum model for mmwave. 

\subsection{Member Function Documentation}
\index{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}!Create\+Noise\+Power\+Spectral\+Density@{Create\+Noise\+Power\+Spectral\+Density}}
\index{Create\+Noise\+Power\+Spectral\+Density@{Create\+Noise\+Power\+Spectral\+Density}!ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Create\+Noise\+Power\+Spectral\+Density(\+Ptr$<$ Mm\+Wave\+Phy\+Mac\+Common $>$ ptr\+Config, double noise\+Figure)}{CreateNoisePowerSpectralDensity(Ptr< MmWavePhyMacCommon > ptrConfig, double noiseFigure)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper\+::\+Create\+Noise\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mm\+Wave\+Phy\+Mac\+Common} $>$}]{ptr\+Config, }
\item[{double}]{noise\+Figure}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1MmWaveSpectrumValueHelper_ae17f7f89a0ce6934b94886b463c6db44}{}\label{classns3_1_1MmWaveSpectrumValueHelper_ae17f7f89a0ce6934b94886b463c6db44}

\begin{DoxyCode}
116 \{
117   Ptr<SpectrumModel> model = \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_a23fc6693b28bb565a97768b536225b58}{GetSpectrumModel} (ptrConfig);
118   Ptr<SpectrumValue> noisePsd = \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_ae17f7f89a0ce6934b94886b463c6db44}{CreateNoisePowerSpectralDensity} (noiseFigure
      , model);
119   \textcolor{keywordflow}{return} noisePsd;
120 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1




Here is the caller graph for this function\+:
% FIG 2


\index{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}!Create\+Noise\+Power\+Spectral\+Density@{Create\+Noise\+Power\+Spectral\+Density}}
\index{Create\+Noise\+Power\+Spectral\+Density@{Create\+Noise\+Power\+Spectral\+Density}!ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Create\+Noise\+Power\+Spectral\+Density(double noise\+Figure, Ptr$<$ Spectrum\+Model $>$ spectrum\+Model)}{CreateNoisePowerSpectralDensity(double noiseFigure, Ptr< SpectrumModel > spectrumModel)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper\+::\+Create\+Noise\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{double}]{noise\+Figure, }
\item[{{\bf Ptr}$<$ {\bf Spectrum\+Model} $>$}]{spectrum\+Model}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1MmWaveSpectrumValueHelper_ac7fbcb2539490f77adbee2487580abb5}{}\label{classns3_1_1MmWaveSpectrumValueHelper_ac7fbcb2539490f77adbee2487580abb5}

\begin{DoxyCode}
124 \{
125   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (noiseFigureDb << spectrumModel);
126   \textcolor{keyword}{const} \textcolor{keywordtype}{double} kT\_dBm\_Hz = -174.0;  \textcolor{comment}{// dBm/Hz}
127   \textcolor{keywordtype}{double} kT\_W\_Hz = std::pow (10.0, (kT\_dBm\_Hz - 30) / 10.0);
128   \textcolor{keywordtype}{double} noiseFigureLinear = std::pow (10.0, noiseFigureDb / 10.0);
129   \textcolor{keywordtype}{double} noisePowerSpectralDensity =  kT\_W\_Hz * noiseFigureLinear;
130 
131   Ptr<SpectrumValue> noisePsd = Create <SpectrumValue> (spectrumModel);
132   (*noisePsd) = noisePowerSpectralDensity;
133   \textcolor{keywordflow}{return} noisePsd;
134 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}!Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}}
\index{Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}!ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Create\+Tx\+Power\+Spectral\+Density(\+Ptr$<$ Mm\+Wave\+Phy\+Mac\+Common $>$ ptr\+Config, double power\+Tx, std\+::vector$<$ int $>$ active\+Rbs)}{CreateTxPowerSpectralDensity(Ptr< MmWavePhyMacCommon > ptrConfig, double powerTx, std::vector< int > activeRbs)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper\+::\+Create\+Tx\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mm\+Wave\+Phy\+Mac\+Common} $>$}]{ptr\+Config, }
\item[{double}]{power\+Tx, }
\item[{std\+::vector$<$ int $>$}]{active\+Rbs}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1MmWaveSpectrumValueHelper_a1a968ae81d81f346027fe474e7962148}{}\label{classns3_1_1MmWaveSpectrumValueHelper_a1a968ae81d81f346027fe474e7962148}

\begin{DoxyCode}
84 \{
85     Ptr<SpectrumModel> model = \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_a23fc6693b28bb565a97768b536225b58}{GetSpectrumModel} (ptrConfig);
86     Ptr<SpectrumValue> \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd} = Create <SpectrumValue> (model);
87 
88     \textcolor{keywordtype}{double} powerTxW = std::pow (10., (powerTx - 30) / 10);
89 
90     \textcolor{keywordtype}{double} txPowerDensity = 0;
91     txPowerDensity = (powerTxW / (ptrConfig->\hyperlink{classns3_1_1MmWavePhyMacCommon_a8a0b7aa68fc805eb3e8cbdc289fde04c}{GetSystemBandwidth}()));
92 
93     \textcolor{keywordflow}{for} (std::vector <int>::iterator it = \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{activeRbs}.begin (); it != 
      \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{activeRbs}.end (); it++)
94     \{
95         \textcolor{keywordtype}{int} rbId = (*it);
96         (*txPsd)[rbId] = txPowerDensity;
97     \}
98 
99     \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (*txPsd);
100 
101     \textcolor{keywordflow}{return} \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd};
102 
103 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}!Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}}
\index{Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}!ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Create\+Tx\+Power\+Spectral\+Density(\+Ptr$<$ Mm\+Wave\+Phy\+Mac\+Common $>$ ptr\+Config, double power\+Tx, std\+::map$<$ int, double $>$ power\+Tx\+Map, std\+::vector$<$ int $>$ active\+Rbs)}{CreateTxPowerSpectralDensity(Ptr< MmWavePhyMacCommon > ptrConfig, double powerTx, std::map< int, double > powerTxMap, std::vector< int > activeRbs)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper\+::\+Create\+Tx\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mm\+Wave\+Phy\+Mac\+Common} $>$}]{ptr\+Config, }
\item[{double}]{power\+Tx, }
\item[{std\+::map$<$ int, double $>$}]{power\+Tx\+Map, }
\item[{std\+::vector$<$ int $>$}]{active\+Rbs}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1MmWaveSpectrumValueHelper_a197369303e536cd592b7ac4aebbe7140}{}\label{classns3_1_1MmWaveSpectrumValueHelper_a197369303e536cd592b7ac4aebbe7140}

\begin{DoxyCode}
107 \{
108         Ptr<SpectrumValue> dummy;
109          \textcolor{keywordflow}{return} dummy;
110 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}!Get\+Spectrum\+Model@{Get\+Spectrum\+Model}}
\index{Get\+Spectrum\+Model@{Get\+Spectrum\+Model}!ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Get\+Spectrum\+Model(\+Ptr$<$ Mm\+Wave\+Phy\+Mac\+Common $>$ ptr\+Config)}{GetSpectrumModel(Ptr< MmWavePhyMacCommon > ptrConfig)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Model} $>$ ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper\+::\+Get\+Spectrum\+Model (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mm\+Wave\+Phy\+Mac\+Common} $>$}]{ptr\+Config}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1MmWaveSpectrumValueHelper_a23fc6693b28bb565a97768b536225b58}{}\label{classns3_1_1MmWaveSpectrumValueHelper_a23fc6693b28bb565a97768b536225b58}

\begin{DoxyCode}
52 \{
53   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (ptrConfig->\hyperlink{classns3_1_1MmWavePhyMacCommon_a0850d2e37c7075b9bce242723b722019}{GetCenterFrequency}() << (uint32\_t) ptrConfig
      ->\hyperlink{classns3_1_1MmWavePhyMacCommon_a97e82c809a351fea9d5058ac1bb4c3c6}{GetTotalNumChunk}());
54   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWaveSpectrumValueHelper_acc22bc3ad1571c328d808ccaf2c56a09}{m\_model} != 0 && \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_acc22bc3ad1571c328d808ccaf2c56a09}{m\_model}->\hyperlink{classns3_1_1SpectrumModel_a07c4a1c2f963885dd7fef7f82b20e90b}{GetNumBands} () != 0)
55   \{
56         \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_acc22bc3ad1571c328d808ccaf2c56a09}{m\_model};
57   \}
58 
59   \textcolor{keywordtype}{double} \hyperlink{generate__test__data__lte__spectrum__model_8m_a72d54db2b27ce046aab6e6a414c407e9}{fc} = ptrConfig->\hyperlink{classns3_1_1MmWavePhyMacCommon_a0850d2e37c7075b9bce242723b722019}{GetCenterFrequency} ();
60   \textcolor{keywordtype}{double} \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f} = 0.00;
61 
62   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (fc != 0 , \textcolor{stringliteral}{"The carrier frequency cannot be set to 0"});
63 
64   f = fc - (ptrConfig->\hyperlink{classns3_1_1MmWavePhyMacCommon_a97e82c809a351fea9d5058ac1bb4c3c6}{GetTotalNumChunk}() * ptrConfig->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_acc801566d527f1893d67a618ea3be203}{GetChunkWidth}() / 2.0);
65 
66   \hyperlink{namespacens3_a46ac9188e5cf43bd5292f7b67451246e}{Bands} rbs; \textcolor{comment}{// A vector representing each resource block}
67   \textcolor{keywordflow}{for} (uint8\_t numrb = 0; numrb < ptrConfig->\hyperlink{classns3_1_1MmWavePhyMacCommon_a97e82c809a351fea9d5058ac1bb4c3c6}{GetTotalNumChunk}(); ++numrb)
68   \{
69           BandInfo rb;
70           rb.fl = \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f};
71           f += ptrConfig->\hyperlink{classns3_1_1MmWavePhyMacCommon_acc801566d527f1893d67a618ea3be203}{GetChunkWidth}()/2;
72           rb.fc = \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f};
73           f += ptrConfig->\hyperlink{classns3_1_1MmWavePhyMacCommon_acc801566d527f1893d67a618ea3be203}{GetChunkWidth}()/2;
74           rb.fh = \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f};
75 
76           rbs.push\_back (rb);
77   \}
78   \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_acc22bc3ad1571c328d808ccaf2c56a09}{m\_model} = Create<SpectrumModel> (rbs);
79   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWaveSpectrumValueHelper_acc22bc3ad1571c328d808ccaf2c56a09}{m\_model};
80 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6




\subsection{Member Data Documentation}
\index{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}!m\+\_\+model@{m\+\_\+model}}
\index{m\+\_\+model@{m\+\_\+model}!ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper@{ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{m\+\_\+model}{m_model}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Model} $>$ ns3\+::\+Mm\+Wave\+Spectrum\+Value\+Helper\+::m\+\_\+model = 0\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveSpectrumValueHelper_acc22bc3ad1571c328d808ccaf2c56a09}{}\label{classns3_1_1MmWaveSpectrumValueHelper_acc22bc3ad1571c328d808ccaf2c56a09}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
mmwave/model/\hyperlink{mmwave-spectrum-value-helper_8h}{mmwave-\/spectrum-\/value-\/helper.\+h}\item 
mmwave/model/\hyperlink{mmwave-spectrum-value-helper_8cc}{mmwave-\/spectrum-\/value-\/helper.\+cc}\end{DoxyCompactItemize}
