\hypertarget{classTcFlowControlTestCase}{}\section{Tc\+Flow\+Control\+Test\+Case Class Reference}
\label{classTcFlowControlTestCase}\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}


Traffic Control Flow Control Test Case.  




Inheritance diagram for Tc\+Flow\+Control\+Test\+Case\+:
% FIG 0


Collaboration diagram for Tc\+Flow\+Control\+Test\+Case\+:
% FIG 1
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458}{Test\+Type} \{ \hyperlink{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458a294d1e27d6e81fc7a19f37ec1f5ba1d8}{P\+A\+C\+K\+E\+T\+\_\+\+M\+O\+DE}, 
\hyperlink{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458a10186dff385e013c5c5351795fdf6558}{B\+Y\+T\+E\+\_\+\+M\+O\+DE}
 \}\begin{DoxyCompactList}\small\item\em Device queue operating mode. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTcFlowControlTestCase_a7f6c80ada4b54183cc01c9829ad1eb07}{Tc\+Flow\+Control\+Test\+Case} (\hyperlink{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458}{Test\+Type} tt)
\item 
virtual \hyperlink{classTcFlowControlTestCase_ab52a8d47e9379d4304849eee57b6f9bc}{$\sim$\+Tc\+Flow\+Control\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classTcFlowControlTestCase_a671ac2565d04fd5618e2743289d1b707}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classTcFlowControlTestCase_a88bdf76e668d4e9b1edcce980768c96e}{Send\+Packets} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_abdb05bc5a064cf642a06c83b3392f148}{n}, uint16\+\_\+t n\+Packets)
\item 
void \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{Check\+Packets\+In\+Device\+Queue} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ dev, uint16\+\_\+t n\+Packets, const char $\ast$msg)
\item 
void \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{Check\+Device\+Queue\+Stopped} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ dev, bool value, const char $\ast$msg)
\item 
void \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{Check\+Packets\+In\+Queue\+Disc} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ dev, uint16\+\_\+t n\+Packets, const char $\ast$msg)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458}{Test\+Type} \hyperlink{classTcFlowControlTestCase_a48b76fa61206d08fadd399b379bdbf56}{m\+\_\+type}
\begin{DoxyCompactList}\small\item\em the test type \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Traffic Control Flow Control Test Case. 

\subsection{Member Enumeration Documentation}
\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!Test\+Type@{Test\+Type}}
\index{Test\+Type@{Test\+Type}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{Test\+Type}{TestType}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Tc\+Flow\+Control\+Test\+Case\+::\+Test\+Type}}\hypertarget{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458}{}\label{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458}


Device queue operating mode. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{P\+A\+C\+K\+E\+T\+\_\+\+M\+O\+DE@{P\+A\+C\+K\+E\+T\+\_\+\+M\+O\+DE}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!P\+A\+C\+K\+E\+T\+\_\+\+M\+O\+DE@{P\+A\+C\+K\+E\+T\+\_\+\+M\+O\+DE}}\item[{\em 
P\+A\+C\+K\+E\+T\+\_\+\+M\+O\+DE\hypertarget{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458a294d1e27d6e81fc7a19f37ec1f5ba1d8}{}\label{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458a294d1e27d6e81fc7a19f37ec1f5ba1d8}
}]\index{B\+Y\+T\+E\+\_\+\+M\+O\+DE@{B\+Y\+T\+E\+\_\+\+M\+O\+DE}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!B\+Y\+T\+E\+\_\+\+M\+O\+DE@{B\+Y\+T\+E\+\_\+\+M\+O\+DE}}\item[{\em 
B\+Y\+T\+E\+\_\+\+M\+O\+DE\hypertarget{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458a10186dff385e013c5c5351795fdf6558}{}\label{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458a10186dff385e013c5c5351795fdf6558}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
104     \{
105       \hyperlink{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458a294d1e27d6e81fc7a19f37ec1f5ba1d8}{PACKET\_MODE},
106       \hyperlink{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458a10186dff385e013c5c5351795fdf6558}{BYTE\_MODE}
107     \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}
\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{Tc\+Flow\+Control\+Test\+Case(\+Test\+Type tt)}{TcFlowControlTestCase(TestType tt)}}]{\setlength{\rightskip}{0pt plus 5cm}Tc\+Flow\+Control\+Test\+Case\+::\+Tc\+Flow\+Control\+Test\+Case (
\begin{DoxyParamCaption}
\item[{{\bf Test\+Type}}]{tt}
\end{DoxyParamCaption}
)}\hypertarget{classTcFlowControlTestCase_a7f6c80ada4b54183cc01c9829ad1eb07}{}\label{classTcFlowControlTestCase_a7f6c80ada4b54183cc01c9829ad1eb07}
Constructor


\begin{DoxyParams}{Parameters}
{\em tt} & the test type \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
149   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Test the operation of the flow control mechanism"}),
150     \hyperlink{classTcFlowControlTestCase_a48b76fa61206d08fadd399b379bdbf56}{m\_type} (tt)
151 \{
152 \}
\end{DoxyCode}
\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!````~Tc\+Flow\+Control\+Test\+Case@{$\sim$\+Tc\+Flow\+Control\+Test\+Case}}
\index{````~Tc\+Flow\+Control\+Test\+Case@{$\sim$\+Tc\+Flow\+Control\+Test\+Case}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Tc\+Flow\+Control\+Test\+Case()}{~TcFlowControlTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Tc\+Flow\+Control\+Test\+Case\+::$\sim$\+Tc\+Flow\+Control\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classTcFlowControlTestCase_ab52a8d47e9379d4304849eee57b6f9bc}{}\label{classTcFlowControlTestCase_ab52a8d47e9379d4304849eee57b6f9bc}

\begin{DoxyCode}
155 \{
156 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!Check\+Device\+Queue\+Stopped@{Check\+Device\+Queue\+Stopped}}
\index{Check\+Device\+Queue\+Stopped@{Check\+Device\+Queue\+Stopped}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{Check\+Device\+Queue\+Stopped(\+Ptr$<$ Net\+Device $>$ dev, bool value, const char $\ast$msg)}{CheckDeviceQueueStopped(Ptr< NetDevice > dev, bool value, const char *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tc\+Flow\+Control\+Test\+Case\+::\+Check\+Device\+Queue\+Stopped (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Net\+Device} $>$}]{dev, }
\item[{bool}]{value, }
\item[{const char $\ast$}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{}\label{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}
Check if the device queue is in the expected status (stopped or not) 
\begin{DoxyParams}{Parameters}
{\em dev} & the device \\
\hline
{\em value} & the expected status of the queue (true means stopped) \\
\hline
{\em msg} & the message to print if the status of the device queue is different \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
179 \{
180   \hyperlink{classns3_1_1Ptr}{Ptr<NetDeviceQueueInterface>} ndqi = dev->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1NetDeviceQueueInterface}{NetDeviceQueueInterface}> ();
181   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (ndqi->\hyperlink{classns3_1_1NetDeviceQueueInterface_a2d644b36d74a7ebb0bb95b0868e09296}{GetTxQueue} (0)->IsStopped (), value, msg);
182 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!Check\+Packets\+In\+Device\+Queue@{Check\+Packets\+In\+Device\+Queue}}
\index{Check\+Packets\+In\+Device\+Queue@{Check\+Packets\+In\+Device\+Queue}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{Check\+Packets\+In\+Device\+Queue(\+Ptr$<$ Net\+Device $>$ dev, uint16\+\_\+t n\+Packets, const char $\ast$msg)}{CheckPacketsInDeviceQueue(Ptr< NetDevice > dev, uint16_t nPackets, const char *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tc\+Flow\+Control\+Test\+Case\+::\+Check\+Packets\+In\+Device\+Queue (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Net\+Device} $>$}]{dev, }
\item[{uint16\+\_\+t}]{n\+Packets, }
\item[{const char $\ast$}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{}\label{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}
Check if the device queue stores the expected number of packets 
\begin{DoxyParams}{Parameters}
{\em dev} & the device \\
\hline
{\em n\+Packets} & the expected number of packets stored in the device queue \\
\hline
{\em msg} & the message to print if a different number of packets are stored \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
170 \{
171   \hyperlink{classns3_1_1PointerValue}{PointerValue} ptr;
172   dev->\hyperlink{classns3_1_1ObjectBase_a3fdec0e0ebed2c251c3a17ba6ba787da}{GetAttributeFailSafe} (\textcolor{stringliteral}{"TxQueue"}, ptr);
173   \hyperlink{classns3_1_1Ptr}{Ptr<Queue<Packet>} > queue = ptr.\hyperlink{classns3_1_1PointerValue_ae8e90fe3c0810cd6e4e1b1ba31f52a66}{Get}<\hyperlink{classns3_1_1Queue}{Queue<Packet>} > ();
174   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->GetNPackets (), nPackets, msg);
175 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!Check\+Packets\+In\+Queue\+Disc@{Check\+Packets\+In\+Queue\+Disc}}
\index{Check\+Packets\+In\+Queue\+Disc@{Check\+Packets\+In\+Queue\+Disc}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{Check\+Packets\+In\+Queue\+Disc(\+Ptr$<$ Net\+Device $>$ dev, uint16\+\_\+t n\+Packets, const char $\ast$msg)}{CheckPacketsInQueueDisc(Ptr< NetDevice > dev, uint16_t nPackets, const char *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tc\+Flow\+Control\+Test\+Case\+::\+Check\+Packets\+In\+Queue\+Disc (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Net\+Device} $>$}]{dev, }
\item[{uint16\+\_\+t}]{n\+Packets, }
\item[{const char $\ast$}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{}\label{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}
Check if the queue disc stores the expected number of packets 
\begin{DoxyParams}{Parameters}
{\em dev} & the device the queue disc is installed on \\
\hline
{\em n\+Packets} & the expected number of packets stored in the queue disc \\
\hline
{\em msg} & the message to print if a different number of packets are stored \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
186 \{
187   \hyperlink{classns3_1_1Ptr}{Ptr<TrafficControlLayer>} tc = dev->\hyperlink{classns3_1_1NetDevice_a098b6cc4339ac00c62e75cfa48c8aeac}{GetNode} ()->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1TrafficControlLayer}{TrafficControlLayer}> ();
188   \hyperlink{classns3_1_1Ptr}{Ptr<QueueDisc>} qdisc = tc->\hyperlink{classns3_1_1TrafficControlLayer_ac623c250089d239f91931d3cd021552c}{GetRootQueueDiscOnDevice} (dev);
189   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (qdisc->GetNPackets (), nPackets, msg);
190 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tc\+Flow\+Control\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classTcFlowControlTestCase_a671ac2565d04fd5618e2743289d1b707}{}\label{classTcFlowControlTestCase_a671ac2565d04fd5618e2743289d1b707}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
195 \{
196   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n};
197   n.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (2);
198 
199   n.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (CreateObject<TrafficControlLayer> ());
200   n.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1)->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (CreateObject<TrafficControlLayer> ());
201 
202   \hyperlink{classns3_1_1Ptr}{Ptr<Queue<Packet>} > queue;
203 
204   \textcolor{keywordflow}{if} (\hyperlink{classTcFlowControlTestCase_a48b76fa61206d08fadd399b379bdbf56}{m\_type} == \hyperlink{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458a294d1e27d6e81fc7a19f37ec1f5ba1d8}{PACKET\_MODE})
205     \{
206       queue = CreateObjectWithAttributes<DropTailQueue<Packet> > (\textcolor{stringliteral}{"Mode"}, 
      \hyperlink{classns3_1_1EnumValue}{EnumValue} (QueueBase::QUEUE\_MODE\_PACKETS),
207                                                                   \textcolor{stringliteral}{"MaxPackets"}, UintegerValue (5));
208     \}
209   \textcolor{keywordflow}{else}
210     \{
211       queue = CreateObjectWithAttributes<DropTailQueue<Packet> > (\textcolor{stringliteral}{"Mode"}, 
      \hyperlink{classns3_1_1EnumValue}{EnumValue} (QueueBase::QUEUE\_MODE\_BYTES),
212                                                                   \textcolor{stringliteral}{"MaxBytes"}, UintegerValue (5000));
213     \}
214 
215   \textcolor{comment}{// link the two nodes}
216   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleNetDevice>} txDev, rxDev;
217   txDev = CreateObjectWithAttributes<SimpleNetDevice> (\textcolor{stringliteral}{"TxQueue"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (queue),
218                                                        \textcolor{stringliteral}{"DataRate"}, DataRateValue (
      \hyperlink{classns3_1_1DataRate}{DataRate} (\textcolor{stringliteral}{"1Mb/s"})));
219   rxDev = CreateObject<SimpleNetDevice> ();
220   n.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)->\hyperlink{classns3_1_1Node_a42ff83ee1d5d1649c770d3f5b62375de}{AddDevice} (txDev);
221   n.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1)->\hyperlink{classns3_1_1Node_a42ff83ee1d5d1649c770d3f5b62375de}{AddDevice} (rxDev);
222   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleChannel>} channel1 = CreateObject<SimpleChannel> ();
223   txDev->SetChannel (channel1);
224   rxDev->SetChannel (channel1);
225 
226   txDev->SetMtu (2500);
227 
228   \hyperlink{classns3_1_1TrafficControlHelper}{TrafficControlHelper} tch = TrafficControlHelper::Default ();
229   tch.\hyperlink{classns3_1_1TrafficControlHelper_a0aa6a8e2fbb1c196589e16f48c99f0b9}{Install} (txDev);
230 
231   \textcolor{comment}{// transmit 10 packets at time 0}
232   Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0)), &
      \hyperlink{classTcFlowControlTestCase_a88bdf76e668d4e9b1edcce980768c96e}{TcFlowControlTestCase::SendPackets},
233                       \textcolor{keyword}{this}, n.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0), 10);
234 
235   \textcolor{keywordflow}{if} (\hyperlink{classTcFlowControlTestCase_a48b76fa61206d08fadd399b379bdbf56}{m\_type} == \hyperlink{classTcFlowControlTestCase_a63146d60b911dd039c9cf960cbddb458a294d1e27d6e81fc7a19f37ec1f5ba1d8}{PACKET\_MODE})
236     \{
237       \textcolor{comment}{/*}
238 \textcolor{comment}{       * When the device queue is in packet mode, all the packets enqueued in the}
239 \textcolor{comment}{       * queue disc are correctly transmitted, even if the device queue is stopped}
240 \textcolor{comment}{       * when the last packet is received from the upper layers}
241 \textcolor{comment}{       */}
242 
243       \textcolor{comment}{// The transmission of each packet takes 1000B/1Mbps = 8ms}
244       \textcolor{comment}{// After 1ms, we have 5 packets in the device queue (stopped) and 4 in the queue disc}
245       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
246                           \textcolor{keyword}{this}, txDev, 5, \textcolor{stringliteral}{"There must be 5 packets in the device queue after 1ms"});
247       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
248                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 1ms"});
249       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
250                           \textcolor{keyword}{this}, txDev, 4, \textcolor{stringliteral}{"There must be 4 packets in the queue disc after 1ms"});
251 
252       \textcolor{comment}{// After 9ms, we have 5 packets in the device queue (stopped) and 3 in the queue disc}
253       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (9)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
254                           \textcolor{keyword}{this}, txDev, 5, \textcolor{stringliteral}{"There must be 5 packets in the device queue after 9ms"});
255       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (9)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
256                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 9ms"});
257       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (9)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
258                           \textcolor{keyword}{this}, txDev, 3, \textcolor{stringliteral}{"There must be 3 packets in the queue disc after 9ms"});
259 
260       \textcolor{comment}{// After 17ms, we have 5 packets in the device queue (stopped) and 2 in the queue disc}
261       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (17)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
262                           \textcolor{keyword}{this}, txDev, 5, \textcolor{stringliteral}{"There must be 5 packets in the device queue after 17ms"});
263       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (17)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
264                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 17ms"});
265       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (17)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
266                           \textcolor{keyword}{this}, txDev, 2, \textcolor{stringliteral}{"There must be 2 packets in the queue disc after 17ms"});
267 
268       \textcolor{comment}{// After 25ms, we have 5 packets in the device queue (stopped) and 1 in the queue disc}
269       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (25)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
270                           \textcolor{keyword}{this}, txDev, 5, \textcolor{stringliteral}{"There must be 5 packets in the device queue after 25ms"});
271       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (25)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
272                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 25ms"});
273       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (25)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
274                           \textcolor{keyword}{this}, txDev, 1, \textcolor{stringliteral}{"There must be 1 packet in the queue disc after 25ms"});
275 
276       \textcolor{comment}{// After 33ms, we have 5 packets in the device queue (stopped) and the queue disc is empty}
277       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (33)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
278                           \textcolor{keyword}{this}, txDev, 5, \textcolor{stringliteral}{"There must be 5 packets in the device queue after 33ms"});
279       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (33)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
280                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 33ms"});
281       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (33)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
282                           \textcolor{keyword}{this}, txDev, 0, \textcolor{stringliteral}{"The queue disc must be empty after 33ms"});
283 
284       \textcolor{comment}{// After 41ms, we have 4 packets in the device queue (not stopped) and the queue disc is empty}
285       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (41)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
286                           \textcolor{keyword}{this}, txDev, 4, \textcolor{stringliteral}{"There must be 4 packets in the device queue after 41ms"});
287       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (41)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
288                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{false}, \textcolor{stringliteral}{"The device queue must not be stopped after 41ms"});
289       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (41)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
290                           \textcolor{keyword}{this}, txDev, 0, \textcolor{stringliteral}{"The queue disc must be empty after 41ms"});
291 
292       \textcolor{comment}{// After 81ms, all packets must have been transmitted (the device queue and the queue disc are empty)}
293       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (81)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
294                           \textcolor{keyword}{this}, txDev, 0, \textcolor{stringliteral}{"The device queue must be empty after 81ms"});
295       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (81)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
296                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{false}, \textcolor{stringliteral}{"The device queue must not be stopped after 81ms"});
297       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (81)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
298                           \textcolor{keyword}{this}, txDev, 0, \textcolor{stringliteral}{"The queue disc must be empty after 81ms"});
299     \}
300   \textcolor{keywordflow}{else}
301     \{
302       \textcolor{comment}{/*}
303 \textcolor{comment}{       * When the device queue is in byte mode, all the packets enqueued in the}
304 \textcolor{comment}{       * queue disc are correctly transmitted, even if the device queue is stopped}
305 \textcolor{comment}{       * when the last packet is received from the upper layers}
306 \textcolor{comment}{       */}
307 
308       \textcolor{comment}{// The transmission of each packet takes 1000B/1Mbps = 8ms}
309       \textcolor{comment}{// After 1ms, we have 3 packets in the device queue (stopped) and 6 in the queue disc}
310       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
311                           \textcolor{keyword}{this}, txDev, 3, \textcolor{stringliteral}{"There must be 3 packets in the device queue after 1ms"});
312       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
313                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 1ms"});
314       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
315                           \textcolor{keyword}{this}, txDev, 6, \textcolor{stringliteral}{"There must be 6 packets in the queue disc after 1ms"});
316 
317       \textcolor{comment}{// After 9ms, we have 3 packets in the device queue (stopped) and 5 in the queue disc}
318       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (9)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
319                           \textcolor{keyword}{this}, txDev, 3, \textcolor{stringliteral}{"There must be 3 packets in the device queue after 9ms"});
320       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (9)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
321                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 9ms"});
322       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (9)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
323                           \textcolor{keyword}{this}, txDev, 5, \textcolor{stringliteral}{"There must be 5 packets in the queue disc after 9ms"});
324 
325       \textcolor{comment}{// After 17ms, we have 3 packets in the device queue (stopped) and 4 in the queue disc}
326       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (17)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
327                           \textcolor{keyword}{this}, txDev, 3, \textcolor{stringliteral}{"There must be 3 packets in the device queue after 17ms"});
328       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (17)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
329                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 17ms"});
330       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (17)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
331                           \textcolor{keyword}{this}, txDev, 4, \textcolor{stringliteral}{"There must be 4 packets in the queue disc after 17ms"});
332 
333       \textcolor{comment}{// After 25ms, we have 3 packets in the device queue (stopped) and 3 in the queue disc}
334       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (25)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
335                           \textcolor{keyword}{this}, txDev, 3, \textcolor{stringliteral}{"There must be 3 packets in the device queue after 25ms"});
336       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (25)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
337                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 25ms"});
338       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (25)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
339                           \textcolor{keyword}{this}, txDev, 3, \textcolor{stringliteral}{"There must be 3 packets in the queue disc after 25ms"});
340 
341       \textcolor{comment}{// After 33ms, we have 3 packets in the device queue (stopped) and 2 in the queue disc}
342       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (33)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
343                           \textcolor{keyword}{this}, txDev, 3, \textcolor{stringliteral}{"There must be 3 packets in the device queue after 33ms"});
344       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (33)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
345                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 33ms"});
346       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (33)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
347                           \textcolor{keyword}{this}, txDev, 2, \textcolor{stringliteral}{"There must be 2 packets in the queue disc after 33ms"});
348 
349       \textcolor{comment}{// After 41ms, we have 3 packets in the device queue (stopped) and 1 in the queue disc}
350       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (41)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
351                           \textcolor{keyword}{this}, txDev, 3, \textcolor{stringliteral}{"There must be 3 packets in the device queue after 41ms"});
352       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (41)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
353                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 41ms"});
354       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (41)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
355                           \textcolor{keyword}{this}, txDev, 1, \textcolor{stringliteral}{"There must be 1 packet in the queue disc after 41ms"});
356 
357       \textcolor{comment}{// After 49ms, we have 3 packets in the device queue (stopped) and the queue disc is empty}
358       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (49)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
359                           \textcolor{keyword}{this}, txDev, 3, \textcolor{stringliteral}{"There must be 3 packets in the device queue after 49ms"});
360       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (49)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
361                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{true}, \textcolor{stringliteral}{"The device queue must be stopped after 49ms"});
362       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (49)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
363                           \textcolor{keyword}{this}, txDev, 0, \textcolor{stringliteral}{"The queue disc must be empty after 49ms"});
364 
365       \textcolor{comment}{// After 57ms, we have 2 packets in the device queue (not stopped) and the queue disc is empty}
366       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (57)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
367                           \textcolor{keyword}{this}, txDev, 2, \textcolor{stringliteral}{"There must be 2 packets in the device queue after 57ms"});
368       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (57)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
369                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{false}, \textcolor{stringliteral}{"The device queue must not be stopped after 57ms"});
370       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (57)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
371                           \textcolor{keyword}{this}, txDev, 0, \textcolor{stringliteral}{"The queue disc must be empty after 57ms"});
372 
373       \textcolor{comment}{// After 81ms, all packets must have been transmitted (the device queue and the queue disc are empty)}
374       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (81)), &
      \hyperlink{classTcFlowControlTestCase_a7ad467b39fdb155daea4b048619f6d12}{TcFlowControlTestCase::CheckPacketsInDeviceQueue},
375                           \textcolor{keyword}{this}, txDev, 0, \textcolor{stringliteral}{"The device queue must be empty after 81ms"});
376       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (81)), &
      \hyperlink{classTcFlowControlTestCase_a4ccc9564c9142984fa8041f67b4a518a}{TcFlowControlTestCase::CheckDeviceQueueStopped},
377                           \textcolor{keyword}{this}, txDev, \textcolor{keyword}{false}, \textcolor{stringliteral}{"The device queue must not be stopped after 81ms"});
378       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (81)), &
      \hyperlink{classTcFlowControlTestCase_ac6d0b6a74dd29a21369bf1d26795098d}{TcFlowControlTestCase::CheckPacketsInQueueDisc},
379                           \textcolor{keyword}{this}, txDev, 0, \textcolor{stringliteral}{"The queue disc must be empty after 81ms"});
380     \}
381 
382   Simulator::Run ();
383   Simulator::Destroy ();
384 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!Send\+Packets@{Send\+Packets}}
\index{Send\+Packets@{Send\+Packets}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{Send\+Packets(\+Ptr$<$ Node $>$ n, uint16\+\_\+t n\+Packets)}{SendPackets(Ptr< Node > n, uint16_t nPackets)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tc\+Flow\+Control\+Test\+Case\+::\+Send\+Packets (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{n, }
\item[{uint16\+\_\+t}]{n\+Packets}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcFlowControlTestCase_a88bdf76e668d4e9b1edcce980768c96e}{}\label{classTcFlowControlTestCase_a88bdf76e668d4e9b1edcce980768c96e}
Instruct a node to send a specified number of packets 
\begin{DoxyParams}{Parameters}
{\em n} & the node \\
\hline
{\em n\+Packets} & the number of packets to send \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
160 \{
161   \hyperlink{classns3_1_1Ptr}{Ptr<TrafficControlLayer>} tc = n->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1TrafficControlLayer}{TrafficControlLayer}> ();
162   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < nPackets; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
163     \{
164       tc->\hyperlink{classns3_1_1TrafficControlLayer_aae45cb92c1adb038bac63d347632e627}{Send} (n->\hyperlink{classns3_1_1Node_a5918dfd24ef632efc9a83a5f6561c76e}{GetDevice} (0), Create<QueueDiscTestItem> (Create<Packet> (1000)));
165     \}
166 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10




\subsection{Member Data Documentation}
\index{Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}!m\+\_\+type@{m\+\_\+type}}
\index{m\+\_\+type@{m\+\_\+type}!Tc\+Flow\+Control\+Test\+Case@{Tc\+Flow\+Control\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+type}{m_type}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Test\+Type} Tc\+Flow\+Control\+Test\+Case\+::m\+\_\+type\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcFlowControlTestCase_a48b76fa61206d08fadd399b379bdbf56}{}\label{classTcFlowControlTestCase_a48b76fa61206d08fadd399b379bdbf56}


the test type 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
traffic-\/control/test/\hyperlink{tc-flow-control-test-suite_8cc}{tc-\/flow-\/control-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
