\hypertarget{classPieQueueDiscTestCase}{}\section{Pie\+Queue\+Disc\+Test\+Case Class Reference}
\label{classPieQueueDiscTestCase}\index{Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}}


Pie Queue Disc Test Case.  




Inheritance diagram for Pie\+Queue\+Disc\+Test\+Case\+:
% FIG 0


Collaboration diagram for Pie\+Queue\+Disc\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classPieQueueDiscTestCase_ad9b405e9993a24852e226653ce12fb55}{Pie\+Queue\+Disc\+Test\+Case} ()
\item 
virtual void \hyperlink{classPieQueueDiscTestCase_a6d3523e534f7c31901dc55296402203b}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classPieQueueDiscTestCase_adfdcc5ca19dc5059fc95c2b940c19a54}{Enqueue} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1PieQueueDisc}{Pie\+Queue\+Disc} $>$ queue, uint32\+\_\+t size, uint32\+\_\+t n\+Pkt)
\item 
void \hyperlink{classPieQueueDiscTestCase_a6d837dbfe3af8f4a7a1ca4e6ecbbf54e}{Enqueue\+With\+Delay} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1PieQueueDisc}{Pie\+Queue\+Disc} $>$ queue, uint32\+\_\+t size, uint32\+\_\+t n\+Pkt)
\item 
void \hyperlink{classPieQueueDiscTestCase_a3f2148f8c200a2338e33759f6f6ebc07}{Dequeue} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1PieQueueDisc}{Pie\+Queue\+Disc} $>$ queue, uint32\+\_\+t n\+Pkt)
\item 
void \hyperlink{classPieQueueDiscTestCase_ac95d22c3ac6ef3a873d70a663fd964e3}{Dequeue\+With\+Delay} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1PieQueueDisc}{Pie\+Queue\+Disc} $>$ queue, double \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_a7964e6aa8f61a9d28973c8267a606ad8}{delay}, uint32\+\_\+t n\+Pkt)
\item 
void \hyperlink{classPieQueueDiscTestCase_a867584b1f677ae346ca8534819ef9be4}{Run\+Pie\+Test} (String\+Value mode)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Pie Queue Disc Test Case. 

\subsection{Constructor \& Destructor Documentation}
\index{Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}!Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}}
\index{Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}!Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Pie\+Queue\+Disc\+Test\+Case()}{PieQueueDiscTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Pie\+Queue\+Disc\+Test\+Case\+::\+Pie\+Queue\+Disc\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classPieQueueDiscTestCase_ad9b405e9993a24852e226653ce12fb55}{}\label{classPieQueueDiscTestCase_ad9b405e9993a24852e226653ce12fb55}

\begin{DoxyCode}
138   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Sanity check on the pie queue disc implementation"})
139 \{
140 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}!Dequeue@{Dequeue}}
\index{Dequeue@{Dequeue}!Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Dequeue(\+Ptr$<$ Pie\+Queue\+Disc $>$ queue, uint32\+\_\+t n\+Pkt)}{Dequeue(Ptr< PieQueueDisc > queue, uint32_t nPkt)}}]{\setlength{\rightskip}{0pt plus 5cm}void Pie\+Queue\+Disc\+Test\+Case\+::\+Dequeue (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Pie\+Queue\+Disc} $>$}]{queue, }
\item[{uint32\+\_\+t}]{n\+Pkt}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classPieQueueDiscTestCase_a3f2148f8c200a2338e33759f6f6ebc07}{}\label{classPieQueueDiscTestCase_a3f2148f8c200a2338e33759f6f6ebc07}
Dequeue function 
\begin{DoxyParams}{Parameters}
{\em queue} & the queue disc \\
\hline
{\em n\+Pkt} & the number of packets \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
370 \{
371   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < nPkt; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
372     \{
373       \hyperlink{classns3_1_1Ptr}{Ptr<QueueDiscItem>} item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
374     \}
375 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}!Dequeue\+With\+Delay@{Dequeue\+With\+Delay}}
\index{Dequeue\+With\+Delay@{Dequeue\+With\+Delay}!Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Dequeue\+With\+Delay(\+Ptr$<$ Pie\+Queue\+Disc $>$ queue, double delay, uint32\+\_\+t n\+Pkt)}{DequeueWithDelay(Ptr< PieQueueDisc > queue, double delay, uint32_t nPkt)}}]{\setlength{\rightskip}{0pt plus 5cm}void Pie\+Queue\+Disc\+Test\+Case\+::\+Dequeue\+With\+Delay (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Pie\+Queue\+Disc} $>$}]{queue, }
\item[{double}]{delay, }
\item[{uint32\+\_\+t}]{n\+Pkt}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classPieQueueDiscTestCase_ac95d22c3ac6ef3a873d70a663fd964e3}{}\label{classPieQueueDiscTestCase_ac95d22c3ac6ef3a873d70a663fd964e3}
Dequeue with delay function 
\begin{DoxyParams}{Parameters}
{\em queue} & the queue disc \\
\hline
{\em delay} & the delay \\
\hline
{\em n\+Pkt} & the number of packets \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
379 \{
380   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < nPkt; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
381     \{
382       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} + 1) * \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_a7964e6aa8f61a9d28973c8267a606ad8}{delay})), &
      \hyperlink{classPieQueueDiscTestCase_a3f2148f8c200a2338e33759f6f6ebc07}{PieQueueDiscTestCase::Dequeue}, \textcolor{keyword}{this}, queue, 1);
383     \}
384 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Pie\+Queue\+Disc\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classPieQueueDiscTestCase_a6d3523e534f7c31901dc55296402203b}{}\label{classPieQueueDiscTestCase_a6d3523e534f7c31901dc55296402203b}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
388 \{
389   \hyperlink{classPieQueueDiscTestCase_a867584b1f677ae346ca8534819ef9be4}{RunPieTest} (StringValue (\textcolor{stringliteral}{"QUEUE\_DISC\_MODE\_PACKETS"}));
390   \hyperlink{classPieQueueDiscTestCase_a867584b1f677ae346ca8534819ef9be4}{RunPieTest} (StringValue (\textcolor{stringliteral}{"QUEUE\_DISC\_MODE\_BYTES"}));
391   Simulator::Destroy ();
392 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}!Enqueue@{Enqueue}}
\index{Enqueue@{Enqueue}!Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Enqueue(\+Ptr$<$ Pie\+Queue\+Disc $>$ queue, uint32\+\_\+t size, uint32\+\_\+t n\+Pkt)}{Enqueue(Ptr< PieQueueDisc > queue, uint32_t size, uint32_t nPkt)}}]{\setlength{\rightskip}{0pt plus 5cm}void Pie\+Queue\+Disc\+Test\+Case\+::\+Enqueue (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Pie\+Queue\+Disc} $>$}]{queue, }
\item[{uint32\+\_\+t}]{size, }
\item[{uint32\+\_\+t}]{n\+Pkt}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classPieQueueDiscTestCase_adfdcc5ca19dc5059fc95c2b940c19a54}{}\label{classPieQueueDiscTestCase_adfdcc5ca19dc5059fc95c2b940c19a54}
Enqueue function 
\begin{DoxyParams}{Parameters}
{\em queue} & the queue disc \\
\hline
{\em size} & the size \\
\hline
{\em n\+Pkt} & the number of packets \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
349 \{
350   \hyperlink{classns3_1_1Address}{Address} dest;
351   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < nPkt; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
352     \{
353       queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<PieQueueDiscTestItem> (Create<Packet> (size), dest, 0));
354     \}
355 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}!Enqueue\+With\+Delay@{Enqueue\+With\+Delay}}
\index{Enqueue\+With\+Delay@{Enqueue\+With\+Delay}!Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Enqueue\+With\+Delay(\+Ptr$<$ Pie\+Queue\+Disc $>$ queue, uint32\+\_\+t size, uint32\+\_\+t n\+Pkt)}{EnqueueWithDelay(Ptr< PieQueueDisc > queue, uint32_t size, uint32_t nPkt)}}]{\setlength{\rightskip}{0pt plus 5cm}void Pie\+Queue\+Disc\+Test\+Case\+::\+Enqueue\+With\+Delay (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Pie\+Queue\+Disc} $>$}]{queue, }
\item[{uint32\+\_\+t}]{size, }
\item[{uint32\+\_\+t}]{n\+Pkt}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classPieQueueDiscTestCase_a6d837dbfe3af8f4a7a1ca4e6ecbbf54e}{}\label{classPieQueueDiscTestCase_a6d837dbfe3af8f4a7a1ca4e6ecbbf54e}
Enqueue with delay function 
\begin{DoxyParams}{Parameters}
{\em queue} & the queue disc \\
\hline
{\em size} & the size \\
\hline
{\em n\+Pkt} & the number of packets \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
359 \{
360   \hyperlink{classns3_1_1Address}{Address} dest;
361   \textcolor{keywordtype}{double} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_a7964e6aa8f61a9d28973c8267a606ad8}{delay} = 0.01;  \textcolor{comment}{// enqueue packets with delay}
362   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < nPkt; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
363     \{
364       Simulator::Schedule (\hyperlink{classns3_1_1Time}{Time} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} + 1) * delay)), &
      \hyperlink{classPieQueueDiscTestCase_adfdcc5ca19dc5059fc95c2b940c19a54}{PieQueueDiscTestCase::Enqueue}, \textcolor{keyword}{this}, queue, size, 1);
365     \}
366 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}!Run\+Pie\+Test@{Run\+Pie\+Test}}
\index{Run\+Pie\+Test@{Run\+Pie\+Test}!Pie\+Queue\+Disc\+Test\+Case@{Pie\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Run\+Pie\+Test(\+String\+Value mode)}{RunPieTest(StringValue mode)}}]{\setlength{\rightskip}{0pt plus 5cm}void Pie\+Queue\+Disc\+Test\+Case\+::\+Run\+Pie\+Test (
\begin{DoxyParamCaption}
\item[{String\+Value}]{mode}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classPieQueueDiscTestCase_a867584b1f677ae346ca8534819ef9be4}{}\label{classPieQueueDiscTestCase_a867584b1f677ae346ca8534819ef9be4}
Run test function 
\begin{DoxyParams}{Parameters}
{\em mode} & the test mode \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
144 \{
145   uint32\_t pktSize = 0;
146 
147   \textcolor{comment}{// 1 for packets; pktSize for bytes}
148   uint32\_t modeSize = 1;
149 
150   uint32\_t qSize = 300;
151   \hyperlink{classns3_1_1Ptr}{Ptr<PieQueueDisc>} queue = CreateObject<PieQueueDisc> ();
152 
153 
154   \textcolor{comment}{// test 1: simple enqueue/dequeue with defaults, no drops}
155   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
156                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
157 
158   \hyperlink{classns3_1_1Address}{Address} dest;
159 
160   \textcolor{keywordflow}{if} (queue->\hyperlink{classns3_1_1PieQueueDisc_a13bb54f830216e6d8e114abe3b4b04be}{GetMode} () == PieQueueDisc::QUEUE\_DISC\_MODE\_BYTES)
161     \{
162       \textcolor{comment}{// pktSize should be same as MeanPktSize to avoid performance gap between byte and packet mode}
163       pktSize = 1000;
164       modeSize = pktSize;
165       qSize = qSize * modeSize;
166     \}
167 
168   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
169                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
170 
171   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} p1, p2, p3, p4, p5, p6, p7, p8;
172   p1 = Create<Packet> (pktSize);
173   p2 = Create<Packet> (pktSize);
174   p3 = Create<Packet> (pktSize);
175   p4 = Create<Packet> (pktSize);
176   p5 = Create<Packet> (pktSize);
177   p6 = Create<Packet> (pktSize);
178   p7 = Create<Packet> (pktSize);
179   p8 = Create<Packet> (pktSize);
180 
181   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
182   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1PieQueueDisc_ae8675ca8d1c18d43ca678f30040e8510}{GetQueueSize} (), 0 * modeSize, \textcolor{stringliteral}{"There
       should be no packets in there"});
183   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<PieQueueDiscTestItem> (p1, dest, 0));
184   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1PieQueueDisc_ae8675ca8d1c18d43ca678f30040e8510}{GetQueueSize} (), 1 * modeSize, \textcolor{stringliteral}{"There
       should be one packet in there"});
185   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<PieQueueDiscTestItem> (p2, dest, 0));
186   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1PieQueueDisc_ae8675ca8d1c18d43ca678f30040e8510}{GetQueueSize} (), 2 * modeSize, \textcolor{stringliteral}{"There
       should be two packets in there"});
187   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<PieQueueDiscTestItem> (p3, dest, 0));
188   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<PieQueueDiscTestItem> (p4, dest, 0));
189   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<PieQueueDiscTestItem> (p5, dest, 0));
190   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<PieQueueDiscTestItem> (p6, dest, 0));
191   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<PieQueueDiscTestItem> (p7, dest, 0));
192   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<PieQueueDiscTestItem> (p8, dest, 0));
193   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1PieQueueDisc_ae8675ca8d1c18d43ca678f30040e8510}{GetQueueSize} (), 8 * modeSize, \textcolor{stringliteral}{"There
       should be eight packets in there"});
194 
195   \hyperlink{classns3_1_1Ptr}{Ptr<QueueDiscItem>} item;
196 
197   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
198   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((item != 0), \textcolor{keyword}{true}, \textcolor{stringliteral}{"I want to remove the first packet"});
199   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1PieQueueDisc_ae8675ca8d1c18d43ca678f30040e8510}{GetQueueSize} (), 7 * modeSize, \textcolor{stringliteral}{"There
       should be seven packets in there"});
200   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (item->GetPacket ()->GetUid (), p1->GetUid (), \textcolor{stringliteral}{"was this the
       first packet ?"});
201 
202   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
203   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((item != 0), \textcolor{keyword}{true}, \textcolor{stringliteral}{"I want to remove the second packet"});
204   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1PieQueueDisc_ae8675ca8d1c18d43ca678f30040e8510}{GetQueueSize} (), 6 * modeSize, \textcolor{stringliteral}{"There
       should be six packet in there"});
205   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (item->GetPacket ()->GetUid (), p2->GetUid (), \textcolor{stringliteral}{"Was this the
       second packet ?"});
206 
207   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
208   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((item != 0), \textcolor{keyword}{true}, \textcolor{stringliteral}{"I want to remove the third packet"});
209   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1PieQueueDisc_ae8675ca8d1c18d43ca678f30040e8510}{GetQueueSize} (), 5 * modeSize, \textcolor{stringliteral}{"There
       should be five packets in there"});
210   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (item->GetPacket ()->GetUid (), p3->GetUid (), \textcolor{stringliteral}{"Was this the
       third packet ?"});
211 
212   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
213   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
214   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
215   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
216   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
217 
218   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
219   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((item == 0), \textcolor{keyword}{true}, \textcolor{stringliteral}{"There are really no packets in there"});
220 
221 
222   \textcolor{comment}{// test 2: more data with defaults, unforced drops but no forced drops}
223   queue = CreateObject<PieQueueDisc> ();
224   pktSize = 1000;  \textcolor{comment}{// pktSize != 0 because DequeueThreshold always works in bytes}
225   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
226                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
227   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
228                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
229   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"A"}, 
      DoubleValue (0.125)), \textcolor{keyword}{true},
230                          \textcolor{stringliteral}{"Verify that we can actually set the attribute A"});
231   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"B"}, 
      DoubleValue (1.25)), \textcolor{keyword}{true},
232                          \textcolor{stringliteral}{"Verify that we can actually set the attribute B"});
233   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Tupdate"}, 
      TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.03))), \textcolor{keyword}{true},
234                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Tupdate"});
235   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Supdate"}, 
      TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0))), \textcolor{keyword}{true},
236                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Supdate"});
237   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      DequeueThreshold"}, UintegerValue (10000)), \textcolor{keyword}{true},
238                          \textcolor{stringliteral}{"Verify that we can actually set the attribute DequeueThreshold"});
239   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      QueueDelayReference"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.02))), \textcolor{keyword}{true},
240                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueDelayReference"});
241   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      MaxBurstAllowance"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.1))), \textcolor{keyword}{true},
242                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxBurstAllowance"});
243   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
244   \hyperlink{classPieQueueDiscTestCase_a6d837dbfe3af8f4a7a1ca4e6ecbbf54e}{EnqueueWithDelay} (queue, pktSize, 400);
245   \hyperlink{classPieQueueDiscTestCase_ac95d22c3ac6ef3a873d70a663fd964e3}{DequeueWithDelay} (queue, 0.012, 400);
246   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (8.0));
247   Simulator::Run ();
248   \hyperlink{structns3_1_1PieQueueDisc_1_1Stats}{PieQueueDisc::Stats} st = StaticCast<PieQueueDisc> (queue)->GetStats ();
249   uint32\_t test2 = st.\hyperlink{structns3_1_1PieQueueDisc_1_1Stats_afe4c9f6e4c910cf47d475ff5d29d5bb0}{unforcedDrop};
250   \hyperlink{group__testing_ga6d4b162d26b8a930115b97dd5f3d9ed9}{NS\_TEST\_EXPECT\_MSG\_NE} (test2, 0, \textcolor{stringliteral}{"There should be some unforced drops"});
251   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (st.\hyperlink{structns3_1_1PieQueueDisc_1_1Stats_a40eea66d9bc2ce766df9390776eb88a9}{forcedDrop}, 0, \textcolor{stringliteral}{"There should be zero forced
       drops"});
252 
253 
254   \textcolor{comment}{// test 3: same as test 2, but with higher QueueDelayReference}
255   queue = CreateObject<PieQueueDisc> ();
256   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
257                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
258   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
259                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
260   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"A"}, 
      DoubleValue (0.125)), \textcolor{keyword}{true},
261                          \textcolor{stringliteral}{"Verify that we can actually set the attribute A"});
262   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"B"}, 
      DoubleValue (1.25)), \textcolor{keyword}{true},
263                          \textcolor{stringliteral}{"Verify that we can actually set the attribute B"});
264   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Tupdate"}, 
      TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.03))), \textcolor{keyword}{true},
265                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Tupdate"});
266   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Supdate"}, 
      TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0))), \textcolor{keyword}{true},
267                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Supdate"});
268   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      DequeueThreshold"}, UintegerValue (10000)), \textcolor{keyword}{true},
269                          \textcolor{stringliteral}{"Verify that we can actually set the attribute DequeueThreshold"});
270   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      QueueDelayReference"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.08))), \textcolor{keyword}{true},
271                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueDelayReference"});
272   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      MaxBurstAllowance"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.1))), \textcolor{keyword}{true},
273                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxBurstAllowance"});
274   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
275   \hyperlink{classPieQueueDiscTestCase_a6d837dbfe3af8f4a7a1ca4e6ecbbf54e}{EnqueueWithDelay} (queue, pktSize, 400);
276   \hyperlink{classPieQueueDiscTestCase_ac95d22c3ac6ef3a873d70a663fd964e3}{DequeueWithDelay} (queue, 0.012, 400);
277   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (8.0));
278   Simulator::Run ();
279   st = StaticCast<PieQueueDisc> (queue)->GetStats ();
280   uint32\_t test3 = st.\hyperlink{structns3_1_1PieQueueDisc_1_1Stats_afe4c9f6e4c910cf47d475ff5d29d5bb0}{unforcedDrop};
281   \hyperlink{group__testing_ga5e7f81b9d00df9c727e6281e1b1bbc55}{NS\_TEST\_EXPECT\_MSG\_LT} (test3, test2, \textcolor{stringliteral}{"Test 3 should have less unforced drops than
       test 2"});
282   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (st.\hyperlink{structns3_1_1PieQueueDisc_1_1Stats_a40eea66d9bc2ce766df9390776eb88a9}{forcedDrop}, 0, \textcolor{stringliteral}{"There should be zero forced
       drops"});
283 
284 
285   \textcolor{comment}{// test 4: same as test 2, but with reduced dequeue rate}
286   queue = CreateObject<PieQueueDisc> ();
287   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
288                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
289   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
290                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
291   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"A"}, 
      DoubleValue (0.125)), \textcolor{keyword}{true},
292                          \textcolor{stringliteral}{"Verify that we can actually set the attribute A"});
293   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"B"}, 
      DoubleValue (1.25)), \textcolor{keyword}{true},
294                          \textcolor{stringliteral}{"Verify that we can actually set the attribute B"});
295   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Tupdate"}, 
      TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.03))), \textcolor{keyword}{true},
296                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Tupdate"});
297   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Supdate"}, 
      TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0))), \textcolor{keyword}{true},
298                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Supdate"});
299   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      DequeueThreshold"}, UintegerValue (10000)), \textcolor{keyword}{true},
300                          \textcolor{stringliteral}{"Verify that we can actually set the attribute DequeueThreshold"});
301   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      QueueDelayReference"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.02))), \textcolor{keyword}{true},
302                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueDelayReference"});
303   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      MaxBurstAllowance"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.1))), \textcolor{keyword}{true},
304                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxBurstAllowance"});
305   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
306   \hyperlink{classPieQueueDiscTestCase_a6d837dbfe3af8f4a7a1ca4e6ecbbf54e}{EnqueueWithDelay} (queue, pktSize, 400);
307   \hyperlink{classPieQueueDiscTestCase_ac95d22c3ac6ef3a873d70a663fd964e3}{DequeueWithDelay} (queue, 0.015, 400); \textcolor{comment}{// delay between two successive dequeue events is
       increased}
308   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (8.0));
309   Simulator::Run ();
310   st = StaticCast<PieQueueDisc> (queue)->GetStats ();
311   uint32\_t test4 = st.\hyperlink{structns3_1_1PieQueueDisc_1_1Stats_afe4c9f6e4c910cf47d475ff5d29d5bb0}{unforcedDrop};
312   \hyperlink{group__testing_ga6ba43672d44c1e85acfb1daf2af66612}{NS\_TEST\_EXPECT\_MSG\_GT} (test4, test2, \textcolor{stringliteral}{"Test 4 should have more unforced drops than
       test 2"});
313   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (st.\hyperlink{structns3_1_1PieQueueDisc_1_1Stats_a40eea66d9bc2ce766df9390776eb88a9}{forcedDrop}, 0, \textcolor{stringliteral}{"There should be zero forced
       drops"});
314 
315 
316   \textcolor{comment}{// test 5: same dequeue rate as test 4, but with higher Tupdate}
317   queue = CreateObject<PieQueueDisc> ();
318   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
319                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
320   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
321                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
322   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"A"}, 
      DoubleValue (0.125)), \textcolor{keyword}{true},
323                          \textcolor{stringliteral}{"Verify that we can actually set the attribute A"});
324   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"B"}, 
      DoubleValue (1.25)), \textcolor{keyword}{true},
325                          \textcolor{stringliteral}{"Verify that we can actually set the attribute B"});
326   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Tupdate"}, 
      TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.09))), \textcolor{keyword}{true},
327                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Tupdate"});
328   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Supdate"}, 
      TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0))), \textcolor{keyword}{true},
329                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Supdate"});
330   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      DequeueThreshold"}, UintegerValue (10000)), \textcolor{keyword}{true},
331                          \textcolor{stringliteral}{"Verify that we can actually set the attribute DequeueThreshold"});
332   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      QueueDelayReference"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.02))), \textcolor{keyword}{true},
333                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueDelayReference"});
334   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"
      MaxBurstAllowance"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.1))), \textcolor{keyword}{true},
335                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxBurstAllowance"});
336   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
337   \hyperlink{classPieQueueDiscTestCase_a6d837dbfe3af8f4a7a1ca4e6ecbbf54e}{EnqueueWithDelay} (queue, pktSize, 400);
338   \hyperlink{classPieQueueDiscTestCase_ac95d22c3ac6ef3a873d70a663fd964e3}{DequeueWithDelay} (queue, 0.015, 400);
339   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (8.0));
340   Simulator::Run ();
341   st = StaticCast<PieQueueDisc> (queue)->GetStats ();
342   uint32\_t test5 = st.\hyperlink{structns3_1_1PieQueueDisc_1_1Stats_afe4c9f6e4c910cf47d475ff5d29d5bb0}{unforcedDrop};
343   \hyperlink{group__testing_ga5e7f81b9d00df9c727e6281e1b1bbc55}{NS\_TEST\_EXPECT\_MSG\_LT} (test5, test4, \textcolor{stringliteral}{"Test 5 should have less unforced drops than
       test 4"});
344   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (st.\hyperlink{structns3_1_1PieQueueDisc_1_1Stats_a40eea66d9bc2ce766df9390776eb88a9}{forcedDrop}, 0, \textcolor{stringliteral}{"There should be zero forced
       drops"});
345 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12




The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
traffic-\/control/test/\hyperlink{pie-queue-disc-test-suite_8cc}{pie-\/queue-\/disc-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
