\hypertarget{classns3_1_1BuildingsPropagationLossModel}{}\section{ns3\+:\+:Buildings\+Propagation\+Loss\+Model Class Reference}
\label{classns3_1_1BuildingsPropagationLossModel}\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}


{\ttfamily \#include $<$buildings-\/propagation-\/loss-\/model.\+h$>$}



Inheritance diagram for ns3\+:\+:Buildings\+Propagation\+Loss\+Model\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Buildings\+Propagation\+Loss\+Model\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1BuildingsPropagationLossModel_1_1ShadowingLoss}{Shadowing\+Loss}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1BuildingsPropagationLossModel_ab23ac72e775bd5e1d4ee4720e73761c0}{Buildings\+Propagation\+Loss\+Model} ()
\item 
virtual double \hyperlink{classns3_1_1BuildingsPropagationLossModel_a6d3a26e3118fdfd83253387f4360dc55}{Get\+Loss} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const =0
\item 
virtual double \hyperlink{classns3_1_1BuildingsPropagationLossModel_a4037802437c75f0b1707997c8612bdaf}{Do\+Calc\+Rx\+Power} (double tx\+Power\+Dbm, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1BuildingsPropagationLossModel_a1a4accdc8f9f8edd9ba4768827d199dd}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classns3_1_1BuildingsPropagationLossModel_a67bc86adffb07914535f5f6f435fac47}{External\+Wall\+Loss} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityBuildingInfo}{Mobility\+Building\+Info} $>$ a) const 
\item 
double \hyperlink{classns3_1_1BuildingsPropagationLossModel_a52e994b78d200ecb8d30d1b61dedbfff}{Height\+Loss} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityBuildingInfo}{Mobility\+Building\+Info} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_abdb05bc5a064cf642a06c83b3392f148}{n}) const 
\item 
double \hyperlink{classns3_1_1BuildingsPropagationLossModel_a5d8bdc1afcb1061352e0e24a0b3db396}{Internal\+Walls\+Loss} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityBuildingInfo}{Mobility\+Building\+Info} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityBuildingInfo}{Mobility\+Building\+Info} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const 
\item 
double \hyperlink{classns3_1_1BuildingsPropagationLossModel_a86284db6dc9c9ce92d707e6de5319e56}{Get\+Shadowing} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const 
\item 
double \hyperlink{classns3_1_1BuildingsPropagationLossModel_ab1007b81884b18564b1d1542fa6ee6b8}{Evaluate\+Sigma} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityBuildingInfo}{Mobility\+Building\+Info} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityBuildingInfo}{Mobility\+Building\+Info} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const 
\item 
virtual int64\+\_\+t \hyperlink{classns3_1_1BuildingsPropagationLossModel_ab76339ec37256682c65b0c991c8e34e3}{Do\+Assign\+Streams} (int64\+\_\+t stream)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classns3_1_1BuildingsPropagationLossModel_add1b3e641ff9ad224cfdbb4d3a3db152}{m\+\_\+loss\+Internal\+Wall}
\item 
std\+::map$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$, std\+::map$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$, \hyperlink{classns3_1_1BuildingsPropagationLossModel_1_1ShadowingLoss}{Shadowing\+Loss} $>$ $>$ \hyperlink{classns3_1_1BuildingsPropagationLossModel_a1f4f47c67f9ad77df6808d82b1277dc9}{m\+\_\+shadowing\+Loss\+Map}
\item 
double \hyperlink{classns3_1_1BuildingsPropagationLossModel_a700799f95eeb988ac87beb44b49e65ee}{m\+\_\+shadowing\+Sigma\+Ext\+Walls}
\item 
double \hyperlink{classns3_1_1BuildingsPropagationLossModel_a60ae8ad7436c00d12e31f9ab1a4a3013}{m\+\_\+shadowing\+Sigma\+Outdoor}
\item 
double \hyperlink{classns3_1_1BuildingsPropagationLossModel_a718e03b71e7e7fd97ae7cf16616fbe33}{m\+\_\+shadowing\+Sigma\+Indoor}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NormalRandomVariable}{Normal\+Random\+Variable} $>$ \hyperlink{classns3_1_1BuildingsPropagationLossModel_ae3c9b1fdf792660412496302a44661ec}{m\+\_\+rand\+Variable}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This model provides means for simulating the following propagation phenomena in the presence of buildings\+:


\begin{DoxyItemize}
\item shadowing (indoor, outdoor)
\item external wall penetration loss
\item internal wall penetration loss
\end{DoxyItemize}

The distance-\/dependent component of propagation loss is deferred to derived classes which are expected to implement the Get\+Loss method.

\begin{DoxyWarning}{Warning}
This model works only when \hyperlink{classns3_1_1MobilityBuildingInfo}{Mobility\+Building\+Info} is aggreegated to the mobility model 
\end{DoxyWarning}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!Buildings\+Propagation\+Loss\+Model@{Buildings\+Propagation\+Loss\+Model}}
\index{Buildings\+Propagation\+Loss\+Model@{Buildings\+Propagation\+Loss\+Model}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Buildings\+Propagation\+Loss\+Model()}{BuildingsPropagationLossModel()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::\+Buildings\+Propagation\+Loss\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BuildingsPropagationLossModel_ab23ac72e775bd5e1d4ee4720e73761c0}{}\label{classns3_1_1BuildingsPropagationLossModel_ab23ac72e775bd5e1d4ee4720e73761c0}

\begin{DoxyCode}
99 \{
100   \hyperlink{classns3_1_1BuildingsPropagationLossModel_ae3c9b1fdf792660412496302a44661ec}{m\_randVariable} = CreateObject<NormalRandomVariable> ();
101 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!Do\+Assign\+Streams@{Do\+Assign\+Streams}}
\index{Do\+Assign\+Streams@{Do\+Assign\+Streams}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Do\+Assign\+Streams(int64\+\_\+t stream)}{DoAssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::\+Do\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_ab76339ec37256682c65b0c991c8e34e3}{}\label{classns3_1_1BuildingsPropagationLossModel_ab76339ec37256682c65b0c991c8e34e3}
Subclasses must implement this; those not using random variables can return zero 

Implements \hyperlink{classns3_1_1PropagationLossModel_a1af4724c8961a86455fa381f00d7be11}{ns3\+::\+Propagation\+Loss\+Model}.


\begin{DoxyCode}
224 \{
225   \hyperlink{classns3_1_1BuildingsPropagationLossModel_ae3c9b1fdf792660412496302a44661ec}{m\_randVariable}->\hyperlink{classns3_1_1RandomVariableStream_add11aaf975607746b7e271d300659a94}{SetStream} (stream);
226   \textcolor{keywordflow}{return} 1;
227 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!Do\+Calc\+Rx\+Power@{Do\+Calc\+Rx\+Power}}
\index{Do\+Calc\+Rx\+Power@{Do\+Calc\+Rx\+Power}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Do\+Calc\+Rx\+Power(double tx\+Power\+Dbm, Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b) const }{DoCalcRxPower(double txPowerDbm, Ptr< MobilityModel > a, Ptr< MobilityModel > b) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::\+Do\+Calc\+Rx\+Power (
\begin{DoxyParamCaption}
\item[{double}]{tx\+Power\+Dbm, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a4037802437c75f0b1707997c8612bdaf}{}\label{classns3_1_1BuildingsPropagationLossModel_a4037802437c75f0b1707997c8612bdaf}
Returns the Rx Power taking into account only the particular Propagatin\+Loss\+Model.


\begin{DoxyParams}{Parameters}
{\em tx\+Power\+Dbm} & current transmission power (in d\+Bm) \\
\hline
{\em a} & the mobility model of the source \\
\hline
{\em b} & the mobility model of the destination \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the reception power after adding/multiplying propagation loss (in d\+Bm) 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1PropagationLossModel_aa6bb73e4132dc5d8e1b49750955838bb}{ns3\+::\+Propagation\+Loss\+Model}.



Reimplemented in \hyperlink{classns3_1_1BuildingsObstaclePropagationLossModel_ae938f5d032fe35e93ffc3c98450947d3}{ns3\+::\+Buildings\+Obstacle\+Propagation\+Loss\+Model}, and \hyperlink{classns3_1_1MmWave3gppBuildingsPropagationLossModel_ada18d8a51aff691ae918be09794df267}{ns3\+::\+Mm\+Wave3gpp\+Buildings\+Propagation\+Loss\+Model}.


\begin{DoxyCode}
218 \{
219   \textcolor{keywordflow}{return} txPowerDbm - \hyperlink{classns3_1_1BuildingsPropagationLossModel_a6d3a26e3118fdfd83253387f4360dc55}{GetLoss} (a, b) - \hyperlink{classns3_1_1BuildingsPropagationLossModel_a86284db6dc9c9ce92d707e6de5319e56}{GetShadowing} (a, b);
220 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!Evaluate\+Sigma@{Evaluate\+Sigma}}
\index{Evaluate\+Sigma@{Evaluate\+Sigma}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Evaluate\+Sigma(\+Ptr$<$ Mobility\+Building\+Info $>$ a, Ptr$<$ Mobility\+Building\+Info $>$ b) const }{EvaluateSigma(Ptr< MobilityBuildingInfo > a, Ptr< MobilityBuildingInfo > b) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::\+Evaluate\+Sigma (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Building\+Info} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Building\+Info} $>$}]{b}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_ab1007b81884b18564b1d1542fa6ee6b8}{}\label{classns3_1_1BuildingsPropagationLossModel_ab1007b81884b18564b1d1542fa6ee6b8}

\begin{DoxyCode}
190 \{
191   \textcolor{keywordflow}{if} (a->IsOutdoor ())
192     \{
193       \textcolor{keywordflow}{if} (\hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}->IsOutdoor ())
194         \{
195           \textcolor{keywordflow}{return} (\hyperlink{classns3_1_1BuildingsPropagationLossModel_a60ae8ad7436c00d12e31f9ab1a4a3013}{m\_shadowingSigmaOutdoor});
196         \}
197       \textcolor{keywordflow}{else}
198         \{
199           \textcolor{keywordtype}{double} sigma = std::sqrt ((\hyperlink{classns3_1_1BuildingsPropagationLossModel_a60ae8ad7436c00d12e31f9ab1a4a3013}{m\_shadowingSigmaOutdoor} * 
      \hyperlink{classns3_1_1BuildingsPropagationLossModel_a60ae8ad7436c00d12e31f9ab1a4a3013}{m\_shadowingSigmaOutdoor}) + (\hyperlink{classns3_1_1BuildingsPropagationLossModel_a700799f95eeb988ac87beb44b49e65ee}{m\_shadowingSigmaExtWalls} * 
      \hyperlink{classns3_1_1BuildingsPropagationLossModel_a700799f95eeb988ac87beb44b49e65ee}{m\_shadowingSigmaExtWalls}));
200           \textcolor{keywordflow}{return} (sigma);
201         \}
202     \}
203   \textcolor{keywordflow}{else}
204   \textcolor{keywordflow}{if} (\hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}->IsIndoor ())
205     \{
206       \textcolor{keywordflow}{return} (\hyperlink{classns3_1_1BuildingsPropagationLossModel_a718e03b71e7e7fd97ae7cf16616fbe33}{m\_shadowingSigmaIndoor});
207     \}
208   \textcolor{keywordflow}{else}
209     \{
210       \textcolor{keywordtype}{double} sigma = std::sqrt ((\hyperlink{classns3_1_1BuildingsPropagationLossModel_a60ae8ad7436c00d12e31f9ab1a4a3013}{m\_shadowingSigmaOutdoor} * 
      \hyperlink{classns3_1_1BuildingsPropagationLossModel_a60ae8ad7436c00d12e31f9ab1a4a3013}{m\_shadowingSigmaOutdoor}) + (\hyperlink{classns3_1_1BuildingsPropagationLossModel_a700799f95eeb988ac87beb44b49e65ee}{m\_shadowingSigmaExtWalls} * 
      \hyperlink{classns3_1_1BuildingsPropagationLossModel_a700799f95eeb988ac87beb44b49e65ee}{m\_shadowingSigmaExtWalls}));
211       \textcolor{keywordflow}{return} (sigma);
212     \}
213 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!External\+Wall\+Loss@{External\+Wall\+Loss}}
\index{External\+Wall\+Loss@{External\+Wall\+Loss}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{External\+Wall\+Loss(\+Ptr$<$ Mobility\+Building\+Info $>$ a) const }{ExternalWallLoss(Ptr< MobilityBuildingInfo > a) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::\+External\+Wall\+Loss (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Building\+Info} $>$}]{a}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a67bc86adffb07914535f5f6f435fac47}{}\label{classns3_1_1BuildingsPropagationLossModel_a67bc86adffb07914535f5f6f435fac47}

\begin{DoxyCode}
105 \{
106   \textcolor{keywordtype}{double} loss = 0.0;
107   Ptr<Building> aBuilding = a->GetBuilding ();
108   \textcolor{keywordflow}{if} (aBuilding->GetExtWallsType () == \hyperlink{classns3_1_1Building_a298adc08038580830c70d4cac8fcfefea072008eac9e24ff8f088c105572ebffe}{Building::Wood})
109     \{
110       loss = 4;
111     \}
112   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (aBuilding->GetExtWallsType () == \hyperlink{classns3_1_1Building_a298adc08038580830c70d4cac8fcfefeae4c01a615e1a1a32bef9a09070689369}{Building::ConcreteWithWindows})
113     \{
114       loss = 7;
115     \}
116   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (aBuilding->GetExtWallsType () == \hyperlink{classns3_1_1Building_a298adc08038580830c70d4cac8fcfefeae92c37f02cd4d7fb29b330b6bde073c5}{Building::ConcreteWithoutWindows}
      )
117     \{
118       loss = 15; \textcolor{comment}{// 10 ~ 20 dB}
119     \}
120   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (aBuilding->GetExtWallsType () == \hyperlink{classns3_1_1Building_a298adc08038580830c70d4cac8fcfefeabe06cde1c1af3f87dda18e6087796168}{Building::StoneBlocks})
121     \{
122       loss = 12;
123     \}
124   \textcolor{keywordflow}{return} (loss);
125 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!Get\+Loss@{Get\+Loss}}
\index{Get\+Loss@{Get\+Loss}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Loss(\+Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b) const =0}{GetLoss(Ptr< MobilityModel > a, Ptr< MobilityModel > b) const =0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::\+Get\+Loss (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a6d3a26e3118fdfd83253387f4360dc55}{}\label{classns3_1_1BuildingsPropagationLossModel_a6d3a26e3118fdfd83253387f4360dc55}

\begin{DoxyParams}{Parameters}
{\em a} & the mobility model of the source \\
\hline
{\em b} & the mobility model of the destination \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the propagation loss (in d\+Bm) 
\end{DoxyReturn}


Implemented in \hyperlink{classns3_1_1HybridBuildingsPropagationLossModel_a241f98b865eb28321e724c6963ba4f83}{ns3\+::\+Hybrid\+Buildings\+Propagation\+Loss\+Model}, \hyperlink{classns3_1_1OhBuildingsPropagationLossModel_a0e631c77b10ca758f41101751ca3635f}{ns3\+::\+Oh\+Buildings\+Propagation\+Loss\+Model}, \hyperlink{classns3_1_1BuildingsObstaclePropagationLossModel_aeb4896558411b94c66c1070dd800b1e1}{ns3\+::\+Buildings\+Obstacle\+Propagation\+Loss\+Model}, and \hyperlink{classns3_1_1MmWave3gppBuildingsPropagationLossModel_ae461e2a33b54da63fe384804e719813b}{ns3\+::\+Mm\+Wave3gpp\+Buildings\+Propagation\+Loss\+Model}.

\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!Get\+Shadowing@{Get\+Shadowing}}
\index{Get\+Shadowing@{Get\+Shadowing}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Shadowing(\+Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b) const }{GetShadowing(Ptr< MobilityModel > a, Ptr< MobilityModel > b) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::\+Get\+Shadowing (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a86284db6dc9c9ce92d707e6de5319e56}{}\label{classns3_1_1BuildingsPropagationLossModel_a86284db6dc9c9ce92d707e6de5319e56}

\begin{DoxyCode}
151 \{
152     Ptr<MobilityBuildingInfo> a1 = a->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject} <MobilityBuildingInfo> ();
153     Ptr<MobilityBuildingInfo> b1 = b->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject} <MobilityBuildingInfo> ();
154     \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ((a1 != 0) && (b1 != 0), \textcolor{stringliteral}{"BuildingsPropagationLossModel only works with
       MobilityBuildingInfo"});
155   
156   std::map<Ptr<MobilityModel>,  std::map<Ptr<MobilityModel>, ShadowingLoss> >::iterator ait = 
      \hyperlink{classns3_1_1BuildingsPropagationLossModel_a1f4f47c67f9ad77df6808d82b1277dc9}{m\_shadowingLossMap}.find (a);
157   \textcolor{keywordflow}{if} (ait != \hyperlink{classns3_1_1BuildingsPropagationLossModel_a1f4f47c67f9ad77df6808d82b1277dc9}{m\_shadowingLossMap}.end ())
158     \{
159       std::map<Ptr<MobilityModel>, ShadowingLoss>::iterator bit = ait->second.find (b);
160       \textcolor{keywordflow}{if} (bit != ait->second.end ())
161         \{
162           \textcolor{keywordflow}{return} (bit->second.GetLoss ());
163         \}
164       \textcolor{keywordflow}{else}
165         \{
166           \textcolor{keywordtype}{double} sigma = \hyperlink{classns3_1_1BuildingsPropagationLossModel_ab1007b81884b18564b1d1542fa6ee6b8}{EvaluateSigma} (a1, b1);
167           \textcolor{comment}{// side effect: will create new entry          }
168           \textcolor{comment}{// sigma is standard deviation, not variance}
169           \textcolor{keywordtype}{double} shadowingValue = \hyperlink{classns3_1_1BuildingsPropagationLossModel_ae3c9b1fdf792660412496302a44661ec}{m\_randVariable}->\hyperlink{classns3_1_1NormalRandomVariable_a0134d131477bc439cc6ff7cbe84b03a9}{GetValue} (0.0, (sigma*sigma));
170           ait->second[\hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}] = ShadowingLoss (shadowingValue, b);          
171           \textcolor{keywordflow}{return} (ait->second[b].GetLoss ());
172         \}
173     \}
174   \textcolor{keywordflow}{else}
175     \{
176       \textcolor{keywordtype}{double} sigma = \hyperlink{classns3_1_1BuildingsPropagationLossModel_ab1007b81884b18564b1d1542fa6ee6b8}{EvaluateSigma} (a1, b1);
177       \textcolor{comment}{// side effect: will create new entries in both maps}
178       \textcolor{comment}{// sigma is standard deviation, not variance}
179       \textcolor{keywordtype}{double} shadowingValue = \hyperlink{classns3_1_1BuildingsPropagationLossModel_ae3c9b1fdf792660412496302a44661ec}{m\_randVariable}->\hyperlink{classns3_1_1NormalRandomVariable_a0134d131477bc439cc6ff7cbe84b03a9}{GetValue} (0.0, (sigma*sigma));
180       \hyperlink{classns3_1_1BuildingsPropagationLossModel_a1f4f47c67f9ad77df6808d82b1277dc9}{m\_shadowingLossMap}[a][\hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}] = ShadowingLoss (shadowingValue, b);  
181       \textcolor{keywordflow}{return} (\hyperlink{classns3_1_1BuildingsPropagationLossModel_a1f4f47c67f9ad77df6808d82b1277dc9}{m\_shadowingLossMap}[a][b].\hyperlink{classns3_1_1BuildingsPropagationLossModel_a6d3a26e3118fdfd83253387f4360dc55}{GetLoss} ());       
182     \}
183 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a1a4accdc8f9f8edd9ba4768827d199dd}{}\label{classns3_1_1BuildingsPropagationLossModel_a1a4accdc8f9f8edd9ba4768827d199dd}

\begin{DoxyCode}
64 \{
65   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::BuildingsPropagationLossModel"})
66 
67     .SetParent<\hyperlink{classns3_1_1PropagationLossModel_ace8b78c2c8e805cd0a919d7e3543318c}{PropagationLossModel}> ()
68     .SetGroupName (\textcolor{stringliteral}{"Buildings"})
69 
70 
71     .AddAttribute (\textcolor{stringliteral}{"ShadowSigmaOutdoor"},
72                    \textcolor{stringliteral}{"Standard deviation of the normal distribution used for calculate the shadowing for
       outdoor nodes"},
73                    DoubleValue (7.0),
74                    MakeDoubleAccessor (&
      \hyperlink{classns3_1_1BuildingsPropagationLossModel_a60ae8ad7436c00d12e31f9ab1a4a3013}{BuildingsPropagationLossModel::m\_shadowingSigmaOutdoor}
      ),
75                    MakeDoubleChecker<double> ())
76 
77     .AddAttribute (\textcolor{stringliteral}{"ShadowSigmaIndoor"},
78                    \textcolor{stringliteral}{"Standard deviation of the normal distribution used for calculate the shadowing for
       indoor nodes "},
79                    DoubleValue (8.0),
80                    MakeDoubleAccessor (&
      \hyperlink{classns3_1_1BuildingsPropagationLossModel_a718e03b71e7e7fd97ae7cf16616fbe33}{BuildingsPropagationLossModel::m\_shadowingSigmaIndoor})
      ,
81                    MakeDoubleChecker<double> ())
82     .AddAttribute (\textcolor{stringliteral}{"ShadowSigmaExtWalls"},
83                    \textcolor{stringliteral}{"Standard deviation of the normal distribution used for calculate the shadowing due to
       ext walls "},
84                    DoubleValue (5.0),
85                    MakeDoubleAccessor (&
      \hyperlink{classns3_1_1BuildingsPropagationLossModel_a700799f95eeb988ac87beb44b49e65ee}{BuildingsPropagationLossModel::m\_shadowingSigmaExtWalls}
      ),
86                    MakeDoubleChecker<double> ())
87 
88     .AddAttribute (\textcolor{stringliteral}{"InternalWallLoss"},
89                    \textcolor{stringliteral}{"Additional loss for each internal wall [dB]"},
90                    DoubleValue (5.0),
91                    MakeDoubleAccessor (&
      \hyperlink{classns3_1_1BuildingsPropagationLossModel_add1b3e641ff9ad224cfdbb4d3a3db152}{BuildingsPropagationLossModel::m\_lossInternalWall}),
92                    MakeDoubleChecker<double> ());
93 
94 
95   \textcolor{keywordflow}{return} tid;
96 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!Height\+Loss@{Height\+Loss}}
\index{Height\+Loss@{Height\+Loss}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Height\+Loss(\+Ptr$<$ Mobility\+Building\+Info $>$ n) const }{HeightLoss(Ptr< MobilityBuildingInfo > n) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::\+Height\+Loss (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Building\+Info} $>$}]{n}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a52e994b78d200ecb8d30d1b61dedbfff}{}\label{classns3_1_1BuildingsPropagationLossModel_a52e994b78d200ecb8d30d1b61dedbfff}

\begin{DoxyCode}
129 \{
130   \textcolor{keywordtype}{double} loss = 0.0;
131 
132   \textcolor{keywordtype}{int} nfloors  = node->GetFloorNumber () - 1;
133   loss = -2 * (nfloors);
134   \textcolor{keywordflow}{return} (loss);
135 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!Internal\+Walls\+Loss@{Internal\+Walls\+Loss}}
\index{Internal\+Walls\+Loss@{Internal\+Walls\+Loss}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Internal\+Walls\+Loss(\+Ptr$<$ Mobility\+Building\+Info $>$ a, Ptr$<$ Mobility\+Building\+Info $>$ b) const }{InternalWallsLoss(Ptr< MobilityBuildingInfo > a, Ptr< MobilityBuildingInfo > b) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::\+Internal\+Walls\+Loss (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Building\+Info} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Building\+Info} $>$}]{b}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a5d8bdc1afcb1061352e0e24a0b3db396}{}\label{classns3_1_1BuildingsPropagationLossModel_a5d8bdc1afcb1061352e0e24a0b3db396}

\begin{DoxyCode}
139 \{
140   \textcolor{comment}{// approximate the number of internal walls with the Manhattan distance in "rooms" units}
141   \textcolor{keywordtype}{double} dx = std::abs (a->GetRoomNumberX () - \hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}->GetRoomNumberX ());
142   \textcolor{keywordtype}{double} dy = std::abs (a->GetRoomNumberY () - \hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}->GetRoomNumberY ());    
143   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1BuildingsPropagationLossModel_add1b3e641ff9ad224cfdbb4d3a3db152}{m\_lossInternalWall} * (dx+dy);
144 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11




\subsection{Member Data Documentation}
\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!m\+\_\+loss\+Internal\+Wall@{m\+\_\+loss\+Internal\+Wall}}
\index{m\+\_\+loss\+Internal\+Wall@{m\+\_\+loss\+Internal\+Wall}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+loss\+Internal\+Wall}{m_lossInternalWall}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::m\+\_\+loss\+Internal\+Wall\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_add1b3e641ff9ad224cfdbb4d3a3db152}{}\label{classns3_1_1BuildingsPropagationLossModel_add1b3e641ff9ad224cfdbb4d3a3db152}
\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!m\+\_\+rand\+Variable@{m\+\_\+rand\+Variable}}
\index{m\+\_\+rand\+Variable@{m\+\_\+rand\+Variable}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+rand\+Variable}{m_randVariable}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Normal\+Random\+Variable}$>$ ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::m\+\_\+rand\+Variable\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_ae3c9b1fdf792660412496302a44661ec}{}\label{classns3_1_1BuildingsPropagationLossModel_ae3c9b1fdf792660412496302a44661ec}
\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!m\+\_\+shadowing\+Loss\+Map@{m\+\_\+shadowing\+Loss\+Map}}
\index{m\+\_\+shadowing\+Loss\+Map@{m\+\_\+shadowing\+Loss\+Map}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+shadowing\+Loss\+Map}{m_shadowingLossMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<${\bf Ptr}$<${\bf Mobility\+Model}$>$, std\+::map$<${\bf Ptr}$<${\bf Mobility\+Model}$>$, {\bf Shadowing\+Loss}$>$ $>$ ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::m\+\_\+shadowing\+Loss\+Map\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a1f4f47c67f9ad77df6808d82b1277dc9}{}\label{classns3_1_1BuildingsPropagationLossModel_a1f4f47c67f9ad77df6808d82b1277dc9}
\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!m\+\_\+shadowing\+Sigma\+Ext\+Walls@{m\+\_\+shadowing\+Sigma\+Ext\+Walls}}
\index{m\+\_\+shadowing\+Sigma\+Ext\+Walls@{m\+\_\+shadowing\+Sigma\+Ext\+Walls}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+shadowing\+Sigma\+Ext\+Walls}{m_shadowingSigmaExtWalls}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::m\+\_\+shadowing\+Sigma\+Ext\+Walls\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a700799f95eeb988ac87beb44b49e65ee}{}\label{classns3_1_1BuildingsPropagationLossModel_a700799f95eeb988ac87beb44b49e65ee}
\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!m\+\_\+shadowing\+Sigma\+Indoor@{m\+\_\+shadowing\+Sigma\+Indoor}}
\index{m\+\_\+shadowing\+Sigma\+Indoor@{m\+\_\+shadowing\+Sigma\+Indoor}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+shadowing\+Sigma\+Indoor}{m_shadowingSigmaIndoor}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::m\+\_\+shadowing\+Sigma\+Indoor\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a718e03b71e7e7fd97ae7cf16616fbe33}{}\label{classns3_1_1BuildingsPropagationLossModel_a718e03b71e7e7fd97ae7cf16616fbe33}
\index{ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}!m\+\_\+shadowing\+Sigma\+Outdoor@{m\+\_\+shadowing\+Sigma\+Outdoor}}
\index{m\+\_\+shadowing\+Sigma\+Outdoor@{m\+\_\+shadowing\+Sigma\+Outdoor}!ns3\+::\+Buildings\+Propagation\+Loss\+Model@{ns3\+::\+Buildings\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+shadowing\+Sigma\+Outdoor}{m_shadowingSigmaOutdoor}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Buildings\+Propagation\+Loss\+Model\+::m\+\_\+shadowing\+Sigma\+Outdoor\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1BuildingsPropagationLossModel_a60ae8ad7436c00d12e31f9ab1a4a3013}{}\label{classns3_1_1BuildingsPropagationLossModel_a60ae8ad7436c00d12e31f9ab1a4a3013}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
buildings/model/\hyperlink{buildings-propagation-loss-model_8h}{buildings-\/propagation-\/loss-\/model.\+h}\item 
buildings/model/\hyperlink{buildings-propagation-loss-model_8cc}{buildings-\/propagation-\/loss-\/model.\+cc}\end{DoxyCompactItemize}
