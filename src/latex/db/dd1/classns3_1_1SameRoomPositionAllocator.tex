\hypertarget{classns3_1_1SameRoomPositionAllocator}{}\section{ns3\+:\+:Same\+Room\+Position\+Allocator Class Reference}
\label{classns3_1_1SameRoomPositionAllocator}\index{ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}}


{\ttfamily \#include $<$building-\/position-\/allocator.\+h$>$}



Inheritance diagram for ns3\+:\+:Same\+Room\+Position\+Allocator\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Same\+Room\+Position\+Allocator\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1SameRoomPositionAllocator_a375389873003f74f29e8f8cfb3233551}{Same\+Room\+Position\+Allocator} ()
\item 
\hyperlink{classns3_1_1SameRoomPositionAllocator_a3910053fde8c11824443e7ee5acf2afd}{Same\+Room\+Position\+Allocator} (\hyperlink{classns3_1_1NodeContainer}{Node\+Container} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
virtual Vector \hyperlink{classns3_1_1SameRoomPositionAllocator_ae6149d158a31b9962c8a6224d5503c9e}{Get\+Next} (void) const 
\item 
int64\+\_\+t \hyperlink{classns3_1_1SameRoomPositionAllocator_a351c0ab22412170e50984edb0f303269}{Assign\+Streams} (int64\+\_\+t)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1SameRoomPositionAllocator_aebfda3d5331e4f10cf22c932d24b4185}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1NodeContainer}{Node\+Container} \hyperlink{classns3_1_1SameRoomPositionAllocator_a3b63686fa8357f8000d82b60d70cf8ef}{m\+\_\+nodes}
\item 
\hyperlink{classns3_1_1NodeContainer_aa1a9f2d2b09bfef7d066d3974bca2cc4}{Node\+Container\+::\+Iterator} \hyperlink{classns3_1_1SameRoomPositionAllocator_ad65afb7e5bbad96eeaa1b0a61fc07fba}{m\+\_\+node\+It}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UniformRandomVariable}{Uniform\+Random\+Variable} $>$ \hyperlink{classns3_1_1SameRoomPositionAllocator_a4aba0af39b8d1e6218271bc5d09b4ba2}{m\+\_\+rand}
\begin{DoxyCompactList}\small\item\em Provides uniform random variables. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Walks a given \hyperlink{classns3_1_1NodeContainer}{Node\+Container} sequentially, and for each node allocate a new position randomly in the same room of that node 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}!Same\+Room\+Position\+Allocator@{Same\+Room\+Position\+Allocator}}
\index{Same\+Room\+Position\+Allocator@{Same\+Room\+Position\+Allocator}!ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}}
\subsubsection[{\texorpdfstring{Same\+Room\+Position\+Allocator()}{SameRoomPositionAllocator()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Same\+Room\+Position\+Allocator\+::\+Same\+Room\+Position\+Allocator (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SameRoomPositionAllocator_a375389873003f74f29e8f8cfb3233551}{}\label{classns3_1_1SameRoomPositionAllocator_a375389873003f74f29e8f8cfb3233551}

\begin{DoxyCode}
198 \{
199   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{" Constructor \(\backslash\)"SameRoomPositionAllocator ()\(\backslash\)" should not be used"});
200 \}
\end{DoxyCode}
\index{ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}!Same\+Room\+Position\+Allocator@{Same\+Room\+Position\+Allocator}}
\index{Same\+Room\+Position\+Allocator@{Same\+Room\+Position\+Allocator}!ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}}
\subsubsection[{\texorpdfstring{Same\+Room\+Position\+Allocator(\+Node\+Container c)}{SameRoomPositionAllocator(NodeContainer c)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Same\+Room\+Position\+Allocator\+::\+Same\+Room\+Position\+Allocator (
\begin{DoxyParamCaption}
\item[{{\bf Node\+Container}}]{c}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SameRoomPositionAllocator_a3910053fde8c11824443e7ee5acf2afd}{}\label{classns3_1_1SameRoomPositionAllocator_a3910053fde8c11824443e7ee5acf2afd}

\begin{DoxyCode}
204   : \hyperlink{classns3_1_1SameRoomPositionAllocator_a3b63686fa8357f8000d82b60d70cf8ef}{m\_nodes} (\hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
205 \{
206   \hyperlink{classns3_1_1SameRoomPositionAllocator_a4aba0af39b8d1e6218271bc5d09b4ba2}{m\_rand} = CreateObject<UniformRandomVariable> ();
207   \hyperlink{classns3_1_1SameRoomPositionAllocator_ad65afb7e5bbad96eeaa1b0a61fc07fba}{m\_nodeIt} = \hyperlink{classns3_1_1SameRoomPositionAllocator_a3b63686fa8357f8000d82b60d70cf8ef}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_adf0f639aff139db107526288777eb533}{Begin} ();
208   \textcolor{comment}{// this is needed to make sure the building models associated with c have been initialized}
209   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1NodeContainer_aa1a9f2d2b09bfef7d066d3974bca2cc4}{NodeContainer::Iterator} it = \hyperlink{classns3_1_1SameRoomPositionAllocator_a3b63686fa8357f8000d82b60d70cf8ef}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_adf0f639aff139db107526288777eb533}{Begin} (); it != 
      \hyperlink{classns3_1_1SameRoomPositionAllocator_a3b63686fa8357f8000d82b60d70cf8ef}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_a8ea0bcac137597d192c5e6b95ca60464}{End} (); ++it)
210     \{
211       Ptr<MobilityModel> mm = (*it)->GetObject<MobilityModel> ();
212       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (mm, \textcolor{stringliteral}{"no mobility model aggregated to this node"});
213       Ptr<MobilityBuildingInfo> bmm = mm->GetObject <MobilityBuildingInfo> ();
214       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (bmm, \textcolor{stringliteral}{"MobilityBuildingInfo has not been aggregated to this node mobility
       model"});
215       \hyperlink{classns3_1_1BuildingsHelper_a355b3ae0c0f772746e66fb712c0bc0b0}{BuildingsHelper::MakeConsistent} (mm);
216     \}
217 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




\subsection{Member Function Documentation}
\index{ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}!Assign\+Streams@{Assign\+Streams}}
\index{Assign\+Streams@{Assign\+Streams}!ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}}
\subsubsection[{\texorpdfstring{Assign\+Streams(int64\+\_\+t)}{AssignStreams(int64_t)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::\+Same\+Room\+Position\+Allocator\+::\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SameRoomPositionAllocator_a351c0ab22412170e50984edb0f303269}{}\label{classns3_1_1SameRoomPositionAllocator_a351c0ab22412170e50984edb0f303269}
Assign a fixed random variable stream number to the random variables used by this model. Return the number of streams (possibly zero) that have been assigned.


\begin{DoxyParams}{Parameters}
{\em stream} & first stream index to use \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of stream indices assigned by this model 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1PositionAllocator_a654c787e42def6e4463731d50b337057}{ns3\+::\+Position\+Allocator}.


\begin{DoxyCode}
280 \{
281   \hyperlink{classns3_1_1SameRoomPositionAllocator_a4aba0af39b8d1e6218271bc5d09b4ba2}{m\_rand}->\hyperlink{classns3_1_1RandomVariableStream_add11aaf975607746b7e271d300659a94}{SetStream} (stream);
282   \textcolor{keywordflow}{return} 1;
283 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}!Get\+Next@{Get\+Next}}
\index{Get\+Next@{Get\+Next}!ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}}
\subsubsection[{\texorpdfstring{Get\+Next(void) const }{GetNext(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}Vector ns3\+::\+Same\+Room\+Position\+Allocator\+::\+Get\+Next (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SameRoomPositionAllocator_ae6149d158a31b9962c8a6224d5503c9e}{}\label{classns3_1_1SameRoomPositionAllocator_ae6149d158a31b9962c8a6224d5503c9e}
\begin{DoxyReturn}{Returns}
the next chosen position.
\end{DoxyReturn}
This method {\itshape must} be implement in subclasses. 

Implements \hyperlink{classns3_1_1PositionAllocator_ab1d9ba3b655b9f83f4cf738ff06fbd6f}{ns3\+::\+Position\+Allocator}.


\begin{DoxyCode}
231 \{
232   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
233   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SameRoomPositionAllocator_ad65afb7e5bbad96eeaa1b0a61fc07fba}{m\_nodeIt} == \hyperlink{classns3_1_1SameRoomPositionAllocator_a3b63686fa8357f8000d82b60d70cf8ef}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_a8ea0bcac137597d192c5e6b95ca60464}{End} ())
234     \{
235       \hyperlink{classns3_1_1SameRoomPositionAllocator_ad65afb7e5bbad96eeaa1b0a61fc07fba}{m\_nodeIt}  = \hyperlink{classns3_1_1SameRoomPositionAllocator_a3b63686fa8357f8000d82b60d70cf8ef}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_adf0f639aff139db107526288777eb533}{Begin} ();
236     \}
237 
238   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1SameRoomPositionAllocator_ad65afb7e5bbad96eeaa1b0a61fc07fba}{m\_nodeIt} != \hyperlink{classns3_1_1SameRoomPositionAllocator_a3b63686fa8357f8000d82b60d70cf8ef}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_a8ea0bcac137597d192c5e6b95ca60464}{End} (), \textcolor{stringliteral}{"no node in container"});
239 
240   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"considering node "} << (*m\_nodeIt)->GetId ());
241   Ptr<MobilityModel> mm = (*m\_nodeIt)->GetObject<MobilityModel> ();
242   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (mm, \textcolor{stringliteral}{"no mobility model aggregated to this node"});
243   Ptr<MobilityBuildingInfo> bmm = mm->GetObject<MobilityBuildingInfo> ();
244   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (bmm, \textcolor{stringliteral}{"MobilityBuildingInfo has not been aggregated to this node mobility
       model"});
245 
246   ++\hyperlink{classns3_1_1SameRoomPositionAllocator_ad65afb7e5bbad96eeaa1b0a61fc07fba}{m\_nodeIt};
247   uint32\_t roomx = bmm->GetRoomNumberX ();
248   uint32\_t roomy = bmm->GetRoomNumberY ();
249   uint32\_t floor = bmm->GetFloorNumber ();
250   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"considering building "} << bmm->GetBuilding ()->GetId () << \textcolor{stringliteral}{" room ("} << roomx 
      << \textcolor{stringliteral}{", "} << roomy << \textcolor{stringliteral}{", "} << floor << \textcolor{stringliteral}{")"});
251 
252   Ptr<Building> \hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b} = bmm->GetBuilding ();
253   Ptr<RandomBoxPositionAllocator> pa = CreateObject<RandomBoxPositionAllocator> ();
254   BoxValue bv;
255   b->GetAttribute (\textcolor{stringliteral}{"Boundaries"}, bv);
256   Box box = bv.Get ();
257   \textcolor{keywordtype}{double} rdx =  (box.xMax - box.xMin) / b->GetNRoomsX ();
258   \textcolor{keywordtype}{double} rdy =  (box.yMax - box.yMin) / b->GetNRoomsY ();
259   \textcolor{keywordtype}{double} rdz =  (box.zMax - box.zMin) / b->GetNFloors ();
260   \textcolor{keywordtype}{double} x1 = box.xMin + rdx * (roomx - 1);
261   \textcolor{keywordtype}{double} x2 = box.xMin + rdx * roomx;
262   \textcolor{keywordtype}{double} y1 = box.yMin + rdy * (roomy -1);
263   \textcolor{keywordtype}{double} y2 = box.yMin + rdy * roomy;
264   \textcolor{keywordtype}{double} z1 = box.zMin + rdz * (floor - 1);
265   \textcolor{keywordtype}{double} z2 = box.zMin + rdz * floor;
266   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"randomly allocating position in "}
267                 << \textcolor{stringliteral}{" ("} << x1 << \textcolor{stringliteral}{","} << x2 << \textcolor{stringliteral}{") "}
268                 << \textcolor{stringliteral}{"x ("} << y1 << \textcolor{stringliteral}{","} << y2 << \textcolor{stringliteral}{") "}
269                 << \textcolor{stringliteral}{"x ("} << z1 << \textcolor{stringliteral}{","} << z2 << \textcolor{stringliteral}{") "});
270 
271   \textcolor{keywordtype}{double} \hyperlink{lte__link__budget__x2__handover__measures_8m_a9336ebf25087d91c818ee6e9ec29f8c1}{x} = \hyperlink{classns3_1_1SameRoomPositionAllocator_a4aba0af39b8d1e6218271bc5d09b4ba2}{m\_rand}->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue} (x1, x2);
272   \textcolor{keywordtype}{double} y = \hyperlink{classns3_1_1SameRoomPositionAllocator_a4aba0af39b8d1e6218271bc5d09b4ba2}{m\_rand}->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue} (y1, y2);
273   \textcolor{keywordtype}{double} z = \hyperlink{classns3_1_1SameRoomPositionAllocator_a4aba0af39b8d1e6218271bc5d09b4ba2}{m\_rand}->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue} (z1, z2);
274 
275   \textcolor{keywordflow}{return} Vector (x, y, z);
276 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Same\+Room\+Position\+Allocator\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1SameRoomPositionAllocator_aebfda3d5331e4f10cf22c932d24b4185}{}\label{classns3_1_1SameRoomPositionAllocator_aebfda3d5331e4f10cf22c932d24b4185}

\begin{DoxyCode}
221 \{
222   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::SameRoomPositionAllocator"})
223     .SetParent<\hyperlink{classns3_1_1PositionAllocator_a944cf6b97b874e06983c1f3e81cf3ea6}{PositionAllocator}> ()
224     .SetGroupName (\textcolor{stringliteral}{"Buildings"})
225     .AddConstructor<\hyperlink{classns3_1_1SameRoomPositionAllocator_a375389873003f74f29e8f8cfb3233551}{SameRoomPositionAllocator}> ();
226   \textcolor{keywordflow}{return} tid;
227 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




\subsection{Member Data Documentation}
\index{ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}!m\+\_\+node\+It@{m\+\_\+node\+It}}
\index{m\+\_\+node\+It@{m\+\_\+node\+It}!ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}}
\subsubsection[{\texorpdfstring{m\+\_\+node\+It}{m_nodeIt}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Node\+Container\+::\+Iterator} ns3\+::\+Same\+Room\+Position\+Allocator\+::m\+\_\+node\+It\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [private]}}\hypertarget{classns3_1_1SameRoomPositionAllocator_ad65afb7e5bbad96eeaa1b0a61fc07fba}{}\label{classns3_1_1SameRoomPositionAllocator_ad65afb7e5bbad96eeaa1b0a61fc07fba}
\index{ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}!m\+\_\+nodes@{m\+\_\+nodes}}
\index{m\+\_\+nodes@{m\+\_\+nodes}!ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}}
\subsubsection[{\texorpdfstring{m\+\_\+nodes}{m_nodes}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Node\+Container} ns3\+::\+Same\+Room\+Position\+Allocator\+::m\+\_\+nodes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SameRoomPositionAllocator_a3b63686fa8357f8000d82b60d70cf8ef}{}\label{classns3_1_1SameRoomPositionAllocator_a3b63686fa8357f8000d82b60d70cf8ef}
\index{ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}!m\+\_\+rand@{m\+\_\+rand}}
\index{m\+\_\+rand@{m\+\_\+rand}!ns3\+::\+Same\+Room\+Position\+Allocator@{ns3\+::\+Same\+Room\+Position\+Allocator}}
\subsubsection[{\texorpdfstring{m\+\_\+rand}{m_rand}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Uniform\+Random\+Variable}$>$ ns3\+::\+Same\+Room\+Position\+Allocator\+::m\+\_\+rand\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SameRoomPositionAllocator_a4aba0af39b8d1e6218271bc5d09b4ba2}{}\label{classns3_1_1SameRoomPositionAllocator_a4aba0af39b8d1e6218271bc5d09b4ba2}


Provides uniform random variables. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
buildings/helper/\hyperlink{building-position-allocator_8h}{building-\/position-\/allocator.\+h}\item 
buildings/helper/\hyperlink{building-position-allocator_8cc}{building-\/position-\/allocator.\+cc}\end{DoxyCompactItemize}
