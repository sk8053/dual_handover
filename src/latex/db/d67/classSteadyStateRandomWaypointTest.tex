\hypertarget{classSteadyStateRandomWaypointTest}{}\section{Steady\+State\+Random\+Waypoint\+Test Class Reference}
\label{classSteadyStateRandomWaypointTest}\index{Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}}


Steady State Random Waypoint Test.  




Inheritance diagram for Steady\+State\+Random\+Waypoint\+Test\+:
% FIG 0


Collaboration diagram for Steady\+State\+Random\+Waypoint\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSteadyStateRandomWaypointTest_a7bb790ee4869b61800112dd29396fd89}{Steady\+State\+Random\+Waypoint\+Test} ()
\item 
virtual \hyperlink{classSteadyStateRandomWaypointTest_a63a9bd135cc5fa38ce649ffa5a232351}{$\sim$\+Steady\+State\+Random\+Waypoint\+Test} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classSteadyStateRandomWaypointTest_a06b559358eab241daa3a937a038729df}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
virtual void \hyperlink{classSteadyStateRandomWaypointTest_afc0a9be711bf8100bcf66a56b79caef4}{Do\+Teardown} (void)
\begin{DoxyCompactList}\small\item\em Implementation to do any local setup required for this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classSteadyStateRandomWaypointTest_a7fec88fc2579b3c0601a8704e04584d3}{Distrib\+Compare} ()
\begin{DoxyCompactList}\small\item\em Distribution compare function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ $>$ \hyperlink{classSteadyStateRandomWaypointTest_a492bad1d2d921f57ea65e92e12dc3d8a}{mobility\+Stack}
\begin{DoxyCompactList}\small\item\em modility model \end{DoxyCompactList}\item 
double \hyperlink{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}{count}
\begin{DoxyCompactList}\small\item\em count \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Steady State Random Waypoint Test. 

\subsection{Constructor \& Destructor Documentation}
\index{Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}!Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}}
\index{Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}!Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}}
\subsubsection[{\texorpdfstring{Steady\+State\+Random\+Waypoint\+Test()}{SteadyStateRandomWaypointTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Steady\+State\+Random\+Waypoint\+Test\+::\+Steady\+State\+Random\+Waypoint\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classSteadyStateRandomWaypointTest_a7bb790ee4869b61800112dd29396fd89}{}\label{classSteadyStateRandomWaypointTest_a7bb790ee4869b61800112dd29396fd89}

\begin{DoxyCode}
41     : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Check steady-state rwp mobility model velocity and position distributions"}) \{\}
\end{DoxyCode}
\index{Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}!````~Steady\+State\+Random\+Waypoint\+Test@{$\sim$\+Steady\+State\+Random\+Waypoint\+Test}}
\index{````~Steady\+State\+Random\+Waypoint\+Test@{$\sim$\+Steady\+State\+Random\+Waypoint\+Test}!Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}}
\subsubsection[{\texorpdfstring{$\sim$\+Steady\+State\+Random\+Waypoint\+Test()}{~SteadyStateRandomWaypointTest()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual Steady\+State\+Random\+Waypoint\+Test\+::$\sim$\+Steady\+State\+Random\+Waypoint\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classSteadyStateRandomWaypointTest_a63a9bd135cc5fa38ce649ffa5a232351}{}\label{classSteadyStateRandomWaypointTest_a63a9bd135cc5fa38ce649ffa5a232351}

\begin{DoxyCode}
42 \{\}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}!Distrib\+Compare@{Distrib\+Compare}}
\index{Distrib\+Compare@{Distrib\+Compare}!Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}}
\subsubsection[{\texorpdfstring{Distrib\+Compare()}{DistribCompare()}}]{\setlength{\rightskip}{0pt plus 5cm}void Steady\+State\+Random\+Waypoint\+Test\+::\+Distrib\+Compare (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classSteadyStateRandomWaypointTest_a7fec88fc2579b3c0601a8704e04584d3}{}\label{classSteadyStateRandomWaypointTest_a7fec88fc2579b3c0601a8704e04584d3}


Distribution compare function. 


\begin{DoxyCode}
100 \{
101   \textcolor{keywordtype}{double} velocity;
102   \textcolor{keywordtype}{double} sum\_x = 0;
103   \textcolor{keywordtype}{double} sum\_y = 0;
104   \textcolor{keywordtype}{double} sum\_v = 0;
105   std::vector<Ptr<MobilityModel> >::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
106   \hyperlink{classns3_1_1Ptr}{Ptr<MobilityModel>} model;
107   \textcolor{keywordflow}{for} (i = \hyperlink{classSteadyStateRandomWaypointTest_a492bad1d2d921f57ea65e92e12dc3d8a}{mobilityStack}.begin (); i != \hyperlink{classSteadyStateRandomWaypointTest_a492bad1d2d921f57ea65e92e12dc3d8a}{mobilityStack}.end (); ++
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
108     \{
109       model = (*i);
110       velocity = std::sqrt (std::pow (model->\hyperlink{classns3_1_1MobilityModel_a77004c56b45773bf57bdd3750887ced3}{GetVelocity} ().x, 2) + std::pow (model->
      \hyperlink{classns3_1_1MobilityModel_a77004c56b45773bf57bdd3750887ced3}{GetVelocity} ().y, 2));
111       sum\_x += model->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition} ().x;
112       sum\_y += model->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition} ().y;
113       sum\_v += velocity;
114     \}
115   \textcolor{keywordtype}{double} mean\_x = sum\_x / \hyperlink{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}{count};
116   \textcolor{keywordtype}{double} mean\_y = sum\_y / \hyperlink{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}{count};
117   \textcolor{keywordtype}{double} mean\_v = sum\_v / \hyperlink{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}{count};
118 
119   \hyperlink{group__testing_ga7927b376d1fed5e576c7a3d69d26e8a0}{NS\_TEST\_EXPECT\_MSG\_EQ\_TOL} (mean\_x, 500, 25.0, \textcolor{stringliteral}{"Got unexpected x-position mean
       value"});
120   \hyperlink{group__testing_ga7927b376d1fed5e576c7a3d69d26e8a0}{NS\_TEST\_EXPECT\_MSG\_EQ\_TOL} (mean\_y, 300, 15.0, \textcolor{stringliteral}{"Got unexpected y-position mean
       value"});
121   \hyperlink{group__testing_ga7927b376d1fed5e576c7a3d69d26e8a0}{NS\_TEST\_EXPECT\_MSG\_EQ\_TOL} (mean\_v, 2.6, 0.13, \textcolor{stringliteral}{"Got unexpected velocity mean
       value"});
122 
123   sum\_x = 0;
124   sum\_y = 0;
125   sum\_v = 0;
126   \textcolor{keywordtype}{double} tmp;
127   \textcolor{keywordflow}{for} (i = \hyperlink{classSteadyStateRandomWaypointTest_a492bad1d2d921f57ea65e92e12dc3d8a}{mobilityStack}.begin (); i != \hyperlink{classSteadyStateRandomWaypointTest_a492bad1d2d921f57ea65e92e12dc3d8a}{mobilityStack}.end (); ++
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
128     \{
129       model = (*i);
130       velocity = std::sqrt (std::pow (model->\hyperlink{classns3_1_1MobilityModel_a77004c56b45773bf57bdd3750887ced3}{GetVelocity} ().x, 2) + std::pow (model->
      \hyperlink{classns3_1_1MobilityModel_a77004c56b45773bf57bdd3750887ced3}{GetVelocity} ().y, 2));
131       tmp = model->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition} ().x - mean\_x;
132       sum\_x += tmp * tmp;
133       tmp = model->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition} ().y - mean\_y;
134       sum\_y += tmp * tmp;
135       tmp = velocity - mean\_v;
136       sum\_v += tmp * tmp;
137     \}
138   \textcolor{keywordtype}{double} dev\_x = std::sqrt (sum\_x / (\hyperlink{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}{count} - 1));
139   \textcolor{keywordtype}{double} dev\_y = std::sqrt (sum\_y / (\hyperlink{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}{count} - 1));
140   \textcolor{keywordtype}{double} dev\_v = std::sqrt (sum\_v / (\hyperlink{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}{count} - 1));
141 
142   \hyperlink{group__testing_ga7927b376d1fed5e576c7a3d69d26e8a0}{NS\_TEST\_EXPECT\_MSG\_EQ\_TOL} (dev\_x, 230, 10.0, \textcolor{stringliteral}{"Got unexpected x-position standard
       deviation"});
143   \hyperlink{group__testing_ga7927b376d1fed5e576c7a3d69d26e8a0}{NS\_TEST\_EXPECT\_MSG\_EQ\_TOL} (dev\_y, 140, 7.0, \textcolor{stringliteral}{"Got unexpected y-position standard
       deviation"});
144   \hyperlink{group__testing_ga7927b376d1fed5e576c7a3d69d26e8a0}{NS\_TEST\_EXPECT\_MSG\_EQ\_TOL} (dev\_v, 4.4, 0.22, \textcolor{stringliteral}{"Got unexpected velocity standard
       deviation"});
145 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Steady\+State\+Random\+Waypoint\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classSteadyStateRandomWaypointTest_a06b559358eab241daa3a937a038729df}{}\label{classSteadyStateRandomWaypointTest_a06b559358eab241daa3a937a038729df}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
62 \{
63   SeedManager::SetSeed (123);
64 
65   \textcolor{comment}{// Total simulation time, seconds}
66   \textcolor{keywordtype}{double} totalTime = 1000;
67 
68   \hyperlink{classns3_1_1ObjectFactory}{ObjectFactory} mobilityFactory;
69   mobilityFactory.\hyperlink{classns3_1_1ObjectFactory_a77dcd099064038a1eb7a6b8251229ec3}{SetTypeId} (\textcolor{stringliteral}{"ns3::SteadyStateRandomWaypointMobilityModel"});
70   mobilityFactory.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"MinSpeed"}, DoubleValue (0.01));
71   mobilityFactory.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"MaxSpeed"}, DoubleValue (20.0));
72   mobilityFactory.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"MinPause"}, DoubleValue (0.0));
73   mobilityFactory.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"MaxPause"}, DoubleValue (0.0));
74   mobilityFactory.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"MinX"}, DoubleValue (0));
75   mobilityFactory.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"MaxX"}, DoubleValue (1000));
76   mobilityFactory.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"MinY"}, DoubleValue (0));
77   mobilityFactory.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"MaxY"}, DoubleValue (600));
78 
79   \textcolor{comment}{// Populate the vector of mobility models.}
80   \hyperlink{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}{count} = 10000;
81   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}{count}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
82     \{
83       \textcolor{comment}{// Create a new mobility model.}
84       \hyperlink{classns3_1_1Ptr}{Ptr<MobilityModel>} model = mobilityFactory.\hyperlink{classns3_1_1ObjectFactory_a18152e93f0a6fe184ed7300cb31e9896}{Create} ()->GetObject<
      \hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ();
85 
86       \textcolor{comment}{// Add this mobility model to the stack.}
87       \hyperlink{classSteadyStateRandomWaypointTest_a492bad1d2d921f57ea65e92e12dc3d8a}{mobilityStack}.push\_back (model);
88       Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0), &Object::Initialize, model);
89     \} 
90 
91   Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.001), &
      \hyperlink{classSteadyStateRandomWaypointTest_a7fec88fc2579b3c0601a8704e04584d3}{SteadyStateRandomWaypointTest::DistribCompare}, \textcolor{keyword}{this});
92   Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (totalTime), &
      \hyperlink{classSteadyStateRandomWaypointTest_a7fec88fc2579b3c0601a8704e04584d3}{SteadyStateRandomWaypointTest::DistribCompare}, \textcolor{keyword}{this});
93   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (totalTime));
94   Simulator::Run ();
95   Simulator::Destroy ();
96 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}!Do\+Teardown@{Do\+Teardown}}
\index{Do\+Teardown@{Do\+Teardown}!Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}}
\subsubsection[{\texorpdfstring{Do\+Teardown(void)}{DoTeardown(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Steady\+State\+Random\+Waypoint\+Test\+::\+Do\+Teardown (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classSteadyStateRandomWaypointTest_afc0a9be711bf8100bcf66a56b79caef4}{}\label{classSteadyStateRandomWaypointTest_afc0a9be711bf8100bcf66a56b79caef4}


Implementation to do any local setup required for this Test\+Case. 

Subclasses should override this method to perform any costly per-\/test teardown 

Reimplemented from \hyperlink{classns3_1_1TestCase_a8917f1604e28d312a8086f76291e3c46}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
56 \{
57   \hyperlink{classSteadyStateRandomWaypointTest_a492bad1d2d921f57ea65e92e12dc3d8a}{mobilityStack}.clear();
58 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}!count@{count}}
\index{count@{count}!Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}}
\subsubsection[{\texorpdfstring{count}{count}}]{\setlength{\rightskip}{0pt plus 5cm}double Steady\+State\+Random\+Waypoint\+Test\+::count\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}{}\label{classSteadyStateRandomWaypointTest_a48ac9d867be62c0407cbf2e8c3ad5e1b}


count 

\index{Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}!mobility\+Stack@{mobility\+Stack}}
\index{mobility\+Stack@{mobility\+Stack}!Steady\+State\+Random\+Waypoint\+Test@{Steady\+State\+Random\+Waypoint\+Test}}
\subsubsection[{\texorpdfstring{mobility\+Stack}{mobilityStack}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Ptr}$<${\bf Mobility\+Model}$>$ $>$ Steady\+State\+Random\+Waypoint\+Test\+::mobility\+Stack\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classSteadyStateRandomWaypointTest_a492bad1d2d921f57ea65e92e12dc3d8a}{}\label{classSteadyStateRandomWaypointTest_a492bad1d2d921f57ea65e92e12dc3d8a}


modility model 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
mobility/test/\hyperlink{steady-state-random-waypoint-mobility-model-test_8cc}{steady-\/state-\/random-\/waypoint-\/mobility-\/model-\/test.\+cc}\end{DoxyCompactItemize}
