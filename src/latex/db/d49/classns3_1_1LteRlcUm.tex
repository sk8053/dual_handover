\hypertarget{classns3_1_1LteRlcUm}{}\section{ns3\+:\+:Lte\+Rlc\+Um Class Reference}
\label{classns3_1_1LteRlcUm}\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}


{\ttfamily \#include $<$lte-\/rlc-\/um.\+h$>$}



Inheritance diagram for ns3\+:\+:Lte\+Rlc\+Um\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Lte\+Rlc\+Um\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1LteRlcUm_a04e9e432afa6587ef18dbdb41ebf2abd}{Lte\+Rlc\+Um} ()
\item 
virtual \hyperlink{classns3_1_1LteRlcUm_a29932c4ed627ca0e1fa487589d22dbd3}{$\sim$\+Lte\+Rlc\+Um} ()
\item 
virtual void \hyperlink{classns3_1_1LteRlcUm_ab83530e049aa5ff2a3a4dfdbf697d73a}{Do\+Dispose} ()
\item 
uint32\+\_\+t \hyperlink{classns3_1_1LteRlcUm_a67fe0e4cb826063abc9fbd30f651170a}{Get\+Max\+Buff} ()
\item 
virtual void \hyperlink{classns3_1_1LteRlcUm_ac7e23317792e8464ac9feafdcd7e1f74}{Do\+Transmit\+Pdcp\+Pdu} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
virtual void \hyperlink{classns3_1_1LteRlcUm_a50ee369eab559444208977e53b926027}{Do\+Send\+Mc\+Pdcp\+Sdu} (\hyperlink{structns3_1_1EpcX2Sap_1_1UeDataParams}{Epc\+X2\+Sap\+::\+Ue\+Data\+Params} params)
\item 
void \hyperlink{classns3_1_1LteRlcUm_a982377231676cdfa87ac26a4c182f239}{Do\+Send\+Assistant\+Information} (\hyperlink{structns3_1_1EpcX2Sap_1_1AssistantInformationForSplitting}{Epc\+X2\+Sap\+::\+Assistant\+Information\+For\+Splitting} info)
\item 
virtual void \hyperlink{classns3_1_1LteRlcUm_a54a1abae2b97a8a060bc42b6abbf3af4}{Do\+Notify\+Tx\+Opportunity} (uint32\+\_\+t bytes, uint8\+\_\+t layer, uint8\+\_\+t harq\+Id)
\item 
virtual void \hyperlink{classns3_1_1LteRlcUm_aa2e60c51b4d625fd6b2019b743c89928}{Do\+Notify\+Harq\+Delivery\+Failure} ()
\item 
virtual void \hyperlink{classns3_1_1LteRlcUm_aaba57757b1c5640b7bbe421efb82417a}{Do\+Receive\+Pdu} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
virtual void \hyperlink{classns3_1_1LteRlcUm_a54fff036c0cfaf8a314a375578f410bc}{Calculate\+Path\+Throughput} (std\+::ofstream $\ast$\hyperlink{classns3_1_1LteRlcUm_a8509783beb5d5625757bdf93549079f6}{stream})
\item 
void \hyperlink{classns3_1_1LteRlcUm_a36b2e6ac1128537564f8f19084cd0122}{Calculate\+Throughput} ()
\item 
virtual void \hyperlink{classns3_1_1LteRlcUm_a59e76c0cc98ee8140467ca4a338412a9}{Do\+Request\+Assistant\+Info} ()
\item 
std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LteRlcUm_a85f2e552cc7a048a195b338c633a0d25}{Get\+Tx\+Buffer} ()
\item 
uint32\+\_\+t \hyperlink{classns3_1_1LteRlcUm_aa88fc55de6c2f858e0e2952131899afc}{Get\+Tx\+Buffer\+Size} ()
\item 
void \hyperlink{classns3_1_1LteRlcUm_a7967ba7b2cf55092391ef32bd19dcd1f}{Recording\+Queue\+Statistics} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1LteRlcUm_a119b2b1273c42483a050896d5232829d}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6}{Reassembling\+State\+\_\+t} \{ \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a8917b9b979705115692b505de8098394}{N\+O\+NE} = 0, 
\hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{W\+A\+I\+T\+I\+N\+G\+\_\+\+S0\+\_\+\+F\+U\+LL} = 1, 
\hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{W\+A\+I\+T\+I\+N\+G\+\_\+\+S\+I\+\_\+\+SF} = 2
 \}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1LteRlcUm_af17c5fa995d3a0ca3b1e4edfd18e4c3d}{Expire\+Reordering\+Timer} (void)
\item 
void \hyperlink{classns3_1_1LteRlcUm_aaec66683c9a4e4b40965f0d85a3ce338}{Expire\+Rbs\+Timer} (void)
\item 
bool \hyperlink{classns3_1_1LteRlcUm_af9dc02493802d28c36558a1f1324cd4c}{Is\+Inside\+Reordering\+Window} (\hyperlink{classns3_1_1SequenceNumber10}{Sequence\+Number10} seq\+Number)
\item 
void \hyperlink{classns3_1_1LteRlcUm_a49f67e2001fc4609ef592ccda50606ab}{Reassemble\+Outside\+Window} (void)
\item 
void \hyperlink{classns3_1_1LteRlcUm_a6c396626a8b5e65d70783e603486c832}{Reassemble\+Sn\+Interval} (\hyperlink{classns3_1_1SequenceNumber10}{Sequence\+Number10} low\+Seq\+Number, \hyperlink{classns3_1_1SequenceNumber10}{Sequence\+Number10} high\+Seq\+Number)
\item 
void \hyperlink{classns3_1_1LteRlcUm_a103ba1e3d14eb2604a44d1bef7fe7cb7}{Reassemble\+And\+Deliver} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet)
\item 
void \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{Trigger\+Receive\+Pdcp\+Pdu} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
void \hyperlink{classns3_1_1LteRlcUm_a10fa1eb47a69669c1d0a61d1f8b05378}{Do\+Report\+Buffer\+Status} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1LteRlcUm_ad65c6605ca578b8085d9f40f89265ea3}{m\+\_\+max\+Tx\+Buffer\+Size}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\+\_\+tx\+Buffer\+Size}
\item 
std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\+\_\+tx\+Buffer}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\+\_\+rx\+Buffer}
\item 
std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LteRlcUm_a9d886a26e8b8318d5d110eb3da537b0c}{m\+\_\+reas\+Buffer}
\item 
\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\+\_\+sdus\+Buffer}
\item 
\hyperlink{classns3_1_1SequenceNumber10}{Sequence\+Number10} \hyperlink{classns3_1_1LteRlcUm_afd06062cf128aecdc2f7c3f29ea8a8ad}{m\+\_\+sequence\+Number}
\item 
\hyperlink{classns3_1_1SequenceNumber10}{Sequence\+Number10} \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\+\_\+vr\+Ur}
\item 
\hyperlink{classns3_1_1SequenceNumber10}{Sequence\+Number10} \hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\+\_\+vr\+Ux}
\item 
\hyperlink{classns3_1_1SequenceNumber10}{Sequence\+Number10} \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\+\_\+vr\+Uh}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\+\_\+window\+Size}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1LteRlcUm_ae8e4293eb470550bbbc9f98c3a3dde58}{m\+\_\+reordering\+Timer}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1LteRlcUm_a8196c33f6c1c18fe6dae6be6639f8c06}{m\+\_\+rbs\+Timer}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1LteRlcUm_af24ae932eded5469f4ad2185b656bee1}{m\+\_\+\+Tput\+\_\+\+Calculator}
\item 
bool \hyperlink{classns3_1_1LteRlcUm_a33e4345196c0c97f6b1954e108ccbb45}{is\+Enbale\+Measuring} =\hyperlink{lte__cqi__generation_8m_ab1bef239d413c4da139c4bac92cd657a}{false}
\item 
\hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6}{Reassembling\+State\+\_\+t} \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\+\_\+reassembling\+State}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\+\_\+keep\+S0}
\item 
\hyperlink{classns3_1_1SequenceNumber10}{Sequence\+Number10} \hyperlink{classns3_1_1LteRlcUm_a55c7d22f64cc0dcebab7caf96dbac1e3}{m\+\_\+expected\+Seq\+Number}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LteRlcUm_aa73359807fbf8026a89c765b619e0e30}{Total\+Packets} =0
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LteRlcUm_a015feff20aa27cbdb84c18fbdb482027}{last\+Sum\+Packet\+Size}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}{sum\+Packet\+Size}
\item 
double \hyperlink{classns3_1_1LteRlcUm_a94d9298d5b49e9f301caacf6c849eacc}{Total\+Time} =0.\+0
\item 
std\+::ofstream $\ast$ \hyperlink{classns3_1_1LteRlcUm_a8509783beb5d5625757bdf93549079f6}{stream}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1LteRlcUm_a14a499b2042957fefdeb2ed75a090c5c}{Tx\+Queue\+Size}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1LteRlcUm_aeeec4694ffd96880f4a05c5e200c97b4}{Tx\+Queuing\+Delay}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
L\+TE R\+LC Unacknowledged Mode (UM), see 3\+G\+PP TS 36.\+322 

\subsection{Member Enumeration Documentation}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Reassembling\+State\+\_\+t@{Reassembling\+State\+\_\+t}}
\index{Reassembling\+State\+\_\+t@{Reassembling\+State\+\_\+t}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Reassembling\+State\+\_\+t}{ReassemblingState_t}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf ns3\+::\+Lte\+Rlc\+Um\+::\+Reassembling\+State\+\_\+t}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6}{}\label{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6}
Reassembling state \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{N\+O\+NE@{N\+O\+NE}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!N\+O\+NE@{N\+O\+NE}}\item[{\em 
N\+O\+NE\hypertarget{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a8917b9b979705115692b505de8098394}{}\label{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a8917b9b979705115692b505de8098394}
}]\index{W\+A\+I\+T\+I\+N\+G\+\_\+\+S0\+\_\+\+F\+U\+LL@{W\+A\+I\+T\+I\+N\+G\+\_\+\+S0\+\_\+\+F\+U\+LL}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!W\+A\+I\+T\+I\+N\+G\+\_\+\+S0\+\_\+\+F\+U\+LL@{W\+A\+I\+T\+I\+N\+G\+\_\+\+S0\+\_\+\+F\+U\+LL}}\item[{\em 
W\+A\+I\+T\+I\+N\+G\+\_\+\+S0\+\_\+\+F\+U\+LL\hypertarget{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{}\label{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}
}]\index{W\+A\+I\+T\+I\+N\+G\+\_\+\+S\+I\+\_\+\+SF@{W\+A\+I\+T\+I\+N\+G\+\_\+\+S\+I\+\_\+\+SF}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!W\+A\+I\+T\+I\+N\+G\+\_\+\+S\+I\+\_\+\+SF@{W\+A\+I\+T\+I\+N\+G\+\_\+\+S\+I\+\_\+\+SF}}\item[{\em 
W\+A\+I\+T\+I\+N\+G\+\_\+\+S\+I\+\_\+\+SF\hypertarget{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{}\label{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
122                \{ \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a8917b9b979705115692b505de8098394}{NONE}            = 0,
123                  \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL} = 1,
124                  \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF}   = 2 \} \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6}{ReassemblingState\_t};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Lte\+Rlc\+Um@{Lte\+Rlc\+Um}}
\index{Lte\+Rlc\+Um@{Lte\+Rlc\+Um}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Lte\+Rlc\+Um()}{LteRlcUm()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Lte\+Rlc\+Um\+::\+Lte\+Rlc\+Um (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LteRlcUm_a04e9e432afa6587ef18dbdb41ebf2abd}{}\label{classns3_1_1LteRlcUm_a04e9e432afa6587ef18dbdb41ebf2abd}

\begin{DoxyCode}
40   : \hyperlink{classns3_1_1LteRlcUm_ad65c6605ca578b8085d9f40f89265ea3}{m\_maxTxBufferSize} (10 * 1024),
41     \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize} (0),
42     \hyperlink{classns3_1_1LteRlcUm_afd06062cf128aecdc2f7c3f29ea8a8ad}{m\_sequenceNumber} (0),
43     \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr} (0),
44     \hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx} (0),
45     \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} (0),
46     \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize} (512),
47     \hyperlink{classns3_1_1LteRlcUm_a55c7d22f64cc0dcebab7caf96dbac1e3}{m\_expectedSeqNumber} (0)
48 \{
49   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
50   \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
51   \hyperlink{classns3_1_1LteRlc_afa3f5aa58945c36aa3cde6059423da0f}{m\_epcX2RlcUser} = \textcolor{keyword}{new} EpcX2RlcSpecificUser<LteRlcUm> (\textcolor{keyword}{this});
52   \hyperlink{classns3_1_1LteRlc_aa997bbf2807b79443887abd57facd1c8}{m\_epcX2RlcProvider} = 0;
53   \hyperlink{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}{sumPacketSize}=0;
54   \hyperlink{classns3_1_1LteRlcUm_a015feff20aa27cbdb84c18fbdb482027}{lastSumPacketSize} =0;
55   \hyperlink{classns3_1_1LteRlcUm_a94d9298d5b49e9f301caacf6c849eacc}{TotalTime} =0.0;
56   this->\hyperlink{classns3_1_1LteRlcUm_a33e4345196c0c97f6b1954e108ccbb45}{isEnbaleMeasuring}=\textcolor{keyword}{false}; \textcolor{comment}{//sjkang}
57 
58 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!````~Lte\+Rlc\+Um@{$\sim$\+Lte\+Rlc\+Um}}
\index{````~Lte\+Rlc\+Um@{$\sim$\+Lte\+Rlc\+Um}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{$\sim$\+Lte\+Rlc\+Um()}{~LteRlcUm()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Lte\+Rlc\+Um\+::$\sim$\+Lte\+Rlc\+Um (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteRlcUm_a29932c4ed627ca0e1fa487589d22dbd3}{}\label{classns3_1_1LteRlcUm_a29932c4ed627ca0e1fa487589d22dbd3}

\begin{DoxyCode}
61 \{
62   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
63 \textcolor{comment}{//  std::cout<< "RlcUmDestried  " << this << std::endl;}
64 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Calculate\+Path\+Throughput@{Calculate\+Path\+Throughput}}
\index{Calculate\+Path\+Throughput@{Calculate\+Path\+Throughput}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Calculate\+Path\+Throughput(std\+::ofstream $\ast$stream)}{CalculatePathThroughput(std::ofstream *stream)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Calculate\+Path\+Throughput (
\begin{DoxyParamCaption}
\item[{std\+::ofstream $\ast$}]{stream}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteRlcUm_a54fff036c0cfaf8a314a375578f410bc}{}\label{classns3_1_1LteRlcUm_a54fff036c0cfaf8a314a375578f410bc}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000096}{Todo}]M\+RE What is the sense to duplicate all the interfaces here??? \end{DoxyRefDesc}


Implements \hyperlink{classns3_1_1LteRlc_ae5a28f7f749925a56655b672810142f5}{ns3\+::\+Lte\+Rlc}.


\begin{DoxyCode}
1270 \{
1271         this->\hyperlink{classns3_1_1LteRlcUm_a8509783beb5d5625757bdf93549079f6}{stream} = \hyperlink{classns3_1_1LteRlcUm_a8509783beb5d5625757bdf93549079f6}{stream};
1272 \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} now = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();                                         \textcolor{comment}{/* Return the
       simulator's virtual time. */}
1273   \textcolor{keywordtype}{double} cur = (\hyperlink{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}{sumPacketSize} - \hyperlink{classns3_1_1LteRlcUm_a015feff20aa27cbdb84c18fbdb482027}{lastSumPacketSize}) * (\textcolor{keywordtype}{double}) 8 / 1e5;     \textcolor{comment}{/*
       Convert Application RX Packets to MBits. */}
1274 \hyperlink{classns3_1_1LteRlcUm_aa73359807fbf8026a89c765b619e0e30}{TotalPackets} =\hyperlink{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}{sumPacketSize};
1275 \hyperlink{classns3_1_1LteRlcUm_a94d9298d5b49e9f301caacf6c849eacc}{TotalTime} += 0.1;
1276 \textcolor{comment}{//this->stream=stream;}
1277 \textcolor{comment}{/*if (now.GetSeconds()>= m\_simulationTime.GetSeconds()+1.0 && countAtRlc == 0 )\{}
1278 \textcolor{comment}{        outputAtRlc<< cur << "\(\backslash\)t";}
1279 \textcolor{comment}{        countAtRlc =1;}
1280 \textcolor{comment}{        t\_Address =this;}
1281 \textcolor{comment}{        throughputAtSenb = cur;}
1282 \textcolor{comment}{\}}
1283 \textcolor{comment}{else if (now.GetSeconds() >=m\_simulationTime.GetSeconds()+1.0 && countAtRlc ==1 && t\_Address != this )\{}
1284 \textcolor{comment}{        outputAtRlc<< cur << "\(\backslash\)t" <<std::endl;}
1285 \textcolor{comment}{        countAtRlc =2;}
1286 \textcolor{comment}{        outputAtRlc.close();}
1287 \textcolor{comment}{        set\_1<<"\(\backslash\)t" << cur << "\(\backslash\)t" << throughputAtSenb << std::endl;}
1288 \textcolor{comment}{    set\_1.close();}
1289 \textcolor{comment}{\} */}
1290   *\hyperlink{classns3_1_1LteRlcUm_a8509783beb5d5625757bdf93549079f6}{stream} << now.GetSeconds () << \textcolor{stringliteral}{"\(\backslash\)t"} << cur << \textcolor{stringliteral}{"\(\backslash\)t"}<< (double)((
      \hyperlink{classns3_1_1LteRlcUm_aa73359807fbf8026a89c765b619e0e30}{TotalPackets}*8)/\hyperlink{classns3_1_1LteRlcUm_a94d9298d5b49e9f301caacf6c849eacc}{TotalTime})/1e6 <<std::endl;
1291   \hyperlink{classns3_1_1LteRlcUm_a015feff20aa27cbdb84c18fbdb482027}{lastSumPacketSize} = \hyperlink{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}{sumPacketSize};
1292   \textcolor{comment}{//if(isEnbaleMeasuring)}
1293  \textcolor{comment}{// std::cout << this<<"\(\backslash\)t"<<sumPacketSize<< std::endl;}
1294 \textcolor{comment}{// m\_Tput\_Calculator = Simulator::Schedule (MilliSeconds (100), &LteRlcUm::CalculatePathThroughput,this ,
       stream);}
1295   \hyperlink{classns3_1_1LteRlcUm_a33e4345196c0c97f6b1954e108ccbb45}{isEnbaleMeasuring} =\textcolor{keyword}{true};
1296   \hyperlink{classns3_1_1LteRlcUm_af24ae932eded5469f4ad2185b656bee1}{m\_Tput\_Calculator}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel}();
1297   \textcolor{comment}{//ccc+=5;*/}
1298 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Calculate\+Throughput@{Calculate\+Throughput}}
\index{Calculate\+Throughput@{Calculate\+Throughput}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Calculate\+Throughput()}{CalculateThroughput()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Calculate\+Throughput (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LteRlcUm_a36b2e6ac1128537564f8f19084cd0122}{}\label{classns3_1_1LteRlcUm_a36b2e6ac1128537564f8f19084cd0122}

\begin{DoxyCode}
1300                              \{
1301          \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} now = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();                                         \textcolor{comment}{/* Return
       the simulator's virtual time. */}
1302           \textcolor{keywordtype}{double} cur = (\hyperlink{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}{sumPacketSize} - \hyperlink{classns3_1_1LteRlcUm_a015feff20aa27cbdb84c18fbdb482027}{lastSumPacketSize}) * (\textcolor{keywordtype}{double}) 8 / 1e5
      ;     \textcolor{comment}{/* Convert Application RX Packets to MBits. */}
1303         \hyperlink{classns3_1_1LteRlcUm_aa73359807fbf8026a89c765b619e0e30}{TotalPackets} =\hyperlink{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}{sumPacketSize};
1304         \hyperlink{classns3_1_1LteRlcUm_a94d9298d5b49e9f301caacf6c849eacc}{TotalTime} += 0.1;
1305         \textcolor{comment}{//this->stream=stream;}
1306         \textcolor{comment}{/*if (now.GetSeconds()>= m\_simulationTime.GetSeconds()+1.0 && countAtRlc == 0 )\{}
1307 \textcolor{comment}{                outputAtRlc<< cur << "\(\backslash\)t";}
1308 \textcolor{comment}{                countAtRlc =1;}
1309 \textcolor{comment}{                t\_Address =this;}
1310 \textcolor{comment}{                throughputAtSenb = cur;}
1311 \textcolor{comment}{        \}}
1312 \textcolor{comment}{        else if (now.GetSeconds() >=m\_simulationTime.GetSeconds()+1.0 && countAtRlc ==1 && t\_Address !=
       this )\{}
1313 \textcolor{comment}{                outputAtRlc<< cur << "\(\backslash\)t" <<std::endl;}
1314 \textcolor{comment}{                countAtRlc =2;}
1315 \textcolor{comment}{                outputAtRlc.close();}
1316 \textcolor{comment}{                set\_1<<"\(\backslash\)t" << cur << "\(\backslash\)t" << throughputAtSenb << std::endl;}
1317 \textcolor{comment}{            set\_1.close();}
1318 \textcolor{comment}{        \} */}
1319           *\hyperlink{classns3_1_1LteRlcUm_a8509783beb5d5625757bdf93549079f6}{stream} << now.GetSeconds () << \textcolor{stringliteral}{"\(\backslash\)t"} << cur << \textcolor{stringliteral}{"\(\backslash\)t"}<<(double)((
      \hyperlink{classns3_1_1LteRlcUm_aa73359807fbf8026a89c765b619e0e30}{TotalPackets}*8)/\hyperlink{classns3_1_1LteRlcUm_a94d9298d5b49e9f301caacf6c849eacc}{TotalTime})/1e6 <<std::endl;
1320           \hyperlink{classns3_1_1LteRlcUm_a015feff20aa27cbdb84c18fbdb482027}{lastSumPacketSize} = \hyperlink{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}{sumPacketSize};
1321           \textcolor{comment}{//if(isEnbaleMeasuring)}
1322           \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (100), &
      \hyperlink{classns3_1_1LteRlcUm_a54fff036c0cfaf8a314a375578f410bc}{LteRlcUm::CalculatePathThroughput},\textcolor{keyword}{this} , \hyperlink{classns3_1_1LteRlcUm_a8509783beb5d5625757bdf93549079f6}{stream});
1323 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteRlcUm_ab83530e049aa5ff2a3a4dfdbf697d73a}{}\label{classns3_1_1LteRlcUm_ab83530e049aa5ff2a3a4dfdbf697d73a}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1LteRlcUm_ab83530e049aa5ff2a3a4dfdbf697d73a}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1LteRlc_a6abc1e07937a04aabd869fedcc43371e}{ns3\+::\+Lte\+Rlc}.


\begin{DoxyCode}
84 \{
85   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
86   \hyperlink{classns3_1_1LteRlcUm_ae8e4293eb470550bbbc9f98c3a3dde58}{m\_reorderingTimer}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
87   \hyperlink{classns3_1_1LteRlcUm_a8196c33f6c1c18fe6dae6be6639f8c06}{m\_rbsTimer}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
88   \hyperlink{classns3_1_1LteRlcUm_af24ae932eded5469f4ad2185b656bee1}{m\_Tput\_Calculator}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel}();
89   \textcolor{comment}{//isEnbaleMeasuring =false;}
90   \hyperlink{classns3_1_1LteRlc_a6abc1e07937a04aabd869fedcc43371e}{LteRlc::DoDispose} ();
91 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Do\+Notify\+Harq\+Delivery\+Failure@{Do\+Notify\+Harq\+Delivery\+Failure}}
\index{Do\+Notify\+Harq\+Delivery\+Failure@{Do\+Notify\+Harq\+Delivery\+Failure}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Do\+Notify\+Harq\+Delivery\+Failure()}{DoNotifyHarqDeliveryFailure()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Do\+Notify\+Harq\+Delivery\+Failure (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteRlcUm_aa2e60c51b4d625fd6b2019b743c89928}{}\label{classns3_1_1LteRlcUm_aa2e60c51b4d625fd6b2019b743c89928}


Implements \hyperlink{classns3_1_1LteRlc_ab0997ae77359f7a53ae33ebb3c1f6e02}{ns3\+::\+Lte\+Rlc}.


\begin{DoxyCode}
422 \{
423   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
424 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Do\+Notify\+Tx\+Opportunity@{Do\+Notify\+Tx\+Opportunity}}
\index{Do\+Notify\+Tx\+Opportunity@{Do\+Notify\+Tx\+Opportunity}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Do\+Notify\+Tx\+Opportunity(uint32\+\_\+t bytes, uint8\+\_\+t layer, uint8\+\_\+t harq\+Id)}{DoNotifyTxOpportunity(uint32_t bytes, uint8_t layer, uint8_t harqId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Do\+Notify\+Tx\+Opportunity (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{bytes, }
\item[{uint8\+\_\+t}]{layer, }
\item[{uint8\+\_\+t}]{harq\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteRlcUm_a54a1abae2b97a8a060bc42b6abbf3af4}{}\label{classns3_1_1LteRlcUm_a54a1abae2b97a8a060bc42b6abbf3af4}
M\+AC S\+AP 

Implements \hyperlink{classns3_1_1LteRlc_aee0c0620f4f1cd04fa08c78438cb3529}{ns3\+::\+Lte\+Rlc}.


\begin{DoxyCode}
153 \{
154   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteRlc_a48ab0a78e7f2687337075b1c8832df70}{m\_rnti} << (uint32\_t) \hyperlink{classns3_1_1LteRlc_a051085e9b27883e7ba4b98ad7242fd8a}{m\_lcid} << bytes);
155 
156   \textcolor{keywordflow}{if} (bytes <= 2)
157     \{
158       \textcolor{comment}{// Stingy MAC: Header fix part is 2 bytes, we need more bytes for the data}
159       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"TX opportunity too small = "} << bytes);
160       \textcolor{keywordflow}{return};
161     \}
162 
163   Ptr<Packet> packet = Create<Packet> ();
164   LteRlcHeader rlcHeader;
165 
166   \textcolor{comment}{// Build Data field}
167   uint32\_t nextSegmentSize = bytes - 2;
168   uint32\_t nextSegmentId = 1;
169   uint32\_t dataFieldTotalSize = 0;
170   uint32\_t dataFieldAddedSize = 0;
171   std::vector < Ptr<Packet> > dataField;
172 
173   \textcolor{comment}{// Remove the first packet from the transmission buffer.}
174   \textcolor{comment}{// If only a segment of the packet is taken, then the remaining is given back later}
175   \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.size () == 0 )
176     \{
177       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"No data pending"});
178       \textcolor{keywordflow}{return};
179     \}
180 
181   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"SDUs in TxBuffer  = "} << \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.size ());
182   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"First SDU buffer  = "} << *(\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin()));
183   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"First SDU size    = "} << (*(\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin()))->GetSize ());
184   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Next segment size = "} << nextSegmentSize);
185   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Remove SDU from TxBuffer"});
186   Ptr<Packet> firstSegment = (*(\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin ()))->Copy ();
187   \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize} -= (*(\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin()))->GetSize ();
188   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"txBufferSize      = "} << \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize} );
189   \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.erase (\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin ());
190 
191   \textcolor{keywordflow}{while} ( firstSegment && (firstSegment->GetSize () > 0) && (nextSegmentSize > 0) )
192     \{
193       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"WHILE ( firstSegment && firstSegment->GetSize > 0 && nextSegmentSize > 0 )
      "});
194       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    firstSegment size = "} << firstSegment->GetSize ());
195       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    nextSegmentSize   = "} << nextSegmentSize);
196       \textcolor{keywordflow}{if} ( (firstSegment->GetSize () > nextSegmentSize) ||
197            \textcolor{comment}{// Segment larger than 2047 octets can only be mapped to the end of the Data field}
198            (firstSegment->GetSize () > 2047)
199          )
200         \{
201           \textcolor{comment}{// Take the minimum size, due to the 2047-bytes 3GPP exception}
202           \textcolor{comment}{// This exception is due to the length of the LI field (just 11 bits)}
203           uint32\_t currSegmentSize = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (firstSegment->GetSize (), nextSegmentSize);
204 
205           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    IF ( firstSegment > nextSegmentSize ||"});
206           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"         firstSegment > 2047 )"});
207 
208           \textcolor{comment}{// Segment txBuffer.FirstBuffer and}
209           \textcolor{comment}{// Give back the remaining segment to the transmission buffer}
210           Ptr<Packet> newSegment = firstSegment->CreateFragment (0, currSegmentSize);
211           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    newSegment size   = "} << newSegment->GetSize ());
212 
213           \textcolor{comment}{// Status tag of the new and remaining segments}
214           \textcolor{comment}{// Note: This is the only place where a PDU is segmented and}
215           \textcolor{comment}{// therefore its status can change}
216           LteRlcSduStatusTag oldTag, newTag;
217           firstSegment->RemovePacketTag (oldTag);
218           newSegment->RemovePacketTag (newTag);
219           \textcolor{keywordflow}{if} (oldTag.GetStatus () == \hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133ade41b0025c66cd211e992196f314d4a5}{LteRlcSduStatusTag::FULL\_SDU})
220             \{
221               newTag.SetStatus (\hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133afda65e6233ba6fd1cd8aacf54cd11269}{LteRlcSduStatusTag::FIRST\_SEGMENT});
222               oldTag.SetStatus (\hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133a4e59540a0a5c4530b61e4feda355be7b}{LteRlcSduStatusTag::LAST\_SEGMENT});
223             \}
224           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (oldTag.GetStatus () == \hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133a4e59540a0a5c4530b61e4feda355be7b}{LteRlcSduStatusTag::LAST\_SEGMENT})
225             \{
226               newTag.SetStatus (\hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133a37a54694d337625c0c8541e3008d1d64}{LteRlcSduStatusTag::MIDDLE\_SEGMENT});
227               \textcolor{comment}{//oldTag.SetStatus (LteRlcSduStatusTag::LAST\_SEGMENT);}
228             \}
229 
230           \textcolor{comment}{// Give back the remaining segment to the transmission buffer}
231           firstSegment->RemoveAtStart (currSegmentSize);
232           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    firstSegment size (after RemoveAtStart) = "} << firstSegment->
      GetSize ());
233           \textcolor{keywordflow}{if} (firstSegment->GetSize () > 0)
234             \{
235               firstSegment->AddPacketTag (oldTag);
236 
237               \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.insert (\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin (), firstSegment);
238               \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize} += (*(\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin()))->GetSize ();
239 
240               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    TX buffer: Give back the remaining segment"});
241               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    TX buffers = "} << \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.size ());
242               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    Front buffer size = "} << (*(
      \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin()))->GetSize ());
243               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    txBufferSize = "} << \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize} );
244             \}
245           \textcolor{keywordflow}{else}
246             \{
247               \textcolor{comment}{// Whole segment was taken, so adjust tag}
248               \textcolor{keywordflow}{if} (newTag.GetStatus () == \hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133afda65e6233ba6fd1cd8aacf54cd11269}{LteRlcSduStatusTag::FIRST\_SEGMENT}
      )
249                 \{
250                   newTag.SetStatus (\hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133ade41b0025c66cd211e992196f314d4a5}{LteRlcSduStatusTag::FULL\_SDU});
251                 \}
252               \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (newTag.GetStatus () == \hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133a37a54694d337625c0c8541e3008d1d64}{LteRlcSduStatusTag::MIDDLE\_SEGMENT}
      )
253                 \{
254                   newTag.SetStatus (\hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133a4e59540a0a5c4530b61e4feda355be7b}{LteRlcSduStatusTag::LAST\_SEGMENT});
255                 \}
256             \}
257           \textcolor{comment}{// Segment is completely taken or}
258           \textcolor{comment}{// the remaining segment is given back to the transmission buffer}
259           firstSegment = 0;
260 
261           \textcolor{comment}{// Put status tag once it has been adjusted}
262           newSegment->AddPacketTag (newTag);
263 
264           \textcolor{comment}{// Add Segment to Data field}
265           dataFieldAddedSize = newSegment->GetSize ();
266           dataFieldTotalSize += dataFieldAddedSize;
267           dataField.push\_back (newSegment);
268           newSegment = 0;
269 
270           \textcolor{comment}{// ExtensionBit (Next\_Segment - 1) = 0}
271           rlcHeader.PushExtensionBit (\hyperlink{classns3_1_1LteRlcHeader_a48248337dcddd6c1f6f79b75b898266aa244934a97b8fe6ca2786896ca48f04dd}{LteRlcHeader::DATA\_FIELD\_FOLLOWS});
272 
273           \textcolor{comment}{// no LengthIndicator for the last one}
274 
275           nextSegmentSize -= dataFieldAddedSize;
276           nextSegmentId++;
277 
278           \textcolor{comment}{// nextSegmentSize MUST be zero (only if segment is smaller or equal to 2047)}
279 
280           \textcolor{comment}{// (NO more segments) → exit}
281           \textcolor{comment}{// break;}
282         \}
283       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (nextSegmentSize - firstSegment->GetSize () <= 2) || (\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.size () == 0) )
284         \{
285           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    IF nextSegmentSize - firstSegment->GetSize () <= 2 ||
       txBuffer.size == 0"});
286           \textcolor{comment}{// Add txBuffer.FirstBuffer to DataField}
287           dataFieldAddedSize = firstSegment->GetSize ();
288           dataFieldTotalSize += dataFieldAddedSize;
289           dataField.push\_back (firstSegment);
290           firstSegment = 0;
291 
292           \textcolor{comment}{// ExtensionBit (Next\_Segment - 1) = 0}
293           rlcHeader.PushExtensionBit (\hyperlink{classns3_1_1LteRlcHeader_a48248337dcddd6c1f6f79b75b898266aa244934a97b8fe6ca2786896ca48f04dd}{LteRlcHeader::DATA\_FIELD\_FOLLOWS});
294 
295           \textcolor{comment}{// no LengthIndicator for the last one}
296 
297           nextSegmentSize -= dataFieldAddedSize;
298           nextSegmentId++;
299 
300           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"        SDUs in TxBuffer  = "} << \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.size ());
301           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.size () > 0)
302             \{
303               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"        First SDU buffer  = "} << *(
      \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin()));
304               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"        First SDU size    = "} << (*(
      \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin()))->GetSize ());
305             \}
306           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"        Next segment size = "} << nextSegmentSize);
307 
308           \textcolor{comment}{// nextSegmentSize <= 2 (only if txBuffer is not empty)}
309 
310           \textcolor{comment}{// (NO more segments) → exit}
311           \textcolor{comment}{// break;}
312         \}
313       \textcolor{keywordflow}{else} \textcolor{comment}{// (firstSegment->GetSize () < m\_nextSegmentSize) && (m\_txBuffer.size () > 0)}
314         \{
315           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"    IF firstSegment < NextSegmentSize && txBuffer.size > 0"});
316           \textcolor{comment}{// Add txBuffer.FirstBuffer to DataField}
317           dataFieldAddedSize = firstSegment->GetSize ();
318           dataFieldTotalSize += dataFieldAddedSize;
319           dataField.push\_back (firstSegment);
320 
321           \textcolor{comment}{// ExtensionBit (Next\_Segment - 1) = 1}
322           rlcHeader.PushExtensionBit (\hyperlink{classns3_1_1LteRlcHeader_a48248337dcddd6c1f6f79b75b898266aac938d14a69d34c1fbea6822591cfe9de}{LteRlcHeader::E\_LI\_FIELDS\_FOLLOWS});
323 
324           \textcolor{comment}{// LengthIndicator (Next\_Segment)  = txBuffer.FirstBuffer.length()}
325           rlcHeader.PushLengthIndicator (firstSegment->GetSize ());
326 
327           nextSegmentSize -= ((nextSegmentId % 2) ? (2) : (1)) + dataFieldAddedSize;
328           nextSegmentId++;
329 
330           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"        SDUs in TxBuffer  = "} << \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.size ());
331           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.size () > 0)
332             \{
333               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"        First SDU buffer  = "} << *(
      \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin()));
334               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"        First SDU size    = "} << (*(
      \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin()))->GetSize ());
335             \}
336           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"        Next segment size = "} << nextSegmentSize);
337           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"        Remove SDU from TxBuffer"});
338 
339           \textcolor{comment}{// (more segments)}
340           firstSegment = (*(\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin ()))->Copy ();
341           \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize} -= (*(\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin()))->GetSize ();
342           \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.erase (\hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.begin ());
343           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"        txBufferSize = "} << \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize} );
344         \}
345 
346     \}
347 
348   \textcolor{comment}{// Build RLC header}
349   rlcHeader.SetSequenceNumber (\hyperlink{classns3_1_1LteRlcUm_afd06062cf128aecdc2f7c3f29ea8a8ad}{m\_sequenceNumber}++);
350 
351   \textcolor{comment}{// Build RLC PDU with DataField and Header}
352   std::vector< Ptr<Packet> >::iterator it;
353   it = dataField.begin ();
354 
355   uint8\_t framingInfo = 0;
356 
357   \textcolor{comment}{// FIRST SEGMENT}
358   LteRlcSduStatusTag tag;
359   (*it)->RemovePacketTag (tag);
360   \textcolor{keywordflow}{if} ( (tag.GetStatus () == \hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133ade41b0025c66cd211e992196f314d4a5}{LteRlcSduStatusTag::FULL\_SDU}) ||
361         (tag.GetStatus () == \hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133afda65e6233ba6fd1cd8aacf54cd11269}{LteRlcSduStatusTag::FIRST\_SEGMENT}) )
362     \{
363       framingInfo |= \hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0deaa3a14c19603556ac2ead7440fd6d54ba}{LteRlcHeader::FIRST\_BYTE};
364     \}
365   \textcolor{keywordflow}{else}
366     \{
367       framingInfo |= \hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0dea610c4bd2a31d4896f4bb1d08cb96dfbb}{LteRlcHeader::NO\_FIRST\_BYTE};
368     \}
369   (*it)->AddPacketTag (tag);
370 
371   \textcolor{keywordflow}{while} (it < dataField.end ())
372     \{
373       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Adding SDU/segment to packet, length = "} << (*it)->GetSize ());
374 
375       packet->AddAtEnd (*it);
376       it++;
377     \}
378 
379   \textcolor{comment}{// LAST SEGMENT (Note: There could be only one and be the first one)}
380   it--;
381   (*it)->RemovePacketTag (tag);
382   \textcolor{keywordflow}{if} ( (tag.GetStatus () == \hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133ade41b0025c66cd211e992196f314d4a5}{LteRlcSduStatusTag::FULL\_SDU}) ||
383         (tag.GetStatus () == \hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133a4e59540a0a5c4530b61e4feda355be7b}{LteRlcSduStatusTag::LAST\_SEGMENT}) )
384     \{
385       framingInfo |= \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaa0cb019a1055c009eb8c8ff34f796cb89}{LteRlcHeader::LAST\_BYTE};
386     \}
387   \textcolor{keywordflow}{else}
388     \{
389       framingInfo |= \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaac36f5c572c5ab51ef1652c5d4e4c9e7d}{LteRlcHeader::NO\_LAST\_BYTE};
390     \}
391   (*it)->AddPacketTag (tag);
392 
393   rlcHeader.SetFramingInfo (framingInfo);
394 
395   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"RLC header: "} << rlcHeader);
396   packet->AddHeader (rlcHeader);
397 
398   \textcolor{comment}{// Sender timestamp}
399   RlcTag rlcTag (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ());
400   packet->AddByteTag (rlcTag);
401   \hyperlink{classns3_1_1LteRlc_aa14f9d8b8828d0b0859f1870ae1248e6}{m\_txPdu} (\hyperlink{classns3_1_1LteRlc_a48ab0a78e7f2687337075b1c8832df70}{m\_rnti}, \hyperlink{classns3_1_1LteRlc_a051085e9b27883e7ba4b98ad7242fd8a}{m\_lcid}, packet->GetSize ());
402 
403   \textcolor{comment}{// Send RLC PDU to MAC layer}
404   LteMacSapProvider::TransmitPduParameters params;
405   params.pdu = packet;
406   params.rnti = \hyperlink{classns3_1_1LteRlc_a48ab0a78e7f2687337075b1c8832df70}{m\_rnti};
407   params.lcid = \hyperlink{classns3_1_1LteRlc_a051085e9b27883e7ba4b98ad7242fd8a}{m\_lcid};
408   params.layer = layer;
409   params.harqProcessId = harqId;
410 
411   \hyperlink{classns3_1_1LteRlc_a69272d17c4e48183bb89b8dd0660c1be}{m\_macSapProvider}->\hyperlink{classns3_1_1LteMacSapProvider_a125622cc614fa4ef620d595fbec0cf07}{TransmitPdu} (params);
412 
413   \textcolor{keywordflow}{if} (! \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.empty ())
414     \{
415       \hyperlink{classns3_1_1LteRlcUm_a8196c33f6c1c18fe6dae6be6639f8c06}{m\_rbsTimer}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
416       \hyperlink{classns3_1_1LteRlcUm_a8196c33f6c1c18fe6dae6be6639f8c06}{m\_rbsTimer} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (10), &\hyperlink{classns3_1_1LteRlcUm_aaec66683c9a4e4b40965f0d85a3ce338}{LteRlcUm::ExpireRbsTimer}, \textcolor{keyword}{this});
417     \}
418 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Do\+Receive\+Pdu@{Do\+Receive\+Pdu}}
\index{Do\+Receive\+Pdu@{Do\+Receive\+Pdu}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Do\+Receive\+Pdu(\+Ptr$<$ Packet $>$ p)}{DoReceivePdu(Ptr< Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Do\+Receive\+Pdu (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteRlcUm_aaba57757b1c5640b7bbe421efb82417a}{}\label{classns3_1_1LteRlcUm_aaba57757b1c5640b7bbe421efb82417a}


Implements \hyperlink{classns3_1_1LteRlc_af2e315f4fe83d8d8f970832055a784d3}{ns3\+::\+Lte\+Rlc}.


\begin{DoxyCode}
434 \{
435   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteRlc_a48ab0a78e7f2687337075b1c8832df70}{m\_rnti} << (uint32\_t) \hyperlink{classns3_1_1LteRlc_a051085e9b27883e7ba4b98ad7242fd8a}{m\_lcid} << p->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
436 
437  \textcolor{comment}{// if(!isEnbaleMeasuring)}
438  \textcolor{comment}{// \{}
439         \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LteRlcUm_af24ae932eded5469f4ad2185b656bee1}{m\_Tput\_Calculator}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning}())\{
440         \textcolor{comment}{//  this->CalculatePathThroughput(this->stream);}
441                 \hyperlink{classns3_1_1LteRlcUm_af24ae932eded5469f4ad2185b656bee1}{m\_Tput\_Calculator} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (100), &\hyperlink{classns3_1_1LteRlcUm_a54fff036c0cfaf8a314a375578f410bc}{LteRlcUm::CalculatePathThroughput},\textcolor{keyword}{this} , 
      \hyperlink{classns3_1_1LteRlcUm_a8509783beb5d5625757bdf93549079f6}{stream});
442         \}
443   \hyperlink{classns3_1_1LteRlcUm_a33e4345196c0c97f6b1954e108ccbb45}{isEnbaleMeasuring} =\textcolor{keyword}{true};
444 \textcolor{comment}{// std::cout << "will sedn assistant infor  " <<m\_epcX2RlcProvider<<std::endl;}
445 
446   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LteRlc_aa997bbf2807b79443887abd57facd1c8}{m\_epcX2RlcProvider} !=0)\{
447   EpcX2Sap::AssistantInformationForSplitting info;
448  info.Re\_TX\_Q\_Size=0;info.Re\_Tx\_Q\_Delay=0;info.Tx\_On\_Q\_Delay=0;
449  info.Txed\_Q\_Size=0; info.Txed\_Q\_Delay=0;
450  std::cout << \textcolor{stringliteral}{"will sedn assistant infor"} <<std::endl;
451  \hyperlink{classns3_1_1LteRlcUm_a982377231676cdfa87ac26a4c182f239}{DoSendAssistantInformation}(info);
452   \}
453   \textcolor{comment}{//std::cout << "----------------------received data   " <<std::endl;}
454   \textcolor{comment}{//\}}
455 \textcolor{comment}{//std::cout<< "RlcUm receive data " << std::endl;}
456   \textcolor{comment}{// Receiver timestamp}
457   RlcTag rlcTag;
458   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_a7964e6aa8f61a9d28973c8267a606ad8}{delay};
459   \textcolor{keywordflow}{if} (p->\hyperlink{classns3_1_1Packet_a2e1403c2411495827012fe000823c16a}{FindFirstMatchingByteTag} (rlcTag))
460     \{
461       delay = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}() - rlcTag.GetSenderTimestamp ();
462     \}
463   \hyperlink{classns3_1_1LteRlc_a5a2491726597ab3cb02655b34dca0722}{m\_rxPdu} (\hyperlink{classns3_1_1LteRlc_a48ab0a78e7f2687337075b1c8832df70}{m\_rnti}, \hyperlink{classns3_1_1LteRlc_a051085e9b27883e7ba4b98ad7242fd8a}{m\_lcid}, p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), delay.GetNanoSeconds ());
464 
465   \textcolor{comment}{// 5.1.2.2 Receive operations}
466 
467   \textcolor{comment}{// Get RLC header parameters}
468   LteRlcHeader rlcHeader;
469   p->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (rlcHeader);
470   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"RLC header: "} << rlcHeader);
471   SequenceNumber10 seqNumber = rlcHeader.GetSequenceNumber ();
472   \hyperlink{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}{sumPacketSize} += p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize}();
473 
474   \textcolor{comment}{// 5.1.2.2.1 General}
475   \textcolor{comment}{// The receiving UM RLC entity shall maintain a reordering window according to state variable VR(UH) as
       follows:}
476   \textcolor{comment}{// - a SN falls within the reordering window if (VR(UH) - UM\_Window\_Size) <= SN < VR(UH);}
477   \textcolor{comment}{// - a SN falls outside of the reordering window otherwise.}
478   \textcolor{comment}{// When receiving an UMD PDU from lower layer, the receiving UM RLC entity shall:}
479   \textcolor{comment}{// - either discard the received UMD PDU or place it in the reception buffer (see sub clause 5.1.2.2.2);}
480   \textcolor{comment}{// - if the received UMD PDU was placed in the reception buffer:}
481   \textcolor{comment}{// - update state variables, reassemble and deliver RLC SDUs to upper layer and start/stop t-Reordering
       as needed (see sub clause 5.1.2.2.3);}
482   \textcolor{comment}{// When t-Reordering expires, the receiving UM RLC entity shall:}
483   \textcolor{comment}{// - update state variables, reassemble and deliver RLC SDUs to upper layer and start t-Reordering as
       needed (see sub clause 5.1.2.2.4).}
484 
485   \textcolor{comment}{// 5.1.2.2.2 Actions when an UMD PDU is received from lower layer}
486   \textcolor{comment}{// When an UMD PDU with SN = x is received from lower layer, the receiving UM RLC entity shall:}
487   \textcolor{comment}{// - if VR(UR) < x < VR(UH) and the UMD PDU with SN = x has been received before; or}
488   \textcolor{comment}{// - if (VR(UH) - UM\_Window\_Size) <= x < VR(UR):}
489   \textcolor{comment}{//    - discard the received UMD PDU;}
490   \textcolor{comment}{// - else:}
491   \textcolor{comment}{//    - place the received UMD PDU in the reception buffer.}
492 
493   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"VR(UR) = "} << \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr});
494   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"VR(UX) = "} << \hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx});
495   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"VR(UH) = "} << \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh});
496   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"SN = "} << seqNumber);
497 
498   \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr}.\hyperlink{classns3_1_1SequenceNumber10_afd6d1e35503ecdab3a9b4b3e8c77e47c}{SetModulusBase} (\hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize});
499   \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh}.\hyperlink{classns3_1_1SequenceNumber10_afd6d1e35503ecdab3a9b4b3e8c77e47c}{SetModulusBase} (\hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize});
500   seqNumber.SetModulusBase (\hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize});
501 
502   \textcolor{keywordflow}{if} ( ( (\hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr} < seqNumber) && (seqNumber < \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh}) && (\hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.count (seqNumber
      .GetValue ()) > 0) ) ||
503        ( ((\hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize}) <= seqNumber) && (seqNumber < 
      \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr}) )
504      )
505     \{
506       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"PDU discarded"});
507       p = 0;
508       \textcolor{keywordflow}{return};
509     \}
510   \textcolor{keywordflow}{else}
511     \{
512       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Place PDU in the reception buffer"});
513       \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}[seqNumber.GetValue ()] = \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
514     \}
515 
516 
517   \textcolor{comment}{// 5.1.2.2.3 Actions when an UMD PDU is placed in the reception buffer}
518   \textcolor{comment}{// When an UMD PDU with SN = x is placed in the reception buffer, the receiving UM RLC entity shall:}
519 
520   \textcolor{comment}{// - if x falls outside of the reordering window:}
521   \textcolor{comment}{//    - update VR(UH) to x + 1;}
522   \textcolor{comment}{//    - reassemble RLC SDUs from any UMD PDUs with SN that falls outside of the reordering window, remove}
523   \textcolor{comment}{//      RLC headers when doing so and deliver the reassembled RLC SDUs to upper layer in ascending order
       of the}
524   \textcolor{comment}{//      RLC SN if not delivered before;}
525   \textcolor{comment}{//    - if VR(UR) falls outside of the reordering window:}
526   \textcolor{comment}{//        - set VR(UR) to (VR(UH) - UM\_Window\_Size);}
527 
528   \textcolor{keywordflow}{if} ( ! \hyperlink{classns3_1_1LteRlcUm_af9dc02493802d28c36558a1f1324cd4c}{IsInsideReorderingWindow} (seqNumber))
529     \{
530       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"SN is outside the reordering window"});
531 
532       \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} = seqNumber + 1;
533       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"New VR(UH) = "} << \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh});
534 
535       \hyperlink{classns3_1_1LteRlcUm_a49f67e2001fc4609ef592ccda50606ab}{ReassembleOutsideWindow} ();
536 
537       \textcolor{keywordflow}{if} ( ! \hyperlink{classns3_1_1LteRlcUm_af9dc02493802d28c36558a1f1324cd4c}{IsInsideReorderingWindow} (\hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr}) )
538         \{
539           \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr} = \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize};
540           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"VR(UR) is outside the reordering window"});
541           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"New VR(UR) = "} << \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr});
542         \}
543     \}
544 
545   \textcolor{comment}{// - if the reception buffer contains an UMD PDU with SN = VR(UR):}
546   \textcolor{comment}{//    - update VR(UR) to the SN of the first UMD PDU with SN > current VR(UR) that has not been received;}
547   \textcolor{comment}{//    - reassemble RLC SDUs from any UMD PDUs with SN < updated VR(UR), remove RLC headers when doing}
548   \textcolor{comment}{//      so and deliver the reassembled RLC SDUs to upper layer in ascending order of the RLC SN if not
       delivered}
549   \textcolor{comment}{//      before;}
550 
551   \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.count (\hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr}.\hyperlink{classns3_1_1SequenceNumber10_a9dcaea04bc415e169e7e0020ce579d01}{GetValue} ()) > 0 )
552     \{
553       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reception buffer contains SN = "} << \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr});
554 
555       std::map <uint16\_t, Ptr<Packet> >::iterator it;
556       uint16\_t newVrUr;
557       SequenceNumber10 oldVrUr = \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr};
558 
559       it = \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.find (\hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr}.\hyperlink{classns3_1_1SequenceNumber10_a9dcaea04bc415e169e7e0020ce579d01}{GetValue} ());
560       newVrUr = (it->first) + 1;
561       \textcolor{keywordflow}{while} ( \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.count (newVrUr) > 0 )
562         \{
563           newVrUr++;
564         \}
565       \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr} = newVrUr;
566       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"New VR(UR) = "} << \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr});
567 
568       \hyperlink{classns3_1_1LteRlcUm_a6c396626a8b5e65d70783e603486c832}{ReassembleSnInterval} (oldVrUr, \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr});
569     \}
570 
571   \textcolor{comment}{// m\_vrUh can change previously, set new modulus base}
572   \textcolor{comment}{// for the t-Reordering timer-related comparisons}
573   \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr}.\hyperlink{classns3_1_1SequenceNumber10_afd6d1e35503ecdab3a9b4b3e8c77e47c}{SetModulusBase} (\hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize});
574   \hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx}.\hyperlink{classns3_1_1SequenceNumber10_afd6d1e35503ecdab3a9b4b3e8c77e47c}{SetModulusBase} (\hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize});
575   \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh}.\hyperlink{classns3_1_1SequenceNumber10_afd6d1e35503ecdab3a9b4b3e8c77e47c}{SetModulusBase} (\hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize});
576 
577   \textcolor{comment}{// - if t-Reordering is running:}
578   \textcolor{comment}{//    - if VR(UX) <= VR(UR); or}
579   \textcolor{comment}{//    - if VR(UX) falls outside of the reordering window and VR(UX) is not equal to VR(UH)::}
580   \textcolor{comment}{//        - stop and reset t-Reordering;}
581   \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_ae8e4293eb470550bbbc9f98c3a3dde58}{m\_reorderingTimer}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} () )
582     \{
583       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reordering timer is running"});
584 
585       \textcolor{keywordflow}{if} ( (\hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx} <= \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr}) ||
586            ((! \hyperlink{classns3_1_1LteRlcUm_af9dc02493802d28c36558a1f1324cd4c}{IsInsideReorderingWindow} (\hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx})) && (
      \hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx} != \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh})) )
587         \{
588           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Stop reordering timer"});
589           \hyperlink{classns3_1_1LteRlcUm_ae8e4293eb470550bbbc9f98c3a3dde58}{m\_reorderingTimer}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
590         \}
591     \}
592 
593   \textcolor{comment}{// - if t-Reordering is not running (includes the case when t-Reordering is stopped due to actions
       above):}
594   \textcolor{comment}{//    - if VR(UH) > VR(UR):}
595   \textcolor{comment}{//        - start t-Reordering;}
596   \textcolor{comment}{//        - set VR(UX) to VR(UH).}
597   \textcolor{keywordflow}{if} ( ! \hyperlink{classns3_1_1LteRlcUm_ae8e4293eb470550bbbc9f98c3a3dde58}{m\_reorderingTimer}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} () )
598     \{
599       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reordering timer is not running"});
600 
601       \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} > \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr} )
602         \{
603           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"VR(UH) > VR(UR)"});
604           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Start reordering timer"});
605           \hyperlink{classns3_1_1LteRlcUm_ae8e4293eb470550bbbc9f98c3a3dde58}{m\_reorderingTimer} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} (\textcolor{stringliteral}{"0.1s"}),
606                                                    &
      \hyperlink{classns3_1_1LteRlcUm_af17c5fa995d3a0ca3b1e4edfd18e4c3d}{LteRlcUm::ExpireReorderingTimer} ,\textcolor{keyword}{this});
607           \hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx} = \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh};
608           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"New VR(UX) = "} << \hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx});
609         \}
610     \}
611 
612 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Do\+Report\+Buffer\+Status@{Do\+Report\+Buffer\+Status}}
\index{Do\+Report\+Buffer\+Status@{Do\+Report\+Buffer\+Status}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Do\+Report\+Buffer\+Status()}{DoReportBufferStatus()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Do\+Report\+Buffer\+Status (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a10fa1eb47a69669c1d0a61d1f8b05378}{}\label{classns3_1_1LteRlcUm_a10fa1eb47a69669c1d0a61d1f8b05378}

\begin{DoxyCode}
1189 \{
1190   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} holDelay (0);
1191   uint32\_t queueSize = 0;
1192 
1193   \textcolor{keywordflow}{if} (! \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.empty ())
1194     \{
1195       RlcTag holTimeTag;
1196       \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.front ()->PeekPacketTag (holTimeTag);
1197       holDelay = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - holTimeTag.GetSenderTimestamp ();
1198 
1199       queueSize = \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize} + 2 * \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.size (); \textcolor{comment}{// Data in tx queue +
       estimated headers size}
1200     \}
1201 
1202   LteMacSapProvider::ReportBufferStatusParameters r;
1203   r.rnti = \hyperlink{classns3_1_1LteRlc_a48ab0a78e7f2687337075b1c8832df70}{m\_rnti};
1204   r.lcid = \hyperlink{classns3_1_1LteRlc_a051085e9b27883e7ba4b98ad7242fd8a}{m\_lcid};
1205   r.txQueueSize = queueSize;
1206   r.txQueueHolDelay = holDelay.GetMilliSeconds () ;
1207   r.retxQueueSize = 0;
1208   r.retxQueueHolDelay = 0;
1209   r.statusPduSize = 0;
1210   \hyperlink{classns3_1_1LteRlcUm_a14a499b2042957fefdeb2ed75a090c5c}{TxQueueSize} = queueSize;
1211   \hyperlink{classns3_1_1LteRlcUm_aeeec4694ffd96880f4a05c5e200c97b4}{TxQueuingDelay} = holDelay.GetSeconds();
1212   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Send ReportBufferStatus = "} << r.txQueueSize << \textcolor{stringliteral}{", "} << r.txQueueHolDelay );
1213   \hyperlink{classns3_1_1LteRlc_a69272d17c4e48183bb89b8dd0660c1be}{m\_macSapProvider}->\hyperlink{classns3_1_1LteMacSapProvider_a9b871a79546b8d06debd925d8863d442}{ReportBufferStatus} (r);
1214 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Do\+Request\+Assistant\+Info@{Do\+Request\+Assistant\+Info}}
\index{Do\+Request\+Assistant\+Info@{Do\+Request\+Assistant\+Info}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Do\+Request\+Assistant\+Info()}{DoRequestAssistantInfo()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Do\+Request\+Assistant\+Info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteRlcUm_a59e76c0cc98ee8140467ca4a338412a9}{}\label{classns3_1_1LteRlcUm_a59e76c0cc98ee8140467ca4a338412a9}


Reimplemented from \hyperlink{classns3_1_1LteRlc_a899e4dc4b5dcd5637821fceefb0d7550}{ns3\+::\+Lte\+Rlc}.


\begin{DoxyCode}
1332                                 \{
1333          EpcX2Sap::AssistantInformationForSplitting info;
1334                                     std::cout << \textcolor{stringliteral}{"will send LTE assistant info from LteRlcUmLowLat"} <<
      std::endl;
1335                                     \hyperlink{classns3_1_1LteRlcUm_a7967ba7b2cf55092391ef32bd19dcd1f}{RecordingQueueStatistics}();
1336                                     \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule}(
      \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds}(10),&\hyperlink{classns3_1_1LteRlcUm_a982377231676cdfa87ac26a4c182f239}{LteRlcUm::DoSendAssistantInformation},\textcolor{keyword}{this}
      , info);
1337 
1338 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Do\+Send\+Assistant\+Information@{Do\+Send\+Assistant\+Information}}
\index{Do\+Send\+Assistant\+Information@{Do\+Send\+Assistant\+Information}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Do\+Send\+Assistant\+Information(\+Epc\+X2\+Sap\+::\+Assistant\+Information\+For\+Splitting info)}{DoSendAssistantInformation(EpcX2Sap::AssistantInformationForSplitting info)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Do\+Send\+Assistant\+Information (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+X2\+Sap\+::\+Assistant\+Information\+For\+Splitting}}]{info}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LteRlcUm_a982377231676cdfa87ac26a4c182f239}{}\label{classns3_1_1LteRlcUm_a982377231676cdfa87ac26a4c182f239}

\begin{DoxyCode}
1122                                                                                  \{ \textcolor{comment}{//sjkang}
1123 
1124         info.targetCellId = \hyperlink{classns3_1_1LteRlc_a6f4d5d0a7f8d3dd3c35a5fc0598ea3b8}{m\_ueDataParams}.\hyperlink{structns3_1_1EpcX2Sap_1_1UeDataParams_ae1b898ec9d57743aa53989ef3e30115a}{targetCellId};
1125         info.sourceCellId = \hyperlink{classns3_1_1LteRlc_a6f4d5d0a7f8d3dd3c35a5fc0598ea3b8}{m\_ueDataParams}.\hyperlink{structns3_1_1EpcX2Sap_1_1UeDataParams_aa7874679502767d1cad719fb7dd4a4bb}{sourceCellId};
1126         \hyperlink{classns3_1_1LteRlc_aa997bbf2807b79443887abd57facd1c8}{m\_epcX2RlcProvider}->\hyperlink{classns3_1_1EpcX2RlcProvider_aac32484a4ef127a3e692e80152fc1219}{ReceiveAssistantInformation}(info);
1127 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Do\+Send\+Mc\+Pdcp\+Sdu@{Do\+Send\+Mc\+Pdcp\+Sdu}}
\index{Do\+Send\+Mc\+Pdcp\+Sdu@{Do\+Send\+Mc\+Pdcp\+Sdu}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Do\+Send\+Mc\+Pdcp\+Sdu(\+Epc\+X2\+Sap\+::\+Ue\+Data\+Params params)}{DoSendMcPdcpSdu(EpcX2Sap::UeDataParams params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Do\+Send\+Mc\+Pdcp\+Sdu (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+X2\+Sap\+::\+Ue\+Data\+Params}}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteRlcUm_a50ee369eab559444208977e53b926027}{}\label{classns3_1_1LteRlcUm_a50ee369eab559444208977e53b926027}
R\+LC E\+PC X2 S\+AP 

Implements \hyperlink{classns3_1_1LteRlc_a7a9eddaf5d069799f9950d696b30b034}{ns3\+::\+Lte\+Rlc}.


\begin{DoxyCode}
142 \{
143   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION}(\textcolor{keyword}{this});
144   \hyperlink{classns3_1_1LteRlcUm_ac7e23317792e8464ac9feafdcd7e1f74}{DoTransmitPdcpPdu}(params.ueData);
145 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Do\+Transmit\+Pdcp\+Pdu@{Do\+Transmit\+Pdcp\+Pdu}}
\index{Do\+Transmit\+Pdcp\+Pdu@{Do\+Transmit\+Pdcp\+Pdu}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Do\+Transmit\+Pdcp\+Pdu(\+Ptr$<$ Packet $>$ p)}{DoTransmitPdcpPdu(Ptr< Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Do\+Transmit\+Pdcp\+Pdu (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LteRlcUm_ac7e23317792e8464ac9feafdcd7e1f74}{}\label{classns3_1_1LteRlcUm_ac7e23317792e8464ac9feafdcd7e1f74}
R\+LC S\+AP Store arrival time

Store P\+D\+CP P\+DU

Report \hyperlink{classns3_1_1Buffer}{Buffer} Status 

Implements \hyperlink{classns3_1_1LteRlc_af1e6ccdc5f9f2bee9d42a056e94351a5}{ns3\+::\+Lte\+Rlc}.


\begin{DoxyCode}
105 \{
106   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteRlc_a48ab0a78e7f2687337075b1c8832df70}{m\_rnti} << (uint32\_t) \hyperlink{classns3_1_1LteRlc_a051085e9b27883e7ba4b98ad7242fd8a}{m\_lcid} << p->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
107 
108   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize} + p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () <= \hyperlink{classns3_1_1LteRlcUm_ad65c6605ca578b8085d9f40f89265ea3}{m\_maxTxBufferSize})
109     \{
111       RlcTag timeTag (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ());
112       p->\hyperlink{classns3_1_1Packet_a7400b8655852f5271c5957250d0141af}{AddPacketTag} (timeTag);
113 
116       LteRlcSduStatusTag tag;
117       tag.SetStatus (\hyperlink{classns3_1_1LteRlcSduStatusTag_ae7822c5cc0d54a3d193b09a91ed6f133ade41b0025c66cd211e992196f314d4a5}{LteRlcSduStatusTag::FULL\_SDU});
118       p->\hyperlink{classns3_1_1Packet_a7400b8655852f5271c5957250d0141af}{AddPacketTag} (tag);
119 
120       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Tx Buffer: New packet added"});
121       \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.push\_back (p);
122       \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize} += p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ();
123       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"NumOfBuffers = "} << \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.size() );
124       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"txBufferSize = "} << \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize});
125     \}
126   \textcolor{keywordflow}{else}
127     \{
128       \textcolor{comment}{// Discard full RLC SDU}
129       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"TxBuffer is full. RLC SDU discarded"});
130       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"MaxTxBufferSize = "} << \hyperlink{classns3_1_1LteRlcUm_ad65c6605ca578b8085d9f40f89265ea3}{m\_maxTxBufferSize});
131       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"txBufferSize    = "} << \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize});
132       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"packet size     = "} << p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
133     \}
134 
136   \hyperlink{classns3_1_1LteRlcUm_a10fa1eb47a69669c1d0a61d1f8b05378}{DoReportBufferStatus} ();
137   \hyperlink{classns3_1_1LteRlcUm_a8196c33f6c1c18fe6dae6be6639f8c06}{m\_rbsTimer}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
138 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Expire\+Rbs\+Timer@{Expire\+Rbs\+Timer}}
\index{Expire\+Rbs\+Timer@{Expire\+Rbs\+Timer}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Expire\+Rbs\+Timer(void)}{ExpireRbsTimer(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Expire\+Rbs\+Timer (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_aaec66683c9a4e4b40965f0d85a3ce338}{}\label{classns3_1_1LteRlcUm_aaec66683c9a4e4b40965f0d85a3ce338}

\begin{DoxyCode}
1258 \{
1259   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"RBS Timer expires"});
1260 
1261   \textcolor{keywordflow}{if} (! \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer}.empty ())
1262     \{
1263       \hyperlink{classns3_1_1LteRlcUm_a10fa1eb47a69669c1d0a61d1f8b05378}{DoReportBufferStatus} ();
1264       \hyperlink{classns3_1_1LteRlcUm_a8196c33f6c1c18fe6dae6be6639f8c06}{m\_rbsTimer} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (10), &\hyperlink{classns3_1_1LteRlcUm_aaec66683c9a4e4b40965f0d85a3ce338}{LteRlcUm::ExpireRbsTimer}, \textcolor{keyword}{this});
1265     \}
1266 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Expire\+Reordering\+Timer@{Expire\+Reordering\+Timer}}
\index{Expire\+Reordering\+Timer@{Expire\+Reordering\+Timer}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Expire\+Reordering\+Timer(void)}{ExpireReorderingTimer(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Expire\+Reordering\+Timer (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_af17c5fa995d3a0ca3b1e4edfd18e4c3d}{}\label{classns3_1_1LteRlcUm_af17c5fa995d3a0ca3b1e4edfd18e4c3d}

\begin{DoxyCode}
1219 \{
1220   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LteRlc_a48ab0a78e7f2687337075b1c8832df70}{m\_rnti} << (uint32\_t) \hyperlink{classns3_1_1LteRlc_a051085e9b27883e7ba4b98ad7242fd8a}{m\_lcid});
1221   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reordering timer has expired"});
1222 
1223   \textcolor{comment}{// 5.1.2.2.4 Actions when t-Reordering expires}
1224   \textcolor{comment}{// When t-Reordering expires, the receiving UM RLC entity shall:}
1225   \textcolor{comment}{// - update VR(UR) to the SN of the first UMD PDU with SN >= VR(UX) that has not been received;}
1226   \textcolor{comment}{// - reassemble RLC SDUs from any UMD PDUs with SN < updated VR(UR), remove RLC headers when doing so}
1227   \textcolor{comment}{//   and deliver the reassembled RLC SDUs to upper layer in ascending order of the RLC SN if not
       delivered before;}
1228   \textcolor{comment}{// - if VR(UH) > VR(UR):}
1229   \textcolor{comment}{//    - start t-Reordering;}
1230   \textcolor{comment}{//    - set VR(UX) to VR(UH).}
1231 
1232   std::map <uint16\_t, Ptr<Packet> >::iterator it;
1233   SequenceNumber10 newVrUr = \hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx};
1234 
1235   \textcolor{keywordflow}{while} ( (it = \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.find (newVrUr.GetValue ())) != \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.end () )
1236     \{
1237       newVrUr++;
1238     \}
1239   SequenceNumber10 oldVrUr = \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr};
1240   \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr} = newVrUr;
1241   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"New VR(UR) = "} << \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr});
1242 
1243   \hyperlink{classns3_1_1LteRlcUm_a6c396626a8b5e65d70783e603486c832}{ReassembleSnInterval} (oldVrUr, \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr});
1244 
1245   \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} > \hyperlink{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{m\_vrUr})
1246     \{
1247       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Start reordering timer"});
1248       \hyperlink{classns3_1_1LteRlcUm_ae8e4293eb470550bbbc9f98c3a3dde58}{m\_reorderingTimer} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} (\textcolor{stringliteral}{"0.1s"}),
1249                                                &\hyperlink{classns3_1_1LteRlcUm_af17c5fa995d3a0ca3b1e4edfd18e4c3d}{LteRlcUm::ExpireReorderingTimer}
      , \textcolor{keyword}{this});
1250       \hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx} = \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh};
1251       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"New VR(UX) = "} << \hyperlink{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{m\_vrUx});
1252     \}
1253 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Get\+Max\+Buff@{Get\+Max\+Buff}}
\index{Get\+Max\+Buff@{Get\+Max\+Buff}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Get\+Max\+Buff()}{GetMaxBuff()}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Lte\+Rlc\+Um\+::\+Get\+Max\+Buff (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LteRlcUm_a67fe0e4cb826063abc9fbd30f651170a}{}\label{classns3_1_1LteRlcUm_a67fe0e4cb826063abc9fbd30f651170a}

\begin{DoxyCode}
95 \{
96   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteRlcUm_ad65c6605ca578b8085d9f40f89265ea3}{m\_maxTxBufferSize};
97 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Get\+Tx\+Buffer@{Get\+Tx\+Buffer}}
\index{Get\+Tx\+Buffer@{Get\+Tx\+Buffer}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Get\+Tx\+Buffer()}{GetTxBuffer()}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Ptr}$<$ {\bf Packet} $>$ $>$ ns3\+::\+Lte\+Rlc\+Um\+::\+Get\+Tx\+Buffer (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LteRlcUm_a85f2e552cc7a048a195b338c633a0d25}{}\label{classns3_1_1LteRlcUm_a85f2e552cc7a048a195b338c633a0d25}

\begin{DoxyCode}
428 \{
429   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{m\_txBuffer};
430 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Get\+Tx\+Buffer\+Size@{Get\+Tx\+Buffer\+Size}}
\index{Get\+Tx\+Buffer\+Size@{Get\+Tx\+Buffer\+Size}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Get\+Tx\+Buffer\+Size()}{GetTxBufferSize()}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Lte\+Rlc\+Um\+::\+Get\+Tx\+Buffer\+Size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1LteRlcUm_aa88fc55de6c2f858e0e2952131899afc}{}\label{classns3_1_1LteRlcUm_aa88fc55de6c2f858e0e2952131899afc}

\begin{DoxyCode}
71   \{
72     \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{m\_txBufferSize};
73   \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 20


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Lte\+Rlc\+Um\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteRlcUm_a119b2b1273c42483a050896d5232829d}{}\label{classns3_1_1LteRlcUm_a119b2b1273c42483a050896d5232829d}

\begin{DoxyCode}
68 \{
69   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::LteRlcUm"})
70     .SetParent<\hyperlink{classns3_1_1LteRlc_a7204bd3f846a0f5d8c620cad57eceffd}{LteRlc}> ()
71     .SetGroupName(\textcolor{stringliteral}{"Lte"})
72     .AddConstructor<\hyperlink{classns3_1_1LteRlcUm_a04e9e432afa6587ef18dbdb41ebf2abd}{LteRlcUm}> ()
73     .AddAttribute (\textcolor{stringliteral}{"MaxTxBufferSize"},
74                    \textcolor{stringliteral}{"Maximum Size of the Transmission Buffer (in Bytes)"},
75                    UintegerValue (10 * 1024),
76                    MakeUintegerAccessor (&\hyperlink{classns3_1_1LteRlcUm_ad65c6605ca578b8085d9f40f89265ea3}{LteRlcUm::m\_maxTxBufferSize}),
77                    MakeUintegerChecker<uint32\_t> ())
78     ;
79   \textcolor{keywordflow}{return} tid;
80 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 21




Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Is\+Inside\+Reordering\+Window@{Is\+Inside\+Reordering\+Window}}
\index{Is\+Inside\+Reordering\+Window@{Is\+Inside\+Reordering\+Window}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Is\+Inside\+Reordering\+Window(\+Sequence\+Number10 seq\+Number)}{IsInsideReorderingWindow(SequenceNumber10 seqNumber)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lte\+Rlc\+Um\+::\+Is\+Inside\+Reordering\+Window (
\begin{DoxyParamCaption}
\item[{{\bf Sequence\+Number10}}]{seq\+Number}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_af9dc02493802d28c36558a1f1324cd4c}{}\label{classns3_1_1LteRlcUm_af9dc02493802d28c36558a1f1324cd4c}

\begin{DoxyCode}
617 \{
618   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << seqNumber);
619   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reordering Window: "} <<
620                 \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} << \textcolor{stringliteral}{" - "} << \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize} << \textcolor{stringliteral}{" <= "} << seqNumber << \textcolor{stringliteral}{" < "} << 
      \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh});
621 
622   \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh}.\hyperlink{classns3_1_1SequenceNumber10_afd6d1e35503ecdab3a9b4b3e8c77e47c}{SetModulusBase} (\hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize});
623   seqNumber.SetModulusBase (\hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize});
624 
625   \textcolor{keywordflow}{if} ( ((\hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh} - \hyperlink{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{m\_windowSize}) <= seqNumber) && (seqNumber < 
      \hyperlink{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{m\_vrUh}))
626     \{
627       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (seqNumber << \textcolor{stringliteral}{" is INSIDE the reordering window"});
628       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
629     \}
630   \textcolor{keywordflow}{else}
631     \{
632       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (seqNumber << \textcolor{stringliteral}{" is OUTSIDE the reordering window"});
633       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
634     \}
635 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23




Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Reassemble\+And\+Deliver@{Reassemble\+And\+Deliver}}
\index{Reassemble\+And\+Deliver@{Reassemble\+And\+Deliver}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Reassemble\+And\+Deliver(\+Ptr$<$ Packet $>$ packet)}{ReassembleAndDeliver(Ptr< Packet > packet)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Reassemble\+And\+Deliver (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a103ba1e3d14eb2604a44d1bef7fe7cb7}{}\label{classns3_1_1LteRlcUm_a103ba1e3d14eb2604a44d1bef7fe7cb7}
Deliver one or multiple P\+D\+Us

Deliver full P\+D\+Us

Keep S0

Discard SI or SN

Deliver zero, one or multiple P\+D\+Us

Discard SI or SN

Deliver zero, one or multiple P\+D\+Us

Keep S0

E\+R\+R\+OR\+: Transition not possible

Deliver (Kept)S0 + SN

Deliver zero, one or multiple P\+D\+Us

Keep SI

Deliver (Kept)S0 + SN

Deliver zero, one or multiple P\+D\+Us

Keep S0

E\+R\+R\+OR\+: Transition not possible

Deliver one or multiple P\+D\+Us

Deliver full P\+D\+Us

Keep S0

Discard SN

Deliver zero, one or multiple P\+D\+Us

Discard SI or SN

Deliver zero, one or multiple P\+D\+Us

Keep S0

E\+R\+R\+OR\+: Transition not possible

Discard S0

Deliver one or multiple P\+D\+Us

Discard S0

Deliver zero, one or multiple P\+D\+Us

Keep S0

Discard S0

Discard SI or SN

Deliver zero, one or multiple P\+D\+Us

Discard S0

Discard SI or SN

Deliver zero, one or multiple P\+D\+Us

Keep S0

E\+R\+R\+OR\+: Transition not possible
\begin{DoxyCode}
640 \{
641   LteRlcHeader rlcHeader;
642   packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (rlcHeader);
643   uint8\_t framingInfo = rlcHeader.GetFramingInfo ();
644   SequenceNumber10 currSeqNumber = rlcHeader.GetSequenceNumber ();
645   \textcolor{keywordtype}{bool} expectedSnLost;
646 
647   \textcolor{keywordflow}{if} ( currSeqNumber != \hyperlink{classns3_1_1LteRlcUm_a55c7d22f64cc0dcebab7caf96dbac1e3}{m\_expectedSeqNumber} )
648     \{
649       expectedSnLost = \textcolor{keyword}{true};
650       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"There are losses. Expected SN = "} << 
      \hyperlink{classns3_1_1LteRlcUm_a55c7d22f64cc0dcebab7caf96dbac1e3}{m\_expectedSeqNumber} << \textcolor{stringliteral}{". Current SN = "} << currSeqNumber);
651       \hyperlink{classns3_1_1LteRlcUm_a55c7d22f64cc0dcebab7caf96dbac1e3}{m\_expectedSeqNumber} = currSeqNumber + 1;
652     \}
653   \textcolor{keywordflow}{else}
654     \{
655       expectedSnLost = \textcolor{keyword}{false};
656       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"No losses. Expected SN = "} << 
      \hyperlink{classns3_1_1LteRlcUm_a55c7d22f64cc0dcebab7caf96dbac1e3}{m\_expectedSeqNumber} << \textcolor{stringliteral}{". Current SN = "} << currSeqNumber);
657       \hyperlink{classns3_1_1LteRlcUm_a55c7d22f64cc0dcebab7caf96dbac1e3}{m\_expectedSeqNumber}++;
658     \}
659 
660   \textcolor{comment}{// Build list of SDUs}
661   uint8\_t extensionBit;
662   uint16\_t lengthIndicator;
663   \textcolor{keywordflow}{do}
664     \{
665       extensionBit = rlcHeader.PopExtensionBit ();
666       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"E = "} << (uint16\_t)extensionBit);
667 
668       \textcolor{keywordflow}{if} ( extensionBit == 0 )
669         \{
670           \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.push\_back (packet);
671         \}
672       \textcolor{keywordflow}{else} \textcolor{comment}{// extensionBit == 1}
673         \{
674           lengthIndicator = rlcHeader.PopLengthIndicator ();
675           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"LI = "} << lengthIndicator);
676 
677           \textcolor{comment}{// Check if there is enough data in the packet}
678           \textcolor{keywordflow}{if} ( lengthIndicator >= packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () )
679             \{
680               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"INTERNAL ERROR: Not enough data in the packet ("} << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () << \textcolor{stringliteral}{"). Needed LI="} << lengthIndicator);
681             \}
682 
683           \textcolor{comment}{// Split packet in two fragments}
684           Ptr<Packet> data\_field = packet->\hyperlink{classns3_1_1Packet_a16f6113606b355b2b346e2245fa2a3d0}{CreateFragment} (0, lengthIndicator);
685           packet->\hyperlink{classns3_1_1Packet_a78aa207e7921dd2f9f7e0d0b7a1c730a}{RemoveAtStart} (lengthIndicator);
686 
687           \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.push\_back (data\_field);
688         \}
689     \}
690   \textcolor{keywordflow}{while} ( extensionBit == 1 );
691 
692   std::list < Ptr<Packet> >::iterator it;
693 
694   \textcolor{comment}{// Current reassembling state}
695   \textcolor{keywordflow}{if}      (\hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} == \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL})  
      \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reassembling State = 'WAITING\_S0\_FULL'"});
696   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} == \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF})    
      \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reassembling State = 'WAITING\_SI\_SF'"});
697   \textcolor{keywordflow}{else}                                              \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reassembling State = Unknown
       state"});
698 
699   \textcolor{comment}{// Received framing Info}
700   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Framing Info = "} << (uint16\_t)framingInfo);
701 
702   \textcolor{comment}{// Reassemble the list of SDUs (when there is no losses)}
703   \textcolor{keywordflow}{if} (!expectedSnLost)
704     \{
705       \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState})
706         \{
707           \textcolor{keywordflow}{case} \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL}:
708                   \textcolor{keywordflow}{switch} (framingInfo)
709                     \{
710                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0deaa3a14c19603556ac2ead7440fd6d54ba}{LteRlcHeader::FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaa0cb019a1055c009eb8c8ff34f796cb89}{LteRlcHeader::LAST\_BYTE}):
711                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
712 
716                               \textcolor{keywordflow}{for} ( it = \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.begin () ; it != 
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.end () ; it++ )
717                                 \{
718                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (*it);
719                                 \}
720                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.clear ();
721                       \textcolor{keywordflow}{break};
722 
723                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0deaa3a14c19603556ac2ead7440fd6d54ba}{LteRlcHeader::FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaac36f5c572c5ab51ef1652c5d4e4c9e7d}{LteRlcHeader::NO\_LAST\_BYTE}):
724                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF};
725 
729                               \textcolor{keywordflow}{while} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () > 1 )
730                                 \{
731                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
732                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
733                                 \}
734 
738                               \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ();
739                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
740                       \textcolor{keywordflow}{break};
741 
742                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0dea610c4bd2a31d4896f4bb1d08cb96dfbb}{LteRlcHeader::NO\_FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaa0cb019a1055c009eb8c8ff34f796cb89}{LteRlcHeader::LAST\_BYTE}):
743                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
744 
748                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
749 
753                               \textcolor{keywordflow}{while} ( ! \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.empty () )
754                                 \{
755                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
756                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
757                                 \}
758                       \textcolor{keywordflow}{break};
759 
760                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0dea610c4bd2a31d4896f4bb1d08cb96dfbb}{LteRlcHeader::NO\_FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaac36f5c572c5ab51ef1652c5d4e4c9e7d}{LteRlcHeader::NO\_LAST\_BYTE}):
761                               \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () == 1 )
762                                 \{
763                                   \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
764                                 \}
765                               \textcolor{keywordflow}{else}
766                                 \{
767                                   \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF};
768                                 \}
769 
773                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
774 
775                               \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () > 0 )
776                                 \{
780                                   \textcolor{keywordflow}{while} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () > 1 )
781                                     \{
782                                       \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
783                                       \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
784                                     \}
785 
789                                   \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ();
790                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
791                                 \}
792                       \textcolor{keywordflow}{break};
793 
794                       \textcolor{keywordflow}{default}:
798                               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"INTERNAL ERROR: Transition not possible. FI = "} <<
       (uint32\_t) framingInfo);
799                       \textcolor{keywordflow}{break};
800                     \}
801           \textcolor{keywordflow}{break};
802 
803           \textcolor{keywordflow}{case} \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF}:
804                   \textcolor{keywordflow}{switch} (framingInfo)
805                     \{
806                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0dea610c4bd2a31d4896f4bb1d08cb96dfbb}{LteRlcHeader::NO\_FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaa0cb019a1055c009eb8c8ff34f796cb89}{LteRlcHeader::LAST\_BYTE}):
807                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
808 
812                               \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0}->\hyperlink{classns3_1_1Packet_a14ec3d4250b425468764de58f5837b6b}{AddAtEnd} (\hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
813                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
814                               \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0});
815 
819                               \textcolor{keywordflow}{while} ( ! \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.empty () )
820                                 \{
821                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
822                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
823                                 \}
824                       \textcolor{keywordflow}{break};
825 
826                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0dea610c4bd2a31d4896f4bb1d08cb96dfbb}{LteRlcHeader::NO\_FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaac36f5c572c5ab51ef1652c5d4e4c9e7d}{LteRlcHeader::NO\_LAST\_BYTE}):
827                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF};
828 
832                               \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () == 1 )
833                                 \{
834                                   \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0}->\hyperlink{classns3_1_1Packet_a14ec3d4250b425468764de58f5837b6b}{AddAtEnd} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
835                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
836                                 \}
837                               \textcolor{keywordflow}{else} \textcolor{comment}{// m\_sdusBuffer.size () > 1}
838                                 \{
842                                   \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0}->\hyperlink{classns3_1_1Packet_a14ec3d4250b425468764de58f5837b6b}{AddAtEnd} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
843                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
844                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0});
845 
849                                   \textcolor{keywordflow}{while} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () > 1 )
850                                     \{
851                                       \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
852                                       \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
853                                     \}
854 
858                                   \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ();
859                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
860                                 \}
861                       \textcolor{keywordflow}{break};
862 
863                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0deaa3a14c19603556ac2ead7440fd6d54ba}{LteRlcHeader::FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaa0cb019a1055c009eb8c8ff34f796cb89}{LteRlcHeader::LAST\_BYTE}):
864                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0deaa3a14c19603556ac2ead7440fd6d54ba}{LteRlcHeader::FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaac36f5c572c5ab51ef1652c5d4e4c9e7d}{LteRlcHeader::NO\_LAST\_BYTE}):
865                       \textcolor{keywordflow}{default}:
869                               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"INTERNAL ERROR: Transition not possible. FI = "} <<
       (uint32\_t) framingInfo);
870                       \textcolor{keywordflow}{break};
871                     \}
872           \textcolor{keywordflow}{break};
873 
874           \textcolor{keywordflow}{default}:
875                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"INTERNAL ERROR: Wrong reassembling state = "} << (uint32\_t) 
      \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState});
876           \textcolor{keywordflow}{break};
877         \}
878     \}
879   \textcolor{keywordflow}{else} \textcolor{comment}{// Reassemble the list of SDUs (when there are losses, i.e. the received SN is not the expected one)}
880     \{
881       \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState})
882         \{
883           \textcolor{keywordflow}{case} \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL}:
884                   \textcolor{keywordflow}{switch} (framingInfo)
885                     \{
886                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0deaa3a14c19603556ac2ead7440fd6d54ba}{LteRlcHeader::FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaa0cb019a1055c009eb8c8ff34f796cb89}{LteRlcHeader::LAST\_BYTE}):
887                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
888 
892                               \textcolor{keywordflow}{for} ( it = \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.begin () ; it != 
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.end () ; it++ )
893                                 \{
894                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (*it);
895                                 \}
896                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.clear ();
897                       \textcolor{keywordflow}{break};
898 
899                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0deaa3a14c19603556ac2ead7440fd6d54ba}{LteRlcHeader::FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaac36f5c572c5ab51ef1652c5d4e4c9e7d}{LteRlcHeader::NO\_LAST\_BYTE}):
900                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF};
901 
905                               \textcolor{keywordflow}{while} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () > 1 )
906                                 \{
907                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
908                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
909                                 \}
910 
914                               \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ();
915                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
916                       \textcolor{keywordflow}{break};
917 
918                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0dea610c4bd2a31d4896f4bb1d08cb96dfbb}{LteRlcHeader::NO\_FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaa0cb019a1055c009eb8c8ff34f796cb89}{LteRlcHeader::LAST\_BYTE}):
919                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
920 
924                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
925 
929                               \textcolor{keywordflow}{while} ( ! \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.empty () )
930                                 \{
931                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
932                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
933                                 \}
934                       \textcolor{keywordflow}{break};
935 
936                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0dea610c4bd2a31d4896f4bb1d08cb96dfbb}{LteRlcHeader::NO\_FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaac36f5c572c5ab51ef1652c5d4e4c9e7d}{LteRlcHeader::NO\_LAST\_BYTE}):
937                               \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () == 1 )
938                                 \{
939                                   \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
940                                 \}
941                               \textcolor{keywordflow}{else}
942                                 \{
943                                   \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF};
944                                 \}
945 
949                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
950 
951                               \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () > 0 )
952                                 \{
956                                   \textcolor{keywordflow}{while} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () > 1 )
957                                     \{
958                                       \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
959                                       \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
960                                     \}
961 
965                                   \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ();
966                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
967                                 \}
968                       \textcolor{keywordflow}{break};
969 
970                       \textcolor{keywordflow}{default}:
974                               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"INTERNAL ERROR: Transition not possible. FI = "} <<
       (uint32\_t) framingInfo);
975                       \textcolor{keywordflow}{break};
976                     \}
977           \textcolor{keywordflow}{break};
978 
979           \textcolor{keywordflow}{case} \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF}:
980                   \textcolor{keywordflow}{switch} (framingInfo)
981                     \{
982                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0deaa3a14c19603556ac2ead7440fd6d54ba}{LteRlcHeader::FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaa0cb019a1055c009eb8c8ff34f796cb89}{LteRlcHeader::LAST\_BYTE}):
983                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
984 
988                               \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = 0;
989 
993                               \textcolor{keywordflow}{while} ( ! \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.empty () )
994                                 \{
995                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
996                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
997                                 \}
998                       \textcolor{keywordflow}{break};
999 
1000                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0deaa3a14c19603556ac2ead7440fd6d54ba}{LteRlcHeader::FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaac36f5c572c5ab51ef1652c5d4e4c9e7d}{LteRlcHeader::NO\_LAST\_BYTE}):
1001                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF};
1002 
1006                               \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = 0;
1007 
1011                               \textcolor{keywordflow}{while} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () > 1 )
1012                                 \{
1013                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
1014                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
1015                                 \}
1016 
1020                               \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ();
1021                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
1022 
1023                       \textcolor{keywordflow}{break};
1024 
1025                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0dea610c4bd2a31d4896f4bb1d08cb96dfbb}{LteRlcHeader::NO\_FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaa0cb019a1055c009eb8c8ff34f796cb89}{LteRlcHeader::LAST\_BYTE}):
1026                               \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
1027 
1031                               \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = 0;
1032 
1036                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
1037 
1041                               \textcolor{keywordflow}{while} ( ! \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.empty () )
1042                                 \{
1043                                   \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
1044                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
1045                                 \}
1046                       \textcolor{keywordflow}{break};
1047 
1048                       \textcolor{keywordflow}{case} (\hyperlink{classns3_1_1LteRlcHeader_a9bfac53b015df1fd1fe649764534b0dea610c4bd2a31d4896f4bb1d08cb96dfbb}{LteRlcHeader::NO\_FIRST\_BYTE} | 
      \hyperlink{classns3_1_1LteRlcHeader_abf2c6056d7e9ebe1872e2243e5fc65aaac36f5c572c5ab51ef1652c5d4e4c9e7d}{LteRlcHeader::NO\_LAST\_BYTE}):
1049                               \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () == 1 )
1050                                 \{
1051                                   \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a24c0e966f1047b74bdbf41fe20b3632b}{WAITING\_S0\_FULL};
1052                                 \}
1053                               \textcolor{keywordflow}{else}
1054                                 \{
1055                                   \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState} = 
      \hyperlink{classns3_1_1LteRlcUm_ae16a0c69b1e6723a7e1f633b53768cd6a84f16b5b0883130f08f944fb996c22ac}{WAITING\_SI\_SF};
1056                                 \}
1057 
1061                               \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = 0;
1062 
1066                               \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
1067 
1068                               \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () > 0 )
1069                                 \{
1073                                   \textcolor{keywordflow}{while} ( \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.size () > 1 )
1074                                     \{
1075                                       \hyperlink{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{TriggerReceivePdcpPdu} (
      \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ());
1076                                       \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
1077                                     \}
1078 
1082                                   \hyperlink{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{m\_keepS0} = \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.front ();
1083                                   \hyperlink{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{m\_sdusBuffer}.pop\_front ();
1084                                 \}
1085                       \textcolor{keywordflow}{break};
1086 
1087                       \textcolor{keywordflow}{default}:
1091                               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"INTERNAL ERROR: Transition not possible. FI = "} <<
       (uint32\_t) framingInfo);
1092                       \textcolor{keywordflow}{break};
1093                     \}
1094           \textcolor{keywordflow}{break};
1095 
1096           \textcolor{keywordflow}{default}:
1097                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"INTERNAL ERROR: Wrong reassembling state = "} << (uint32\_t) 
      \hyperlink{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{m\_reassemblingState});
1098           \textcolor{keywordflow}{break};
1099         \}
1100     \}
1101 
1102 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 25




Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Reassemble\+Outside\+Window@{Reassemble\+Outside\+Window}}
\index{Reassemble\+Outside\+Window@{Reassemble\+Outside\+Window}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Reassemble\+Outside\+Window(void)}{ReassembleOutsideWindow(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Reassemble\+Outside\+Window (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a49f67e2001fc4609ef592ccda50606ab}{}\label{classns3_1_1LteRlcUm_a49f67e2001fc4609ef592ccda50606ab}

\begin{DoxyCode}
1132 \{
1133   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reassemble Outside Window"});
1134 
1135   std::map <uint16\_t, Ptr<Packet> >::iterator it;
1136   it = \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.begin ();
1137 
1138   \textcolor{keywordflow}{while} ( (it != \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.end ()) && ! \hyperlink{classns3_1_1LteRlcUm_af9dc02493802d28c36558a1f1324cd4c}{IsInsideReorderingWindow} (
      SequenceNumber10 (it->first)) )
1139     \{
1140       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"SN = "} << it->first);
1141 
1142       \textcolor{comment}{// Reassemble RLC SDUs and deliver the PDCP PDU to upper layer}
1143       \hyperlink{classns3_1_1LteRlcUm_a103ba1e3d14eb2604a44d1bef7fe7cb7}{ReassembleAndDeliver} (it->second);
1144 
1145       std::map <uint16\_t, Ptr<Packet> >::iterator it\_tmp = it;
1146       ++it;
1147       \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.erase (it\_tmp);
1148     \}
1149 
1150   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.end ())
1151     \{
1152       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"(SN = "} << it->first << \textcolor{stringliteral}{") is inside the reordering window"});
1153     \}
1154 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 27




Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Reassemble\+Sn\+Interval@{Reassemble\+Sn\+Interval}}
\index{Reassemble\+Sn\+Interval@{Reassemble\+Sn\+Interval}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Reassemble\+Sn\+Interval(\+Sequence\+Number10 low\+Seq\+Number, Sequence\+Number10 high\+Seq\+Number)}{ReassembleSnInterval(SequenceNumber10 lowSeqNumber, SequenceNumber10 highSeqNumber)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Reassemble\+Sn\+Interval (
\begin{DoxyParamCaption}
\item[{{\bf Sequence\+Number10}}]{low\+Seq\+Number, }
\item[{{\bf Sequence\+Number10}}]{high\+Seq\+Number}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a6c396626a8b5e65d70783e603486c832}{}\label{classns3_1_1LteRlcUm_a6c396626a8b5e65d70783e603486c832}

\begin{DoxyCode}
1158 \{
1159   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Reassemble SN between "} << lowSeqNumber << \textcolor{stringliteral}{" and "} << highSeqNumber);
1160 
1161   std::map <uint16\_t, Ptr<Packet> >::iterator it;
1162 
1163   SequenceNumber10 reassembleSn = lowSeqNumber;
1164   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"reassembleSN = "} << reassembleSn);
1165   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"highSeqNumber = "} << highSeqNumber);
1166   \textcolor{keywordflow}{while} (reassembleSn < highSeqNumber)
1167     \{
1168       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"reassembleSn < highSeqNumber"});
1169       it = \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.find (reassembleSn.GetValue ());
1170       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"it->first  = "} << it->first);
1171       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"it->second = "} << it->second);
1172       \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.end () )
1173         \{
1174           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"SN = "} << it->first);
1175 
1176           \textcolor{comment}{// Reassemble RLC SDUs and deliver the PDCP PDU to upper layer}
1177           \hyperlink{classns3_1_1LteRlcUm_a103ba1e3d14eb2604a44d1bef7fe7cb7}{ReassembleAndDeliver} (it->second);
1178 
1179           \hyperlink{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{m\_rxBuffer}.erase (it);
1180         \}
1181         
1182       reassembleSn++;
1183     \}
1184 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 29




Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Recording\+Queue\+Statistics@{Recording\+Queue\+Statistics}}
\index{Recording\+Queue\+Statistics@{Recording\+Queue\+Statistics}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Recording\+Queue\+Statistics()}{RecordingQueueStatistics()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Recording\+Queue\+Statistics (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LteRlcUm_a7967ba7b2cf55092391ef32bd19dcd1f}{}\label{classns3_1_1LteRlcUm_a7967ba7b2cf55092391ef32bd19dcd1f}

\begin{DoxyCode}
1325                                   \{\textcolor{comment}{//sjkang1116}
1326 
1327         *\hyperlink{classns3_1_1LteRlc_a40a539b080df8c617ca62325696cfe20}{measuringQusizeQueueDelayStream} <<
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}().\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds}()<<\textcolor{stringliteral}{"\(\backslash\)t"}<<\hyperlink{classns3_1_1LteRlcUm_a14a499b2042957fefdeb2ed75a090c5c}{TxQueueSize}<<\textcolor{stringliteral}{"\(\backslash\)t"}
1328                         <<\hyperlink{classns3_1_1LteRlcUm_aeeec4694ffd96880f4a05c5e200c97b4}{TxQueuingDelay}<<std::endl;
1329 \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule}(\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds}(1.0),&
      \hyperlink{classns3_1_1LteRlcUm_a7967ba7b2cf55092391ef32bd19dcd1f}{LteRlcUm::RecordingQueueStatistics},\textcolor{keyword}{this});
1330 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 31




Here is the caller graph for this function\+:
% FIG 32


\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Trigger\+Receive\+Pdcp\+Pdu@{Trigger\+Receive\+Pdcp\+Pdu}}
\index{Trigger\+Receive\+Pdcp\+Pdu@{Trigger\+Receive\+Pdcp\+Pdu}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Trigger\+Receive\+Pdcp\+Pdu(\+Ptr$<$ Packet $>$ p)}{TriggerReceivePdcpPdu(Ptr< Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lte\+Rlc\+Um\+::\+Trigger\+Receive\+Pdcp\+Pdu (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}{}\label{classns3_1_1LteRlcUm_ae1041db82eadf14d676c47e30214adfd}

\begin{DoxyCode}
1106 \{
1107   \textcolor{keywordflow}{if}(!\hyperlink{classns3_1_1LteRlc_a63b29f59aa944b3eaba8d8f156fba4c2}{isMc}) 
1108   \{
1109     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{keyword}{this} << \textcolor{stringliteral}{" RlcUm forwards packet to PDCP (either from MmWave or LTE stack)"});
1110     \hyperlink{classns3_1_1LteRlc_a0156774a917567c2cee1f353d56dfffa}{m\_rlcSapUser}->\hyperlink{classns3_1_1LteRlcSapUser_aaadbd52044f4bf26453b6eb2e26df9c8}{ReceivePdcpPdu}(p);
1111   \}
1112   \textcolor{keywordflow}{else}
1113   \{
1114     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{keyword}{this} << \textcolor{stringliteral}{" MmWave Rlc Um forwards packet to remote PDCP"});
1115     \hyperlink{classns3_1_1LteRlc_a6f4d5d0a7f8d3dd3c35a5fc0598ea3b8}{m\_ueDataParams}.\hyperlink{structns3_1_1EpcX2Sap_1_1UeDataParams_aa194f663de494c1bf03bd42e51b81a8e}{ueData} = \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
1116     \hyperlink{classns3_1_1LteRlc_aa997bbf2807b79443887abd57facd1c8}{m\_epcX2RlcProvider}->\hyperlink{classns3_1_1EpcX2RlcProvider_ae58a8184e3a1b3243f328b8d0efe3352}{ReceiveMcPdcpSdu}(
      \hyperlink{classns3_1_1LteRlc_a6f4d5d0a7f8d3dd3c35a5fc0598ea3b8}{m\_ueDataParams});
1117 
1118 
1119   \}
1120 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 33




Here is the caller graph for this function\+:
% FIG 34




\subsection{Member Data Documentation}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!is\+Enbale\+Measuring@{is\+Enbale\+Measuring}}
\index{is\+Enbale\+Measuring@{is\+Enbale\+Measuring}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{is\+Enbale\+Measuring}{isEnbaleMeasuring}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lte\+Rlc\+Um\+::is\+Enbale\+Measuring ={\bf false}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a33e4345196c0c97f6b1954e108ccbb45}{}\label{classns3_1_1LteRlcUm_a33e4345196c0c97f6b1954e108ccbb45}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!last\+Sum\+Packet\+Size@{last\+Sum\+Packet\+Size}}
\index{last\+Sum\+Packet\+Size@{last\+Sum\+Packet\+Size}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{last\+Sum\+Packet\+Size}{lastSumPacketSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lte\+Rlc\+Um\+::last\+Sum\+Packet\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a015feff20aa27cbdb84c18fbdb482027}{}\label{classns3_1_1LteRlcUm_a015feff20aa27cbdb84c18fbdb482027}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+expected\+Seq\+Number@{m\+\_\+expected\+Seq\+Number}}
\index{m\+\_\+expected\+Seq\+Number@{m\+\_\+expected\+Seq\+Number}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+expected\+Seq\+Number}{m_expectedSeqNumber}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Sequence\+Number10} ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+expected\+Seq\+Number\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a55c7d22f64cc0dcebab7caf96dbac1e3}{}\label{classns3_1_1LteRlcUm_a55c7d22f64cc0dcebab7caf96dbac1e3}
Expected Sequence Number \index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+keep\+S0@{m\+\_\+keep\+S0}}
\index{m\+\_\+keep\+S0@{m\+\_\+keep\+S0}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+keep\+S0}{m_keepS0}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+keep\+S0\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}{}\label{classns3_1_1LteRlcUm_a094b0b91046a4d9853cba45bcf64eaec}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+max\+Tx\+Buffer\+Size@{m\+\_\+max\+Tx\+Buffer\+Size}}
\index{m\+\_\+max\+Tx\+Buffer\+Size@{m\+\_\+max\+Tx\+Buffer\+Size}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+max\+Tx\+Buffer\+Size}{m_maxTxBufferSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+max\+Tx\+Buffer\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_ad65c6605ca578b8085d9f40f89265ea3}{}\label{classns3_1_1LteRlcUm_ad65c6605ca578b8085d9f40f89265ea3}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+rbs\+Timer@{m\+\_\+rbs\+Timer}}
\index{m\+\_\+rbs\+Timer@{m\+\_\+rbs\+Timer}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+rbs\+Timer}{m_rbsTimer}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+rbs\+Timer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a8196c33f6c1c18fe6dae6be6639f8c06}{}\label{classns3_1_1LteRlcUm_a8196c33f6c1c18fe6dae6be6639f8c06}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+reas\+Buffer@{m\+\_\+reas\+Buffer}}
\index{m\+\_\+reas\+Buffer@{m\+\_\+reas\+Buffer}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+reas\+Buffer}{m_reasBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Ptr}$<${\bf Packet}$>$ $>$ ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+reas\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a9d886a26e8b8318d5d110eb3da537b0c}{}\label{classns3_1_1LteRlcUm_a9d886a26e8b8318d5d110eb3da537b0c}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+reassembling\+State@{m\+\_\+reassembling\+State}}
\index{m\+\_\+reassembling\+State@{m\+\_\+reassembling\+State}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+reassembling\+State}{m_reassemblingState}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Reassembling\+State\+\_\+t} ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+reassembling\+State\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}{}\label{classns3_1_1LteRlcUm_a633557b2a49dd50bec8c59ce8dacad71}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+reordering\+Timer@{m\+\_\+reordering\+Timer}}
\index{m\+\_\+reordering\+Timer@{m\+\_\+reordering\+Timer}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+reordering\+Timer}{m_reorderingTimer}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+reordering\+Timer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_ae8e4293eb470550bbbc9f98c3a3dde58}{}\label{classns3_1_1LteRlcUm_ae8e4293eb470550bbbc9f98c3a3dde58}
Timers. See section 7.\+3 in TS 36.\+322 \index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+rx\+Buffer@{m\+\_\+rx\+Buffer}}
\index{m\+\_\+rx\+Buffer@{m\+\_\+rx\+Buffer}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+Buffer}{m_rxBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint16\+\_\+t, {\bf Ptr}$<${\bf Packet}$>$ $>$ ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+rx\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}{}\label{classns3_1_1LteRlcUm_aa4611282929afb798d591eafca1e6adb}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+sdus\+Buffer@{m\+\_\+sdus\+Buffer}}
\index{m\+\_\+sdus\+Buffer@{m\+\_\+sdus\+Buffer}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+sdus\+Buffer}{m_sdusBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std\+::list}$<$ {\bf Ptr}$<${\bf Packet}$>$ $>$ ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+sdus\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}{}\label{classns3_1_1LteRlcUm_a8c214e654b315fe09e26db669a6af268}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+sequence\+Number@{m\+\_\+sequence\+Number}}
\index{m\+\_\+sequence\+Number@{m\+\_\+sequence\+Number}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+sequence\+Number}{m_sequenceNumber}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Sequence\+Number10} ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+sequence\+Number\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_afd06062cf128aecdc2f7c3f29ea8a8ad}{}\label{classns3_1_1LteRlcUm_afd06062cf128aecdc2f7c3f29ea8a8ad}
State variables. See section 7.\+1 in TS 36.\+322 \index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+\+Tput\+\_\+\+Calculator@{m\+\_\+\+Tput\+\_\+\+Calculator}}
\index{m\+\_\+\+Tput\+\_\+\+Calculator@{m\+\_\+\+Tput\+\_\+\+Calculator}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+\+Tput\+\_\+\+Calculator}{m_Tput_Calculator}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+\+Tput\+\_\+\+Calculator\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_af24ae932eded5469f4ad2185b656bee1}{}\label{classns3_1_1LteRlcUm_af24ae932eded5469f4ad2185b656bee1}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+tx\+Buffer@{m\+\_\+tx\+Buffer}}
\index{m\+\_\+tx\+Buffer@{m\+\_\+tx\+Buffer}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+Buffer}{m_txBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Ptr}$<${\bf Packet}$>$ $>$ ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+tx\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}{}\label{classns3_1_1LteRlcUm_ac2c10aa57585dbea3797d651f3dce7be}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+tx\+Buffer\+Size@{m\+\_\+tx\+Buffer\+Size}}
\index{m\+\_\+tx\+Buffer\+Size@{m\+\_\+tx\+Buffer\+Size}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+Buffer\+Size}{m_txBufferSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+tx\+Buffer\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}{}\label{classns3_1_1LteRlcUm_a22ba9f6bd98fd3b905155ae0d0182b0d}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+vr\+Uh@{m\+\_\+vr\+Uh}}
\index{m\+\_\+vr\+Uh@{m\+\_\+vr\+Uh}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+vr\+Uh}{m_vrUh}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Sequence\+Number10} ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+vr\+Uh\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}{}\label{classns3_1_1LteRlcUm_aac5ed94d69ff8dbcd7bda1cbe0d3f2f4}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+vr\+Ur@{m\+\_\+vr\+Ur}}
\index{m\+\_\+vr\+Ur@{m\+\_\+vr\+Ur}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+vr\+Ur}{m_vrUr}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Sequence\+Number10} ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+vr\+Ur\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}{}\label{classns3_1_1LteRlcUm_a04515ea87c413d29a9be9b0a085f5d64}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+vr\+Ux@{m\+\_\+vr\+Ux}}
\index{m\+\_\+vr\+Ux@{m\+\_\+vr\+Ux}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+vr\+Ux}{m_vrUx}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Sequence\+Number10} ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+vr\+Ux\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}{}\label{classns3_1_1LteRlcUm_a84c0cd7290e00e953d7990e7130f2779}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!m\+\_\+window\+Size@{m\+\_\+window\+Size}}
\index{m\+\_\+window\+Size@{m\+\_\+window\+Size}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{m\+\_\+window\+Size}{m_windowSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Lte\+Rlc\+Um\+::m\+\_\+window\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}{}\label{classns3_1_1LteRlcUm_aa26c2e759abe7309fa1daf32ab7bfa0a}
Constants. See section 7.\+2 in TS 36.\+322 \index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!stream@{stream}}
\index{stream@{stream}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{stream}{stream}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::ofstream$\ast$ ns3\+::\+Lte\+Rlc\+Um\+::stream\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a8509783beb5d5625757bdf93549079f6}{}\label{classns3_1_1LteRlcUm_a8509783beb5d5625757bdf93549079f6}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!sum\+Packet\+Size@{sum\+Packet\+Size}}
\index{sum\+Packet\+Size@{sum\+Packet\+Size}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{sum\+Packet\+Size}{sumPacketSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lte\+Rlc\+Um\+::sum\+Packet\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}{}\label{classns3_1_1LteRlcUm_aa873d03add0bb0b7d5a9ac3224685fd2}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Total\+Packets@{Total\+Packets}}
\index{Total\+Packets@{Total\+Packets}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Total\+Packets}{TotalPackets}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lte\+Rlc\+Um\+::\+Total\+Packets =0\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_aa73359807fbf8026a89c765b619e0e30}{}\label{classns3_1_1LteRlcUm_aa73359807fbf8026a89c765b619e0e30}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Total\+Time@{Total\+Time}}
\index{Total\+Time@{Total\+Time}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Total\+Time}{TotalTime}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Lte\+Rlc\+Um\+::\+Total\+Time =0.\+0\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a94d9298d5b49e9f301caacf6c849eacc}{}\label{classns3_1_1LteRlcUm_a94d9298d5b49e9f301caacf6c849eacc}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Tx\+Queue\+Size@{Tx\+Queue\+Size}}
\index{Tx\+Queue\+Size@{Tx\+Queue\+Size}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Tx\+Queue\+Size}{TxQueueSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Lte\+Rlc\+Um\+::\+Tx\+Queue\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_a14a499b2042957fefdeb2ed75a090c5c}{}\label{classns3_1_1LteRlcUm_a14a499b2042957fefdeb2ed75a090c5c}
\index{ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}!Tx\+Queuing\+Delay@{Tx\+Queuing\+Delay}}
\index{Tx\+Queuing\+Delay@{Tx\+Queuing\+Delay}!ns3\+::\+Lte\+Rlc\+Um@{ns3\+::\+Lte\+Rlc\+Um}}
\subsubsection[{\texorpdfstring{Tx\+Queuing\+Delay}{TxQueuingDelay}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Lte\+Rlc\+Um\+::\+Tx\+Queuing\+Delay\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LteRlcUm_aeeec4694ffd96880f4a05c5e200c97b4}{}\label{classns3_1_1LteRlcUm_aeeec4694ffd96880f4a05c5e200c97b4}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{lte-rlc-um_8h}{lte-\/rlc-\/um.\+h}\item 
lte/model/\hyperlink{lte-rlc-um_8cc}{lte-\/rlc-\/um.\+cc}\end{DoxyCompactItemize}
