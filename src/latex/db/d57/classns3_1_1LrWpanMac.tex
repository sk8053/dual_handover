\hypertarget{classns3_1_1LrWpanMac}{}\section{ns3\+:\+:Lr\+Wpan\+Mac Class Reference}
\label{classns3_1_1LrWpanMac}\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}


{\ttfamily \#include $<$lr-\/wpan-\/mac.\+h$>$}



Inheritance diagram for ns3\+:\+:Lr\+Wpan\+Mac\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Lr\+Wpan\+Mac\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1LrWpanMac_1_1TxQueueElement}{Tx\+Queue\+Element}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{classns3_1_1LrWpanMac_a64dc8b44e7aeb4e7c3bb9d0f71ed70e8}{Sent\+Traced\+Callback}) (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, uint8\+\_\+t retries, uint8\+\_\+t backoffs)
\item 
typedef void($\ast$ \hyperlink{classns3_1_1LrWpanMac_ad847a4537bebb10c39f656f1ebdb87f5}{State\+Traced\+Callback}) (\hyperlink{group__lr-wpan_ga02ee7efd682937a8781f5e6101f61884}{Lr\+Wpan\+Mac\+State} old\+State, \hyperlink{group__lr-wpan_ga02ee7efd682937a8781f5e6101f61884}{Lr\+Wpan\+Mac\+State} new\+State)
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1LrWpanMac_ae85526f526890de95937d9e6f1771403}{Lr\+Wpan\+Mac} (void)
\item 
virtual \hyperlink{classns3_1_1LrWpanMac_a2623548467b001bd553496eec58f4f04}{$\sim$\+Lr\+Wpan\+Mac} (void)
\item 
bool \hyperlink{classns3_1_1LrWpanMac_a38ea561fb6884c785fff93535a4bd9e9}{Get\+Rx\+On\+When\+Idle} (void)
\item 
void \hyperlink{classns3_1_1LrWpanMac_a12281b242d499c542bb1ee5589a7e0d0}{Set\+Rx\+On\+When\+Idle} (bool rx\+On\+When\+Idle)
\item 
void \hyperlink{classns3_1_1LrWpanMac_af8661b97dc1aa6de91d91c3f8d2d6d7b}{Set\+Short\+Address} (\hyperlink{classns3_1_1Mac16Address}{Mac16\+Address} address)
\item 
\hyperlink{classns3_1_1Mac16Address}{Mac16\+Address} \hyperlink{classns3_1_1LrWpanMac_ad4aad83b81f2bea0ddb7e14e6280f946}{Get\+Short\+Address} (void) const 
\item 
void \hyperlink{classns3_1_1LrWpanMac_a3a4c809c6159ba09e5fbe803bb295a5d}{Set\+Extended\+Address} (\hyperlink{classns3_1_1Mac64Address}{Mac64\+Address} address)
\item 
\hyperlink{classns3_1_1Mac64Address}{Mac64\+Address} \hyperlink{classns3_1_1LrWpanMac_a3602b57e8b460359c7f32854ca50e954}{Get\+Extended\+Address} (void) const 
\item 
void \hyperlink{classns3_1_1LrWpanMac_a86e890821eabb96e593c2c5ce8c7fdbe}{Set\+Pan\+Id} (uint16\+\_\+t pan\+Id)
\item 
uint16\+\_\+t \hyperlink{classns3_1_1LrWpanMac_a6a9b119e3bb6e77074c790a65fdf8a6c}{Get\+Pan\+Id} (void) const 
\item 
void \hyperlink{classns3_1_1LrWpanMac_acb3f2c60655d459aeb85b20536d1f7ce}{Mcps\+Data\+Request} (\hyperlink{structns3_1_1McpsDataRequestParams}{Mcps\+Data\+Request\+Params} params, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
void \hyperlink{classns3_1_1LrWpanMac_a6e0d04dfb141baf75e47a0189e504430}{Set\+Csma\+Ca} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LrWpanCsmaCa}{Lr\+Wpan\+Csma\+Ca} $>$ csma\+Ca)
\item 
void \hyperlink{classns3_1_1LrWpanMac_ad0285c082a14d9f7b2ca155fb43d7cb2}{Set\+Phy} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LrWpanPhy}{Lr\+Wpan\+Phy} $>$ phy)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LrWpanPhy}{Lr\+Wpan\+Phy} $>$ \hyperlink{classns3_1_1LrWpanMac_a078d33ecb114500b7f01988b4ac5d515}{Get\+Phy} (void)
\item 
void \hyperlink{classns3_1_1LrWpanMac_a40e8518d2cf88b954d1e10f589b78e2f}{Set\+Mcps\+Data\+Indication\+Callback} (\hyperlink{group__lr-wpan_ga1635d218f83c7d0107b268080efd317b}{Mcps\+Data\+Indication\+Callback} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
void \hyperlink{classns3_1_1LrWpanMac_a7d4650a20fe142c3a3ff60326694d893}{Set\+Mcps\+Data\+Confirm\+Callback} (\hyperlink{group__lr-wpan_ga00a61304d3d1c08a4fa8ae483f960001}{Mcps\+Data\+Confirm\+Callback} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
void \hyperlink{classns3_1_1LrWpanMac_a71139cc1bd26ab1c0a9c2e7791631389}{Pd\+Data\+Indication} (uint32\+\_\+t psdu\+Length, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p}, uint8\+\_\+t lqi)
\item 
void \hyperlink{classns3_1_1LrWpanMac_ac81207dec57efdb50dc4b1132e68399f}{Pd\+Data\+Confirm} (\hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} status)
\item 
void \hyperlink{classns3_1_1LrWpanMac_a09ef4c443d9e6f0b1411170267ddf474}{Plme\+Cca\+Confirm} (\hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} status)
\item 
void \hyperlink{classns3_1_1LrWpanMac_a372f799dc789d4a24f7c6ba02c728ca3}{Plme\+Ed\+Confirm} (\hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} status, uint8\+\_\+t energy\+Level)
\item 
void \hyperlink{classns3_1_1LrWpanMac_a94441fcedfe8decefa629115668efb33}{Plme\+Get\+Attribute\+Confirm} (\hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} status, \hyperlink{group__lr-wpan_gae6da9958c1a7194ce9160d866d4164bc}{Lr\+Wpan\+Pib\+Attribute\+Identifier} id, \hyperlink{structns3_1_1LrWpanPhyPibAttributes}{Lr\+Wpan\+Phy\+Pib\+Attributes} $\ast$attribute)
\item 
void \hyperlink{classns3_1_1LrWpanMac_a179b41ff2bf7435896b150cf83a00f02}{Plme\+Set\+T\+R\+X\+State\+Confirm} (\hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} status)
\item 
void \hyperlink{classns3_1_1LrWpanMac_aa28b4bf7ea32aaf9b0c8554e384f279a}{Plme\+Set\+Attribute\+Confirm} (\hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} status, \hyperlink{group__lr-wpan_gae6da9958c1a7194ce9160d866d4164bc}{Lr\+Wpan\+Pib\+Attribute\+Identifier} id)
\item 
void \hyperlink{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}{Set\+Lr\+Wpan\+Mac\+State} (\hyperlink{group__lr-wpan_ga02ee7efd682937a8781f5e6101f61884}{Lr\+Wpan\+Mac\+State} mac\+State)
\item 
\hyperlink{group__lr-wpan_ga807185d7d6ea3364bd69c73e4095af30}{Lr\+Wpan\+Association\+Status} \hyperlink{classns3_1_1LrWpanMac_aab3b217260099533f65c4a8fb735bc3b}{Get\+Association\+Status} (void) const 
\item 
void \hyperlink{classns3_1_1LrWpanMac_a846c85d19051d08611e1433e9341ae82}{Set\+Association\+Status} (\hyperlink{group__lr-wpan_ga807185d7d6ea3364bd69c73e4095af30}{Lr\+Wpan\+Association\+Status} status)
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LrWpanMac_af1ee95318d31af6be902e8550d3f7c6b}{Get\+Mac\+Ack\+Wait\+Duration} (void) const 
\item 
uint8\+\_\+t \hyperlink{classns3_1_1LrWpanMac_a7d7e6fe3caffd148bd144349512591df}{Get\+Mac\+Max\+Frame\+Retries} (void) const 
\item 
void \hyperlink{classns3_1_1LrWpanMac_af8c7c06cda4f237a958b7fa144a39cb9}{Set\+Mac\+Max\+Frame\+Retries} (uint8\+\_\+t retries)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1LrWpanMac_a545f55d5d6c1c3aae2344fa42878fabe}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LrWpanMac_aad2f54fa13df968bd5961770e76d6797}{m\+\_\+a\+Base\+Slot\+Duration}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LrWpanMac_a605adeb44cababfd27a444c1f1314412}{m\+\_\+a\+Num\+Superframe\+Slots}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LrWpanMac_a29030c0084946fb37198fa07da3a2b03}{m\+\_\+a\+Base\+Superframe\+Duration}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LrWpanMac_ae8d4ba1b1080f7b17adc8cdbaca6ff5a}{m\+\_\+mac\+Beacon\+Tx\+Time}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LrWpanMac_ae7628f67a7f4caa970097b915ed3c8e3}{m\+\_\+mac\+Sync\+Symbol\+Offset}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LrWpanMac_a1c5e50a030447b4352c932e9282c4371}{m\+\_\+mac\+Beacon\+Order}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LrWpanMac_ad4c7797599a4e04268e8d8cd16046769}{m\+\_\+mac\+Superframe\+Order}
\item 
bool \hyperlink{classns3_1_1LrWpanMac_aaf3802d8a9c98323a662b4e8209144e4}{m\+\_\+mac\+Promiscuous\+Mode}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}{m\+\_\+mac\+Pan\+Id}
\item 
\hyperlink{group__network_ga7897a211607bda13fb584aec87cf78fc}{Sequence\+Number8} \hyperlink{classns3_1_1LrWpanMac_a8a24e6d96342082f7b0343bdd0800d8c}{m\+\_\+mac\+Dsn}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1LrWpanMac_a4c627b0db8f366077e108ede4268cf7c}{m\+\_\+mac\+Max\+Frame\+Retries}
\item 
bool \hyperlink{classns3_1_1LrWpanMac_a0e100f9e642d0adce0e0a29384c535fc}{m\+\_\+mac\+Rx\+On\+When\+Idle}
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const uint32\+\_\+t \hyperlink{classns3_1_1LrWpanMac_a49d8579fb79ba7a3a4eed04a375380c5}{a\+Min\+M\+P\+D\+U\+Overhead} = 9
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1LrWpanMac_a440e252a3ccf4657a0041499710030dc}{Do\+Initialize} (void)
\item 
virtual void \hyperlink{classns3_1_1LrWpanMac_a055ec667c63440c5f28284a53da9e9e4}{Do\+Dispose} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1LrWpanMac_afdf2ca2fc6e15fbb1767720607a101f8}{Send\+Ack} (uint8\+\_\+t seqno)
\item 
void \hyperlink{classns3_1_1LrWpanMac_a359da7ecf2f56e4f62f5e8173bf989dd}{Remove\+First\+Tx\+Q\+Element} ()
\item 
void \hyperlink{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}{Change\+Mac\+State} (\hyperlink{group__lr-wpan_ga02ee7efd682937a8781f5e6101f61884}{Lr\+Wpan\+Mac\+State} new\+State)
\item 
void \hyperlink{classns3_1_1LrWpanMac_ae22b4d0c1d90b75101491f1e74237029}{Ack\+Wait\+Timeout} (void)
\item 
bool \hyperlink{classns3_1_1LrWpanMac_ab13e2a85286df14146410591f378f81d}{Prepare\+Retransmission} (void)
\item 
void \hyperlink{classns3_1_1LrWpanMac_a316c3cc9f84eeadb0b2ca249a6d0caba}{Check\+Queue} (void)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$, uint8\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1LrWpanMac_ac389be9d8b495db627c8f1b8036054cb}{m\+\_\+sent\+Pkt\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanMac_ab5d97c9ba008e159e541ec27df3480ea}{m\+\_\+mac\+Tx\+Enqueue\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanMac_ac59ab298ffb0b3608f5813dd237982db}{m\+\_\+mac\+Tx\+Dequeue\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanMac_ab92d16ed0eba3f4357b949c0685c1a96}{m\+\_\+mac\+Tx\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanMac_a0f0ba6655bd6aba1bac028bd25f4ab7a}{m\+\_\+mac\+Tx\+Ok\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanMac_a3ff373bbe119ee781fda57327163b43a}{m\+\_\+mac\+Tx\+Drop\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanMac_af05f835a006d0fa06af15d1d504219a4}{m\+\_\+mac\+Promisc\+Rx\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanMac_a38183ee976b61d2c93942250f5670b7c}{m\+\_\+mac\+Rx\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanMac_ac06545ba350f6e2bc5d771213875bdf6}{m\+\_\+mac\+Rx\+Drop\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanMac_a8940ff6f40ddf5d73e5c550cb0317729}{m\+\_\+sniffer\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanMac_a39b7fdffc860b187b9f316d78127d51f}{m\+\_\+promisc\+Sniffer\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{group__lr-wpan_ga02ee7efd682937a8781f5e6101f61884}{Lr\+Wpan\+Mac\+State}, \hyperlink{group__lr-wpan_ga02ee7efd682937a8781f5e6101f61884}{Lr\+Wpan\+Mac\+State} $>$ \hyperlink{classns3_1_1LrWpanMac_a7545ecfb4bdf7436739d00507872d248}{m\+\_\+mac\+State\+Logger}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LrWpanPhy}{Lr\+Wpan\+Phy} $>$ \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\+\_\+phy}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LrWpanCsmaCa}{Lr\+Wpan\+Csma\+Ca} $>$ \hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\+\_\+csma\+Ca}
\item 
\hyperlink{group__lr-wpan_ga1635d218f83c7d0107b268080efd317b}{Mcps\+Data\+Indication\+Callback} \hyperlink{classns3_1_1LrWpanMac_ada2124716389b849b2a1f9c8ff64d597}{m\+\_\+mcps\+Data\+Indication\+Callback}
\item 
\hyperlink{group__lr-wpan_ga00a61304d3d1c08a4fa8ae483f960001}{Mcps\+Data\+Confirm\+Callback} \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\+\_\+mcps\+Data\+Confirm\+Callback}
\item 
\hyperlink{classns3_1_1TracedValue}{Traced\+Value}$<$ \hyperlink{group__lr-wpan_ga02ee7efd682937a8781f5e6101f61884}{Lr\+Wpan\+Mac\+State} $>$ \hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\+\_\+lr\+Wpan\+Mac\+State}
\item 
\hyperlink{group__lr-wpan_ga807185d7d6ea3364bd69c73e4095af30}{Lr\+Wpan\+Association\+Status} \hyperlink{classns3_1_1LrWpanMac_a62c6c8e144e58da7b67dbf862b6cd15d}{m\+\_\+association\+Status}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\+\_\+tx\+Pkt}
\item 
\hyperlink{classns3_1_1Mac16Address}{Mac16\+Address} \hyperlink{classns3_1_1LrWpanMac_a6886e840ca3a1986b93db966c58ed415}{m\+\_\+short\+Address}
\item 
\hyperlink{classns3_1_1Mac64Address}{Mac64\+Address} \hyperlink{classns3_1_1LrWpanMac_ad519d2851f7d2e15c5cbc8c9bdee3f97}{m\+\_\+self\+Ext}
\item 
std\+::deque$<$ \hyperlink{structns3_1_1LrWpanMac_1_1TxQueueElement}{Tx\+Queue\+Element} $\ast$ $>$ \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\+\_\+tx\+Queue}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1LrWpanMac_afa6dceab5f0fec699c907ea8c61ffa39}{m\+\_\+retransmission}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1LrWpanMac_a1859006076f65683c1fa442375d706a6}{m\+\_\+num\+Csmaca\+Retry}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1LrWpanMac_aab5862bb53367634f12d0cddecc19fa8}{m\+\_\+ack\+Wait\+Timeout}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\+\_\+set\+Mac\+State}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Class that implements the L\+R-\/\+W\+P\+AN Mac state machine 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Sent\+Traced\+Callback@{Sent\+Traced\+Callback}}
\index{Sent\+Traced\+Callback@{Sent\+Traced\+Callback}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Sent\+Traced\+Callback}{SentTracedCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$  ns3\+::\+Lr\+Wpan\+Mac\+::\+Sent\+Traced\+Callback) ({\bf Ptr}$<$ const {\bf Packet} $>$ packet, uint8\+\_\+t retries, uint8\+\_\+t backoffs)}\hypertarget{classns3_1_1LrWpanMac_a64dc8b44e7aeb4e7c3bb9d0f71ed70e8}{}\label{classns3_1_1LrWpanMac_a64dc8b44e7aeb4e7c3bb9d0f71ed70e8}
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} signature for sent packets.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em packet} & The packet. \\
\hline
\mbox{\tt in}  & {\em retries} & The number of retries. \\
\hline
\mbox{\tt in}  & {\em backoffs} & The number of C\+S\+MA backoffs. \\
\hline
\end{DoxyParams}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!State\+Traced\+Callback@{State\+Traced\+Callback}}
\index{State\+Traced\+Callback@{State\+Traced\+Callback}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{State\+Traced\+Callback}{StateTracedCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$  ns3\+::\+Lr\+Wpan\+Mac\+::\+State\+Traced\+Callback) ({\bf Lr\+Wpan\+Mac\+State} old\+State, {\bf Lr\+Wpan\+Mac\+State} new\+State)}\hypertarget{classns3_1_1LrWpanMac_ad847a4537bebb10c39f656f1ebdb87f5}{}\label{classns3_1_1LrWpanMac_ad847a4537bebb10c39f656f1ebdb87f5}
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} signature for Lr\+Wpan\+Mac\+State change events.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em old\+Value} & The original state value. \\
\hline
\mbox{\tt in}  & {\em new\+Value} & The new state value. \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000016}{Deprecated}]The Lr\+Wpan\+Mac\+State is now accessible as the \hyperlink{classns3_1_1TracedValue}{Traced\+Value} {\ttfamily Mac\+State\+Value}. The {\ttfamily Mac\+State} \hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} will be removed in a future release. \end{DoxyRefDesc}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Lr\+Wpan\+Mac@{Lr\+Wpan\+Mac}}
\index{Lr\+Wpan\+Mac@{Lr\+Wpan\+Mac}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Lr\+Wpan\+Mac(void)}{LrWpanMac(void)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Lr\+Wpan\+Mac\+::\+Lr\+Wpan\+Mac (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_ae85526f526890de95937d9e6f1771403}{}\label{classns3_1_1LrWpanMac_ae85526f526890de95937d9e6f1771403}
Default constructor. 
\begin{DoxyCode}
132 \{
133 
134   \textcolor{comment}{// First set the state to a known value, call ChangeMacState to fire trace source.}
135   \hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} = \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE};
136   \hyperlink{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}{ChangeMacState} (\hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE});
137 
138   \hyperlink{classns3_1_1LrWpanMac_a0e100f9e642d0adce0e0a29384c535fc}{m\_macRxOnWhenIdle} = \textcolor{keyword}{true};
139   \hyperlink{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}{m\_macPanId} = 0;
140   \hyperlink{classns3_1_1LrWpanMac_a62c6c8e144e58da7b67dbf862b6cd15d}{m\_associationStatus} = \hyperlink{group__lr-wpan_gga807185d7d6ea3364bd69c73e4095af30a0a2dfb18d07419acdb0403f88a08bce5}{ASSOCIATED};
141   \hyperlink{classns3_1_1LrWpanMac_ad519d2851f7d2e15c5cbc8c9bdee3f97}{m\_selfExt} = \hyperlink{classns3_1_1Mac64Address_a8020e9e303537062c6adc7c50721fbf5}{Mac64Address::Allocate} ();
142   \hyperlink{classns3_1_1LrWpanMac_aaf3802d8a9c98323a662b4e8209144e4}{m\_macPromiscuousMode} = \textcolor{keyword}{false};
143   \hyperlink{classns3_1_1LrWpanMac_a4c627b0db8f366077e108ede4268cf7c}{m\_macMaxFrameRetries} = 3;
144   \hyperlink{classns3_1_1LrWpanMac_afa6dceab5f0fec699c907ea8c61ffa39}{m\_retransmission} = 0;
145   \hyperlink{classns3_1_1LrWpanMac_a1859006076f65683c1fa442375d706a6}{m\_numCsmacaRetry} = 0;
146   \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt} = 0;
147 
148   Ptr<UniformRandomVariable> uniformVar = CreateObject<UniformRandomVariable> ();
149   uniformVar->SetAttribute (\textcolor{stringliteral}{"Min"}, DoubleValue (0.0));
150   uniformVar->SetAttribute (\textcolor{stringliteral}{"Max"}, DoubleValue (255.0));
151   \hyperlink{classns3_1_1LrWpanMac_a8a24e6d96342082f7b0343bdd0800d8c}{m\_macDsn} = \hyperlink{group__network_ga7897a211607bda13fb584aec87cf78fc}{SequenceNumber8} (uniformVar->GetValue ());
152   \hyperlink{classns3_1_1LrWpanMac_a6886e840ca3a1986b93db966c58ed415}{m\_shortAddress} = Mac16Address (\textcolor{stringliteral}{"00:00"});
153 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!````~Lr\+Wpan\+Mac@{$\sim$\+Lr\+Wpan\+Mac}}
\index{````~Lr\+Wpan\+Mac@{$\sim$\+Lr\+Wpan\+Mac}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{$\sim$\+Lr\+Wpan\+Mac(void)}{~LrWpanMac(void)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Lr\+Wpan\+Mac\+::$\sim$\+Lr\+Wpan\+Mac (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanMac_a2623548467b001bd553496eec58f4f04}{}\label{classns3_1_1LrWpanMac_a2623548467b001bd553496eec58f4f04}

\begin{DoxyCode}
156 \{
157 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Ack\+Wait\+Timeout@{Ack\+Wait\+Timeout}}
\index{Ack\+Wait\+Timeout@{Ack\+Wait\+Timeout}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Ack\+Wait\+Timeout(void)}{AckWaitTimeout(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Ack\+Wait\+Timeout (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ae22b4d0c1d90b75101491f1e74237029}{}\label{classns3_1_1LrWpanMac_ae22b4d0c1d90b75101491f1e74237029}
Handle an A\+CK timeout with a packet retransmission, if there are retransmission left, or a packet drop. 
\begin{DoxyCode}
737 \{
738   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
739 
740   \textcolor{comment}{// TODO: If we are a PAN coordinator and this was an indirect transmission,}
741   \textcolor{comment}{//       we will not initiate a retransmission. Instead we wait for the data}
742   \textcolor{comment}{//       being extracted after a new data request command.}
743   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_ab13e2a85286df14146410591f378f81d}{PrepareRetransmission} ())
744     \{
745       \hyperlink{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}{SetLrWpanMacState} (\hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE});
746     \}
747   \textcolor{keywordflow}{else}
748     \{
749       \hyperlink{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}{SetLrWpanMacState} (\hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a48f1c874cba8ef8b6332e9bd59e1341f}{MAC\_CSMA});
750     \}
751 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Change\+Mac\+State@{Change\+Mac\+State}}
\index{Change\+Mac\+State@{Change\+Mac\+State}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Change\+Mac\+State(\+Lr\+Wpan\+Mac\+State new\+State)}{ChangeMacState(LrWpanMacState newState)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Change\+Mac\+State (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Mac\+State}}]{new\+State}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}{}\label{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}
Change the current M\+AC state to the given new state.


\begin{DoxyParams}{Parameters}
{\em new\+State} & the new state \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1018 \{
1019   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" change lrwpan mac state from "}
1020                      << \hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} << \textcolor{stringliteral}{" to "}
1021                      << newState);
1022   \hyperlink{classns3_1_1LrWpanMac_a7545ecfb4bdf7436739d00507872d248}{m\_macStateLogger} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState}, newState);
1023   \hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} = newState;
1024 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Check\+Queue@{Check\+Queue}}
\index{Check\+Queue@{Check\+Queue}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Check\+Queue(void)}{CheckQueue(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Check\+Queue (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a316c3cc9f84eeadb0b2ca249a6d0caba}{}\label{classns3_1_1LrWpanMac_a316c3cc9f84eeadb0b2ca249a6d0caba}
Check the transmission queue. If there are packets in the transmission queue and the M\+AC is idle, pick the first one and initiate a packet transmission. 
\begin{DoxyCode}
425 \{
426   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
427 
428   \textcolor{comment}{// Pull a packet from the queue and start sending, if we are not already sending.}
429   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE} && !\hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.empty () && 
      \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt} == 0 && !\hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
430     \{
431       TxQueueElement *txQElement = \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.front ();
432       \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt} = txQElement->txQPkt;
433       \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState} = \hyperlink{classns3_1_1Simulator_a2219ee02c0647adc83d1c918c3256266}{Simulator::ScheduleNow} (&
      \hyperlink{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}{LrWpanMac::SetLrWpanMacState}, \textcolor{keyword}{this}, \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a48f1c874cba8ef8b6332e9bd59e1341f}{MAC\_CSMA});
434     \}
435 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanMac_a055ec667c63440c5f28284a53da9e9e4}{}\label{classns3_1_1LrWpanMac_a055ec667c63440c5f28284a53da9e9e4}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1LrWpanMac_a055ec667c63440c5f28284a53da9e9e4}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
176 \{
177   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa} != 0)
178     \{
179       \hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa}->Dispose ();
180       \hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa} = 0;
181     \}
182   \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt} = 0;
183   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
184     \{
185       \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]->txQPkt = 0;
186       \textcolor{keyword}{delete} \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}];
187     \}
188   \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.clear ();
189   \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy} = 0;
190   \hyperlink{classns3_1_1LrWpanMac_ada2124716389b849b2a1f9c8ff64d597}{m\_mcpsDataIndicationCallback} = MakeNullCallback< void,
       McpsDataIndicationParams, Ptr<Packet> > ();
191   \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} = MakeNullCallback< void, McpsDataConfirmParams > ();
192 
193   \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{Object::DoDispose} ();
194 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Do\+Initialize@{Do\+Initialize}}
\index{Do\+Initialize@{Do\+Initialize}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Do\+Initialize(void)}{DoInitialize(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Do\+Initialize (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanMac_a440e252a3ccf4657a0041499710030dc}{}\label{classns3_1_1LrWpanMac_a440e252a3ccf4657a0041499710030dc}
\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} implementation.

This method is called only once by \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()}. If the user calls \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} multiple times, \hyperlink{classns3_1_1LrWpanMac_a440e252a3ccf4657a0041499710030dc}{Do\+Initialize()} is called only the first time.

Subclasses are expected to override this method and chain up to their parent\textquotesingle{}s implementation once they are done. It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} and \hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{Aggregate\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_af8482a521433409fb5c7f749398c9dbe}{ns3\+::\+Object}.


\begin{DoxyCode}
161 \{
162   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_a0e100f9e642d0adce0e0a29384c535fc}{m\_macRxOnWhenIdle})
163     \{
164       \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PlmeSetTRXStateRequest (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON});
165     \}
166   \textcolor{keywordflow}{else}
167     \{
168       \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PlmeSetTRXStateRequest (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
169     \}
170 
171   \hyperlink{classns3_1_1Object_af8482a521433409fb5c7f749398c9dbe}{Object::DoInitialize} ();
172 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Get\+Association\+Status@{Get\+Association\+Status}}
\index{Get\+Association\+Status@{Get\+Association\+Status}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Association\+Status(void) const }{GetAssociationStatus(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lr\+Wpan\+Association\+Status} ns3\+::\+Lr\+Wpan\+Mac\+::\+Get\+Association\+Status (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1LrWpanMac_aab3b217260099533f65c4a8fb735bc3b}{}\label{classns3_1_1LrWpanMac_aab3b217260099533f65c4a8fb735bc3b}
Get the current association status.

\begin{DoxyReturn}{Returns}
current association status 
\end{DoxyReturn}

\begin{DoxyCode}
994 \{
995   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanMac_a62c6c8e144e58da7b67dbf862b6cd15d}{m\_associationStatus};
996 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Get\+Extended\+Address@{Get\+Extended\+Address}}
\index{Get\+Extended\+Address@{Get\+Extended\+Address}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Extended\+Address(void) const }{GetExtendedAddress(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac64\+Address} ns3\+::\+Lr\+Wpan\+Mac\+::\+Get\+Extended\+Address (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1LrWpanMac_a3602b57e8b460359c7f32854ca50e954}{}\label{classns3_1_1LrWpanMac_a3602b57e8b460359c7f32854ca50e954}
Get the extended address of this M\+AC.

\begin{DoxyReturn}{Returns}
the extended address 
\end{DoxyReturn}

\begin{DoxyCode}
245 \{
246   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
247   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanMac_ad519d2851f7d2e15c5cbc8c9bdee3f97}{m\_selfExt};
248 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Get\+Mac\+Ack\+Wait\+Duration@{Get\+Mac\+Ack\+Wait\+Duration}}
\index{Get\+Mac\+Ack\+Wait\+Duration@{Get\+Mac\+Ack\+Wait\+Duration}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Mac\+Ack\+Wait\+Duration(void) const }{GetMacAckWaitDuration(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::\+Get\+Mac\+Ack\+Wait\+Duration (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1LrWpanMac_af1ee95318d31af6be902e8550d3f7c6b}{}\label{classns3_1_1LrWpanMac_af1ee95318d31af6be902e8550d3f7c6b}
Get the mac\+Ack\+Wait\+Duration attribute value.

\begin{DoxyReturn}{Returns}
the maximum number symbols to wait for an acknowledgment frame 
\end{DoxyReturn}

\begin{DoxyCode}
1028 \{
1029   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa}->GetUnitBackoffPeriod () + \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->aTurnaroundTime + 
      \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->GetPhySHRDuration ()
1030          + ceil (6 * \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->GetPhySymbolsPerOctet ());
1031 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Get\+Mac\+Max\+Frame\+Retries@{Get\+Mac\+Max\+Frame\+Retries}}
\index{Get\+Mac\+Max\+Frame\+Retries@{Get\+Mac\+Max\+Frame\+Retries}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Mac\+Max\+Frame\+Retries(void) const }{GetMacMaxFrameRetries(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::\+Get\+Mac\+Max\+Frame\+Retries (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1LrWpanMac_a7d7e6fe3caffd148bd144349512591df}{}\label{classns3_1_1LrWpanMac_a7d7e6fe3caffd148bd144349512591df}
Get the mac\+Max\+Frame\+Retries attribute value.

\begin{DoxyReturn}{Returns}
the maximum number of retries 
\end{DoxyReturn}

\begin{DoxyCode}
1035 \{
1036   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanMac_a4c627b0db8f366077e108ede4268cf7c}{m\_macMaxFrameRetries};
1037 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Get\+Pan\+Id@{Get\+Pan\+Id}}
\index{Get\+Pan\+Id@{Get\+Pan\+Id}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Pan\+Id(void) const }{GetPanId(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::\+Get\+Pan\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1LrWpanMac_a6a9b119e3bb6e77074c790a65fdf8a6c}{}\label{classns3_1_1LrWpanMac_a6a9b119e3bb6e77074c790a65fdf8a6c}
Get the P\+AN id used by this M\+AC.

\begin{DoxyReturn}{Returns}
the P\+AN id. 
\end{DoxyReturn}

\begin{DoxyCode}
1006 \{
1007   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}{m\_macPanId};
1008 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Get\+Phy@{Get\+Phy}}
\index{Get\+Phy@{Get\+Phy}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Phy(void)}{GetPhy(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Lr\+Wpan\+Phy} $>$ ns3\+::\+Lr\+Wpan\+Mac\+::\+Get\+Phy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a078d33ecb114500b7f01988b4ac5d515}{}\label{classns3_1_1LrWpanMac_a078d33ecb114500b7f01988b4ac5d515}
Get the underlying P\+HY of the M\+AC.

\begin{DoxyReturn}{Returns}
the P\+HY 
\end{DoxyReturn}

\begin{DoxyCode}
451 \{
452   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy};
453 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Get\+Rx\+On\+When\+Idle@{Get\+Rx\+On\+When\+Idle}}
\index{Get\+Rx\+On\+When\+Idle@{Get\+Rx\+On\+When\+Idle}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Rx\+On\+When\+Idle(void)}{GetRxOnWhenIdle(void)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lr\+Wpan\+Mac\+::\+Get\+Rx\+On\+When\+Idle (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a38ea561fb6884c785fff93535a4bd9e9}{}\label{classns3_1_1LrWpanMac_a38ea561fb6884c785fff93535a4bd9e9}
Check if the receiver will be enabled when the M\+AC is idle.

\begin{DoxyReturn}{Returns}
true, if the receiver is enabled during idle periods, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
198 \{
199   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanMac_a0e100f9e642d0adce0e0a29384c535fc}{m\_macRxOnWhenIdle};
200 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Get\+Short\+Address@{Get\+Short\+Address}}
\index{Get\+Short\+Address@{Get\+Short\+Address}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Short\+Address(void) const }{GetShortAddress(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac16\+Address} ns3\+::\+Lr\+Wpan\+Mac\+::\+Get\+Short\+Address (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1LrWpanMac_ad4aad83b81f2bea0ddb7e14e6280f946}{}\label{classns3_1_1LrWpanMac_ad4aad83b81f2bea0ddb7e14e6280f946}
Get the short address of this M\+AC.

\begin{DoxyReturn}{Returns}
the short address 
\end{DoxyReturn}

\begin{DoxyCode}
238 \{
239   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
240   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanMac_a6886e840ca3a1986b93db966c58ed415}{m\_shortAddress};
241 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Lr\+Wpan\+Mac\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LrWpanMac_a545f55d5d6c1c3aae2344fa42878fabe}{}\label{classns3_1_1LrWpanMac_a545f55d5d6c1c3aae2344fa42878fabe}
Get the type ID.

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
51 \{
52   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::LrWpanMac"})
53     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
54     .SetGroupName (\textcolor{stringliteral}{"LrWpan"})
55     .AddConstructor<\hyperlink{classns3_1_1LrWpanMac_ae85526f526890de95937d9e6f1771403}{LrWpanMac}> ()
56     .AddAttribute (\textcolor{stringliteral}{"PanId"}, \textcolor{stringliteral}{"16-bit identifier of the associated PAN"},
57                    UintegerValue (),
58                    MakeUintegerAccessor (&\hyperlink{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}{LrWpanMac::m\_macPanId}),
59                    MakeUintegerChecker<uint16\_t> ())
60     .AddTraceSource (\textcolor{stringliteral}{"MacTxEnqueue"},
61                      \textcolor{stringliteral}{"Trace source indicating a packet has been "}
62                      \textcolor{stringliteral}{"enqueued in the transaction queue"},
63                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_ab5d97c9ba008e159e541ec27df3480ea}{LrWpanMac::m\_macTxEnqueueTrace}),
64                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
65     .AddTraceSource (\textcolor{stringliteral}{"MacTxDequeue"},
66                      \textcolor{stringliteral}{"Trace source indicating a packet has was "}
67                      \textcolor{stringliteral}{"dequeued from the transaction queue"},
68                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_ac59ab298ffb0b3608f5813dd237982db}{LrWpanMac::m\_macTxDequeueTrace}),
69                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
70     .AddTraceSource (\textcolor{stringliteral}{"MacTx"},
71                      \textcolor{stringliteral}{"Trace source indicating a packet has "}
72                      \textcolor{stringliteral}{"arrived for transmission by this device"},
73                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_ab92d16ed0eba3f4357b949c0685c1a96}{LrWpanMac::m\_macTxTrace}),
74                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
75     .AddTraceSource (\textcolor{stringliteral}{"MacTxOk"},
76                      \textcolor{stringliteral}{"Trace source indicating a packet has been "}
77                      \textcolor{stringliteral}{"successfully sent"},
78                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_a0f0ba6655bd6aba1bac028bd25f4ab7a}{LrWpanMac::m\_macTxOkTrace}),
79                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
80     .AddTraceSource (\textcolor{stringliteral}{"MacTxDrop"},
81                      \textcolor{stringliteral}{"Trace source indicating a packet has been "}
82                      \textcolor{stringliteral}{"dropped during transmission"},
83                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_a3ff373bbe119ee781fda57327163b43a}{LrWpanMac::m\_macTxDropTrace}),
84                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
85     .AddTraceSource (\textcolor{stringliteral}{"MacPromiscRx"},
86                      \textcolor{stringliteral}{"A packet has been received by this device, "}
87                      \textcolor{stringliteral}{"has been passed up from the physical layer "}
88                      \textcolor{stringliteral}{"and is being forwarded up the local protocol stack.  "}
89                      \textcolor{stringliteral}{"This is a promiscuous trace,"},
90                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_af05f835a006d0fa06af15d1d504219a4}{LrWpanMac::m\_macPromiscRxTrace}),
91                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
92     .AddTraceSource (\textcolor{stringliteral}{"MacRx"},
93                      \textcolor{stringliteral}{"A packet has been received by this device, "}
94                      \textcolor{stringliteral}{"has been passed up from the physical layer "}
95                      \textcolor{stringliteral}{"and is being forwarded up the local protocol stack.  "}
96                      \textcolor{stringliteral}{"This is a non-promiscuous trace,"},
97                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_a38183ee976b61d2c93942250f5670b7c}{LrWpanMac::m\_macRxTrace}),
98                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
99     .AddTraceSource (\textcolor{stringliteral}{"MacRxDrop"},
100                      \textcolor{stringliteral}{"Trace source indicating a packet was received, "}
101                      \textcolor{stringliteral}{"but dropped before being forwarded up the stack"},
102                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_ac06545ba350f6e2bc5d771213875bdf6}{LrWpanMac::m\_macRxDropTrace}),
103                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
104     .AddTraceSource (\textcolor{stringliteral}{"Sniffer"},
105                      \textcolor{stringliteral}{"Trace source simulating a non-promiscuous "}
106                      \textcolor{stringliteral}{"packet sniffer attached to the device"},
107                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_a8940ff6f40ddf5d73e5c550cb0317729}{LrWpanMac::m\_snifferTrace}),
108                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
109     .AddTraceSource (\textcolor{stringliteral}{"PromiscSniffer"},
110                      \textcolor{stringliteral}{"Trace source simulating a promiscuous "}
111                      \textcolor{stringliteral}{"packet sniffer attached to the device"},
112                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_a39b7fdffc860b187b9f316d78127d51f}{LrWpanMac::m\_promiscSnifferTrace}),
113                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
114     .AddTraceSource (\textcolor{stringliteral}{"MacStateValue"},
115                      \textcolor{stringliteral}{"The state of LrWpan Mac"},
116                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{LrWpanMac::m\_lrWpanMacState}),
117                      \textcolor{stringliteral}{"ns3::TracedValueCallback::LrWpanMacState"})
118     .AddTraceSource (\textcolor{stringliteral}{"MacState"},
119                      \textcolor{stringliteral}{"The state of LrWpan Mac"},
120                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_a7545ecfb4bdf7436739d00507872d248}{LrWpanMac::m\_macStateLogger}),
121                      \textcolor{stringliteral}{"ns3::LrWpanMac::StateTracedCallback"})
122     .AddTraceSource (\textcolor{stringliteral}{"MacSentPkt"},
123                      \textcolor{stringliteral}{"Trace source reporting some information about "}
124                      \textcolor{stringliteral}{"the sent packet"},
125                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanMac_ac389be9d8b495db627c8f1b8036054cb}{LrWpanMac::m\_sentPktTrace}),
126                      \textcolor{stringliteral}{"ns3::LrWpanMac::SentTracedCallback"})
127   ;
128   \textcolor{keywordflow}{return} tid;
129 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Mcps\+Data\+Request@{Mcps\+Data\+Request}}
\index{Mcps\+Data\+Request@{Mcps\+Data\+Request}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Mcps\+Data\+Request(\+Mcps\+Data\+Request\+Params params, Ptr$<$ Packet $>$ p)}{McpsDataRequest(McpsDataRequestParams params, Ptr< Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Mcps\+Data\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Mcps\+Data\+Request\+Params}}]{params, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_acb3f2c60655d459aeb85b20536d1f7ce}{}\label{classns3_1_1LrWpanMac_acb3f2c60655d459aeb85b20536d1f7ce}
I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+1.\+1.\+1 M\+C\+P\+S-\/\+D\+A\+T\+A.\+request Request to transfer a M\+S\+DU.


\begin{DoxyParams}{Parameters}
{\em params} & the request parameters \\
\hline
{\em p} & the packet to be transmitted \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
251 \{
252   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << p);
253 
254   McpsDataConfirmParams confirmParams;
255   confirmParams.m\_msduHandle = params.m\_msduHandle;
256 
257   \textcolor{comment}{// TODO: We need a drop trace for the case that the packet is too large or the request parameters are
       maleformed.}
258   \textcolor{comment}{//       The current tx drop trace is not suitable, because packets dropped using this trace carry the
       mac header}
259   \textcolor{comment}{//       and footer, while packets being dropped here do not have them.}
260 
261   LrWpanMacHeader macHdr (\hyperlink{classns3_1_1LrWpanMacHeader_a09363d4738e8ab00b82db8268b65d7a0a977c774a497fe1195b6c91c439e6b229}{LrWpanMacHeader::LRWPAN\_MAC\_DATA}, 
      \hyperlink{classns3_1_1LrWpanMac_a8a24e6d96342082f7b0343bdd0800d8c}{m\_macDsn}.\hyperlink{classns3_1_1SequenceNumber_ad1dc215eb95f5371596af8ec914d3e72}{GetValue} ());
262   \hyperlink{classns3_1_1LrWpanMac_a8a24e6d96342082f7b0343bdd0800d8c}{m\_macDsn}++;
263 
264   \textcolor{keywordflow}{if} (p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () > \hyperlink{classns3_1_1LrWpanPhy_a0dac53931aac7c959546ca54db5e39bb}{LrWpanPhy::aMaxPhyPacketSize} - 
      \hyperlink{classns3_1_1LrWpanMac_a49d8579fb79ba7a3a4eed04a375380c5}{aMinMPDUOverhead})
265     \{
266       \textcolor{comment}{// Note, this is just testing maximum theoretical frame size per the spec}
267       \textcolor{comment}{// The frame could still be too large once headers are put on}
268       \textcolor{comment}{// in which case the phy will reject it instead}
269       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" packet too big: "} << p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
270       confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705ab8d737a09f0b50d7c2dc000179e9e38d}{IEEE\_802\_15\_4\_FRAME\_TOO\_LONG};
271       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
272         \{
273           \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
274         \}
275       \textcolor{keywordflow}{return};
276     \}
277 
278   \textcolor{keywordflow}{if} ((params.m\_srcAddrMode == \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba9a46b3a665d4f92822cfa6080de87ab4}{NO\_PANID\_ADDR})
279       && (params.m\_dstAddrMode == \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba9a46b3a665d4f92822cfa6080de87ab4}{NO\_PANID\_ADDR}))
280     \{
281       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Can not send packet with no Address field"} );
282       confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705a4a8505d97c4183f601f17d5362bada9d}{IEEE\_802\_15\_4\_INVALID\_ADDRESS};
283       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
284         \{
285           \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
286         \}
287       \textcolor{keywordflow}{return};
288     \}
289   \textcolor{keywordflow}{switch} (params.m\_srcAddrMode)
290     \{
291     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba9a46b3a665d4f92822cfa6080de87ab4}{NO\_PANID\_ADDR}:
292       macHdr.SetSrcAddrMode (params.m\_srcAddrMode);
293       macHdr.SetNoPanIdComp ();
294       \textcolor{keywordflow}{break};
295     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbbab3b2cd8e42a0d53dc6ae8e16c131f03a}{ADDR\_MODE\_RESERVED}:
296       macHdr.SetSrcAddrMode (params.m\_srcAddrMode);
297       \textcolor{keywordflow}{break};
298     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba7bf58267dde39bdabfeeb5793450c5e3}{SHORT\_ADDR}:
299       macHdr.SetSrcAddrMode (params.m\_srcAddrMode);
300       macHdr.SetSrcAddrFields (\hyperlink{classns3_1_1LrWpanMac_a6a9b119e3bb6e77074c790a65fdf8a6c}{GetPanId} (), \hyperlink{classns3_1_1LrWpanMac_ad4aad83b81f2bea0ddb7e14e6280f946}{GetShortAddress} ());
301       \textcolor{keywordflow}{break};
302     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba9b5d65e7aa5fc57c353c7c84cfe5115c}{EXT\_ADDR}:
303       macHdr.SetSrcAddrMode (params.m\_srcAddrMode);
304       macHdr.SetSrcAddrFields (\hyperlink{classns3_1_1LrWpanMac_a6a9b119e3bb6e77074c790a65fdf8a6c}{GetPanId} (), \hyperlink{classns3_1_1LrWpanMac_a3602b57e8b460359c7f32854ca50e954}{GetExtendedAddress} ());
305       \textcolor{keywordflow}{break};
306     \textcolor{keywordflow}{default}:
307       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Can not send packet with incorrect Source Address mode = "} << 
      params.m\_srcAddrMode);
308       confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705a4a8505d97c4183f601f17d5362bada9d}{IEEE\_802\_15\_4\_INVALID\_ADDRESS};
309       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
310         \{
311           \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
312         \}
313       \textcolor{keywordflow}{return};
314     \}
315 
316   macHdr.SetDstAddrMode (params.m\_dstAddrMode);
317   \textcolor{comment}{// TODO: Add field for EXT\_ADDR destination address (and use it here).}
318   macHdr.SetDstAddrFields (params.m\_dstPanId, params.m\_dstAddr);
319   macHdr.SetSecDisable ();
320   \textcolor{comment}{//extract the last 3 bits in TxOptions and map to macHdr}
321   \textcolor{keywordtype}{int} b0 = params.m\_txOptions & \hyperlink{group__lr-wpan_gga74ea891230ebf45d80d69a67266930a4a270a37d12b62bb8b5e92d646456244cf}{TX\_OPTION\_ACK};
322   \textcolor{keywordtype}{int} b1 = params.m\_txOptions & \hyperlink{group__lr-wpan_gga74ea891230ebf45d80d69a67266930a4a92b73ac4060ce7bc7ed5cf614cd48bfc}{TX\_OPTION\_GTS};
323   \textcolor{keywordtype}{int} b2 = params.m\_txOptions & \hyperlink{group__lr-wpan_gga74ea891230ebf45d80d69a67266930a4a3f550efd3c932bcf500a567e30d6fa3e}{TX\_OPTION\_INDIRECT};
324   \textcolor{keywordflow}{if} (b0 == \hyperlink{group__lr-wpan_gga74ea891230ebf45d80d69a67266930a4a270a37d12b62bb8b5e92d646456244cf}{TX\_OPTION\_ACK})
325     \{
326       \textcolor{comment}{// Set AckReq bit only if the destination is not the broadcast address.}
327       \textcolor{keywordflow}{if} (!(macHdr.GetDstAddrMode () == \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba7bf58267dde39bdabfeeb5793450c5e3}{SHORT\_ADDR} && macHdr.GetShortDstAddr () == \textcolor{stringliteral}{"ff:ff"}))
328         \{
329           macHdr.SetAckReq ();
330         \}
331     \}
332   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (b0 == 0)
333     \{
334       macHdr.SetNoAckReq ();
335     \}
336   \textcolor{keywordflow}{else}
337     \{
338       confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705a5c8b06d425e18155370ce481538e74de}{IEEE\_802\_15\_4\_INVALID\_PARAMETER};
339       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"Incorrect TxOptions bit 0 not 0/1"});
340       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
341         \{
342           \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
343         \}
344       \textcolor{keywordflow}{return};
345     \}
346 
347   \textcolor{comment}{//if is Slotted CSMA means its beacon enabled}
348   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa}->IsSlottedCsmaCa ())
349     \{
350       \textcolor{keywordflow}{if} (b1 == \hyperlink{group__lr-wpan_gga74ea891230ebf45d80d69a67266930a4a92b73ac4060ce7bc7ed5cf614cd48bfc}{TX\_OPTION\_GTS})
351         \{
352           \textcolor{comment}{//TODO:GTS Transmission}
353         \}
354       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (b1 == 0)
355         \{
356           \textcolor{comment}{//TODO:CAP Transmission}
357         \}
358       \textcolor{keywordflow}{else}
359         \{
360           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"Incorrect TxOptions bit 1 not 0/1"});
361           confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705a5c8b06d425e18155370ce481538e74de}{IEEE\_802\_15\_4\_INVALID\_PARAMETER};
362           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
363             \{
364               \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
365             \}
366           \textcolor{keywordflow}{return};
367         \}
368     \}
369   \textcolor{keywordflow}{else}
370     \{
371       \textcolor{keywordflow}{if} (b1 != 0)
372         \{
373           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"for non-beacon-enables PAN, bit 1 should always be set to 0"});
374           confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705a5c8b06d425e18155370ce481538e74de}{IEEE\_802\_15\_4\_INVALID\_PARAMETER};
375           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
376             \{
377               \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
378             \}
379           \textcolor{keywordflow}{return};
380         \}
381     \}
382 
383   \textcolor{keywordflow}{if} (b2 == \hyperlink{group__lr-wpan_gga74ea891230ebf45d80d69a67266930a4a3f550efd3c932bcf500a567e30d6fa3e}{TX\_OPTION\_INDIRECT})
384     \{
385       \textcolor{comment}{//TODO :indirect tx}
386     \}
387   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (b2 == 0)
388     \{
389       \textcolor{comment}{//TODO :direct tx}
390     \}
391   \textcolor{keywordflow}{else}
392     \{
393       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"Incorrect TxOptions bit 2 not 0/1"});
394       confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705a5c8b06d425e18155370ce481538e74de}{IEEE\_802\_15\_4\_INVALID\_PARAMETER};
395       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
396         \{
397           \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
398         \}
399       \textcolor{keywordflow}{return};
400     \}
401 
402   p->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (macHdr);
403 
404   LrWpanMacTrailer macTrailer;
405   \textcolor{comment}{// Calculate FCS if the global attribute ChecksumEnable is set.}
406   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Node_a0515bfe9a3aeb6605d657ba855699815}{Node::ChecksumEnabled} ())
407     \{
408       macTrailer.EnableFcs (\textcolor{keyword}{true});
409       macTrailer.SetFcs (p);
410     \}
411   p->\hyperlink{classns3_1_1Packet_ae26b490c30ae5bc98be5181ec6e06db8}{AddTrailer} (macTrailer);
412 
413   \hyperlink{classns3_1_1LrWpanMac_ab5d97c9ba008e159e541ec27df3480ea}{m\_macTxEnqueueTrace} (p);
414 
415   TxQueueElement *txQElement = \textcolor{keyword}{new} TxQueueElement;
416   txQElement->txQMsduHandle = params.m\_msduHandle;
417   txQElement->txQPkt = \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
418   \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.push\_back (txQElement);
419 
420   \hyperlink{classns3_1_1LrWpanMac_a316c3cc9f84eeadb0b2ca249a6d0caba}{CheckQueue} ();
421 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Pd\+Data\+Confirm@{Pd\+Data\+Confirm}}
\index{Pd\+Data\+Confirm@{Pd\+Data\+Confirm}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Pd\+Data\+Confirm(\+Lr\+Wpan\+Phy\+Enumeration status)}{PdDataConfirm(LrWpanPhyEnumeration status)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Pd\+Data\+Confirm (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Phy\+Enumeration}}]{status}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_ac81207dec57efdb50dc4b1132e68399f}{}\label{classns3_1_1LrWpanMac_ac81207dec57efdb50dc4b1132e68399f}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+1.\+2 Confirm the end of transmission of an M\+P\+DU to M\+AC 
\begin{DoxyParams}{Parameters}
{\em status} & to report to M\+AC P\+HY P\+D-\/\+D\+A\+T\+A.\+confirm status \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
785 \{
786   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884acf17acc290679d9afce9a216fcf742bc}{MAC\_SENDING});
787 
788   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << status << \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.size ());
789 
790   LrWpanMacHeader macHdr;
791   \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt}->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (macHdr);
792   \textcolor{keywordflow}{if} (status == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS})
793     \{
794       \textcolor{keywordflow}{if} (!macHdr.IsAcknowledgment ())
795         \{
796           \textcolor{comment}{// We have just send a regular data packet, check if we have to wait}
797           \textcolor{comment}{// for an ACK.}
798           \textcolor{keywordflow}{if} (macHdr.IsAckReq ())
799             \{
800               \textcolor{comment}{// wait for the ack or the next retransmission timeout}
801               \textcolor{comment}{// start retransmission timer}
802               \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} waitTime = \hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (
      \hyperlink{classns3_1_1LrWpanMac_af1ee95318d31af6be902e8550d3f7c6b}{GetMacAckWaitDuration} () * 1000 * 1000 / \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->GetDataOrSymbolRate (\textcolor{keyword}{false}));
803               \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanMac_aab5862bb53367634f12d0cddecc19fa8}{m\_ackWaitTimeout}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
804               \hyperlink{classns3_1_1LrWpanMac_aab5862bb53367634f12d0cddecc19fa8}{m\_ackWaitTimeout} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (waitTime, &
      \hyperlink{classns3_1_1LrWpanMac_ae22b4d0c1d90b75101491f1e74237029}{LrWpanMac::AckWaitTimeout}, \textcolor{keyword}{this});
805               \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
806               \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState} = \hyperlink{classns3_1_1Simulator_a2219ee02c0647adc83d1c918c3256266}{Simulator::ScheduleNow} (&
      \hyperlink{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}{LrWpanMac::SetLrWpanMacState}, \textcolor{keyword}{this}, \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884ae46a1e995082569f76cb986500770ab8}{MAC\_ACK\_PENDING});
807               \textcolor{keywordflow}{return};
808             \}
809           \textcolor{keywordflow}{else}
810             \{
811               \hyperlink{classns3_1_1LrWpanMac_a0f0ba6655bd6aba1bac028bd25f4ab7a}{m\_macTxOkTrace} (\hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt});
812               \textcolor{comment}{// remove the copy of the packet that was just sent}
813               \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
814                 \{
815                   McpsDataConfirmParams confirmParams;
816                   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.size () > 0, \textcolor{stringliteral}{"TxQsize = 0"});
817                   TxQueueElement *txQElement = \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.front ();
818                   confirmParams.m\_msduHandle = txQElement->txQMsduHandle;
819                   confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705a9fcca1742a3f5fd112aab55e786a0124}{IEEE\_802\_15\_4\_SUCCESS};
820                   \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
821                 \}
822               \hyperlink{classns3_1_1LrWpanMac_a359da7ecf2f56e4f62f5e8173bf989dd}{RemoveFirstTxQElement} ();
823             \}
824         \}
825       \textcolor{keywordflow}{else}
826         \{
827           \textcolor{comment}{// We have send an ACK. Clear the packet buffer.}
828           \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt} = 0;
829         \}
830     \}
831   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (status == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a33aedad985a3e4dd7a0c6790a2c677a0}{IEEE\_802\_15\_4\_PHY\_UNSPECIFIED})
832     \{
833 
834       \textcolor{keywordflow}{if} (!macHdr.IsAcknowledgment ())
835         \{
836           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.size () > 0, \textcolor{stringliteral}{"TxQsize = 0"});
837           TxQueueElement *txQElement = \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.front ();
838           \hyperlink{classns3_1_1LrWpanMac_a3ff373bbe119ee781fda57327163b43a}{m\_macTxDropTrace} (txQElement->txQPkt);
839           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
840             \{
841               McpsDataConfirmParams confirmParams;
842               confirmParams.m\_msduHandle = txQElement->txQMsduHandle;
843               confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705ab8d737a09f0b50d7c2dc000179e9e38d}{IEEE\_802\_15\_4\_FRAME\_TOO\_LONG};
844               \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
845             \}
846           \hyperlink{classns3_1_1LrWpanMac_a359da7ecf2f56e4f62f5e8173bf989dd}{RemoveFirstTxQElement} ();
847         \}
848       \textcolor{keywordflow}{else}
849         \{
850           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Unable to send ACK"});
851         \}
852     \}
853   \textcolor{keywordflow}{else}
854     \{
855       \textcolor{comment}{// Something went really wrong. The PHY is not in the correct state for}
856       \textcolor{comment}{// data transmission.}
857       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Transmission attempt failed with PHY status "} << status);
858     \}
859 
860   \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
861   \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState} = \hyperlink{classns3_1_1Simulator_a2219ee02c0647adc83d1c918c3256266}{Simulator::ScheduleNow} (&
      \hyperlink{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}{LrWpanMac::SetLrWpanMacState}, \textcolor{keyword}{this}, \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE});
862 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Pd\+Data\+Indication@{Pd\+Data\+Indication}}
\index{Pd\+Data\+Indication@{Pd\+Data\+Indication}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Pd\+Data\+Indication(uint32\+\_\+t psdu\+Length, Ptr$<$ Packet $>$ p, uint8\+\_\+t lqi)}{PdDataIndication(uint32_t psduLength, Ptr< Packet > p, uint8_t lqi)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Pd\+Data\+Indication (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{psdu\+Length, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p, }
\item[{uint8\+\_\+t}]{lqi}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a71139cc1bd26ab1c0a9c2e7791631389}{}\label{classns3_1_1LrWpanMac_a71139cc1bd26ab1c0a9c2e7791631389}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+1.\+3 P\+D-\/\+D\+A\+T\+A.\+indication Indicates the transfer of an M\+P\+DU from P\+HY to M\+AC (receiving) 
\begin{DoxyParams}{Parameters}
{\em psdu\+Length} & number of bytes in the P\+S\+DU \\
\hline
{\em p} & the packet to be transmitted \\
\hline
{\em lqi} & Link quality (L\+QI) value measured during reception of the P\+P\+DU \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
469 \{
470   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE} || 
      \hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884ae46a1e995082569f76cb986500770ab8}{MAC\_ACK\_PENDING} || 
      \hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a48f1c874cba8ef8b6332e9bd59e1341f}{MAC\_CSMA});
471 
472   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << psduLength << p << (uint16\_t)lqi);
473 
474   \textcolor{keywordtype}{bool} acceptFrame;
475 
476   \textcolor{comment}{// from sec 7.5.6.2 Reception and rejection, Std802.15.4-2006}
477   \textcolor{comment}{// level 1 filtering, test FCS field and reject if frame fails}
478   \textcolor{comment}{// level 2 filtering if promiscuous mode pass frame to higher layer otherwise perform level 3 filtering}
479   \textcolor{comment}{// level 3 filtering accept frame}
480   \textcolor{comment}{// if Frame type and version is not reserved, and}
481   \textcolor{comment}{// if there is a dstPanId then dstPanId=m\_macPanId or broadcastPanI, and}
482   \textcolor{comment}{// if there is a shortDstAddr then shortDstAddr =shortMacAddr or broadcastAddr, and}
483   \textcolor{comment}{// if beacon frame then srcPanId = m\_macPanId}
484   \textcolor{comment}{// if only srcAddr field in Data or Command frame,accept frame if srcPanId=m\_macPanId}
485 
486   Ptr<Packet> originalPkt = p->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} (); \textcolor{comment}{// because we will strip headers}
487 
488   \hyperlink{classns3_1_1LrWpanMac_a39b7fdffc860b187b9f316d78127d51f}{m\_promiscSnifferTrace} (originalPkt);
489 
490   \hyperlink{classns3_1_1LrWpanMac_af05f835a006d0fa06af15d1d504219a4}{m\_macPromiscRxTrace} (originalPkt);
491   \textcolor{comment}{// XXX no rejection tracing (to macRxDropTrace) being performed below}
492 
493   LrWpanMacTrailer receivedMacTrailer;
494   p->\hyperlink{classns3_1_1Packet_a2155e042083e9a17ad3b33f9fecb4be4}{RemoveTrailer} (receivedMacTrailer);
495   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Node_a0515bfe9a3aeb6605d657ba855699815}{Node::ChecksumEnabled} ())
496     \{
497       receivedMacTrailer.EnableFcs (\textcolor{keyword}{true});
498     \}
499 
500   \textcolor{comment}{// level 1 filtering}
501   \textcolor{keywordflow}{if} (!receivedMacTrailer.CheckFcs (p))
502     \{
503       \hyperlink{classns3_1_1LrWpanMac_ac06545ba350f6e2bc5d771213875bdf6}{m\_macRxDropTrace} (originalPkt);
504     \}
505   \textcolor{keywordflow}{else}
506     \{
507       LrWpanMacHeader receivedMacHdr;
508       p->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (receivedMacHdr);
509 
510       McpsDataIndicationParams params;
511       params.m\_dsn = receivedMacHdr.GetSeqNum ();
512       params.m\_mpduLinkQuality = lqi;
513       params.m\_srcPanId = receivedMacHdr.GetSrcPanId ();
514       params.m\_srcAddrMode = receivedMacHdr.GetSrcAddrMode ();
515       \textcolor{comment}{// TODO: Add field for EXT\_ADDR source address.}
516       \textcolor{keywordflow}{if} (params.m\_srcAddrMode == \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba7bf58267dde39bdabfeeb5793450c5e3}{SHORT\_ADDR})
517         \{
518           params.m\_srcAddr = receivedMacHdr.GetShortSrcAddr ();
519         \}
520       params.m\_dstPanId = receivedMacHdr.GetDstPanId ();
521       params.m\_dstAddrMode = receivedMacHdr.GetDstAddrMode ();
522       \textcolor{comment}{// TODO: Add field for EXT\_ADDR destination address.}
523       \textcolor{keywordflow}{if} (params.m\_dstAddrMode == \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba7bf58267dde39bdabfeeb5793450c5e3}{SHORT\_ADDR})
524         \{
525           params.m\_dstAddr = receivedMacHdr.GetShortDstAddr ();
526         \}
527 
528       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Packet from "} << params.m\_srcAddr << \textcolor{stringliteral}{" to "} << params.m\_dstAddr);
529 
530       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_aaf3802d8a9c98323a662b4e8209144e4}{m\_macPromiscuousMode})
531         \{
532           \textcolor{comment}{//level 2 filtering}
533           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_ada2124716389b849b2a1f9c8ff64d597}{m\_mcpsDataIndicationCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
534             \{
535               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"promiscuous mode, forwarding up"});
536               \hyperlink{classns3_1_1LrWpanMac_ada2124716389b849b2a1f9c8ff64d597}{m\_mcpsDataIndicationCallback} (params, p);
537             \}
538           \textcolor{keywordflow}{else}
539             \{
540               \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Data Indication Callback not initialised"});
541             \}
542         \}
543       \textcolor{keywordflow}{else}
544         \{
545           \textcolor{comment}{//level 3 frame filtering}
546           acceptFrame = (receivedMacHdr.GetType () != 
      \hyperlink{classns3_1_1LrWpanMacHeader_a09363d4738e8ab00b82db8268b65d7a0ae3fb9f8497adcc664c79a392bd0f6fe8}{LrWpanMacHeader::LRWPAN\_MAC\_RESERVED});
547 
548           \textcolor{keywordflow}{if} (acceptFrame)
549             \{
550               acceptFrame = (receivedMacHdr.GetFrameVer () <= 1);
551             \}
552 
553           \textcolor{keywordflow}{if} (acceptFrame
554               && (receivedMacHdr.GetDstAddrMode () > 1))
555             \{
556               acceptFrame = receivedMacHdr.GetDstPanId () == \hyperlink{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}{m\_macPanId}
557                 || receivedMacHdr.GetDstPanId () == 0xffff;
558             \}
559 
560           \textcolor{keywordflow}{if} (acceptFrame
561               && (receivedMacHdr.GetDstAddrMode () == 2))
562             \{
563               acceptFrame = receivedMacHdr.GetShortDstAddr () == \hyperlink{classns3_1_1LrWpanMac_a6886e840ca3a1986b93db966c58ed415}{m\_shortAddress}
564                 || receivedMacHdr.GetShortDstAddr () == Mac16Address (\textcolor{stringliteral}{"ff:ff"});        \textcolor{comment}{// check for
       broadcast addrs}
565             \}
566 
567           \textcolor{keywordflow}{if} (acceptFrame
568               && (receivedMacHdr.GetDstAddrMode () == 3))
569             \{
570               acceptFrame = (receivedMacHdr.GetExtDstAddr () == \hyperlink{classns3_1_1LrWpanMac_ad519d2851f7d2e15c5cbc8c9bdee3f97}{m\_selfExt});
571             \}
572 
573           \textcolor{keywordflow}{if} (acceptFrame
574               && (receivedMacHdr.GetType () == 
      \hyperlink{classns3_1_1LrWpanMacHeader_a09363d4738e8ab00b82db8268b65d7a0a43b1d580f710b65ea2839b2f4b64127a}{LrWpanMacHeader::LRWPAN\_MAC\_BEACON}))
575             \{
576               \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}{m\_macPanId} == 0xffff)
577                 \{
578                   \textcolor{comment}{// TODO: Accept only if the frame version field is valid}
579                   acceptFrame = \textcolor{keyword}{true};
580                 \}
581               \textcolor{keywordflow}{else}
582                 \{
583                   acceptFrame = receivedMacHdr.GetSrcPanId () == \hyperlink{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}{m\_macPanId};
584                 \}
585             \}
586 
587           \textcolor{keywordflow}{if} (acceptFrame
588               && ((receivedMacHdr.GetType () == \hyperlink{classns3_1_1LrWpanMacHeader_a09363d4738e8ab00b82db8268b65d7a0a977c774a497fe1195b6c91c439e6b229}{LrWpanMacHeader::LRWPAN\_MAC\_DATA}
      )
589                   || (receivedMacHdr.GetType () == 
      \hyperlink{classns3_1_1LrWpanMacHeader_a09363d4738e8ab00b82db8268b65d7a0a52154bc6cb820dbba541d2330ce9ea7e}{LrWpanMacHeader::LRWPAN\_MAC\_COMMAND}))
590               && (receivedMacHdr.GetSrcAddrMode () > 1))
591             \{
592               acceptFrame = receivedMacHdr.GetSrcPanId () == \hyperlink{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}{m\_macPanId}; \textcolor{comment}{// \(\backslash\)todo need to check
       if PAN coord}
593             \}
594 
595           \textcolor{keywordflow}{if} (acceptFrame)
596             \{
597               \hyperlink{classns3_1_1LrWpanMac_a38183ee976b61d2c93942250f5670b7c}{m\_macRxTrace} (originalPkt);
598               \textcolor{comment}{// \(\backslash\)todo: What should we do if we receive a frame while waiting for an ACK?}
599               \textcolor{comment}{//        Especially if this frame has the ACK request bit set, should we reply with an ACK,
       possibly missing the pending ACK?}
600 
601               \textcolor{comment}{// If the received frame is a frame with the ACK request bit set, we immediately send back an
       ACK.}
602               \textcolor{comment}{// If we are currently waiting for a pending ACK, we assume the ACK was lost and trigger a
       retransmission after sending the ACK.}
603               \textcolor{keywordflow}{if} ((receivedMacHdr.IsData () || receivedMacHdr.IsCommand ()) && receivedMacHdr.IsAckReq ()
604                   && !(receivedMacHdr.GetDstAddrMode () == \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba7bf58267dde39bdabfeeb5793450c5e3}{SHORT\_ADDR} && receivedMacHdr.
      GetShortDstAddr () == \textcolor{stringliteral}{"ff:ff"}))
605                 \{
606                   \textcolor{comment}{// If this is a data or mac command frame, which is not a broadcast,}
607                   \textcolor{comment}{// with ack req set, generate and send an ack frame.}
608                   \textcolor{comment}{// If there is a CSMA medium access in progress we cancel the medium access}
609                   \textcolor{comment}{// for sending the ACK frame. A new transmission attempt will be started}
610                   \textcolor{comment}{// after the ACK was send.}
611                   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884ae46a1e995082569f76cb986500770ab8}{MAC\_ACK\_PENDING})
612                     \{
613                       \hyperlink{classns3_1_1LrWpanMac_aab5862bb53367634f12d0cddecc19fa8}{m\_ackWaitTimeout}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
614                       \hyperlink{classns3_1_1LrWpanMac_ab13e2a85286df14146410591f378f81d}{PrepareRetransmission} ();
615                     \}
616                   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a48f1c874cba8ef8b6332e9bd59e1341f}{MAC\_CSMA})
617                     \{
618                       \textcolor{comment}{// \(\backslash\)todo: If we receive a packet while doing CSMA/CA, should  we drop the packet
       because of channel busy,}
619                       \textcolor{comment}{//        or should we restart CSMA/CA for the packet after sending the ACK?}
620                       \textcolor{comment}{// Currently we simply restart CSMA/CA after sending the ACK.}
621                       \hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa}->Cancel ();
622                     \}
623                   \textcolor{comment}{// Cancel any pending MAC state change, ACKs have higher priority.}
624                   \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
625                   \hyperlink{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}{ChangeMacState} (\hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE});
626                   \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState} = \hyperlink{classns3_1_1Simulator_a2219ee02c0647adc83d1c918c3256266}{Simulator::ScheduleNow} (&
      \hyperlink{classns3_1_1LrWpanMac_afdf2ca2fc6e15fbb1767720607a101f8}{LrWpanMac::SendAck}, \textcolor{keyword}{this}, receivedMacHdr.GetSeqNum ());
627                 \}
628 
629               \textcolor{keywordflow}{if} (receivedMacHdr.IsData () && !\hyperlink{classns3_1_1LrWpanMac_ada2124716389b849b2a1f9c8ff64d597}{m\_mcpsDataIndicationCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
630                 \{
631                   \textcolor{comment}{// If it is a data frame, push it up the stack.}
632                   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"PdDataIndication():  Packet is for me; forwarding up"});
633                   \hyperlink{classns3_1_1LrWpanMac_ada2124716389b849b2a1f9c8ff64d597}{m\_mcpsDataIndicationCallback} (params, p);
634                 \}
635               \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (receivedMacHdr.IsAcknowledgment () && \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt} && 
      \hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884ae46a1e995082569f76cb986500770ab8}{MAC\_ACK\_PENDING})
636                 \{
637                   LrWpanMacHeader macHdr;
638                   \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt}->\hyperlink{classns3_1_1Packet_aadc63487bea70945c418f4c3e9b81964}{PeekHeader} (macHdr);
639                   \textcolor{keywordflow}{if} (receivedMacHdr.GetSeqNum () == macHdr.GetSeqNum ())
640                     \{
641                       \hyperlink{classns3_1_1LrWpanMac_a0f0ba6655bd6aba1bac028bd25f4ab7a}{m\_macTxOkTrace} (\hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt});
642                       \textcolor{comment}{// If it is an ACK with the expected sequence number, finish the transmission}
643                       \textcolor{comment}{// and notify the upper layer.}
644                       \hyperlink{classns3_1_1LrWpanMac_aab5862bb53367634f12d0cddecc19fa8}{m\_ackWaitTimeout}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
645                       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
646                         \{
647                           TxQueueElement *txQElement = \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.front ();
648                           McpsDataConfirmParams confirmParams;
649                           confirmParams.m\_msduHandle = txQElement->txQMsduHandle;
650                           confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705a9fcca1742a3f5fd112aab55e786a0124}{IEEE\_802\_15\_4\_SUCCESS};
651                           \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
652                         \}
653                       \hyperlink{classns3_1_1LrWpanMac_a359da7ecf2f56e4f62f5e8173bf989dd}{RemoveFirstTxQElement} ();
654                       \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
655                       \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState} = \hyperlink{classns3_1_1Simulator_a2219ee02c0647adc83d1c918c3256266}{Simulator::ScheduleNow} (&
      \hyperlink{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}{LrWpanMac::SetLrWpanMacState}, \textcolor{keyword}{this}, \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE});
656                     \}
657                   \textcolor{keywordflow}{else}
658                     \{
659                       \textcolor{comment}{// If it is an ACK with an unexpected sequence number, mark the current transmission
       as failed and start a retransmit. (cf 7.5.6.4.3)}
660                       \hyperlink{classns3_1_1LrWpanMac_aab5862bb53367634f12d0cddecc19fa8}{m\_ackWaitTimeout}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
661                       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_ab13e2a85286df14146410591f378f81d}{PrepareRetransmission} ())
662                         \{
663                           \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
664                           \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState} = \hyperlink{classns3_1_1Simulator_a2219ee02c0647adc83d1c918c3256266}{Simulator::ScheduleNow} (&
      \hyperlink{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}{LrWpanMac::SetLrWpanMacState}, \textcolor{keyword}{this}, \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE});
665                         \}
666                       \textcolor{keywordflow}{else}
667                         \{
668                           \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
669                           \hyperlink{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{m\_setMacState} = \hyperlink{classns3_1_1Simulator_a2219ee02c0647adc83d1c918c3256266}{Simulator::ScheduleNow} (&
      \hyperlink{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}{LrWpanMac::SetLrWpanMacState}, \textcolor{keyword}{this}, \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a48f1c874cba8ef8b6332e9bd59e1341f}{MAC\_CSMA});
670                         \}
671                     \}
672                 \}
673             \}
674           \textcolor{keywordflow}{else}
675             \{
676               \hyperlink{classns3_1_1LrWpanMac_ac06545ba350f6e2bc5d771213875bdf6}{m\_macRxDropTrace} (originalPkt);
677             \}
678         \}
679     \}
680 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19




Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Plme\+Cca\+Confirm@{Plme\+Cca\+Confirm}}
\index{Plme\+Cca\+Confirm@{Plme\+Cca\+Confirm}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Plme\+Cca\+Confirm(\+Lr\+Wpan\+Phy\+Enumeration status)}{PlmeCcaConfirm(LrWpanPhyEnumeration status)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Plme\+Cca\+Confirm (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Phy\+Enumeration}}]{status}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a09ef4c443d9e6f0b1411170267ddf474}{}\label{classns3_1_1LrWpanMac_a09ef4c443d9e6f0b1411170267ddf474}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+2.\+2 P\+L\+M\+E-\/\+C\+C\+A.\+confirm status 
\begin{DoxyParams}{Parameters}
{\em status} & T\+R\+X\+\_\+\+O\+FF, B\+U\+SY or I\+D\+LE \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
866 \{
867   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << status);
868   \textcolor{comment}{// Direct this call through the csmaCa object}
869   \hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa}->PlmeCcaConfirm (status);
870 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Plme\+Ed\+Confirm@{Plme\+Ed\+Confirm}}
\index{Plme\+Ed\+Confirm@{Plme\+Ed\+Confirm}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Plme\+Ed\+Confirm(\+Lr\+Wpan\+Phy\+Enumeration status, uint8\+\_\+t energy\+Level)}{PlmeEdConfirm(LrWpanPhyEnumeration status, uint8_t energyLevel)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Plme\+Ed\+Confirm (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Phy\+Enumeration}}]{status, }
\item[{uint8\+\_\+t}]{energy\+Level}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a372f799dc789d4a24f7c6ba02c728ca3}{}\label{classns3_1_1LrWpanMac_a372f799dc789d4a24f7c6ba02c728ca3}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+2.\+4 P\+L\+M\+E-\/\+E\+D.\+confirm status and energy level 
\begin{DoxyParams}{Parameters}
{\em status} & S\+U\+C\+C\+E\+SS, T\+R\+X\+\_\+\+O\+FF or T\+X\+\_\+\+ON \\
\hline
{\em energy\+Level} & 0x00-\/0xff ED level for the channel \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
874 \{
875   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << status << energyLevel);
876 
877 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Plme\+Get\+Attribute\+Confirm@{Plme\+Get\+Attribute\+Confirm}}
\index{Plme\+Get\+Attribute\+Confirm@{Plme\+Get\+Attribute\+Confirm}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Plme\+Get\+Attribute\+Confirm(\+Lr\+Wpan\+Phy\+Enumeration status, Lr\+Wpan\+Pib\+Attribute\+Identifier id, Lr\+Wpan\+Phy\+Pib\+Attributes $\ast$attribute)}{PlmeGetAttributeConfirm(LrWpanPhyEnumeration status, LrWpanPibAttributeIdentifier id, LrWpanPhyPibAttributes *attribute)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Plme\+Get\+Attribute\+Confirm (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Phy\+Enumeration}}]{status, }
\item[{{\bf Lr\+Wpan\+Pib\+Attribute\+Identifier}}]{id, }
\item[{{\bf Lr\+Wpan\+Phy\+Pib\+Attributes} $\ast$}]{attribute}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a94441fcedfe8decefa629115668efb33}{}\label{classns3_1_1LrWpanMac_a94441fcedfe8decefa629115668efb33}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+2.\+6 P\+L\+M\+E-\/\+G\+E\+T.\+confirm Get attributes per definition from Table 23 in section 6.\+4.\+2 
\begin{DoxyParams}{Parameters}
{\em status} & S\+U\+C\+C\+E\+SS or U\+N\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE \\
\hline
{\em id} & the attributed identifier \\
\hline
{\em attribute} & the attribute value \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
883 \{
884   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << status << \textcolor{keywordtype}{id} << attribute);
885 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Plme\+Set\+Attribute\+Confirm@{Plme\+Set\+Attribute\+Confirm}}
\index{Plme\+Set\+Attribute\+Confirm@{Plme\+Set\+Attribute\+Confirm}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Plme\+Set\+Attribute\+Confirm(\+Lr\+Wpan\+Phy\+Enumeration status, Lr\+Wpan\+Pib\+Attribute\+Identifier id)}{PlmeSetAttributeConfirm(LrWpanPhyEnumeration status, LrWpanPibAttributeIdentifier id)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Plme\+Set\+Attribute\+Confirm (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Phy\+Enumeration}}]{status, }
\item[{{\bf Lr\+Wpan\+Pib\+Attribute\+Identifier}}]{id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_aa28b4bf7ea32aaf9b0c8554e384f279a}{}\label{classns3_1_1LrWpanMac_aa28b4bf7ea32aaf9b0c8554e384f279a}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+2.\+10 P\+L\+M\+E-\/\+S\+E\+T.\+confirm Set attributes per definition from Table 23 in section 6.\+4.\+2 
\begin{DoxyParams}{Parameters}
{\em status} & S\+U\+C\+C\+E\+SS, U\+N\+S\+U\+P\+P\+O\+R\+T\+E\+D\+\_\+\+A\+T\+T\+R\+I\+B\+U\+TE, I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+A\+R\+A\+M\+E\+T\+ER, or R\+E\+A\+D\+\_\+\+O\+N\+LY \\
\hline
{\em id} & the attributed identifier \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
928 \{
929   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << status << \textcolor{keywordtype}{id});
930 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 23


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Plme\+Set\+T\+R\+X\+State\+Confirm@{Plme\+Set\+T\+R\+X\+State\+Confirm}}
\index{Plme\+Set\+T\+R\+X\+State\+Confirm@{Plme\+Set\+T\+R\+X\+State\+Confirm}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Plme\+Set\+T\+R\+X\+State\+Confirm(\+Lr\+Wpan\+Phy\+Enumeration status)}{PlmeSetTRXStateConfirm(LrWpanPhyEnumeration status)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Plme\+Set\+T\+R\+X\+State\+Confirm (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Phy\+Enumeration}}]{status}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a179b41ff2bf7435896b150cf83a00f02}{}\label{classns3_1_1LrWpanMac_a179b41ff2bf7435896b150cf83a00f02}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+2.\+8 P\+L\+M\+E-\/\+S\+E\+T-\/\+T\+R\+X-\/\+S\+T\+A\+T\+E.\+confirm Set P\+HY state 
\begin{DoxyParams}{Parameters}
{\em status} & in R\+X\+\_\+\+ON,T\+R\+X\+\_\+\+O\+FF,F\+O\+R\+C\+E\+\_\+\+T\+R\+X\+\_\+\+O\+FF,T\+X\+\_\+\+ON \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
889 \{
890   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << status);
891 
892   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884acf17acc290679d9afce9a216fcf742bc}{MAC\_SENDING} && (status == 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON} || status == 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS}))
893     \{
894       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt});
895 
896       \textcolor{comment}{// Start sending if we are in state SENDING and the PHY transmitter was enabled.}
897       \hyperlink{classns3_1_1LrWpanMac_a39b7fdffc860b187b9f316d78127d51f}{m\_promiscSnifferTrace} (\hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt});
898       \hyperlink{classns3_1_1LrWpanMac_a8940ff6f40ddf5d73e5c550cb0317729}{m\_snifferTrace} (\hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt});
899       \hyperlink{classns3_1_1LrWpanMac_ab92d16ed0eba3f4357b949c0685c1a96}{m\_macTxTrace} (\hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt});
900       \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PdDataRequest (\hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt}->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt});
901     \}
902   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a48f1c874cba8ef8b6332e9bd59e1341f}{MAC\_CSMA} && (status == 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON} || status == 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS}))
903     \{
904       \textcolor{comment}{// Start the CSMA algorithm as soon as the receiver is enabled.}
905       \hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa}->Start ();
906     \}
907   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE})
908     \{
909       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (status == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON} || status == 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS} || status == 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
910       \textcolor{comment}{// Do nothing special when going idle.}
911     \}
912   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884ae46a1e995082569f76cb986500770ab8}{MAC\_ACK\_PENDING})
913     \{
914       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (status == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON} || status == 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS});
915     \}
916   \textcolor{keywordflow}{else}
917     \{
918       \textcolor{comment}{// TODO: What to do when we receive an error?}
919       \textcolor{comment}{// If we want to transmit a packet, but switching the transceiver on results}
920       \textcolor{comment}{// in an error, we have to recover somehow (and start sending again).}
921       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Error changing transceiver state"});
922     \}
923 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 24




Here is the caller graph for this function\+:
% FIG 25


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Prepare\+Retransmission@{Prepare\+Retransmission}}
\index{Prepare\+Retransmission@{Prepare\+Retransmission}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Prepare\+Retransmission(void)}{PrepareRetransmission(void)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lr\+Wpan\+Mac\+::\+Prepare\+Retransmission (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ab13e2a85286df14146410591f378f81d}{}\label{classns3_1_1LrWpanMac_ab13e2a85286df14146410591f378f81d}
Check for remaining retransmissions for the packet currently being sent. Drop the packet, if there are no retransmissions left.

\begin{DoxyReturn}{Returns}
true, if the packet should be retransmitted, false otherwise. 
\end{DoxyReturn}

\begin{DoxyCode}
755 \{
756   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
757 
758   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_afa6dceab5f0fec699c907ea8c61ffa39}{m\_retransmission} >= \hyperlink{classns3_1_1LrWpanMac_a4c627b0db8f366077e108ede4268cf7c}{m\_macMaxFrameRetries})
759     \{
760       \textcolor{comment}{// Maximum number of retransmissions has been reached.}
761       \textcolor{comment}{// remove the copy of the packet that was just sent}
762       TxQueueElement *txQElement = \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.front ();
763       \hyperlink{classns3_1_1LrWpanMac_a3ff373bbe119ee781fda57327163b43a}{m\_macTxDropTrace} (txQElement->txQPkt);
764       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
765         \{
766           McpsDataConfirmParams confirmParams;
767           confirmParams.m\_msduHandle = txQElement->txQMsduHandle;
768           confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705a41f6dfd2ce069ea23beba15a41c09c25}{IEEE\_802\_15\_4\_NO\_ACK};
769           \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
770         \}
771       \hyperlink{classns3_1_1LrWpanMac_a359da7ecf2f56e4f62f5e8173bf989dd}{RemoveFirstTxQElement} ();
772       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
773     \}
774   \textcolor{keywordflow}{else}
775     \{
776       \hyperlink{classns3_1_1LrWpanMac_afa6dceab5f0fec699c907ea8c61ffa39}{m\_retransmission}++;
777       \hyperlink{classns3_1_1LrWpanMac_a1859006076f65683c1fa442375d706a6}{m\_numCsmacaRetry} += \hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa}->GetNB () + 1;
778       \textcolor{comment}{// Start next CCA process for this packet.}
779       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
780     \}
781 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 26




Here is the caller graph for this function\+:
% FIG 27


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Remove\+First\+Tx\+Q\+Element@{Remove\+First\+Tx\+Q\+Element}}
\index{Remove\+First\+Tx\+Q\+Element@{Remove\+First\+Tx\+Q\+Element}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Remove\+First\+Tx\+Q\+Element()}{RemoveFirstTxQElement()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Remove\+First\+Tx\+Q\+Element (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a359da7ecf2f56e4f62f5e8173bf989dd}{}\label{classns3_1_1LrWpanMac_a359da7ecf2f56e4f62f5e8173bf989dd}
Remove the tip of the transmission queue, including clean up related to the last packet transmission. 
\begin{DoxyCode}
713 \{
714   TxQueueElement *txQElement = \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.front ();
715   Ptr<const Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = txQElement->txQPkt;
716   \hyperlink{classns3_1_1LrWpanMac_a1859006076f65683c1fa442375d706a6}{m\_numCsmacaRetry} += \hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa}->GetNB () + 1;
717 
718   Ptr<Packet> pkt = p->Copy ();
719   LrWpanMacHeader hdr;
720   pkt->RemoveHeader (hdr);
721   \textcolor{keywordflow}{if} (hdr.GetShortDstAddr () != Mac16Address (\textcolor{stringliteral}{"ff:ff"}))
722     \{
723       \hyperlink{classns3_1_1LrWpanMac_ac389be9d8b495db627c8f1b8036054cb}{m\_sentPktTrace} (p, \hyperlink{classns3_1_1LrWpanMac_afa6dceab5f0fec699c907ea8c61ffa39}{m\_retransmission} + 1, 
      \hyperlink{classns3_1_1LrWpanMac_a1859006076f65683c1fa442375d706a6}{m\_numCsmacaRetry});
724     \}
725 
726   txQElement->txQPkt = 0;
727   \textcolor{keyword}{delete} txQElement;
728   \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.pop\_front ();
729   \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt} = 0;
730   \hyperlink{classns3_1_1LrWpanMac_afa6dceab5f0fec699c907ea8c61ffa39}{m\_retransmission} = 0;
731   \hyperlink{classns3_1_1LrWpanMac_a1859006076f65683c1fa442375d706a6}{m\_numCsmacaRetry} = 0;
732   \hyperlink{classns3_1_1LrWpanMac_ac59ab298ffb0b3608f5813dd237982db}{m\_macTxDequeueTrace} (p);
733 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 28




Here is the caller graph for this function\+:
% FIG 29


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Send\+Ack@{Send\+Ack}}
\index{Send\+Ack@{Send\+Ack}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Send\+Ack(uint8\+\_\+t seqno)}{SendAck(uint8_t seqno)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Send\+Ack (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{seqno}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_afdf2ca2fc6e15fbb1767720607a101f8}{}\label{classns3_1_1LrWpanMac_afdf2ca2fc6e15fbb1767720607a101f8}
Send an acknowledgment packet for the given sequence number.


\begin{DoxyParams}{Parameters}
{\em seqno} & the sequence number for the A\+CK \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
684 \{
685   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << static\_cast<uint32\_t> (seqno));
686 
687   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE});
688 
689   \textcolor{comment}{// Generate a corresponding ACK Frame.}
690   LrWpanMacHeader macHdr (\hyperlink{classns3_1_1LrWpanMacHeader_a09363d4738e8ab00b82db8268b65d7a0ab381567bcc62e95ac35db223bf770f58}{LrWpanMacHeader::LRWPAN\_MAC\_ACKNOWLEDGMENT}
      , seqno);
691   LrWpanMacTrailer macTrailer;
692   Ptr<Packet> ackPacket = Create<Packet> (0);
693   ackPacket->AddHeader (macHdr);
694   \textcolor{comment}{// Calculate FCS if the global attribute ChecksumEnable is set.}
695   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Node_a0515bfe9a3aeb6605d657ba855699815}{Node::ChecksumEnabled} ())
696     \{
697       macTrailer.EnableFcs (\textcolor{keyword}{true});
698       macTrailer.SetFcs (ackPacket);
699     \}
700   ackPacket->AddTrailer (macTrailer);
701 
702   \textcolor{comment}{// Enqueue the ACK packet for further processing}
703   \textcolor{comment}{// when the transmitter is activated.}
704   \hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt} = ackPacket;
705 
706   \textcolor{comment}{// Switch transceiver to TX mode. Proceed sending the Ack on confirm.}
707   \hyperlink{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}{ChangeMacState} (\hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884acf17acc290679d9afce9a216fcf742bc}{MAC\_SENDING});
708   \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PlmeSetTRXStateRequest (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON});
709 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 30




Here is the caller graph for this function\+:
% FIG 31


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Association\+Status@{Set\+Association\+Status}}
\index{Set\+Association\+Status@{Set\+Association\+Status}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Association\+Status(\+Lr\+Wpan\+Association\+Status status)}{SetAssociationStatus(LrWpanAssociationStatus status)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Association\+Status (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Association\+Status}}]{status}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a846c85d19051d08611e1433e9341ae82}{}\label{classns3_1_1LrWpanMac_a846c85d19051d08611e1433e9341ae82}
Set the current association status.


\begin{DoxyParams}{Parameters}
{\em status} & new association status \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1000 \{
1001   \hyperlink{classns3_1_1LrWpanMac_a62c6c8e144e58da7b67dbf862b6cd15d}{m\_associationStatus} = status;
1002 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Csma\+Ca@{Set\+Csma\+Ca}}
\index{Set\+Csma\+Ca@{Set\+Csma\+Ca}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Csma\+Ca(\+Ptr$<$ Lr\+Wpan\+Csma\+Ca $>$ csma\+Ca)}{SetCsmaCa(Ptr< LrWpanCsmaCa > csmaCa)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Csma\+Ca (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Lr\+Wpan\+Csma\+Ca} $>$}]{csma\+Ca}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a6e0d04dfb141baf75e47a0189e504430}{}\label{classns3_1_1LrWpanMac_a6e0d04dfb141baf75e47a0189e504430}
Set the C\+S\+M\+A/\+CA implementation to be used by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em csma\+Ca} & the C\+S\+M\+A/\+CA implementation \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
439 \{
440   \hyperlink{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{m\_csmaCa} = csmaCa;
441 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Extended\+Address@{Set\+Extended\+Address}}
\index{Set\+Extended\+Address@{Set\+Extended\+Address}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Extended\+Address(\+Mac64\+Address address)}{SetExtendedAddress(Mac64Address address)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Extended\+Address (
\begin{DoxyParamCaption}
\item[{{\bf Mac64\+Address}}]{address}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a3a4c809c6159ba09e5fbe803bb295a5d}{}\label{classns3_1_1LrWpanMac_a3a4c809c6159ba09e5fbe803bb295a5d}
Set the extended address of this M\+AC.


\begin{DoxyParams}{Parameters}
{\em address} & the new address \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
230 \{
231   \textcolor{comment}{//NS\_LOG\_FUNCTION (this << address);}
232   \hyperlink{classns3_1_1LrWpanMac_ad519d2851f7d2e15c5cbc8c9bdee3f97}{m\_selfExt} = address;
233 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Lr\+Wpan\+Mac\+State@{Set\+Lr\+Wpan\+Mac\+State}}
\index{Set\+Lr\+Wpan\+Mac\+State@{Set\+Lr\+Wpan\+Mac\+State}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Lr\+Wpan\+Mac\+State(\+Lr\+Wpan\+Mac\+State mac\+State)}{SetLrWpanMacState(LrWpanMacState macState)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Lr\+Wpan\+Mac\+State (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Mac\+State}}]{mac\+State}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}{}\label{classns3_1_1LrWpanMac_a6749a353feb70bbb851b03477f56dc69}
C\+S\+M\+A-\/\+CA algorithm calls back the M\+AC after executing channel assessment.


\begin{DoxyParams}{Parameters}
{\em mac\+State} & indicate B\+U\+SY oder I\+D\+LE channel condition \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
934 \{
935   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"mac state = "} << macState);
936 
937   McpsDataConfirmParams confirmParams;
938 
939   \textcolor{keywordflow}{if} (macState == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE})
940     \{
941       \hyperlink{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}{ChangeMacState} (\hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE});
942 
943       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_a0e100f9e642d0adce0e0a29384c535fc}{m\_macRxOnWhenIdle})
944         \{
945           \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PlmeSetTRXStateRequest (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON});
946         \}
947       \textcolor{keywordflow}{else}
948         \{
949           \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PlmeSetTRXStateRequest (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
950         \}
951 
952       \hyperlink{classns3_1_1LrWpanMac_a316c3cc9f84eeadb0b2ca249a6d0caba}{CheckQueue} ();
953     \}
954   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (macState == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884ae46a1e995082569f76cb986500770ab8}{MAC\_ACK\_PENDING})
955     \{
956       \hyperlink{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}{ChangeMacState} (\hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884ae46a1e995082569f76cb986500770ab8}{MAC\_ACK\_PENDING});
957       \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PlmeSetTRXStateRequest (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON});
958     \}
959   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (macState == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a48f1c874cba8ef8b6332e9bd59e1341f}{MAC\_CSMA})
960     \{
961       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE} || 
      \hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884ae46a1e995082569f76cb986500770ab8}{MAC\_ACK\_PENDING});
962 
963       \hyperlink{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}{ChangeMacState} (\hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a48f1c874cba8ef8b6332e9bd59e1341f}{MAC\_CSMA});
964       \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PlmeSetTRXStateRequest (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON});
965     \}
966   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a48f1c874cba8ef8b6332e9bd59e1341f}{MAC\_CSMA} && macState == 
      \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a5fc914e9b7a8670e354de67fd9c433e8}{CHANNEL\_IDLE})
967     \{
968       \textcolor{comment}{// Channel is idle, set transmitter to TX\_ON}
969       \hyperlink{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}{ChangeMacState} (\hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884acf17acc290679d9afce9a216fcf742bc}{MAC\_SENDING});
970       \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PlmeSetTRXStateRequest (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON});
971     \}
972   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a48f1c874cba8ef8b6332e9bd59e1341f}{MAC\_CSMA} && macState == 
      \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a08010d1b06c1270e2e5d2b56ff4f5295}{CHANNEL\_ACCESS\_FAILURE})
973     \{
974       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt});
975 
976       \textcolor{comment}{// cannot find a clear channel, drop the current packet.}
977       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{keyword}{this} << \textcolor{stringliteral}{" cannot find clear channel"});
978       confirmParams.m\_msduHandle = \hyperlink{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{m\_txQueue}.front ()->txQMsduHandle;
979       confirmParams.m\_status = \hyperlink{group__lr-wpan_gga50d67c8816b2ca8da8df30d045b1b705a4973a75e0ff2c1f73181e773b0e6daaa}{IEEE\_802\_15\_4\_CHANNEL\_ACCESS\_FAILURE};
980       \hyperlink{classns3_1_1LrWpanMac_a3ff373bbe119ee781fda57327163b43a}{m\_macTxDropTrace} (\hyperlink{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{m\_txPkt});
981       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
982         \{
983           \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} (confirmParams);
984         \}
985       \textcolor{comment}{// remove the copy of the packet that was just sent}
986       \hyperlink{classns3_1_1LrWpanMac_a359da7ecf2f56e4f62f5e8173bf989dd}{RemoveFirstTxQElement} ();
987 
988       \hyperlink{classns3_1_1LrWpanMac_a9218b72b6b4326ae606de4a74a82ab6d}{ChangeMacState} (\hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE});
989     \}
990 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 32




Here is the caller graph for this function\+:
% FIG 33


\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Mac\+Max\+Frame\+Retries@{Set\+Mac\+Max\+Frame\+Retries}}
\index{Set\+Mac\+Max\+Frame\+Retries@{Set\+Mac\+Max\+Frame\+Retries}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Mac\+Max\+Frame\+Retries(uint8\+\_\+t retries)}{SetMacMaxFrameRetries(uint8_t retries)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Mac\+Max\+Frame\+Retries (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{retries}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_af8c7c06cda4f237a958b7fa144a39cb9}{}\label{classns3_1_1LrWpanMac_af8c7c06cda4f237a958b7fa144a39cb9}
Set the mac\+Max\+Frame\+Retries attribute value.


\begin{DoxyParams}{Parameters}
{\em retries} & the maximum number of retries \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1041 \{
1042   \hyperlink{classns3_1_1LrWpanMac_a4c627b0db8f366077e108ede4268cf7c}{m\_macMaxFrameRetries} = retries;
1043 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Mcps\+Data\+Confirm\+Callback@{Set\+Mcps\+Data\+Confirm\+Callback}}
\index{Set\+Mcps\+Data\+Confirm\+Callback@{Set\+Mcps\+Data\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Mcps\+Data\+Confirm\+Callback(\+Mcps\+Data\+Confirm\+Callback c)}{SetMcpsDataConfirmCallback(McpsDataConfirmCallback c)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Mcps\+Data\+Confirm\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Mcps\+Data\+Confirm\+Callback}}]{c}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a7d4650a20fe142c3a3ff60326694d893}{}\label{classns3_1_1LrWpanMac_a7d4650a20fe142c3a3ff60326694d893}
Set the callback for the confirmation of a data transmission request. The callback implements M\+C\+P\+S-\/\+D\+A\+T\+A.\+confirm S\+AP of I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+1.\+1.\+2.


\begin{DoxyParams}{Parameters}
{\em c} & the callback \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
463 \{
464   \hyperlink{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{m\_mcpsDataConfirmCallback} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
465 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Mcps\+Data\+Indication\+Callback@{Set\+Mcps\+Data\+Indication\+Callback}}
\index{Set\+Mcps\+Data\+Indication\+Callback@{Set\+Mcps\+Data\+Indication\+Callback}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Mcps\+Data\+Indication\+Callback(\+Mcps\+Data\+Indication\+Callback c)}{SetMcpsDataIndicationCallback(McpsDataIndicationCallback c)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Mcps\+Data\+Indication\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Mcps\+Data\+Indication\+Callback}}]{c}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a40e8518d2cf88b954d1e10f589b78e2f}{}\label{classns3_1_1LrWpanMac_a40e8518d2cf88b954d1e10f589b78e2f}
Set the callback for the indication of an incoming data packet. The callback implements M\+C\+P\+S-\/\+D\+A\+T\+A.\+indication S\+AP of I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+1.\+1.\+3.


\begin{DoxyParams}{Parameters}
{\em c} & the callback \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
457 \{
458   \hyperlink{classns3_1_1LrWpanMac_ada2124716389b849b2a1f9c8ff64d597}{m\_mcpsDataIndicationCallback} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
459 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Pan\+Id@{Set\+Pan\+Id}}
\index{Set\+Pan\+Id@{Set\+Pan\+Id}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Pan\+Id(uint16\+\_\+t pan\+Id)}{SetPanId(uint16_t panId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Pan\+Id (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{pan\+Id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a86e890821eabb96e593c2c5ce8c7fdbe}{}\label{classns3_1_1LrWpanMac_a86e890821eabb96e593c2c5ce8c7fdbe}
Set the P\+AN id used by this M\+AC.


\begin{DoxyParams}{Parameters}
{\em pan\+Id} & the new P\+AN id. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1012 \{
1013   \hyperlink{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}{m\_macPanId} = panId;
1014 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Phy@{Set\+Phy}}
\index{Set\+Phy@{Set\+Phy}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Phy(\+Ptr$<$ Lr\+Wpan\+Phy $>$ phy)}{SetPhy(Ptr< LrWpanPhy > phy)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Phy (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Lr\+Wpan\+Phy} $>$}]{phy}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_ad0285c082a14d9f7b2ca155fb43d7cb2}{}\label{classns3_1_1LrWpanMac_ad0285c082a14d9f7b2ca155fb43d7cb2}
Set the underlying P\+HY for the M\+AC.


\begin{DoxyParams}{Parameters}
{\em phy} & the P\+HY \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
445 \{
446   \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy} = phy;
447 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Rx\+On\+When\+Idle@{Set\+Rx\+On\+When\+Idle}}
\index{Set\+Rx\+On\+When\+Idle@{Set\+Rx\+On\+When\+Idle}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Rx\+On\+When\+Idle(bool rx\+On\+When\+Idle)}{SetRxOnWhenIdle(bool rxOnWhenIdle)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Rx\+On\+When\+Idle (
\begin{DoxyParamCaption}
\item[{bool}]{rx\+On\+When\+Idle}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_a12281b242d499c542bb1ee5589a7e0d0}{}\label{classns3_1_1LrWpanMac_a12281b242d499c542bb1ee5589a7e0d0}
Set if the receiver should be enabled when the M\+AC is idle.


\begin{DoxyParams}{Parameters}
{\em rx\+On\+When\+Idle} & set to true to enable the receiver during idle periods \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
204 \{
205   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rxOnWhenIdle);
206   \hyperlink{classns3_1_1LrWpanMac_a0e100f9e642d0adce0e0a29384c535fc}{m\_macRxOnWhenIdle} = rxOnWhenIdle;
207 
208   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{m\_lrWpanMacState} == \hyperlink{group__lr-wpan_gga02ee7efd682937a8781f5e6101f61884a091c013ccdbce1011c1a4e141b227730}{MAC\_IDLE})
209     \{
210       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanMac_a0e100f9e642d0adce0e0a29384c535fc}{m\_macRxOnWhenIdle})
211         \{
212           \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PlmeSetTRXStateRequest (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON});
213         \}
214       \textcolor{keywordflow}{else}
215         \{
216           \hyperlink{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{m\_phy}->PlmeSetTRXStateRequest (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
217         \}
218     \}
219 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!Set\+Short\+Address@{Set\+Short\+Address}}
\index{Set\+Short\+Address@{Set\+Short\+Address}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{Set\+Short\+Address(\+Mac16\+Address address)}{SetShortAddress(Mac16Address address)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Mac\+::\+Set\+Short\+Address (
\begin{DoxyParamCaption}
\item[{{\bf Mac16\+Address}}]{address}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanMac_af8661b97dc1aa6de91d91c3f8d2d6d7b}{}\label{classns3_1_1LrWpanMac_af8661b97dc1aa6de91d91c3f8d2d6d7b}
Set the short address of this M\+AC.


\begin{DoxyParams}{Parameters}
{\em address} & the new address \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
223 \{
224   \textcolor{comment}{//NS\_LOG\_FUNCTION (this << address);}
225   \hyperlink{classns3_1_1LrWpanMac_a6886e840ca3a1986b93db966c58ed415}{m\_shortAddress} = address;
226 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!a\+Min\+M\+P\+D\+U\+Overhead@{a\+Min\+M\+P\+D\+U\+Overhead}}
\index{a\+Min\+M\+P\+D\+U\+Overhead@{a\+Min\+M\+P\+D\+U\+Overhead}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{a\+Min\+M\+P\+D\+U\+Overhead}{aMinMPDUOverhead}}]{\setlength{\rightskip}{0pt plus 5cm}const uint32\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::a\+Min\+M\+P\+D\+U\+Overhead = 9\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LrWpanMac_a49d8579fb79ba7a3a4eed04a375380c5}{}\label{classns3_1_1LrWpanMac_a49d8579fb79ba7a3a4eed04a375380c5}
The minimum number of octets added by the M\+AC sublayer to the P\+S\+DU. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+1, Table 85 \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+a\+Base\+Slot\+Duration@{m\+\_\+a\+Base\+Slot\+Duration}}
\index{m\+\_\+a\+Base\+Slot\+Duration@{m\+\_\+a\+Base\+Slot\+Duration}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+a\+Base\+Slot\+Duration}{m_aBaseSlotDuration}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+a\+Base\+Slot\+Duration}\hypertarget{classns3_1_1LrWpanMac_aad2f54fa13df968bd5961770e76d6797}{}\label{classns3_1_1LrWpanMac_aad2f54fa13df968bd5961770e76d6797}
Length of a superframe slot in symbols. Defaults to 60 symbols in each superframe slot. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+1, Table 85. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+a\+Base\+Superframe\+Duration@{m\+\_\+a\+Base\+Superframe\+Duration}}
\index{m\+\_\+a\+Base\+Superframe\+Duration@{m\+\_\+a\+Base\+Superframe\+Duration}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+a\+Base\+Superframe\+Duration}{m_aBaseSuperframeDuration}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+a\+Base\+Superframe\+Duration}\hypertarget{classns3_1_1LrWpanMac_a29030c0084946fb37198fa07da3a2b03}{}\label{classns3_1_1LrWpanMac_a29030c0084946fb37198fa07da3a2b03}
Length of a superframe in symbols. Defaults to a\+Base\+Slot\+Duration $\ast$ a\+Num\+Superframe\+Slots in symbols. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+1, Table 85. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+ack\+Wait\+Timeout@{m\+\_\+ack\+Wait\+Timeout}}
\index{m\+\_\+ack\+Wait\+Timeout@{m\+\_\+ack\+Wait\+Timeout}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+ack\+Wait\+Timeout}{m_ackWaitTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+ack\+Wait\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_aab5862bb53367634f12d0cddecc19fa8}{}\label{classns3_1_1LrWpanMac_aab5862bb53367634f12d0cddecc19fa8}
\hyperlink{classns3_1_1Scheduler}{Scheduler} event for the A\+CK timeout of the currently transmitted data packet. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+a\+Num\+Superframe\+Slots@{m\+\_\+a\+Num\+Superframe\+Slots}}
\index{m\+\_\+a\+Num\+Superframe\+Slots@{m\+\_\+a\+Num\+Superframe\+Slots}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+a\+Num\+Superframe\+Slots}{m_aNumSuperframeSlots}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+a\+Num\+Superframe\+Slots}\hypertarget{classns3_1_1LrWpanMac_a605adeb44cababfd27a444c1f1314412}{}\label{classns3_1_1LrWpanMac_a605adeb44cababfd27a444c1f1314412}
Number of a superframe slots per superframe. Defaults to 16. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+1, Table 85. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+association\+Status@{m\+\_\+association\+Status}}
\index{m\+\_\+association\+Status@{m\+\_\+association\+Status}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+association\+Status}{m_associationStatus}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lr\+Wpan\+Association\+Status} ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+association\+Status\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a62c6c8e144e58da7b67dbf862b6cd15d}{}\label{classns3_1_1LrWpanMac_a62c6c8e144e58da7b67dbf862b6cd15d}
The current association status of the M\+AC layer. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+csma\+Ca@{m\+\_\+csma\+Ca}}
\index{m\+\_\+csma\+Ca@{m\+\_\+csma\+Ca}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+csma\+Ca}{m_csmaCa}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Lr\+Wpan\+Csma\+Ca}$>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+csma\+Ca\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}{}\label{classns3_1_1LrWpanMac_a03fc5a3a267a984f8ec0ba62ff9da270}
The C\+S\+M\+A/\+CA implementation used by this M\+AC. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+lr\+Wpan\+Mac\+State@{m\+\_\+lr\+Wpan\+Mac\+State}}
\index{m\+\_\+lr\+Wpan\+Mac\+State@{m\+\_\+lr\+Wpan\+Mac\+State}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+lr\+Wpan\+Mac\+State}{m_lrWpanMacState}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Value}$<${\bf Lr\+Wpan\+Mac\+State}$>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+lr\+Wpan\+Mac\+State\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}{}\label{classns3_1_1LrWpanMac_ab5cdfd39de7397d658d300961dab3ed0}
The current state of the M\+AC layer. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Beacon\+Order@{m\+\_\+mac\+Beacon\+Order}}
\index{m\+\_\+mac\+Beacon\+Order@{m\+\_\+mac\+Beacon\+Order}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Beacon\+Order}{m_macBeaconOrder}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Beacon\+Order}\hypertarget{classns3_1_1LrWpanMac_a1c5e50a030447b4352c932e9282c4371}{}\label{classns3_1_1LrWpanMac_a1c5e50a030447b4352c932e9282c4371}
Specification of how often the coordinator transmits its beacon. 0 -\/ 15 with 15 means no beacons are being sent. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+2, Table 86. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Beacon\+Tx\+Time@{m\+\_\+mac\+Beacon\+Tx\+Time}}
\index{m\+\_\+mac\+Beacon\+Tx\+Time@{m\+\_\+mac\+Beacon\+Tx\+Time}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Beacon\+Tx\+Time}{m_macBeaconTxTime}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Beacon\+Tx\+Time}\hypertarget{classns3_1_1LrWpanMac_ae8d4ba1b1080f7b17adc8cdbaca6ff5a}{}\label{classns3_1_1LrWpanMac_ae8d4ba1b1080f7b17adc8cdbaca6ff5a}
The time that the device transmitted its last beacon frame, in symbol periods. Only 24 bits used. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+2, Table 86. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Dsn@{m\+\_\+mac\+Dsn}}
\index{m\+\_\+mac\+Dsn@{m\+\_\+mac\+Dsn}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Dsn}{m_macDsn}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Sequence\+Number8} ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Dsn}\hypertarget{classns3_1_1LrWpanMac_a8a24e6d96342082f7b0343bdd0800d8c}{}\label{classns3_1_1LrWpanMac_a8a24e6d96342082f7b0343bdd0800d8c}
Sequence number added to transmitted data or M\+AC command frame, 00-\/ff. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+2, Table 86. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Max\+Frame\+Retries@{m\+\_\+mac\+Max\+Frame\+Retries}}
\index{m\+\_\+mac\+Max\+Frame\+Retries@{m\+\_\+mac\+Max\+Frame\+Retries}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Max\+Frame\+Retries}{m_macMaxFrameRetries}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Max\+Frame\+Retries}\hypertarget{classns3_1_1LrWpanMac_a4c627b0db8f366077e108ede4268cf7c}{}\label{classns3_1_1LrWpanMac_a4c627b0db8f366077e108ede4268cf7c}
The maximum number of retries allowed after a transmission failure. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+2, Table 86. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Pan\+Id@{m\+\_\+mac\+Pan\+Id}}
\index{m\+\_\+mac\+Pan\+Id@{m\+\_\+mac\+Pan\+Id}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Pan\+Id}{m_macPanId}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Pan\+Id}\hypertarget{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}{}\label{classns3_1_1LrWpanMac_abb75c742ae20c41dd10a721605328a82}
16 bits id of P\+AN on which this device is operating. 0xffff means not asscoiated. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+2, Table 86. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Promisc\+Rx\+Trace@{m\+\_\+mac\+Promisc\+Rx\+Trace}}
\index{m\+\_\+mac\+Promisc\+Rx\+Trace@{m\+\_\+mac\+Promisc\+Rx\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Promisc\+Rx\+Trace}{m_macPromiscRxTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Promisc\+Rx\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_af05f835a006d0fa06af15d1d504219a4}{}\label{classns3_1_1LrWpanMac_af05f835a006d0fa06af15d1d504219a4}
The trace source fired for packets successfully received by the device immediately before being forwarded up to higher layers (at the L2/\+L3 transition). This is a promiscuous trace.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Promiscuous\+Mode@{m\+\_\+mac\+Promiscuous\+Mode}}
\index{m\+\_\+mac\+Promiscuous\+Mode@{m\+\_\+mac\+Promiscuous\+Mode}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Promiscuous\+Mode}{m_macPromiscuousMode}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Promiscuous\+Mode}\hypertarget{classns3_1_1LrWpanMac_aaf3802d8a9c98323a662b4e8209144e4}{}\label{classns3_1_1LrWpanMac_aaf3802d8a9c98323a662b4e8209144e4}
Indicates if M\+AC sublayer is in receive all mode. True mean accept all frames from P\+HY. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+2, Table 86. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Rx\+Drop\+Trace@{m\+\_\+mac\+Rx\+Drop\+Trace}}
\index{m\+\_\+mac\+Rx\+Drop\+Trace@{m\+\_\+mac\+Rx\+Drop\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Rx\+Drop\+Trace}{m_macRxDropTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Rx\+Drop\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ac06545ba350f6e2bc5d771213875bdf6}{}\label{classns3_1_1LrWpanMac_ac06545ba350f6e2bc5d771213875bdf6}
The trace source fired for packets successfully received by the device but dropped before being forwarded up to higher layers (at the L2/\+L3 transition).

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Rx\+On\+When\+Idle@{m\+\_\+mac\+Rx\+On\+When\+Idle}}
\index{m\+\_\+mac\+Rx\+On\+When\+Idle@{m\+\_\+mac\+Rx\+On\+When\+Idle}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Rx\+On\+When\+Idle}{m_macRxOnWhenIdle}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Rx\+On\+When\+Idle}\hypertarget{classns3_1_1LrWpanMac_a0e100f9e642d0adce0e0a29384c535fc}{}\label{classns3_1_1LrWpanMac_a0e100f9e642d0adce0e0a29384c535fc}
Indication of whether the M\+AC sublayer is to enable its receiver during idle periods. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+2, Table 86. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Rx\+Trace@{m\+\_\+mac\+Rx\+Trace}}
\index{m\+\_\+mac\+Rx\+Trace@{m\+\_\+mac\+Rx\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Rx\+Trace}{m_macRxTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Rx\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a38183ee976b61d2c93942250f5670b7c}{}\label{classns3_1_1LrWpanMac_a38183ee976b61d2c93942250f5670b7c}
The trace source fired for packets successfully received by the device immediately before being forwarded up to higher layers (at the L2/\+L3 transition). This is a non-\/promiscuous trace.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+State\+Logger@{m\+\_\+mac\+State\+Logger}}
\index{m\+\_\+mac\+State\+Logger@{m\+\_\+mac\+State\+Logger}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+State\+Logger}{m_macStateLogger}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Lr\+Wpan\+Mac\+State}, {\bf Lr\+Wpan\+Mac\+State}$>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+State\+Logger\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a7545ecfb4bdf7436739d00507872d248}{}\label{classns3_1_1LrWpanMac_a7545ecfb4bdf7436739d00507872d248}
A trace source that fires when the \hyperlink{classns3_1_1LrWpanMac}{Lr\+Wpan\+Mac} changes states. Parameters are the old mac state and the new mac state.

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000017}{Deprecated}]This \hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} is deprecated and will be removed in a future release, Instead, use the {\ttfamily Mac\+State\+Value} \hyperlink{classns3_1_1TracedValue}{Traced\+Value}. \end{DoxyRefDesc}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Superframe\+Order@{m\+\_\+mac\+Superframe\+Order}}
\index{m\+\_\+mac\+Superframe\+Order@{m\+\_\+mac\+Superframe\+Order}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Superframe\+Order}{m_macSuperframeOrder}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Superframe\+Order}\hypertarget{classns3_1_1LrWpanMac_ad4c7797599a4e04268e8d8cd16046769}{}\label{classns3_1_1LrWpanMac_ad4c7797599a4e04268e8d8cd16046769}
The length of the active portion of the outgoing superframe, including the beacon frame. 0 -\/ 15 with 15 means the superframe will not be active after the beacon. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+2, Table 86. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Sync\+Symbol\+Offset@{m\+\_\+mac\+Sync\+Symbol\+Offset}}
\index{m\+\_\+mac\+Sync\+Symbol\+Offset@{m\+\_\+mac\+Sync\+Symbol\+Offset}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Sync\+Symbol\+Offset}{m_macSyncSymbolOffset}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Sync\+Symbol\+Offset}\hypertarget{classns3_1_1LrWpanMac_ae7628f67a7f4caa970097b915ed3c8e3}{}\label{classns3_1_1LrWpanMac_ae7628f67a7f4caa970097b915ed3c8e3}
Symbol boundary is same as m\+\_\+mac\+Beacon\+Tx\+Time. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+4.\+2, Table 86. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Tx\+Dequeue\+Trace@{m\+\_\+mac\+Tx\+Dequeue\+Trace}}
\index{m\+\_\+mac\+Tx\+Dequeue\+Trace@{m\+\_\+mac\+Tx\+Dequeue\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Tx\+Dequeue\+Trace}{m_macTxDequeueTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Tx\+Dequeue\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ac59ab298ffb0b3608f5813dd237982db}{}\label{classns3_1_1LrWpanMac_ac59ab298ffb0b3608f5813dd237982db}
The trace source fired when packets are dequeued from the L3/l2 transmission queue.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Tx\+Drop\+Trace@{m\+\_\+mac\+Tx\+Drop\+Trace}}
\index{m\+\_\+mac\+Tx\+Drop\+Trace@{m\+\_\+mac\+Tx\+Drop\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Tx\+Drop\+Trace}{m_macTxDropTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Tx\+Drop\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a3ff373bbe119ee781fda57327163b43a}{}\label{classns3_1_1LrWpanMac_a3ff373bbe119ee781fda57327163b43a}
The trace source fired when packets are dropped due to missing A\+C\+Ks or because of transmission failures in L1.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Tx\+Enqueue\+Trace@{m\+\_\+mac\+Tx\+Enqueue\+Trace}}
\index{m\+\_\+mac\+Tx\+Enqueue\+Trace@{m\+\_\+mac\+Tx\+Enqueue\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Tx\+Enqueue\+Trace}{m_macTxEnqueueTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Tx\+Enqueue\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ab5d97c9ba008e159e541ec27df3480ea}{}\label{classns3_1_1LrWpanMac_ab5d97c9ba008e159e541ec27df3480ea}
The trace source fired when packets come into the \char`\"{}top\char`\"{} of the device at the L3/\+L2 transition, when being queued for transmission.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Tx\+Ok\+Trace@{m\+\_\+mac\+Tx\+Ok\+Trace}}
\index{m\+\_\+mac\+Tx\+Ok\+Trace@{m\+\_\+mac\+Tx\+Ok\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Tx\+Ok\+Trace}{m_macTxOkTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Tx\+Ok\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a0f0ba6655bd6aba1bac028bd25f4ab7a}{}\label{classns3_1_1LrWpanMac_a0f0ba6655bd6aba1bac028bd25f4ab7a}
The trace source fired when packets where successfully transmitted, that is an acknowledgment was received, if requested, or the packet was successfully sent by L1, if no A\+CK was requested.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mac\+Tx\+Trace@{m\+\_\+mac\+Tx\+Trace}}
\index{m\+\_\+mac\+Tx\+Trace@{m\+\_\+mac\+Tx\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mac\+Tx\+Trace}{m_macTxTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mac\+Tx\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ab92d16ed0eba3f4357b949c0685c1a96}{}\label{classns3_1_1LrWpanMac_ab92d16ed0eba3f4357b949c0685c1a96}
The trace source fired when packets are being sent down to L1.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mcps\+Data\+Confirm\+Callback@{m\+\_\+mcps\+Data\+Confirm\+Callback}}
\index{m\+\_\+mcps\+Data\+Confirm\+Callback@{m\+\_\+mcps\+Data\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mcps\+Data\+Confirm\+Callback}{m_mcpsDataConfirmCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mcps\+Data\+Confirm\+Callback} ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mcps\+Data\+Confirm\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}{}\label{classns3_1_1LrWpanMac_a05eba7a98d1cbbf86151290069e093e0}
This callback is used to report data transmission request status to the upper layers. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+1.\+1.\+2. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+mcps\+Data\+Indication\+Callback@{m\+\_\+mcps\+Data\+Indication\+Callback}}
\index{m\+\_\+mcps\+Data\+Indication\+Callback@{m\+\_\+mcps\+Data\+Indication\+Callback}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+mcps\+Data\+Indication\+Callback}{m_mcpsDataIndicationCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mcps\+Data\+Indication\+Callback} ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+mcps\+Data\+Indication\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ada2124716389b849b2a1f9c8ff64d597}{}\label{classns3_1_1LrWpanMac_ada2124716389b849b2a1f9c8ff64d597}
This callback is used to notify incoming packets to the upper layers. See I\+E\+EE 802.\+15.\+4-\/2006, section 7.\+1.\+1.\+3. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+num\+Csmaca\+Retry@{m\+\_\+num\+Csmaca\+Retry}}
\index{m\+\_\+num\+Csmaca\+Retry@{m\+\_\+num\+Csmaca\+Retry}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+num\+Csmaca\+Retry}{m_numCsmacaRetry}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+num\+Csmaca\+Retry\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a1859006076f65683c1fa442375d706a6}{}\label{classns3_1_1LrWpanMac_a1859006076f65683c1fa442375d706a6}
The number of C\+S\+M\+A/\+CA retries used for sending the current packet. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+phy@{m\+\_\+phy}}
\index{m\+\_\+phy@{m\+\_\+phy}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+phy}{m_phy}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Lr\+Wpan\+Phy}$>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+phy\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}{}\label{classns3_1_1LrWpanMac_ae3184afcbda99342d45c0b7e6cf9f33a}
The P\+HY associated with this M\+AC. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+promisc\+Sniffer\+Trace@{m\+\_\+promisc\+Sniffer\+Trace}}
\index{m\+\_\+promisc\+Sniffer\+Trace@{m\+\_\+promisc\+Sniffer\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+promisc\+Sniffer\+Trace}{m_promiscSnifferTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+promisc\+Sniffer\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a39b7fdffc860b187b9f316d78127d51f}{}\label{classns3_1_1LrWpanMac_a39b7fdffc860b187b9f316d78127d51f}
A trace source that emulates a promiscuous mode protocol sniffer connected to the device. This trace source fire on packets destined for any host just like your average everyday packet sniffer.

On the transmit size, this trace hook will fire after a packet is dequeued from the device queue for transmission. In Linux, for example, this would correspond to the point just before a device hard\+\_\+start\+\_\+xmit where dev\+\_\+queue\+\_\+xmit\+\_\+nit is called to dispatch the packet to the P\+F\+\_\+\+P\+A\+C\+K\+ET E\+T\+H\+\_\+\+P\+\_\+\+A\+LL handlers.

On the receive side, this trace hook will fire when a packet is received, just before the receive callback is executed. In Linux, for example, this would correspond to the point at which the packet is dispatched to packet sniffers in netif\+\_\+receive\+\_\+skb.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+retransmission@{m\+\_\+retransmission}}
\index{m\+\_\+retransmission@{m\+\_\+retransmission}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+retransmission}{m_retransmission}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+retransmission\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_afa6dceab5f0fec699c907ea8c61ffa39}{}\label{classns3_1_1LrWpanMac_afa6dceab5f0fec699c907ea8c61ffa39}
The number of already used retransmission for the currently transmitted packet. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+self\+Ext@{m\+\_\+self\+Ext}}
\index{m\+\_\+self\+Ext@{m\+\_\+self\+Ext}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+self\+Ext}{m_selfExt}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac64\+Address} ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+self\+Ext\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ad519d2851f7d2e15c5cbc8c9bdee3f97}{}\label{classns3_1_1LrWpanMac_ad519d2851f7d2e15c5cbc8c9bdee3f97}
The extended address used by this M\+AC. Extended addresses are currently not really supported. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+sent\+Pkt\+Trace@{m\+\_\+sent\+Pkt\+Trace}}
\index{m\+\_\+sent\+Pkt\+Trace@{m\+\_\+sent\+Pkt\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+sent\+Pkt\+Trace}{m_sentPktTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$, uint8\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+sent\+Pkt\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_ac389be9d8b495db627c8f1b8036054cb}{}\label{classns3_1_1LrWpanMac_ac389be9d8b495db627c8f1b8036054cb}
The trace source fired when packets are considered as successfully sent or the transmission has been given up. Only non-\/broadcast packets are traced.

The data should represent\+: packet, number of retries, total number of csma backoffs

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+set\+Mac\+State@{m\+\_\+set\+Mac\+State}}
\index{m\+\_\+set\+Mac\+State@{m\+\_\+set\+Mac\+State}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+set\+Mac\+State}{m_setMacState}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+set\+Mac\+State\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}{}\label{classns3_1_1LrWpanMac_a764e1cada16e9fc51d9863963d962823}
\hyperlink{classns3_1_1Scheduler}{Scheduler} event for a deferred M\+AC state change. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+short\+Address@{m\+\_\+short\+Address}}
\index{m\+\_\+short\+Address@{m\+\_\+short\+Address}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+short\+Address}{m_shortAddress}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac16\+Address} ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+short\+Address\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a6886e840ca3a1986b93db966c58ed415}{}\label{classns3_1_1LrWpanMac_a6886e840ca3a1986b93db966c58ed415}
The short address used by this M\+AC. Currently we do not have complete extended address support in the M\+AC, nor do we have the association primitives, so this address has to be configured manually. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+sniffer\+Trace@{m\+\_\+sniffer\+Trace}}
\index{m\+\_\+sniffer\+Trace@{m\+\_\+sniffer\+Trace}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+sniffer\+Trace}{m_snifferTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+sniffer\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a8940ff6f40ddf5d73e5c550cb0317729}{}\label{classns3_1_1LrWpanMac_a8940ff6f40ddf5d73e5c550cb0317729}
A trace source that emulates a non-\/promiscuous protocol sniffer connected to the device. Unlike your average everyday sniffer, this trace source will not fire on P\+A\+C\+K\+E\+T\+\_\+\+O\+T\+H\+E\+R\+H\+O\+ST events.

On the transmit size, this trace hook will fire after a packet is dequeued from the device queue for transmission. In Linux, for example, this would correspond to the point just before a device hard\+\_\+start\+\_\+xmit where dev\+\_\+queue\+\_\+xmit\+\_\+nit is called to dispatch the packet to the P\+F\+\_\+\+P\+A\+C\+K\+ET E\+T\+H\+\_\+\+P\+\_\+\+A\+LL handlers.

On the receive side, this trace hook will fire when a packet is received, just before the receive callback is executed. In Linux, for example, this would correspond to the point at which the packet is dispatched to packet sniffers in netif\+\_\+receive\+\_\+skb.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+tx\+Pkt@{m\+\_\+tx\+Pkt}}
\index{m\+\_\+tx\+Pkt@{m\+\_\+tx\+Pkt}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+Pkt}{m_txPkt}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+tx\+Pkt\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}{}\label{classns3_1_1LrWpanMac_aca93e7c7a2128818f2861a48751442ca}
The packet which is currently being sent by the M\+AC layer. \index{ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}!m\+\_\+tx\+Queue@{m\+\_\+tx\+Queue}}
\index{m\+\_\+tx\+Queue@{m\+\_\+tx\+Queue}!ns3\+::\+Lr\+Wpan\+Mac@{ns3\+::\+Lr\+Wpan\+Mac}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+Queue}{m_txQueue}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::deque$<${\bf Tx\+Queue\+Element}$\ast$$>$ ns3\+::\+Lr\+Wpan\+Mac\+::m\+\_\+tx\+Queue\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}{}\label{classns3_1_1LrWpanMac_a90ea1fb2b1cec84e8ca2177772a1644d}
The transmit queue used by the M\+AC. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lr-\/wpan/model/\hyperlink{lr-wpan-mac_8h}{lr-\/wpan-\/mac.\+h}\item 
lr-\/wpan/model/\hyperlink{lr-wpan-mac_8cc}{lr-\/wpan-\/mac.\+cc}\end{DoxyCompactItemize}
