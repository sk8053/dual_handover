\hypertarget{classTcpTestCase}{}\section{Tcp\+Test\+Case Class Reference}
\label{classTcpTestCase}\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}}


T\+CP Test -\/ send string data from client to server and back.  




Inheritance diagram for Tcp\+Test\+Case\+:
% FIG 0


Collaboration diagram for Tcp\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTcpTestCase_a94342b4f0501986c199c6067655ef155}{Tcp\+Test\+Case} (uint32\+\_\+t total\+Stream\+Size, uint32\+\_\+t source\+Write\+Size, uint32\+\_\+t source\+Read\+Size, uint32\+\_\+t server\+Write\+Size, uint32\+\_\+t server\+Read\+Size, bool use\+Ipv6)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classTcpTestCase_a8c4c4fa54e3c71ae1fca781357605134}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
virtual void \hyperlink{classTcpTestCase_abca54d95eb30b20f74e19e77235b6794}{Do\+Teardown} (void)
\begin{DoxyCompactList}\small\item\em Implementation to do any local setup required for this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classTcpTestCase_aa0635586d1df558a59adf3ab92cdd511}{Setup\+Default\+Sim} (void)
\begin{DoxyCompactList}\small\item\em Setup the test (I\+Pv4 version). \end{DoxyCompactList}\item 
void \hyperlink{classTcpTestCase_ad45a412dd010f36d8b396ab83df8acd6}{Setup\+Default\+Sim6} (void)
\begin{DoxyCompactList}\small\item\em Setup the test (I\+Pv6 version). \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classTcpTestCase_aa2bee178327783b9acb07d7351e1dcdf}{Create\+Internet\+Node} (void)
\begin{DoxyCompactList}\small\item\em Create a node with the Internet stack (I\+Pv4 version). \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classTcpTestCase_a45d4f2a1d4a2f311c529469bdc9dfe00}{Create\+Internet\+Node6} (void)
\begin{DoxyCompactList}\small\item\em Create a node with the Internet stack (I\+Pv6 version). \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SimpleNetDevice}{Simple\+Net\+Device} $>$ \hyperlink{classTcpTestCase_a0cbbee626d01b80c78677c0a957ffd88}{Add\+Simple\+Net\+Device} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node, const char $\ast$ipaddr, const char $\ast$netmask)
\begin{DoxyCompactList}\small\item\em Add a Simple\+Net\+Device to a node (I\+Pv4 version). \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SimpleNetDevice}{Simple\+Net\+Device} $>$ \hyperlink{classTcpTestCase_a4385a5d6f0b5fcf2dbbe1cccb0810ea9}{Add\+Simple\+Net\+Device6} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} ipaddr, \hyperlink{classns3_1_1Ipv6Prefix}{Ipv6\+Prefix} prefix)
\begin{DoxyCompactList}\small\item\em Add a Simple\+Net\+Device to a node (I\+Pv6 version). \end{DoxyCompactList}\item 
void \hyperlink{classTcpTestCase_a92ee004cc017259628ac1731ca4e040a}{Server\+Handle\+Connection\+Created} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s}, const \hyperlink{classns3_1_1Address}{Address} \&addr)
\begin{DoxyCompactList}\small\item\em Server\+: Handle connection created. \end{DoxyCompactList}\item 
void \hyperlink{classTcpTestCase_a42ede7664eb853794823d249b65df402}{Server\+Handle\+Recv} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ sock)
\begin{DoxyCompactList}\small\item\em Server\+: Receive data. \end{DoxyCompactList}\item 
void \hyperlink{classTcpTestCase_a1ba2bc3a0a5e84e07437e48e632fdbda}{Server\+Handle\+Send} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ sock, uint32\+\_\+t available)
\begin{DoxyCompactList}\small\item\em Server\+: Send data. \end{DoxyCompactList}\item 
void \hyperlink{classTcpTestCase_ae2b2672883a732447f02e4bf82840f34}{Source\+Handle\+Send} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ sock, uint32\+\_\+t available)
\begin{DoxyCompactList}\small\item\em Client\+: Send data. \end{DoxyCompactList}\item 
void \hyperlink{classTcpTestCase_a924eda25940bdd641e431408eb750a24}{Source\+Handle\+Recv} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ sock)
\begin{DoxyCompactList}\small\item\em Client\+: Receive data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\+\_\+total\+Bytes}
\begin{DoxyCompactList}\small\item\em Total stream size (in bytes). \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classTcpTestCase_af2488464ac4a6aa734ab2fa3a8f1255e}{m\+\_\+source\+Write\+Size}
\begin{DoxyCompactList}\small\item\em Client data size when sending. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classTcpTestCase_a9c310cf24127d169c4d40af57de54e3b}{m\+\_\+source\+Read\+Size}
\begin{DoxyCompactList}\small\item\em Client data size when receiving. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classTcpTestCase_adc7913a86c86cc101b620d153b7b1af9}{m\+\_\+server\+Write\+Size}
\begin{DoxyCompactList}\small\item\em Server data size when sending. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classTcpTestCase_a0487d4363885a37e702f1d6576435f0f}{m\+\_\+server\+Read\+Size}
\begin{DoxyCompactList}\small\item\em Server data size when receiving. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classTcpTestCase_a41135a441155aab8e7d80acdf7c1a959}{m\+\_\+current\+Source\+Tx\+Bytes}
\begin{DoxyCompactList}\small\item\em Client Tx bytes. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classTcpTestCase_a955064e2af5b339a49a3aa3a04f166f8}{m\+\_\+current\+Source\+Rx\+Bytes}
\begin{DoxyCompactList}\small\item\em Client Rx bytes. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classTcpTestCase_aef99b385054dd7eb73a7e45b2ce3d976}{m\+\_\+current\+Server\+Rx\+Bytes}
\begin{DoxyCompactList}\small\item\em Server Tx bytes. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classTcpTestCase_a3a7557075e3c745e487f76f26bca6423}{m\+\_\+current\+Server\+Tx\+Bytes}
\begin{DoxyCompactList}\small\item\em Server Rx bytes. \end{DoxyCompactList}\item 
uint8\+\_\+t $\ast$ \hyperlink{classTcpTestCase_a04a966fbc1e4ab5a06cb67ce1279032b}{m\+\_\+source\+Tx\+Payload}
\begin{DoxyCompactList}\small\item\em Client Tx payload. \end{DoxyCompactList}\item 
uint8\+\_\+t $\ast$ \hyperlink{classTcpTestCase_ac6e1dba9cf4a200de57b4247d383bbf4}{m\+\_\+source\+Rx\+Payload}
\begin{DoxyCompactList}\small\item\em Client Rx payload. \end{DoxyCompactList}\item 
uint8\+\_\+t $\ast$ \hyperlink{classTcpTestCase_af1647be1c24b49579653f2c691bc802b}{m\+\_\+server\+Rx\+Payload}
\begin{DoxyCompactList}\small\item\em Server Rx payload. \end{DoxyCompactList}\item 
bool \hyperlink{classTcpTestCase_a0fd3d3053ba2a160fbc60f6d40b5fe25}{m\+\_\+use\+Ipv6}
\begin{DoxyCompactList}\small\item\em Use I\+Pv6 instead of I\+Pv4. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
T\+CP Test -\/ send string data from client to server and back. 

\subsection{Constructor \& Destructor Documentation}
\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Tcp\+Test\+Case(uint32\+\_\+t total\+Stream\+Size, uint32\+\_\+t source\+Write\+Size, uint32\+\_\+t source\+Read\+Size, uint32\+\_\+t server\+Write\+Size, uint32\+\_\+t server\+Read\+Size, bool use\+Ipv6)}{TcpTestCase(uint32_t totalStreamSize, uint32_t sourceWriteSize, uint32_t sourceReadSize, uint32_t serverWriteSize, uint32_t serverReadSize, bool useIpv6)}}]{\setlength{\rightskip}{0pt plus 5cm}Tcp\+Test\+Case\+::\+Tcp\+Test\+Case (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{total\+Stream\+Size, }
\item[{uint32\+\_\+t}]{source\+Write\+Size, }
\item[{uint32\+\_\+t}]{source\+Read\+Size, }
\item[{uint32\+\_\+t}]{server\+Write\+Size, }
\item[{uint32\+\_\+t}]{server\+Read\+Size, }
\item[{bool}]{use\+Ipv6}
\end{DoxyParamCaption}
)}\hypertarget{classTcpTestCase_a94342b4f0501986c199c6067655ef155}{}\label{classTcpTestCase_a94342b4f0501986c199c6067655ef155}


Constructor. 


\begin{DoxyParams}{Parameters}
{\em total\+Stream\+Size} & Total stream size (in bytes). \\
\hline
{\em source\+Write\+Size} & Client data size when sending. \\
\hline
{\em source\+Read\+Size} & Client data size when receiving. \\
\hline
{\em server\+Write\+Size} & Server data size when sending. \\
\hline
{\em server\+Read\+Size} & Server data size when receiving. \\
\hline
{\em use\+Ipv6} & Use I\+Pv6 instead of I\+Pv4. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
193   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\hyperlink{tcp-test_8cc_a2f86f929dfaa0d376512285018ea86fc}{Name} (\textcolor{stringliteral}{"Send string data from client to server and back"},
194                     totalStreamSize,
195                     sourceWriteSize,
196                     serverReadSize,
197                     serverWriteSize,
198                     sourceReadSize,
199                     useIpv6)),
200     \hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes} (totalStreamSize),
201     \hyperlink{classTcpTestCase_af2488464ac4a6aa734ab2fa3a8f1255e}{m\_sourceWriteSize} (sourceWriteSize),
202     \hyperlink{classTcpTestCase_a9c310cf24127d169c4d40af57de54e3b}{m\_sourceReadSize} (sourceReadSize),
203     \hyperlink{classTcpTestCase_adc7913a86c86cc101b620d153b7b1af9}{m\_serverWriteSize} (serverWriteSize),
204     \hyperlink{classTcpTestCase_a0487d4363885a37e702f1d6576435f0f}{m\_serverReadSize} (serverReadSize),
205     \hyperlink{classTcpTestCase_a0fd3d3053ba2a160fbc60f6d40b5fe25}{m\_useIpv6} (useIpv6)
206 \{
207 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Add\+Simple\+Net\+Device@{Add\+Simple\+Net\+Device}}
\index{Add\+Simple\+Net\+Device@{Add\+Simple\+Net\+Device}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Add\+Simple\+Net\+Device(\+Ptr$<$ Node $>$ node, const char $\ast$ipaddr, const char $\ast$netmask)}{AddSimpleNetDevice(Ptr< Node > node, const char *ipaddr, const char *netmask)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Simple\+Net\+Device} $>$ Tcp\+Test\+Case\+::\+Add\+Simple\+Net\+Device (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node, }
\item[{const char $\ast$}]{ipaddr, }
\item[{const char $\ast$}]{netmask}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a0cbbee626d01b80c78677c0a957ffd88}{}\label{classTcpTestCase_a0cbbee626d01b80c78677c0a957ffd88}


Add a Simple\+Net\+Device to a node (I\+Pv4 version). 


\begin{DoxyParams}{Parameters}
{\em node} & The target node. \\
\hline
{\em ipaddr} & the Simple\+Net\+Device I\+Pv4 address. \\
\hline
{\em netmask} & the Simple\+Net\+Device I\+Pv4 address netmask. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new Simple\+Net\+Device. 
\end{DoxyReturn}

\begin{DoxyCode}
373 \{
374   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleNetDevice>} dev = CreateObject<SimpleNetDevice> ();
375   dev->\hyperlink{classns3_1_1SimpleNetDevice_a968ef3e7318bac29d5f1d7d977029af4}{SetAddress} (Mac48Address::ConvertFrom (Mac48Address::Allocate ()));
376   node->\hyperlink{classns3_1_1Node_a42ff83ee1d5d1649c770d3f5b62375de}{AddDevice} (dev);
377   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4>} ipv4 = node->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ();
378   uint32\_t ndid = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (dev);
379   \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (
      \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (ipaddr), \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (netmask));
380   ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (ndid, ipv4Addr);
381   ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (ndid);
382   \textcolor{keywordflow}{return} dev;
383 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Add\+Simple\+Net\+Device6@{Add\+Simple\+Net\+Device6}}
\index{Add\+Simple\+Net\+Device6@{Add\+Simple\+Net\+Device6}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Add\+Simple\+Net\+Device6(\+Ptr$<$ Node $>$ node, Ipv6\+Address ipaddr, Ipv6\+Prefix prefix)}{AddSimpleNetDevice6(Ptr< Node > node, Ipv6Address ipaddr, Ipv6Prefix prefix)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Simple\+Net\+Device} $>$ Tcp\+Test\+Case\+::\+Add\+Simple\+Net\+Device6 (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node, }
\item[{{\bf Ipv6\+Address}}]{ipaddr, }
\item[{{\bf Ipv6\+Prefix}}]{prefix}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a4385a5d6f0b5fcf2dbbe1cccb0810ea9}{}\label{classTcpTestCase_a4385a5d6f0b5fcf2dbbe1cccb0810ea9}


Add a Simple\+Net\+Device to a node (I\+Pv6 version). 


\begin{DoxyParams}{Parameters}
{\em node} & The target node. \\
\hline
{\em ipaddr} & the Simple\+Net\+Device I\+Pv6 address. \\
\hline
{\em prefix} & the Simple\+Net\+Device I\+P6 address prefix. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new Simple\+Net\+Device. 
\end{DoxyReturn}

\begin{DoxyCode}
509 \{
510   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleNetDevice>} dev = CreateObject<SimpleNetDevice> ();
511   dev->\hyperlink{classns3_1_1SimpleNetDevice_a968ef3e7318bac29d5f1d7d977029af4}{SetAddress} (Mac48Address::ConvertFrom (Mac48Address::Allocate ()));
512   node->\hyperlink{classns3_1_1Node_a42ff83ee1d5d1649c770d3f5b62375de}{AddDevice} (dev);
513   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv6>} ipv6 = node->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv6}{Ipv6}> ();
514   uint32\_t ndid = ipv6->\hyperlink{classns3_1_1Ipv6_a4fd7da82c16b8abf9ca15f982918e6a4}{AddInterface} (dev);
515   \hyperlink{classns3_1_1Ipv6InterfaceAddress}{Ipv6InterfaceAddress} ipv6Addr = \hyperlink{classns3_1_1Ipv6InterfaceAddress}{Ipv6InterfaceAddress} (ipaddr, 
      prefix);
516   ipv6->\hyperlink{classns3_1_1Ipv6_a5cd576e83cf65445be3a0b5ffd1ddc5c}{AddAddress} (ndid, ipv6Addr);
517   ipv6->\hyperlink{classns3_1_1Ipv6_a8e61d85ec7fd342ed38fef2d040ed1b9}{SetUp} (ndid);
518   \textcolor{keywordflow}{return} dev;
519 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Create\+Internet\+Node@{Create\+Internet\+Node}}
\index{Create\+Internet\+Node@{Create\+Internet\+Node}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Create\+Internet\+Node(void)}{CreateInternetNode(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Node} $>$ Tcp\+Test\+Case\+::\+Create\+Internet\+Node (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_aa2bee178327783b9acb07d7351e1dcdf}{}\label{classTcpTestCase_aa2bee178327783b9acb07d7351e1dcdf}


Create a node with the Internet stack (I\+Pv4 version). 

\begin{DoxyReturn}{Returns}
The new node. 
\end{DoxyReturn}

\begin{DoxyCode}
343 \{
344   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node = CreateObject<Node> ();
345   \textcolor{comment}{//ARP}
346   \hyperlink{classns3_1_1Ptr}{Ptr<ArpL3Protocol>} arp = CreateObject<ArpL3Protocol> ();
347   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (arp);
348   \textcolor{comment}{//IPV4}
349   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4L3Protocol>} ipv4 = CreateObject<Ipv4L3Protocol> ();
350   \textcolor{comment}{//Routing for Ipv4}
351   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4ListRouting>} ipv4Routing = CreateObject<Ipv4ListRouting> ();
352   ipv4->\hyperlink{classns3_1_1Ipv4L3Protocol_a7e7d286dc2c782ea931d12a95203fc29}{SetRoutingProtocol} (ipv4Routing);
353   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4StaticRouting>} ipv4staticRouting = CreateObject<Ipv4StaticRouting> ();
354   ipv4Routing->AddRoutingProtocol (ipv4staticRouting, 0);
355   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (ipv4);
356   \textcolor{comment}{//ICMP}
357   \hyperlink{classns3_1_1Ptr}{Ptr<Icmpv4L4Protocol>} icmp = CreateObject<Icmpv4L4Protocol> ();
358   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (icmp);
359   \textcolor{comment}{//UDP}
360   \hyperlink{classns3_1_1Ptr}{Ptr<UdpL4Protocol>} udp = CreateObject<UdpL4Protocol> ();
361   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (udp);
362   \textcolor{comment}{//TCP}
363   \hyperlink{classns3_1_1Ptr}{Ptr<TcpL4Protocol>} tcp = CreateObject<TcpL4Protocol> ();
364   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (tcp);
365   \textcolor{comment}{// Traffic Control}
366   \hyperlink{classns3_1_1Ptr}{Ptr<TrafficControlLayer>} tc = CreateObject<TrafficControlLayer> ();
367   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (tc);
368   \textcolor{keywordflow}{return} node;
369 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Create\+Internet\+Node6@{Create\+Internet\+Node6}}
\index{Create\+Internet\+Node6@{Create\+Internet\+Node6}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Create\+Internet\+Node6(void)}{CreateInternetNode6(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Node} $>$ Tcp\+Test\+Case\+::\+Create\+Internet\+Node6 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a45d4f2a1d4a2f311c529469bdc9dfe00}{}\label{classTcpTestCase_a45d4f2a1d4a2f311c529469bdc9dfe00}


Create a node with the Internet stack (I\+Pv6 version). 

\begin{DoxyReturn}{Returns}
The new node. 
\end{DoxyReturn}

\begin{DoxyCode}
479 \{
480   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node = CreateObject<Node> ();
481   \textcolor{comment}{//IPV6}
482   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv6L3Protocol>} ipv6 = CreateObject<Ipv6L3Protocol> ();
483   \textcolor{comment}{//Routing for Ipv6}
484   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv6ListRouting>} ipv6Routing = CreateObject<Ipv6ListRouting> ();
485   ipv6->SetRoutingProtocol (ipv6Routing);
486   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv6StaticRouting>} ipv6staticRouting = CreateObject<Ipv6StaticRouting> ();
487   ipv6Routing->AddRoutingProtocol (ipv6staticRouting, 0);
488   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (ipv6);
489   \textcolor{comment}{//ICMP}
490   \hyperlink{classns3_1_1Ptr}{Ptr<Icmpv6L4Protocol>} icmp = CreateObject<Icmpv6L4Protocol> ();
491   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (icmp);
492   \textcolor{comment}{//Ipv6 Extensions}
493   ipv6->RegisterExtensions ();
494   ipv6->RegisterOptions ();
495   \textcolor{comment}{//UDP}
496   \hyperlink{classns3_1_1Ptr}{Ptr<UdpL4Protocol>} udp = CreateObject<UdpL4Protocol> ();
497   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (udp);
498   \textcolor{comment}{//TCP}
499   \hyperlink{classns3_1_1Ptr}{Ptr<TcpL4Protocol>} tcp = CreateObject<TcpL4Protocol> ();
500   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (tcp);
501   \textcolor{comment}{// Traffic Control}
502   \hyperlink{classns3_1_1Ptr}{Ptr<TrafficControlLayer>} tc = CreateObject<TrafficControlLayer> ();
503   node->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (tc);
504   \textcolor{keywordflow}{return} node;
505 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classTcpTestCase_a8c4c4fa54e3c71ae1fca781357605134}{}\label{classTcpTestCase_a8c4c4fa54e3c71ae1fca781357605134}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
211 \{
212   \hyperlink{classTcpTestCase_a41135a441155aab8e7d80acdf7c1a959}{m\_currentSourceTxBytes} = 0;
213   \hyperlink{classTcpTestCase_a955064e2af5b339a49a3aa3a04f166f8}{m\_currentSourceRxBytes} = 0;
214   \hyperlink{classTcpTestCase_aef99b385054dd7eb73a7e45b2ce3d976}{m\_currentServerRxBytes} = 0;
215   \hyperlink{classTcpTestCase_a3a7557075e3c745e487f76f26bca6423}{m\_currentServerTxBytes} = 0;
216   \hyperlink{classTcpTestCase_a04a966fbc1e4ab5a06cb67ce1279032b}{m\_sourceTxPayload} = \textcolor{keyword}{new} uint8\_t [\hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes}];
217   \hyperlink{classTcpTestCase_ac6e1dba9cf4a200de57b4247d383bbf4}{m\_sourceRxPayload} = \textcolor{keyword}{new} uint8\_t [\hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes}];
218   \hyperlink{classTcpTestCase_af1647be1c24b49579653f2c691bc802b}{m\_serverRxPayload} = \textcolor{keyword}{new} uint8\_t [\hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes}];
219   \textcolor{keywordflow}{for}(uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes}; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
220     \{
221       uint8\_t m = (uint8\_t)(97 + (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} % 26));
222       \hyperlink{classTcpTestCase_a04a966fbc1e4ab5a06cb67ce1279032b}{m\_sourceTxPayload}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = m;
223     \}
224   memset (\hyperlink{classTcpTestCase_ac6e1dba9cf4a200de57b4247d383bbf4}{m\_sourceRxPayload}, 0, m\_totalBytes);
225   memset (\hyperlink{classTcpTestCase_af1647be1c24b49579653f2c691bc802b}{m\_serverRxPayload}, 0, m\_totalBytes);
226 
227   \textcolor{keywordflow}{if} (\hyperlink{classTcpTestCase_a0fd3d3053ba2a160fbc60f6d40b5fe25}{m\_useIpv6} == \textcolor{keyword}{true})
228     \{
229       \hyperlink{classTcpTestCase_ad45a412dd010f36d8b396ab83df8acd6}{SetupDefaultSim6} ();
230     \}
231   \textcolor{keywordflow}{else}
232     \{
233       \hyperlink{classTcpTestCase_aa0635586d1df558a59adf3ab92cdd511}{SetupDefaultSim} ();
234     \}
235 
236   Simulator::Run ();
237 
238   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classTcpTestCase_a41135a441155aab8e7d80acdf7c1a959}{m\_currentSourceTxBytes}, m\_totalBytes, \textcolor{stringliteral}{"
      Source sent all bytes"});
239   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classTcpTestCase_aef99b385054dd7eb73a7e45b2ce3d976}{m\_currentServerRxBytes}, m\_totalBytes, \textcolor{stringliteral}{"
      Server received all bytes"});
240   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classTcpTestCase_a955064e2af5b339a49a3aa3a04f166f8}{m\_currentSourceRxBytes}, m\_totalBytes, \textcolor{stringliteral}{"
      Source received all bytes"});
241   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (memcmp (\hyperlink{classTcpTestCase_a04a966fbc1e4ab5a06cb67ce1279032b}{m\_sourceTxPayload}, 
      \hyperlink{classTcpTestCase_af1647be1c24b49579653f2c691bc802b}{m\_serverRxPayload}, m\_totalBytes), 0,
242                          \textcolor{stringliteral}{"Server received expected data buffers"});
243   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (memcmp (\hyperlink{classTcpTestCase_a04a966fbc1e4ab5a06cb67ce1279032b}{m\_sourceTxPayload}, 
      \hyperlink{classTcpTestCase_ac6e1dba9cf4a200de57b4247d383bbf4}{m\_sourceRxPayload}, m\_totalBytes), 0,
244                          \textcolor{stringliteral}{"Source received back expected data buffers"});
245 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Do\+Teardown@{Do\+Teardown}}
\index{Do\+Teardown@{Do\+Teardown}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Teardown(void)}{DoTeardown(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Test\+Case\+::\+Do\+Teardown (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classTcpTestCase_abca54d95eb30b20f74e19e77235b6794}{}\label{classTcpTestCase_abca54d95eb30b20f74e19e77235b6794}


Implementation to do any local setup required for this Test\+Case. 

Subclasses should override this method to perform any costly per-\/test teardown 

Reimplemented from \hyperlink{classns3_1_1TestCase_a8917f1604e28d312a8086f76291e3c46}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
248 \{
249   \textcolor{keyword}{delete} [] \hyperlink{classTcpTestCase_a04a966fbc1e4ab5a06cb67ce1279032b}{m\_sourceTxPayload};
250   \textcolor{keyword}{delete} [] \hyperlink{classTcpTestCase_ac6e1dba9cf4a200de57b4247d383bbf4}{m\_sourceRxPayload};
251   \textcolor{keyword}{delete} [] \hyperlink{classTcpTestCase_af1647be1c24b49579653f2c691bc802b}{m\_serverRxPayload};
252   Simulator::Destroy ();
253 \}
\end{DoxyCode}
\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Server\+Handle\+Connection\+Created@{Server\+Handle\+Connection\+Created}}
\index{Server\+Handle\+Connection\+Created@{Server\+Handle\+Connection\+Created}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Server\+Handle\+Connection\+Created(\+Ptr$<$ Socket $>$ s, const Address \&addr)}{ServerHandleConnectionCreated(Ptr< Socket > s, const Address &addr)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Test\+Case\+::\+Server\+Handle\+Connection\+Created (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{s, }
\item[{const {\bf Address} \&}]{addr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a92ee004cc017259628ac1731ca4e040a}{}\label{classTcpTestCase_a92ee004cc017259628ac1731ca4e040a}


Server\+: Handle connection created. 


\begin{DoxyParams}{Parameters}
{\em s} & The socket. \\
\hline
{\em addr} & The other party address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
257 \{
258   s->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classTcpTestCase_a42ede7664eb853794823d249b65df402}{TcpTestCase::ServerHandleRecv}, \textcolor{keyword}{this}));
259   s->\hyperlink{classns3_1_1Socket_a85ff5c8cc7d242823f301b49264c68a4}{SetSendCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classTcpTestCase_a1ba2bc3a0a5e84e07437e48e632fdbda}{TcpTestCase::ServerHandleSend}, \textcolor{keyword}{this}));
260 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Server\+Handle\+Recv@{Server\+Handle\+Recv}}
\index{Server\+Handle\+Recv@{Server\+Handle\+Recv}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Server\+Handle\+Recv(\+Ptr$<$ Socket $>$ sock)}{ServerHandleRecv(Ptr< Socket > sock)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Test\+Case\+::\+Server\+Handle\+Recv (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{sock}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a42ede7664eb853794823d249b65df402}{}\label{classTcpTestCase_a42ede7664eb853794823d249b65df402}


Server\+: Receive data. 


\begin{DoxyParams}{Parameters}
{\em sock} & The socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
264 \{
265   \textcolor{keywordflow}{while} (sock->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} () > 0)
266     \{
267       uint32\_t toRead = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (\hyperlink{classTcpTestCase_a0487d4363885a37e702f1d6576435f0f}{m\_serverReadSize}, sock->
      \hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ());
268       \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = sock->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (toRead, 0);
269       \textcolor{keywordflow}{if} (p == 0 && sock->\hyperlink{classns3_1_1Socket_ae489616249d946f3c0dc831c05d0d711}{GetErrno} () != Socket::ERROR\_NOTERROR)
270         \{
271           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Server could not read stream at byte "} << 
      \hyperlink{classTcpTestCase_aef99b385054dd7eb73a7e45b2ce3d976}{m\_currentServerRxBytes});
272         \}
273       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((\hyperlink{classTcpTestCase_aef99b385054dd7eb73a7e45b2ce3d976}{m\_currentServerRxBytes} + p->
      GetSize () <= \hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes}), \textcolor{keyword}{true},
274                              \textcolor{stringliteral}{"Server received too many bytes"});
275       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Server recv data=\(\backslash\)""} << \hyperlink{tcp-test_8cc_ab9425fc2dc406843f955d1565b7fc804}{GetString} (p) << \textcolor{stringliteral}{"\(\backslash\)""});
276       p->CopyData (&\hyperlink{classTcpTestCase_af1647be1c24b49579653f2c691bc802b}{m\_serverRxPayload}[\hyperlink{classTcpTestCase_aef99b385054dd7eb73a7e45b2ce3d976}{m\_currentServerRxBytes}], p->
      GetSize ());
277       m\_currentServerRxBytes += p->GetSize ();
278       \hyperlink{classTcpTestCase_a1ba2bc3a0a5e84e07437e48e632fdbda}{ServerHandleSend} (sock, sock->\hyperlink{classns3_1_1Socket_ae7cf62e3acf44106bfa1d40eaeaec151}{GetTxAvailable} ());
279     \}
280 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




Here is the caller graph for this function\+:
% FIG 14


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Server\+Handle\+Send@{Server\+Handle\+Send}}
\index{Server\+Handle\+Send@{Server\+Handle\+Send}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Server\+Handle\+Send(\+Ptr$<$ Socket $>$ sock, uint32\+\_\+t available)}{ServerHandleSend(Ptr< Socket > sock, uint32_t available)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Test\+Case\+::\+Server\+Handle\+Send (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{sock, }
\item[{uint32\+\_\+t}]{available}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a1ba2bc3a0a5e84e07437e48e632fdbda}{}\label{classTcpTestCase_a1ba2bc3a0a5e84e07437e48e632fdbda}


Server\+: Send data. 


\begin{DoxyParams}{Parameters}
{\em sock} & The socket. \\
\hline
{\em available} & Unused in the test. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
284 \{
285   \textcolor{keywordflow}{while} (sock->\hyperlink{classns3_1_1Socket_ae7cf62e3acf44106bfa1d40eaeaec151}{GetTxAvailable} () > 0 && \hyperlink{classTcpTestCase_a3a7557075e3c745e487f76f26bca6423}{m\_currentServerTxBytes} < 
      \hyperlink{classTcpTestCase_aef99b385054dd7eb73a7e45b2ce3d976}{m\_currentServerRxBytes})
286     \{
287       uint32\_t left = \hyperlink{classTcpTestCase_aef99b385054dd7eb73a7e45b2ce3d976}{m\_currentServerRxBytes} - 
      \hyperlink{classTcpTestCase_a3a7557075e3c745e487f76f26bca6423}{m\_currentServerTxBytes};
288       uint32\_t toSend = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (left, sock->\hyperlink{classns3_1_1Socket_ae7cf62e3acf44106bfa1d40eaeaec151}{GetTxAvailable} ());
289       toSend = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (toSend, \hyperlink{classTcpTestCase_adc7913a86c86cc101b620d153b7b1af9}{m\_serverWriteSize});
290       \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> (&\hyperlink{classTcpTestCase_af1647be1c24b49579653f2c691bc802b}{m\_serverRxPayload}[
      \hyperlink{classTcpTestCase_a3a7557075e3c745e487f76f26bca6423}{m\_currentServerTxBytes}], toSend);
291       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Server send data=\(\backslash\)""} << \hyperlink{tcp-test_8cc_ab9425fc2dc406843f955d1565b7fc804}{GetString} (p) << \textcolor{stringliteral}{"\(\backslash\)""});
292       \textcolor{keywordtype}{int} sent = sock->\hyperlink{classns3_1_1Socket_a036901c8f485fe5b6eab93b7f2ec289d}{Send} (p);
293       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((sent != -1), \textcolor{keyword}{true}, \textcolor{stringliteral}{"Server error during send ?"});
294       m\_currentServerTxBytes += sent;
295     \}
296   \textcolor{keywordflow}{if} (m\_currentServerTxBytes == \hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes})
297     \{
298       sock->\hyperlink{classns3_1_1Socket_abdac6e2498c5aa2963ef361d4200ddf3}{Close} ();
299     \}
300 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Setup\+Default\+Sim@{Setup\+Default\+Sim}}
\index{Setup\+Default\+Sim@{Setup\+Default\+Sim}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Setup\+Default\+Sim(void)}{SetupDefaultSim(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Test\+Case\+::\+Setup\+Default\+Sim (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_aa0635586d1df558a59adf3ab92cdd511}{}\label{classTcpTestCase_aa0635586d1df558a59adf3ab92cdd511}


Setup the test (I\+Pv4 version). 


\begin{DoxyCode}
387 \{
388   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* netmask = \textcolor{stringliteral}{"255.255.255.0"};
389   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* ipaddr0 = \textcolor{stringliteral}{"192.168.1.1"};
390   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* ipaddr1 = \textcolor{stringliteral}{"192.168.1.2"};
391   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node0 = \hyperlink{classTcpTestCase_aa2bee178327783b9acb07d7351e1dcdf}{CreateInternetNode} ();
392   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node1 = \hyperlink{classTcpTestCase_aa2bee178327783b9acb07d7351e1dcdf}{CreateInternetNode} ();
393   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleNetDevice>} dev0 = \hyperlink{classTcpTestCase_a0cbbee626d01b80c78677c0a957ffd88}{AddSimpleNetDevice} (node0, ipaddr0, 
      netmask);
394   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleNetDevice>} dev1 = \hyperlink{classTcpTestCase_a0cbbee626d01b80c78677c0a957ffd88}{AddSimpleNetDevice} (node1, ipaddr1, 
      netmask);
395 
396   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleChannel>} channel = CreateObject<SimpleChannel> ();
397   dev0->\hyperlink{classns3_1_1SimpleNetDevice_af9e9828ad584b5ba538f18f645f162e0}{SetChannel} (channel);
398   dev1->\hyperlink{classns3_1_1SimpleNetDevice_af9e9828ad584b5ba538f18f645f162e0}{SetChannel} (channel);
399 
400   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} sockFactory0 = node0->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1TcpSocketFactory}{TcpSocketFactory}> ();
401   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} sockFactory1 = node1->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1TcpSocketFactory}{TcpSocketFactory}> ();
402 
403   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} server = sockFactory0->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
404   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} source = sockFactory1->\hyperlink{classns3_1_1Socket_ad448a62bb50ad3dbac59c879a885a8d2}{CreateSocket} ();
405 
406   uint16\_t \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port} = 50000;
407   \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} serverlocaladdr (Ipv4Address::GetAny (), port);
408   \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} serverremoteaddr (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (ipaddr0), port);
409 
410   server->Bind (serverlocaladdr);
411   server->Listen ();
412   server->SetAcceptCallback (\hyperlink{group__makenullcallback_ga7e3cd6816f63ea9112c04b0086c2c65a}{MakeNullCallback}<\textcolor{keywordtype}{bool}, 
      \hyperlink{classns3_1_1Ptr}{Ptr< Socket >}, \textcolor{keyword}{const} \hyperlink{classns3_1_1Address}{Address} &> (),
413                              \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classTcpTestCase_a92ee004cc017259628ac1731ca4e040a}{TcpTestCase::ServerHandleConnectionCreated},\textcolor{keyword}{this}));
414 
415   source->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classTcpTestCase_a924eda25940bdd641e431408eb750a24}{TcpTestCase::SourceHandleRecv}, \textcolor{keyword}{this}));
416   source->\hyperlink{classns3_1_1Socket_a85ff5c8cc7d242823f301b49264c68a4}{SetSendCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classTcpTestCase_ae2b2672883a732447f02e4bf82840f34}{TcpTestCase::SourceHandleSend}, \textcolor{keyword}{this}));
417 
418   \hyperlink{classns3_1_1Address}{Address} peerAddress;
419   \textcolor{keywordtype}{int} err = source->\hyperlink{classns3_1_1Socket_a78a3c37a539d2e70869bb82cc60fbb09}{GetPeerName} (peerAddress);
420   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, -1, \textcolor{stringliteral}{"socket GetPeerName() should fail when socket is not
       connected"});
421   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (source->\hyperlink{classns3_1_1Socket_ae489616249d946f3c0dc831c05d0d711}{GetErrno} (), Socket::ERROR\_NOTCONN, \textcolor{stringliteral}{"socket
       error code should be ERROR\_NOTCONN"});
422 
423   err = source->\hyperlink{classns3_1_1Socket_a97f08aaf37b8fd7d4b5cad4dfdd4022a}{Connect} (serverremoteaddr);
424   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, 0, \textcolor{stringliteral}{"socket Connect() should succeed"});
425 
426   err = source->\hyperlink{classns3_1_1Socket_a78a3c37a539d2e70869bb82cc60fbb09}{GetPeerName} (peerAddress);
427   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, 0, \textcolor{stringliteral}{"socket GetPeerName() should succeed when socket is
       connected"});
428   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (peerAddress, serverremoteaddr, \textcolor{stringliteral}{"address from socket
       GetPeerName() should equal the connected address"});
429 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Setup\+Default\+Sim6@{Setup\+Default\+Sim6}}
\index{Setup\+Default\+Sim6@{Setup\+Default\+Sim6}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Setup\+Default\+Sim6(void)}{SetupDefaultSim6(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Test\+Case\+::\+Setup\+Default\+Sim6 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_ad45a412dd010f36d8b396ab83df8acd6}{}\label{classTcpTestCase_ad45a412dd010f36d8b396ab83df8acd6}


Setup the test (I\+Pv6 version). 


\begin{DoxyCode}
433 \{
434   \hyperlink{classns3_1_1Ipv6Prefix}{Ipv6Prefix} prefix = \hyperlink{classns3_1_1Ipv6Prefix}{Ipv6Prefix}(64);
435   \hyperlink{classns3_1_1Ipv6Address}{Ipv6Address} ipaddr0 = \hyperlink{classns3_1_1Ipv6Address}{Ipv6Address}(\textcolor{stringliteral}{"2001:0100:f00d:cafe::1"});
436   \hyperlink{classns3_1_1Ipv6Address}{Ipv6Address} ipaddr1 = \hyperlink{classns3_1_1Ipv6Address}{Ipv6Address}(\textcolor{stringliteral}{"2001:0100:f00d:cafe::2"});
437   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node0 = \hyperlink{classTcpTestCase_a45d4f2a1d4a2f311c529469bdc9dfe00}{CreateInternetNode6} ();
438   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node1 = \hyperlink{classTcpTestCase_a45d4f2a1d4a2f311c529469bdc9dfe00}{CreateInternetNode6} ();
439   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleNetDevice>} dev0 = \hyperlink{classTcpTestCase_a4385a5d6f0b5fcf2dbbe1cccb0810ea9}{AddSimpleNetDevice6} (node0, ipaddr0, 
      prefix);
440   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleNetDevice>} dev1 = \hyperlink{classTcpTestCase_a4385a5d6f0b5fcf2dbbe1cccb0810ea9}{AddSimpleNetDevice6} (node1, ipaddr1, 
      prefix);
441 
442   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleChannel>} channel = CreateObject<SimpleChannel> ();
443   dev0->\hyperlink{classns3_1_1SimpleNetDevice_af9e9828ad584b5ba538f18f645f162e0}{SetChannel} (channel);
444   dev1->\hyperlink{classns3_1_1SimpleNetDevice_af9e9828ad584b5ba538f18f645f162e0}{SetChannel} (channel);
445 
446   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} sockFactory0 = node0->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1TcpSocketFactory}{TcpSocketFactory}> ();
447   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} sockFactory1 = node1->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1TcpSocketFactory}{TcpSocketFactory}> ();
448 
449   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} server = sockFactory0->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
450   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} source = sockFactory1->\hyperlink{classns3_1_1Socket_ad448a62bb50ad3dbac59c879a885a8d2}{CreateSocket} ();
451 
452   uint16\_t \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port} = 50000;
453   \hyperlink{classns3_1_1Inet6SocketAddress}{Inet6SocketAddress} serverlocaladdr (Ipv6Address::GetAny (), port);
454   \hyperlink{classns3_1_1Inet6SocketAddress}{Inet6SocketAddress} serverremoteaddr (ipaddr0, port);
455 
456   server->Bind (serverlocaladdr);
457   server->Listen ();
458   server->SetAcceptCallback (\hyperlink{group__makenullcallback_ga7e3cd6816f63ea9112c04b0086c2c65a}{MakeNullCallback}<\textcolor{keywordtype}{bool}, 
      \hyperlink{classns3_1_1Ptr}{Ptr< Socket >}, \textcolor{keyword}{const} \hyperlink{classns3_1_1Address}{Address} &> (),
459                              \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classTcpTestCase_a92ee004cc017259628ac1731ca4e040a}{TcpTestCase::ServerHandleConnectionCreated},\textcolor{keyword}{this}));
460 
461   source->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classTcpTestCase_a924eda25940bdd641e431408eb750a24}{TcpTestCase::SourceHandleRecv}, \textcolor{keyword}{this}));
462   source->\hyperlink{classns3_1_1Socket_a85ff5c8cc7d242823f301b49264c68a4}{SetSendCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classTcpTestCase_ae2b2672883a732447f02e4bf82840f34}{TcpTestCase::SourceHandleSend}, \textcolor{keyword}{this}));
463 
464   \hyperlink{classns3_1_1Address}{Address} peerAddress;
465   \textcolor{keywordtype}{int} err = source->\hyperlink{classns3_1_1Socket_a78a3c37a539d2e70869bb82cc60fbb09}{GetPeerName} (peerAddress);
466   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, -1, \textcolor{stringliteral}{"socket GetPeerName() should fail when socket is not
       connected"});
467   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (source->\hyperlink{classns3_1_1Socket_ae489616249d946f3c0dc831c05d0d711}{GetErrno} (), Socket::ERROR\_NOTCONN, \textcolor{stringliteral}{"socket
       error code should be ERROR\_NOTCONN"});
468 
469   err = source->\hyperlink{classns3_1_1Socket_a97f08aaf37b8fd7d4b5cad4dfdd4022a}{Connect} (serverremoteaddr);
470   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, 0, \textcolor{stringliteral}{"socket Connect() should succeed"});
471 
472   err = source->\hyperlink{classns3_1_1Socket_a78a3c37a539d2e70869bb82cc60fbb09}{GetPeerName} (peerAddress);
473   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, 0, \textcolor{stringliteral}{"socket GetPeerName() should succeed when socket is
       connected"});
474   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (peerAddress, serverremoteaddr, \textcolor{stringliteral}{"address from socket
       GetPeerName() should equal the connected address"});
475 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19




Here is the caller graph for this function\+:
% FIG 20


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Source\+Handle\+Recv@{Source\+Handle\+Recv}}
\index{Source\+Handle\+Recv@{Source\+Handle\+Recv}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Source\+Handle\+Recv(\+Ptr$<$ Socket $>$ sock)}{SourceHandleRecv(Ptr< Socket > sock)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Test\+Case\+::\+Source\+Handle\+Recv (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{sock}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a924eda25940bdd641e431408eb750a24}{}\label{classTcpTestCase_a924eda25940bdd641e431408eb750a24}


Client\+: Receive data. 


\begin{DoxyParams}{Parameters}
{\em sock} & The socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
320 \{
321   \textcolor{keywordflow}{while} (sock->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} () > 0 && \hyperlink{classTcpTestCase_a955064e2af5b339a49a3aa3a04f166f8}{m\_currentSourceRxBytes} < 
      \hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes})
322     \{
323       uint32\_t toRead = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (\hyperlink{classTcpTestCase_a9c310cf24127d169c4d40af57de54e3b}{m\_sourceReadSize}, sock->
      \hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ());
324       \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = sock->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (toRead, 0);
325       \textcolor{keywordflow}{if} (p == 0 && sock->\hyperlink{classns3_1_1Socket_ae489616249d946f3c0dc831c05d0d711}{GetErrno} () != Socket::ERROR\_NOTERROR)
326         \{
327           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Source could not read stream at byte "} << 
      \hyperlink{classTcpTestCase_a955064e2af5b339a49a3aa3a04f166f8}{m\_currentSourceRxBytes});
328         \}
329       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((\hyperlink{classTcpTestCase_a955064e2af5b339a49a3aa3a04f166f8}{m\_currentSourceRxBytes} + p->
      GetSize () <= \hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes}), \textcolor{keyword}{true},
330                              \textcolor{stringliteral}{"Source received too many bytes"});
331       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Source recv data=\(\backslash\)""} << \hyperlink{tcp-test_8cc_ab9425fc2dc406843f955d1565b7fc804}{GetString} (p) << \textcolor{stringliteral}{"\(\backslash\)""});
332       p->CopyData (&\hyperlink{classTcpTestCase_ac6e1dba9cf4a200de57b4247d383bbf4}{m\_sourceRxPayload}[\hyperlink{classTcpTestCase_a955064e2af5b339a49a3aa3a04f166f8}{m\_currentSourceRxBytes}], p->
      GetSize ());
333       m\_currentSourceRxBytes += p->GetSize ();
334     \}
335   \textcolor{keywordflow}{if} (m\_currentSourceRxBytes == \hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes})
336     \{
337       sock->\hyperlink{classns3_1_1Socket_abdac6e2498c5aa2963ef361d4200ddf3}{Close} ();
338     \}
339 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 21




Here is the caller graph for this function\+:
% FIG 22


\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!Source\+Handle\+Send@{Source\+Handle\+Send}}
\index{Source\+Handle\+Send@{Source\+Handle\+Send}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{Source\+Handle\+Send(\+Ptr$<$ Socket $>$ sock, uint32\+\_\+t available)}{SourceHandleSend(Ptr< Socket > sock, uint32_t available)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Test\+Case\+::\+Source\+Handle\+Send (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{sock, }
\item[{uint32\+\_\+t}]{available}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_ae2b2672883a732447f02e4bf82840f34}{}\label{classTcpTestCase_ae2b2672883a732447f02e4bf82840f34}


Client\+: Send data. 


\begin{DoxyParams}{Parameters}
{\em sock} & The socket. \\
\hline
{\em available} & Unused in the test. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
304 \{
305   \textcolor{keywordflow}{while} (sock->\hyperlink{classns3_1_1Socket_ae7cf62e3acf44106bfa1d40eaeaec151}{GetTxAvailable} () > 0 && \hyperlink{classTcpTestCase_a41135a441155aab8e7d80acdf7c1a959}{m\_currentSourceTxBytes} < 
      \hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes})
306     \{
307       uint32\_t left = \hyperlink{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{m\_totalBytes} - \hyperlink{classTcpTestCase_a41135a441155aab8e7d80acdf7c1a959}{m\_currentSourceTxBytes};
308       uint32\_t toSend = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (left, sock->\hyperlink{classns3_1_1Socket_ae7cf62e3acf44106bfa1d40eaeaec151}{GetTxAvailable} ());
309       toSend = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (toSend, \hyperlink{classTcpTestCase_af2488464ac4a6aa734ab2fa3a8f1255e}{m\_sourceWriteSize});
310       \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> (&\hyperlink{classTcpTestCase_a04a966fbc1e4ab5a06cb67ce1279032b}{m\_sourceTxPayload}[
      \hyperlink{classTcpTestCase_a41135a441155aab8e7d80acdf7c1a959}{m\_currentSourceTxBytes}], toSend);
311       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Source send data=\(\backslash\)""} << \hyperlink{tcp-test_8cc_ab9425fc2dc406843f955d1565b7fc804}{GetString} (p) << \textcolor{stringliteral}{"\(\backslash\)""});
312       \textcolor{keywordtype}{int} sent = sock->\hyperlink{classns3_1_1Socket_a036901c8f485fe5b6eab93b7f2ec289d}{Send} (p);
313       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((sent != -1), \textcolor{keyword}{true}, \textcolor{stringliteral}{"Error during send ?"});
314       m\_currentSourceTxBytes += sent;
315     \}
316 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23




Here is the caller graph for this function\+:
% FIG 24




\subsection{Member Data Documentation}
\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+current\+Server\+Rx\+Bytes@{m\+\_\+current\+Server\+Rx\+Bytes}}
\index{m\+\_\+current\+Server\+Rx\+Bytes@{m\+\_\+current\+Server\+Rx\+Bytes}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Server\+Rx\+Bytes}{m_currentServerRxBytes}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Test\+Case\+::m\+\_\+current\+Server\+Rx\+Bytes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_aef99b385054dd7eb73a7e45b2ce3d976}{}\label{classTcpTestCase_aef99b385054dd7eb73a7e45b2ce3d976}


Server Tx bytes. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+current\+Server\+Tx\+Bytes@{m\+\_\+current\+Server\+Tx\+Bytes}}
\index{m\+\_\+current\+Server\+Tx\+Bytes@{m\+\_\+current\+Server\+Tx\+Bytes}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Server\+Tx\+Bytes}{m_currentServerTxBytes}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Test\+Case\+::m\+\_\+current\+Server\+Tx\+Bytes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a3a7557075e3c745e487f76f26bca6423}{}\label{classTcpTestCase_a3a7557075e3c745e487f76f26bca6423}


Server Rx bytes. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+current\+Source\+Rx\+Bytes@{m\+\_\+current\+Source\+Rx\+Bytes}}
\index{m\+\_\+current\+Source\+Rx\+Bytes@{m\+\_\+current\+Source\+Rx\+Bytes}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Source\+Rx\+Bytes}{m_currentSourceRxBytes}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Test\+Case\+::m\+\_\+current\+Source\+Rx\+Bytes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a955064e2af5b339a49a3aa3a04f166f8}{}\label{classTcpTestCase_a955064e2af5b339a49a3aa3a04f166f8}


Client Rx bytes. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+current\+Source\+Tx\+Bytes@{m\+\_\+current\+Source\+Tx\+Bytes}}
\index{m\+\_\+current\+Source\+Tx\+Bytes@{m\+\_\+current\+Source\+Tx\+Bytes}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Source\+Tx\+Bytes}{m_currentSourceTxBytes}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Test\+Case\+::m\+\_\+current\+Source\+Tx\+Bytes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a41135a441155aab8e7d80acdf7c1a959}{}\label{classTcpTestCase_a41135a441155aab8e7d80acdf7c1a959}


Client Tx bytes. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+server\+Read\+Size@{m\+\_\+server\+Read\+Size}}
\index{m\+\_\+server\+Read\+Size@{m\+\_\+server\+Read\+Size}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+server\+Read\+Size}{m_serverReadSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Test\+Case\+::m\+\_\+server\+Read\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a0487d4363885a37e702f1d6576435f0f}{}\label{classTcpTestCase_a0487d4363885a37e702f1d6576435f0f}


Server data size when receiving. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+server\+Rx\+Payload@{m\+\_\+server\+Rx\+Payload}}
\index{m\+\_\+server\+Rx\+Payload@{m\+\_\+server\+Rx\+Payload}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+server\+Rx\+Payload}{m_serverRxPayload}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t$\ast$ Tcp\+Test\+Case\+::m\+\_\+server\+Rx\+Payload\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_af1647be1c24b49579653f2c691bc802b}{}\label{classTcpTestCase_af1647be1c24b49579653f2c691bc802b}


Server Rx payload. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+server\+Write\+Size@{m\+\_\+server\+Write\+Size}}
\index{m\+\_\+server\+Write\+Size@{m\+\_\+server\+Write\+Size}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+server\+Write\+Size}{m_serverWriteSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Test\+Case\+::m\+\_\+server\+Write\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_adc7913a86c86cc101b620d153b7b1af9}{}\label{classTcpTestCase_adc7913a86c86cc101b620d153b7b1af9}


Server data size when sending. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+source\+Read\+Size@{m\+\_\+source\+Read\+Size}}
\index{m\+\_\+source\+Read\+Size@{m\+\_\+source\+Read\+Size}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+source\+Read\+Size}{m_sourceReadSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Test\+Case\+::m\+\_\+source\+Read\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a9c310cf24127d169c4d40af57de54e3b}{}\label{classTcpTestCase_a9c310cf24127d169c4d40af57de54e3b}


Client data size when receiving. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+source\+Rx\+Payload@{m\+\_\+source\+Rx\+Payload}}
\index{m\+\_\+source\+Rx\+Payload@{m\+\_\+source\+Rx\+Payload}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+source\+Rx\+Payload}{m_sourceRxPayload}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t$\ast$ Tcp\+Test\+Case\+::m\+\_\+source\+Rx\+Payload\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_ac6e1dba9cf4a200de57b4247d383bbf4}{}\label{classTcpTestCase_ac6e1dba9cf4a200de57b4247d383bbf4}


Client Rx payload. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+source\+Tx\+Payload@{m\+\_\+source\+Tx\+Payload}}
\index{m\+\_\+source\+Tx\+Payload@{m\+\_\+source\+Tx\+Payload}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+source\+Tx\+Payload}{m_sourceTxPayload}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t$\ast$ Tcp\+Test\+Case\+::m\+\_\+source\+Tx\+Payload\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a04a966fbc1e4ab5a06cb67ce1279032b}{}\label{classTcpTestCase_a04a966fbc1e4ab5a06cb67ce1279032b}


Client Tx payload. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+source\+Write\+Size@{m\+\_\+source\+Write\+Size}}
\index{m\+\_\+source\+Write\+Size@{m\+\_\+source\+Write\+Size}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+source\+Write\+Size}{m_sourceWriteSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Test\+Case\+::m\+\_\+source\+Write\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_af2488464ac4a6aa734ab2fa3a8f1255e}{}\label{classTcpTestCase_af2488464ac4a6aa734ab2fa3a8f1255e}


Client data size when sending. 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+total\+Bytes@{m\+\_\+total\+Bytes}}
\index{m\+\_\+total\+Bytes@{m\+\_\+total\+Bytes}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+total\+Bytes}{m_totalBytes}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Test\+Case\+::m\+\_\+total\+Bytes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}{}\label{classTcpTestCase_a9b4497e157a0b1fb7fdf90e833696201}


Total stream size (in bytes). 

\index{Tcp\+Test\+Case@{Tcp\+Test\+Case}!m\+\_\+use\+Ipv6@{m\+\_\+use\+Ipv6}}
\index{m\+\_\+use\+Ipv6@{m\+\_\+use\+Ipv6}!Tcp\+Test\+Case@{Tcp\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+use\+Ipv6}{m_useIpv6}}]{\setlength{\rightskip}{0pt plus 5cm}bool Tcp\+Test\+Case\+::m\+\_\+use\+Ipv6\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpTestCase_a0fd3d3053ba2a160fbc60f6d40b5fe25}{}\label{classTcpTestCase_a0fd3d3053ba2a160fbc60f6d40b5fe25}


Use I\+Pv6 instead of I\+Pv4. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{tcp-test_8cc}{tcp-\/test.\+cc}\end{DoxyCompactItemize}
