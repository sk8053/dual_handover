\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3}{}\section{ns3\+:\+:Hash\+:\+:Function\+:\+:Murmur3 Class Reference}
\label{classns3_1_1Hash_1_1Function_1_1Murmur3}\index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}


\hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3}{Murmur3} hash function implementation.  




{\ttfamily \#include $<$hash-\/murmur3.\+h$>$}



Inheritance diagram for ns3\+:\+:Hash\+:\+:Function\+:\+:Murmur3\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Hash\+:\+:Function\+:\+:Murmur3\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a1307ee7bf3cc36782f964c0d2dbe1d80}{Murmur3} ()
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a0639182fa8bd469749a6d444d172ca19}{Get\+Hash32} (const char $\ast$buffer, const size\+\_\+t size)
\item 
uint64\+\_\+t \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a94d6e2f8fcf78b63851f4a39a90a614d}{Get\+Hash64} (const char $\ast$buffer, const size\+\_\+t size)
\item 
virtual void \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a1a8ba08bd81c47cbf774939f63a14bac}{clear} (void)
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a63d58e837fd38ec83842fbd72f224b81}{seed} \{ \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a63d58e837fd38ec83842fbd72f224b81a7d541e2a9b411726f66ac1ea28574e13}{S\+E\+ED} = 0x8\+B\+A\+D\+F00D
 \}
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
{\bf }\par
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a8a54e5cd90d08a8bd8f92d7f6a982e3f}{m\+\_\+hash32}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a37952f402444600e609ed34001be29d9}{m\+\_\+size32}
\end{DoxyCompactItemize}

{\bf }\par
\begin{DoxyCompactItemize}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a4f75089450577248e7da181266561d6e}{m\+\_\+hash64} \mbox{[}2\mbox{]}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_adb1bc6a1101d226afbc439b987b423c1}{m\+\_\+size64}
\end{DoxyCompactItemize}

\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3}{Murmur3} hash function implementation. 

Adapted from \href{http://code.google.com/p/smhasher/}{\tt http\+://code.\+google.\+com/p/smhasher/}

Murmur\+Hash3 was written by Austin Appleby, and is placed in the public domain. The author hereby disclaims copyright to this source code.

Note -\/ The x86 and x64 versions do {\itshape not} produce the same results, as the algorithms are optimized for their respective platforms. You can still compile and run any of them on any platform, but your performance with the non-\/native version will be less than optimal. 

\subsection{Member Enumeration Documentation}
\index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}!seed@{seed}}
\index{seed@{seed}!ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}
\subsubsection[{\texorpdfstring{seed}{seed}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf ns3\+::\+Hash\+::\+Function\+::\+Murmur3\+::seed}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3_a63d58e837fd38ec83842fbd72f224b81}{}\label{classns3_1_1Hash_1_1Function_1_1Murmur3_a63d58e837fd38ec83842fbd72f224b81}
Seed value

This has to be a constant for all M\+PI ranks to generate the same hash from the same string. \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{S\+E\+ED@{S\+E\+ED}!ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}\index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}!S\+E\+ED@{S\+E\+ED}}\item[{\em 
S\+E\+ED\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3_a63d58e837fd38ec83842fbd72f224b81a7d541e2a9b411726f66ac1ea28574e13}{}\label{classns3_1_1Hash_1_1Function_1_1Murmur3_a63d58e837fd38ec83842fbd72f224b81a7d541e2a9b411726f66ac1ea28574e13}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
103   \{
104     \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a63d58e837fd38ec83842fbd72f224b81a7d541e2a9b411726f66ac1ea28574e13}{SEED} = 0x8BADF00D  \textcolor{comment}{// Ate bad food}
105   \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}!Murmur3@{Murmur3}}
\index{Murmur3@{Murmur3}!ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}
\subsubsection[{\texorpdfstring{Murmur3()}{Murmur3()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Hash\+::\+Function\+::\+Murmur3\+::\+Murmur3 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3_a1307ee7bf3cc36782f964c0d2dbe1d80}{}\label{classns3_1_1Hash_1_1Function_1_1Murmur3_a1307ee7bf3cc36782f964c0d2dbe1d80}
Constructor, clears internal state 
\begin{DoxyCode}
515 \{
516   \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a1a8ba08bd81c47cbf774939f63a14bac}{clear} ();
517 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}!clear@{clear}}
\index{clear@{clear}!ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}
\subsubsection[{\texorpdfstring{clear(void)}{clear(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Hash\+::\+Function\+::\+Murmur3\+::clear (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3_a1a8ba08bd81c47cbf774939f63a14bac}{}\label{classns3_1_1Hash_1_1Function_1_1Murmur3_a1a8ba08bd81c47cbf774939f63a14bac}
Restore initial state 

Implements \hyperlink{classns3_1_1Hash_1_1Implementation_a5d4e565e4292e8ada991ccc1e28bb3d1}{ns3\+::\+Hash\+::\+Implementation}.


\begin{DoxyCode}
563 \{
564   \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a8a54e5cd90d08a8bd8f92d7f6a982e3f}{m\_hash32} = (uint32\_t)\hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a63d58e837fd38ec83842fbd72f224b81a7d541e2a9b411726f66ac1ea28574e13}{SEED};
565   \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a37952f402444600e609ed34001be29d9}{m\_size32} = 0;
566   \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a4f75089450577248e7da181266561d6e}{m\_hash64}[0] = \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a4f75089450577248e7da181266561d6e}{m\_hash64}[1] = ((uint64\_t)(\hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a63d58e837fd38ec83842fbd72f224b81a7d541e2a9b411726f66ac1ea28574e13}{SEED}) << 32) + (uint64\_t)
      \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a63d58e837fd38ec83842fbd72f224b81a7d541e2a9b411726f66ac1ea28574e13}{SEED};
567   \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_adb1bc6a1101d226afbc439b987b423c1}{m\_size64} = 0;
568 \}
\end{DoxyCode}
\index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}!Get\+Hash32@{Get\+Hash32}}
\index{Get\+Hash32@{Get\+Hash32}!ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}
\subsubsection[{\texorpdfstring{Get\+Hash32(const char $\ast$buffer, const size\+\_\+t size)}{GetHash32(const char *buffer, const size_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Hash\+::\+Function\+::\+Murmur3\+::\+Get\+Hash32 (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{buffer, }
\item[{const size\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3_a0639182fa8bd469749a6d444d172ca19}{}\label{classns3_1_1Hash_1_1Function_1_1Murmur3_a0639182fa8bd469749a6d444d172ca19}
Compute 32-\/bit hash of a byte buffer

Call clear () between calls to \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a0639182fa8bd469749a6d444d172ca19}{Get\+Hash32()} to reset the internal state and hash each buffer separately.

If you don\textquotesingle{}t call \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a1a8ba08bd81c47cbf774939f63a14bac}{clear()} between calls to Get\+Hash32, you can hash successive buffers. The final return value will be the cumulative hash across all calls.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em buffer} & pointer to the beginning of the buffer \\
\hline
\mbox{\tt in}  & {\em size} & length of the buffer, in bytes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
32-\/bit hash of the buffer 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1Hash_1_1Implementation_a8389694c8a89ec15f4f356ef52fe8891}{ns3\+::\+Hash\+::\+Implementation}.


\begin{DoxyCode}
521 \{
522   \textcolor{keyword}{using namespace }Murmur3Implementation;
523 
524   \hyperlink{group__hash__murmur3_gad303b7fe16fa5487f07a732c50128542}{MurmurHash3\_x86\_32\_incr} (buffer, size, \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a8a54e5cd90d08a8bd8f92d7f6a982e3f}{m\_hash32}, (\textcolor{keywordtype}{void} *) & 
      \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a8a54e5cd90d08a8bd8f92d7f6a982e3f}{m\_hash32});
525   \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a37952f402444600e609ed34001be29d9}{m\_size32} += size;
526   uint32\_t hash;
527   \hyperlink{group__hash__murmur3_gaa7a43fb3327475729d3da771a405aa0c}{MurmurHash3\_x86\_32\_fin}  (\hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a37952f402444600e609ed34001be29d9}{m\_size32}, \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a8a54e5cd90d08a8bd8f92d7f6a982e3f}{m\_hash32}, (\textcolor{keywordtype}{void} *) & hash);
528 
529   \textcolor{keywordflow}{return} hash;
530 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}!Get\+Hash64@{Get\+Hash64}}
\index{Get\+Hash64@{Get\+Hash64}!ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}
\subsubsection[{\texorpdfstring{Get\+Hash64(const char $\ast$buffer, const size\+\_\+t size)}{GetHash64(const char *buffer, const size_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Hash\+::\+Function\+::\+Murmur3\+::\+Get\+Hash64 (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{buffer, }
\item[{const size\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3_a94d6e2f8fcf78b63851f4a39a90a614d}{}\label{classns3_1_1Hash_1_1Function_1_1Murmur3_a94d6e2f8fcf78b63851f4a39a90a614d}
Compute 64-\/bit hash of a byte buffer.

Call clear () between calls to \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a94d6e2f8fcf78b63851f4a39a90a614d}{Get\+Hash64()} to reset the internal state and hash each buffer separately.

If you don\textquotesingle{}t call \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a1a8ba08bd81c47cbf774939f63a14bac}{clear()} between calls to Get\+Hash64, you can hash successive buffers. The final return value will be the cumulative hash across all calls.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em buffer} & pointer to the beginning of the buffer \\
\hline
\mbox{\tt in}  & {\em size} & length of the buffer, in bytes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
64-\/bit hash of the buffer 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1Hash_1_1Implementation_ae11335959394d22427d81abfa520106a}{ns3\+::\+Hash\+::\+Implementation}.


\begin{DoxyCode}
534 \{
535   \textcolor{keyword}{using namespace }Murmur3Implementation;
536   \hyperlink{group__hash__murmur3_ga284086a230b4549dd730837edf8c25e6}{MurmurHash3\_x86\_128\_incr} (buffer, size,
537                             (uint32\_t *)(\textcolor{keywordtype}{void} *)\hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a4f75089450577248e7da181266561d6e}{m\_hash64}, \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a4f75089450577248e7da181266561d6e}{m\_hash64});
538   \hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_adb1bc6a1101d226afbc439b987b423c1}{m\_size64} += size;
539 
540   \textcolor{comment}{// Simpler would be:}
541   \textcolor{comment}{//}
542   \textcolor{comment}{//   uint64\_t hash[2];}
543   \textcolor{comment}{//   MurmurHash3\_x86\_128\_fin (m\_size64, m\_hash64, hash);}
544   \textcolor{comment}{//   return hash[0];}
545   \textcolor{comment}{//}
546   \textcolor{comment}{// but this triggers an aliasing bug in gcc-4.4 (perhaps related to}
547   \textcolor{comment}{// http://gcc.gnu.org/bugzilla/show\_bug.cgi?id=39390).}
548   \textcolor{comment}{// In ns-3, this bug produces incorrect results in static optimized}
549   \textcolor{comment}{// builds only.}
550   \textcolor{comment}{//}
551   \textcolor{comment}{// Using uint32\_t here avoids the bug, and continues to works with newer gcc.}
552   uint32\_t hash[4];
553   
554   \hyperlink{group__hash__murmur3_ga9b5a153dfe6a69d25f8d90fc9b7aee32}{MurmurHash3\_x86\_128\_fin} (\hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_adb1bc6a1101d226afbc439b987b423c1}{m\_size64},
555                            (uint32\_t *)(\textcolor{keywordtype}{void} *)\hyperlink{classns3_1_1Hash_1_1Function_1_1Murmur3_a4f75089450577248e7da181266561d6e}{m\_hash64}, hash);
556   uint64\_t result = hash[1];
557   result = (result << 32) | hash[0];
558   \textcolor{keywordflow}{return} result;
559 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




\subsection{Member Data Documentation}
\index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}!m\+\_\+hash32@{m\+\_\+hash32}}
\index{m\+\_\+hash32@{m\+\_\+hash32}!ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}
\subsubsection[{\texorpdfstring{m\+\_\+hash32}{m_hash32}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Hash\+::\+Function\+::\+Murmur3\+::m\+\_\+hash32\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3_a8a54e5cd90d08a8bd8f92d7f6a982e3f}{}\label{classns3_1_1Hash_1_1Function_1_1Murmur3_a8a54e5cd90d08a8bd8f92d7f6a982e3f}
Cache last hash value, and total bytes hashed (needed to finalize), for incremental hashing \index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}!m\+\_\+hash64@{m\+\_\+hash64}}
\index{m\+\_\+hash64@{m\+\_\+hash64}!ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}
\subsubsection[{\texorpdfstring{m\+\_\+hash64}{m_hash64}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Hash\+::\+Function\+::\+Murmur3\+::m\+\_\+hash64\mbox{[}2\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3_a4f75089450577248e7da181266561d6e}{}\label{classns3_1_1Hash_1_1Function_1_1Murmur3_a4f75089450577248e7da181266561d6e}
murmur3 produces 128-\/bit hash and state; we use just the first 64-\/bits. \index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}!m\+\_\+size32@{m\+\_\+size32}}
\index{m\+\_\+size32@{m\+\_\+size32}!ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}
\subsubsection[{\texorpdfstring{m\+\_\+size32}{m_size32}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Hash\+::\+Function\+::\+Murmur3\+::m\+\_\+size32\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3_a37952f402444600e609ed34001be29d9}{}\label{classns3_1_1Hash_1_1Function_1_1Murmur3_a37952f402444600e609ed34001be29d9}
\index{ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}!m\+\_\+size64@{m\+\_\+size64}}
\index{m\+\_\+size64@{m\+\_\+size64}!ns3\+::\+Hash\+::\+Function\+::\+Murmur3@{ns3\+::\+Hash\+::\+Function\+::\+Murmur3}}
\subsubsection[{\texorpdfstring{m\+\_\+size64}{m_size64}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Hash\+::\+Function\+::\+Murmur3\+::m\+\_\+size64\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Hash_1_1Function_1_1Murmur3_adb1bc6a1101d226afbc439b987b423c1}{}\label{classns3_1_1Hash_1_1Function_1_1Murmur3_adb1bc6a1101d226afbc439b987b423c1}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
core/model/\hyperlink{hash-murmur3_8h}{hash-\/murmur3.\+h}\item 
core/model/\hyperlink{hash-murmur3_8cc}{hash-\/murmur3.\+cc}\end{DoxyCompactItemize}
