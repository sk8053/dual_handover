\hypertarget{classAcousticModemEnergyTestCase}{}\section{Acoustic\+Modem\+Energy\+Test\+Case Class Reference}
\label{classAcousticModemEnergyTestCase}\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}


Acoustic Modem Energy Test Case.  




Inheritance diagram for Acoustic\+Modem\+Energy\+Test\+Case\+:
% FIG 0


Collaboration diagram for Acoustic\+Modem\+Energy\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classAcousticModemEnergyTestCase_ae0cad24c0e08ce3b83869d97d2169449}{Acoustic\+Modem\+Energy\+Test\+Case} ()
\item 
\hyperlink{classAcousticModemEnergyTestCase_a90542ab6fa4d110eb668d383d40042ff}{$\sim$\+Acoustic\+Modem\+Energy\+Test\+Case} ()
\item 
bool \hyperlink{classAcousticModemEnergyTestCase_a6fa602231ea18185fdfd28d8fd8b9cdf}{Rx\+Packet} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ dev, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ pkt, uint16\+\_\+t mode, const \hyperlink{classns3_1_1Address}{Address} \&sender)
\item 
void \hyperlink{classAcousticModemEnergyTestCase_a540ee1e0ec5812bbeb11c3ead857db1f}{Send\+One\+Packet} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node)
\item 
void \hyperlink{classAcousticModemEnergyTestCase_a80af809d98008abfde814665ff5a3257}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classAcousticModemEnergyTestCase_a1d9e3ca9e65e9a76630d1d17f509a932}{m\+\_\+sim\+Time}
\begin{DoxyCompactList}\small\item\em simulation time \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classAcousticModemEnergyTestCase_ac495120a94cd751178784b417141e593}{m\+\_\+bytes\+Rx}
\begin{DoxyCompactList}\small\item\em bytes received \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classAcousticModemEnergyTestCase_a49500cd745308fd0b6fd3c607b13c624}{m\+\_\+sent\+Packets}
\begin{DoxyCompactList}\small\item\em number of sent packets \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classAcousticModemEnergyTestCase_aad81603d0836ba952c5633e44e72dce8}{m\+\_\+packet\+Size}
\begin{DoxyCompactList}\small\item\em packet size \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}{m\+\_\+node}
\begin{DoxyCompactList}\small\item\em node \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ \hyperlink{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}{m\+\_\+gateway}
\begin{DoxyCompactList}\small\item\em the gateway \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Acoustic Modem Energy Test Case. 

\subsection{Constructor \& Destructor Documentation}
\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{Acoustic\+Modem\+Energy\+Test\+Case()}{AcousticModemEnergyTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Acoustic\+Modem\+Energy\+Test\+Case\+::\+Acoustic\+Modem\+Energy\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classAcousticModemEnergyTestCase_ae0cad24c0e08ce3b83869d97d2169449}{}\label{classAcousticModemEnergyTestCase_ae0cad24c0e08ce3b83869d97d2169449}

\begin{DoxyCode}
87   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Acoustic Modem energy model test case"}),
88     \hyperlink{classAcousticModemEnergyTestCase_a1d9e3ca9e65e9a76630d1d17f509a932}{m\_simTime} (25),
89     \hyperlink{classAcousticModemEnergyTestCase_ac495120a94cd751178784b417141e593}{m\_bytesRx} (0),
90     \hyperlink{classAcousticModemEnergyTestCase_a49500cd745308fd0b6fd3c607b13c624}{m\_sentPackets} (0),
91     \hyperlink{classAcousticModemEnergyTestCase_aad81603d0836ba952c5633e44e72dce8}{m\_packetSize} (17)
92 \{
93 \}
\end{DoxyCode}
\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!````~Acoustic\+Modem\+Energy\+Test\+Case@{$\sim$\+Acoustic\+Modem\+Energy\+Test\+Case}}
\index{````~Acoustic\+Modem\+Energy\+Test\+Case@{$\sim$\+Acoustic\+Modem\+Energy\+Test\+Case}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Acoustic\+Modem\+Energy\+Test\+Case()}{~AcousticModemEnergyTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Acoustic\+Modem\+Energy\+Test\+Case\+::$\sim$\+Acoustic\+Modem\+Energy\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classAcousticModemEnergyTestCase_a90542ab6fa4d110eb668d383d40042ff}{}\label{classAcousticModemEnergyTestCase_a90542ab6fa4d110eb668d383d40042ff}

\begin{DoxyCode}
96 \{
97   \hyperlink{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}{m\_node} = 0;
98   \hyperlink{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}{m\_gateway} = 0;
99 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Acoustic\+Modem\+Energy\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classAcousticModemEnergyTestCase_a80af809d98008abfde814665ff5a3257}{}\label{classAcousticModemEnergyTestCase_a80af809d98008abfde814665ff5a3257}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
129 \{
130   \textcolor{comment}{// create a generic node}
131   \hyperlink{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}{m\_node} = CreateObject<Node> ();
132 
133   \textcolor{comment}{// create a default underwater channel}
134   \hyperlink{classns3_1_1Ptr}{Ptr<UanChannel>} channel = CreateObject<UanChannel> ();
135   \hyperlink{classns3_1_1Ptr}{Ptr<UanNoiseModelDefault>} noise = CreateObject<UanNoiseModelDefault> ();
136   channel->SetPropagationModel (CreateObject<UanPropModelIdeal> ());
137   channel->SetNoiseModel (noise);
138 
139   \textcolor{comment}{// install the underwater communication stack}
140   \hyperlink{classns3_1_1UanHelper}{UanHelper} uan;
141   \hyperlink{classns3_1_1Ptr}{Ptr<UanNetDevice>} devNode = uan.\hyperlink{classns3_1_1UanHelper_a283475798bb2df2ff11c53b68d2f1361}{Install} (\hyperlink{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}{m\_node}, channel);
142 
143   \textcolor{comment}{// compute a packet (header + payload) duration}
144   uint32\_t datarate = devNode->\hyperlink{classns3_1_1UanNetDevice_abff3efdff8f4c31c2bb0ea780a6b99a8}{GetPhy} ()->GetMode (0).GetDataRateBps ();
145   \hyperlink{classns3_1_1UanHeaderCommon}{UanHeaderCommon} hd;
146   \textcolor{keywordtype}{double} packetDuration = (\hyperlink{classAcousticModemEnergyTestCase_aad81603d0836ba952c5633e44e72dce8}{m\_packetSize} + hd.\hyperlink{classns3_1_1UanHeaderCommon_afb5ab80bb39e33b3736d64165e19abf8}{GetSerializedSize} ()) * 8.0 / (\textcolor{keywordtype}{
      double}) datarate;
147 
148   \textcolor{comment}{// energy source}
149   \hyperlink{classns3_1_1BasicEnergySourceHelper}{BasicEnergySourceHelper} eh;
150   eh.\hyperlink{classns3_1_1BasicEnergySourceHelper_aa07c8c1c4a4ced92b8fc51bf4be4de3f}{Set} (\textcolor{stringliteral}{"BasicEnergySourceInitialEnergyJ"}, DoubleValue (10000000.0));
151   eh.\hyperlink{classns3_1_1EnergySourceHelper_ac52e48ef79c83537cc0bba02df8d91a1}{Install} (\hyperlink{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}{m\_node});
152 
153   \textcolor{comment}{// mobility model}
154   \hyperlink{classns3_1_1Ptr}{Ptr<ConstantPositionMobilityModel>} mobility = 
      CreateObject<ConstantPositionMobilityModel> ();
155   mobility->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (0,0,-500));
156   \hyperlink{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}{m\_node}->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (mobility);
157 
158   \textcolor{comment}{// micro modem energy model}
159   \hyperlink{classns3_1_1AcousticModemEnergyModelHelper}{AcousticModemEnergyModelHelper} modemHelper;
160   \hyperlink{classns3_1_1Ptr}{Ptr<EnergySource>} source = \hyperlink{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}{m\_node}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1EnergySourceContainer}{EnergySourceContainer}> ()->Get (0);
161   \hyperlink{classns3_1_1DeviceEnergyModelContainer}{DeviceEnergyModelContainer} cont = modemHelper.
      \hyperlink{classns3_1_1DeviceEnergyModelHelper_a085a4854e96ff8f314a9ebec93e6c4eb}{Install} (devNode,source);
162 
163   \textcolor{comment}{// Schedule a packet every 10 seconds}
164   Simulator::ScheduleNow (&\hyperlink{classAcousticModemEnergyTestCase_a540ee1e0ec5812bbeb11c3ead857db1f}{AcousticModemEnergyTestCase::SendOnePacket}
      ,
165                           \textcolor{keyword}{this},
166                           \hyperlink{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}{m\_node});
167 
168   \textcolor{comment}{// create a gateway node}
169   \hyperlink{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}{m\_gateway} = CreateObject<Node> ();
170 
171   \textcolor{comment}{// install the underwater communication stack}
172   \hyperlink{classns3_1_1Ptr}{Ptr<UanNetDevice>} devGateway = uan.\hyperlink{classns3_1_1UanHelper_a283475798bb2df2ff11c53b68d2f1361}{Install} (\hyperlink{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}{m\_gateway}, channel);
173 
174   \textcolor{comment}{// energy source}
175   eh.\hyperlink{classns3_1_1BasicEnergySourceHelper_aa07c8c1c4a4ced92b8fc51bf4be4de3f}{Set} (\textcolor{stringliteral}{"BasicEnergySourceInitialEnergyJ"}, DoubleValue (10000000.0));
176   eh.\hyperlink{classns3_1_1EnergySourceHelper_ac52e48ef79c83537cc0bba02df8d91a1}{Install} (\hyperlink{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}{m\_gateway});
177 
178   \textcolor{comment}{// mobility model}
179   \hyperlink{classns3_1_1Ptr}{Ptr<ConstantPositionMobilityModel>} mobility2 = 
      CreateObject<ConstantPositionMobilityModel> ();
180   mobility2->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (0,0,0));
181   \hyperlink{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}{m\_gateway}->\hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{AggregateObject} (mobility2);
182 
183   \textcolor{comment}{// micro modem energy model}
184   \hyperlink{classns3_1_1Ptr}{Ptr<EnergySource>} source2 = \hyperlink{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}{m\_gateway}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1EnergySourceContainer}{EnergySourceContainer}> ()->Get (0);
185   \hyperlink{classns3_1_1DeviceEnergyModelContainer}{DeviceEnergyModelContainer} cont2 = modemHelper.
      \hyperlink{classns3_1_1DeviceEnergyModelHelper_a085a4854e96ff8f314a9ebec93e6c4eb}{Install} (devGateway, source2);
186 
187   \textcolor{comment}{// set the receive callback}
188   \hyperlink{classns3_1_1Ptr}{Ptr<NetDevice>} dev = \hyperlink{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}{m\_gateway}->\hyperlink{classns3_1_1Node_a5918dfd24ef632efc9a83a5f6561c76e}{GetDevice} (0);
189   dev->\hyperlink{classns3_1_1NetDevice_ac63e4d5668e421fec4b5d37f32e7dd18}{SetReceiveCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classAcousticModemEnergyTestCase_a6fa602231ea18185fdfd28d8fd8b9cdf}{AcousticModemEnergyTestCase::RxPacket},
190                                          \textcolor{keyword}{this}));
191 
192   \textcolor{comment}{// run the simulation}
193   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (\hyperlink{classAcousticModemEnergyTestCase_a1d9e3ca9e65e9a76630d1d17f509a932}{m\_simTime}));
194   Simulator::Run ();
195 
196   uint32\_t receivedPackets = \hyperlink{classAcousticModemEnergyTestCase_ac495120a94cd751178784b417141e593}{m\_bytesRx} / \hyperlink{classAcousticModemEnergyTestCase_aad81603d0836ba952c5633e44e72dce8}{m\_packetSize};
197   \hyperlink{classns3_1_1Ptr}{Ptr<EnergySource>} src1 = \hyperlink{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}{m\_gateway}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1EnergySourceContainer}{EnergySourceContainer}> ()->Get (0);
198   \textcolor{keywordtype}{double} consumed1 = src1->\hyperlink{classns3_1_1EnergySource_ae83935d4347fb88be5d823434a555365}{GetInitialEnergy} () - src1->
      \hyperlink{classns3_1_1EnergySource_a61bab0597d0ea719643a525515a3f5f1}{GetRemainingEnergy} ();
199   \textcolor{keywordtype}{double} computed1 = cont2.\hyperlink{classns3_1_1DeviceEnergyModelContainer_ab7b49acea017b91801a4e7067db56eba}{Get} (0)->GetObject<\hyperlink{classns3_1_1AcousticModemEnergyModel}{AcousticModemEnergyModel}> ()->
      GetRxPowerW () * packetDuration * receivedPackets +
200     cont2.\hyperlink{classns3_1_1DeviceEnergyModelContainer_ab7b49acea017b91801a4e7067db56eba}{Get} (0)->GetObject<\hyperlink{classns3_1_1AcousticModemEnergyModel}{AcousticModemEnergyModel}> ()->GetIdlePowerW () * (
      \hyperlink{classAcousticModemEnergyTestCase_a1d9e3ca9e65e9a76630d1d17f509a932}{m\_simTime} - (double) 2.0 / 3.0 - packetDuration * receivedPackets);
201 
202   \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} (consumed1, computed1, 1.0e-5,
203                              \textcolor{stringliteral}{"Incorrect gateway consumed energy!"});
204 
205   \hyperlink{classns3_1_1Ptr}{Ptr<EnergySource>} src2 = \hyperlink{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}{m\_node}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1EnergySourceContainer}{EnergySourceContainer}> ()->Get (0);
206   \textcolor{keywordtype}{double} consumed2 = src2->\hyperlink{classns3_1_1EnergySource_ae83935d4347fb88be5d823434a555365}{GetInitialEnergy} () - src2->
      \hyperlink{classns3_1_1EnergySource_a61bab0597d0ea719643a525515a3f5f1}{GetRemainingEnergy} ();
207   \textcolor{keywordtype}{double} computed2 = cont.\hyperlink{classns3_1_1DeviceEnergyModelContainer_ab7b49acea017b91801a4e7067db56eba}{Get} (0)->GetObject<\hyperlink{classns3_1_1AcousticModemEnergyModel}{AcousticModemEnergyModel}> ()->
      GetTxPowerW () * packetDuration * \hyperlink{classAcousticModemEnergyTestCase_a49500cd745308fd0b6fd3c607b13c624}{m\_sentPackets} +
208     cont.\hyperlink{classns3_1_1DeviceEnergyModelContainer_ab7b49acea017b91801a4e7067db56eba}{Get} (0)->GetObject<\hyperlink{classns3_1_1AcousticModemEnergyModel}{AcousticModemEnergyModel}> ()->GetIdlePowerW () * (
      \hyperlink{classAcousticModemEnergyTestCase_a1d9e3ca9e65e9a76630d1d17f509a932}{m\_simTime} - 1 - packetDuration * \hyperlink{classAcousticModemEnergyTestCase_a49500cd745308fd0b6fd3c607b13c624}{m\_sentPackets});
209 
210   \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} (consumed2, computed2, 1.0e-5,
211                              \textcolor{stringliteral}{"Incorrect node consumed energy!"});
212 
213   Simulator::Destroy ();
214 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!Rx\+Packet@{Rx\+Packet}}
\index{Rx\+Packet@{Rx\+Packet}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{Rx\+Packet(\+Ptr$<$ Net\+Device $>$ dev, Ptr$<$ const Packet $>$ pkt, uint16\+\_\+t mode, const Address \&sender)}{RxPacket(Ptr< NetDevice > dev, Ptr< const Packet > pkt, uint16_t mode, const Address &sender)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Acoustic\+Modem\+Energy\+Test\+Case\+::\+Rx\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Net\+Device} $>$}]{dev, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{pkt, }
\item[{uint16\+\_\+t}]{mode, }
\item[{const {\bf Address} \&}]{sender}
\end{DoxyParamCaption}
)}\hypertarget{classAcousticModemEnergyTestCase_a6fa602231ea18185fdfd28d8fd8b9cdf}{}\label{classAcousticModemEnergyTestCase_a6fa602231ea18185fdfd28d8fd8b9cdf}
Receive packet function 
\begin{DoxyParams}{Parameters}
{\em dev} & the device \\
\hline
{\em pkt} & the packet \\
\hline
{\em mode} & the mode \\
\hline
{\em sender} & the address of the sender \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successful 
\end{DoxyReturn}

\begin{DoxyCode}
120 \{
121   \textcolor{comment}{// increase the total bytes received}
122   \hyperlink{classAcousticModemEnergyTestCase_ac495120a94cd751178784b417141e593}{m\_bytesRx} += pkt->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ();
123 
124   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
125 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!Send\+One\+Packet@{Send\+One\+Packet}}
\index{Send\+One\+Packet@{Send\+One\+Packet}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{Send\+One\+Packet(\+Ptr$<$ Node $>$ node)}{SendOnePacket(Ptr< Node > node)}}]{\setlength{\rightskip}{0pt plus 5cm}void Acoustic\+Modem\+Energy\+Test\+Case\+::\+Send\+One\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node}
\end{DoxyParamCaption}
)}\hypertarget{classAcousticModemEnergyTestCase_a540ee1e0ec5812bbeb11c3ead857db1f}{}\label{classAcousticModemEnergyTestCase_a540ee1e0ec5812bbeb11c3ead857db1f}
Send one packet function 
\begin{DoxyParams}{Parameters}
{\em node} & the node to send to \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
103 \{
104   \textcolor{comment}{// create an empty 17 bytes packet}
105   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} pkt = Create<Packet> (\hyperlink{classAcousticModemEnergyTestCase_aad81603d0836ba952c5633e44e72dce8}{m\_packetSize});
106   \textcolor{comment}{// send the packet in broadcast}
107   \hyperlink{classns3_1_1Ptr}{Ptr<UanNetDevice>} dev = node->\hyperlink{classns3_1_1Node_a5918dfd24ef632efc9a83a5f6561c76e}{GetDevice} (0)->GetObject<
      \hyperlink{classns3_1_1UanNetDevice}{UanNetDevice}> ();
108   dev->\hyperlink{classns3_1_1UanNetDevice_aca7865bf58e980106b68a177d41d346b}{Send} (pkt, dev->GetBroadcast (), 0);
109   \textcolor{comment}{// increase the sent packets number}
110   ++\hyperlink{classAcousticModemEnergyTestCase_a49500cd745308fd0b6fd3c607b13c624}{m\_sentPackets};
111 
112   Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10),
113                        &\hyperlink{classAcousticModemEnergyTestCase_a540ee1e0ec5812bbeb11c3ead857db1f}{AcousticModemEnergyTestCase::SendOnePacket}
      ,
114                        \textcolor{keyword}{this},
115                        node);
116 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6




\subsection{Member Data Documentation}
\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!m\+\_\+bytes\+Rx@{m\+\_\+bytes\+Rx}}
\index{m\+\_\+bytes\+Rx@{m\+\_\+bytes\+Rx}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+bytes\+Rx}{m_bytesRx}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Acoustic\+Modem\+Energy\+Test\+Case\+::m\+\_\+bytes\+Rx}\hypertarget{classAcousticModemEnergyTestCase_ac495120a94cd751178784b417141e593}{}\label{classAcousticModemEnergyTestCase_ac495120a94cd751178784b417141e593}


bytes received 

\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!m\+\_\+gateway@{m\+\_\+gateway}}
\index{m\+\_\+gateway@{m\+\_\+gateway}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+gateway}{m_gateway}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Node}$>$ Acoustic\+Modem\+Energy\+Test\+Case\+::m\+\_\+gateway}\hypertarget{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}{}\label{classAcousticModemEnergyTestCase_a132723c335a308fc1d4be16bc79f49cf}


the gateway 

\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!m\+\_\+node@{m\+\_\+node}}
\index{m\+\_\+node@{m\+\_\+node}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+node}{m_node}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Node}$>$ Acoustic\+Modem\+Energy\+Test\+Case\+::m\+\_\+node}\hypertarget{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}{}\label{classAcousticModemEnergyTestCase_a70215894f46e0f4c11d7adb48fce7d44}


node 

\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!m\+\_\+packet\+Size@{m\+\_\+packet\+Size}}
\index{m\+\_\+packet\+Size@{m\+\_\+packet\+Size}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+packet\+Size}{m_packetSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Acoustic\+Modem\+Energy\+Test\+Case\+::m\+\_\+packet\+Size}\hypertarget{classAcousticModemEnergyTestCase_aad81603d0836ba952c5633e44e72dce8}{}\label{classAcousticModemEnergyTestCase_aad81603d0836ba952c5633e44e72dce8}


packet size 

\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!m\+\_\+sent\+Packets@{m\+\_\+sent\+Packets}}
\index{m\+\_\+sent\+Packets@{m\+\_\+sent\+Packets}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+sent\+Packets}{m_sentPackets}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Acoustic\+Modem\+Energy\+Test\+Case\+::m\+\_\+sent\+Packets}\hypertarget{classAcousticModemEnergyTestCase_a49500cd745308fd0b6fd3c607b13c624}{}\label{classAcousticModemEnergyTestCase_a49500cd745308fd0b6fd3c607b13c624}


number of sent packets 

\index{Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}!m\+\_\+sim\+Time@{m\+\_\+sim\+Time}}
\index{m\+\_\+sim\+Time@{m\+\_\+sim\+Time}!Acoustic\+Modem\+Energy\+Test\+Case@{Acoustic\+Modem\+Energy\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+sim\+Time}{m_simTime}}]{\setlength{\rightskip}{0pt plus 5cm}double Acoustic\+Modem\+Energy\+Test\+Case\+::m\+\_\+sim\+Time}\hypertarget{classAcousticModemEnergyTestCase_a1d9e3ca9e65e9a76630d1d17f509a932}{}\label{classAcousticModemEnergyTestCase_a1d9e3ca9e65e9a76630d1d17f509a932}


simulation time 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
uan/test/\hyperlink{uan-energy-model-test_8cc}{uan-\/energy-\/model-\/test.\+cc}\end{DoxyCompactItemize}
