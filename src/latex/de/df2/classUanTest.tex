\hypertarget{classUanTest}{}\section{Uan\+Test Class Reference}
\label{classUanTest}\index{Uan\+Test@{Uan\+Test}}


Uan Test.  




Inheritance diagram for Uan\+Test\+:
% FIG 0


Collaboration diagram for Uan\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classUanTest_ab763d61d2c70ccadc7db53133b8ae167}{Uan\+Test} ()
\item 
virtual void \hyperlink{classUanTest_a10e0eae23696e9000dbea6e3d9a1f0ba}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UanNetDevice}{Uan\+Net\+Device} $>$ \hyperlink{classUanTest_a4439b6676512b774fb9b2f2f0dd4cfce}{Create\+Node} (Vector pos, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UanChannel}{Uan\+Channel} $>$ chan)
\item 
bool \hyperlink{classUanTest_af3bcfdc5efa92b7be46d78edf9f05931}{Do\+Phy\+Tests} ()
\item 
uint32\+\_\+t \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{Do\+One\+Phy\+Test} (\hyperlink{classns3_1_1Time}{Time} t1, \hyperlink{classns3_1_1Time}{Time} t2, uint32\+\_\+t r1, uint32\+\_\+t r2, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UanPropModel}{Uan\+Prop\+Model} $>$ prop, uint32\+\_\+t mode1=0, uint32\+\_\+t mode2=0)
\item 
bool \hyperlink{classUanTest_a19e9722f108328ea50b1b578c7ab36eb}{Rx\+Packet} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ dev, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ pkt, uint16\+\_\+t mode, const \hyperlink{classns3_1_1Address}{Address} \&sender)
\item 
void \hyperlink{classUanTest_ab0fd9a9d83e8cb6a1fc88f3a3b0e2f88}{Send\+One\+Packet} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UanNetDevice}{Uan\+Net\+Device} $>$ dev, uint32\+\_\+t mode)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1ObjectFactory}{Object\+Factory} \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\+\_\+phy\+Fac}
\begin{DoxyCompactList}\small\item\em Phy. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classUanTest_a9456c5610add5d5657353b45482337d0}{m\+\_\+bytes\+Rx}
\begin{DoxyCompactList}\small\item\em byes received \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Uan Test. 

\subsection{Constructor \& Destructor Documentation}
\index{Uan\+Test@{Uan\+Test}!Uan\+Test@{Uan\+Test}}
\index{Uan\+Test@{Uan\+Test}!Uan\+Test@{Uan\+Test}}
\subsubsection[{\texorpdfstring{Uan\+Test()}{UanTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Uan\+Test\+::\+Uan\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classUanTest_ab763d61d2c70ccadc7db53133b8ae167}{}\label{classUanTest_ab763d61d2c70ccadc7db53133b8ae167}

\begin{DoxyCode}
95                   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"UAN"})
96 \{
97 
98 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Uan\+Test@{Uan\+Test}!Create\+Node@{Create\+Node}}
\index{Create\+Node@{Create\+Node}!Uan\+Test@{Uan\+Test}}
\subsubsection[{\texorpdfstring{Create\+Node(\+Vector pos, Ptr$<$ Uan\+Channel $>$ chan)}{CreateNode(Vector pos, Ptr< UanChannel > chan)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Uan\+Net\+Device} $>$ Uan\+Test\+::\+Create\+Node (
\begin{DoxyParamCaption}
\item[{Vector}]{pos, }
\item[{{\bf Ptr}$<$ {\bf Uan\+Channel} $>$}]{chan}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUanTest_a4439b6676512b774fb9b2f2f0dd4cfce}{}\label{classUanTest_a4439b6676512b774fb9b2f2f0dd4cfce}
Create node function 
\begin{DoxyParams}{Parameters}
{\em pos} & the position of the device \\
\hline
{\em chan} & the communication channel \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the U\+AN device 
\end{DoxyReturn}

\begin{DoxyCode}
115 \{
116 
117 
118   \hyperlink{classns3_1_1Ptr}{Ptr<UanPhy>} phy = \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_a18152e93f0a6fe184ed7300cb31e9896}{Create}<\hyperlink{classns3_1_1UanPhy}{UanPhy}> ();
119   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node = CreateObject<Node> ();
120   \hyperlink{classns3_1_1Ptr}{Ptr<UanNetDevice>} dev = CreateObject<UanNetDevice> ();
121   \hyperlink{classns3_1_1Ptr}{Ptr<UanMacAloha>} mac = CreateObject<UanMacAloha> ();
122   \hyperlink{classns3_1_1Ptr}{Ptr<ConstantPositionMobilityModel>} mobility = 
      CreateObject<ConstantPositionMobilityModel> ();
123 
124   \hyperlink{classns3_1_1Ptr}{Ptr<UanTransducerHd>} trans = CreateObject<UanTransducerHd> ();
125 
126   mobility->SetPosition (pos);
127   node->AggregateObject (mobility);
128   mac->SetAddress (UanAddress::Allocate ());
129 
130   dev->SetPhy (phy);
131   dev->SetMac (mac);
132   dev->SetChannel (chan);
133   dev->SetTransducer (trans);
134   node->AddDevice (dev);
135 
136   \textcolor{keywordflow}{return} dev;
137 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{Uan\+Test@{Uan\+Test}!Do\+One\+Phy\+Test@{Do\+One\+Phy\+Test}}
\index{Do\+One\+Phy\+Test@{Do\+One\+Phy\+Test}!Uan\+Test@{Uan\+Test}}
\subsubsection[{\texorpdfstring{Do\+One\+Phy\+Test(\+Time t1, Time t2, uint32\+\_\+t r1, uint32\+\_\+t r2, Ptr$<$ Uan\+Prop\+Model $>$ prop, uint32\+\_\+t mode1=0, uint32\+\_\+t mode2=0)}{DoOnePhyTest(Time t1, Time t2, uint32_t r1, uint32_t r2, Ptr< UanPropModel > prop, uint32_t mode1=0, uint32_t mode2=0)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Uan\+Test\+::\+Do\+One\+Phy\+Test (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{t1, }
\item[{{\bf Time}}]{t2, }
\item[{uint32\+\_\+t}]{r1, }
\item[{uint32\+\_\+t}]{r2, }
\item[{{\bf Ptr}$<$ {\bf Uan\+Prop\+Model} $>$}]{prop, }
\item[{uint32\+\_\+t}]{mode1 = {\ttfamily 0}, }
\item[{uint32\+\_\+t}]{mode2 = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUanTest_a006331b086a052683abed216dc67dd8d}{}\label{classUanTest_a006331b086a052683abed216dc67dd8d}
Do one Phy test function 
\begin{DoxyParams}{Parameters}
{\em t1} & the time to send first packet \\
\hline
{\em t2} & the time to send the second packet \\
\hline
{\em r1} & first distance constant \\
\hline
{\em r2} & second distance constant \\
\hline
{\em prop} & the propagation model \\
\hline
{\em mode1} & the send mode for device 1 \\
\hline
{\em mode2} & the send mode for device 2 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of bytes received 
\end{DoxyReturn}

\begin{DoxyCode}
148 \{
149 
150   \hyperlink{classns3_1_1Ptr}{Ptr<UanChannel>} channel = CreateObject<UanChannel> ();
151   channel->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"PropagationModel"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (prop));
152 
153   \hyperlink{classns3_1_1Ptr}{Ptr<UanNetDevice>} dev0 = \hyperlink{classUanTest_a4439b6676512b774fb9b2f2f0dd4cfce}{CreateNode} (Vector (r1,50,50), channel);
154   \hyperlink{classns3_1_1Ptr}{Ptr<UanNetDevice>} dev1 = \hyperlink{classUanTest_a4439b6676512b774fb9b2f2f0dd4cfce}{CreateNode} (Vector (0,50,50), channel);
155   \hyperlink{classns3_1_1Ptr}{Ptr<UanNetDevice>} dev2 = \hyperlink{classUanTest_a4439b6676512b774fb9b2f2f0dd4cfce}{CreateNode} (Vector (r1 + r2, 50, 50), channel);
156 
157   dev0->\hyperlink{classns3_1_1UanNetDevice_acee91182c836cd8dfbbd8e46271dc9be}{SetReceiveCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classUanTest_a19e9722f108328ea50b1b578c7ab36eb}{UanTest::RxPacket}, \textcolor{keyword}{this}));
158 
159   Simulator::Schedule (txTime1, &\hyperlink{classUanTest_ab0fd9a9d83e8cb6a1fc88f3a3b0e2f88}{UanTest::SendOnePacket}, \textcolor{keyword}{this}, dev1, mode1);
160   Simulator::Schedule (txTime2, &\hyperlink{classUanTest_ab0fd9a9d83e8cb6a1fc88f3a3b0e2f88}{UanTest::SendOnePacket}, \textcolor{keyword}{this}, dev2, mode2);
161 
162   \hyperlink{classUanTest_a9456c5610add5d5657353b45482337d0}{m\_bytesRx} = 0;
163   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (20.0));
164   Simulator::Run ();
165   Simulator::Destroy ();
166 
167   \textcolor{keywordflow}{return} \hyperlink{classUanTest_a9456c5610add5d5657353b45482337d0}{m\_bytesRx};
168 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{Uan\+Test@{Uan\+Test}!Do\+Phy\+Tests@{Do\+Phy\+Tests}}
\index{Do\+Phy\+Tests@{Do\+Phy\+Tests}!Uan\+Test@{Uan\+Test}}
\subsubsection[{\texorpdfstring{Do\+Phy\+Tests()}{DoPhyTests()}}]{\setlength{\rightskip}{0pt plus 5cm}bool Uan\+Test\+::\+Do\+Phy\+Tests (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUanTest_af3bcfdc5efa92b7be46d78edf9f05931}{}\label{classUanTest_af3bcfdc5efa92b7be46d78edf9f05931}
Phy test function \begin{DoxyReturn}{Returns}
true if successful 
\end{DoxyReturn}

\begin{DoxyCode}
173 \{
174   \textcolor{comment}{// Phy Gen / Default PER / Default SINR}
175   \hyperlink{classns3_1_1UanModesList}{UanModesList} mList;
176   \hyperlink{classns3_1_1UanTxMode}{UanTxMode} mode = UanTxModeFactory::CreateMode (UanTxMode::FSK, 80, 80, 10000, 4000, 2, \textcolor{stringliteral}{"TestMode
      "});
177   mList.\hyperlink{classns3_1_1UanModesList_ae47998ab8ad053aecd5f2849043ec403}{AppendMode} (\hyperlink{classns3_1_1UanTxMode}{UanTxMode} (mode));
178   \hyperlink{classns3_1_1Ptr}{Ptr<UanPhyPerGenDefault>} perDef = CreateObject<UanPhyPerGenDefault> ();
179   \hyperlink{classns3_1_1Ptr}{Ptr<UanPhyCalcSinrDefault>} sinrDef = CreateObject<UanPhyCalcSinrDefault> ();
180   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_a77dcd099064038a1eb7a6b8251229ec3}{SetTypeId} (\textcolor{stringliteral}{"ns3::UanPhyGen"});
181   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"PerModel"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (perDef));
182   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"SinrModel"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (sinrDef));
183   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"SupportedModes"}, UanModesListValue (mList));
184 
185   \hyperlink{classns3_1_1Ptr}{Ptr<UanPropModelIdeal>} prop = CreateObject<UanPropModelIdeal> ();
186 
187   \textcolor{comment}{// No collision (Get 2 packets)}
188   \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (
      \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{DoOnePhyTest} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (3.001), 50, 50, prop),
189                                       34, \textcolor{stringliteral}{"Should have received 34 bytes from 2 disjoint packets"});
190 
191   \textcolor{comment}{// Collision (Lose both packets)}
192   \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (
      \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{DoOnePhyTest} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.99), 50, 50, prop),
193                                       0, \textcolor{stringliteral}{"Expected collision resulting in loss of both packets"});
194 
195 
196   \textcolor{comment}{// Phy Gen / FH-FSK SINR check}
197 
198   \hyperlink{classns3_1_1Ptr}{Ptr<UanPhyCalcSinrFhFsk>} sinrFhfsk = CreateObject <UanPhyCalcSinrFhFsk> ();
199   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"PerModel"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (perDef));
200   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"SinrModel"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (sinrFhfsk));
201   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"SupportedModes"}, UanModesListValue (mList));
202 
203 \textcolor{preprocessor}{#ifdef UAN\_PROP\_BH\_INSTALLED}
204   \hyperlink{classns3_1_1Ptr}{Ptr<UanPropModelBh>} prop = CreateObject<UanPropModelBh> ();
205 \textcolor{preprocessor}{#endif // UAN\_PROP\_BH\_INSTALLED}
206 
207   \textcolor{comment}{//  No collision (Get 2 packets)}
208   \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (
      \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{DoOnePhyTest} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (3.001), 50, 50, prop),
209                                       34, \textcolor{stringliteral}{"Should have received 34 bytes from 2 disjoint packets"});
210 
211   \textcolor{comment}{// Should correctly receive first arriving packet}
212   \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (
      \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{DoOnePhyTest} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0126), 50, 50, prop),
213                                       17, \textcolor{stringliteral}{"Should have recieved 17 bytes from first arriving packet"});
214 
215   \textcolor{comment}{// Packets should collide and both be lost}
216   \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (
      \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{DoOnePhyTest} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0 + 7.01 * (13.0 / 80.0)), 50, 50, prop),
217                                       0, \textcolor{stringliteral}{"Packets should collide, but received data"});
218 
219   \textcolor{comment}{// Phy Dual}
220   \hyperlink{classns3_1_1UanTxMode}{UanTxMode} mode00 = UanTxModeFactory::CreateMode (UanTxMode::FSK, 80, 80, 10000, 4000, 2, \textcolor{stringliteral}{"
      TestMode00"});
221   \hyperlink{classns3_1_1UanTxMode}{UanTxMode} mode10 = UanTxModeFactory::CreateMode (UanTxMode::FSK, 80, 80, 11000, 4000, 2, \textcolor{stringliteral}{"
      TestMode10"});
222   \hyperlink{classns3_1_1UanTxMode}{UanTxMode} mode20 = UanTxModeFactory::CreateMode (UanTxMode::FSK, 80, 80, 15000, 4000, 2, \textcolor{stringliteral}{"
      TestMode20"});
223   \hyperlink{classns3_1_1UanTxMode}{UanTxMode} mode01 = UanTxModeFactory::CreateMode (UanTxMode::FSK, 80, 80, 10000, 4000, 2, \textcolor{stringliteral}{"
      TestMode01"});
224   \hyperlink{classns3_1_1UanTxMode}{UanTxMode} mode11 = UanTxModeFactory::CreateMode (UanTxMode::FSK, 80, 80, 11000, 4000, 2, \textcolor{stringliteral}{"
      TestMode11"});
225   \hyperlink{classns3_1_1UanTxMode}{UanTxMode} mode21 = UanTxModeFactory::CreateMode (UanTxMode::FSK, 80, 80, 15000, 4000, 2, \textcolor{stringliteral}{"
      TestMode21"});
226 
227   \hyperlink{classns3_1_1UanModesList}{UanModesList} m0;
228   m0.\hyperlink{classns3_1_1UanModesList_ae47998ab8ad053aecd5f2849043ec403}{AppendMode} (mode00);
229   m0.\hyperlink{classns3_1_1UanModesList_ae47998ab8ad053aecd5f2849043ec403}{AppendMode} (mode10);
230   m0.\hyperlink{classns3_1_1UanModesList_ae47998ab8ad053aecd5f2849043ec403}{AppendMode} (mode20);
231   \hyperlink{classns3_1_1UanModesList}{UanModesList} m1;
232   m1.\hyperlink{classns3_1_1UanModesList_ae47998ab8ad053aecd5f2849043ec403}{AppendMode} (mode01);
233   m1.\hyperlink{classns3_1_1UanModesList_ae47998ab8ad053aecd5f2849043ec403}{AppendMode} (mode11);
234   m1.\hyperlink{classns3_1_1UanModesList_ae47998ab8ad053aecd5f2849043ec403}{AppendMode} (mode21);
235 
236   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac} = \hyperlink{classns3_1_1ObjectFactory}{ObjectFactory} ();
237   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_a77dcd099064038a1eb7a6b8251229ec3}{SetTypeId} (\textcolor{stringliteral}{"ns3::UanPhyDual"});
238   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"SupportedModesPhy1"}, UanModesListValue (m0));
239   \hyperlink{classUanTest_aa3af462909130b54c4b43b5bca42446b}{m\_phyFac}.\hyperlink{classns3_1_1ObjectFactory_aef5c0d5019c96bdf01cefd1ff83f4a68}{Set} (\textcolor{stringliteral}{"SupportedModesPhy2"}, UanModesListValue (m1));
240 
241   \textcolor{comment}{// No collision (Get 2 packets)}
242   \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (
      \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{DoOnePhyTest} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (3.01), 50, 50, prop),
243                                       34, \textcolor{stringliteral}{"Expected no collision"});
244 
245   \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (
      \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{DoOnePhyTest} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.99), 50, 50, prop, 0, 0),
246                                       0, \textcolor{stringliteral}{"Expected collision with both packets lost"});
247 
248   \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (
      \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{DoOnePhyTest} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.99), 50, 50, prop, 0, 2),
249                                       17, \textcolor{stringliteral}{"Expected collision with only one packets lost"});
250 
251   \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (
      \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{DoOnePhyTest} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.99), 50, 50, prop, 0, 5),
252                                       34, \textcolor{stringliteral}{"Expected no collision"});
253 
254   \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (
      \hyperlink{classUanTest_a006331b086a052683abed216dc67dd8d}{DoOnePhyTest} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.99), 50, 50, prop, 2, 3),
255                                       34, \textcolor{stringliteral}{"Expected no collision"});
256 
257   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
258 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{Uan\+Test@{Uan\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Uan\+Test@{Uan\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Uan\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classUanTest_a10e0eae23696e9000dbea6e3d9a1f0ba}{}\label{classUanTest_a10e0eae23696e9000dbea6e3d9a1f0ba}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
262 \{
263 
264   \hyperlink{classns3_1_1Ptr}{Ptr<UanPhyPerUmodem>} per = CreateObject<UanPhyPerUmodem> ();
265   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} pkt = Create<Packet> (1000);
266   \textcolor{keywordtype}{double} error = per->\hyperlink{classns3_1_1UanPhyPerUmodem_a9a6f46eb34ec23e1492d2a53b701cfff}{CalcPer} (pkt, 9, UanPhyGen::GetDefaultModes ()[0]);
267   \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} (error, 0.539, 0.001, \textcolor{stringliteral}{"Got PER outside of tolerance"});
268 
269 \textcolor{preprocessor}{#ifdef UAN\_PROP\_BH\_INSTALLED}
270   \textcolor{comment}{//  Correct DB lookup for BH prop.}
271   \hyperlink{classns3_1_1Ptr}{Ptr<UanPropModelBh>} propBh = CreateObject<UanPropModelBh> ();
272   BellhopResp resp = propBh->GetResp (10000, 50, 50, 1000);
273 
274   \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} (resp.GetPathLossDb (), -44.1753, 0.001, \textcolor{stringliteral}{"Got BH
       Pathloss outside of tolerance"});
275 
276   \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} (resp.GetPdp ().GetTap (4).GetAmp (), 0.14159, 0.001, \textcolor{stringliteral}{
      "Got BH arrival outside of tolerance"});
277 
278 \textcolor{preprocessor}{#endif // UAN\_PROP\_BH\_INSTALLED}
279 
280   \hyperlink{classUanTest_af3bcfdc5efa92b7be46d78edf9f05931}{DoPhyTests} ();
281 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{Uan\+Test@{Uan\+Test}!Rx\+Packet@{Rx\+Packet}}
\index{Rx\+Packet@{Rx\+Packet}!Uan\+Test@{Uan\+Test}}
\subsubsection[{\texorpdfstring{Rx\+Packet(\+Ptr$<$ Net\+Device $>$ dev, Ptr$<$ const Packet $>$ pkt, uint16\+\_\+t mode, const Address \&sender)}{RxPacket(Ptr< NetDevice > dev, Ptr< const Packet > pkt, uint16_t mode, const Address &sender)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Uan\+Test\+::\+Rx\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Net\+Device} $>$}]{dev, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{pkt, }
\item[{uint16\+\_\+t}]{mode, }
\item[{const {\bf Address} \&}]{sender}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUanTest_a19e9722f108328ea50b1b578c7ab36eb}{}\label{classUanTest_a19e9722f108328ea50b1b578c7ab36eb}
Receive packet function 
\begin{DoxyParams}{Parameters}
{\em dev} & the device \\
\hline
{\em pkt} & the packet \\
\hline
{\em mode} & the receive mode \\
\hline
{\em sender} & the address of the sender \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successful 
\end{DoxyReturn}

\begin{DoxyCode}
102 \{
103   \hyperlink{classUanTest_a9456c5610add5d5657353b45482337d0}{m\_bytesRx} += pkt->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ();
104   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
105 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{Uan\+Test@{Uan\+Test}!Send\+One\+Packet@{Send\+One\+Packet}}
\index{Send\+One\+Packet@{Send\+One\+Packet}!Uan\+Test@{Uan\+Test}}
\subsubsection[{\texorpdfstring{Send\+One\+Packet(\+Ptr$<$ Uan\+Net\+Device $>$ dev, uint32\+\_\+t mode)}{SendOnePacket(Ptr< UanNetDevice > dev, uint32_t mode)}}]{\setlength{\rightskip}{0pt plus 5cm}void Uan\+Test\+::\+Send\+One\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Uan\+Net\+Device} $>$}]{dev, }
\item[{uint32\+\_\+t}]{mode}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUanTest_ab0fd9a9d83e8cb6a1fc88f3a3b0e2f88}{}\label{classUanTest_ab0fd9a9d83e8cb6a1fc88f3a3b0e2f88}
Send one packet function 
\begin{DoxyParams}{Parameters}
{\em dev} & the device \\
\hline
{\em mode} & the transmit mode \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
108 \{
109   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} pkt = Create<Packet> (17);
110   dev->\hyperlink{classns3_1_1UanNetDevice_aca7865bf58e980106b68a177d41d346b}{Send} (pkt, dev->\hyperlink{classns3_1_1UanNetDevice_a0a7b435a96c84f3ad394df300946a5af}{GetBroadcast} (), mode);
111 
112 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12




\subsection{Member Data Documentation}
\index{Uan\+Test@{Uan\+Test}!m\+\_\+bytes\+Rx@{m\+\_\+bytes\+Rx}}
\index{m\+\_\+bytes\+Rx@{m\+\_\+bytes\+Rx}!Uan\+Test@{Uan\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+bytes\+Rx}{m_bytesRx}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Uan\+Test\+::m\+\_\+bytes\+Rx\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUanTest_a9456c5610add5d5657353b45482337d0}{}\label{classUanTest_a9456c5610add5d5657353b45482337d0}


byes received 

\index{Uan\+Test@{Uan\+Test}!m\+\_\+phy\+Fac@{m\+\_\+phy\+Fac}}
\index{m\+\_\+phy\+Fac@{m\+\_\+phy\+Fac}!Uan\+Test@{Uan\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Fac}{m_phyFac}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Object\+Factory} Uan\+Test\+::m\+\_\+phy\+Fac\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUanTest_aa3af462909130b54c4b43b5bca42446b}{}\label{classUanTest_aa3af462909130b54c4b43b5bca42446b}


Phy. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
uan/test/\hyperlink{uan-test_8cc}{uan-\/test.\+cc}\end{DoxyCompactItemize}
