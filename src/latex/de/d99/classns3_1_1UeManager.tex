\hypertarget{classns3_1_1UeManager}{}\section{ns3\+:\+:Ue\+Manager Class Reference}
\label{classns3_1_1UeManager}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}


{\ttfamily \#include $<$lte-\/enb-\/rrc.\+h$>$}



Inheritance diagram for ns3\+:\+:Ue\+Manager\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Ue\+Manager\+:
% FIG 1
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{State} \{ \\*
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a6e92e7eaed87665e012ff9c3a4a9e4d3}{I\+N\+I\+T\+I\+A\+L\+\_\+\+R\+A\+N\+D\+O\+M\+\_\+\+A\+C\+C\+E\+SS} = 0, 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a54b5e529e9da2b99970d8939dbd9832e}{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+S\+E\+T\+UP}, 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a401670e622ea15128374d56a887e602f}{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+J\+E\+C\+T\+ED}, 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{C\+O\+N\+N\+E\+C\+T\+E\+D\+\_\+\+N\+O\+R\+M\+A\+L\+LY}, 
\\*
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808abd13cee86acc2cb3c04241dec919c73f}{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON}, 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2e74c6adfadd2e6826deb4fec7e94520}{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+E\+S\+T\+A\+B\+L\+I\+S\+H\+M\+E\+NT}, 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808af12d34cff237916f8322a4b1031ceeda}{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+R\+E\+P\+A\+R\+A\+T\+I\+ON}, 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+J\+O\+I\+N\+I\+NG}, 
\\*
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a66ee8994a912a463763b439ac0f158f2}{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+A\+T\+H\+\_\+\+S\+W\+I\+T\+CH}, 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+L\+E\+A\+V\+I\+NG}, 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808aca9c82460eb5d1d8fcebbfc0c4a9167b}{P\+R\+E\+P\+A\+R\+E\+\_\+\+M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON}, 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a263ff177d041c66b6a07b69e2be5562e}{M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON}, 
\\*
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a55259373fd7fb9170cc87c2170d08146}{N\+U\+M\+\_\+\+S\+T\+A\+T\+ES}
 \}
\item 
typedef void($\ast$ \hyperlink{classns3_1_1UeManager_a1f96734afb6ce1a48b78d0db7c987882}{State\+Traced\+Callback}) (uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id, uint16\+\_\+t rnti, \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{State} old\+State, \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{State} new\+State)
\item 
typedef void($\ast$ \hyperlink{classns3_1_1UeManager_ab48e55f403542cb7718724de271b658b}{Imsi\+Cid\+Rnti\+Traced\+Callback}) (uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id, uint16\+\_\+t rnti)
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1UeManager_a7f6e14854c204194328cf9b2464dbf5f}{Ue\+Manager} ()
\item 
\hyperlink{classns3_1_1UeManager_a380a5d0250b2ebd9a2c34cd1cf87e4a2}{Ue\+Manager} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteEnbRrc}{Lte\+Enb\+Rrc} $>$ rrc, uint16\+\_\+t rnti, \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{State} \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1UeManager_a2593fad5c5cca6eecb9d1dd5379385a7}{$\sim$\+Ue\+Manager} (void)
\item 
void \hyperlink{classns3_1_1UeManager_a94d44301e73fe309a9ebefe8936c058f}{Set\+Source} (uint16\+\_\+t source\+Cell\+Id, uint16\+\_\+t source\+X2ap\+Id)
\item 
std\+::pair$<$ uint16\+\_\+t, uint16\+\_\+t $>$ \hyperlink{classns3_1_1UeManager_a367df7bddfe589cff084c704929bc9a7}{Get\+Source} (void)
\item 
void \hyperlink{classns3_1_1UeManager_a20e9e4c443dd02c40993f8c9e247d5ce}{Set\+Imsi} (uint64\+\_\+t imsi)
\item 
void \hyperlink{classns3_1_1UeManager_a2ce1c42fc55675d2afb7652c35ae11ac}{Set\+Is\+Mc} (bool is\+Mc)
\item 
bool \hyperlink{classns3_1_1UeManager_a65f1479b211f543c780ef5f30a3c54ee}{Get\+Is\+Mc} (void) const 
\item 
void \hyperlink{classns3_1_1UeManager_a75f49cd54eb63c79c696779aa518cf19}{Setup\+Data\+Radio\+Bearer} (\hyperlink{structns3_1_1EpsBearer}{Eps\+Bearer} bearer, uint8\+\_\+t bearer\+Id, uint32\+\_\+t gtp\+Teid, \hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} transport\+Layer\+Address)
\item 
void \hyperlink{classns3_1_1UeManager_a104d92b26b4b7fe93099d74080f62ae3}{Record\+Data\+Radio\+Bearers\+To\+Be\+Started} ()
\item 
void \hyperlink{classns3_1_1UeManager_ad03d22d27261b89b6b575e16b5855bd5}{Start\+Data\+Radio\+Bearers} ()
\item 
void \hyperlink{classns3_1_1UeManager_ac36c73f6adf01f326765766bc1d7393a}{Release\+Data\+Radio\+Bearer} (uint8\+\_\+t drbid)
\item 
void \hyperlink{classns3_1_1UeManager_add763d882c14c2f1414167668f6ca095}{Schedule\+Rrc\+Connection\+Reconfiguration} ()
\item 
void \hyperlink{classns3_1_1UeManager_a1d842520ee54f281ee7eefc2a62f7844}{Prepare\+Handover} (uint16\+\_\+t cell\+Id)
\item 
void \hyperlink{classns3_1_1UeManager_ad2e93daf91532b0fd263355b2416330d}{Recv\+Handover\+Request\+Ack} (\hyperlink{structns3_1_1EpcX2Sap_1_1HandoverRequestAckParams}{Epc\+X2\+Sap\+User\+::\+Handover\+Request\+Ack\+Params} params)
\item 
\hyperlink{structns3_1_1LteRrcSap_1_1RadioResourceConfigDedicated}{Lte\+Rrc\+Sap\+::\+Radio\+Resource\+Config\+Dedicated} \hyperlink{classns3_1_1UeManager_a310c374082bf0293d515592a15ecef4d}{Get\+Radio\+Resource\+Config\+For\+Handover\+Preparation\+Info} ()
\item 
\hyperlink{structns3_1_1LteRrcSap_1_1RrcConnectionReconfiguration}{Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reconfiguration} \hyperlink{classns3_1_1UeManager_aa2119b7ea12cbe86401cb73690f67d9b}{Get\+Rrc\+Connection\+Reconfiguration\+For\+Handover} ()
\item 
void \hyperlink{classns3_1_1UeManager_a2288415129fd7319128599cf2681e780}{Send\+Data} (uint8\+\_\+t bid, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
std\+::vector$<$ \hyperlink{structns3_1_1EpcX2Sap_1_1ErabToBeSetupItem}{Epc\+X2\+Sap\+::\+Erab\+To\+Be\+Setup\+Item} $>$ \hyperlink{classns3_1_1UeManager_aedc1779570a508b261381b0311811540}{Get\+Erab\+List} ()
\item 
void \hyperlink{classns3_1_1UeManager_ad1a1e702fc813b4260bcafaa4f4562ba}{Send\+Ue\+Context\+Release} ()
\item 
void \hyperlink{classns3_1_1UeManager_ab36bf5ac97f7023d2ef825124f95f839}{Send\+Rrc\+Connection\+Switch} (bool use\+Mm\+Wave\+Connection)
\item 
void \hyperlink{classns3_1_1UeManager_ae666e05868312327e759a738ba1e19f3}{Recv\+Handover\+Preparation\+Failure} (uint16\+\_\+t cell\+Id)
\item 
void \hyperlink{classns3_1_1UeManager_a5c5da485afc3315699f3ee3e8448aa09}{Recv\+Sn\+Status\+Transfer} (\hyperlink{structns3_1_1EpcX2Sap_1_1SnStatusTransferParams}{Epc\+X2\+Sap\+User\+::\+Sn\+Status\+Transfer\+Params} params)
\item 
void \hyperlink{classns3_1_1UeManager_a09e6e92b47575fa170d0b0e4d149c31d}{Recv\+Ue\+Context\+Release} (\hyperlink{structns3_1_1EpcX2Sap_1_1UeContextReleaseParams}{Epc\+X2\+Sap\+User\+::\+Ue\+Context\+Release\+Params} params)
\item 
void \hyperlink{classns3_1_1UeManager_a52d52fa9ab13eecfc3ccf82262e03e1c}{Recv\+Rlc\+Setup\+Request} (\hyperlink{structns3_1_1EpcX2Sap_1_1RlcSetupRequest}{Epc\+X2\+Sap\+User\+::\+Rlc\+Setup\+Request} params)
\item 
void \hyperlink{classns3_1_1UeManager_a2a4a5b37119d8d2fdc1493eda96247f1}{Recv\+Rlc\+Setup\+Completed} (uint8\+\_\+t drbid)
\item 
void \hyperlink{classns3_1_1UeManager_a29ae16f2a383c0761f907de0973c56ee}{Complete\+Setup\+Ue} (\hyperlink{structns3_1_1LteEnbRrcSapProvider_1_1CompleteSetupUeParameters}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Complete\+Setup\+Ue\+Parameters} params)
\begin{DoxyCompactList}\small\item\em Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_acc43a1e7e8a4a6f5e6645066e9253060}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Complete\+Setup\+Ue} interface. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1UeManager_af0959818ae542240ccf1caa2b3da19ab}{Recv\+Rrc\+Connection\+Request} (\hyperlink{structns3_1_1LteRrcSap_1_1RrcConnectionRequest}{Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Request} msg)
\begin{DoxyCompactList}\small\item\em Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_a6a49a245760fe748a1e959e92c9cc313}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Rrc\+Connection\+Request} interface. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1UeManager_a603086a2beb1901cad3f30c6bfd32544}{Recv\+Rrc\+Connection\+Setup\+Completed} (\hyperlink{structns3_1_1LteRrcSap_1_1RrcConnectionSetupCompleted}{Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Setup\+Completed} msg)
\begin{DoxyCompactList}\small\item\em Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_aa167fea38bb3d88f6c87a4fbfbb2669e}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Rrc\+Connection\+Setup\+Completed} interface. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1UeManager_a767171084a3ea38162758d145b705e2a}{Recv\+Rrc\+Connection\+Reconfiguration\+Completed} (\hyperlink{structns3_1_1LteRrcSap_1_1RrcConnectionReconfigurationCompleted}{Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reconfiguration\+Completed} msg)
\begin{DoxyCompactList}\small\item\em Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_a551d1002a06181295debe624dfd1322b}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Rrc\+Connection\+Reconfiguration\+Completed} interface. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1UeManager_a02513c99e18c815fc58a05e4b135ecfa}{Recv\+Rrc\+Connection\+Reestablishment\+Request} (\hyperlink{structns3_1_1LteRrcSap_1_1RrcConnectionReestablishmentRequest}{Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reestablishment\+Request} msg)
\begin{DoxyCompactList}\small\item\em Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_a205d3d264d52fa434896589d48d8210e}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Rrc\+Connection\+Reestablishment\+Request} interface. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1UeManager_ac37bbe0bc63e4fd32c098df8c2f531b8}{Recv\+Rrc\+Connection\+Reestablishment\+Complete} (\hyperlink{structns3_1_1LteRrcSap_1_1RrcConnectionReestablishmentComplete}{Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reestablishment\+Complete} msg)
\begin{DoxyCompactList}\small\item\em Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_a45f6b371cbc613840cdc2c950768201f}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Rrc\+Connection\+Reestablishment\+Complete} interface. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1UeManager_aaf0bb6b60d798db37cefb97f4b1884e6}{Recv\+Measurement\+Report} (\hyperlink{structns3_1_1LteRrcSap_1_1MeasurementReport}{Lte\+Rrc\+Sap\+::\+Measurement\+Report} msg)
\begin{DoxyCompactList}\small\item\em Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_abf788b7395d6a2bc7e0ab86a3f992695}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Measurement\+Report} interface. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1UeManager_a98a8c4fbacd2bbe62487e9ef228a0517}{Recv\+Rrc\+Secondary\+Cell\+Initial\+Access\+Successful} (uint16\+\_\+t mm\+Wave\+Rnti, uint16\+\_\+t mm\+Wave\+Cell\+Id)
\item 
void \hyperlink{classns3_1_1UeManager_a3502fd922f08dc8116176a63060d8067}{Cmac\+Ue\+Config\+Update\+Ind} (\hyperlink{structns3_1_1LteEnbCmacSapUser_1_1UeConfig}{Lte\+Enb\+Cmac\+Sap\+User\+::\+Ue\+Config} cmac\+Params)
\item 
void \hyperlink{classns3_1_1UeManager_a703c64cf61f89afeb54461985d47ac44}{Do\+Receive\+Pdcp\+Sdu} (\hyperlink{structns3_1_1LtePdcpSapUser_1_1ReceivePdcpSduParameters}{Lte\+Pdcp\+Sap\+User\+::\+Receive\+Pdcp\+Sdu\+Parameters} params)
\item 
uint16\+\_\+t \hyperlink{classns3_1_1UeManager_a351a66d86df2e5e4692da3a59e22773c}{Get\+Rnti} (void) const 
\item 
uint64\+\_\+t \hyperlink{classns3_1_1UeManager_a9609913bb407b13da17a55d9013e8e10}{Get\+Imsi} (void) const 
\item 
uint16\+\_\+t \hyperlink{classns3_1_1UeManager_af7a84dcad94adbc23b87773d336bb664}{Get\+Srs\+Configuration\+Index} (void) const 
\item 
void \hyperlink{classns3_1_1UeManager_a8bc48fe95a32d47ef0a7a36fbaa4339b}{Set\+Srs\+Configuration\+Index} (uint16\+\_\+t srs\+Conf\+Index)
\item 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{State} \hyperlink{classns3_1_1UeManager_a401868bb61523c594c69024e2231467a}{Get\+State} () const 
\item 
void \hyperlink{classns3_1_1UeManager_af41111c80a44e534b52ddf4d838edb0c}{Set\+Pdsch\+Config\+Dedicated} (\hyperlink{structns3_1_1LteRrcSap_1_1PdschConfigDedicated}{Lte\+Rrc\+Sap\+::\+Pdsch\+Config\+Dedicated} pdsch\+Config\+Dedicated)
\item 
void \hyperlink{classns3_1_1UeManager_a3aa975452dea86a4acfefb50eca6af28}{Set\+First\+Connection} ()
\item 
bool \hyperlink{classns3_1_1UeManager_ad03e7afb123a9874ad50ec518b528b14}{Get\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access} ()
\item 
void \hyperlink{classns3_1_1UeManager_abb69288e493a0ca82c78dbfb0177ad45}{Set\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access} (bool param)
\item 
void \hyperlink{classns3_1_1UeManager_a126de0980408212bb991bfce59977dcb}{Recv\+Notify\+Lte\+Mm\+Wave\+Handover\+Completed} ()
\item 
void \hyperlink{classns3_1_1UeManager_a258642f79552f6e9ac3116470085286e}{Recv\+Connection\+Switch\+To\+Mm\+Wave} (bool use\+Mm\+Wave\+Connection, uint8\+\_\+t drbid)
\item 
void \hyperlink{classns3_1_1UeManager_a0af234afe9ada00168893f4aab0c18f8}{Recv\+Secondary\+Cell\+Handover\+Completed} (\hyperlink{structns3_1_1EpcX2Sap_1_1SecondaryHandoverCompletedParams}{Epc\+X2\+Sap\+User\+::\+Secondary\+Handover\+Completed\+Params} params)
\item 
void \hyperlink{classns3_1_1UeManager_a3e11e0a7509257a1e5f25024a926bbc8}{Recv\+Assistant\+Info} (\hyperlink{structns3_1_1EpcX2Sap_1_1AssistantInformationForSplitting}{Epc\+X2\+Sap\+::\+Assistant\+Information\+For\+Splitting} info)
\item 
void \hyperlink{classns3_1_1UeManager_ac96bf957b6a2bced32624cb79eeab29b}{change\+Path\+At\+Pdcp} (uint16\+\_\+t cell\+I\+D1, uint16\+\_\+t cell\+I\+D2)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1UeManager_a03dcaf9e5a92ccf58e498e12b0f0d871}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1UeManager_ae7036651fc161b02ede5c77f57a35982}{Do\+Initialize} ()
\item 
virtual void \hyperlink{classns3_1_1UeManager_af885b21caa398fa9e9b8a69dbf607a88}{Do\+Dispose} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \hyperlink{structns3_1_1LteRlcAm_1_1RetxPdu}{Lte\+Rlc\+Am\+::\+Retx\+Pdu} $>$ \hyperlink{classns3_1_1UeManager_aa35d9d1c4f3019583f782373d9e428a1}{Merge\+Buffers} (std\+::vector$<$ \hyperlink{structns3_1_1LteRlcAm_1_1RetxPdu}{Lte\+Rlc\+Am\+::\+Retx\+Pdu} $>$ first, std\+::vector$<$ \hyperlink{structns3_1_1LteRlcAm_1_1RetxPdu}{Lte\+Rlc\+Am\+::\+Retx\+Pdu} $>$ second)
\item 
void \hyperlink{classns3_1_1UeManager_acfe070a93481248c1d2624f02a448a34}{Forward\+Rlc\+Buffers} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteRlc}{Lte\+Rlc} $>$ rlc, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LtePdcp}{Lte\+Pdcp} $>$ pdcp, uint32\+\_\+t gtp\+Teid, bool mc\+Lte\+To\+Mm\+Wave\+Forwarding, bool mc\+Mm\+To\+Mm\+Wave\+Forwarding, uint8\+\_\+t bid)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1UeManager_a445cf5c9036a101af33526a4ebb89863}{Add\+Data\+Radio\+Bearer\+Info} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteDataRadioBearerInfo}{Lte\+Data\+Radio\+Bearer\+Info} $>$ radio\+Bearer\+Info)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteDataRadioBearerInfo}{Lte\+Data\+Radio\+Bearer\+Info} $>$ \hyperlink{classns3_1_1UeManager_a8f8a1bcd11bcdfd6e17b72c6325a25b0}{Get\+Data\+Radio\+Bearer\+Info} (uint8\+\_\+t drbid)
\item 
void \hyperlink{classns3_1_1UeManager_a73a1be128d8e48154fcb9a9ef3c742ec}{Remove\+Data\+Radio\+Bearer\+Info} (uint8\+\_\+t drbid)
\item 
\hyperlink{structns3_1_1LteRrcSap_1_1RrcConnectionReconfiguration}{Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reconfiguration} \hyperlink{classns3_1_1UeManager_a41bd82649d9703e339e3fe988f922a5f}{Build\+Rrc\+Connection\+Reconfiguration} ()
\item 
\hyperlink{structns3_1_1LteRrcSap_1_1RadioResourceConfigDedicated}{Lte\+Rrc\+Sap\+::\+Radio\+Resource\+Config\+Dedicated} \hyperlink{classns3_1_1UeManager_ad5933233e726bf7443714ecb261358f0}{Build\+Radio\+Resource\+Config\+Dedicated} ()
\item 
uint8\+\_\+t \hyperlink{classns3_1_1UeManager_a87e1b280b80dbd9e1aa0f91994882057}{Get\+New\+Rrc\+Transaction\+Identifier} ()
\item 
uint8\+\_\+t \hyperlink{classns3_1_1UeManager_add2d87f0743ed88c0cd89da5f65d04a0}{Lcid2\+Drbid} (uint8\+\_\+t lcid)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1UeManager_af0ba90c3b4fe3300796ffc03de328f73}{Drbid2\+Lcid} (uint8\+\_\+t drbid)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1UeManager_a585341e3dd6501f657cb4b4c1efa0f40}{Lcid2\+Bid} (uint8\+\_\+t lcid)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1UeManager_a5f3f8e891803bc57dc35af2c6c5a286d}{Bid2\+Lcid} (uint8\+\_\+t bid)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1UeManager_a7f9cf28eee4b60f195e9f4577a8a3a35}{Drbid2\+Bid} (uint8\+\_\+t drbid)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1UeManager_ac8c03e2c3f2bbb67f9c13df62e6464b5}{Bid2\+Drbid} (uint8\+\_\+t bid)
\item 
void \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{Switch\+To\+State} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{State} \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1UeManager_a511c8f672390b1520ba134623782ac81}{Mc\+\_\+\+Count} =0
\item 
bool \hyperlink{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}{m\+\_\+first\+Connection}
\item 
bool \hyperlink{classns3_1_1UeManager_add440b9081bc11490fc5b7cf72c45115}{m\+\_\+received\+Lte\+Mm\+Wave\+Handover\+Completed}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\+\_\+queued\+Handover\+Request\+Cell\+Id}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1UeManager_a6684861c62ae763709683b4940bf0ff3}{m\+\_\+last\+Allocated\+Drbid}
\item 
std\+::map$<$ uint8\+\_\+t, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteDataRadioBearerInfo}{Lte\+Data\+Radio\+Bearer\+Info} $>$ $>$ \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\+\_\+drb\+Map}
\item 
std\+::map$<$ uint8\+\_\+t, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1RlcBearerInfo}{Rlc\+Bearer\+Info} $>$ $>$ \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\+\_\+rlc\+Map}
\item 
std\+::vector$<$ \hyperlink{structns3_1_1EpcX2Sap_1_1RlcSetupRequest}{Epc\+X2\+Sap\+User\+::\+Rlc\+Setup\+Request} $>$ \hyperlink{classns3_1_1UeManager_a998bc5ed29bd7edfa4c683adcfc7cabb}{m\+\_\+rlc\+Request\+Vector}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteSignalingRadioBearerInfo}{Lte\+Signaling\+Radio\+Bearer\+Info} $>$ \hyperlink{classns3_1_1UeManager_a8125951721a3aeefbf6ea5af111f2f3f}{m\+\_\+srb0}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteSignalingRadioBearerInfo}{Lte\+Signaling\+Radio\+Bearer\+Info} $>$ \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\+\_\+srb1}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\+\_\+rnti}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\+\_\+imsi}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1UeManager_aa8546edd90163c658d2ce9cc6c8da657}{m\+\_\+last\+Rrc\+Transaction\+Identifier}
\item 
\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated}{Lte\+Rrc\+Sap\+::\+Physical\+Config\+Dedicated} \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\+\_\+physical\+Config\+Dedicated}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteEnbRrc}{Lte\+Enb\+Rrc} $>$ \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\+\_\+rrc}
\begin{DoxyCompactList}\small\item\em Pointer to the parent e\+NodeB R\+RC. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{State} \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\+\_\+state}
\begin{DoxyCompactList}\small\item\em The current \hyperlink{classns3_1_1UeManager}{Ue\+Manager} state. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1LtePdcpSapUser}{Lte\+Pdcp\+Sap\+User} $\ast$ \hyperlink{classns3_1_1UeManager_af261f8dc60848f41e18c9fba89d9903d}{m\+\_\+drb\+Pdcp\+Sap\+User}
\item 
bool \hyperlink{classns3_1_1UeManager_ac1e5bf47aad07288d2676bb09e63e215}{m\+\_\+pending\+Rrc\+Connection\+Reconfiguration}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ uint64\+\_\+t, uint16\+\_\+t, uint16\+\_\+t, \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{State}, \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{State} $>$ \hyperlink{classns3_1_1UeManager_ac17d478044a6111ca71b05d8b3950bf7}{m\+\_\+state\+Transition\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ uint64\+\_\+t, uint16\+\_\+t, uint16\+\_\+t $>$ \hyperlink{classns3_1_1UeManager_a1fd26ae2275ed93d13fefd27d1b89307}{m\+\_\+secondary\+Rlc\+Created\+Trace}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1UeManager_aec435692a673cd55353a2bb258d5f487}{m\+\_\+source\+X2ap\+Id}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1UeManager_add9ed1d405182617c513205fab32d470}{m\+\_\+source\+Cell\+Id}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1UeManager_a8a70641b8dfb0641e6cfcf4cc83083a3}{m\+\_\+target\+Cell\+Id}
\item 
\hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ uint8\+\_\+t $>$ \hyperlink{classns3_1_1UeManager_a61c31c1ebd084eed264d06b92dd44920}{m\+\_\+drbs\+To\+Be\+Started}
\item 
bool \hyperlink{classns3_1_1UeManager_a2c655c5f3f0bdb4953405734118770df}{m\+\_\+need\+Phy\+Mac\+Configuration}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\+\_\+mm\+Wave\+Cell\+Id}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}{m\+\_\+mm\+Wave\+Rnti}
\item 
bool \hyperlink{classns3_1_1UeManager_ad0ab1d98110575774a2d4da876878ad2}{m\+\_\+mm\+Wave\+Cell\+Available\+For\+Mc\+Setup}
\item 
bool \hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\+\_\+is\+Mc}
\item 
bool \hyperlink{classns3_1_1UeManager_a1ff2a09ff4ed22e06fc86cb5ae614c83}{m\+\_\+is\+Mc\+\_\+2}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1UeManager_a85948121037b466cea1baa6a51273def}{m\+\_\+connection\+Request\+Timeout}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1UeManager_afa30ea647e5d93b6c58d46b92e681044}{m\+\_\+connection\+Setup\+Timeout}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1UeManager_a7071fcda6f71ed8382ae0144cfe61692}{m\+\_\+connection\+Rejected\+Timeout}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1UeManager_a441fc4eda92a15be344d70b7039dacd4}{m\+\_\+handover\+Joining\+Timeout}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1UeManager_aebe46172b4387024c856c6917b5e2d6b}{m\+\_\+handover\+Leaving\+Timeout}
\item 
std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\+\_\+x2forwarding\+Buffer}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}{m\+\_\+x2forwarding\+Buffer\+Size}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1UeManager_a06780ff70dbed84661ea3b1e0c06452c}{m\+\_\+maxx2forwarding\+Buffer\+Size}
\item 
bool \hyperlink{classns3_1_1UeManager_a311e1518759c74a51cbc56c568488ca1}{m\+\_\+all\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1UeManager_a99276a0379b8384b466b4c79710608de}{Lte\+Pdcp\+Specific\+Lte\+Pdcp\+Sap\+User$<$ Ue\+Manager $>$}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Manages all the radio bearer information possessed by the E\+NB R\+RC for a single UE. 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Imsi\+Cid\+Rnti\+Traced\+Callback@{Imsi\+Cid\+Rnti\+Traced\+Callback}}
\index{Imsi\+Cid\+Rnti\+Traced\+Callback@{Imsi\+Cid\+Rnti\+Traced\+Callback}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Imsi\+Cid\+Rnti\+Traced\+Callback}{ImsiCidRntiTracedCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$  ns3\+::\+Ue\+Manager\+::\+Imsi\+Cid\+Rnti\+Traced\+Callback) (uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id, uint16\+\_\+t rnti)}\hypertarget{classns3_1_1UeManager_ab48e55f403542cb7718724de271b658b}{}\label{classns3_1_1UeManager_ab48e55f403542cb7718724de271b658b}
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} signature for imsi, cell\+Id and rnti events.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em imsi} & \\
\hline
\mbox{\tt in}  & {\em cell\+Id} & \\
\hline
\mbox{\tt in}  & {\em rnti} & \\
\hline
\end{DoxyParams}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!State\+Traced\+Callback@{State\+Traced\+Callback}}
\index{State\+Traced\+Callback@{State\+Traced\+Callback}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{State\+Traced\+Callback}{StateTracedCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$  ns3\+::\+Ue\+Manager\+::\+State\+Traced\+Callback) (uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id, uint16\+\_\+t rnti, {\bf State} old\+State, {\bf State} new\+State)}\hypertarget{classns3_1_1UeManager_a1f96734afb6ce1a48b78d0db7c987882}{}\label{classns3_1_1UeManager_a1f96734afb6ce1a48b78d0db7c987882}
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} signature for state transition events.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em imsi} & \\
\hline
\mbox{\tt in}  & {\em cell\+Id} & \\
\hline
\mbox{\tt in}  & {\em rnti} & \\
\hline
\mbox{\tt in}  & {\em old\+State} & \\
\hline
\mbox{\tt in}  & {\em new\+State} & \\
\hline
\end{DoxyParams}


\subsection{Member Enumeration Documentation}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!State@{State}}
\index{State@{State}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{State}{State}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf ns3\+::\+Ue\+Manager\+::\+State}}\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}
The state of the \hyperlink{classns3_1_1UeManager}{Ue\+Manager} at the e\+NB R\+RC \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{I\+N\+I\+T\+I\+A\+L\+\_\+\+R\+A\+N\+D\+O\+M\+\_\+\+A\+C\+C\+E\+SS@{I\+N\+I\+T\+I\+A\+L\+\_\+\+R\+A\+N\+D\+O\+M\+\_\+\+A\+C\+C\+E\+SS}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!I\+N\+I\+T\+I\+A\+L\+\_\+\+R\+A\+N\+D\+O\+M\+\_\+\+A\+C\+C\+E\+SS@{I\+N\+I\+T\+I\+A\+L\+\_\+\+R\+A\+N\+D\+O\+M\+\_\+\+A\+C\+C\+E\+SS}}\item[{\em 
I\+N\+I\+T\+I\+A\+L\+\_\+\+R\+A\+N\+D\+O\+M\+\_\+\+A\+C\+C\+E\+SS\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a6e92e7eaed87665e012ff9c3a4a9e4d3}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a6e92e7eaed87665e012ff9c3a4a9e4d3}
}]\index{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+S\+E\+T\+UP@{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+S\+E\+T\+UP}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+S\+E\+T\+UP@{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+S\+E\+T\+UP}}\item[{\em 
C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+S\+E\+T\+UP\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a54b5e529e9da2b99970d8939dbd9832e}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a54b5e529e9da2b99970d8939dbd9832e}
}]\index{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+J\+E\+C\+T\+ED@{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+J\+E\+C\+T\+ED}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+J\+E\+C\+T\+ED@{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+J\+E\+C\+T\+ED}}\item[{\em 
C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+J\+E\+C\+T\+ED\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a401670e622ea15128374d56a887e602f}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a401670e622ea15128374d56a887e602f}
}]\index{C\+O\+N\+N\+E\+C\+T\+E\+D\+\_\+\+N\+O\+R\+M\+A\+L\+LY@{C\+O\+N\+N\+E\+C\+T\+E\+D\+\_\+\+N\+O\+R\+M\+A\+L\+LY}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!C\+O\+N\+N\+E\+C\+T\+E\+D\+\_\+\+N\+O\+R\+M\+A\+L\+LY@{C\+O\+N\+N\+E\+C\+T\+E\+D\+\_\+\+N\+O\+R\+M\+A\+L\+LY}}\item[{\em 
C\+O\+N\+N\+E\+C\+T\+E\+D\+\_\+\+N\+O\+R\+M\+A\+L\+LY\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}
}]\index{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON@{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON@{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON}}\item[{\em 
C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808abd13cee86acc2cb3c04241dec919c73f}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808abd13cee86acc2cb3c04241dec919c73f}
}]\index{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+E\+S\+T\+A\+B\+L\+I\+S\+H\+M\+E\+NT@{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+E\+S\+T\+A\+B\+L\+I\+S\+H\+M\+E\+NT}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+E\+S\+T\+A\+B\+L\+I\+S\+H\+M\+E\+NT@{C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+E\+S\+T\+A\+B\+L\+I\+S\+H\+M\+E\+NT}}\item[{\em 
C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+E\+S\+T\+A\+B\+L\+I\+S\+H\+M\+E\+NT\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2e74c6adfadd2e6826deb4fec7e94520}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2e74c6adfadd2e6826deb4fec7e94520}
}]\index{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+R\+E\+P\+A\+R\+A\+T\+I\+ON@{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+R\+E\+P\+A\+R\+A\+T\+I\+ON}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+R\+E\+P\+A\+R\+A\+T\+I\+ON@{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+R\+E\+P\+A\+R\+A\+T\+I\+ON}}\item[{\em 
H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+R\+E\+P\+A\+R\+A\+T\+I\+ON\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808af12d34cff237916f8322a4b1031ceeda}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808af12d34cff237916f8322a4b1031ceeda}
}]\index{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+J\+O\+I\+N\+I\+NG@{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+J\+O\+I\+N\+I\+NG}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+J\+O\+I\+N\+I\+NG@{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+J\+O\+I\+N\+I\+NG}}\item[{\em 
H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+J\+O\+I\+N\+I\+NG\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}
}]\index{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+A\+T\+H\+\_\+\+S\+W\+I\+T\+CH@{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+A\+T\+H\+\_\+\+S\+W\+I\+T\+CH}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+A\+T\+H\+\_\+\+S\+W\+I\+T\+CH@{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+A\+T\+H\+\_\+\+S\+W\+I\+T\+CH}}\item[{\em 
H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+P\+A\+T\+H\+\_\+\+S\+W\+I\+T\+CH\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a66ee8994a912a463763b439ac0f158f2}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a66ee8994a912a463763b439ac0f158f2}
}]\index{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+L\+E\+A\+V\+I\+NG@{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+L\+E\+A\+V\+I\+NG}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+L\+E\+A\+V\+I\+NG@{H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+L\+E\+A\+V\+I\+NG}}\item[{\em 
H\+A\+N\+D\+O\+V\+E\+R\+\_\+\+L\+E\+A\+V\+I\+NG\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}
}]\index{P\+R\+E\+P\+A\+R\+E\+\_\+\+M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON@{P\+R\+E\+P\+A\+R\+E\+\_\+\+M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!P\+R\+E\+P\+A\+R\+E\+\_\+\+M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON@{P\+R\+E\+P\+A\+R\+E\+\_\+\+M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON}}\item[{\em 
P\+R\+E\+P\+A\+R\+E\+\_\+\+M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808aca9c82460eb5d1d8fcebbfc0c4a9167b}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808aca9c82460eb5d1d8fcebbfc0c4a9167b}
}]\index{M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON@{M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON@{M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON}}\item[{\em 
M\+C\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a263ff177d041c66b6a07b69e2be5562e}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a263ff177d041c66b6a07b69e2be5562e}
}]\index{N\+U\+M\+\_\+\+S\+T\+A\+T\+ES@{N\+U\+M\+\_\+\+S\+T\+A\+T\+ES}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!N\+U\+M\+\_\+\+S\+T\+A\+T\+ES@{N\+U\+M\+\_\+\+S\+T\+A\+T\+ES}}\item[{\em 
N\+U\+M\+\_\+\+S\+T\+A\+T\+ES\hypertarget{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a55259373fd7fb9170cc87c2170d08146}{}\label{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a55259373fd7fb9170cc87c2170d08146}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
83   \{
84     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a6e92e7eaed87665e012ff9c3a4a9e4d3}{INITIAL\_RANDOM\_ACCESS} = 0,
85     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a54b5e529e9da2b99970d8939dbd9832e}{CONNECTION\_SETUP},
86     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a401670e622ea15128374d56a887e602f}{CONNECTION\_REJECTED},
87     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY},
88     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808abd13cee86acc2cb3c04241dec919c73f}{CONNECTION\_RECONFIGURATION},
89     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2e74c6adfadd2e6826deb4fec7e94520}{CONNECTION\_REESTABLISHMENT},
90     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808af12d34cff237916f8322a4b1031ceeda}{HANDOVER\_PREPARATION},
91     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{HANDOVER\_JOINING},
92     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a66ee8994a912a463763b439ac0f158f2}{HANDOVER\_PATH\_SWITCH},
93     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{HANDOVER\_LEAVING},
94     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808aca9c82460eb5d1d8fcebbfc0c4a9167b}{PREPARE\_MC\_CONNECTION\_RECONFIGURATION},
95     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a263ff177d041c66b6a07b69e2be5562e}{MC\_CONNECTION\_RECONFIGURATION},
96     \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a55259373fd7fb9170cc87c2170d08146}{NUM\_STATES}
97   \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Ue\+Manager@{Ue\+Manager}}
\index{Ue\+Manager@{Ue\+Manager}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Ue\+Manager()}{UeManager()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Ue\+Manager\+::\+Ue\+Manager (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a7f6e14854c204194328cf9b2464dbf5f}{}\label{classns3_1_1UeManager_a7f6e14854c204194328cf9b2464dbf5f}

\begin{DoxyCode}
141 \{
142   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"this constructor is not espected to be used"});
143   \hyperlink{classns3_1_1UeManager_a511c8f672390b1520ba134623782ac81}{Mc\_Count} =0; \textcolor{comment}{//sjkang}
144 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Ue\+Manager@{Ue\+Manager}}
\index{Ue\+Manager@{Ue\+Manager}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Ue\+Manager(\+Ptr$<$ Lte\+Enb\+Rrc $>$ rrc, uint16\+\_\+t rnti, State s)}{UeManager(Ptr< LteEnbRrc > rrc, uint16_t rnti, State s)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Ue\+Manager\+::\+Ue\+Manager (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Lte\+Enb\+Rrc} $>$}]{rrc, }
\item[{uint16\+\_\+t}]{rnti, }
\item[{{\bf State}}]{s}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a380a5d0250b2ebd9a2c34cd1cf87e4a2}{}\label{classns3_1_1UeManager_a380a5d0250b2ebd9a2c34cd1cf87e4a2}
\hyperlink{classns3_1_1UeManager}{Ue\+Manager} constructor


\begin{DoxyParams}{Parameters}
{\em rrc} & pointer to the \hyperlink{classns3_1_1LteEnbRrc}{Lte\+Enb\+Rrc} holding this \hyperlink{classns3_1_1UeManager}{Ue\+Manager} \\
\hline
{\em rnti} & R\+N\+TI of the UE \\
\hline
{\em s} & initial state of the \hyperlink{classns3_1_1UeManager}{Ue\+Manager}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}

\begin{DoxyCode}
148   : \hyperlink{classns3_1_1UeManager_a6684861c62ae763709683b4940bf0ff3}{m\_lastAllocatedDrbid} (0),
149     \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti} (rnti),
150     \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi} (0),
151     \hyperlink{classns3_1_1UeManager_aa8546edd90163c658d2ce9cc6c8da657}{m\_lastRrcTransactionIdentifier} (0),
152     \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc} (rrc),
153     \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state} (\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s}),
154     \hyperlink{classns3_1_1UeManager_ac1e5bf47aad07288d2676bb09e63e215}{m\_pendingRrcConnectionReconfiguration} (\textcolor{keyword}{false}),
155     \hyperlink{classns3_1_1UeManager_aec435692a673cd55353a2bb258d5f487}{m\_sourceX2apId} (0),
156     \hyperlink{classns3_1_1UeManager_add9ed1d405182617c513205fab32d470}{m\_sourceCellId} (0),
157     \hyperlink{classns3_1_1UeManager_a2c655c5f3f0bdb4953405734118770df}{m\_needPhyMacConfiguration} (\textcolor{keyword}{false}),
158     \hyperlink{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}{m\_x2forwardingBufferSize} (0),
159     \hyperlink{classns3_1_1UeManager_a06780ff70dbed84661ea3b1e0c06452c}{m\_maxx2forwardingBufferSize} (2*1024),
160     \hyperlink{classns3_1_1UeManager_a311e1518759c74a51cbc56c568488ca1}{m\_allMmWaveInOutageAtInitialAccess} (\textcolor{keyword}{false})
161 \{ 
162   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
163   \hyperlink{classns3_1_1UeManager_a511c8f672390b1520ba134623782ac81}{Mc\_Count} =0; \textcolor{comment}{//sjkang}
164 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!````~Ue\+Manager@{$\sim$\+Ue\+Manager}}
\index{````~Ue\+Manager@{$\sim$\+Ue\+Manager}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{$\sim$\+Ue\+Manager(void)}{~UeManager(void)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Ue\+Manager\+::$\sim$\+Ue\+Manager (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1UeManager_a2593fad5c5cca6eecb9d1dd5379385a7}{}\label{classns3_1_1UeManager_a2593fad5c5cca6eecb9d1dd5379385a7}

\begin{DoxyCode}
292 \{
293 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Add\+Data\+Radio\+Bearer\+Info@{Add\+Data\+Radio\+Bearer\+Info}}
\index{Add\+Data\+Radio\+Bearer\+Info@{Add\+Data\+Radio\+Bearer\+Info}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Add\+Data\+Radio\+Bearer\+Info(\+Ptr$<$ Lte\+Data\+Radio\+Bearer\+Info $>$ radio\+Bearer\+Info)}{AddDataRadioBearerInfo(Ptr< LteDataRadioBearerInfo > radioBearerInfo)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ue\+Manager\+::\+Add\+Data\+Radio\+Bearer\+Info (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Lte\+Data\+Radio\+Bearer\+Info} $>$}]{radio\+Bearer\+Info}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a445cf5c9036a101af33526a4ebb89863}{}\label{classns3_1_1UeManager_a445cf5c9036a101af33526a4ebb89863}
Add a new \hyperlink{classns3_1_1LteDataRadioBearerInfo}{Lte\+Data\+Radio\+Bearer\+Info} structure to the \hyperlink{classns3_1_1UeManager}{Ue\+Manager}


\begin{DoxyParams}{Parameters}
{\em radio\+Bearer\+Info} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the id of the newly added data radio bearer structure 
\end{DoxyReturn}

\begin{DoxyCode}
2236 \{
2237   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2238   \textcolor{keyword}{const} uint8\_t MAX\_DRB\_ID = 32;
2239   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} drbid = (\hyperlink{classns3_1_1UeManager_a6684861c62ae763709683b4940bf0ff3}{m\_lastAllocatedDrbid} + 1) % MAX\_DRB\_ID; 
2240        drbid != \hyperlink{classns3_1_1UeManager_a6684861c62ae763709683b4940bf0ff3}{m\_lastAllocatedDrbid}; 
2241        drbid = (drbid + 1) % MAX\_DRB\_ID)
2242     \{
2243       \textcolor{keywordflow}{if} (drbid != 0) \textcolor{comment}{// 0 is not allowed}
2244         \{
2245           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.find (drbid) == \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ())
2246             \{
2247               \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.insert (std::pair<uint8\_t, Ptr<LteDataRadioBearerInfo> > (drbid, drbInfo));
2248               drbInfo->m\_drbIdentity = drbid;
2249               \hyperlink{classns3_1_1UeManager_a6684861c62ae763709683b4940bf0ff3}{m\_lastAllocatedDrbid} = drbid;
2250               \textcolor{keywordflow}{return} drbid;
2251             \}
2252         \}
2253     \}
2254   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"no more data radio bearer ids available"});
2255   \textcolor{keywordflow}{return} 0;
2256 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Bid2\+Drbid@{Bid2\+Drbid}}
\index{Bid2\+Drbid@{Bid2\+Drbid}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Bid2\+Drbid(uint8\+\_\+t bid)}{Bid2Drbid(uint8_t bid)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ue\+Manager\+::\+Bid2\+Drbid (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{bid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_ac8c03e2c3f2bbb67f9c13df62e6464b5}{}\label{classns3_1_1UeManager_ac8c03e2c3f2bbb67f9c13df62e6464b5}

\begin{DoxyParams}{Parameters}
{\em bid} & an E\+PS Bearer Identifier\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the corresponding Data Radio Bearer Id 
\end{DoxyReturn}

\begin{DoxyCode}
2399 \{
2400   \textcolor{keywordflow}{return} bid;
2401 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Bid2\+Lcid@{Bid2\+Lcid}}
\index{Bid2\+Lcid@{Bid2\+Lcid}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Bid2\+Lcid(uint8\+\_\+t bid)}{Bid2Lcid(uint8_t bid)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ue\+Manager\+::\+Bid2\+Lcid (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{bid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a5f3f8e891803bc57dc35af2c6c5a286d}{}\label{classns3_1_1UeManager_a5f3f8e891803bc57dc35af2c6c5a286d}

\begin{DoxyParams}{Parameters}
{\em bid} & an E\+PS Bearer Identifier\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the corresponding Logical \hyperlink{classns3_1_1Channel}{Channel} Identifier 
\end{DoxyReturn}

\begin{DoxyCode}
2387 \{
2388   \textcolor{keywordflow}{return} bid + 2;
2389 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Build\+Radio\+Resource\+Config\+Dedicated@{Build\+Radio\+Resource\+Config\+Dedicated}}
\index{Build\+Radio\+Resource\+Config\+Dedicated@{Build\+Radio\+Resource\+Config\+Dedicated}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Build\+Radio\+Resource\+Config\+Dedicated()}{BuildRadioResourceConfigDedicated()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Rrc\+Sap\+::\+Radio\+Resource\+Config\+Dedicated} ns3\+::\+Ue\+Manager\+::\+Build\+Radio\+Resource\+Config\+Dedicated (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_ad5933233e726bf7443714ecb261358f0}{}\label{classns3_1_1UeManager_ad5933233e726bf7443714ecb261358f0}
\begin{DoxyReturn}{Returns}
a Radio\+Resource\+Config\+Dedicated struct built based on the current configuration 
\end{DoxyReturn}

\begin{DoxyCode}
2296 \{
2297   LteRrcSap::RadioResourceConfigDedicated rrcd;
2298 
2299   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1} != 0)
2300     \{
2301       LteRrcSap::SrbToAddMod stam;
2302       stam.srbIdentity = \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_srbIdentity;
2303       stam.logicalChannelConfig = \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_logicalChannelConfig;
2304       rrcd.srbToAddModList.push\_back (stam);
2305     \}
2306 
2307   \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
2308        it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
2309        ++it)
2310     \{
2311       LteRrcSap::DrbToAddMod dtam;
2312       dtam.epsBearerIdentity = it->second->m\_epsBearerIdentity;
2313       dtam.drbIdentity = it->second->m\_drbIdentity;
2314       dtam.rlcConfig = it->second->m\_rlcConfig;
2315       dtam.logicalChannelIdentity = it->second->m\_logicalChannelIdentity;
2316       dtam.logicalChannelConfig = it->second->m\_logicalChannelConfig;
2317       dtam.is\_mc = it->second->m\_isMc;
2318       dtam.is\_mc\_2 = it->second->m\_isMc\_2;
2319       rrcd.drbToAddModList.push\_back (dtam);
2320     \}
2321 
2322   \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.size() == 0 && \hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc} && \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave) \textcolor{comment}{// UeManager on a secondary
       cell for a MC device}
2323   \{
2324     \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<RlcBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.begin ();
2325        it != \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.end ();
2326        ++it)
2327     \{
2328       LteRrcSap::DrbToAddMod dtam;
2329       dtam.epsBearerIdentity = \hyperlink{classns3_1_1UeManager_a7f9cf28eee4b60f195e9f4577a8a3a35}{Drbid2Bid}(it->second->drbid);
2330       dtam.drbIdentity = it->second->drbid;
2331       dtam.rlcConfig = it->second->rlcConfig;
2332       dtam.logicalChannelIdentity = it->second->logicalChannelIdentity;
2333       dtam.logicalChannelConfig = it->second->logicalChannelConfig;
2334       dtam.is\_mc = \textcolor{keyword}{true};
2335       rrcd.drbToAddModList.push\_back (dtam);
2336     \}
2337   \}
2338   \textcolor{comment}{//sjkang}
2339   \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.size() == 0 && \hyperlink{classns3_1_1UeManager_a1ff2a09ff4ed22e06fc86cb5ae614c83}{m\_isMc\_2} && \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave) \textcolor{comment}{// UeManager on a
       secondary cell for a MC device}
2340     \{
2341       \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<RlcBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.begin ();
2342          it != \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.end ();
2343          ++it)
2344       \{
2345         LteRrcSap::DrbToAddMod dtam;
2346         dtam.epsBearerIdentity = \hyperlink{classns3_1_1UeManager_a7f9cf28eee4b60f195e9f4577a8a3a35}{Drbid2Bid}(it->second->drbid);
2347         dtam.drbIdentity = it->second->drbid;
2348         dtam.rlcConfig = it->second->rlcConfig;
2349         dtam.logicalChannelIdentity = it->second->logicalChannelIdentity;
2350         dtam.logicalChannelConfig = it->second->logicalChannelConfig;
2351         dtam.is\_mc\_2 = \textcolor{keyword}{true};
2352         rrcd.drbToAddModList.push\_back (dtam);
2353       \}
2354     \}
2355   rrcd.havePhysicalConfigDedicated = \textcolor{keyword}{true};
2356   rrcd.physicalConfigDedicated = \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated};
2357   \textcolor{keywordflow}{return} rrcd;
2358 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Build\+Rrc\+Connection\+Reconfiguration@{Build\+Rrc\+Connection\+Reconfiguration}}
\index{Build\+Rrc\+Connection\+Reconfiguration@{Build\+Rrc\+Connection\+Reconfiguration}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Build\+Rrc\+Connection\+Reconfiguration()}{BuildRrcConnectionReconfiguration()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reconfiguration} ns3\+::\+Ue\+Manager\+::\+Build\+Rrc\+Connection\+Reconfiguration (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a41bd82649d9703e339e3fe988f922a5f}{}\label{classns3_1_1UeManager_a41bd82649d9703e339e3fe988f922a5f}
\begin{DoxyReturn}{Returns}
an Rrc\+Connection\+Reconfiguration struct built based on the current configuration 
\end{DoxyReturn}

\begin{DoxyCode}
2282 \{
2283   LteRrcSap::RrcConnectionReconfiguration msg;
2284   msg.rrcTransactionIdentifier = \hyperlink{classns3_1_1UeManager_a87e1b280b80dbd9e1aa0f91994882057}{GetNewRrcTransactionIdentifier} ();
2285   msg.haveRadioResourceConfigDedicated = \textcolor{keyword}{true};
2286   msg.radioResourceConfigDedicated = \hyperlink{classns3_1_1UeManager_ad5933233e726bf7443714ecb261358f0}{BuildRadioResourceConfigDedicated} ();
2287   msg.haveMobilityControlInfo = \textcolor{keyword}{false};
2288   msg.haveMeasConfig = \textcolor{keyword}{true};
2289   msg.measConfig = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ueMeasConfig;
2290 
2291   \textcolor{keywordflow}{return} msg;
2292 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!change\+Path\+At\+Pdcp@{change\+Path\+At\+Pdcp}}
\index{change\+Path\+At\+Pdcp@{change\+Path\+At\+Pdcp}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{change\+Path\+At\+Pdcp(uint16\+\_\+t cell\+I\+D1, uint16\+\_\+t cell\+I\+D2)}{changePathAtPdcp(uint16_t cellID1, uint16_t cellID2)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::change\+Path\+At\+Pdcp (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+I\+D1, }
\item[{uint16\+\_\+t}]{cell\+I\+D2}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_ac96bf957b6a2bced32624cb79eeab29b}{}\label{classns3_1_1UeManager_ac96bf957b6a2bced32624cb79eeab29b}

\begin{DoxyCode}
2477                                                                \{
2478         \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = 
      \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
2479                                        it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
2480                                        ++it)
2481               DynamicCast<McEnbPdcp>(it->second->m\_pdcp)->SetTargetCellIds(cellId\_1, cellId\_2,
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId());
2482 
2483 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Cmac\+Ue\+Config\+Update\+Ind@{Cmac\+Ue\+Config\+Update\+Ind}}
\index{Cmac\+Ue\+Config\+Update\+Ind@{Cmac\+Ue\+Config\+Update\+Ind}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Cmac\+Ue\+Config\+Update\+Ind(\+Lte\+Enb\+Cmac\+Sap\+User\+::\+Ue\+Config cmac\+Params)}{CmacUeConfigUpdateInd(LteEnbCmacSapUser::UeConfig cmacParams)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Cmac\+Ue\+Config\+Update\+Ind (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Enb\+Cmac\+Sap\+User\+::\+Ue\+Config}}]{cmac\+Params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a3502fd922f08dc8116176a63060d8067}{}\label{classns3_1_1UeManager_a3502fd922f08dc8116176a63060d8067}

\begin{DoxyCode}
2148 \{
2149   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
2150   \textcolor{comment}{// at this stage used only by the scheduler for updating txMode}
2151 
2152   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ae7fc9e40e971e9bdaf9f06e3a0ca9a56}{antennaInfo}.
      \hyperlink{structns3_1_1LteRrcSap_1_1AntennaInfoDedicated_af0565283e3839265f42c75c9f5b37c8c}{transmissionMode} = cmacParams.m\_transmissionMode;
2153 
2154   \hyperlink{classns3_1_1UeManager_a2c655c5f3f0bdb4953405734118770df}{m\_needPhyMacConfiguration} = \textcolor{keyword}{true};
2155 
2156   \textcolor{comment}{// reconfigure the UE RRC}
2157   \hyperlink{classns3_1_1UeManager_add763d882c14c2f1414167668f6ca095}{ScheduleRrcConnectionReconfiguration} ();
2158 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Complete\+Setup\+Ue@{Complete\+Setup\+Ue}}
\index{Complete\+Setup\+Ue@{Complete\+Setup\+Ue}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Complete\+Setup\+Ue(\+Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Complete\+Setup\+Ue\+Parameters params)}{CompleteSetupUe(LteEnbRrcSapProvider::CompleteSetupUeParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Complete\+Setup\+Ue (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Complete\+Setup\+Ue\+Parameters}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a29ae16f2a383c0761f907de0973c56ee}{}\label{classns3_1_1UeManager_a29ae16f2a383c0761f907de0973c56ee}


Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_acc43a1e7e8a4a6f5e6645066e9253060}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Complete\+Setup\+Ue} interface. 


\begin{DoxyCode}
1439 \{
1440   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1441   \hyperlink{classns3_1_1UeManager_a8125951721a3aeefbf6ea5af111f2f3f}{m\_srb0}->m\_rlc->SetLteRlcSapUser (params.srb0SapUser);
1442   \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_pdcp->SetLtePdcpSapUser (params.srb1SapUser);
1443 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1UeManager_af885b21caa398fa9e9b8a69dbf607a88}{}\label{classns3_1_1UeManager_af885b21caa398fa9e9b8a69dbf607a88}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1UeManager_af885b21caa398fa9e9b8a69dbf607a88}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
297 \{
298   \textcolor{keyword}{delete} \hyperlink{classns3_1_1UeManager_af261f8dc60848f41e18c9fba89d9903d}{m\_drbPdcpSapUser};
299   \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.clear();
300   std::cout << \textcolor{stringliteral}{"LteEnb will destroy UeManager   ----->"} <<std::endl;
301   \textcolor{comment}{// delete eventual X2-U TEIDs}
302   \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
303        it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
304        ++it)
305     \{
306       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2uTeidInfoMap.erase (it->second->m\_gtpTeid);
307     \}
308 
309 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Do\+Initialize@{Do\+Initialize}}
\index{Do\+Initialize@{Do\+Initialize}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Initialize()}{DoInitialize()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Do\+Initialize (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1UeManager_ae7036651fc161b02ede5c77f57a35982}{}\label{classns3_1_1UeManager_ae7036651fc161b02ede5c77f57a35982}
\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} implementation.

This method is called only once by \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()}. If the user calls \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} multiple times, \hyperlink{classns3_1_1UeManager_ae7036651fc161b02ede5c77f57a35982}{Do\+Initialize()} is called only the first time.

Subclasses are expected to override this method and chain up to their parent\textquotesingle{}s implementation once they are done. It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} and \hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{Aggregate\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_af8482a521433409fb5c7f749398c9dbe}{ns3\+::\+Object}.


\begin{DoxyCode}
168 \{
169   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
170   \hyperlink{classns3_1_1UeManager_af261f8dc60848f41e18c9fba89d9903d}{m\_drbPdcpSapUser} = \textcolor{keyword}{new} 
      \hyperlink{classns3_1_1UeManager_a99276a0379b8384b466b4c79710608de}{LtePdcpSpecificLtePdcpSapUser<UeManager>} (\textcolor{keyword}{this});
171 
172   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_a9812528d9bedddf8ff7a6c63dbc8e624}{haveAntennaInfoDedicated} = \textcolor{keyword}{
      true};
173   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ae7fc9e40e971e9bdaf9f06e3a0ca9a56}{antennaInfo}.
      \hyperlink{structns3_1_1LteRrcSap_1_1AntennaInfoDedicated_af0565283e3839265f42c75c9f5b37c8c}{transmissionMode} = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_defaultTransmissionMode;
174   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.
      \hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ad21dfb2d8802b28f792b889b68c47761}{haveSoundingRsUlConfigDedicated} = \textcolor{keyword}{true};
175   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ab37d726f290ebc8cd81e8d4f68939fdc}{soundingRsUlConfigDedicated}
      .\hyperlink{structns3_1_1LteRrcSap_1_1SoundingRsUlConfigDedicated_a2cbee1ba9dd47b4b690a8d0e91d209be}{srsConfigIndex} = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetNewSrsConfigurationIndex ();
176   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ab37d726f290ebc8cd81e8d4f68939fdc}{soundingRsUlConfigDedicated}
      .\hyperlink{structns3_1_1LteRrcSap_1_1SoundingRsUlConfigDedicated_a81aaa2d0e8fb89ca62ead94f96be175b}{type} = \hyperlink{structns3_1_1LteRrcSap_1_1SoundingRsUlConfigDedicated_a79c5b04ec873cbf1a52b7e0d9b76a5a7a457376b675eb174369652c323f5f9a36}{LteRrcSap::SoundingRsUlConfigDedicated::SETUP};
177   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ab37d726f290ebc8cd81e8d4f68939fdc}{soundingRsUlConfigDedicated}
      .\hyperlink{structns3_1_1LteRrcSap_1_1SoundingRsUlConfigDedicated_a6623b04421ee665595dd906ee2398648}{srsBandwidth} = 0;
178   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_adaba36198a0e653cf1536cab2833f119}{havePdschConfigDedicated} = \textcolor{keyword}{
      true};
179   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_a17e35740747a19ce9aebf834f50c2f4b}{pdschConfigDedicated}.
      \hyperlink{structns3_1_1LteRrcSap_1_1PdschConfigDedicated_aa9b1574a63fb83c53649305ca95aeb31}{pa} = \hyperlink{structns3_1_1LteRrcSap_1_1PdschConfigDedicated_ab578fcb68059ff534058eb5c67df7168ab2c88638c7d33e466151e88100a930d6}{LteRrcSap::PdschConfigDedicated::dB0};
180 
181   \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.clear();
182 
183   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->AddUe (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
184   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cphySapProvider->AddUe (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
185 
186   \textcolor{comment}{// setup the eNB side of SRB0}
187   \{
188     uint8\_t lcid = 0;
189 
190     Ptr<LteRlc> rlc = CreateObject<LteRlcTm> ()->GetObject<LteRlc> ();
191     rlc->SetLteMacSapProvider (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_macSapProvider); \textcolor{comment}{//sjkang1015 from RLC am to Mac}
192     rlc->SetRnti (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
193     rlc->SetLcId (lcid);
194 
195     \hyperlink{classns3_1_1UeManager_a8125951721a3aeefbf6ea5af111f2f3f}{m\_srb0} = CreateObject<LteSignalingRadioBearerInfo> ();
196     \hyperlink{classns3_1_1UeManager_a8125951721a3aeefbf6ea5af111f2f3f}{m\_srb0}->m\_rlc = rlc;
197     \hyperlink{classns3_1_1UeManager_a8125951721a3aeefbf6ea5af111f2f3f}{m\_srb0}->m\_srbIdentity = 0;
198     \textcolor{comment}{// no need to store logicalChannelConfig as SRB0 is pre-configured}
199 
200     LteEnbCmacSapProvider::LcInfo lcinfo;
201     lcinfo.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
202     lcinfo.lcId = lcid;
203     \textcolor{comment}{// leave the rest of lcinfo empty as CCCH (LCID 0) is pre-configured}
204     \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->AddLc (lcinfo, rlc->GetLteMacSapUser ());
205 
206   \}
207 
208   \textcolor{comment}{// setup the eNB side of SRB1; the UE side will be set up upon RRC connection establishment}
209   \{
210     uint8\_t lcid = 1;
211 
212     Ptr<LteRlc> rlc = CreateObject<LteRlcAm> ()->GetObject<LteRlc> ();
213     rlc->SetLteMacSapProvider (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_macSapProvider);
214     rlc->SetRnti (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
215     rlc->SetLcId (lcid);
216 
217     Ptr<LtePdcp> pdcp = CreateObject<LtePdcp> ();
218     pdcp->SetRnti (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
219     pdcp->SetLcId (lcid);
220     pdcp->SetLtePdcpSapUser (\hyperlink{classns3_1_1UeManager_af261f8dc60848f41e18c9fba89d9903d}{m\_drbPdcpSapUser});
221     pdcp->SetLteRlcSapProvider (rlc->GetLteRlcSapProvider ());
222     rlc->SetLteRlcSapUser (pdcp->GetLteRlcSapUser ());
223    \textcolor{comment}{// rlc->SetLteRlcAssistantSapUser(pdcp->Get)}
224 
225     \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1} = CreateObject<LteSignalingRadioBearerInfo> ();
226     \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_rlc = rlc;
227     \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_pdcp = pdcp;
228     \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_srbIdentity = 1;
229     \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_logicalChannelConfig.priority = 0;
230     \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_logicalChannelConfig.prioritizedBitRateKbps = 100;
231     \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_logicalChannelConfig.bucketSizeDurationMs = 100;
232     \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_logicalChannelConfig.logicalChannelGroup = 0;
233 
234     LteEnbCmacSapProvider::LcInfo lcinfo;
235     lcinfo.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
236     lcinfo.lcId = lcid;
237     lcinfo.lcGroup = 0; \textcolor{comment}{// all SRBs always mapped to LCG 0}
238     lcinfo.qci = \hyperlink{structns3_1_1EpsBearer_aecf0c67109c5eb4ec0b07226fff5885ea02ebd970315c3f749f5abac6e0c3e6d7}{EpsBearer::GBR\_CONV\_VOICE}; \textcolor{comment}{// not sure why the FF API requires a
       CQI even for SRBs...}
239     lcinfo.isGbr = \textcolor{keyword}{true};
240     lcinfo.mbrUl = 1e6;
241     lcinfo.mbrDl = 1e6;
242     lcinfo.gbrUl = 1e4;
243     lcinfo.gbrDl = 1e4;
244     \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->AddLc (lcinfo, rlc->GetLteMacSapUser ());
245   \}
246 
247   LteEnbRrcSapUser::SetupUeParameters ueParams;
248   ueParams.srb0SapProvider = \hyperlink{classns3_1_1UeManager_a8125951721a3aeefbf6ea5af111f2f3f}{m\_srb0}->m\_rlc->GetLteRlcSapProvider ();
249   ueParams.srb1SapProvider = \hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{m\_srb1}->m\_pdcp->GetLtePdcpSapProvider ();
250   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SetupUe (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, ueParams); \textcolor{comment}{//will call DoSetupUe in
       MmwaveLteRrcProtocolReal}
251 
252   \textcolor{comment}{// configure MAC (and scheduler)}
253   LteEnbCmacSapProvider::UeConfig req;
254   req.m\_rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
255   req.m\_transmissionMode = \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.
      \hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ae7fc9e40e971e9bdaf9f06e3a0ca9a56}{antennaInfo}.\hyperlink{structns3_1_1LteRrcSap_1_1AntennaInfoDedicated_af0565283e3839265f42c75c9f5b37c8c}{transmissionMode};
256   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->UeUpdateConfigurationReq (req);
257 
258   \textcolor{comment}{// configure PHY}
259   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cphySapProvider->SetTransmissionMode (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, 
      \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ae7fc9e40e971e9bdaf9f06e3a0ca9a56}{antennaInfo}.
      \hyperlink{structns3_1_1LteRrcSap_1_1AntennaInfoDedicated_af0565283e3839265f42c75c9f5b37c8c}{transmissionMode});
260   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cphySapProvider->SetSrsConfigurationIndex (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, 
      \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ab37d726f290ebc8cd81e8d4f68939fdc}{soundingRsUlConfigDedicated}.
      \hyperlink{structns3_1_1LteRrcSap_1_1SoundingRsUlConfigDedicated_a2cbee1ba9dd47b4b690a8d0e91d209be}{srsConfigIndex});
261 
262   \textcolor{comment}{// schedule this UeManager instance to be deleted if the UE does not give any sign of life within a
       reasonable time}
263   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} maxConnectionDelay;
264   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
265     \{
266     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a6e92e7eaed87665e012ff9c3a4a9e4d3}{INITIAL\_RANDOM\_ACCESS}:
267       \hyperlink{classns3_1_1UeManager_a85948121037b466cea1baa6a51273def}{m\_connectionRequestTimeout} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_connectionRequestTimeoutDuration,
268                                                         &
      \hyperlink{classns3_1_1LteEnbRrc_ad7992d8a886b60ee953879d9b5d37dca}{LteEnbRrc::ConnectionRequestTimeout},
269                                                         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}, \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
270       \textcolor{keywordflow}{break};
271 
272     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{HANDOVER\_JOINING}:
273       \hyperlink{classns3_1_1UeManager_a441fc4eda92a15be344d70b7039dacd4}{m\_handoverJoiningTimeout} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_handoverJoiningTimeoutDuration,
274                                                       &
      \hyperlink{classns3_1_1LteEnbRrc_a8374075a52ca40290d3f15e253ef94ff}{LteEnbRrc::HandoverJoiningTimeout},
275                                                       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}, \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
276       \textcolor{keywordflow}{break};
277 
278     \textcolor{keywordflow}{default}:
279       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"unexpected state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
280       \textcolor{keywordflow}{break};
281     \}
282   \hyperlink{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}{m\_firstConnection} = \textcolor{keyword}{false};
283   \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId} = 0;
284   \hyperlink{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}{m\_mmWaveRnti} = 0;
285   \hyperlink{classns3_1_1UeManager_ad0ab1d98110575774a2d4da876878ad2}{m\_mmWaveCellAvailableForMcSetup} = \textcolor{keyword}{false};
286   \hyperlink{classns3_1_1UeManager_add440b9081bc11490fc5b7cf72c45115}{m\_receivedLteMmWaveHandoverCompleted} = \textcolor{keyword}{false};
287   \hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId} = 0;
288 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Do\+Receive\+Pdcp\+Sdu@{Do\+Receive\+Pdcp\+Sdu}}
\index{Do\+Receive\+Pdcp\+Sdu@{Do\+Receive\+Pdcp\+Sdu}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Receive\+Pdcp\+Sdu(\+Lte\+Pdcp\+Sap\+User\+::\+Receive\+Pdcp\+Sdu\+Parameters params)}{DoReceivePdcpSdu(LtePdcpSapUser::ReceivePdcpSduParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Do\+Receive\+Pdcp\+Sdu (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Pdcp\+Sap\+User\+::\+Receive\+Pdcp\+Sdu\+Parameters}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a703c64cf61f89afeb54461985d47ac44}{}\label{classns3_1_1UeManager_a703c64cf61f89afeb54461985d47ac44}

\begin{DoxyCode}
2165 \{
2166   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2167   \textcolor{keywordflow}{if} (params.lcid > 2)
2168     \{
2169       \textcolor{comment}{// data radio bearer}
2170       EpsBearerTag tag;
2171       tag.SetRnti (params.rnti);
2172       tag.SetBid (\hyperlink{classns3_1_1UeManager_a585341e3dd6501f657cb4b4c1efa0f40}{Lcid2Bid} (params.lcid));
2173       params.pdcpSdu->AddPacketTag (tag);
2174       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_forwardUpCallback (params.pdcpSdu);
2175     \}
2176 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Drbid2\+Bid@{Drbid2\+Bid}}
\index{Drbid2\+Bid@{Drbid2\+Bid}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Drbid2\+Bid(uint8\+\_\+t drbid)}{Drbid2Bid(uint8_t drbid)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ue\+Manager\+::\+Drbid2\+Bid (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{drbid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a7f9cf28eee4b60f195e9f4577a8a3a35}{}\label{classns3_1_1UeManager_a7f9cf28eee4b60f195e9f4577a8a3a35}

\begin{DoxyParams}{Parameters}
{\em drbid} & Data Radio Bearer Id\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the corresponding E\+PS Bearer Identifier 
\end{DoxyReturn}

\begin{DoxyCode}
2393 \{
2394   \textcolor{keywordflow}{return} drbid;
2395 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Drbid2\+Lcid@{Drbid2\+Lcid}}
\index{Drbid2\+Lcid@{Drbid2\+Lcid}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Drbid2\+Lcid(uint8\+\_\+t drbid)}{Drbid2Lcid(uint8_t drbid)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ue\+Manager\+::\+Drbid2\+Lcid (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{drbid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_af0ba90c3b4fe3300796ffc03de328f73}{}\label{classns3_1_1UeManager_af0ba90c3b4fe3300796ffc03de328f73}

\begin{DoxyParams}{Parameters}
{\em drbid} & a Data Radio Bearer Id\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the corresponding Logical \hyperlink{classns3_1_1Channel}{Channel} Identifier 
\end{DoxyReturn}

\begin{DoxyCode}
2375 \{
2376   \textcolor{keywordflow}{return} drbid + 2;
2377 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Forward\+Rlc\+Buffers@{Forward\+Rlc\+Buffers}}
\index{Forward\+Rlc\+Buffers@{Forward\+Rlc\+Buffers}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Forward\+Rlc\+Buffers(\+Ptr$<$ Lte\+Rlc $>$ rlc, Ptr$<$ Lte\+Pdcp $>$ pdcp, uint32\+\_\+t gtp\+Teid, bool mc\+Lte\+To\+Mm\+Wave\+Forwarding, bool mc\+Mm\+To\+Mm\+Wave\+Forwarding, uint8\+\_\+t bid)}{ForwardRlcBuffers(Ptr< LteRlc > rlc, Ptr< LtePdcp > pdcp, uint32_t gtpTeid, bool mcLteToMmWaveForwarding, bool mcMmToMmWaveForwarding, uint8_t bid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Forward\+Rlc\+Buffers (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Lte\+Rlc} $>$}]{rlc, }
\item[{{\bf Ptr}$<$ {\bf Lte\+Pdcp} $>$}]{pdcp, }
\item[{uint32\+\_\+t}]{gtp\+Teid, }
\item[{bool}]{mc\+Lte\+To\+Mm\+Wave\+Forwarding, }
\item[{bool}]{mc\+Mm\+To\+Mm\+Wave\+Forwarding, }
\item[{uint8\+\_\+t}]{bid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_acfe070a93481248c1d2624f02a448a34}{}\label{classns3_1_1UeManager_acfe070a93481248c1d2624f02a448a34}
Forward the content of R\+LC buffers. For R\+LC UM and UM Low\+Lat, forward tx\+Buffer. For R\+LC AM, forward the merge of retx and txed buffers, and tx\+Buffer 
\begin{DoxyParams}{Parameters}
{\em the} & R\+LC entity \\
\hline
{\em the} & P\+D\+CP entity, if the mc\+Lte\+To\+Mm\+Wave\+Forwarding is false it can be 0 \\
\hline
{\em the} & gtp\+Teid that identifies the X2 connection to be used \\
\hline
{\em a} & bool that specifies if this operation involves a classic forwarding (to P\+D\+CP of the target e\+NB) or a L\+TE to Mm\+Wave Dual Connectivity forwarding, which needs the packets to be inserted back in the L\+TE P\+D\+CP (there is no P\+D\+CP in the Mm\+Wave e\+NB in DC setup) \\
\hline
{\em a} & bool that specifies if this operation involves the forwarding of packets from a secondary mm\+Wave cell to another secondary mm\+Wave cell during a secondary cell HO \\
\hline
{\em the} & bearer id, used only if mc\+Lte\+To\+Mm\+Wave\+Forwarding is true \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
859 \{
860   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION}(\textcolor{keyword}{this} );
861         \textcolor{comment}{// RlcBuffers forwarding only for RlcAm bearers.}
862   \textcolor{keywordflow}{if} (0 != rlc->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<LteRlcAm> ())
863   \{
864     \textcolor{comment}{//Copy lte-rlc-am.m\_txOnBuffer to X2 forwarding buffer.}
865     Ptr<LteRlcAm> rlcAm = rlc->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<LteRlcAm>();
866     uint32\_t txonBufferSize = rlcAm->GetTxBufferSize();
867     std::vector < Ptr<Packet> > txonBuffer = rlcAm->GetTxBuffer();
868     \textcolor{comment}{//m\_x2forwardingBufferSize =  drbIt->second->m\_rlc->GetObject<LteRlcAm>()->GetTxBufferSize();}
869     \textcolor{comment}{//m\_x2forwardingBuffer = drbIt->second->m\_rlc->GetObject<LteRlcAm>()->GetTxBuffer();}
870     uint32\_t txedBufferSize = rlcAm->GetTxedBufferSize();
871     std::vector < LteRlcAm::RetxPdu > txedBuffer = rlcAm->GetTxedBuffer();
872     uint32\_t retxBufferSize = rlcAm->GetRetxBufferSize();
873     std::vector < LteRlcAm::RetxPdu > retxBuffer = rlcAm->GetRetxBuffer();
874     
875     \textcolor{comment}{//Translate Pdus in Rlc txed/retx buffer into RLC Sdus}
876     \textcolor{comment}{//and put these Sdus into rlcAm->m\_transmittingRlcSdus.}
877     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"retxBuffer size = "} << retxBufferSize);
878     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"txedBuffer size = "} << txedBufferSize);
879     \textcolor{comment}{//Merge txed and retx buffers into a single buffer before doing RlcPdusToRlc.}
880     \textcolor{keywordflow}{if} ( retxBufferSize + txedBufferSize > 0 )\{
881       std::vector< LteRlcAm::RetxPdu > sortedTxedRetxBuffer;
882       \textcolor{keywordflow}{if} (retxBufferSize == 0)\{
883         sortedTxedRetxBuffer = txedBuffer;
884       \}
885       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (txedBufferSize == 0)\{
886         sortedTxedRetxBuffer = retxBuffer;
887       \}
888       \textcolor{keywordflow}{else} \{
889         sortedTxedRetxBuffer = \hyperlink{classns3_1_1UeManager_aa35d9d1c4f3019583f782373d9e428a1}{MergeBuffers}(txedBuffer, retxBuffer);
890       \}
891       rlcAm->RlcPdusToRlcSdus(sortedTxedRetxBuffer);  
892     \}
893 
894     \textcolor{comment}{//Construct the forwarding buffer}
895     \textcolor{comment}{//Forwarding buffer = retxBuffer + txedBuffer + txonBuffer.}
896     \textcolor{comment}{//if ( txonBufferSize > 0 )}
897     \textcolor{comment}{//\{}
898       LtePdcpHeader pdcpHeader;
899       uint32\_t pos = 0;
900       \textcolor{keywordflow}{for} (std::vector< Ptr<Packet> >::iterator it = txonBuffer.begin(); it != txonBuffer.end(); ++it)
901       \{
902         pos++;
903         \textcolor{keywordflow}{if}((*it)->GetSize() > 3) 
904         \{
905           (*it)->PeekHeader(pdcpHeader);
906           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"txonBuffer SEQ = "} << pdcpHeader.GetSequenceNumber() << \textcolor{stringliteral}{" Size = "} << 
      (*it)->GetSize());
907         \}
908         \textcolor{keywordflow}{else}
909         \{
910           \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND}(\textcolor{stringliteral}{"Fragment too small in txonBuffer, pos "} << pos);
911         \}
912           
913       \}
914 
915       \textcolor{comment}{// this cycle adds the SDUs given by the merge of txed and retxed buffers}
916       \textcolor{keywordflow}{if} ( rlcAm->GetTransmittingRlcSduBufferSize() > 0 )
917       \{ \textcolor{comment}{//something inside the RLC AM's transmitting buffer }
918         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"ADDING TRANSMITTING SDUS OF RLC AM TO X2FORWARDINGBUFFER... Size = "} << 
      rlcAm->GetTransmittingRlcSduBufferSize() );
919         \textcolor{comment}{//copy the RlcSdu buffer (map) to forwardingBuffer.}
920         std::map < uint32\_t, Ptr<Packet> > rlcAmTransmittingBuffer = rlcAm->GetTransmittingRlcSduBuffer();
921         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{" *** SIZE = "} << rlcAmTransmittingBuffer.size());
922         \textcolor{keywordflow}{for} (std::map< uint32\_t, Ptr<Packet> >::iterator it = rlcAmTransmittingBuffer.begin(); it != 
      rlcAmTransmittingBuffer.end(); ++it)
923         \{
924           \textcolor{keywordflow}{if} (it->second != 0)
925           \{
926             \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} ( \textcolor{keyword}{this} << \textcolor{stringliteral}{" add to forwarding buffer SEQ = "} << it->first << \textcolor{stringliteral}{"
       Ptr<Packet> = "} << it->second );
927             \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.push\_back(it->second);
928           \}
929         \} 
930         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{keyword}{this} << \textcolor{stringliteral}{" ADDING TXONBUFFER OF RLC AM "} << 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti} << \textcolor{stringliteral}{" Size = "} << txonBufferSize) ;
931 
932       
933         Ptr<Packet> segmentedRlcsdu = rlcAm->GetSegmentedRlcsdu();
934         \textcolor{keywordflow}{if} (segmentedRlcsdu != NULL)\{
935           segmentedRlcsdu->PeekHeader(pdcpHeader);
936           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{keyword}{this} << \textcolor{stringliteral}{"SegmentedRlcSdu = "} << segmentedRlcsdu->GetSize() << \textcolor{stringliteral}{" SEQ = "} 
      << pdcpHeader.GetSequenceNumber());
937           \textcolor{comment}{//insert the complete version of the fragmented SDU to the front of txonBuffer.}
938           txonBuffer.insert(txonBuffer.begin(),segmentedRlcsdu);
939         \}
940         \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.insert(\hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.end(), 
      txonBuffer.begin(), txonBuffer.end());
941         \hyperlink{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}{m\_x2forwardingBufferSize} += rlcAm->GetTransmittingRlcSduBufferSize() + 
      txonBufferSize;
942 
943         \textcolor{comment}{//Get the rlcAm}
944         std::vector < Ptr <Packet> > rlcAmTxedSduBuffer = rlcAm->GetTxedRlcSduBuffer();
945         LtePdcpHeader pdcpHeader\_1;
946         \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.at(0)->PeekHeader(pdcpHeader\_1);
947         uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0;
948         \textcolor{keywordflow}{for} (std::vector< Ptr<Packet> >::iterator it = rlcAmTxedSduBuffer.begin(); it != rlcAmTxedSduBuffer
      .end(); ++it)
949         \{
950           \textcolor{keywordflow}{if} ((*it) != NULL)
951           \{
952             (*it)->PeekHeader(pdcpHeader);
953             \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"rlcAmTxedSduBuffer SEQ = "} << pdcpHeader.GetSequenceNumber() << \textcolor{stringliteral}{"
       Size = "} << (*it)->GetSize());
954           
955             \textcolor{comment}{//add the previous SDU of the forwarding buffer to the forwarding buffer.}
956             \textcolor{keywordflow}{if} (pdcpHeader.GetSequenceNumber() >= (pdcpHeader\_1.GetSequenceNumber() - 2) && pdcpHeader.
      GetSequenceNumber() <= (pdcpHeader\_1.GetSequenceNumber()) )
957             \{
958               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"Added previous SDU to forwarding buffer SEQ = "} << pdcpHeader.
      GetSequenceNumber() << \textcolor{stringliteral}{" Size = "} << (*it)->GetSize());
959               \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.insert(
      \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.begin()+\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, (*it)->Copy());
960               ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
961             \}
962           \}
963         \}
964         
965       \}
966       \textcolor{keywordflow}{else} 
967       \{ \textcolor{comment}{//TransmittingBuffer is empty. Only copy TxonBuffer.}
968         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{keyword}{this} << \textcolor{stringliteral}{" ADDING TXONBUFFER OF RLC AM "} << 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti} << \textcolor{stringliteral}{" Size = "} << txonBufferSize) ;
969         \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer} = txonBuffer;
970         \hyperlink{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}{m\_x2forwardingBufferSize} += txonBufferSize;
971       \}
972     \textcolor{comment}{//\}}
973   \}
974   \textcolor{comment}{//For RlcUM, no forwarding available as the simulator itself (seamless HO).}
975   \textcolor{comment}{//However, as the LTE-UMTS book, PDCP txbuffer should be forwarded for seamless }
976   \textcolor{comment}{//HO. Enable this code for txbuffer forwarding in seamless HO (which is believe to }
977   \textcolor{comment}{//be correct).}
978   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 != rlc->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<LteRlcUm> ())
979   \{
980     \textcolor{comment}{//Copy lte-rlc-um.m\_txOnBuffer to X2 forwarding buffer.}
981     \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{keyword}{this} << \textcolor{stringliteral}{" Copying txonBuffer from RLC UM "} << 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
982     \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer} = rlc->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<LteRlcUm>()->GetTxBuffer();
983     \hyperlink{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}{m\_x2forwardingBufferSize} =  rlc->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<LteRlcUm>()->
      GetTxBufferSize();
984   \}
985   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 != rlc->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<LteRlcUmLowLat> ())
986   \{
987     \textcolor{comment}{//Copy lte-rlc-um-low-lat.m\_txOnBuffer to X2 forwarding buffer.}
988     \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{keyword}{this} << \textcolor{stringliteral}{" Copying txonBuffer from RLC UM "} << 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
989     \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer} = rlc->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<LteRlcUmLowLat>()->GetTxBuffer();
990     \hyperlink{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}{m\_x2forwardingBufferSize} =  rlc->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<LteRlcUmLowLat>()->
      GetTxBufferSize();
991   \}
992   \textcolor{comment}{//LteRlcAm m\_txBuffer stores PDCP "PDU".}
993   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{keyword}{this} << \textcolor{stringliteral}{" m\_x2forw buffer size = "} << 
      \hyperlink{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}{m\_x2forwardingBufferSize});
994     \textcolor{comment}{//Forwarding the packet inside m\_x2forwardingBuffer to target eNB. }
995 
996   \textcolor{comment}{// Prepare the variables for the LTE to MmWave DC forward}
997   Ptr<McEnbPdcp> mcPdcp;
998   \textcolor{keywordflow}{if}(mcLteToMmWaveForwarding)
999   \{
1000     mcPdcp = DynamicCast<McEnbPdcp>(pdcp);
1001     \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG}(mcPdcp != 0, \textcolor{stringliteral}{"Invalid option for standard PDCP"});
1002     \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG}(bid > 0, \textcolor{stringliteral}{"Bid can't be 0"});
1003     \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG}(mcPdcp->GetUseMmWaveConnection(), \textcolor{stringliteral}{"The McEnbPdcp is not forwarding data to
       the mmWave eNB, check if the switch happened!"});
1004   \}
1005 
1006   \textcolor{keywordflow}{while} (!\hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.empty())
1007   \{
1008     \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{keyword}{this} << \textcolor{stringliteral}{" Forwarding m\_x2forwardingBuffer to target eNB, gtpTeid = "} << 
      gtpTeid );
1009     EpcX2Sap::UeDataParams params;
1010     params.sourceCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId;
1011     \textcolor{comment}{//params.targetCellId = m\_targetCellId;}
1012    \textcolor{comment}{// std::cout << "packet forwarding-----------------> "<<std::endl;}
1013 
1014 
1015     params.gtpTeid = gtpTeid;
1016     \textcolor{comment}{//Remove tags to get PDCP SDU from PDCP PDU.}
1017     \textcolor{comment}{//Ptr<Packet> rlcSdu =  (*(m\_x2forwardingBuffer.begin()))->Copy();}
1018     Ptr<Packet> rlcSdu =  \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.at(0);
1019     \textcolor{comment}{//Tags to be removed from rlcSdu (from outer to inner)}
1020     \textcolor{comment}{//LteRlcSduStatusTag rlcSduStatusTag;}
1021     \textcolor{comment}{//RlcTag  rlcTag; //rlc layer timestamp}
1022     \textcolor{comment}{//PdcpTag pdcpTag;  //pdcp layer timestamp}
1023     LtePdcpHeader pdcpHeader;
1024     
1025     
1026     \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"RlcSdu size = "} << rlcSdu->GetSize() );
1027     \textcolor{comment}{//rlcSdu->RemoveHeader(pdcpHeader); //remove pdcp header}
1028     
1029     \textcolor{comment}{//only forward data PDCP PDUs (1-DATA\_PDU,0-CTR\_PDU)}
1030 
1031     \textcolor{keywordflow}{if}(rlcSdu->GetSize() >= 3)
1032     \{
1033       rlcSdu->PeekHeader(pdcpHeader);
1034     \textcolor{comment}{//  std::cout<< " pdpcp;s DC bit is not 1" <<std::endl;}
1035       \textcolor{keywordflow}{if} (pdcpHeader.GetDcBit() == 1 )
1036       \{ \textcolor{comment}{//ignore control SDU.}
1037         \textcolor{comment}{//  std::cout<< " pdpcp;s DC bit is  1" <<std::endl;}
1038           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"SEQ = "} << pdcpHeader.GetSequenceNumber());
1039         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"removed pdcp header, size = "} << rlcSdu->GetSize());
1040 
1041         rlcSdu->RemoveAllPacketTags(); \textcolor{comment}{// this does not remove byte tags}
1042         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"removed tags, size = "} << rlcSdu->GetSize() );
1043         params.ueData = rlcSdu;
1044         \textcolor{comment}{/*}
1045 \textcolor{comment}{        rlcSdu->RemovePacketTag(rlcSduStatusTag); //remove Rlc status tag.}
1046 \textcolor{comment}{        NS\_LOG\_DEBUG ("removed rlc status tag, size = " << rlcSdu->GetSize() );}
1047 \textcolor{comment}{        rlcSdu->RemovePacketTag(rlcTag);  //remove Rlc timestamp}
1048 \textcolor{comment}{        NS\_LOG\_DEBUG ("removed rlc timestamp, size = " << rlcSdu->GetSize() );}
1049 \textcolor{comment}{        //rlcSdu->RemoveByteTag(pdcpTag); //remove pdcp timestamp}
1050 \textcolor{comment}{        //NS\_LOG\_DEBUG ("removed pdcp timestamp, size = " << rlcSdu->GetSize());}
1051 \textcolor{comment}{        */}
1052 
1053         \textcolor{keywordflow}{if}(!mcLteToMmWaveForwarding)
1054         \{
1055           \textcolor{keywordflow}{if}(!mcMmToMmWaveForwarding)
1056           \{
1057             rlcSdu->RemoveHeader(pdcpHeader); \textcolor{comment}{//remove pdcp header}
1058 
1059            \textcolor{comment}{// NS\_LOG\_UNCOND("Forward to target cell in HO sjkang1030");}
1060             \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendUeData (params);
1061             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"sourceCellId = "} << params.sourceCellId);
1062             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"targetCellId = "} << params.targetCellId);
1063             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"gtpTeid = "} << params.gtpTeid);
1064             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"ueData = "} << params.ueData);
1065             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"ueData size = "} << params.ueData->GetSize ());
1066           \}
1067           \textcolor{keywordflow}{else}
1068           \{
1069            \textcolor{comment}{// NS\_LOG\_UNCOND("Forward to target cell RLC in HO sjkang1030");}
1070             \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->ForwardRlcPdu (params);
1071             \textcolor{comment}{//m\_rrc->m\_x2SapProvider\_2->ForwardRlcPdu(params);}
1072             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"sourceCellId = "} << params.sourceCellId);
1073             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"targetCellId = "} << params.targetCellId);
1074             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"gtpTeid = "} << params.gtpTeid);
1075             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"ueData = "} << params.ueData);
1076             \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"ueData size = "} << params.ueData->GetSize ());
1077           \}
1078         \}
1079         \textcolor{keywordflow}{else} \textcolor{comment}{// the target eNB has no PDCP entity. Thus re-insert the packets in the }
1080         \textcolor{comment}{// LTE eNB PDCP, which will forward them to the MmWave RLC entity. }
1081         \textcolor{comment}{// Thus this method must be called after the switch to MmWave is done!}
1082         \{
1083           rlcSdu->RemoveHeader(pdcpHeader); \textcolor{comment}{//remove pdcp header}
1084           \textcolor{comment}{//NS\_LOG\_UNCOND("Forward to mmWave cell in switch  "<< mcPdcp->GetUseMmWaveConnection());}
1085           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT}(mcPdcp != 0);
1086           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT}(mcPdcp->GetUseMmWaveConnection());
1087           LtePdcpSapProvider::TransmitPdcpSduParameters pdcpParams;
1088           pdcpParams.pdcpSdu = rlcSdu;
1089           pdcpParams.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1090           pdcpParams.lcid = \hyperlink{classns3_1_1UeManager_a5f3f8e891803bc57dc35af2c6c5a286d}{Bid2Lcid} (bid);
1091 
1092     \textcolor{comment}{//      std::cout<< "sjkang1030 --->" << std::endl;}
1093 
1094           mcPdcp->GetLtePdcpSapProvider()->TransmitPdcpSdu(pdcpParams);
1095         \}
1096       \}
1097     \}
1098     \textcolor{keywordflow}{else}
1099     \{
1100       \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND}(\textcolor{stringliteral}{"Too small, not forwarded"});
1101     \}
1102     \hyperlink{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}{m\_x2forwardingBufferSize} -= (*(\hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.begin()
      ))->GetSize();
1103     \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.erase (\hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.begin());
1104     \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{keyword}{this} << \textcolor{stringliteral}{" After forwarding: buffer size = "} << 
      \hyperlink{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}{m\_x2forwardingBufferSize} );
1105   \}
1106 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access@{Get\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access}}
\index{Get\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access@{Get\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access()}{GetAllMmWaveInOutageAtInitialAccess()}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ue\+Manager\+::\+Get\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_ad03e7afb123a9874ad50ec518b528b14}{}\label{classns3_1_1UeManager_ad03e7afb123a9874ad50ec518b528b14}

\begin{DoxyCode}
1596 \{
1597   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UeManager_a311e1518759c74a51cbc56c568488ca1}{m\_allMmWaveInOutageAtInitialAccess};
1598 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+Data\+Radio\+Bearer\+Info@{Get\+Data\+Radio\+Bearer\+Info}}
\index{Get\+Data\+Radio\+Bearer\+Info@{Get\+Data\+Radio\+Bearer\+Info}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Data\+Radio\+Bearer\+Info(uint8\+\_\+t drbid)}{GetDataRadioBearerInfo(uint8_t drbid)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Lte\+Data\+Radio\+Bearer\+Info} $>$ ns3\+::\+Ue\+Manager\+::\+Get\+Data\+Radio\+Bearer\+Info (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{drbid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a8f8a1bcd11bcdfd6e17b72c6325a25b0}{}\label{classns3_1_1UeManager_a8f8a1bcd11bcdfd6e17b72c6325a25b0}

\begin{DoxyParams}{Parameters}
{\em drbid} & the Data Radio Bearer id\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the corresponding \hyperlink{classns3_1_1LteDataRadioBearerInfo}{Lte\+Data\+Radio\+Bearer\+Info} 
\end{DoxyReturn}

\begin{DoxyCode}
2260 \{
2261   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint32\_t) drbid);
2262   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (0 != drbid);
2263   std::map<uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.find (drbid);
2264   \hyperlink{group__fatal_ga979468222aa80366c2c98aa1554f3eec}{NS\_ABORT\_IF} (it == \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ());
2265   \textcolor{keywordflow}{return} it->second;
2266 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+Erab\+List@{Get\+Erab\+List}}
\index{Get\+Erab\+List@{Get\+Erab\+List}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Erab\+List()}{GetErabList()}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Epc\+X2\+Sap\+::\+Erab\+To\+Be\+Setup\+Item} $>$ ns3\+::\+Ue\+Manager\+::\+Get\+Erab\+List (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_aedc1779570a508b261381b0311811540}{}\label{classns3_1_1UeManager_aedc1779570a508b261381b0311811540}
\begin{DoxyReturn}{Returns}
a list of E\+R\+A\+B-\/to-\/be-\/setup items to be put in a X2 HO R\+EQ message 
\end{DoxyReturn}

\begin{DoxyCode}
1202 \{
1203   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1204   std::vector<EpcX2Sap::ErabToBeSetupItem> ret;
1205   \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it =  \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
1206        it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
1207        ++it)
1208     \{
1209       EpcX2Sap::ErabToBeSetupItem etbsi;
1210       etbsi.erabId = it->second->m\_epsBearerIdentity;
1211       etbsi.erabLevelQosParameters = it->second->m\_epsBearer;
1212       etbsi.dlForwarding = \textcolor{keyword}{false};
1213       etbsi.transportLayerAddress = it->second->m\_transportLayerAddress;
1214       etbsi.gtpTeid = it->second->m\_gtpTeid;
1215       ret.push\_back (etbsi);
1216     \}
1217   \textcolor{keywordflow}{return} ret;
1218 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+Imsi@{Get\+Imsi}}
\index{Get\+Imsi@{Get\+Imsi}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Imsi(void) const }{GetImsi(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Ue\+Manager\+::\+Get\+Imsi (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1UeManager_a9609913bb407b13da17a55d9013e8e10}{}\label{classns3_1_1UeManager_a9609913bb407b13da17a55d9013e8e10}
\begin{DoxyReturn}{Returns}
the I\+M\+SI, i.\+e., a globally unique UE identifier 
\end{DoxyReturn}

\begin{DoxyCode}
2187 \{
2188   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi};
2189 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+Is\+Mc@{Get\+Is\+Mc}}
\index{Get\+Is\+Mc@{Get\+Is\+Mc}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Is\+Mc(void) const }{GetIsMc(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ue\+Manager\+::\+Get\+Is\+Mc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1UeManager_a65f1479b211f543c780ef5f30a3c54ee}{}\label{classns3_1_1UeManager_a65f1479b211f543c780ef5f30a3c54ee}

\begin{DoxyCode}
384 \{
385   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc};
386 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+New\+Rrc\+Transaction\+Identifier@{Get\+New\+Rrc\+Transaction\+Identifier}}
\index{Get\+New\+Rrc\+Transaction\+Identifier@{Get\+New\+Rrc\+Transaction\+Identifier}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+New\+Rrc\+Transaction\+Identifier()}{GetNewRrcTransactionIdentifier()}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ue\+Manager\+::\+Get\+New\+Rrc\+Transaction\+Identifier (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a87e1b280b80dbd9e1aa0f91994882057}{}\label{classns3_1_1UeManager_a87e1b280b80dbd9e1aa0f91994882057}
\begin{DoxyReturn}{Returns}
a newly allocated identifier for a new R\+RC transaction 
\end{DoxyReturn}

\begin{DoxyCode}
2362 \{
2363   \textcolor{keywordflow}{return} ++\hyperlink{classns3_1_1UeManager_aa8546edd90163c658d2ce9cc6c8da657}{m\_lastRrcTransactionIdentifier};
2364 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+Radio\+Resource\+Config\+For\+Handover\+Preparation\+Info@{Get\+Radio\+Resource\+Config\+For\+Handover\+Preparation\+Info}}
\index{Get\+Radio\+Resource\+Config\+For\+Handover\+Preparation\+Info@{Get\+Radio\+Resource\+Config\+For\+Handover\+Preparation\+Info}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Radio\+Resource\+Config\+For\+Handover\+Preparation\+Info()}{GetRadioResourceConfigForHandoverPreparationInfo()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Rrc\+Sap\+::\+Radio\+Resource\+Config\+Dedicated} ns3\+::\+Ue\+Manager\+::\+Get\+Radio\+Resource\+Config\+For\+Handover\+Preparation\+Info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a310c374082bf0293d515592a15ecef4d}{}\label{classns3_1_1UeManager_a310c374082bf0293d515592a15ecef4d}
\begin{DoxyReturn}{Returns}
the Handover\+Preparation\+Info sent by the source e\+NB to the target e\+NB in the X2-\/based handover procedure 
\end{DoxyReturn}

\begin{DoxyCode}
1111 \{
1112   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1113   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UeManager_ad5933233e726bf7443714ecb261358f0}{BuildRadioResourceConfigDedicated} ();
1114 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 21




Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+Rnti@{Get\+Rnti}}
\index{Get\+Rnti@{Get\+Rnti}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Rnti(void) const }{GetRnti(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ue\+Manager\+::\+Get\+Rnti (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1UeManager_a351a66d86df2e5e4692da3a59e22773c}{}\label{classns3_1_1UeManager_a351a66d86df2e5e4692da3a59e22773c}
\begin{DoxyReturn}{Returns}
the R\+N\+TI, i.\+e., an UE identifier that is unique within the cell 
\end{DoxyReturn}

\begin{DoxyCode}
2181 \{
2182   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
2183 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+Rrc\+Connection\+Reconfiguration\+For\+Handover@{Get\+Rrc\+Connection\+Reconfiguration\+For\+Handover}}
\index{Get\+Rrc\+Connection\+Reconfiguration\+For\+Handover@{Get\+Rrc\+Connection\+Reconfiguration\+For\+Handover}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Rrc\+Connection\+Reconfiguration\+For\+Handover()}{GetRrcConnectionReconfigurationForHandover()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reconfiguration} ns3\+::\+Ue\+Manager\+::\+Get\+Rrc\+Connection\+Reconfiguration\+For\+Handover (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_aa2119b7ea12cbe86401cb73690f67d9b}{}\label{classns3_1_1UeManager_aa2119b7ea12cbe86401cb73690f67d9b}
\begin{DoxyReturn}{Returns}
retrieve the data that the target e\+NB needs to send to the source e\+NB as the Handover Command in the X2-\/based handover procedure.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
mobility control info is not expected to be filled in (shall be filled in by the caller). 
\end{DoxyNote}

\begin{DoxyCode}
1118 \{
1119   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1120   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UeManager_a41bd82649d9703e339e3fe988f922a5f}{BuildRrcConnectionReconfiguration} ();
1121 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+Source@{Get\+Source}}
\index{Get\+Source@{Get\+Source}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Source(void)}{GetSource(void)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::pair$<$ uint16\+\_\+t, uint16\+\_\+t $>$ ns3\+::\+Ue\+Manager\+::\+Get\+Source (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a367df7bddfe589cff084c704929bc9a7}{}\label{classns3_1_1UeManager_a367df7bddfe589cff084c704929bc9a7}

\begin{DoxyCode}
360 \{
361   \textcolor{keywordflow}{return} std::pair<uint16\_t, uint16\_t> (\hyperlink{classns3_1_1UeManager_add9ed1d405182617c513205fab32d470}{m\_sourceCellId}, 
      \hyperlink{classns3_1_1UeManager_aec435692a673cd55353a2bb258d5f487}{m\_sourceX2apId});
362 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+Srs\+Configuration\+Index@{Get\+Srs\+Configuration\+Index}}
\index{Get\+Srs\+Configuration\+Index@{Get\+Srs\+Configuration\+Index}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Srs\+Configuration\+Index(void) const }{GetSrsConfigurationIndex(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ue\+Manager\+::\+Get\+Srs\+Configuration\+Index (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1UeManager_af7a84dcad94adbc23b87773d336bb664}{}\label{classns3_1_1UeManager_af7a84dcad94adbc23b87773d336bb664}
\begin{DoxyReturn}{Returns}
the S\+RS Configuration Index 
\end{DoxyReturn}

\begin{DoxyCode}
2193 \{
2194   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.
      \hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ab37d726f290ebc8cd81e8d4f68939fdc}{soundingRsUlConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1SoundingRsUlConfigDedicated_a2cbee1ba9dd47b4b690a8d0e91d209be}{srsConfigIndex};
2195 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+State@{Get\+State}}
\index{Get\+State@{Get\+State}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+State() const }{GetState() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ue\+Manager\+::\+State} ns3\+::\+Ue\+Manager\+::\+Get\+State (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1UeManager_a401868bb61523c594c69024e2231467a}{}\label{classns3_1_1UeManager_a401868bb61523c594c69024e2231467a}
\begin{DoxyReturn}{Returns}
the current state 
\end{DoxyReturn}

\begin{DoxyCode}
2218 \{
2219   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state};
2220 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Ue\+Manager\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1UeManager_a03dcaf9e5a92ccf58e498e12b0f0d871}{}\label{classns3_1_1UeManager_a03dcaf9e5a92ccf58e498e12b0f0d871}

\begin{DoxyCode}
312 \{
313   \textcolor{keyword}{static} TypeId  tid = TypeId (\textcolor{stringliteral}{"ns3::UeManager"})
314     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
315     .AddConstructor<UeManager> ()
316     .AddAttribute (\textcolor{stringliteral}{"DataRadioBearerMap"}, \textcolor{stringliteral}{"List of UE DataRadioBearerInfo by DRBID."},
317                    \hyperlink{namespacens3_a5cac680c954929d49b48f4c40c1a2e08}{ObjectMapValue} (),
318                    \hyperlink{namespacens3_acfdf708e388c66beea68eb5ecdcb7456}{MakeObjectMapAccessor} (&
      \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{UeManager::m\_drbMap}),
319                    MakeObjectMapChecker<LteDataRadioBearerInfo> ())
320     .AddAttribute (\textcolor{stringliteral}{"DataRadioRlcMap"}, \textcolor{stringliteral}{"List of UE Secondary RLC by DRBID."},
321                    \hyperlink{namespacens3_a5cac680c954929d49b48f4c40c1a2e08}{ObjectMapValue} (),
322                    \hyperlink{namespacens3_acfdf708e388c66beea68eb5ecdcb7456}{MakeObjectMapAccessor} (&
      \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{UeManager::m\_rlcMap}),
323                    MakeObjectMapChecker<RlcBearerInfo> ())
324     .AddAttribute (\textcolor{stringliteral}{"Srb0"}, \textcolor{stringliteral}{"SignalingRadioBearerInfo for SRB0"},
325                    PointerValue (),
326                    MakePointerAccessor (&\hyperlink{classns3_1_1UeManager_a8125951721a3aeefbf6ea5af111f2f3f}{UeManager::m\_srb0}),
327                    MakePointerChecker<LteSignalingRadioBearerInfo> ())
328     .AddAttribute (\textcolor{stringliteral}{"Srb1"}, \textcolor{stringliteral}{"SignalingRadioBearerInfo for SRB1"},
329                    PointerValue (),
330                    MakePointerAccessor (&\hyperlink{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{UeManager::m\_srb1}),
331                    MakePointerChecker<LteSignalingRadioBearerInfo> ())
332     .AddAttribute (\textcolor{stringliteral}{"C-RNTI"},
333                    \textcolor{stringliteral}{"Cell Radio Network Temporary Identifier"},
334                    \hyperlink{classns3_1_1TypeId_a3ab7b43b95f96391c514d609ca60e542a3dd4b476c9b257285c177d6c414b5fd0}{TypeId::ATTR\_GET}, \textcolor{comment}{// read-only attribute}
335                    UintegerValue (0), \textcolor{comment}{// unused, read-only attribute}
336                    MakeUintegerAccessor (&\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{UeManager::m\_rnti}),
337                    MakeUintegerChecker<uint16\_t> ())
338     .AddTraceSource (\textcolor{stringliteral}{"StateTransition"},
339                      \textcolor{stringliteral}{"fired upon every UE state transition seen by the "}
340                      \textcolor{stringliteral}{"UeManager at the eNB RRC"},
341                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1UeManager_ac17d478044a6111ca71b05d8b3950bf7}{UeManager::m\_stateTransitionTrace}),
342                      \textcolor{stringliteral}{"ns3::UeManager::StateTracedCallback"})
343     .AddTraceSource (\textcolor{stringliteral}{"SecondaryRlcCreated"},
344                      \textcolor{stringliteral}{"fired upon receiving RecvRlcSetupRequest"},
345                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1UeManager_a1fd26ae2275ed93d13fefd27d1b89307}{UeManager::m\_secondaryRlcCreatedTrace}),
346                      \textcolor{stringliteral}{"ns3::UeManager::ImsiCidRntiTracedCallback"})
347   ;
348   \textcolor{keywordflow}{return} tid;
349 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 25


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Lcid2\+Bid@{Lcid2\+Bid}}
\index{Lcid2\+Bid@{Lcid2\+Bid}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Lcid2\+Bid(uint8\+\_\+t lcid)}{Lcid2Bid(uint8_t lcid)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ue\+Manager\+::\+Lcid2\+Bid (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{lcid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a585341e3dd6501f657cb4b4c1efa0f40}{}\label{classns3_1_1UeManager_a585341e3dd6501f657cb4b4c1efa0f40}

\begin{DoxyParams}{Parameters}
{\em lcid} & a Logical \hyperlink{classns3_1_1Channel}{Channel} Identifier\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the corresponding E\+PS Bearer Identifier 
\end{DoxyReturn}

\begin{DoxyCode}
2380 \{
2381   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (lcid > 2);
2382   \textcolor{keywordflow}{return} lcid - 2;
2383 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Lcid2\+Drbid@{Lcid2\+Drbid}}
\index{Lcid2\+Drbid@{Lcid2\+Drbid}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Lcid2\+Drbid(uint8\+\_\+t lcid)}{Lcid2Drbid(uint8_t lcid)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ue\+Manager\+::\+Lcid2\+Drbid (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{lcid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_add2d87f0743ed88c0cd89da5f65d04a0}{}\label{classns3_1_1UeManager_add2d87f0743ed88c0cd89da5f65d04a0}

\begin{DoxyParams}{Parameters}
{\em lcid} & a Logical \hyperlink{classns3_1_1Channel}{Channel} Identifier\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the corresponding Data Radio Bearer Id 
\end{DoxyReturn}

\begin{DoxyCode}
2368 \{
2369   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (lcid > 2);
2370   \textcolor{keywordflow}{return} lcid - 2;
2371 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Merge\+Buffers@{Merge\+Buffers}}
\index{Merge\+Buffers@{Merge\+Buffers}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Merge\+Buffers(std\+::vector$<$ Lte\+Rlc\+Am\+::\+Retx\+Pdu $>$ first, std\+::vector$<$ Lte\+Rlc\+Am\+::\+Retx\+Pdu $>$ second)}{MergeBuffers(std::vector< LteRlcAm::RetxPdu > first, std::vector< LteRlcAm::RetxPdu > second)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Lte\+Rlc\+Am\+::\+Retx\+Pdu} $>$ ns3\+::\+Ue\+Manager\+::\+Merge\+Buffers (
\begin{DoxyParamCaption}
\item[{std\+::vector$<$ {\bf Lte\+Rlc\+Am\+::\+Retx\+Pdu} $>$}]{first, }
\item[{std\+::vector$<$ {\bf Lte\+Rlc\+Am\+::\+Retx\+Pdu} $>$}]{second}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_aa35d9d1c4f3019583f782373d9e428a1}{}\label{classns3_1_1UeManager_aa35d9d1c4f3019583f782373d9e428a1}

\begin{DoxyCode}
711 \{
712   LteRlcAmHeader rlcamHeader\_1, rlcamHeader\_2;
713   std::vector < LteRlcAm::RetxPdu> result;
714   std::vector < LteRlcAm::RetxPdu>::iterator it\_1 = first.begin();
715   std::vector < LteRlcAm::RetxPdu>::iterator it\_2 = second.begin();
716   \textcolor{keywordtype}{bool} end\_1\_reached = \textcolor{keyword}{false};
717   \textcolor{keywordtype}{bool} end\_2\_reached = \textcolor{keyword}{false};
718   \textcolor{keywordflow}{while} (it\_1 != first.end() && it\_2 != second.end())\{
719     \textcolor{keywordflow}{while} ((*it\_1).m\_pdu == 0)\{
720       ++it\_1;
721       \textcolor{keywordflow}{if}(it\_1 == first.end())
722       \{
723         end\_1\_reached = \textcolor{keyword}{true};
724         \textcolor{keywordflow}{break};
725       \}
726     \}
727     \textcolor{keywordflow}{while} ((*it\_2).m\_pdu == 0)\{
728       ++it\_2;
729       \textcolor{keywordflow}{if}(it\_2 == second.end())
730       \{
731         end\_2\_reached = \textcolor{keyword}{true};
732         \textcolor{keywordflow}{break};
733       \}
734     \}
735     \textcolor{keywordflow}{if}(!end\_1\_reached && !end\_2\_reached)
736     \{
737       (*it\_1).m\_pdu->PeekHeader(rlcamHeader\_1);
738       (*it\_2).m\_pdu->PeekHeader(rlcamHeader\_2);
739       \textcolor{keywordflow}{if} (rlcamHeader\_1.GetSequenceNumber() > rlcamHeader\_2.GetSequenceNumber())\{
740         result.push\_back((*it\_2));  
741         ++it\_2;       
742       \}
743       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rlcamHeader\_2.GetSequenceNumber() > rlcamHeader\_1.GetSequenceNumber())\{
744         result.push\_back((*it\_1));
745         ++it\_1;         
746       \}
747       \textcolor{keywordflow}{else} \{
748         result.push\_back((*it\_1));
749         ++it\_1;
750         ++it\_2;
751       \}
752       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"first,second = "} << rlcamHeader\_1.GetSequenceNumber() << \textcolor{stringliteral}{","} << 
      rlcamHeader\_2.GetSequenceNumber());
753     \}
754     \textcolor{keywordflow}{else}
755     \{
756       \textcolor{keywordflow}{break};
757     \}
758   \}
759   \textcolor{keywordflow}{while} (it\_1 != first.end())\{
760     result.push\_back((*it\_1));
761     it\_1++;
762   \}
763   \textcolor{keywordflow}{while} (it\_2 != second.end())\{
764     result.push\_back((*it\_2));
765     it\_2++;
766   \}
767   \textcolor{keywordflow}{return} result;
768 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 27




Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Prepare\+Handover@{Prepare\+Handover}}
\index{Prepare\+Handover@{Prepare\+Handover}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Prepare\+Handover(uint16\+\_\+t cell\+Id)}{PrepareHandover(uint16_t cellId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Prepare\+Handover (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a1d842520ee54f281ee7eefc2a62f7844}{}\label{classns3_1_1UeManager_a1d842520ee54f281ee7eefc2a62f7844}
Start the handover preparation and send the handover request


\begin{DoxyParams}{Parameters}
{\em cell\+Id} & id of the target cell \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
637 \{
638   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << cellId);
639   std::cout << \textcolor{stringliteral}{"Prepare handover ------>"} << std::endl;
640   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
641     \{
642     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY}:
643       \{
644         \hyperlink{classns3_1_1UeManager_a8a70641b8dfb0641e6cfcf4cc83083a3}{m\_targetCellId} = cellId;
645         EpcX2SapProvider::HandoverRequestParams params;
646         params.oldEnbUeX2apId = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
647         params.cause          = 
      \hyperlink{classns3_1_1EpcX2Sap_aecbbca5ab8e21ca831d8ad02dada6d85a967926119f5907b728250f8f7abe9a2e}{EpcX2SapProvider::HandoverDesirableForRadioReason};
648         params.sourceCellId   = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId;
649         params.targetCellId   = cellId;
650         params.mmeUeS1apId    = \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi};
651         params.ueAggregateMaxBitRateDownlink = 200 * 1000;
652         params.ueAggregateMaxBitRateUplink = 100 * 1000;
653         params.bearers = \hyperlink{classns3_1_1UeManager_aedc1779570a508b261381b0311811540}{GetErabList} ();
654         params.rlcRequests = \hyperlink{classns3_1_1UeManager_a998bc5ed29bd7edfa4c683adcfc7cabb}{m\_rlcRequestVector};
655         \textcolor{comment}{// clear the vector to avoid keeping old information}
656         \textcolor{comment}{// the target eNB will add the rlcRequests in its own vector}
657         \hyperlink{classns3_1_1UeManager_a998bc5ed29bd7edfa4c683adcfc7cabb}{m\_rlcRequestVector}.clear();
658 
659         LteRrcSap::HandoverPreparationInfo hpi;
660         hpi.asConfig.sourceUeIdentity = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
661         hpi.asConfig.sourceDlCarrierFreq = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_dlEarfcn;
662         hpi.asConfig.sourceMeasConfig = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ueMeasConfig;
663         hpi.asConfig.sourceRadioResourceConfig = 
      \hyperlink{classns3_1_1UeManager_a310c374082bf0293d515592a15ecef4d}{GetRadioResourceConfigForHandoverPreparationInfo} ();
664         hpi.asConfig.sourceMasterInformationBlock.dlBandwidth = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_dlBandwidth;
665         hpi.asConfig.sourceMasterInformationBlock.systemFrameNumber = 0;
666         hpi.asConfig.sourceSystemInformationBlockType1.cellAccessRelatedInfo.plmnIdentityInfo.plmnIdentity 
      = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_sib1.cellAccessRelatedInfo.plmnIdentityInfo.plmnIdentity;
667         hpi.asConfig.sourceSystemInformationBlockType1.cellAccessRelatedInfo.cellIdentity = 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId;
668         hpi.asConfig.sourceSystemInformationBlockType1.cellAccessRelatedInfo.csgIndication = 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_sib1.cellAccessRelatedInfo.csgIndication;
669         hpi.asConfig.sourceSystemInformationBlockType1.cellAccessRelatedInfo.csgIdentity = 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_sib1.cellAccessRelatedInfo.csgIdentity;
670         LteEnbCmacSapProvider::RachConfig rc = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->GetRachConfig ();
671         hpi.asConfig.sourceSystemInformationBlockType2.radioResourceConfigCommon.rachConfigCommon.
      preambleInfo.numberOfRaPreambles = rc.numberOfRaPreambles;
672         hpi.asConfig.sourceSystemInformationBlockType2.radioResourceConfigCommon.rachConfigCommon.
      raSupervisionInfo.preambleTransMax = rc.preambleTransMax;
673         hpi.asConfig.sourceSystemInformationBlockType2.radioResourceConfigCommon.rachConfigCommon.
      raSupervisionInfo.raResponseWindowSize = rc.raResponseWindowSize;
674         hpi.asConfig.sourceSystemInformationBlockType2.freqInfo.ulCarrierFreq = 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ulEarfcn;
675         hpi.asConfig.sourceSystemInformationBlockType2.freqInfo.ulBandwidth = 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ulBandwidth;
676         params.rrcContext = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->EncodeHandoverPreparationInformation (hpi);
677 
678         params.isMc = \hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc};
679 
680         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"oldEnbUeX2apId = "} << params.oldEnbUeX2apId);
681         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"sourceCellId = "} << params.sourceCellId);
682         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"targetCellId = "} << params.targetCellId);
683         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"mmeUeS1apId = "} << params.mmeUeS1apId);
684         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"rrcContext   = "} << params.rrcContext);
685 
686         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendHandoverRequest (params);
687         \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808af12d34cff237916f8322a4b1031ceeda}{HANDOVER\_PREPARATION});
688       \}
689       \textcolor{keywordflow}{break};
690 
691     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808abd13cee86acc2cb3c04241dec919c73f}{CONNECTION\_RECONFIGURATION}:
692     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{HANDOVER\_JOINING}: \textcolor{comment}{// there may be some delays in the TX of RRC messages, thus an
       handover may be completed at UE side, but not at eNB side}
693       \{
694         \hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId} = cellId;
695         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"UeManager is in CONNECTION\_RECONFIGURATION, postpone the PrepareHandover
       command to cell "} << \hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId});
696       \}
697       \textcolor{keywordflow}{break};
698 
699     \textcolor{keywordflow}{default}:
700       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method unexpected in state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
701       \textcolor{keywordflow}{break};
702     \}
703 
704 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 29




Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Record\+Data\+Radio\+Bearers\+To\+Be\+Started@{Record\+Data\+Radio\+Bearers\+To\+Be\+Started}}
\index{Record\+Data\+Radio\+Bearers\+To\+Be\+Started@{Record\+Data\+Radio\+Bearers\+To\+Be\+Started}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Record\+Data\+Radio\+Bearers\+To\+Be\+Started()}{RecordDataRadioBearersToBeStarted()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Record\+Data\+Radio\+Bearers\+To\+Be\+Started (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a104d92b26b4b7fe93099d74080f62ae3}{}\label{classns3_1_1UeManager_a104d92b26b4b7fe93099d74080f62ae3}
Start all configured data radio bearers. It is safe to call this method if any bearer had been already started previously. 
\begin{DoxyCode}
508 \{
509   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint32\_t) \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
510   \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
511        it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
512        ++it)
513     \{
514       \hyperlink{classns3_1_1UeManager_a61c31c1ebd084eed264d06b92dd44920}{m\_drbsToBeStarted}.push\_back (it->first);\textcolor{comment}{//sjkang1115}
515 
516 
517 
518     \}
519 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 31


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Assistant\+Info@{Recv\+Assistant\+Info}}
\index{Recv\+Assistant\+Info@{Recv\+Assistant\+Info}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Assistant\+Info(\+Epc\+X2\+Sap\+::\+Assistant\+Information\+For\+Splitting info)}{RecvAssistantInfo(EpcX2Sap::AssistantInformationForSplitting info)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Assistant\+Info (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+X2\+Sap\+::\+Assistant\+Information\+For\+Splitting}}]{info}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a3e11e0a7509257a1e5f25024a926bbc8}{}\label{classns3_1_1UeManager_a3e11e0a7509257a1e5f25024a926bbc8}
sjkang1115 
\begin{DoxyCode}
2471                                                                            \{ \textcolor{comment}{//sjkang1115}
2472         std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.find(params.drbId)
      ; \textcolor{comment}{//sjkang}
2473         Ptr<McEnbPdcp>mcpdcp =   DynamicCast<McEnbPdcp>(it->second->m\_pdcp); 
2474         mcpdcp->DoReceiveAssistantInformation(params);\textcolor{comment}{//sjkang1115}
2475 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Connection\+Switch\+To\+Mm\+Wave@{Recv\+Connection\+Switch\+To\+Mm\+Wave}}
\index{Recv\+Connection\+Switch\+To\+Mm\+Wave@{Recv\+Connection\+Switch\+To\+Mm\+Wave}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Connection\+Switch\+To\+Mm\+Wave(bool use\+Mm\+Wave\+Connection, uint8\+\_\+t drbid)}{RecvConnectionSwitchToMmWave(bool useMmWaveConnection, uint8_t drbid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Connection\+Switch\+To\+Mm\+Wave (
\begin{DoxyParamCaption}
\item[{bool}]{use\+Mm\+Wave\+Connection, }
\item[{uint8\+\_\+t}]{drbid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a258642f79552f6e9ac3116470085286e}{}\label{classns3_1_1UeManager_a258642f79552f6e9ac3116470085286e}
Notify a mm\+Wave remote \hyperlink{classns3_1_1UeManager}{Ue\+Manager} that a switch is expected. If the switch is to L\+TE, forward R\+LC buffers to L\+TE e\+NB 
\begin{DoxyCode}
2097 \{
2098   std::cout << \textcolor{stringliteral}{"Recv Connection Swithc to Mmwave ---->"} << \hyperlink{classns3_1_1UeManager_a9609913bb407b13da17a55d9013e8e10}{GetImsi}() << std::endl;
2099         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION}(\textcolor{keyword}{this});
2100         \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG}(\hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid) != \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.end(), \textcolor{stringliteral}{"drbid not found
       in m\_rlcMap"});
2101   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"RecvConnectionSwitchToMmWave on cell "} << \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId << \textcolor{stringliteral}{" switch "} << 
      useMmWaveConnection << \textcolor{stringliteral}{" for drbid "} << (uint32\_t)drbid);
2102   \textcolor{keywordflow}{if}(!useMmWaveConnection)
2103   \{
2104     \textcolor{comment}{//Ptr<RlcBearerInfo> rlcInfo = m\_rlcMap.find(drbid)->second;}
2105     \hyperlink{classns3_1_1UeManager_a8a70641b8dfb0641e6cfcf4cc83083a3}{m\_targetCellId} = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lteCellId;
2106     \hyperlink{classns3_1_1UeManager_acfe070a93481248c1d2624f02a448a34}{ForwardRlcBuffers}(\hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid)->second->m\_rlc, 0, 
      \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid)->second->gtpTeid, 0, 0, 0);
2107     \textcolor{comment}{// create a new rlc!}
2108 
2109     \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid)->second->m\_rlc = 0;
2110 
2111     uint8\_t lcid = \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid)->second->logicalChannelIdentity;
2112     \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->ReleaseLc(\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, lcid);
2113 
2114     EpsBearer bearer;
2115     TypeId rlcTypeId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetRlcType (bearer); \textcolor{comment}{// actually, this doesn't depend on bearer}
2116 
2117     \hyperlink{classns3_1_1Object_a2810e70b8c8377aa8617138fc0f65e92}{ObjectFactory} rlcObjectFactory;
2118     rlcObjectFactory.SetTypeId (rlcTypeId);
2119     Ptr<LteRlc> rlc = rlcObjectFactory.Create ()->GetObject<LteRlc> ();
2120     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Reset rlc in mmWave after switch to LTE "} << rlc);
2121     rlc->SetLteMacSapProvider (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_macSapProvider);
2122     rlc->SetRnti (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
2123 
2124     \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid)->second->m\_rlc = rlc;
2125     rlc->SetLcId (lcid);
2126 
2127     \textcolor{keywordflow}{if} (rlcTypeId != \hyperlink{classns3_1_1LteRlcSm_a160bd39ce4e0d113dd5d93cc3a258045}{LteRlcSm::GetTypeId} ())
2128     \{
2129       \textcolor{comment}{// connect with remote PDCP}
2130       rlc->SetEpcX2RlcProvider (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetEpcX2RlcProvider());
2131       EpcX2Sap::UeDataParams ueParams;
2132       ueParams.sourceCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId();
2133       ueParams.targetCellId = \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid)->second->targetCellId; \textcolor{comment}{// the LTE cell}
2134       ueParams.gtpTeid = \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid)->second->gtpTeid;
2135       rlc->SetUeDataParams(ueParams);
2136       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SetEpcX2RlcUser (\hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid)->second->gtpTeid, rlc->
      GetEpcX2RlcUser());
2137       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SetEpcX2RlcUser\_2 (\hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid)->second->gtpTeid, rlc->
      GetEpcX2RlcUser()); \textcolor{comment}{//sjkang1109}
2138     \}
2139 
2140     \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->AddLc (\hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.find(drbid)->second->lcinfo, rlc->
      GetLteMacSapUser ());
2141   \}
2142 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 32


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Handover\+Preparation\+Failure@{Recv\+Handover\+Preparation\+Failure}}
\index{Recv\+Handover\+Preparation\+Failure@{Recv\+Handover\+Preparation\+Failure}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Handover\+Preparation\+Failure(uint16\+\_\+t cell\+Id)}{RecvHandoverPreparationFailure(uint16_t cellId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Handover\+Preparation\+Failure (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_ae666e05868312327e759a738ba1e19f3}{}\label{classns3_1_1UeManager_ae666e05868312327e759a738ba1e19f3}
Take the necessary actions in response to the reception of an X2 HO preparation failure message


\begin{DoxyParams}{Parameters}
{\em cell\+Id} & id of the target cell \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1245 \{
1246   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << cellId);
1247   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
1248     \{
1249     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808af12d34cff237916f8322a4b1031ceeda}{HANDOVER\_PREPARATION}:
1250       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (cellId == \hyperlink{classns3_1_1UeManager_a8a70641b8dfb0641e6cfcf4cc83083a3}{m\_targetCellId});
1251       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"target eNB sent HO preparation failure, aborting HO"});
1252       \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY});
1253       \textcolor{keywordflow}{break};
1254 
1255     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{HANDOVER\_LEAVING}:
1256       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (cellId == \hyperlink{classns3_1_1UeManager_a8a70641b8dfb0641e6cfcf4cc83083a3}{m\_targetCellId});
1257       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"target eNB sent HO preparation failure, aborting HO because
       RrcConnectionReconfigurationCompleted was not received at target"});
1258       \textcolor{keywordflow}{break};
1259 
1260     \textcolor{keywordflow}{default}:
1261       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method unexpected in state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1262       \textcolor{keywordflow}{break};
1263     \}
1264 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 33


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Handover\+Request\+Ack@{Recv\+Handover\+Request\+Ack}}
\index{Recv\+Handover\+Request\+Ack@{Recv\+Handover\+Request\+Ack}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Handover\+Request\+Ack(\+Epc\+X2\+Sap\+User\+::\+Handover\+Request\+Ack\+Params params)}{RecvHandoverRequestAck(EpcX2SapUser::HandoverRequestAckParams params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Handover\+Request\+Ack (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+X2\+Sap\+User\+::\+Handover\+Request\+Ack\+Params}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_ad2e93daf91532b0fd263355b2416330d}{}\label{classns3_1_1UeManager_ad2e93daf91532b0fd263355b2416330d}
take the necessary actions in response to the reception of an X2 H\+A\+N\+D\+O\+V\+ER R\+E\+Q\+U\+E\+ST A\+CK message


\begin{DoxyParams}{Parameters}
{\em params} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
772 \{
773   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
774 
775   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (params.notAdmittedBearers.empty (), \textcolor{stringliteral}{"not admission of some bearers upon
       handover is not supported"});
776   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (params.admittedBearers.size () == \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.size (), \textcolor{stringliteral}{"not enough
       bearers in admittedBearers"});
777 
778   \textcolor{comment}{// note: the Handover command from the target eNB to the source eNB}
779   \textcolor{comment}{// is expected to be sent transparently to the UE; however, here we}
780   \textcolor{comment}{// decode the message and eventually reencode it. This way we can}
781   \textcolor{comment}{// support both a real RRC protocol implementation and an ideal one}
782   \textcolor{comment}{// without actual RRC protocol encoding. }
783 
784   \textcolor{comment}{// TODO for MC devices, when performing handover between mmWave cells, forward the Rlc buffers}
785 
786   Ptr<Packet> encodedHandoverCommand = params.rrcContext;
787   LteRrcSap::RrcConnectionReconfiguration handoverCommand = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->DecodeHandoverCommand
       (encodedHandoverCommand);
788   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SendRrcConnectionReconfiguration (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, handoverCommand);
789   \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{HANDOVER\_LEAVING});
790   \hyperlink{classns3_1_1UeManager_aebe46172b4387024c856c6917b5e2d6b}{m\_handoverLeavingTimeout} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_handoverLeavingTimeoutDuration, 
791                                                   &
      \hyperlink{classns3_1_1LteEnbRrc_a3ded0535ab2c7f5b1346cf787745d06d}{LteEnbRrc::HandoverLeavingTimeout}, 
792                                                   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}, \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
793   \textcolor{comment}{// TODO check the actions to be performed when timeout expires}
794   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (handoverCommand.haveMobilityControlInfo);
795   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_handoverStartTrace (\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId, \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, handoverCommand.
      mobilityControlInfo.targetPhysCellId);
796 
797   EpcX2SapProvider::SnStatusTransferParams sst;
798   sst.oldEnbUeX2apId = params.oldEnbUeX2apId;
799   sst.newEnbUeX2apId = params.newEnbUeX2apId;
800   sst.sourceCellId = params.sourceCellId;
801   sst.targetCellId = params.targetCellId;
802   \textcolor{keywordflow}{for} ( std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator drbIt = 
      \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
803         drbIt != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
804         ++drbIt)
805     \{
806       \textcolor{comment}{// SN status transfer is only for AM RLC}
807       \textcolor{keywordflow}{if} (0 != drbIt->second->m\_rlc->GetObject<LteRlcAm> ())
808         \{
809           LtePdcp::Status status = drbIt->second->m\_pdcp->GetStatus ();
810           EpcX2Sap::ErabsSubjectToStatusTransferItem \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
811           i.dlPdcpSn = status.txSn;
812           i.ulPdcpSn = status.rxSn;
813           sst.erabsSubjectToStatusTransferList.push\_back (i);
814         \}
815     \}
816   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendSnStatusTransfer (sst);
817 
818   \textcolor{comment}{// on a mmWave eNB, for a UeManager of an MC device, notify the EpcX2 class that it has to forward the
       incoming packets}
819   \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave && \hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc})
820   \{
821     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Notify the X2 that packets with a certain TEID must be forwarded to the
       targetCell"});
822     \textcolor{keywordflow}{for}(std::map <uint8\_t, Ptr<RlcBearerInfo> >::iterator rlcIt = \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.begin ();
823           rlcIt != \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.end ();
824           ++rlcIt)
825     \{
826       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->AddTeidToBeForwarded(rlcIt->second->gtpTeid, params.targetCellId);    
827     \}
828   \}
829 
830   \textcolor{comment}{// LL HO}
831   \textcolor{comment}{//Forward RlcTxBuffers to target eNodeb.}
832   \textcolor{comment}{// TODO forwarding for secondary cell HO}
833   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"m\_drbMap size "} << \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.size() << \textcolor{stringliteral}{" in cell "} << 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId << \textcolor{stringliteral}{" forward RLC buffers"});
834   \textcolor{keywordflow}{for} ( std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator drbIt = 
      \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
835         drbIt != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
836         ++drbIt)
837   \{
838     \hyperlink{classns3_1_1UeManager_acfe070a93481248c1d2624f02a448a34}{ForwardRlcBuffers}(drbIt->second->m\_rlc, drbIt->second->m\_pdcp, drbIt->second->
      m\_gtpTeid, 0, 0, 0);
839   \}
840 
841   \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave && \hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc}) \textcolor{comment}{// for secondary cell HO}
842   \{
843     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"m\_rlcMap size "} << \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.size() << \textcolor{stringliteral}{" in cell "} << 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId << \textcolor{stringliteral}{" forward RLC buffers"});
844     \textcolor{keywordflow}{for} ( std::map <uint8\_t, Ptr<RlcBearerInfo> >::iterator rlcIt = \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.begin ();
845           rlcIt != \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.end ();
846           ++rlcIt)
847     \{
848       \textcolor{comment}{// the buffers are forwarded to m\_targetCellId, which is set in PrepareHandover}
849       \textcolor{comment}{// the target cell}
850       \hyperlink{classns3_1_1UeManager_acfe070a93481248c1d2624f02a448a34}{ForwardRlcBuffers}(rlcIt->second->m\_rlc, 0, rlcIt->second->gtpTeid, 0, 1, 0);
851     \}
852   \}
853 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 34


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Measurement\+Report@{Recv\+Measurement\+Report}}
\index{Recv\+Measurement\+Report@{Recv\+Measurement\+Report}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Measurement\+Report(\+Lte\+Rrc\+Sap\+::\+Measurement\+Report msg)}{RecvMeasurementReport(LteRrcSap::MeasurementReport msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Measurement\+Report (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Rrc\+Sap\+::\+Measurement\+Report}}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_aaf0bb6b60d798db37cefb97f4b1884e6}{}\label{classns3_1_1UeManager_aaf0bb6b60d798db37cefb97f4b1884e6}


Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_abf788b7395d6a2bc7e0ab86a3f992695}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Measurement\+Report} interface. 


\begin{DoxyCode}
1792 \{
1793   uint8\_t measId = msg.measResults.measId;
1794   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint16\_t) measId);
1795   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"measId "} << (uint16\_t) measId
1796                           << \textcolor{stringliteral}{" haveMeasResultNeighCells "} << msg.measResults.haveMeasResultNeighCells
1797                           << \textcolor{stringliteral}{" measResultListEutra "} << msg.measResults.measResultListEutra.size ());
1798   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"serving cellId "} << \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId
1799                                   << \textcolor{stringliteral}{" RSRP "} << (uint16\_t) msg.measResults.rsrpResult
1800                                   << \textcolor{stringliteral}{" RSRQ "} << (uint16\_t) msg.measResults.rsrqResult);
1801 
1802   \textcolor{keywordflow}{for} (std::list <LteRrcSap::MeasResultEutra>::iterator it = msg.measResults.measResultListEutra.begin ();
1803        it != msg.measResults.measResultListEutra.end ();
1804        ++it)
1805     \{
1806       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"neighbour cellId "} << it->physCellId
1807                                         << \textcolor{stringliteral}{" RSRP "} << (it->haveRsrpResult ? (uint16\_t) it->rsrpResult : 25
      5)
1808                                         << \textcolor{stringliteral}{" RSRQ "} << (it->haveRsrqResult ? (uint16\_t) it->rsrqResult : 25
      5));
1809     \}
1810 
1811   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_handoverManagementSapProvider != 0)
1812       && (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_handoverMeasIds.find (measId) != \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_handoverMeasIds.end ()))
1813     \{
1814       \textcolor{comment}{// this measurement was requested by the handover algorithm}
1815       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_handoverManagementSapProvider->ReportUeMeas (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti},
1816                                                             msg.measResults);
1817     \}
1818 
1819   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_anrSapProvider != 0)
1820       && (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_anrMeasIds.find (measId) != \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_anrMeasIds.end ()))
1821     \{
1822       \textcolor{comment}{// this measurement was requested by the ANR function}
1823       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_anrSapProvider->ReportUeMeas (msg.measResults);
1824     \}
1825 
1826   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ffrRrcSapProvider != 0)
1827       && (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ffrMeasIds.find (measId) != \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ffrMeasIds.end ()))
1828     \{
1829       \textcolor{comment}{// this measurement was requested by the FFR function}
1830       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ffrRrcSapProvider->ReportUeMeas (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, msg.measResults);
1831     \}
1832 
1833   \textcolor{comment}{// fire a trace source}
1834   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_recvMeasurementReportTrace (\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId, 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, msg);
1835 
1836 \} \textcolor{comment}{// end of UeManager::RecvMeasurementReport}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Notify\+Lte\+Mm\+Wave\+Handover\+Completed@{Recv\+Notify\+Lte\+Mm\+Wave\+Handover\+Completed}}
\index{Recv\+Notify\+Lte\+Mm\+Wave\+Handover\+Completed@{Recv\+Notify\+Lte\+Mm\+Wave\+Handover\+Completed}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Notify\+Lte\+Mm\+Wave\+Handover\+Completed()}{RecvNotifyLteMmWaveHandoverCompleted()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Notify\+Lte\+Mm\+Wave\+Handover\+Completed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a126de0980408212bb991bfce59977dcb}{}\label{classns3_1_1UeManager_a126de0980408212bb991bfce59977dcb}
This method is called by the e\+NB R\+RC to notify the \hyperlink{classns3_1_1UeManager}{Ue\+Manager} that the handover from a Mm\+Wave cell to L\+TE was completed. Then, according to the state of the \hyperlink{classns3_1_1UeManager}{Ue\+Manager}, it will modify the m\+\_\+mm\+Wave\+Cell\+Setup\+Completed map of R\+RC. Used only with Inter\+Rat HO mode 
\begin{DoxyCode}
2455 \{
2456   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION}(\textcolor{keyword}{this} << \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state});
2457 
2458   \textcolor{keywordflow}{switch}(\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
2459   \{
2460     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY}:
2461       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted.find(\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second = \textcolor{keyword}{true};
2462       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"RecvNotifyLteMmWaveHandoverCompleted imsi "} << 
      \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi} << \textcolor{stringliteral}{" m\_rrc->m\_mmWaveCellSetupCompleted[m\_imsi] "} << \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted[
      \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}]);
2463       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_imsiUsingLte.find(\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second = \textcolor{keyword}{true};
2464       \textcolor{keywordflow}{break};
2465     \textcolor{keywordflow}{default}:
2466       \hyperlink{classns3_1_1UeManager_add440b9081bc11490fc5b7cf72c45115}{m\_receivedLteMmWaveHandoverCompleted} = \textcolor{keyword}{true};
2467       \textcolor{keywordflow}{break};
2468   \}
2469 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Rlc\+Setup\+Completed@{Recv\+Rlc\+Setup\+Completed}}
\index{Recv\+Rlc\+Setup\+Completed@{Recv\+Rlc\+Setup\+Completed}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Rlc\+Setup\+Completed(uint8\+\_\+t drbid)}{RecvRlcSetupCompleted(uint8_t drbid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Rlc\+Setup\+Completed (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{drbid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a2a4a5b37119d8d2fdc1493eda96247f1}{}\label{classns3_1_1UeManager_a2a4a5b37119d8d2fdc1493eda96247f1}
Ack the setup of the R\+LC remote entity, start the re-\/configuration on the UE sjkang\+\_\+un 
\begin{DoxyCode}
1424 \{
1425   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG}(\hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.find(drbid) != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end(), \textcolor{stringliteral}{"The drbid does not
       match"});
1426   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Setup completed for split DataRadioBearer "} << drbid);
1427   \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.find(drbid)->second->m\_isMc = \textcolor{keyword}{true}; 
1428   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UeManager_a511c8f672390b1520ba134623782ac81}{Mc\_Count} ==1)\{
1429   \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState}(\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808aca9c82460eb5d1d8fcebbfc0c4a9167b}{PREPARE\_MC\_CONNECTION\_RECONFIGURATION});
1430   \hyperlink{classns3_1_1UeManager_add763d882c14c2f1414167668f6ca095}{ScheduleRrcConnectionReconfiguration}();
1431   \}\textcolor{keywordflow}{else} \hyperlink{classns3_1_1UeManager_a511c8f672390b1520ba134623782ac81}{Mc\_Count}++;
1432 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 35


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Rlc\+Setup\+Request@{Recv\+Rlc\+Setup\+Request}}
\index{Recv\+Rlc\+Setup\+Request@{Recv\+Rlc\+Setup\+Request}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Rlc\+Setup\+Request(\+Epc\+X2\+Sap\+User\+::\+Rlc\+Setup\+Request params)}{RecvRlcSetupRequest(EpcX2SapUser::RlcSetupRequest params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Rlc\+Setup\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+X2\+Sap\+User\+::\+Rlc\+Setup\+Request}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a52d52fa9ab13eecfc3ccf82262e03e1c}{}\label{classns3_1_1UeManager_a52d52fa9ab13eecfc3ccf82262e03e1c}
Setup a new R\+LC entity and the X2 related connection 
\begin{DoxyCode}
1305 \{
1306   \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc} || \hyperlink{classns3_1_1UeManager_a1ff2a09ff4ed22e06fc86cb5ae614c83}{m\_isMc\_2}) \textcolor{comment}{//sjkang1016}
1307   \{
1308     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Setup remote RLC in cell "} << \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId());
1309     \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG}(\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}==\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{HANDOVER\_JOINING} || params.mmWaveRnti == 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, \textcolor{stringliteral}{"Rnti not correct "} << params.mmWaveRnti << \textcolor{stringliteral}{" "} << \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1310     \textcolor{comment}{// store the params, so that on handover the eNB sends the RLC request}
1311     \textcolor{comment}{// to the othe MmWaveEnb}
1312     \hyperlink{classns3_1_1UeManager_a998bc5ed29bd7edfa4c683adcfc7cabb}{m\_rlcRequestVector}.push\_back(params);
1313 
1314     \textcolor{comment}{// setup TEIDs to receive data eventually forwarded over X2-U }
1315     LteEnbRrc::X2uTeidInfo x2uTeidInfo;
1316     x2uTeidInfo.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1317     x2uTeidInfo.drbid = params.drbid;
1318     std::pair<std::map<uint32\_t, LteEnbRrc::X2uTeidInfo>::iterator, \textcolor{keywordtype}{bool}> ret;
1319     ret = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2uMcTeidInfoMap.insert (std::pair<uint32\_t, LteEnbRrc::X2uTeidInfo> (params.
      gtpTeid, x2uTeidInfo));
1320 
1321     \textcolor{comment}{// TODO overwrite may be legit, as in EpcX2::SetMcEpcX2PdcpUser}
1322     \textcolor{comment}{//NS\_ASSERT\_MSG (ret.second == true, "overwriting a pre-existing entry in m\_x2uTeidInfoMap");}
1323     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Added entry in m\_x2uMcTeidInfoMap"});
1324     
1325     \textcolor{comment}{// create new Rlc}
1326     \textcolor{comment}{// define a new struct similar to LteDataRadioBearerInfo with only rlc}
1327     Ptr<RlcBearerInfo> rlcInfo = CreateObject<RlcBearerInfo> ();
1328     rlcInfo->targetCellId = params.sourceCellId; \textcolor{comment}{// i.e. the LTE cell}
1329     rlcInfo->gtpTeid = params.gtpTeid;
1330     rlcInfo->mmWaveRnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1331     rlcInfo->lteRnti = params.lteRnti;
1332     rlcInfo->drbid = params.drbid;
1333     rlcInfo->rlcConfig = params.rlcConfig;
1334     rlcInfo->logicalChannelConfig = params.logicalChannelConfig;
1335 
1336     uint8\_t lcid = \hyperlink{classns3_1_1UeManager_af0ba90c3b4fe3300796ffc03de328f73}{Drbid2Lcid}(params.drbid);
1337 
1338     EpsBearer bearer;
1339     TypeId rlcTypeId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetRlcType (bearer); \textcolor{comment}{// actually, this doesn't depend on bearer}
1340 
1341     \hyperlink{classns3_1_1Object_a2810e70b8c8377aa8617138fc0f65e92}{ObjectFactory} rlcObjectFactory;
1342     rlcObjectFactory.SetTypeId (rlcTypeId);
1343     Ptr<LteRlc> rlc = rlcObjectFactory.Create ()->GetObject<LteRlc> ();
1344     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Created rlc "} << rlc);
1345     rlc->SetLteMacSapProvider (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_macSapProvider);
1346     rlc->SetRnti (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1347     rlc->SetDrbId(params.drbid);\textcolor{comment}{//sjkang1115}
1348 
1349                                 \textcolor{comment}{//this is a procedure for setting filestream in RlcAm and RlcLowLat layer 
       by sjkang1116}
1350                                 std::ostringstream fileName;
1351                                 \textcolor{keywordflow}{if}(rlcTypeId ==\hyperlink{classns3_1_1LteRlcAm_a28143176a465769583d9db0b4b36b91b}{LteRlcAm::GetTypeId}())  \textcolor{comment}{//sjkang0104}
1352                                           fileName<<\textcolor{stringliteral}{"rlcAmTx\_queue\_senb"}<<params.targetCellId <<\textcolor{stringliteral}{"\_ue"}<<
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}<<\textcolor{stringliteral}{"\_bearer"}<< (uint16\_t)(params.drbid) << \textcolor{stringliteral}{".txt"};
1353                             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rlcTypeId == \hyperlink{classns3_1_1LteRlcUmLowLat_afcbc09793556f00ce2cd62cb0c9c670b}{LteRlcUmLowLat::GetTypeId}())
1354                                             fileName<<\textcolor{stringliteral}{"rlcUmTx\_queue\_senb"}<<params.targetCellId <<\textcolor{stringliteral}{"\_ue"}<<
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}<<\textcolor{stringliteral}{"\_bearer"}<< (uint16\_t)(params.drbid) << \textcolor{stringliteral}{".txt"};
1355                                                                         std::ofstream* stream = \textcolor{keyword}{new} 
      std::ofstream(fileName.str().c\_str());
1356                    rlc->SetStreamForQueueStatistics(stream);\textcolor{comment}{//sjkang1116}
1357 
1358     rlcInfo->m\_rlc = rlc;
1359     rlc->SetLcId (lcid);
1360     \textcolor{keywordflow}{if} (rlcTypeId != \hyperlink{classns3_1_1LteRlcSm_a160bd39ce4e0d113dd5d93cc3a258045}{LteRlcSm::GetTypeId} ())
1361     \{
1362       \textcolor{comment}{// connect with remote PDCP}
1363         \textcolor{comment}{//std::cout << m\_rrc << "\(\backslash\)t"<< m\_rrc->GetEpcX2RlcProvider()<< "sjkang1114"<<std::endl;}
1364         \textcolor{comment}{//std::cout << rlc << " \(\backslash\)t " << "sjkang1114" <<std::endl;}
1365       rlc->SetEpcX2RlcProvider (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetEpcX2RlcProvider());
1366       EpcX2Sap::UeDataParams ueParams;
1367       ueParams.sourceCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId();
1368       ueParams.targetCellId = rlcInfo->targetCellId; \textcolor{comment}{// the LTE cell}
1369       ueParams.gtpTeid = rlcInfo->gtpTeid;
1370       rlc->SetUeDataParams(ueParams);
1371       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SetEpcX2RlcUser (params.gtpTeid, rlc->GetEpcX2RlcUser());
1372       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SetEpcX2RlcUser\_2 (params.gtpTeid, rlc->GetEpcX2RlcUser());\textcolor{comment}{//sjkang1109}
1373     \}
1374 
1375     LteEnbCmacSapProvider::LcInfo lcinfo;
1376     lcinfo.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1377     lcinfo.lcId = lcid;
1378     lcinfo.lcGroup = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetLogicalChannelGroup (params.lcinfo.isGbr);
1379     lcinfo.qci = params.lcinfo.qci;
1380     lcinfo.isGbr = params.lcinfo.isGbr;
1381     lcinfo.mbrUl = params.lcinfo.mbrUl;
1382     lcinfo.mbrDl = params.lcinfo.mbrDl;
1383     lcinfo.gbrUl = params.lcinfo.gbrUl;
1384     lcinfo.gbrDl = params.lcinfo.gbrDl;
1385     \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->AddLc (lcinfo, rlc->GetLteMacSapUser ());
1386     rlcInfo->lcinfo = lcinfo;
1387 
1388     rlcInfo->logicalChannelIdentity = lcid;
1389     rlcInfo->logicalChannelConfig.priority = params.logicalChannelConfig.priority;
1390     rlcInfo->logicalChannelConfig.logicalChannelGroup = lcinfo.lcGroup;
1391     \textcolor{keywordflow}{if} (params.lcinfo.isGbr)
1392       \{
1393         rlcInfo->logicalChannelConfig.prioritizedBitRateKbps = params.logicalChannelConfig.
      prioritizedBitRateKbps;
1394       \}
1395     \textcolor{keywordflow}{else}
1396       \{
1397         rlcInfo->logicalChannelConfig.prioritizedBitRateKbps = 0;
1398       \}
1399     rlcInfo->logicalChannelConfig.bucketSizeDurationMs = params.logicalChannelConfig.bucketSizeDurationMs;
1400 
1401     \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}[params.drbid] = rlcInfo; \textcolor{comment}{//TODO add assert }
1402 
1403     \textcolor{comment}{// callback to notify the BearerConnector that new rlcs are available}
1404     \hyperlink{classns3_1_1UeManager_a1fd26ae2275ed93d13fefd27d1b89307}{m\_secondaryRlcCreatedTrace}(\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId, 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1405 
1406     \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state} != \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{HANDOVER\_JOINING}) \textcolor{comment}{// when performing a secondary cell HO do not
       ack the LTE eNB}
1407     \{
1408       \textcolor{comment}{// Ack the LTE BS, that will trigger the setup in the UE}
1409       EpcX2Sap::UeDataParams ackParams;
1410       ackParams.sourceCellId = params.targetCellId;
1411       ackParams.targetCellId = params.sourceCellId;
1412       ackParams.gtpTeid = params.gtpTeid;  
1413       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendRlcSetupCompleted(ackParams);
1414     \} 
1415   \}
1416   \textcolor{keywordflow}{else}
1417   \{
1418     \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR}(\textcolor{stringliteral}{"This is not a MC device"});
1419   \}
1420 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 36


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Rrc\+Connection\+Reconfiguration\+Completed@{Recv\+Rrc\+Connection\+Reconfiguration\+Completed}}
\index{Recv\+Rrc\+Connection\+Reconfiguration\+Completed@{Recv\+Rrc\+Connection\+Reconfiguration\+Completed}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Rrc\+Connection\+Reconfiguration\+Completed(\+Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reconfiguration\+Completed msg)}{RecvRrcConnectionReconfigurationCompleted(LteRrcSap::RrcConnectionReconfigurationCompleted msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Rrc\+Connection\+Reconfiguration\+Completed (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reconfiguration\+Completed}}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a767171084a3ea38162758d145b705e2a}{}\label{classns3_1_1UeManager_a767171084a3ea38162758d145b705e2a}


Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_a551d1002a06181295debe624dfd1322b}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Rrc\+Connection\+Reconfiguration\+Completed} interface. 


\begin{DoxyCode}
1608 \{
1609   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this}<<\hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString}(\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1610   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
1611     \{
1612     
1613     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a263ff177d041c66b6a07b69e2be5562e}{MC\_CONNECTION\_RECONFIGURATION}: \textcolor{comment}{//second callll sjkang1016 or first
       order}
1614           \textcolor{comment}{// cycle on the MC bearers and perform switch to MmWave connection}
1615       \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it =  
      \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
1616            it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
1617            ++it)
1618         \{
1619           \textcolor{keywordflow}{if}(it->second->m\_isMc)
1620           \{
1621             \textcolor{keywordtype}{bool} useMmWaveConnection = \textcolor{keyword}{true};
1622             Ptr<McEnbPdcp> pdcp = DynamicCast<McEnbPdcp>(it->second->m\_pdcp);
1623             \textcolor{keywordflow}{if}(pdcp != 0)
1624             \{
1625               pdcp->SwitchConnection(useMmWaveConnection);
1626               \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lastMmWaveCell[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId};
1627               \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \textcolor{keyword}{true};
1628               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Imsi "} << \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi} << \textcolor{stringliteral}{" m\_mmWaveCellSetupCompleted set to "} << 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] << 
1629                 \textcolor{stringliteral}{" for cell "} <<  \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lastMmWaveCell[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}]);
1630               \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_imsiUsingLte[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \textcolor{keyword}{false};
1631               \hyperlink{classns3_1_1UeManager_acfe070a93481248c1d2624f02a448a34}{ForwardRlcBuffers}(it->second->m\_rlc, pdcp, it->second->m\_gtpTeid, 1, 0, it->
      first); \textcolor{comment}{//sjkang1111}
1632 
1633             \textcolor{comment}{//  ForwardRlcBuffers(it->second->m\_rlc, pdcp, it->second->m\_gtpTeid, 0, 0, it->first);
       //sjkang1111}
1634             \textcolor{comment}{//  ForwardRlcBuffers(it->second->m\_rlc, pdcp, it->second->m\_gtpTeid, 0, 1, it->first);
       //sjkang1111}
1635 
1636             \}     
1637             \textcolor{keywordflow}{else}
1638             \{
1639               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR}(\textcolor{stringliteral}{"A device defined as MC has not a McEnbPdcp"});
1640             \}
1641           \}
1642         \}
1643     \textcolor{comment}{// no break so that also the CONNECTION\_RECONFIGURATION code is executed}
1644     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808abd13cee86acc2cb3c04241dec919c73f}{CONNECTION\_RECONFIGURATION}:  \textcolor{comment}{//first calll sjkang1016 or second order
       following MC\_}
1645       \hyperlink{classns3_1_1UeManager_ad03d22d27261b89b6b575e16b5855bd5}{StartDataRadioBearers} ();  \textcolor{comment}{//start radio bearers}
1646       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UeManager_a2c655c5f3f0bdb4953405734118770df}{m\_needPhyMacConfiguration})
1647       \{
1648         \textcolor{comment}{// configure MAC (and scheduler)}
1649         LteEnbCmacSapProvider::UeConfig req;
1650         req.m\_rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1651         req.m\_transmissionMode = \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.
      \hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ae7fc9e40e971e9bdaf9f06e3a0ca9a56}{antennaInfo}.\hyperlink{structns3_1_1LteRrcSap_1_1AntennaInfoDedicated_af0565283e3839265f42c75c9f5b37c8c}{transmissionMode};
1652         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->UeUpdateConfigurationReq (req);
1653 
1654         \textcolor{comment}{// configure PHY}
1655         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cphySapProvider->SetTransmissionMode (req.m\_rnti, req.m\_transmissionMode);
1656 
1657         \textcolor{keywordtype}{double} paDouble = \hyperlink{classns3_1_1LteRrcSap_add6ee85098c06eeb3267175c4628a03a}{LteRrcSap::ConvertPdschConfigDedicated2Double}
       (\hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_a17e35740747a19ce9aebf834f50c2f4b}{pdschConfigDedicated});
1658         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cphySapProvider->SetPa (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, paDouble);
1659 
1660         \hyperlink{classns3_1_1UeManager_a2c655c5f3f0bdb4953405734118770df}{m\_needPhyMacConfiguration} = \textcolor{keyword}{false};
1661       \}
1662       \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_ad0ab1d98110575774a2d4da876878ad2}{m\_mmWaveCellAvailableForMcSetup}) \textcolor{comment}{//sjkang???}
1663       \{
1664         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Notify the secondary cell that some bearers' RLC can be setup"});
1665         std::cout<< \textcolor{stringliteral}{"LteEnbRrc:: Notify the sceond cell "} << 
      \hyperlink{classns3_1_1UeManager_ad0ab1d98110575774a2d4da876878ad2}{m\_mmWaveCellAvailableForMcSetup}<<std::endl;
1666         \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG}((\hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId}!=0) && (
      \hyperlink{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}{m\_mmWaveRnti}!=0), \textcolor{stringliteral}{"Unkonwn secondary MmWave cell"});
1667         \hyperlink{classns3_1_1UeManager_a98a8c4fbacd2bbe62487e9ef228a0517}{RecvRrcSecondaryCellInitialAccessSuccessful}(
      \hyperlink{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}{m\_mmWaveRnti}, \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId}); 
1668       \}
1669       \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_add440b9081bc11490fc5b7cf72c45115}{m\_receivedLteMmWaveHandoverCompleted})
1670       \{
1671         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Notify LteEnbRrc that LTE cell received a NotifyLteMmWaveHandoverCompleted
       and has completed CONNECTION\_RECONFIGURATION"});
1672         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted.find(\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second = \textcolor{keyword}{true};
1673         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_imsiUsingLte.find(\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second = \textcolor{keyword}{true};
1674       \}
1675 
1676       \textcolor{comment}{// for IA on LTE eNB, need to wait for CONNECTION\_RECONF to be completed and a bearer to be setup}
1677       \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_interRatHoMode && \hyperlink{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}{m\_firstConnection} && !
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave)
1678       \{
1679         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \textcolor{keyword}{true};
1680         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lastMmWaveCell[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId;
1681         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_imsiUsingLte[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \textcolor{keyword}{true}; \textcolor{comment}{// the inital connection happened on a LTE eNB}
1682         \hyperlink{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}{m\_firstConnection} = \textcolor{keyword}{false};
1683       \}
1684 
1685       \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY});
1686       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"m\_queuedHandoverRequestCellId "} << 
      \hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId});
1687       \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId} > 0)
1688       \{
1689         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Call the postponed PrepareHandover to cell "} << 
      \hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId});
1690         \hyperlink{classns3_1_1UeManager_a1d842520ee54f281ee7eefc2a62f7844}{PrepareHandover}(\hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId});
1691         std::cout << \hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId} << \textcolor{stringliteral}{"sjkang1021 "} <<
      std::endl;
1692       \}
1693       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_connectionReconfigurationTrace (\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId, 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1694       \textcolor{keywordflow}{break};
1695 
1696     \textcolor{comment}{// This case is added to NS-3 in order to handle bearer de-activation scenario for CONNECTED state UE}
1697     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY}:
1698       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"ignoring RecvRrcConnectionReconfigurationCompleted in state "} << 
      \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1699       \textcolor{keywordflow}{break};
1700 
1701     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{HANDOVER\_LEAVING}:
1702       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"ignoring RecvRrcConnectionReconfigurationCompleted in state "} << 
      \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1703       \textcolor{keywordflow}{break};
1704 
1705     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{HANDOVER\_JOINING}:
1706       \{
1707         \hyperlink{classns3_1_1UeManager_a441fc4eda92a15be344d70b7039dacd4}{m\_handoverJoiningTimeout}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
1708         \textcolor{keywordflow}{if}(!\hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc})
1709         \{
1710           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Send PATH SWITCH REQUEST to the MME"});
1711           EpcEnbS1SapProvider::PathSwitchRequestParameters params;
1712           params.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1713           params.cellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId;
1714           params.mmeUeS1Id = \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi};
1715           \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a66ee8994a912a463763b439ac0f158f2}{HANDOVER\_PATH\_SWITCH});
1716           \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it =  
      \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
1717              it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
1718              ++it)
1719           \{
1720             EpcEnbS1SapProvider::BearerToBeSwitched \hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b};
1721             b.epsBearerId = it->second->m\_epsBearerIdentity;
1722             b.teid =  it->second->m\_gtpTeid;
1723             params.bearersToBeSwitched.push\_back (b);
1724           \}
1725         
1726           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_s1SapProvider->PathSwitchRequest (params);
1727         \}
1728         \textcolor{keywordflow}{else}
1729         \{
1730           \textcolor{comment}{// Send "path switch to the LTE eNB"}
1731           \textcolor{comment}{// The context release will be sent by the LTE eNB}
1732           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"RRC Reconfiguration completed after secondary cell HO: send path switch
       to LTE coordinator"});
1733           EpcX2Sap::SecondaryHandoverCompletedParams params;
1734           params.mmWaveRnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1735           params.oldEnbUeX2apId = \hyperlink{classns3_1_1UeManager_aec435692a673cd55353a2bb258d5f487}{m\_sourceX2apId};
1736           params.imsi = \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi};
1737           params.cellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lteCellId; \textcolor{comment}{// just a placeholder to find the correct X2 socket in
       EpcX2}
1738           \textcolor{comment}{// Notify the LTE eNB}
1739           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_handoverEndOkTrace (\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId, 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1740           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendSecondaryCellHandoverCompleted(params);
1741           \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState}(\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY});
1742           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"m\_queuedHandoverRequestCellId "} << 
      \hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId});
1743           \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId} > 0)
1744           \{
1745             \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Call the postponed PrepareHandover to cell "} << 
      \hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId});
1746             \hyperlink{classns3_1_1UeManager_a1d842520ee54f281ee7eefc2a62f7844}{PrepareHandover}(\hyperlink{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{m\_queuedHandoverRequestCellId});
1747           \}
1748         \}
1749       \}
1750       \textcolor{keywordflow}{break};
1751 
1752     \textcolor{keywordflow}{default}:
1753       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method unexpected in state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1754       \textcolor{keywordflow}{break};
1755     \}
1756 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 37


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Rrc\+Connection\+Reestablishment\+Complete@{Recv\+Rrc\+Connection\+Reestablishment\+Complete}}
\index{Recv\+Rrc\+Connection\+Reestablishment\+Complete@{Recv\+Rrc\+Connection\+Reestablishment\+Complete}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Rrc\+Connection\+Reestablishment\+Complete(\+Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reestablishment\+Complete msg)}{RecvRrcConnectionReestablishmentComplete(LteRrcSap::RrcConnectionReestablishmentComplete msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Rrc\+Connection\+Reestablishment\+Complete (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reestablishment\+Complete}}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_ac37bbe0bc63e4fd32c098df8c2f531b8}{}\label{classns3_1_1UeManager_ac37bbe0bc63e4fd32c098df8c2f531b8}


Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_a45f6b371cbc613840cdc2c950768201f}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Rrc\+Connection\+Reestablishment\+Complete} interface. 


\begin{DoxyCode}
1785 \{
1786   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1787   \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY});
1788 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 38


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Rrc\+Connection\+Reestablishment\+Request@{Recv\+Rrc\+Connection\+Reestablishment\+Request}}
\index{Recv\+Rrc\+Connection\+Reestablishment\+Request@{Recv\+Rrc\+Connection\+Reestablishment\+Request}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Rrc\+Connection\+Reestablishment\+Request(\+Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reestablishment\+Request msg)}{RecvRrcConnectionReestablishmentRequest(LteRrcSap::RrcConnectionReestablishmentRequest msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Rrc\+Connection\+Reestablishment\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Reestablishment\+Request}}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a02513c99e18c815fc58a05e4b135ecfa}{}\label{classns3_1_1UeManager_a02513c99e18c815fc58a05e4b135ecfa}


Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_a205d3d264d52fa434896589d48d8210e}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Rrc\+Connection\+Reestablishment\+Request} interface. 


\begin{DoxyCode}
1760 \{
1761   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1762   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
1763     \{
1764     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY}:
1765       \textcolor{keywordflow}{break};
1766 
1767     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{HANDOVER\_LEAVING}:
1768       \hyperlink{classns3_1_1UeManager_aebe46172b4387024c856c6917b5e2d6b}{m\_handoverLeavingTimeout}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
1769       \textcolor{keywordflow}{break};
1770 
1771     \textcolor{keywordflow}{default}:
1772       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method unexpected in state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1773       \textcolor{keywordflow}{break};
1774     \}
1775 std::cout << \textcolor{stringliteral}{"Enb receive rrc connection reestablishment -----> "}<< \hyperlink{classns3_1_1UeManager_a9609913bb407b13da17a55d9013e8e10}{GetImsi}() << std::endl;
1776   LteRrcSap::RrcConnectionReestablishment msg2;
1777   msg2.rrcTransactionIdentifier = \hyperlink{classns3_1_1UeManager_a87e1b280b80dbd9e1aa0f91994882057}{GetNewRrcTransactionIdentifier} ();
1778   msg2.radioResourceConfigDedicated = \hyperlink{classns3_1_1UeManager_ad5933233e726bf7443714ecb261358f0}{BuildRadioResourceConfigDedicated} ()
      ;
1779   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SendRrcConnectionReestablishment (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, msg2);
1780   \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2e74c6adfadd2e6826deb4fec7e94520}{CONNECTION\_REESTABLISHMENT});
1781 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 39


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Rrc\+Connection\+Request@{Recv\+Rrc\+Connection\+Request}}
\index{Recv\+Rrc\+Connection\+Request@{Recv\+Rrc\+Connection\+Request}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Rrc\+Connection\+Request(\+Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Request msg)}{RecvRrcConnectionRequest(LteRrcSap::RrcConnectionRequest msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Rrc\+Connection\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Request}}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_af0959818ae542240ccf1caa2b3da19ab}{}\label{classns3_1_1UeManager_af0959818ae542240ccf1caa2b3da19ab}


Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_a6a49a245760fe748a1e959e92c9cc313}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Rrc\+Connection\+Request} interface. 

R\+RC index 
\begin{DoxyCode}
1447 \{
1448   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this}<<\textcolor{stringliteral}{"lte-enb-rrc::UeManager"}<< \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString}(
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1449   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
1450     \{
1451     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a6e92e7eaed87665e012ff9c3a4a9e4d3}{INITIAL\_RANDOM\_ACCESS}:
1452       \{
1453         \hyperlink{classns3_1_1UeManager_a85948121037b466cea1baa6a51273def}{m\_connectionRequestTimeout}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
1454         \hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc} = msg.isMc; \textcolor{comment}{//m\_isMc Setting}
1455         \hyperlink{classns3_1_1UeManager_a1ff2a09ff4ed22e06fc86cb5ae614c83}{m\_isMc\_2}= msg.isMc\_2;
1456         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_admitRrcConnectionRequest == \textcolor{keyword}{true})
1457           \{
1458             \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi} = msg.ueIdentity;
1459             \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->RegisterImsiToRnti(\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}, \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1460             \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \textcolor{keyword}{false};
1461             \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"For imsi "} << \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi} << \textcolor{stringliteral}{"
       m\_rrc->m\_mmWaveCellSetupCompleted[m\_imsi] "} << \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}]);
1462             \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1UeManager_a1ff2a09ff4ed22e06fc86cb5ae614c83}{m\_isMc\_2} && !\hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc} && \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_s1SapProvider != 0)
1463               \{
1464                 \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_s1SapProvider->InitialUeMessage (\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}, 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1465               \}
1466 
1467             \textcolor{comment}{// send RRC CONNECTION SETUP to UE}
1468             LteRrcSap::RrcConnectionSetup msg2;
1469             msg2.rrcTransactionIdentifier = \hyperlink{classns3_1_1UeManager_a87e1b280b80dbd9e1aa0f91994882057}{GetNewRrcTransactionIdentifier} ()
      ;  
1470             msg2.radioResourceConfigDedicated = 
      \hyperlink{classns3_1_1UeManager_ad5933233e726bf7443714ecb261358f0}{BuildRadioResourceConfigDedicated} ();
1471             \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SendRrcConnectionSetup (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, msg2);
1472 
1473             \hyperlink{classns3_1_1UeManager_a104d92b26b4b7fe93099d74080f62ae3}{RecordDataRadioBearersToBeStarted} ();
1474             \hyperlink{classns3_1_1UeManager_afa30ea647e5d93b6c58d46b92e681044}{m\_connectionSetupTimeout} = 
      \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
1475                 \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_connectionSetupTimeoutDuration,
1476                 &\hyperlink{classns3_1_1LteEnbRrc_ac0af0fbbf09bc66c0ebd5be00c69aa7c}{LteEnbRrc::ConnectionSetupTimeout}, 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}, \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1477             \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a54b5e529e9da2b99970d8939dbd9832e}{CONNECTION\_SETUP});
1478             std::cout << \textcolor{stringliteral}{"Enb "} <<\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId()<<\textcolor{stringliteral}{" receives RRC connection request from UE "}<< 
      \hyperlink{classns3_1_1UeManager_a9609913bb407b13da17a55d9013e8e10}{GetImsi}() <<std::endl;
1479 
1480           \}
1481         \textcolor{keywordflow}{else}
1482           \{
1483             \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"rejecting connection request for RNTI "} << 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1484 
1485             \textcolor{comment}{// send RRC CONNECTION REJECT to UE}
1486             LteRrcSap::RrcConnectionReject rejectMsg;
1487             rejectMsg.waitTime = 3;
1488             \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SendRrcConnectionReject (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, rejectMsg);
1489 
1490             \hyperlink{classns3_1_1UeManager_a7071fcda6f71ed8382ae0144cfe61692}{m\_connectionRejectedTimeout} = 
      \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
1491                 \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_connectionRejectedTimeoutDuration,
1492                 &\hyperlink{classns3_1_1LteEnbRrc_accc2939d256646bf19abd915f13c0d68}{LteEnbRrc::ConnectionRejectedTimeout}, 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}, \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1493             std::cout << \textcolor{stringliteral}{"enb will change its state as Connection reject"} << std::endl;
1494             \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a401670e622ea15128374d56a887e602f}{CONNECTION\_REJECTED});
1495           \}
1496       \}
1497       \textcolor{keywordflow}{break};
1498 
1499     \textcolor{keywordflow}{default}:
1500       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method unexpected in state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1501       \textcolor{keywordflow}{break};
1502     \}
1503 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 40


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Rrc\+Connection\+Setup\+Completed@{Recv\+Rrc\+Connection\+Setup\+Completed}}
\index{Recv\+Rrc\+Connection\+Setup\+Completed@{Recv\+Rrc\+Connection\+Setup\+Completed}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Rrc\+Connection\+Setup\+Completed(\+Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Setup\+Completed msg)}{RecvRrcConnectionSetupCompleted(LteRrcSap::RrcConnectionSetupCompleted msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Rrc\+Connection\+Setup\+Completed (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Rrc\+Sap\+::\+Rrc\+Connection\+Setup\+Completed}}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a603086a2beb1901cad3f30c6bfd32544}{}\label{classns3_1_1UeManager_a603086a2beb1901cad3f30c6bfd32544}


Part of the R\+RC protocol. Implement the \hyperlink{classns3_1_1LteEnbRrcSapProvider_aa167fea38bb3d88f6c87a4fbfbb2669e}{Lte\+Enb\+Rrc\+Sap\+Provider\+::\+Recv\+Rrc\+Connection\+Setup\+Completed} interface. 

backhaul L\+TE cell\+ID

backhaul L\+TE cell\+ID 
\begin{DoxyCode}
1507 \{
1508   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1509   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
1510     \{
1511     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a54b5e529e9da2b99970d8939dbd9832e}{CONNECTION\_SETUP}:
1512       \hyperlink{classns3_1_1UeManager_afa30ea647e5d93b6c58d46b92e681044}{m\_connectionSetupTimeout}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
1513       \hyperlink{classns3_1_1UeManager_ad03d22d27261b89b6b575e16b5855bd5}{StartDataRadioBearers} ();
1514       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"m\_firstConnection "} << \hyperlink{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}{m\_firstConnection});
1515       \textcolor{comment}{// for only handover}
1516       \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}{m\_firstConnection} && \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave)
1517       \{
1518        \textcolor{comment}{//std::cout<<"LteEnbRrc :: happen handover to mmWave Enb from Lte enbl"<<std::endl;}
1519          \hyperlink{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}{m\_firstConnection} = \textcolor{keyword}{false};
1520         EpcX2Sap::SecondaryHandoverParams params;
1521         params.oldCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lteCellId;
1522         params.targetCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId;
1523         params.imsi = \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi};
1524         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->NotifyLteMmWaveHandoverCompleted(params);
1525       \} \textcolor{comment}{//for initial connection to LTE}
1526       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}{m\_firstConnection} && !\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave)
1527       \{
1528         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \textcolor{keyword}{false};
1529         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lastMmWaveCell[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId;
1530         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_imsiUsingLte[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \textcolor{keyword}{true}; \textcolor{comment}{// the inital connection happened on a LTE eNB}
1531       \}
1532       \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY});
1533       \textcolor{comment}{// reply to the UE with a command to connect to the best MmWave eNB}
1534       \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_bestMmWaveCellForImsiMap[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] != \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId() && !
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave)
1535       \{ 
1536         uint16\_t maxSinrCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_bestMmWaveCellForImsiMap[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}];
1537         \textcolor{comment}{// get the SINR}
1538         \textcolor{keywordtype}{double} maxSinrDb = 10*std::log10(\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_imsiCellSinrMap.find(
      \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second.find(maxSinrCellId)->second);
1539         \textcolor{keywordflow}{if}(maxSinrDb > \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_outageThreshold)
1540         \{
1541           \textcolor{comment}{// there is a MmWave cell to which the UE can connect}
1542           \textcolor{comment}{// send the connection message, then, if capable, the UE will connect }
1543           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Send connect to "} << \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_bestMmWaveCellForImsiMap.find(
      \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second << \textcolor{stringliteral}{" at least one mmWave eNB is not in outage"});
1544          \textcolor{comment}{// std::cout << "LteEnbRrc :: Try to connect to mmWave cell" <<std::endl; //sjkang}
1545           std::cout << \textcolor{stringliteral}{"Enb receives RRC connection setup completed message from UE "}
1546                           << \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}<<\textcolor{stringliteral}{", then first connection mmwave cellID is "}<< 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_bestMmWaveCellForImsiMap.find(\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second
1547                           <<std::endl;
1548           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SendRrcConnectToMmWave (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->
      m\_bestMmWaveCellForImsiMap.find(\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second);\textcolor{comment}{//sjkang1015}
1549 
1550           EpcX2SapProvider::UeImsiSinrParams params; \textcolor{comment}{//sjkang1015}
1551               params.targetCellId =\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_bestMmWaveCellForImsiMap.find(
      \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second ; 
1552               params.sourceCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetLteCellId(); \textcolor{comment}{// LTE cellID}
1553               params.secondBestCellId =\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_secondMmWaveCellForImsiMap.find(
      \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second;
1554               \textcolor{comment}{//params.ueImsiSinrMap = m\_ueImsiSinrMap;}
1555               std::cout<< \textcolor{stringliteral}{"LTE eNB "} << params.sourceCellId<< \textcolor{stringliteral}{" will send  second best mmWave "}<<
1556                           params.secondBestCellId<< \textcolor{stringliteral}{" of UE "} << \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi} <<\textcolor{stringliteral}{" to first mmwave eNB "}<<
      params.targetCellId<<std::endl;
1557               \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_firstCellId=\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_bestMmWaveCellForImsiMap.find(
      \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second;
1558               \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetEpcX2SapProvider()->SendUeSinrUpdate (params);
1559 
1560         \}
1561         \textcolor{keywordflow}{else}
1562         \{
1563           \textcolor{comment}{//TODO}
1564           \hyperlink{classns3_1_1UeManager_a311e1518759c74a51cbc56c568488ca1}{m\_allMmWaveInOutageAtInitialAccess} = \textcolor{keyword}{true};
1565           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_imsiUsingLte[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \textcolor{keyword}{true};
1566         \} 
1567       \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->isAdditionalMmWave)\{ \textcolor{comment}{//sjkang in mmWave Rrc}
1568 
1569                       EpcX2SapProvider::UeImsiSinrParams params; \textcolor{comment}{//sjkang1015}
1570                       params.targetCellId =\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetLteCellId() ; 
1571                       params.sourceCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetImsiFromRnti(\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}); \textcolor{comment}{// UE's imsi}
1572                       params.secondBestCellId =\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1573                       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetEpcX2SapProvider()->SendUeSinrUpdate (params);
1574                       std::cout << \textcolor{stringliteral}{"First best mmWave eNB "} << \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId() << \textcolor{stringliteral}{" will send rnti 
      "} <<\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}<< \textcolor{stringliteral}{" info of UE "}
1575                                   << \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetImsiFromRnti(\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti})<<\textcolor{stringliteral}{" to LTE eNB"}<<std::endl; \textcolor{comment}{
      //sjkang}
1576 
1577                       \textcolor{comment}{//params.ueImsiSinrMap = m\_ueImsiSinrMap;}
1578                       \textcolor{comment}{//std::cout<< " will send message to mmWave sjkang1015" <<std::endl;}
1579          \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UeManager_a1ff2a09ff4ed22e06fc86cb5ae614c83}{m\_isMc\_2})\{
1580          \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SendRrcConnectToMmWave (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->secondBestCellId); \textcolor{comment}{//
      sjkang1015}
1581          std::cout << \textcolor{stringliteral}{"first best mmWave eNB is connected with UE "} << \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi} <<\textcolor{stringliteral}{" (rnti is "} <<
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}<<\textcolor{stringliteral}{" )"}
1582                                   <<std::endl;
1583                          \}
1584       \}
1585       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_connectionEstablishedTrace (\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId, 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1586       \textcolor{keywordflow}{break};
1587 
1588     \textcolor{keywordflow}{default}:
1589       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method unexpected in state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1590       \textcolor{keywordflow}{break};
1591     \}
1592 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 41


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Rrc\+Secondary\+Cell\+Initial\+Access\+Successful@{Recv\+Rrc\+Secondary\+Cell\+Initial\+Access\+Successful}}
\index{Recv\+Rrc\+Secondary\+Cell\+Initial\+Access\+Successful@{Recv\+Rrc\+Secondary\+Cell\+Initial\+Access\+Successful}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Rrc\+Secondary\+Cell\+Initial\+Access\+Successful(uint16\+\_\+t mm\+Wave\+Rnti, uint16\+\_\+t mm\+Wave\+Cell\+Id)}{RecvRrcSecondaryCellInitialAccessSuccessful(uint16_t mmWaveRnti, uint16_t mmWaveCellId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Rrc\+Secondary\+Cell\+Initial\+Access\+Successful (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{mm\+Wave\+Rnti, }
\item[{uint16\+\_\+t}]{mm\+Wave\+Cell\+Id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a98a8c4fbacd2bbe62487e9ef228a0517}{}\label{classns3_1_1UeManager_a98a8c4fbacd2bbe62487e9ef228a0517}

\begin{DoxyCode}
1840 \{
1841   \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId} = mmWaveCellId;
1842   \hyperlink{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}{m\_mmWaveRnti} = mmWaveRnti;
1843   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION}(\textcolor{keyword}{this});
1844   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Map size "} << \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.size());
1845 
1846   \textcolor{comment}{// If the Map size is > 0 (Bearers already setup in the LTE cell) perform this action}
1847   \textcolor{comment}{// immediately, otherwise wait for the InitialContextSetupResponse in EpcEnbApplication}
1848 
1849   \textcolor{comment}{// that calls DataRadioBearerSetupRequest}
1850   \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.size() == 0)  \textcolor{comment}{//sjkang1016}
1851   \{
1852     \hyperlink{classns3_1_1UeManager_ad0ab1d98110575774a2d4da876878ad2}{m\_mmWaveCellAvailableForMcSetup} = \textcolor{keyword}{true};
1853     std::cout << \textcolor{stringliteral}{"Postpone RLC setup in the secondary cell since no bearers are yet available"} <<std::endl;
       \textcolor{comment}{//sjkang1113}
1854     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Postpone RLC setup in the secondary cell since no bearers are yet available"});
1855     \textcolor{keywordflow}{return};
1856   \}
1857   \textcolor{keywordflow}{else}
1858   \{
1859     \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = 
      \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
1860        it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
1861        ++it)
1862     \{
1863       \textcolor{keywordflow}{if}(!(it->second->m\_isMc) || (it->second->m\_isMc && \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lastMmWaveCell.find(
      \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second != \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId}))
1864       \{
1865           Ptr<McEnbPdcp> pdcp = DynamicCast<McEnbPdcp> (it->second->m\_pdcp); \textcolor{comment}{//before running this line,
       lte enb will send data sjkang1113}
1866 
1867         \textcolor{keywordflow}{if} (pdcp != 0)
1868         \{
1869           \textcolor{comment}{// Get the EPC X2 and set it in the PDCP}
1870                  std::cout << \textcolor{stringliteral}{"MC Enb PDCP will forward packets to two target eNBs"} <<std::endl;
1871 
1872           pdcp->SetEpcX2PdcpProvider(\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetEpcX2PdcpProvider());
1873           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetX2()->SetEpcX2PdcpUser(pdcp->GetEpcX2PdcpUser()); \textcolor{comment}{//sjkang1114 //sjkang1115}
1874        \textcolor{comment}{//   pdcp\_2->SetEpcX2PdcpProvider(m\_rrc->GetEpcX2PdcpProvider()); //sjkang1016}
1875 
1876           \textcolor{comment}{// Set UeDataParams}
1877           EpcX2Sap::UeDataParams params;
1878           params.sourceCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId();
1879           params.targetCellId = \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId};
1880           params.gtpTeid = it->second->m\_gtpTeid;
1881           pdcp->SetUeDataParams(params);
1882           pdcp->SetMmWaveRnti(mmWaveRnti);
1883 
1884           \textcolor{comment}{//sjkang1110 for setting mmWave cell IDs}
1885           pdcp->SetTargetCellIds(\hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_firstCellId, 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId()); \textcolor{comment}{//sjkang}
1886 
1887           \textcolor{comment}{// Setup TEIDs for receiving data eventually forwarded over X2-U}
1888           \textcolor{comment}{//sjkang1021}
1889           EpcX2Sap::UeDataParams params\_2;
1890              params\_2.sourceCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId();
1891              params\_2.targetCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_firstCellId;
1892              params\_2.gtpTeid = it->second->m\_gtpTeid;
1893          \textcolor{comment}{//    pdcp\_2->SetUeDataParams(params\_2);}
1894           \textcolor{comment}{//   pdcp\_2->SetMmWaveRnti(m\_rrc->m\_secondMmWave\_m\_rnti);}
1895 
1896           LteEnbRrc::X2uTeidInfo x2uTeidInfo;
1897           x2uTeidInfo.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1898           x2uTeidInfo.drbid = it->first;
1899           std::pair<std::map<uint32\_t, LteEnbRrc::X2uTeidInfo>::iterator, \textcolor{keywordtype}{bool}> ret;
1900           ret = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2uMcTeidInfoMap.insert (std::pair<uint32\_t, LteEnbRrc::X2uTeidInfo> (it->
      second->m\_gtpTeid, x2uTeidInfo));
1901           \textcolor{comment}{// NS\_ASSERT\_MSG (ret.second == true, "overwriting a pre-existing entry in m\_x2uMcTeidInfoMap");}
1902           \textcolor{comment}{// Setup McEpcX2PdcpUser}
1903           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SetEpcX2PdcpUser(it->second->m\_gtpTeid, pdcp->GetEpcX2PdcpUser());
1904 
1905         \textcolor{comment}{//  m\_rrc->m\_x2SapProvider->SetEpcX2PdcpUser\_2(it->second->m\_gtpTeid, pdcp->GetEpcX2PdcpUser());
       //sjkang1016}
1906 
1907           \textcolor{comment}{// Create a remote RLC, pass along the UeDataParams + mmWaveRnti}
1908           EpcX2SapProvider::RlcSetupRequest rlcParams = it->second->m\_rlcSetupRequest;
1909           rlcParams.targetCellId = \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId};
1910           rlcParams.mmWaveRnti = mmWaveRnti; \textcolor{comment}{// this is second connection rnti mmWave eNB allocates}
1911 
1912           EpcX2SapProvider::RlcSetupRequest rlcParams\_2 = it->second->m\_rlcSetupRequest; \textcolor{comment}{//sjkang1016}
1913            rlcParams\_2.targetCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_firstCellId; \textcolor{comment}{//this cellID is first connection mmWave
       cellID}
1914            rlcParams\_2.mmWaveRnti = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->ImsiTosecondCellRnti[\hyperlink{classns3_1_1UeManager_a9609913bb407b13da17a55d9013e8e10}{GetImsi}()]; \textcolor{comment}{//sjkang1016 this
       is first connection rnti of UE}
1915            \textcolor{comment}{// std::cout<< this<<}
1916           \textcolor{comment}{//    "received m\_rnti sjkang1016  -->" <<m\_rrc->ImsiTosecondCellRnti[GetImsi()]}
1917           \textcolor{comment}{//                                    <<"\(\backslash\)t" << m\_rrc->m\_firstCellId<< std::endl;}
1918          std::cout << \textcolor{stringliteral}{"LTE eNB receives UE "} << \hyperlink{classns3_1_1UeManager_a9609913bb407b13da17a55d9013e8e10}{GetImsi}()<<\textcolor{stringliteral}{"'s connection complete message with two
       mmWave eNBs :"}
1919                          <<\textcolor{stringliteral}{"UE's first and second best mmWave cellIDs are "} << 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_firstCellId  <<\textcolor{stringliteral}{","}<<\hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId}<< std::endl;
1920          std::cout << \textcolor{stringliteral}{"LTE eNB will start to send Rlc Setup Request Message to two mmWave eNBs"} <<std::endl
      ;
1921           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendRlcSetupRequest(rlcParams);
1922          \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendRlcSetupRequest(rlcParams\_2); \textcolor{comment}{//sjkang1016}
1923         \}
1924         \textcolor{keywordflow}{else}
1925         \{
1926           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR}(\textcolor{stringliteral}{"Trying to setup a MC device with a non MC capable PDCP"});
1927         \}  
1928       \}
1929       \textcolor{keywordflow}{else}
1930       \{
1931         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"MC Bearer already setup"}); \textcolor{comment}{// TODO consider bearer modifications}
1932       \}  
1933     \}
1934   \}
1935 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 42




Here is the caller graph for this function\+:
% FIG 43


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Secondary\+Cell\+Handover\+Completed@{Recv\+Secondary\+Cell\+Handover\+Completed}}
\index{Recv\+Secondary\+Cell\+Handover\+Completed@{Recv\+Secondary\+Cell\+Handover\+Completed}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Secondary\+Cell\+Handover\+Completed(\+Epc\+X2\+Sap\+User\+::\+Secondary\+Handover\+Completed\+Params params)}{RecvSecondaryCellHandoverCompleted(EpcX2SapUser::SecondaryHandoverCompletedParams params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Secondary\+Cell\+Handover\+Completed (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+X2\+Sap\+User\+::\+Secondary\+Handover\+Completed\+Params}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a0af234afe9ada00168893f4aab0c18f8}{}\label{classns3_1_1UeManager_a0af234afe9ada00168893f4aab0c18f8}
A Secondary\+Cell\+Handover\+Completed is received by the L\+TE e\+NB when the handover between 2 mm\+Wave e\+N\+Bs is completed. The L\+TE e\+NB has to update the information on the secondary cell and send the connection release to the source mm\+Wave e\+NB. 
\begin{DoxyCode}
1939 \{
1940   uint16\_t oldMmWaveCellId = \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId};
1941   \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId} = params.cellId;
1942   \hyperlink{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}{m\_mmWaveRnti} = params.mmWaveRnti;
1943 
1944   \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
1945      it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
1946      ++it)
1947   \{
1948     \textcolor{keywordflow}{if}(!(it->second->m\_isMc) || (it->second->m\_isMc && \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lastMmWaveCell.find(
      \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi})->second != \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId}))
1949     \{
1950       Ptr<McEnbPdcp> pdcp = DynamicCast<McEnbPdcp> (it->second->m\_pdcp); 
1951       \textcolor{keywordflow}{if} (pdcp != 0)
1952       \{
1953         \textcolor{comment}{// Updated UeDataParams in the PDCP instance}
1954         EpcX2Sap::UeDataParams params;
1955         params.sourceCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId();
1956         params.targetCellId = \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId};
1957         params.gtpTeid = it->second->m\_gtpTeid;
1958         pdcp->SetUeDataParams(params);
1959         pdcp->SetMmWaveRnti(\hyperlink{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}{m\_mmWaveRnti});
1960         \textcolor{comment}{// Update TEIDs for receiving data eventually forwarded over X2-U }
1961         LteEnbRrc::X2uTeidInfo x2uTeidInfo;
1962         x2uTeidInfo.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1963         x2uTeidInfo.drbid = it->first;
1964         std::pair<std::map<uint32\_t, LteEnbRrc::X2uTeidInfo>::iterator, \textcolor{keywordtype}{bool}> ret;
1965         ret = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2uMcTeidInfoMap.insert (std::pair<uint32\_t, LteEnbRrc::X2uTeidInfo> (it->
      second->m\_gtpTeid, x2uTeidInfo));
1966         \textcolor{comment}{// NS\_ASSERT\_MSG (ret.second == true, "overwriting a pre-existing entry in m\_x2uMcTeidInfoMap");}
1967         \textcolor{comment}{// Setup McEpcX2PdcpUser}
1968         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SetEpcX2PdcpUser(it->second->m\_gtpTeid, pdcp->GetEpcX2PdcpUser());
1969         \textcolor{comment}{// Remote RLC already setup}
1970 
1971         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lastMmWaveCell[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId};
1972         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \textcolor{keyword}{true};
1973         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Imsi "} << \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi} << \textcolor{stringliteral}{" m\_mmWaveCellSetupCompleted set to "} << 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_mmWaveCellSetupCompleted[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] << 
1974                 \textcolor{stringliteral}{" for cell "} <<  \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_lastMmWaveCell[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}]);
1975         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_imsiUsingLte[\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}] = \textcolor{keyword}{false};
1976 
1977         pdcp->SwitchConnection(\textcolor{keyword}{true}); \textcolor{comment}{// this is needed when an handover happens after coming back from
       outage}
1978       \}
1979       \textcolor{keywordflow}{else}
1980       \{
1981         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR}(\textcolor{stringliteral}{"Trying to update a MC device with a non MC capable PDCP"});
1982       \}  
1983     \}
1984     \textcolor{keywordflow}{else}
1985     \{
1986       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"No difference with the MC Bearer already defined"}); \textcolor{comment}{// TODO consider bearer
       modifications}
1987     \}  
1988   \}
1989 
1990   \textcolor{comment}{// send ContextRelease to the old mmWave eNB}
1991   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Send UE CONTEXT RELEASE from target eNB to source eNB"});
1992   EpcX2SapProvider::UeContextReleaseParams ueCtxReleaseParams;
1993   ueCtxReleaseParams.oldEnbUeX2apId = params.oldEnbUeX2apId;
1994   ueCtxReleaseParams.newEnbUeX2apId = \hyperlink{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}{m\_mmWaveRnti};
1995   ueCtxReleaseParams.sourceCellId = oldMmWaveCellId;
1996   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendUeContextRelease (ueCtxReleaseParams); 
1997 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Sn\+Status\+Transfer@{Recv\+Sn\+Status\+Transfer}}
\index{Recv\+Sn\+Status\+Transfer@{Recv\+Sn\+Status\+Transfer}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Sn\+Status\+Transfer(\+Epc\+X2\+Sap\+User\+::\+Sn\+Status\+Transfer\+Params params)}{RecvSnStatusTransfer(EpcX2SapUser::SnStatusTransferParams params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Sn\+Status\+Transfer (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+X2\+Sap\+User\+::\+Sn\+Status\+Transfer\+Params}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a5c5da485afc3315699f3ee3e8448aa09}{}\label{classns3_1_1UeManager_a5c5da485afc3315699f3ee3e8448aa09}
Take the necessary actions in response to the reception of an X2 SN S\+T\+A\+T\+US T\+R\+A\+N\+S\+F\+ER message


\begin{DoxyParams}{Parameters}
{\em params} & the SN S\+T\+A\+T\+US \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1268 \{
1269   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1270   \textcolor{keywordflow}{for} (std::vector<EpcX2Sap::ErabsSubjectToStatusTransferItem>::iterator erabIt 
1271          = params.erabsSubjectToStatusTransferList.begin ();
1272        erabIt != params.erabsSubjectToStatusTransferList.end ();
1273        ++erabIt)
1274     \{
1275        LtePdcp::Status status;
1276        status.txSn = erabIt->dlPdcpSn;
1277        status.rxSn = erabIt->ulPdcpSn;
1278         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"SN STATUS RECEIVED txSn, rxSn = "} << status.txSn << \textcolor{stringliteral}{","} << status.rxSn);
1279       \textcolor{comment}{// uint8\_t drbId = Bid2Drbid (erabIt->erabId);}
1280       \textcolor{comment}{// std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator drbIt = m\_drbMap.find (drbId);}
1281       \textcolor{comment}{// NS\_ASSERT\_MSG (drbIt != m\_drbMap.end (), "could not find DRBID " << (uint32\_t) drbId);}
1282       \textcolor{comment}{// drbIt->second->m\_pdcp->SetStatus (status);}
1283     \}
1284 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Recv\+Ue\+Context\+Release@{Recv\+Ue\+Context\+Release}}
\index{Recv\+Ue\+Context\+Release@{Recv\+Ue\+Context\+Release}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Recv\+Ue\+Context\+Release(\+Epc\+X2\+Sap\+User\+::\+Ue\+Context\+Release\+Params params)}{RecvUeContextRelease(EpcX2SapUser::UeContextReleaseParams params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Recv\+Ue\+Context\+Release (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+X2\+Sap\+User\+::\+Ue\+Context\+Release\+Params}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a09e6e92b47575fa170d0b0e4d149c31d}{}\label{classns3_1_1UeManager_a09e6e92b47575fa170d0b0e4d149c31d}
Take the necessary actions in response to the reception of an X2 UE C\+O\+N\+T\+E\+XT R\+E\+L\+E\+A\+SE message


\begin{DoxyParams}{Parameters}
{\em params} & the SN S\+T\+A\+T\+US \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1288 \{
1289   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1290   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state} == \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{HANDOVER\_LEAVING}, \textcolor{stringliteral}{"method unexpected in
       state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1291   \hyperlink{classns3_1_1UeManager_aebe46172b4387024c856c6917b5e2d6b}{m\_handoverLeavingTimeout}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
1292   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Remove UE "} << \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti} << \textcolor{stringliteral}{" from eNB "} << \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId);
1293   \textcolor{keywordflow}{if}(\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave && \hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc})
1294   \{
1295     \textcolor{keywordflow}{for} (std::map<uint8\_t, Ptr<RlcBearerInfo> >::iterator rlcIt = \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.begin(); rlcIt != 
      \hyperlink{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{m\_rlcMap}.end(); ++rlcIt)
1296     \{
1297       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Remove the X2 forward for TEID "} << rlcIt->second->gtpTeid);
1298       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->RemoveTeidToBeForwarded(rlcIt->second->gtpTeid);
1299     \}
1300   \}
1301 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 44


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Release\+Data\+Radio\+Bearer@{Release\+Data\+Radio\+Bearer}}
\index{Release\+Data\+Radio\+Bearer@{Release\+Data\+Radio\+Bearer}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Release\+Data\+Radio\+Bearer(uint8\+\_\+t drbid)}{ReleaseDataRadioBearer(uint8_t drbid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Release\+Data\+Radio\+Bearer (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{drbid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_ac36c73f6adf01f326765766bc1d7393a}{}\label{classns3_1_1UeManager_ac36c73f6adf01f326765766bc1d7393a}
Release a given radio bearer


\begin{DoxyParams}{Parameters}
{\em drbid} & the data radio bearer id of the bearer to be released \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
545 \{
546 std::cout << \textcolor{stringliteral}{"Enb release data radion bearers  "} <<std::endl;
547         \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint32\_t) \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti} << (uint32\_t) drbid);
548   uint8\_t lcid = \hyperlink{classns3_1_1UeManager_af0ba90c3b4fe3300796ffc03de328f73}{Drbid2Lcid} (drbid);
549   std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.find (drbid);
550   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end (), \textcolor{stringliteral}{"request to remove radio bearer with unknown
       drbid "} << drbid);
551 
552   \textcolor{comment}{// first delete eventual X2-U TEIDs}
553   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2uTeidInfoMap.erase (it->second->m\_gtpTeid);
554 
555   \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.erase (it);
556   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->ReleaseLc (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, lcid);
557 
558   LteRrcSap::RadioResourceConfigDedicated rrcd;
559   rrcd.havePhysicalConfigDedicated = \textcolor{keyword}{false};
560   rrcd.drbToReleaseList.push\_back (drbid);
561   \textcolor{comment}{//populating RadioResourceConfigDedicated information element as per 3GPP TS 36.331 version 9.2.0}
562   rrcd.havePhysicalConfigDedicated = \textcolor{keyword}{true};
563   rrcd.physicalConfigDedicated = \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated};
564  
565   \textcolor{comment}{//populating RRCConnectionReconfiguration message as per 3GPP TS 36.331 version 9.2.0 Release 9}
566   LteRrcSap::RrcConnectionReconfiguration msg;
567   msg.haveMeasConfig = \textcolor{keyword}{false};
568   msg.haveMobilityControlInfo = \textcolor{keyword}{false};
569   msg.radioResourceConfigDedicated = rrcd;
570   msg.haveRadioResourceConfigDedicated = \textcolor{keyword}{true};
571   \textcolor{comment}{//RRC Connection Reconfiguration towards UE}
572   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SendRrcConnectionReconfiguration (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, msg);
573 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 45


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Remove\+Data\+Radio\+Bearer\+Info@{Remove\+Data\+Radio\+Bearer\+Info}}
\index{Remove\+Data\+Radio\+Bearer\+Info@{Remove\+Data\+Radio\+Bearer\+Info}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Remove\+Data\+Radio\+Bearer\+Info(uint8\+\_\+t drbid)}{RemoveDataRadioBearerInfo(uint8_t drbid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Remove\+Data\+Radio\+Bearer\+Info (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{drbid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a73a1be128d8e48154fcb9a9ef3c742ec}{}\label{classns3_1_1UeManager_a73a1be128d8e48154fcb9a9ef3c742ec}
remove the \hyperlink{classns3_1_1LteDataRadioBearerInfo}{Lte\+Data\+Radio\+Bearer\+Info} corresponding to a bearer being released


\begin{DoxyParams}{Parameters}
{\em drbid} & the Data Radio Bearer id \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2271 \{
2272   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint32\_t) drbid);
2273   std::cout<< \textcolor{stringliteral}{"Remove data Radio Bearer Info ------->  "} << \hyperlink{classns3_1_1UeManager_a9609913bb407b13da17a55d9013e8e10}{GetImsi}() <<std::endl;
2274   std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.find (drbid);
2275   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end (), \textcolor{stringliteral}{"request to remove radio bearer with unknown
       drbid "} << drbid);
2276   \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.erase (it);
2277 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 46


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Schedule\+Rrc\+Connection\+Reconfiguration@{Schedule\+Rrc\+Connection\+Reconfiguration}}
\index{Schedule\+Rrc\+Connection\+Reconfiguration@{Schedule\+Rrc\+Connection\+Reconfiguration}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Schedule\+Rrc\+Connection\+Reconfiguration()}{ScheduleRrcConnectionReconfiguration()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Schedule\+Rrc\+Connection\+Reconfiguration (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_add763d882c14c2f1414167668f6ca095}{}\label{classns3_1_1UeManager_add763d882c14c2f1414167668f6ca095}
schedule an R\+RC Connection Reconfiguration procedure with the UE 
\begin{DoxyCode}
587 \{
588   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString}(\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
589   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
590     \{
591     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a6e92e7eaed87665e012ff9c3a4a9e4d3}{INITIAL\_RANDOM\_ACCESS}:
592     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a54b5e529e9da2b99970d8939dbd9832e}{CONNECTION\_SETUP}:
593     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808abd13cee86acc2cb3c04241dec919c73f}{CONNECTION\_RECONFIGURATION}:
594     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2e74c6adfadd2e6826deb4fec7e94520}{CONNECTION\_REESTABLISHMENT}:
595     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808af12d34cff237916f8322a4b1031ceeda}{HANDOVER\_PREPARATION}:
596     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{HANDOVER\_JOINING}:
597     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{HANDOVER\_LEAVING}:
598       \textcolor{comment}{// a previous reconfiguration still ongoing, we need to wait for it to be finished}
599       \hyperlink{classns3_1_1UeManager_ac1e5bf47aad07288d2676bb09e63e215}{m\_pendingRrcConnectionReconfiguration} = \textcolor{keyword}{true};
600       \textcolor{keywordflow}{break};
601 
602     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY}:
603       \{
604         \hyperlink{classns3_1_1UeManager_ac1e5bf47aad07288d2676bb09e63e215}{m\_pendingRrcConnectionReconfiguration} = \textcolor{keyword}{false};
605         LteRrcSap::RrcConnectionReconfiguration msg = 
      \hyperlink{classns3_1_1UeManager_a41bd82649d9703e339e3fe988f922a5f}{BuildRrcConnectionReconfiguration} ();
606         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SendRrcConnectionReconfiguration (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, msg);  \textcolor{comment}{//to Rlc Tm}
607         \hyperlink{classns3_1_1UeManager_a104d92b26b4b7fe93099d74080f62ae3}{RecordDataRadioBearersToBeStarted} ();
608         \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808abd13cee86acc2cb3c04241dec919c73f}{CONNECTION\_RECONFIGURATION});
609       \}
610       \textcolor{keywordflow}{break};
611 
612     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808aca9c82460eb5d1d8fcebbfc0c4a9167b}{PREPARE\_MC\_CONNECTION\_RECONFIGURATION}:
613       \{
614         \hyperlink{classns3_1_1UeManager_ac1e5bf47aad07288d2676bb09e63e215}{m\_pendingRrcConnectionReconfiguration} = \textcolor{keyword}{false};
615         LteRrcSap::RrcConnectionReconfiguration msg = 
      \hyperlink{classns3_1_1UeManager_a41bd82649d9703e339e3fe988f922a5f}{BuildRrcConnectionReconfiguration} ();
616         msg.haveMeasConfig = \textcolor{keyword}{false};
617         msg.haveMobilityControlInfo = \textcolor{keyword}{false};
618         msg.radioResourceConfigDedicated.srbToAddModList.clear();
619         msg.radioResourceConfigDedicated.physicalConfigDedicated.haveAntennaInfoDedicated = \textcolor{keyword}{false};
620         msg.radioResourceConfigDedicated.physicalConfigDedicated.haveSoundingRsUlConfigDedicated = \textcolor{keyword}{false};
621         msg.radioResourceConfigDedicated.physicalConfigDedicated.havePdschConfigDedicated = \textcolor{keyword}{false};
622        std::cout << \textcolor{stringliteral}{"Enb will send RRC connection reconfiguration message to UE "} <<
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti} << std::endl;
623         \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SendRrcConnectionReconfiguration (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, msg);
624         \hyperlink{classns3_1_1UeManager_a104d92b26b4b7fe93099d74080f62ae3}{RecordDataRadioBearersToBeStarted} ();
625         \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a263ff177d041c66b6a07b69e2be5562e}{MC\_CONNECTION\_RECONFIGURATION});
626       \}
627       \textcolor{keywordflow}{break};
628 
629     \textcolor{keywordflow}{default}:
630       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method unexpected in state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
631       \textcolor{keywordflow}{break};
632     \}
633 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 47




Here is the caller graph for this function\+:
% FIG 48


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Send\+Data@{Send\+Data}}
\index{Send\+Data@{Send\+Data}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Send\+Data(uint8\+\_\+t bid, Ptr$<$ Packet $>$ p)}{SendData(uint8_t bid, Ptr< Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Send\+Data (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{bid, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a2288415129fd7319128599cf2681e780}{}\label{classns3_1_1UeManager_a2288415129fd7319128599cf2681e780}
Send a data packet over the appropriate Data Radio Bearer


\begin{DoxyParams}{Parameters}
{\em bid} & the corresponding E\+PS Bearer ID \\
\hline
{\em p} & the packet \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1125 \{
1126   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << p << (uint16\_t) bid);
1127   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
1128     \{
1129     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a6e92e7eaed87665e012ff9c3a4a9e4d3}{INITIAL\_RANDOM\_ACCESS}:
1130     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a54b5e529e9da2b99970d8939dbd9832e}{CONNECTION\_SETUP}:
1131       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"not connected, discarding packet"});
1132       \textcolor{keywordflow}{return};
1133       \textcolor{keywordflow}{break};
1134 
1135     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY}:
1136     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808abd13cee86acc2cb3c04241dec919c73f}{CONNECTION\_RECONFIGURATION}:
1137     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a263ff177d041c66b6a07b69e2be5562e}{MC\_CONNECTION\_RECONFIGURATION}:
1138     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2e74c6adfadd2e6826deb4fec7e94520}{CONNECTION\_REESTABLISHMENT}:
1139     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808af12d34cff237916f8322a4b1031ceeda}{HANDOVER\_PREPARATION}:
1140     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{HANDOVER\_JOINING}:
1141     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a66ee8994a912a463763b439ac0f158f2}{HANDOVER\_PATH\_SWITCH}:
1142       \{
1143         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"queueing data on PDCP for transmission over the air"});
1144         LtePdcpSapProvider::TransmitPdcpSduParameters params;
1145         params.pdcpSdu = \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
1146         params.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1147         params.lcid = \hyperlink{classns3_1_1UeManager_a5f3f8e891803bc57dc35af2c6c5a286d}{Bid2Lcid} (bid);
1148         uint8\_t drbid = \hyperlink{classns3_1_1UeManager_ac8c03e2c3f2bbb67f9c13df62e6464b5}{Bid2Drbid} (bid);
1149         \textcolor{comment}{//Transmit PDCP sdu only if DRB ID found in drbMap}
1150         std::map<uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it = \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.find (drbid);
1151         \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ())
1152           \{
1153             Ptr<LteDataRadioBearerInfo> bearerInfo = \hyperlink{classns3_1_1UeManager_a8f8a1bcd11bcdfd6e17b72c6325a25b0}{GetDataRadioBearerInfo} (drbid);
1154             \textcolor{keywordflow}{if} (bearerInfo != NULL)
1155               \{
1156                 LtePdcpSapProvider* pdcpSapProvider = bearerInfo->m\_pdcp->GetLtePdcpSapProvider ();
1157         pdcpSapProvider->TransmitPdcpSdu (params);
1158               \}
1159           \}
1160       \}
1161       \textcolor{keywordflow}{break};
1162 
1163     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{HANDOVER\_LEAVING}:
1164       \{
1165         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"SEQ SEQ HANDOVERLEAVING STATE LTE ENB RRC."});
1166         \textcolor{comment}{//m\_x2forwardingBuffer is empty, forward incomming pkts to target eNB.}
1167         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.empty())\{
1168           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"forwarding incoming pkts to target eNB over X2-U"});
1169           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"forwarding data to target eNB over X2-U"});
1170           uint8\_t drbid = \hyperlink{classns3_1_1UeManager_ac8c03e2c3f2bbb67f9c13df62e6464b5}{Bid2Drbid} (bid);        
1171           EpcX2Sap::UeDataParams params;
1172           params.sourceCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId;
1173           params.targetCellId = \hyperlink{classns3_1_1UeManager_a8a70641b8dfb0641e6cfcf4cc83083a3}{m\_targetCellId};
1174           params.gtpTeid = \hyperlink{classns3_1_1UeManager_a8f8a1bcd11bcdfd6e17b72c6325a25b0}{GetDataRadioBearerInfo} (drbid)->m\_gtpTeid;
1175           params.ueData = \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
1176           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"PDCP\_FORWARDING\_SEQ"});
1177           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"sourceCellId = "} << params.sourceCellId);
1178           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"targetCellId = "} << params.targetCellId);
1179           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"gtpTeid = "} << params.gtpTeid);
1180           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"ueData = "} << params.ueData);
1181           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"ueData size = "} << params.ueData->GetSize ());
1182           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendUeData (params);
1183         \}
1184         \textcolor{comment}{//m\_x2forwardingBuffer is not empty, append incomming pkts to m\_x2forwardingBuffer.}
1185         \textcolor{comment}{//Forwarding of this m\_x2forwardingBuffer is done in RecvHandoverRequestAck}
1186         \textcolor{keywordflow}{else}\{
1187           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"append incomming pkts to m\_x2forwardingBuffer"});
1188           \hyperlink{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{m\_x2forwardingBuffer}.push\_back(p);
1189           \textcolor{comment}{//NS\_LOG\_DEBUG("Forwarding but push\_bach to buffer SEQ = " << pdcpHeader.GetSequenceNumber());}
1190         \}
1191       \}
1192       \textcolor{keywordflow}{break};
1193 
1194     \textcolor{keywordflow}{default}:
1195       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method unexpected in state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1196       \textcolor{keywordflow}{break};
1197     \}
1198 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 49


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Send\+Rrc\+Connection\+Switch@{Send\+Rrc\+Connection\+Switch}}
\index{Send\+Rrc\+Connection\+Switch@{Send\+Rrc\+Connection\+Switch}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Send\+Rrc\+Connection\+Switch(bool use\+Mm\+Wave\+Connection)}{SendRrcConnectionSwitch(bool useMmWaveConnection)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Send\+Rrc\+Connection\+Switch (
\begin{DoxyParamCaption}
\item[{bool}]{use\+Mm\+Wave\+Connection}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_ab36bf5ac97f7023d2ef825124f95f839}{}\label{classns3_1_1UeManager_ab36bf5ac97f7023d2ef825124f95f839}

\begin{DoxyCode}
2002 \{
2003         std::cout << \textcolor{stringliteral}{"Send Rrc Connection Switch to mmWave cell ---------->"} <<
      \hyperlink{classns3_1_1UeManager_a9609913bb407b13da17a55d9013e8e10}{GetImsi}( )<< std::endl;
2004   LteRrcSap::RrcConnectionSwitch msg;
2005   msg.rrcTransactionIdentifier = \hyperlink{classns3_1_1UeManager_a87e1b280b80dbd9e1aa0f91994882057}{GetNewRrcTransactionIdentifier}();
2006   std::vector<uint8\_t> drbidVector;
2007   \textcolor{keywordflow}{for} (std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator it =  \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.begin ();
2008      it != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ();
2009      ++it)
2010   \{
2011     \textcolor{keywordflow}{if}(it->second->m\_isMc)
2012     \{
2013       drbidVector.push\_back(it->first); 
2014       Ptr<McEnbPdcp> pdcp = DynamicCast<McEnbPdcp>(it->second->m\_pdcp);
2015       \textcolor{keywordflow}{if}(pdcp != 0)
2016       \{
2017         \textcolor{comment}{//m\_rrc->m\_x2SapProvider->}
2018         pdcp->SwitchConnection(useMmWaveConnection);
2019         \textcolor{comment}{// forward packets in RLC buffers! }
2020         \textcolor{comment}{// when a switch happens, the swicth target RETX and TXED buffers of RLC AM are emptied, and }
2021         \textcolor{comment}{// the different windows are resetted.}
2022         \textcolor{comment}{// then the switch message is sent and the RLC buffers are fed back to the pdpc}
2023         \textcolor{keywordflow}{if}(!\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave && useMmWaveConnection) \textcolor{comment}{// }
2024         \{
2025           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"UeManager: forward LTE RLC buffers to mmWave"});
2026           \hyperlink{classns3_1_1UeManager_acfe070a93481248c1d2624f02a448a34}{ForwardRlcBuffers}(it->second->m\_rlc, it->second->m\_pdcp, it->second->m\_gtpTeid, 
      1, 0, it->first);
2027           \textcolor{comment}{// create a new rlc instance!}
2028 
2029           \textcolor{comment}{// reset RLC and LC}
2030           it->second->m\_rlc = 0;
2031           uint8\_t lcid = it->second->m\_logicalChannelIdentity;
2032           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->ReleaseLc(\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, lcid);
2033 
2034           TypeId rlcTypeId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetRlcType (it->second->m\_epsBearer);
2035 
2036           \hyperlink{classns3_1_1Object_a2810e70b8c8377aa8617138fc0f65e92}{ObjectFactory} rlcObjectFactory;
2037           rlcObjectFactory.SetTypeId (rlcTypeId);
2038           Ptr<LteRlc> rlc = rlcObjectFactory.Create ()->GetObject<LteRlc> ();
2039           rlc->SetLteMacSapProvider (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_macSapProvider);
2040           rlc->SetRnti (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
2041 
2042           it->second->m\_rlc = rlc;
2043 
2044           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Reset RLC in LTE eNB after switch, new rlc "} << rlc);
2045 
2046           rlc->SetLcId (lcid);
2047 
2048           \textcolor{comment}{// we need PDCP only for real RLC, i.e., RLC/UM or RLC/AM}
2049           \textcolor{comment}{// if we are using RLC/SM we don't care of anything above RLC}
2050           \textcolor{keywordflow}{if} (rlcTypeId != \hyperlink{classns3_1_1LteRlcSm_a160bd39ce4e0d113dd5d93cc3a258045}{LteRlcSm::GetTypeId} ())
2051           \{
2052             DynamicCast<McEnbPdcp>(it->second->m\_pdcp)->SetLteRlcSapProvider (rlc->GetLteRlcSapProvider ())
      ;
2053             rlc->SetLteRlcSapUser (DynamicCast<McEnbPdcp>(it->second->m\_pdcp)->GetLteRlcSapUser ());
2054             rlc->SetLteRlcAssistantSapUser(DynamicCast<McEnbPdcp>(it->second->m\_pdcp)->
      GetAssi\_LteRlcSapUser()); \textcolor{comment}{//sjkang}
2055           \}
2056 
2057           LteEnbCmacSapProvider::LcInfo lcinfo;
2058           lcinfo.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
2059           lcinfo.lcId = lcid;
2060           lcinfo.lcGroup = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetLogicalChannelGroup (it->second->m\_epsBearer);
2061           lcinfo.qci =   it->second->m\_epsBearer.qci;
2062           lcinfo.isGbr = it->second->m\_epsBearer.IsGbr ();
2063           lcinfo.mbrUl = it->second->m\_epsBearer.gbrQosInfo.mbrUl;
2064           lcinfo.mbrDl = it->second->m\_epsBearer.gbrQosInfo.mbrDl;
2065           lcinfo.gbrUl = it->second->m\_epsBearer.gbrQosInfo.gbrUl;
2066           lcinfo.gbrDl = it->second->m\_epsBearer.gbrQosInfo.gbrDl;
2067           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->AddLc (lcinfo, rlc->GetLteMacSapUser ());
2068 
2069         \}
2070         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(!\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_ismmWave && !useMmWaveConnection)
2071         \{
2072           \textcolor{comment}{// switch from mmWave to LTE: it will be the mmWave cell that forwards the data back to LTE}
2073           EpcX2SapProvider::SwitchConnectionParams params;
2074           params.mmWaveRnti = \hyperlink{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}{m\_mmWaveRnti};
2075           params.mmWaveCellId = \hyperlink{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{m\_mmWaveCellId};
2076           params.useMmWaveConnection = useMmWaveConnection;
2077           params.drbid = it->first;
2078           \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendSwitchConnectionToMmWave(params);
2079         \}
2080 
2081       \}     
2082       \textcolor{keywordflow}{else}
2083       \{
2084         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR}(\textcolor{stringliteral}{"A device defined as MC has not a McEnbPdcp"});
2085       \}
2086     \}
2087   \}
2088   msg.drbidList = drbidVector;
2089   msg.useMmWaveConnection = useMmWaveConnection;
2090   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"SendRrcConnectionSwitch to "} << \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti} << \textcolor{stringliteral}{" with useMmWaveConnection "} << 
      msg.useMmWaveConnection << \textcolor{stringliteral}{" at time "} << \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now}().
      \hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds}());
2091   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_rrcSapUser->SendRrcConnectionSwitch(\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, msg);  
2092 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 50


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Send\+Ue\+Context\+Release@{Send\+Ue\+Context\+Release}}
\index{Send\+Ue\+Context\+Release@{Send\+Ue\+Context\+Release}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Send\+Ue\+Context\+Release()}{SendUeContextRelease()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Send\+Ue\+Context\+Release (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_ad1a1e702fc813b4260bcafaa4f4562ba}{}\label{classns3_1_1UeManager_ad1a1e702fc813b4260bcafaa4f4562ba}
send the UE C\+O\+N\+T\+E\+XT R\+E\+L\+E\+A\+SE X2 message to the source e\+NB, thus successfully terminating an X2 handover procedure 
\begin{DoxyCode}
1222 \{
1223   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1224   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
1225     \{
1226     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a66ee8994a912a463763b439ac0f158f2}{HANDOVER\_PATH\_SWITCH}:
1227       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Send UE CONTEXT RELEASE from target eNB to source eNB"});
1228       EpcX2SapProvider::UeContextReleaseParams ueCtxReleaseParams;
1229       ueCtxReleaseParams.oldEnbUeX2apId = \hyperlink{classns3_1_1UeManager_aec435692a673cd55353a2bb258d5f487}{m\_sourceX2apId};
1230       ueCtxReleaseParams.newEnbUeX2apId = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
1231       ueCtxReleaseParams.sourceCellId = \hyperlink{classns3_1_1UeManager_add9ed1d405182617c513205fab32d470}{m\_sourceCellId};
1232       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2SapProvider->SendUeContextRelease (ueCtxReleaseParams);
1233       \hyperlink{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{SwitchToState} (\hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY});
1234       \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_handoverEndOkTrace (\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId, 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
1235       \textcolor{keywordflow}{break};
1236 
1237     \textcolor{keywordflow}{default}:
1238       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method unexpected in state "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (
      \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state}));
1239       \textcolor{keywordflow}{break};
1240     \}
1241 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 51


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Set\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access@{Set\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access}}
\index{Set\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access@{Set\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Set\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access(bool param)}{SetAllMmWaveInOutageAtInitialAccess(bool param)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Set\+All\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access (
\begin{DoxyParamCaption}
\item[{bool}]{param}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_abb69288e493a0ca82c78dbfb0177ad45}{}\label{classns3_1_1UeManager_abb69288e493a0ca82c78dbfb0177ad45}

\begin{DoxyCode}
1602 \{
1603   \hyperlink{classns3_1_1UeManager_a311e1518759c74a51cbc56c568488ca1}{m\_allMmWaveInOutageAtInitialAccess} = param;
1604 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Set\+First\+Connection@{Set\+First\+Connection}}
\index{Set\+First\+Connection@{Set\+First\+Connection}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Set\+First\+Connection()}{SetFirstConnection()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Set\+First\+Connection (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a3aa975452dea86a4acfefb50eca6af28}{}\label{classns3_1_1UeManager_a3aa975452dea86a4acfefb50eca6af28}

\begin{DoxyCode}
2449 \{
2450   \hyperlink{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}{m\_firstConnection} = \textcolor{keyword}{true};
2451 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Set\+Imsi@{Set\+Imsi}}
\index{Set\+Imsi@{Set\+Imsi}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Set\+Imsi(uint64\+\_\+t imsi)}{SetImsi(uint64_t imsi)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Set\+Imsi (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{imsi}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a20e9e4c443dd02c40993f8c9e247d5ce}{}\label{classns3_1_1UeManager_a20e9e4c443dd02c40993f8c9e247d5ce}
Set the I\+M\+SI


\begin{DoxyParams}{Parameters}
{\em imsi} & the I\+M\+SI \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
366 \{
367   \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi} = imsi;
368 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Set\+Is\+Mc@{Set\+Is\+Mc}}
\index{Set\+Is\+Mc@{Set\+Is\+Mc}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Set\+Is\+Mc(bool is\+Mc)}{SetIsMc(bool isMc)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Set\+Is\+Mc (
\begin{DoxyParamCaption}
\item[{bool}]{is\+Mc}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a2ce1c42fc55675d2afb7652c35ae11ac}{}\label{classns3_1_1UeManager_a2ce1c42fc55675d2afb7652c35ae11ac}

\begin{DoxyCode}
372 \{
373   \hyperlink{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{m\_isMc} = isMc;
374 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Set\+Pdsch\+Config\+Dedicated@{Set\+Pdsch\+Config\+Dedicated}}
\index{Set\+Pdsch\+Config\+Dedicated@{Set\+Pdsch\+Config\+Dedicated}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Set\+Pdsch\+Config\+Dedicated(\+Lte\+Rrc\+Sap\+::\+Pdsch\+Config\+Dedicated pdsch\+Config\+Dedicated)}{SetPdschConfigDedicated(LteRrcSap::PdschConfigDedicated pdschConfigDedicated)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Set\+Pdsch\+Config\+Dedicated (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Rrc\+Sap\+::\+Pdsch\+Config\+Dedicated}}]{pdsch\+Config\+Dedicated}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_af41111c80a44e534b52ddf4d838edb0c}{}\label{classns3_1_1UeManager_af41111c80a44e534b52ddf4d838edb0c}
Configure Pdsch\+Config\+Dedicated (i.\+e. P\+\_\+A value) for UE and start Rrc\+Connection\+Reconfiguration to inform UE about new Pdsch\+Config\+Dedicated


\begin{DoxyParams}{Parameters}
{\em pdsch\+Config\+Dedicated} & new pdsch\+Config\+Dedicated (i.\+e. P\+\_\+A value) to be set \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2224 \{
2225   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2226   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_a17e35740747a19ce9aebf834f50c2f4b}{pdschConfigDedicated} = 
      pdschConfigDedicated;
2227 
2228   \hyperlink{classns3_1_1UeManager_a2c655c5f3f0bdb4953405734118770df}{m\_needPhyMacConfiguration} = \textcolor{keyword}{true};
2229 
2230   \textcolor{comment}{// reconfigure the UE RRC}
2231   \hyperlink{classns3_1_1UeManager_add763d882c14c2f1414167668f6ca095}{ScheduleRrcConnectionReconfiguration} ();
2232 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 52


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Set\+Source@{Set\+Source}}
\index{Set\+Source@{Set\+Source}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Set\+Source(uint16\+\_\+t source\+Cell\+Id, uint16\+\_\+t source\+X2ap\+Id)}{SetSource(uint16_t sourceCellId, uint16_t sourceX2apId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Set\+Source (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{source\+Cell\+Id, }
\item[{uint16\+\_\+t}]{source\+X2ap\+Id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a94d44301e73fe309a9ebefe8936c058f}{}\label{classns3_1_1UeManager_a94d44301e73fe309a9ebefe8936c058f}
Set the identifiers of the source e\+NB for the case where a UE joins the current e\+NB as part of a handover procedure


\begin{DoxyParams}{Parameters}
{\em source\+Cell\+Id} & \\
\hline
{\em source\+X2ap\+Id} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
353 \{
354   \hyperlink{classns3_1_1UeManager_aec435692a673cd55353a2bb258d5f487}{m\_sourceX2apId} = sourceX2apId;
355   \hyperlink{classns3_1_1UeManager_add9ed1d405182617c513205fab32d470}{m\_sourceCellId} = sourceCellId;
356 \}
\end{DoxyCode}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Set\+Srs\+Configuration\+Index@{Set\+Srs\+Configuration\+Index}}
\index{Set\+Srs\+Configuration\+Index@{Set\+Srs\+Configuration\+Index}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Set\+Srs\+Configuration\+Index(uint16\+\_\+t srs\+Conf\+Index)}{SetSrsConfigurationIndex(uint16_t srsConfIndex)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Set\+Srs\+Configuration\+Index (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{srs\+Conf\+Index}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a8bc48fe95a32d47ef0a7a36fbaa4339b}{}\label{classns3_1_1UeManager_a8bc48fe95a32d47ef0a7a36fbaa4339b}
Set the S\+RS configuration index and do the necessary reconfiguration


\begin{DoxyParams}{Parameters}
{\em srs\+Conf\+Index} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2199 \{
2200   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2201   \hyperlink{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{m\_physicalConfigDedicated}.\hyperlink{structns3_1_1LteRrcSap_1_1PhysicalConfigDedicated_ab37d726f290ebc8cd81e8d4f68939fdc}{soundingRsUlConfigDedicated}
      .\hyperlink{structns3_1_1LteRrcSap_1_1SoundingRsUlConfigDedicated_a2cbee1ba9dd47b4b690a8d0e91d209be}{srsConfigIndex} = srsConfIndex;
2202   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cphySapProvider->SetSrsConfigurationIndex (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, srsConfIndex);
2203   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state})
2204     \{
2205     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a6e92e7eaed87665e012ff9c3a4a9e4d3}{INITIAL\_RANDOM\_ACCESS}:
2206       \textcolor{comment}{// do nothing, srs conf index will be correctly enforced upon}
2207       \textcolor{comment}{// RRC connection establishment}
2208       \textcolor{keywordflow}{break};
2209 
2210     \textcolor{keywordflow}{default}:
2211       \hyperlink{classns3_1_1UeManager_add763d882c14c2f1414167668f6ca095}{ScheduleRrcConnectionReconfiguration} ();
2212       \textcolor{keywordflow}{break};
2213     \}
2214 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 53


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Setup\+Data\+Radio\+Bearer@{Setup\+Data\+Radio\+Bearer}}
\index{Setup\+Data\+Radio\+Bearer@{Setup\+Data\+Radio\+Bearer}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Setup\+Data\+Radio\+Bearer(\+Eps\+Bearer bearer, uint8\+\_\+t bearer\+Id, uint32\+\_\+t gtp\+Teid, Ipv4\+Address transport\+Layer\+Address)}{SetupDataRadioBearer(EpsBearer bearer, uint8_t bearerId, uint32_t gtpTeid, Ipv4Address transportLayerAddress)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Setup\+Data\+Radio\+Bearer (
\begin{DoxyParamCaption}
\item[{{\bf Eps\+Bearer}}]{bearer, }
\item[{uint8\+\_\+t}]{bearer\+Id, }
\item[{uint32\+\_\+t}]{gtp\+Teid, }
\item[{{\bf Ipv4\+Address}}]{transport\+Layer\+Address}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_a75f49cd54eb63c79c696779aa518cf19}{}\label{classns3_1_1UeManager_a75f49cd54eb63c79c696779aa518cf19}
Setup a new data radio bearer, including both the configuration within the e\+NB and the necessary R\+RC signaling with the UE


\begin{DoxyParams}{Parameters}
{\em bearer} & the QoS characteristics of the bearer \\
\hline
{\em bearer\+Id} & the E\+PS bearer identifier \\
\hline
{\em gtp\+Teid} & S1-\/bearer G\+TP tunnel endpoint identifier, see 36.\+423 9.\+2.\+1 \\
\hline
{\em transport\+Layer\+Address} & IP \hyperlink{classns3_1_1Address}{Address} of the S\+GW, see 36.\+423 9.\+2.\+1 \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
390 \{
391   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint32\_t) \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
392 
393   Ptr<LteDataRadioBearerInfo> drbInfo = CreateObject<LteDataRadioBearerInfo> ();
394   uint8\_t drbid = \hyperlink{classns3_1_1UeManager_a445cf5c9036a101af33526a4ebb89863}{AddDataRadioBearerInfo} (drbInfo);
395   uint8\_t lcid = \hyperlink{classns3_1_1UeManager_af0ba90c3b4fe3300796ffc03de328f73}{Drbid2Lcid} (drbid); 
396   uint8\_t bid = \hyperlink{classns3_1_1UeManager_a7f9cf28eee4b60f195e9f4577a8a3a35}{Drbid2Bid} (drbid);
397   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ( bearerId == 0 || bid == bearerId, \textcolor{stringliteral}{"bearer ID mismatch ("} << (uint32\_t) bid 
      << \textcolor{stringliteral}{" != "} << (uint32\_t) bearerId << \textcolor{stringliteral}{", the assumption that ID are allocated in the same way by MME and RRC is
       not valid any more"});
398   drbInfo->m\_epsBearerIdentity = bid;
399   drbInfo->m\_drbIdentity = drbid;
400   drbInfo->m\_logicalChannelIdentity = lcid;
401   drbInfo->m\_gtpTeid = gtpTeid;
402   drbInfo->m\_transportLayerAddress = transportLayerAddress;
403 
404   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state} == \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{HANDOVER\_JOINING})
405     \{
406       \textcolor{comment}{// setup TEIDs for receiving data eventually forwarded over X2-U }
407       LteEnbRrc::X2uTeidInfo x2uTeidInfo;
408       x2uTeidInfo.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
409       x2uTeidInfo.drbid = drbid;
410       std::pair<std::map<uint32\_t, LteEnbRrc::X2uTeidInfo>::iterator, \textcolor{keywordtype}{bool}>
411       ret = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_x2uTeidInfoMap.insert (std::pair<uint32\_t, LteEnbRrc::X2uTeidInfo> (gtpTeid, 
      x2uTeidInfo));
412       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (ret.second == \textcolor{keyword}{true}, \textcolor{stringliteral}{"overwriting a pre-existing entry in m\_x2uTeidInfoMap
      "});
413     \}
414 
415   TypeId rlcTypeId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetRlcType (bearer);
416 
417   \hyperlink{classns3_1_1Object_a2810e70b8c8377aa8617138fc0f65e92}{ObjectFactory} rlcObjectFactory;
418   rlcObjectFactory.SetTypeId (rlcTypeId);
419   Ptr<LteRlc> rlc = rlcObjectFactory.Create ()->GetObject<LteRlc> ();
420   rlc->SetLteMacSapProvider (\hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_macSapProvider);
421   rlc->SetRnti (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
422 
423   drbInfo->m\_rlc = rlc;
424 
425   rlc->SetLcId (lcid);
426 
427   \textcolor{comment}{//this is a procedure for setting filestream in RlcAm and RlcLowLat layer  by sjkang1116}
428                                 std::ostringstream fileName;
429                                 \textcolor{keywordflow}{if}(rlcTypeId ==\hyperlink{classns3_1_1LteRlcAm_a28143176a465769583d9db0b4b36b91b}{LteRlcAm::GetTypeId}())  \textcolor{comment}{//sjkang0104}
430                      fileName<<\textcolor{stringliteral}{"rlcAmTx\_queue\_menb\_ue"}<<\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}<<\textcolor{stringliteral}{"\_bearer"}<< (uint16\_t)(drbid) << \textcolor{stringliteral}{"
      .txt"};
431                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rlcTypeId == \hyperlink{classns3_1_1LteRlcUmLowLat_afcbc09793556f00ce2cd62cb0c9c670b}{LteRlcUmLowLat::GetTypeId}())
432                                   fileName<<\textcolor{stringliteral}{"rlcUmLowLatTx\_queue\_menb\_ue"}<<
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}<<\textcolor{stringliteral}{"\_bearer"}<< (uint16\_t)(drbid) << \textcolor{stringliteral}{".txt"};
433                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rlcTypeId == \hyperlink{classns3_1_1LteRlcUm_a119b2b1273c42483a050896d5232829d}{LteRlcUm::GetTypeId}())
434                                     fileName<<\textcolor{stringliteral}{"rlcUmTx\_queue\_menb\_ue"}<<\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}<<\textcolor{stringliteral}{"\_bearer"}<< (uint16\_t)
      (drbid) << \textcolor{stringliteral}{".txt"};
435 
436                                 std::ofstream* stream = \textcolor{keyword}{new} std::ofstream(fileName.str().c\_str());
437                      rlc->SetStreamForQueueStatistics(stream);\textcolor{comment}{//sjkang1116}
438   \textcolor{comment}{// we need PDCP only for real RLC, i.e., RLC/UM or RLC/AM}
439   \textcolor{comment}{// if we are using RLC/SM we don't care of anything above RLC}
440   \textcolor{keywordflow}{if} (rlcTypeId != \hyperlink{classns3_1_1LteRlcSm_a160bd39ce4e0d113dd5d93cc3a258045}{LteRlcSm::GetTypeId} ())
441     \{
442       Ptr<McEnbPdcp> pdcp = CreateObject<McEnbPdcp> (); \textcolor{comment}{// Modified with McEnbPdcp to support MC}
443                                                         \textcolor{comment}{// This will allow to add an X2 interface to pdcp}
444       pdcp->SetRnti (\hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
445       pdcp->SetLcId (lcid);
446       pdcp->SetLtePdcpSapUser (\hyperlink{classns3_1_1UeManager_af261f8dc60848f41e18c9fba89d9903d}{m\_drbPdcpSapUser});
447       pdcp->SetLteRlcSapProvider (rlc->GetLteRlcSapProvider ());
448       rlc->SetLteRlcSapUser (pdcp->GetLteRlcSapUser ());
449       rlc->SetLteRlcAssistantSapUser(pdcp->GetAssi\_LteRlcSapUser()); \textcolor{comment}{//sjkang0104}
450       drbInfo->m\_pdcp = pdcp;
451     \}
452 
453   LteEnbCmacSapProvider::LcInfo lcinfo;
454   lcinfo.rnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
455   lcinfo.lcId = lcid;
456   lcinfo.lcGroup = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetLogicalChannelGroup (bearer);
457   lcinfo.qci = bearer.qci;
458   lcinfo.isGbr = bearer.IsGbr ();
459   lcinfo.mbrUl = bearer.gbrQosInfo.mbrUl;
460   lcinfo.mbrDl = bearer.gbrQosInfo.mbrDl;
461   lcinfo.gbrUl = bearer.gbrQosInfo.gbrUl;
462   lcinfo.gbrDl = bearer.gbrQosInfo.gbrDl;
463   \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cmacSapProvider->AddLc (lcinfo, rlc->GetLteMacSapUser ());
464 
465   \textcolor{keywordflow}{if} (rlcTypeId == \hyperlink{classns3_1_1LteRlcAm_a28143176a465769583d9db0b4b36b91b}{LteRlcAm::GetTypeId} ())
466     \{
467       drbInfo->m\_rlcConfig.choice =  \hyperlink{structns3_1_1LteRrcSap_1_1RlcConfig_ab6ab94ca4abaf717926f31db4dddc61baac722b7609a143367fc24a94f8e4f6c7}{LteRrcSap::RlcConfig::AM};
468     \}
469   \textcolor{keywordflow}{else}
470     \{
471       drbInfo->m\_rlcConfig.choice =  \hyperlink{structns3_1_1LteRrcSap_1_1RlcConfig_ab6ab94ca4abaf717926f31db4dddc61ba55368feac1627138969235809e6eedc5}{LteRrcSap::RlcConfig::UM\_BI\_DIRECTIONAL}
      ;
472     \}
473 
474   drbInfo->m\_logicalChannelIdentity = lcid;
475   drbInfo->m\_logicalChannelConfig.priority =  \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetLogicalChannelPriority (bearer);
476   drbInfo->m\_logicalChannelConfig.logicalChannelGroup = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetLogicalChannelGroup (bearer);
477   \textcolor{keywordflow}{if} (bearer.IsGbr ())
478     \{
479       drbInfo->m\_logicalChannelConfig.prioritizedBitRateKbps = bearer.gbrQosInfo.gbrUl;
480     \}
481   \textcolor{keywordflow}{else}
482     \{
483       drbInfo->m\_logicalChannelConfig.prioritizedBitRateKbps = 0;
484     \}
485   drbInfo->m\_logicalChannelConfig.bucketSizeDurationMs = 1000;
486 
487   EpcX2Sap::RlcSetupRequest req;
488   req.sourceCellId = \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->GetCellId();
489   req.gtpTeid = drbInfo->m\_gtpTeid;
490   req.lteRnti = \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti};
491   req.drbid = drbid;
492   req.lcinfo = lcinfo;
493   req.logicalChannelConfig = drbInfo->m\_logicalChannelConfig;
494   req.rlcConfig = drbInfo->m\_rlcConfig;
495   req.targetCellId = 0;
496   req.mmWaveRnti = 0;
497   \textcolor{comment}{// mmWaveRnti & targetCellId will be set before sending the request}
498   drbInfo->m\_rlcSetupRequest = req;
499 
500   drbInfo->m\_epsBearer = bearer;
501   drbInfo->m\_isMc = \textcolor{keyword}{false};
502   drbInfo->m\_isMc\_2 =\textcolor{keyword}{false};
503   \hyperlink{classns3_1_1UeManager_add763d882c14c2f1414167668f6ca095}{ScheduleRrcConnectionReconfiguration} ();
504 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 54


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Start\+Data\+Radio\+Bearers@{Start\+Data\+Radio\+Bearers}}
\index{Start\+Data\+Radio\+Bearers@{Start\+Data\+Radio\+Bearers}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Start\+Data\+Radio\+Bearers()}{StartDataRadioBearers()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Start\+Data\+Radio\+Bearers (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1UeManager_ad03d22d27261b89b6b575e16b5855bd5}{}\label{classns3_1_1UeManager_ad03d22d27261b89b6b575e16b5855bd5}
Start the data radio bearers that have been previously recorded to be started using \hyperlink{classns3_1_1UeManager_a104d92b26b4b7fe93099d74080f62ae3}{Record\+Data\+Radio\+Bearers\+To\+Be\+Started()} 
\begin{DoxyCode}
523 \{
524   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint32\_t) \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti});
525   \textcolor{keywordflow}{for} (std::list <uint8\_t>::iterator drbIdIt = \hyperlink{classns3_1_1UeManager_a61c31c1ebd084eed264d06b92dd44920}{m\_drbsToBeStarted}.begin ();
526        drbIdIt != \hyperlink{classns3_1_1UeManager_a61c31c1ebd084eed264d06b92dd44920}{m\_drbsToBeStarted}.end ();
527        ++drbIdIt)
528     \{
529       std::map <uint8\_t, Ptr<LteDataRadioBearerInfo> >::iterator drbIt = 
      \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.find (*drbIdIt);
530       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (drbIt != \hyperlink{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{m\_drbMap}.end ());
531        drbIt->second->m\_rlc->Initialize ();
532       \textcolor{keywordflow}{if} (drbIt->second->m\_pdcp)
533         \{
534           drbIt->second->m\_pdcp->Initialize ();
535         \}
536 
537                      \textcolor{comment}{//rlc->SetDrbId(drbIt->first);}
538     \}
539   \hyperlink{classns3_1_1UeManager_a61c31c1ebd084eed264d06b92dd44920}{m\_drbsToBeStarted}.clear ();
540 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 55


\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Switch\+To\+State@{Switch\+To\+State}}
\index{Switch\+To\+State@{Switch\+To\+State}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Switch\+To\+State(\+State s)}{SwitchToState(State s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ue\+Manager\+::\+Switch\+To\+State (
\begin{DoxyParamCaption}
\item[{{\bf State}}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}{}\label{classns3_1_1UeManager_af2b5ad90fc6f16ffc4a91fbe8a522472}
Switch the \hyperlink{classns3_1_1UeManager}{Ue\+Manager} to the given state


\begin{DoxyParams}{Parameters}
{\em s} & the given state \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2406 \{
2407   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (newState));
2408   \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808}{State} oldState = \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state};
2409   \hyperlink{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{m\_state} = newState;
2410   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" IMSI "} << \hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi} << \textcolor{stringliteral}{" RNTI "} << \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti} << \textcolor{stringliteral}{" CellId "} << 
      \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId << \textcolor{stringliteral}{" UeManager "}
2411                     << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (oldState) << \textcolor{stringliteral}{" --> "} << \hyperlink{namespacens3_a3d1f7e1bec1972e2ae8d64673fcfcd9c}{ToString} (newState));
2412   \hyperlink{classns3_1_1UeManager_ac17d478044a6111ca71b05d8b3950bf7}{m\_stateTransitionTrace} (\hyperlink{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{m\_imsi}, \hyperlink{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{m\_rrc}->m\_cellId, 
      \hyperlink{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{m\_rnti}, oldState, newState);
2413 
2414   \textcolor{keywordflow}{switch} (newState)
2415     \{
2416     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a6e92e7eaed87665e012ff9c3a4a9e4d3}{INITIAL\_RANDOM\_ACCESS}:
2417     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a093669f7255c35aa11645ba004a896ea}{HANDOVER\_JOINING}:
2418       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"cannot switch to an initial state"});
2419       \textcolor{keywordflow}{break};
2420 
2421     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a54b5e529e9da2b99970d8939dbd9832e}{CONNECTION\_SETUP}:
2422       \textcolor{keywordflow}{break};
2423 
2424     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2a1020dce30f19aa9354ba34b2e7c5e0}{CONNECTED\_NORMALLY}:
2425       \{
2426         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1UeManager_ac1e5bf47aad07288d2676bb09e63e215}{m\_pendingRrcConnectionReconfiguration} == \textcolor{keyword}{true})
2427           \{
2428             \hyperlink{classns3_1_1UeManager_add763d882c14c2f1414167668f6ca095}{ScheduleRrcConnectionReconfiguration} ();
2429           \}
2430       \}
2431       \textcolor{keywordflow}{break};
2432 
2433     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808abd13cee86acc2cb3c04241dec919c73f}{CONNECTION\_RECONFIGURATION}:
2434       \textcolor{keywordflow}{break};
2435 
2436     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808a2e74c6adfadd2e6826deb4fec7e94520}{CONNECTION\_REESTABLISHMENT}:
2437       \textcolor{keywordflow}{break};
2438 
2439     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1UeManager_a2f4085fdd18d7125c27da44a5b8b6808ae67953d7b8e117cbd2cab21a1fcde8ad}{HANDOVER\_LEAVING}:
2440       \textcolor{keywordflow}{break};
2441 
2442     \textcolor{keywordflow}{default}:
2443       \textcolor{keywordflow}{break};
2444     \}
2445 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 56




Here is the caller graph for this function\+:
% FIG 57




\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Lte\+Pdcp\+Specific\+Lte\+Pdcp\+Sap\+User$<$ Ue\+Manager $>$@{Lte\+Pdcp\+Specific\+Lte\+Pdcp\+Sap\+User$<$ Ue\+Manager $>$}}
\index{Lte\+Pdcp\+Specific\+Lte\+Pdcp\+Sap\+User$<$ Ue\+Manager $>$@{Lte\+Pdcp\+Specific\+Lte\+Pdcp\+Sap\+User$<$ Ue\+Manager $>$}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Lte\+Pdcp\+Specific\+Lte\+Pdcp\+Sap\+User$<$ Ue\+Manager $>$}{LtePdcpSpecificLtePdcpSapUser< UeManager >}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Lte\+Pdcp\+Specific\+Lte\+Pdcp\+Sap\+User}$<$ {\bf Ue\+Manager} $>$\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1UeManager_a99276a0379b8384b466b4c79710608de}{}\label{classns3_1_1UeManager_a99276a0379b8384b466b4c79710608de}


\subsection{Member Data Documentation}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+all\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access@{m\+\_\+all\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access}}
\index{m\+\_\+all\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access@{m\+\_\+all\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+all\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access}{m_allMmWaveInOutageAtInitialAccess}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ue\+Manager\+::m\+\_\+all\+Mm\+Wave\+In\+Outage\+At\+Initial\+Access\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a311e1518759c74a51cbc56c568488ca1}{}\label{classns3_1_1UeManager_a311e1518759c74a51cbc56c568488ca1}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+connection\+Rejected\+Timeout@{m\+\_\+connection\+Rejected\+Timeout}}
\index{m\+\_\+connection\+Rejected\+Timeout@{m\+\_\+connection\+Rejected\+Timeout}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+connection\+Rejected\+Timeout}{m_connectionRejectedTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Ue\+Manager\+::m\+\_\+connection\+Rejected\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a7071fcda6f71ed8382ae0144cfe61692}{}\label{classns3_1_1UeManager_a7071fcda6f71ed8382ae0144cfe61692}
The delay before a {\itshape connection rejected timeout} occurs. Set after an R\+RC C\+O\+N\+N\+E\+C\+T\+I\+ON R\+E\+J\+E\+CT is sent. Calling \hyperlink{classns3_1_1LteEnbRrc_accc2939d256646bf19abd915f13c0d68}{Lte\+Enb\+Rrc\+::\+Connection\+Rejected\+Timeout()} when it expires. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+connection\+Request\+Timeout@{m\+\_\+connection\+Request\+Timeout}}
\index{m\+\_\+connection\+Request\+Timeout@{m\+\_\+connection\+Request\+Timeout}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+connection\+Request\+Timeout}{m_connectionRequestTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Ue\+Manager\+::m\+\_\+connection\+Request\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a85948121037b466cea1baa6a51273def}{}\label{classns3_1_1UeManager_a85948121037b466cea1baa6a51273def}
\hyperlink{classns3_1_1Time}{Time} limit before a {\itshape connection request timeout} occurs. Set after a new UE context is added after a successful Random Access. Calling \hyperlink{classns3_1_1LteEnbRrc_ad7992d8a886b60ee953879d9b5d37dca}{Lte\+Enb\+Rrc\+::\+Connection\+Request\+Timeout()} when it expires. Cancelled when R\+RC C\+O\+N\+N\+E\+C\+T\+I\+ON R\+E\+Q\+U\+E\+ST is received. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+connection\+Setup\+Timeout@{m\+\_\+connection\+Setup\+Timeout}}
\index{m\+\_\+connection\+Setup\+Timeout@{m\+\_\+connection\+Setup\+Timeout}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+connection\+Setup\+Timeout}{m_connectionSetupTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Ue\+Manager\+::m\+\_\+connection\+Setup\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_afa30ea647e5d93b6c58d46b92e681044}{}\label{classns3_1_1UeManager_afa30ea647e5d93b6c58d46b92e681044}
\hyperlink{classns3_1_1Time}{Time} limit before a {\itshape connection setup timeout} occurs. Set after an R\+RC C\+O\+N\+N\+E\+C\+T\+I\+ON S\+E\+T\+UP is sent. Calling \hyperlink{classns3_1_1LteEnbRrc_ac0af0fbbf09bc66c0ebd5be00c69aa7c}{Lte\+Enb\+Rrc\+::\+Connection\+Setup\+Timeout()} when it expires. Cancelled when R\+RC C\+O\+N\+N\+E\+C\+T\+I\+ON S\+E\+T\+UP C\+O\+M\+P\+L\+E\+TE is received. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+drb\+Map@{m\+\_\+drb\+Map}}
\index{m\+\_\+drb\+Map@{m\+\_\+drb\+Map}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+drb\+Map}{m_drbMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint8\+\_\+t, {\bf Ptr}$<${\bf Lte\+Data\+Radio\+Bearer\+Info}$>$ $>$ ns3\+::\+Ue\+Manager\+::m\+\_\+drb\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}{}\label{classns3_1_1UeManager_a18499c025730b63c73e5d93effff57aa}
The {\ttfamily Data\+Radio\+Bearer\+Map} attribute. List of UE Data\+Radio\+Bearer\+Info by D\+R\+B\+ID. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+drb\+Pdcp\+Sap\+User@{m\+\_\+drb\+Pdcp\+Sap\+User}}
\index{m\+\_\+drb\+Pdcp\+Sap\+User@{m\+\_\+drb\+Pdcp\+Sap\+User}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+drb\+Pdcp\+Sap\+User}{m_drbPdcpSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Pdcp\+Sap\+User}$\ast$ ns3\+::\+Ue\+Manager\+::m\+\_\+drb\+Pdcp\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_af261f8dc60848f41e18c9fba89d9903d}{}\label{classns3_1_1UeManager_af261f8dc60848f41e18c9fba89d9903d}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+drbs\+To\+Be\+Started@{m\+\_\+drbs\+To\+Be\+Started}}
\index{m\+\_\+drbs\+To\+Be\+Started@{m\+\_\+drbs\+To\+Be\+Started}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+drbs\+To\+Be\+Started}{m_drbsToBeStarted}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf std\+::list}$<$uint8\+\_\+t$>$ ns3\+::\+Ue\+Manager\+::m\+\_\+drbs\+To\+Be\+Started\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a61c31c1ebd084eed264d06b92dd44920}{}\label{classns3_1_1UeManager_a61c31c1ebd084eed264d06b92dd44920}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+first\+Connection@{m\+\_\+first\+Connection}}
\index{m\+\_\+first\+Connection@{m\+\_\+first\+Connection}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+first\+Connection}{m_firstConnection}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ue\+Manager\+::m\+\_\+first\+Connection\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}{}\label{classns3_1_1UeManager_a80bbce0e682b9f64dd49292c0388d79d}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+handover\+Joining\+Timeout@{m\+\_\+handover\+Joining\+Timeout}}
\index{m\+\_\+handover\+Joining\+Timeout@{m\+\_\+handover\+Joining\+Timeout}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+handover\+Joining\+Timeout}{m_handoverJoiningTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Ue\+Manager\+::m\+\_\+handover\+Joining\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a441fc4eda92a15be344d70b7039dacd4}{}\label{classns3_1_1UeManager_a441fc4eda92a15be344d70b7039dacd4}
\hyperlink{classns3_1_1Time}{Time} limit before a {\itshape handover joining timeout} occurs. Set after a new UE context is added after receiving a handover request. Calling \hyperlink{classns3_1_1LteEnbRrc_a8374075a52ca40290d3f15e253ef94ff}{Lte\+Enb\+Rrc\+::\+Handover\+Joining\+Timeout()} when it expires. Cancelled when R\+RC C\+O\+N\+N\+E\+C\+T\+I\+ON R\+E\+C\+O\+N\+F\+I\+G\+U\+R\+A\+T\+I\+ON C\+O\+M\+P\+L\+E\+TE is received. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+handover\+Leaving\+Timeout@{m\+\_\+handover\+Leaving\+Timeout}}
\index{m\+\_\+handover\+Leaving\+Timeout@{m\+\_\+handover\+Leaving\+Timeout}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+handover\+Leaving\+Timeout}{m_handoverLeavingTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Ue\+Manager\+::m\+\_\+handover\+Leaving\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_aebe46172b4387024c856c6917b5e2d6b}{}\label{classns3_1_1UeManager_aebe46172b4387024c856c6917b5e2d6b}
\hyperlink{classns3_1_1Time}{Time} limit before a {\itshape handover leaving timeout} occurs. Set after a handover command is sent. Calling \hyperlink{classns3_1_1LteEnbRrc_a3ded0535ab2c7f5b1346cf787745d06d}{Lte\+Enb\+Rrc\+::\+Handover\+Leaving\+Timeout()} when it expires. Cancelled when R\+RC C\+O\+N\+N\+E\+C\+T\+I\+ON R\+E-\/\+E\+S\+T\+A\+B\+L\+I\+S\+H\+M\+E\+NT or X2 UE C\+O\+N\+T\+E\+XT R\+E\+L\+E\+A\+SE is received. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+imsi@{m\+\_\+imsi}}
\index{m\+\_\+imsi@{m\+\_\+imsi}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+imsi}{m_imsi}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+imsi\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}{}\label{classns3_1_1UeManager_a868dda076ecfc1d4202e357c16223d84}
International Mobile Subscriber Identity assigned to this UE. A globally unique UE identifier. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+is\+Mc@{m\+\_\+is\+Mc}}
\index{m\+\_\+is\+Mc@{m\+\_\+is\+Mc}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+is\+Mc}{m_isMc}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ue\+Manager\+::m\+\_\+is\+Mc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}{}\label{classns3_1_1UeManager_a78958b4916253f7e2f9da8fd7f4662b6}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+is\+Mc\+\_\+2@{m\+\_\+is\+Mc\+\_\+2}}
\index{m\+\_\+is\+Mc\+\_\+2@{m\+\_\+is\+Mc\+\_\+2}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+is\+Mc\+\_\+2}{m_isMc_2}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ue\+Manager\+::m\+\_\+is\+Mc\+\_\+2\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a1ff2a09ff4ed22e06fc86cb5ae614c83}{}\label{classns3_1_1UeManager_a1ff2a09ff4ed22e06fc86cb5ae614c83}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+last\+Allocated\+Drbid@{m\+\_\+last\+Allocated\+Drbid}}
\index{m\+\_\+last\+Allocated\+Drbid@{m\+\_\+last\+Allocated\+Drbid}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Allocated\+Drbid}{m_lastAllocatedDrbid}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+last\+Allocated\+Drbid\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a6684861c62ae763709683b4940bf0ff3}{}\label{classns3_1_1UeManager_a6684861c62ae763709683b4940bf0ff3}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+last\+Rrc\+Transaction\+Identifier@{m\+\_\+last\+Rrc\+Transaction\+Identifier}}
\index{m\+\_\+last\+Rrc\+Transaction\+Identifier@{m\+\_\+last\+Rrc\+Transaction\+Identifier}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Rrc\+Transaction\+Identifier}{m_lastRrcTransactionIdentifier}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+last\+Rrc\+Transaction\+Identifier\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_aa8546edd90163c658d2ce9cc6c8da657}{}\label{classns3_1_1UeManager_aa8546edd90163c658d2ce9cc6c8da657}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+maxx2forwarding\+Buffer\+Size@{m\+\_\+maxx2forwarding\+Buffer\+Size}}
\index{m\+\_\+maxx2forwarding\+Buffer\+Size@{m\+\_\+maxx2forwarding\+Buffer\+Size}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+maxx2forwarding\+Buffer\+Size}{m_maxx2forwardingBufferSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+maxx2forwarding\+Buffer\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a06780ff70dbed84661ea3b1e0c06452c}{}\label{classns3_1_1UeManager_a06780ff70dbed84661ea3b1e0c06452c}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+mm\+Wave\+Cell\+Available\+For\+Mc\+Setup@{m\+\_\+mm\+Wave\+Cell\+Available\+For\+Mc\+Setup}}
\index{m\+\_\+mm\+Wave\+Cell\+Available\+For\+Mc\+Setup@{m\+\_\+mm\+Wave\+Cell\+Available\+For\+Mc\+Setup}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+mm\+Wave\+Cell\+Available\+For\+Mc\+Setup}{m_mmWaveCellAvailableForMcSetup}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ue\+Manager\+::m\+\_\+mm\+Wave\+Cell\+Available\+For\+Mc\+Setup\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_ad0ab1d98110575774a2d4da876878ad2}{}\label{classns3_1_1UeManager_ad0ab1d98110575774a2d4da876878ad2}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+mm\+Wave\+Cell\+Id@{m\+\_\+mm\+Wave\+Cell\+Id}}
\index{m\+\_\+mm\+Wave\+Cell\+Id@{m\+\_\+mm\+Wave\+Cell\+Id}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+mm\+Wave\+Cell\+Id}{m_mmWaveCellId}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+mm\+Wave\+Cell\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}{}\label{classns3_1_1UeManager_a0f53cb816bd8a3ad6227dc9adca671b2}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+mm\+Wave\+Rnti@{m\+\_\+mm\+Wave\+Rnti}}
\index{m\+\_\+mm\+Wave\+Rnti@{m\+\_\+mm\+Wave\+Rnti}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+mm\+Wave\+Rnti}{m_mmWaveRnti}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+mm\+Wave\+Rnti\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}{}\label{classns3_1_1UeManager_a3d5cf7dc8a13b9e2616ecb9a70faebd3}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+need\+Phy\+Mac\+Configuration@{m\+\_\+need\+Phy\+Mac\+Configuration}}
\index{m\+\_\+need\+Phy\+Mac\+Configuration@{m\+\_\+need\+Phy\+Mac\+Configuration}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+need\+Phy\+Mac\+Configuration}{m_needPhyMacConfiguration}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ue\+Manager\+::m\+\_\+need\+Phy\+Mac\+Configuration\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a2c655c5f3f0bdb4953405734118770df}{}\label{classns3_1_1UeManager_a2c655c5f3f0bdb4953405734118770df}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+pending\+Rrc\+Connection\+Reconfiguration@{m\+\_\+pending\+Rrc\+Connection\+Reconfiguration}}
\index{m\+\_\+pending\+Rrc\+Connection\+Reconfiguration@{m\+\_\+pending\+Rrc\+Connection\+Reconfiguration}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+pending\+Rrc\+Connection\+Reconfiguration}{m_pendingRrcConnectionReconfiguration}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ue\+Manager\+::m\+\_\+pending\+Rrc\+Connection\+Reconfiguration\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_ac1e5bf47aad07288d2676bb09e63e215}{}\label{classns3_1_1UeManager_ac1e5bf47aad07288d2676bb09e63e215}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+physical\+Config\+Dedicated@{m\+\_\+physical\+Config\+Dedicated}}
\index{m\+\_\+physical\+Config\+Dedicated@{m\+\_\+physical\+Config\+Dedicated}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+physical\+Config\+Dedicated}{m_physicalConfigDedicated}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Rrc\+Sap\+::\+Physical\+Config\+Dedicated} ns3\+::\+Ue\+Manager\+::m\+\_\+physical\+Config\+Dedicated\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}{}\label{classns3_1_1UeManager_a5fca85495adcd0de6823e738094aacaf}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+queued\+Handover\+Request\+Cell\+Id@{m\+\_\+queued\+Handover\+Request\+Cell\+Id}}
\index{m\+\_\+queued\+Handover\+Request\+Cell\+Id@{m\+\_\+queued\+Handover\+Request\+Cell\+Id}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+queued\+Handover\+Request\+Cell\+Id}{m_queuedHandoverRequestCellId}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+queued\+Handover\+Request\+Cell\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}{}\label{classns3_1_1UeManager_a70f73047c76f4fd1be2cc3665c381704}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+received\+Lte\+Mm\+Wave\+Handover\+Completed@{m\+\_\+received\+Lte\+Mm\+Wave\+Handover\+Completed}}
\index{m\+\_\+received\+Lte\+Mm\+Wave\+Handover\+Completed@{m\+\_\+received\+Lte\+Mm\+Wave\+Handover\+Completed}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+received\+Lte\+Mm\+Wave\+Handover\+Completed}{m_receivedLteMmWaveHandoverCompleted}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ue\+Manager\+::m\+\_\+received\+Lte\+Mm\+Wave\+Handover\+Completed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_add440b9081bc11490fc5b7cf72c45115}{}\label{classns3_1_1UeManager_add440b9081bc11490fc5b7cf72c45115}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+rlc\+Map@{m\+\_\+rlc\+Map}}
\index{m\+\_\+rlc\+Map@{m\+\_\+rlc\+Map}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+rlc\+Map}{m_rlcMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint8\+\_\+t, {\bf Ptr}$<${\bf Rlc\+Bearer\+Info}$>$ $>$ ns3\+::\+Ue\+Manager\+::m\+\_\+rlc\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}{}\label{classns3_1_1UeManager_a64f37a901db7a322552ba08d87e65770}
Map the drb into a R\+LC (used for remote independent R\+LC in an MC setup) \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+rlc\+Request\+Vector@{m\+\_\+rlc\+Request\+Vector}}
\index{m\+\_\+rlc\+Request\+Vector@{m\+\_\+rlc\+Request\+Vector}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+rlc\+Request\+Vector}{m_rlcRequestVector}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Epc\+X2\+Sap\+User\+::\+Rlc\+Setup\+Request}$>$ ns3\+::\+Ue\+Manager\+::m\+\_\+rlc\+Request\+Vector\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a998bc5ed29bd7edfa4c683adcfc7cabb}{}\label{classns3_1_1UeManager_a998bc5ed29bd7edfa4c683adcfc7cabb}
Map the drb into a R\+L\+C\+Setup\+Request (used to handover remote independent R\+LC in an MC setup) \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+rnti@{m\+\_\+rnti}}
\index{m\+\_\+rnti@{m\+\_\+rnti}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+rnti}{m_rnti}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+rnti\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}{}\label{classns3_1_1UeManager_a5a72b4fe818f21993bd7f05d7e2c4f83}
The {\ttfamily C-\/\+R\+N\+TI} attribute. Cell Radio Network Temporary Identifier. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+rrc@{m\+\_\+rrc}}
\index{m\+\_\+rrc@{m\+\_\+rrc}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+rrc}{m_rrc}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Lte\+Enb\+Rrc}$>$ ns3\+::\+Ue\+Manager\+::m\+\_\+rrc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}{}\label{classns3_1_1UeManager_ab4405e9f354c66e7c1a4c95832290f5b}


Pointer to the parent e\+NodeB R\+RC. 

\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+secondary\+Rlc\+Created\+Trace@{m\+\_\+secondary\+Rlc\+Created\+Trace}}
\index{m\+\_\+secondary\+Rlc\+Created\+Trace@{m\+\_\+secondary\+Rlc\+Created\+Trace}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+secondary\+Rlc\+Created\+Trace}{m_secondaryRlcCreatedTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<$uint64\+\_\+t, uint16\+\_\+t, uint16\+\_\+t$>$ ns3\+::\+Ue\+Manager\+::m\+\_\+secondary\+Rlc\+Created\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a1fd26ae2275ed93d13fefd27d1b89307}{}\label{classns3_1_1UeManager_a1fd26ae2275ed93d13fefd27d1b89307}
The {\ttfamily Switch\+To\+Mm\+Wave\+Enb} trace source. Fired upon receiving an A\+CK to a command to switch to Mm\+Wave R\+AT. Exporting I\+M\+SI, cell\+Id, R\+N\+TI. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+source\+Cell\+Id@{m\+\_\+source\+Cell\+Id}}
\index{m\+\_\+source\+Cell\+Id@{m\+\_\+source\+Cell\+Id}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+source\+Cell\+Id}{m_sourceCellId}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+source\+Cell\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_add9ed1d405182617c513205fab32d470}{}\label{classns3_1_1UeManager_add9ed1d405182617c513205fab32d470}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+source\+X2ap\+Id@{m\+\_\+source\+X2ap\+Id}}
\index{m\+\_\+source\+X2ap\+Id@{m\+\_\+source\+X2ap\+Id}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+source\+X2ap\+Id}{m_sourceX2apId}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+source\+X2ap\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_aec435692a673cd55353a2bb258d5f487}{}\label{classns3_1_1UeManager_aec435692a673cd55353a2bb258d5f487}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+srb0@{m\+\_\+srb0}}
\index{m\+\_\+srb0@{m\+\_\+srb0}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+srb0}{m_srb0}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Lte\+Signaling\+Radio\+Bearer\+Info}$>$ ns3\+::\+Ue\+Manager\+::m\+\_\+srb0\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a8125951721a3aeefbf6ea5af111f2f3f}{}\label{classns3_1_1UeManager_a8125951721a3aeefbf6ea5af111f2f3f}
The {\ttfamily Srb0} attribute. Signaling\+Radio\+Bearer\+Info for S\+R\+B0. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+srb1@{m\+\_\+srb1}}
\index{m\+\_\+srb1@{m\+\_\+srb1}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+srb1}{m_srb1}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Lte\+Signaling\+Radio\+Bearer\+Info}$>$ ns3\+::\+Ue\+Manager\+::m\+\_\+srb1\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}{}\label{classns3_1_1UeManager_a196852199b6a48c365eadfec4ba89935}
The {\ttfamily Srb1} attribute. Signaling\+Radio\+Bearer\+Info for S\+R\+B1. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+state@{m\+\_\+state}}
\index{m\+\_\+state@{m\+\_\+state}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+state}{m_state}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf State} ns3\+::\+Ue\+Manager\+::m\+\_\+state\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}{}\label{classns3_1_1UeManager_aaed4b2490297cb912e743084f1a27b08}


The current \hyperlink{classns3_1_1UeManager}{Ue\+Manager} state. 

\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+state\+Transition\+Trace@{m\+\_\+state\+Transition\+Trace}}
\index{m\+\_\+state\+Transition\+Trace@{m\+\_\+state\+Transition\+Trace}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+state\+Transition\+Trace}{m_stateTransitionTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<$uint64\+\_\+t, uint16\+\_\+t, uint16\+\_\+t, {\bf State}, {\bf State}$>$ ns3\+::\+Ue\+Manager\+::m\+\_\+state\+Transition\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_ac17d478044a6111ca71b05d8b3950bf7}{}\label{classns3_1_1UeManager_ac17d478044a6111ca71b05d8b3950bf7}
The {\ttfamily State\+Transition} trace source. Fired upon every UE state transition seen by the \hyperlink{classns3_1_1UeManager}{Ue\+Manager} at the e\+NB R\+RC. Exporting I\+M\+SI, cell ID, R\+N\+TI, old state, and new state. \index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+target\+Cell\+Id@{m\+\_\+target\+Cell\+Id}}
\index{m\+\_\+target\+Cell\+Id@{m\+\_\+target\+Cell\+Id}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+target\+Cell\+Id}{m_targetCellId}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+target\+Cell\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a8a70641b8dfb0641e6cfcf4cc83083a3}{}\label{classns3_1_1UeManager_a8a70641b8dfb0641e6cfcf4cc83083a3}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+x2forwarding\+Buffer@{m\+\_\+x2forwarding\+Buffer}}
\index{m\+\_\+x2forwarding\+Buffer@{m\+\_\+x2forwarding\+Buffer}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+x2forwarding\+Buffer}{m_x2forwardingBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Ptr}$<${\bf Packet}$>$ $>$ ns3\+::\+Ue\+Manager\+::m\+\_\+x2forwarding\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}{}\label{classns3_1_1UeManager_a3fb8a9dc6ef434306f90f42837f3ae83}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!m\+\_\+x2forwarding\+Buffer\+Size@{m\+\_\+x2forwarding\+Buffer\+Size}}
\index{m\+\_\+x2forwarding\+Buffer\+Size@{m\+\_\+x2forwarding\+Buffer\+Size}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+x2forwarding\+Buffer\+Size}{m_x2forwardingBufferSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Ue\+Manager\+::m\+\_\+x2forwarding\+Buffer\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}{}\label{classns3_1_1UeManager_af9b888fa844a79c14b46c50ebae65031}
\index{ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}!Mc\+\_\+\+Count@{Mc\+\_\+\+Count}}
\index{Mc\+\_\+\+Count@{Mc\+\_\+\+Count}!ns3\+::\+Ue\+Manager@{ns3\+::\+Ue\+Manager}}
\subsubsection[{\texorpdfstring{Mc\+\_\+\+Count}{Mc_Count}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ue\+Manager\+::\+Mc\+\_\+\+Count =0\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1UeManager_a511c8f672390b1520ba134623782ac81}{}\label{classns3_1_1UeManager_a511c8f672390b1520ba134623782ac81}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{lte-enb-rrc_8h}{lte-\/enb-\/rrc.\+h}\item 
lte/model/\hyperlink{lte-enb-rrc_8cc}{lte-\/enb-\/rrc.\+cc}\end{DoxyCompactItemize}
