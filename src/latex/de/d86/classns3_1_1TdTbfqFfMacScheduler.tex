\hypertarget{classns3_1_1TdTbfqFfMacScheduler}{}\section{ns3\+:\+:Td\+Tbfq\+Ff\+Mac\+Scheduler Class Reference}
\label{classns3_1_1TdTbfqFfMacScheduler}\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}


Implements the S\+C\+H\+ED S\+AP and C\+S\+C\+H\+ED S\+AP for a \hyperlink{classns3_1_1Time}{Time} Domain Token Bank Fair \hyperlink{classns3_1_1Queue}{Queue} scheduler.  




{\ttfamily \#include $<$tdtbfq-\/ff-\/mac-\/scheduler.\+h$>$}



Inheritance diagram for ns3\+:\+:Td\+Tbfq\+Ff\+Mac\+Scheduler\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Td\+Tbfq\+Ff\+Mac\+Scheduler\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1TdTbfqFfMacScheduler_ae3122288024d362f6257689e8f1cb55f}{Td\+Tbfq\+Ff\+Mac\+Scheduler} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad0af9fb4be53e098cc3f7ee81c39d1d4}{$\sim$\+Td\+Tbfq\+Ff\+Mac\+Scheduler} ()
\item 
virtual void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a2e3ba63463ee06a7fca95def5363be8b}{Do\+Dispose} (void)
\item 
virtual void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3bffc6c77357e4f27ae1e991e82c3d85}{Set\+Ff\+Mac\+Csched\+Sap\+User} (\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab65051b5985639a76336f8d872fb9e8b}{Set\+Ff\+Mac\+Sched\+Sap\+User} (\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4425e28389e1a305032d993becc78fbc}{Get\+Ff\+Mac\+Csched\+Sap\+Provider} ()
\item 
virtual \hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a2c2c112ceb89d90e6aecedd2c2a72884}{Get\+Ff\+Mac\+Sched\+Sap\+Provider} ()
\item 
virtual void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ace0852121c7719227fd6f6daf2a175bd}{Set\+Lte\+Ffr\+Sap\+Provider} (\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aca135b6386627e6603991bee030f3b97}{Get\+Lte\+Ffr\+Sap\+User} ()
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a891b790a6d5b1c87184caa73b5060c9e}{Transmission\+Mode\+Configuration\+Update} (uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)
\item 
\hyperlink{classns3_1_1TdTbfqFfMacScheduler_ae3122288024d362f6257689e8f1cb55f}{Td\+Tbfq\+Ff\+Mac\+Scheduler} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a05b0b0369cc7f7d552b0313b36560654}{$\sim$\+Td\+Tbfq\+Ff\+Mac\+Scheduler} ()
\item 
virtual void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a8a6414c59327b7aa567db9e74b6afda1}{Do\+Dispose} (void)
\item 
virtual void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad8f44a9b2ac001c855d82e3b9ded502f}{Set\+Ff\+Mac\+Csched\+Sap\+User} (\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6a8a5bb008c669fa4cdae8799344de4a}{Set\+Ff\+Mac\+Sched\+Sap\+User} (\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a26040de50aa8ef1d30fba59c17eab29f}{Get\+Ff\+Mac\+Csched\+Sap\+Provider} ()
\item 
virtual \hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6be16307a7f3a930a4fd92c968b6025a}{Get\+Ff\+Mac\+Sched\+Sap\+Provider} ()
\item 
virtual void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa04823cd675b273ac38dcc1863dd3659}{Set\+Lte\+Ffr\+Sap\+Provider} (\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5797de400f1de13da0156a378099bd13}{Get\+Lte\+Ffr\+Sap\+User} ()
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a891b790a6d5b1c87184caa73b5060c9e}{Transmission\+Mode\+Configuration\+Update} (uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a78d785948cf369e48467f9d29fcaf2ac}{Get\+Type\+Id} (void)
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6dcc3f603c221f4814f3efc679270a43}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_abefcf3499dbe3ce359df0d09d3da4ac5}{Do\+Csched\+Cell\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aee5b428e4932812e2708e20e976ffb0e}{Do\+Csched\+Ue\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa911674878b8ff47e0bcc4f0196612f4}{Do\+Csched\+Lc\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5c7d6a29a1e92a7f915b6c4cc4944157}{Do\+Csched\+Lc\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa0c42725c07b280b86ca940d7012cad4}{Do\+Csched\+Ue\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6b8d36914009347728c5d517283a893a}{Do\+Sched\+Dl\+Rlc\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a40f470a747723cf340cd7922ab5f1610}{Do\+Sched\+Dl\+Paging\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlPagingBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a171a4b464d432b8f52c22722b707a69d}{Do\+Sched\+Dl\+Mac\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlMacBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad8195ea29a3aec05aa9766537e31cdf7}{Do\+Sched\+Dl\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a036444c3b8eedf585d2147a675f52765}{Do\+Sched\+Dl\+Rach\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRachInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a053e47bfd4e4f4504007899dd28d3e39}{Do\+Sched\+Dl\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a976f5dbc342e1617234cb49d6a017e32}{Do\+Sched\+Ul\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a090bb6e4d0ac8bc132ea8e03c6adecdb}{Do\+Sched\+Ul\+Noise\+Interference\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlNoiseInterferenceReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa94c8fab12dc1a7cc8e0268971422c5f}{Do\+Sched\+Ul\+Sr\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlSrInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad648d54dec654621fd2719366a11ac64}{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlMacCtrlInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a71e35a0d5f1c22753fae4777ffda3e01}{Do\+Sched\+Ul\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
int \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a66bac32b64401c51a50b7f554028f78e}{Get\+Rbg\+Size} (int dlbandwidth)
\item 
int \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af59fe1b38ec5ca5d51393c9d3a99375c}{Lc\+Active\+Per\+Flow} (uint16\+\_\+t rnti)
\item 
double \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9d1ab86d5693cc316f2c30fff137311e}{Estimate\+Ul\+Sinr} (uint16\+\_\+t rnti, uint16\+\_\+t rb)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ae5c88a5647201a5b882922a950832104}{Refresh\+Dl\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a98ee5d1cb33162511118b7da222be604}{Refresh\+Ul\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a268d99954f7c5e69294a43b82671dcf9}{Update\+Dl\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a2caa7b733fe0f6d0c4739cd7b6dba645}{Update\+Ul\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint16\+\_\+t size)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a521baa680048ecfaba2eb55dacae5600}{Update\+Harq\+Process\+Id} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Update and return a new process Id for the R\+N\+TI specified. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6df3d860dc847dfa118d87b4a3679c7e}{Harq\+Process\+Availability} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Return the availability of free process for the R\+N\+TI specified. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ae26f1cd58ab1221afdcd0fe4a1c04a11}{Refresh\+Harq\+Processes} ()
\begin{DoxyCompactList}\small\item\em Refresh H\+A\+RQ processes according to the timers. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_abefcf3499dbe3ce359df0d09d3da4ac5}{Do\+Csched\+Cell\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aee5b428e4932812e2708e20e976ffb0e}{Do\+Csched\+Ue\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa911674878b8ff47e0bcc4f0196612f4}{Do\+Csched\+Lc\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5c7d6a29a1e92a7f915b6c4cc4944157}{Do\+Csched\+Lc\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa0c42725c07b280b86ca940d7012cad4}{Do\+Csched\+Ue\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6b8d36914009347728c5d517283a893a}{Do\+Sched\+Dl\+Rlc\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a40f470a747723cf340cd7922ab5f1610}{Do\+Sched\+Dl\+Paging\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlPagingBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a171a4b464d432b8f52c22722b707a69d}{Do\+Sched\+Dl\+Mac\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlMacBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad8195ea29a3aec05aa9766537e31cdf7}{Do\+Sched\+Dl\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a036444c3b8eedf585d2147a675f52765}{Do\+Sched\+Dl\+Rach\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRachInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a053e47bfd4e4f4504007899dd28d3e39}{Do\+Sched\+Dl\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a976f5dbc342e1617234cb49d6a017e32}{Do\+Sched\+Ul\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a090bb6e4d0ac8bc132ea8e03c6adecdb}{Do\+Sched\+Ul\+Noise\+Interference\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlNoiseInterferenceReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa94c8fab12dc1a7cc8e0268971422c5f}{Do\+Sched\+Ul\+Sr\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlSrInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad648d54dec654621fd2719366a11ac64}{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlMacCtrlInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a71e35a0d5f1c22753fae4777ffda3e01}{Do\+Sched\+Ul\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
int \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a66bac32b64401c51a50b7f554028f78e}{Get\+Rbg\+Size} (int dlbandwidth)
\item 
int \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af59fe1b38ec5ca5d51393c9d3a99375c}{Lc\+Active\+Per\+Flow} (uint16\+\_\+t rnti)
\item 
double \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9d1ab86d5693cc316f2c30fff137311e}{Estimate\+Ul\+Sinr} (uint16\+\_\+t rnti, uint16\+\_\+t rb)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ae5c88a5647201a5b882922a950832104}{Refresh\+Dl\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a98ee5d1cb33162511118b7da222be604}{Refresh\+Ul\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a268d99954f7c5e69294a43b82671dcf9}{Update\+Dl\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)
\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a2caa7b733fe0f6d0c4739cd7b6dba645}{Update\+Ul\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint16\+\_\+t size)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a521baa680048ecfaba2eb55dacae5600}{Update\+Harq\+Process\+Id} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Update and return a new process Id for the R\+N\+TI specified. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6df3d860dc847dfa118d87b4a3679c7e}{Harq\+Process\+Availability} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Return the availability of free process for the R\+N\+TI specified. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ae26f1cd58ab1221afdcd0fe4a1c04a11}{Refresh\+Harq\+Processes} ()
\begin{DoxyCompactList}\small\item\em Refresh H\+A\+RQ processes according to the timers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteAmc}{Lte\+Amc} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}{m\+\_\+amc}
\item 
std\+::map$<$ \hyperlink{structns3_1_1LteFlowId__t}{Lte\+Flow\+Id\+\_\+t}, \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\+\_\+rlc\+Buffer\+Req}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1tdtbfqsFlowPerf__t}{tdtbfqs\+Flow\+Perf\+\_\+t} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\+\_\+flow\+Stats\+Dl}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1tdtbfqsFlowPerf__t}{tdtbfqs\+Flow\+Perf\+\_\+t} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad4ebe2d2a182a088507ade045b583903}{m\+\_\+flow\+Stats\+Ul}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afadf1919ebd3f749f973a94088ff74dc}{m\+\_\+p10\+Cqi\+Rxed}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aaf5d854702133742423180538d27f6f1}{m\+\_\+p10\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1SbMeasResult__s}{Sb\+Meas\+Result\+\_\+s} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}{m\+\_\+a30\+Cqi\+Rxed}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a208160933cb6d934c6cfb8114734226a}{m\+\_\+a30\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ uint16\+\_\+t $>$ $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a0801127489d3eda5a462660c4af4c8bd}{m\+\_\+allocation\+Maps}
\item 
std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ double $>$ $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\+\_\+ue\+Cqi}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_abc6132bce28b1ee650503bf3144eb22a}{m\+\_\+ue\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\+\_\+ce\+Bsr\+Rxed}
\item 
\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6e8b2fe6e59a2f53e5925eb4e07f4188}{m\+\_\+csched\+Sap\+User}
\item 
\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a8f5689c5d8af1b40e97dacfce14f605a}{m\+\_\+sched\+Sap\+User}
\item 
\hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a22a19059921cf652fbce916ceca70972}{m\+\_\+csched\+Sap\+Provider}
\item 
\hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afeed1dc1600c32b8ecc7c1b4f805ca12}{m\+\_\+sched\+Sap\+Provider}
\item 
\hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa78fad6d52a8781e7ed2a51a75ae61b9}{m\+\_\+ffr\+Sap\+User}
\item 
\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\+\_\+ffr\+Sap\+Provider}
\item 
\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\+\_\+csched\+Cell\+Config}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}{m\+\_\+next\+Rnti\+Ul}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\+\_\+cqi\+Timers\+Threshold}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a81895414769458c1204040d901d7bba7}{m\+\_\+ues\+Tx\+Mode}
\item 
uint64\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af215332201b187b2699413c222d0c88d}{bank\+Size}
\item 
int \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9c3d40d1117e3afd1dbb4747008d256e}{m\+\_\+debt\+Limit}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4fcf66ab5e783305bad38c4667f2cfd0}{m\+\_\+credit\+Limit}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ac14d4dbc811afa558ad1b7fc125b188b}{m\+\_\+token\+Pool\+Size}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a776a405971c9f74b3ad96379a9aa7abe}{m\+\_\+creditable\+Threshold}
\item 
bool \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}{m\+\_\+harq\+On}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad1c507f0824369e326a2f4594a19f5e9}{m\+\_\+dl\+Harq\+Current\+Process\+Id}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a457b3571b67ff17d042e9894e90e2ce2}{Dl\+Harq\+Processes\+Status\+\_\+t} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\+\_\+dl\+Harq\+Processes\+Status}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a39413ade536de4b1c82d6c0074cc703e}{Dl\+Harq\+Processes\+Timer\+\_\+t} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{m\+\_\+dl\+Harq\+Processes\+Timer}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_af25599bf8f9f564075c005759c9af18c}{Dl\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a50d8986111a3dc24130127d3ea391d7e}{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a4c0cbd1e72f1c667f8b5879655f13210}{Dl\+Harq\+Rlc\+Pdu\+List\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}
\item 
std\+::vector$<$ \hyperlink{structns3_1_1DlInfoListElement__s}{Dl\+Info\+List\+Element\+\_\+s} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\+\_\+dl\+Info\+List\+Buffered}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\+\_\+ul\+Harq\+Current\+Process\+Id}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_af765c4daaafe4ea4809c1041fc196629}{Ul\+Harq\+Processes\+Status\+\_\+t} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a845d3e79ce5c38b47c8ac8a7e4cc5b37}{m\+\_\+ul\+Harq\+Processes\+Status}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a042cbd6bf67e73911cba35b8c070223d}{Ul\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}
\item 
std\+::vector$<$ struct \hyperlink{structns3_1_1RachListElement__s}{Rach\+List\+Element\+\_\+s} $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a103dfe516b13e9ca8e0d1247c11b3679}{m\+\_\+rach\+List}
\item 
std\+::vector$<$ uint16\+\_\+t $>$ \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a09760afce6c2b248fbc5cbcffb9dede5}{m\+\_\+rach\+Allocation\+Map}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a7382f05e10e61de33d6559202a1252bd}{m\+\_\+ul\+Grant\+Mcs}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad2f079679137356c7b49387428bb961e}{Td\+Tbfq\+Scheduler\+Member\+Csched\+Sap\+Provider}
\item 
class \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a68369554f57aba1ab95ff0287e757a78}{Td\+Tbfq\+Scheduler\+Member\+Sched\+Sap\+Provider}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Implements the S\+C\+H\+ED S\+AP and C\+S\+C\+H\+ED S\+AP for a \hyperlink{classns3_1_1Time}{Time} Domain Token Bank Fair \hyperlink{classns3_1_1Queue}{Queue} scheduler. 

This class implements the interface defined by the \hyperlink{classns3_1_1FfMacScheduler}{Ff\+Mac\+Scheduler} abstract class 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Td\+Tbfq\+Ff\+Mac\+Scheduler@{Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\index{Td\+Tbfq\+Ff\+Mac\+Scheduler@{Td\+Tbfq\+Ff\+Mac\+Scheduler}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Td\+Tbfq\+Ff\+Mac\+Scheduler()}{TdTbfqFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ae3122288024d362f6257689e8f1cb55f}{}\label{classns3_1_1TdTbfqFfMacScheduler_ae3122288024d362f6257689e8f1cb55f}


Constructor. 

Creates the M\+AC \hyperlink{classns3_1_1Scheduler}{Scheduler} interface implementation 
\begin{DoxyCode}
218   :   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6e8b2fe6e59a2f53e5925eb4e07f4188}{m\_cschedSapUser} (0),
219     \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a8f5689c5d8af1b40e97dacfce14f605a}{m\_schedSapUser} (0),
220     \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}{m\_nextRntiUl} (0),
221     \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af215332201b187b2699413c222d0c88d}{bankSize} (0)
222 \{
223   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}{m\_amc} = CreateObject <LteAmc> ();
224   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a22a19059921cf652fbce916ceca70972}{m\_cschedSapProvider} = \textcolor{keyword}{new} 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad2f079679137356c7b49387428bb961e}{TdTbfqSchedulerMemberCschedSapProvider} (\textcolor{keyword}{this});
225   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afeed1dc1600c32b8ecc7c1b4f805ca12}{m\_schedSapProvider} = \textcolor{keyword}{new} 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a68369554f57aba1ab95ff0287e757a78}{TdTbfqSchedulerMemberSchedSapProvider} (\textcolor{keyword}{this});
226   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider} = 0;
227   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa78fad6d52a8781e7ed2a51a75ae61b9}{m\_ffrSapUser} = \textcolor{keyword}{new} MemberLteFfrSapUser<TdTbfqFfMacScheduler> (\textcolor{keyword}{this});
228 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!````~Td\+Tbfq\+Ff\+Mac\+Scheduler@{$\sim$\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\index{````~Td\+Tbfq\+Ff\+Mac\+Scheduler@{$\sim$\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{$\sim$\+Td\+Tbfq\+Ff\+Mac\+Scheduler()}{~TdTbfqFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::$\sim$\+Td\+Tbfq\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ad0af9fb4be53e098cc3f7ee81c39d1d4}{}\label{classns3_1_1TdTbfqFfMacScheduler_ad0af9fb4be53e098cc3f7ee81c39d1d4}
Destructor 
\begin{DoxyCode}
231 \{
232   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
233 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Td\+Tbfq\+Ff\+Mac\+Scheduler@{Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\index{Td\+Tbfq\+Ff\+Mac\+Scheduler@{Td\+Tbfq\+Ff\+Mac\+Scheduler}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Td\+Tbfq\+Ff\+Mac\+Scheduler()}{TdTbfqFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ae3122288024d362f6257689e8f1cb55f}{}\label{classns3_1_1TdTbfqFfMacScheduler_ae3122288024d362f6257689e8f1cb55f}


Constructor. 

Creates the M\+AC \hyperlink{classns3_1_1Scheduler}{Scheduler} interface implementation \index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!````~Td\+Tbfq\+Ff\+Mac\+Scheduler@{$\sim$\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\index{````~Td\+Tbfq\+Ff\+Mac\+Scheduler@{$\sim$\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{$\sim$\+Td\+Tbfq\+Ff\+Mac\+Scheduler()}{~TdTbfqFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::$\sim$\+Td\+Tbfq\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a05b0b0369cc7f7d552b0313b36560654}{}\label{classns3_1_1TdTbfqFfMacScheduler_a05b0b0369cc7f7d552b0313b36560654}
Destructor 

\subsection{Member Function Documentation}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}}
\index{Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Cell\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters \&params)}{DoCschedCellConfigReq(const struct FfMacCschedSapProvider::CschedCellConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Cell\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_abefcf3499dbe3ce359df0d09d3da4ac5}{}\label{classns3_1_1TdTbfqFfMacScheduler_abefcf3499dbe3ce359df0d09d3da4ac5}

\begin{DoxyCode}
338 \{
339   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
340   \textcolor{comment}{// Read the subset of parameters used}
341   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig} = params;
342   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a09760afce6c2b248fbc5cbcffb9dede5}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
343   FfMacCschedSapUser::CschedUeConfigCnfParameters cnf;
344   cnf.m\_result = \hyperlink{namespacens3_a7acf2b7f9e0781dfe43a6bc54d6ecd07a4e8f5e8f6e514152d0a9fbd6b1607fd0}{SUCCESS};
345   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6e8b2fe6e59a2f53e5925eb4e07f4188}{m\_cschedSapUser}->\hyperlink{classns3_1_1FfMacCschedSapUser_aecc852478a4ba7e4cd868dae75e01b68}{CschedUeConfigCnf} (cnf);
346   \textcolor{keywordflow}{return};
347 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}}
\index{Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Cell\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters \&params)}{DoCschedCellConfigReq(const struct FfMacCschedSapProvider::CschedCellConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Cell\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_abefcf3499dbe3ce359df0d09d3da4ac5}{}\label{classns3_1_1TdTbfqFfMacScheduler_abefcf3499dbe3ce359df0d09d3da4ac5}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}}
\index{Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters \&params)}{DoCschedLcConfigReq(const struct FfMacCschedSapProvider::CschedLcConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aa911674878b8ff47e0bcc4f0196612f4}{}\label{classns3_1_1TdTbfqFfMacScheduler_aa911674878b8ff47e0bcc4f0196612f4}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}}
\index{Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters \&params)}{DoCschedLcConfigReq(const struct FfMacCschedSapProvider::CschedLcConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aa911674878b8ff47e0bcc4f0196612f4}{}\label{classns3_1_1TdTbfqFfMacScheduler_aa911674878b8ff47e0bcc4f0196612f4}

\begin{DoxyCode}
390 \{
391   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" New LC, rnti: "}  << params.m\_rnti);
392 
393   std::map <uint16\_t, tdtbfqsFlowPerf\_t>::iterator it;
394   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_logicalChannelConfigList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
395     \{
396       it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}.find (params.m\_rnti);
397 
398       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}.end ())
399         \{
400           uint64\_t mbrDlInBytes = params.m\_logicalChannelConfigList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_eRabMaximulBitrateDl / 8;   \textcolor{comment}{
      // byte/s}
401           uint64\_t mbrUlInBytes = params.m\_logicalChannelConfigList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_eRabMaximulBitrateUl / 8;   \textcolor{comment}{
      // byte/s}
402 
403           tdtbfqsFlowPerf\_t flowStatsDl;
404           flowStatsDl.flowStart = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
405           flowStatsDl.packetArrivalRate = 0;
406           flowStatsDl.tokenGenerationRate =  mbrDlInBytes;
407           flowStatsDl.tokenPoolSize = 0;
408           flowStatsDl.maxTokenPoolSize = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ac14d4dbc811afa558ad1b7fc125b188b}{m\_tokenPoolSize};
409           flowStatsDl.counter = 0;
410           flowStatsDl.burstCredit = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4fcf66ab5e783305bad38c4667f2cfd0}{m\_creditLimit}; \textcolor{comment}{// bytes}
411           flowStatsDl.debtLimit = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9c3d40d1117e3afd1dbb4747008d256e}{m\_debtLimit}; \textcolor{comment}{// bytes}
412           flowStatsDl.creditableThreshold = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a776a405971c9f74b3ad96379a9aa7abe}{m\_creditableThreshold};
413           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}.insert (std::pair<uint16\_t, tdtbfqsFlowPerf\_t> (params.m\_rnti, 
      flowStatsDl));
414           tdtbfqsFlowPerf\_t flowStatsUl;
415           flowStatsUl.flowStart = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
416           flowStatsUl.packetArrivalRate = 0;
417           flowStatsUl.tokenGenerationRate = mbrUlInBytes;
418           flowStatsUl.tokenPoolSize = 0;
419           flowStatsUl.maxTokenPoolSize = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ac14d4dbc811afa558ad1b7fc125b188b}{m\_tokenPoolSize};
420           flowStatsUl.counter = 0;
421           flowStatsUl.burstCredit = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4fcf66ab5e783305bad38c4667f2cfd0}{m\_creditLimit};  \textcolor{comment}{// bytes}
422           flowStatsUl.debtLimit = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9c3d40d1117e3afd1dbb4747008d256e}{m\_debtLimit};  \textcolor{comment}{// bytes}
423           flowStatsUl.creditableThreshold = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a776a405971c9f74b3ad96379a9aa7abe}{m\_creditableThreshold};
424           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad4ebe2d2a182a088507ade045b583903}{m\_flowStatsUl}.insert (std::pair<uint16\_t, tdtbfqsFlowPerf\_t> (params.m\_rnti, 
      flowStatsUl));
425         \}
426       \textcolor{keywordflow}{else}
427         \{
428           \textcolor{comment}{// update MBR and GBR from UeManager::SetupDataRadioBearer ()}
429           uint64\_t mbrDlInBytes = params.m\_logicalChannelConfigList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_eRabMaximulBitrateDl / 8;   \textcolor{comment}{
      // byte/s}
430           uint64\_t mbrUlInBytes = params.m\_logicalChannelConfigList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_eRabMaximulBitrateUl / 8;   \textcolor{comment}{
      // byte/s}
431           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}[(*it).first].tokenGenerationRate =  mbrDlInBytes;
432           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad4ebe2d2a182a088507ade045b583903}{m\_flowStatsUl}[(*it).first].tokenGenerationRate =  mbrUlInBytes;
433 
434         \}
435     \}
436 
437   \textcolor{keywordflow}{return};
438 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}}
\index{Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters \&params)}{DoCschedLcReleaseReq(const struct FfMacCschedSapProvider::CschedLcReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a5c7d6a29a1e92a7f915b6c4cc4944157}{}\label{classns3_1_1TdTbfqFfMacScheduler_a5c7d6a29a1e92a7f915b6c4cc4944157}

\begin{DoxyCode}
442 \{
443   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
444   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_logicalChannelIdentity.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
445     \{
446       std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.begin ();
447       std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator temp;
448       \textcolor{keywordflow}{while} (it!=\hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.end ())
449         \{
450           \textcolor{keywordflow}{if} (((*it).first.m\_rnti == params.m\_rnti) && ((*it).first.m\_lcId == params.
      m\_logicalChannelIdentity.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})))
451             \{
452               temp = it;
453               it++;
454               \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.erase (temp);
455             \}
456           \textcolor{keywordflow}{else}
457             \{
458               it++;
459             \}
460         \}
461     \}
462   \textcolor{keywordflow}{return};
463 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}}
\index{Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters \&params)}{DoCschedLcReleaseReq(const struct FfMacCschedSapProvider::CschedLcReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a5c7d6a29a1e92a7f915b6c4cc4944157}{}\label{classns3_1_1TdTbfqFfMacScheduler_a5c7d6a29a1e92a7f915b6c4cc4944157}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}}
\index{Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters \&params)}{DoCschedUeConfigReq(const struct FfMacCschedSapProvider::CschedUeConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aee5b428e4932812e2708e20e976ffb0e}{}\label{classns3_1_1TdTbfqFfMacScheduler_aee5b428e4932812e2708e20e976ffb0e}

\begin{DoxyCode}
351 \{
352   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << params.m\_rnti << \textcolor{stringliteral}{" txMode "} << (uint16\_t)params.
      m\_transmissionMode);
353   std::map <uint16\_t,uint8\_t>::iterator it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a81895414769458c1204040d901d7bba7}{m\_uesTxMode}.find (params.m\_rnti);
354   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a81895414769458c1204040d901d7bba7}{m\_uesTxMode}.end ())
355     \{
356       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a81895414769458c1204040d901d7bba7}{m\_uesTxMode}.insert (std::pair <uint16\_t, double> (params.m\_rnti, params.m\_transmissionMode
      ));
357       \textcolor{comment}{// generate HARQ buffers}
358       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad1c507f0824369e326a2f4594a19f5e9}{m\_dlHarqCurrentProcessId}.insert (std::pair <uint16\_t,uint8\_t > (params.m\_rnti
      , 0));
359       \hyperlink{namespacens3_a457b3571b67ff17d042e9894e90e2ce2}{DlHarqProcessesStatus\_t} dlHarqPrcStatus;
360       dlHarqPrcStatus.resize (8,0);
361       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.insert (std::pair <uint16\_t, DlHarqProcessesStatus\_t> 
      (params.m\_rnti, dlHarqPrcStatus));
362       \hyperlink{namespacens3_a39413ade536de4b1c82d6c0074cc703e}{DlHarqProcessesTimer\_t} dlHarqProcessesTimer;
363       dlHarqProcessesTimer.resize (8,0);
364       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{m\_dlHarqProcessesTimer}.insert (std::pair <uint16\_t, DlHarqProcessesTimer\_t> (
      params.m\_rnti, dlHarqProcessesTimer));
365       \hyperlink{namespacens3_af25599bf8f9f564075c005759c9af18c}{DlHarqProcessesDciBuffer\_t} dlHarqdci;
366       dlHarqdci.resize (8);
367       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a50d8986111a3dc24130127d3ea391d7e}{m\_dlHarqProcessesDciBuffer}.insert (std::pair <uint16\_t,
       DlHarqProcessesDciBuffer\_t> (params.m\_rnti, dlHarqdci));
368       \hyperlink{namespacens3_a4c0cbd1e72f1c667f8b5879655f13210}{DlHarqRlcPduListBuffer\_t} dlHarqRlcPdu;
369       dlHarqRlcPdu.resize (2);
370       dlHarqRlcPdu.at (0).resize (8);
371       dlHarqRlcPdu.at (1).resize (8);
372       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.insert (std::pair <uint16\_t,
       DlHarqRlcPduListBuffer\_t> (params.m\_rnti, dlHarqRlcPdu));
373       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.insert (std::pair <uint16\_t,uint8\_t > (params.m\_rnti
      , 0));
374       \hyperlink{namespacens3_af765c4daaafe4ea4809c1041fc196629}{UlHarqProcessesStatus\_t} ulHarqPrcStatus;
375       ulHarqPrcStatus.resize (8,0);
376       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a845d3e79ce5c38b47c8ac8a7e4cc5b37}{m\_ulHarqProcessesStatus}.insert (std::pair <uint16\_t, UlHarqProcessesStatus\_t> 
      (params.m\_rnti, ulHarqPrcStatus));
377       \hyperlink{namespacens3_a042cbd6bf67e73911cba35b8c070223d}{UlHarqProcessesDciBuffer\_t} ulHarqdci;
378       ulHarqdci.resize (8);
379       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{m\_ulHarqProcessesDciBuffer}.insert (std::pair <uint16\_t,
       UlHarqProcessesDciBuffer\_t> (params.m\_rnti, ulHarqdci));
380     \}
381   \textcolor{keywordflow}{else}
382     \{
383       (*it).second = params.m\_transmissionMode;
384     \}
385   \textcolor{keywordflow}{return};
386 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}}
\index{Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters \&params)}{DoCschedUeConfigReq(const struct FfMacCschedSapProvider::CschedUeConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aee5b428e4932812e2708e20e976ffb0e}{}\label{classns3_1_1TdTbfqFfMacScheduler_aee5b428e4932812e2708e20e976ffb0e}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}}
\index{Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters \&params)}{DoCschedUeReleaseReq(const struct FfMacCschedSapProvider::CschedUeReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aa0c42725c07b280b86ca940d7012cad4}{}\label{classns3_1_1TdTbfqFfMacScheduler_aa0c42725c07b280b86ca940d7012cad4}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}}
\index{Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters \&params)}{DoCschedUeReleaseReq(const struct FfMacCschedSapProvider::CschedUeReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aa0c42725c07b280b86ca940d7012cad4}{}\label{classns3_1_1TdTbfqFfMacScheduler_aa0c42725c07b280b86ca940d7012cad4}

\begin{DoxyCode}
467 \{
468   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
469   
470   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a81895414769458c1204040d901d7bba7}{m\_uesTxMode}.erase (params.m\_rnti);
471   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad1c507f0824369e326a2f4594a19f5e9}{m\_dlHarqCurrentProcessId}.erase (params.m\_rnti);
472   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.erase  (params.m\_rnti);
473   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{m\_dlHarqProcessesTimer}.erase (params.m\_rnti);
474   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a50d8986111a3dc24130127d3ea391d7e}{m\_dlHarqProcessesDciBuffer}.erase  (params.m\_rnti);
475   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.erase  (params.m\_rnti);
476   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.erase  (params.m\_rnti);
477   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a845d3e79ce5c38b47c8ac8a7e4cc5b37}{m\_ulHarqProcessesStatus}.erase  (params.m\_rnti);
478   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{m\_ulHarqProcessesDciBuffer}.erase  (params.m\_rnti);
479   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}.erase  (params.m\_rnti);
480   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad4ebe2d2a182a088507ade045b583903}{m\_flowStatsUl}.erase  (params.m\_rnti);
481   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.erase (params.m\_rnti);
482   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.begin ();
483   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator temp;
484   \textcolor{keywordflow}{while} (it!=\hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.end ())
485     \{
486       \textcolor{keywordflow}{if} ((*it).first.m\_rnti == params.m\_rnti)
487         \{
488           temp = it;
489           it++;
490           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.erase (temp);
491         \}
492       \textcolor{keywordflow}{else}
493         \{
494           it++;
495         \}
496     \}
497   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}{m\_nextRntiUl} == params.m\_rnti)
498     \{
499       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}{m\_nextRntiUl} = 0;
500     \}
501 
502   \textcolor{keywordflow}{return};
503 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a8a6414c59327b7aa567db9e74b6afda1}{}\label{classns3_1_1TdTbfqFfMacScheduler_a8a6414c59327b7aa567db9e74b6afda1}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a2e3ba63463ee06a7fca95def5363be8b}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1FfMacScheduler_a771411e455992b81d8399681779debd9}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a2e3ba63463ee06a7fca95def5363be8b}{}\label{classns3_1_1TdTbfqFfMacScheduler_a2e3ba63463ee06a7fca95def5363be8b}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a2e3ba63463ee06a7fca95def5363be8b}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1FfMacScheduler_a771411e455992b81d8399681779debd9}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
237 \{
238   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
239   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a50d8986111a3dc24130127d3ea391d7e}{m\_dlHarqProcessesDciBuffer}.clear ();
240   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{m\_dlHarqProcessesTimer}.clear ();
241   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.clear ();
242   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.clear ();
243   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.clear ();
244   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a845d3e79ce5c38b47c8ac8a7e4cc5b37}{m\_ulHarqProcessesStatus}.clear ();
245   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{m\_ulHarqProcessesDciBuffer}.clear ();
246   \textcolor{keyword}{delete} \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a22a19059921cf652fbce916ceca70972}{m\_cschedSapProvider};
247   \textcolor{keyword}{delete} \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afeed1dc1600c32b8ecc7c1b4f805ca12}{m\_schedSapProvider};
248   \textcolor{keyword}{delete} \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa78fad6d52a8781e7ed2a51a75ae61b9}{m\_ffrSapUser};
249 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedDlCqiInfoReq(const struct FfMacSchedSapProvider::SchedDlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a053e47bfd4e4f4504007899dd28d3e39}{}\label{classns3_1_1TdTbfqFfMacScheduler_a053e47bfd4e4f4504007899dd28d3e39}

\begin{DoxyCode}
1403 \{
1404   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1405   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_a9b28572b241707f364405a269f79dbd8}{ReportDlCqiInfo} (params);
1406 
1407   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_cqiList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1408     \{
1409       \textcolor{keywordflow}{if} ( params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_cqiType == \hyperlink{structns3_1_1CqiListElement__s_a8f1bd827fd9842e7c07e39265d88299aa9db5a80433fbf06a4c98935e28ad26e8}{CqiListElement\_s::P10} )
1410         \{
1411           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"wideband CQI "} <<  (uint32\_t) params.m\_cqiList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0) << \textcolor{stringliteral}{" reported"});
1412           std::map <uint16\_t,uint8\_t>::iterator it;
1413           uint16\_t rnti = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1414           it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afadf1919ebd3f749f973a94088ff74dc}{m\_p10CqiRxed}.find (rnti);
1415           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afadf1919ebd3f749f973a94088ff74dc}{m\_p10CqiRxed}.end ())
1416             \{
1417               \textcolor{comment}{// create the new entry}
1418               \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afadf1919ebd3f749f973a94088ff74dc}{m\_p10CqiRxed}.insert ( std::pair<uint16\_t, uint8\_t > (rnti, params.m\_cqiList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0)) ); \textcolor{comment}{// only codeword 0 at this stage (SISO)}
1419               \textcolor{comment}{// generate correspondent timer}
1420               \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aaf5d854702133742423180538d27f6f1}{m\_p10CqiTimers}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold}));
1421             \}
1422           \textcolor{keywordflow}{else}
1423             \{
1424               \textcolor{comment}{// update the CQI value and refresh correspondent timer}
1425               (*it).second = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0);
1426               \textcolor{comment}{// update correspondent timer}
1427               std::map <uint16\_t,uint32\_t>::iterator itTimers;
1428               itTimers = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aaf5d854702133742423180538d27f6f1}{m\_p10CqiTimers}.find (rnti);
1429               (*itTimers).second = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold};
1430             \}
1431         \}
1432       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_cqiType == \hyperlink{structns3_1_1CqiListElement__s_a8f1bd827fd9842e7c07e39265d88299aab9a9d64494e36c89d7932a00edb056a7}{CqiListElement\_s::A30} )
1433         \{
1434           \textcolor{comment}{// subband CQI reporting high layer configured}
1435           std::map <uint16\_t,SbMeasResult\_s>::iterator it;
1436           uint16\_t rnti = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1437           it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}{m\_a30CqiRxed}.find (rnti);
1438           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}{m\_a30CqiRxed}.end ())
1439             \{
1440               \textcolor{comment}{// create the new entry}
1441               \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}{m\_a30CqiRxed}.insert ( std::pair<uint16\_t, SbMeasResult\_s > (rnti, params.
      m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbMeasResult) );
1442               \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a208160933cb6d934c6cfb8114734226a}{m\_a30CqiTimers}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold}));
1443             \}
1444           \textcolor{keywordflow}{else}
1445             \{
1446               \textcolor{comment}{// update the CQI value and refresh correspondent timer}
1447               (*it).second = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbMeasResult;
1448               std::map <uint16\_t,uint32\_t>::iterator itTimers;
1449               itTimers = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a208160933cb6d934c6cfb8114734226a}{m\_a30CqiTimers}.find (rnti);
1450               (*itTimers).second = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold};
1451             \}
1452         \}
1453       \textcolor{keywordflow}{else}
1454         \{
1455           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" CQI type unknown"});
1456         \}
1457     \}
1458 
1459   \textcolor{keywordflow}{return};
1460 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedDlCqiInfoReq(const struct FfMacSchedSapProvider::SchedDlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a053e47bfd4e4f4504007899dd28d3e39}{}\label{classns3_1_1TdTbfqFfMacScheduler_a053e47bfd4e4f4504007899dd28d3e39}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Mac\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters \&params)}{DoSchedDlMacBufferReq(const struct FfMacSchedSapProvider::SchedDlMacBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Mac\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a171a4b464d432b8f52c22722b707a69d}{}\label{classns3_1_1TdTbfqFfMacScheduler_a171a4b464d432b8f52c22722b707a69d}

\begin{DoxyCode}
540 \{
541   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
542   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method not implemented"});
543   \textcolor{keywordflow}{return};
544 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Mac\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters \&params)}{DoSchedDlMacBufferReq(const struct FfMacSchedSapProvider::SchedDlMacBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Mac\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a171a4b464d432b8f52c22722b707a69d}{}\label{classns3_1_1TdTbfqFfMacScheduler_a171a4b464d432b8f52c22722b707a69d}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Paging\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters \&params)}{DoSchedDlPagingBufferReq(const struct FfMacSchedSapProvider::SchedDlPagingBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Paging\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a40f470a747723cf340cd7922ab5f1610}{}\label{classns3_1_1TdTbfqFfMacScheduler_a40f470a747723cf340cd7922ab5f1610}

\begin{DoxyCode}
532 \{
533   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
534   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method not implemented"});
535   \textcolor{keywordflow}{return};
536 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Paging\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters \&params)}{DoSchedDlPagingBufferReq(const struct FfMacSchedSapProvider::SchedDlPagingBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Paging\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a40f470a747723cf340cd7922ab5f1610}{}\label{classns3_1_1TdTbfqFfMacScheduler_a40f470a747723cf340cd7922ab5f1610}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}}
\index{Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rach\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters \&params)}{DoSchedDlRachInfoReq(const struct FfMacSchedSapProvider::SchedDlRachInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rach\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a036444c3b8eedf585d2147a675f52765}{}\label{classns3_1_1TdTbfqFfMacScheduler_a036444c3b8eedf585d2147a675f52765}

\begin{DoxyCode}
1393 \{
1394   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1395 
1396   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a103dfe516b13e9ca8e0d1247c11b3679}{m\_rachList} = params.m\_rachList;
1397   
1398   \textcolor{keywordflow}{return};
1399 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}}
\index{Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rach\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters \&params)}{DoSchedDlRachInfoReq(const struct FfMacSchedSapProvider::SchedDlRachInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rach\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a036444c3b8eedf585d2147a675f52765}{}\label{classns3_1_1TdTbfqFfMacScheduler_a036444c3b8eedf585d2147a675f52765}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rlc\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters \&params)}{DoSchedDlRlcBufferReq(const struct FfMacSchedSapProvider::SchedDlRlcBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rlc\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a6b8d36914009347728c5d517283a893a}{}\label{classns3_1_1TdTbfqFfMacScheduler_a6b8d36914009347728c5d517283a893a}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rlc\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters \&params)}{DoSchedDlRlcBufferReq(const struct FfMacSchedSapProvider::SchedDlRlcBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rlc\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a6b8d36914009347728c5d517283a893a}{}\label{classns3_1_1TdTbfqFfMacScheduler_a6b8d36914009347728c5d517283a893a}

\begin{DoxyCode}
508 \{
509   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << params.m\_rnti << (uint32\_t) params.m\_logicalChannelIdentity);
510   \textcolor{comment}{// API generated by RLC for updating RLC parameters on a LC (tx and retx queues)}
511 
512   std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
513 
514   LteFlowId\_t flow (params.m\_rnti, params.m\_logicalChannelIdentity);
515 
516   it =  \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.find (flow);
517 
518   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.end ())
519     \{
520       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.insert (std::pair <LteFlowId\_t,
       FfMacSchedSapProvider::SchedDlRlcBufferReqParameters> (flow, params));
521     \}
522   \textcolor{keywordflow}{else}
523     \{
524       (*it).second = params;
525     \}
526 
527   \textcolor{keywordflow}{return};
528 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}}
\index{Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters \&params)}{DoSchedDlTriggerReq(const struct FfMacSchedSapProvider::SchedDlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ad8195ea29a3aec05aa9766537e31cdf7}{}\label{classns3_1_1TdTbfqFfMacScheduler_ad8195ea29a3aec05aa9766537e31cdf7}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000111}{Todo}]check correct value according the D\+C\+Is txed \end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000137}{Todo}]check correct value according the D\+C\+Is txed \end{DoxyRefDesc}

\begin{DoxyCode}
693 \{
694   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{" subframe no. "} << (0
      xF & params.m\_sfnSf));
695   \textcolor{comment}{// API generated by RLC for triggering the scheduling of a DL subframe}
696 
697 
698   \textcolor{comment}{// evaluate the relative channel quality indicator for each UE per each RBG}
699   \textcolor{comment}{// (since we are using allocation type 0 the small unit of allocation is RBG)}
700   \textcolor{comment}{// Resource allocation type 0 (see sec 7.1.6.1 of 36.213)}
701 
702   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ae5c88a5647201a5b882922a950832104}{RefreshDlCqiMaps} ();
703 
704   \textcolor{keywordtype}{int} rbgSize = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a66bac32b64401c51a50b7f554028f78e}{GetRbgSize} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth});
705   \textcolor{keywordtype}{int} rbgNum = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth} / rbgSize;
706   std::map <uint16\_t, std::vector <uint16\_t> > allocationMap; \textcolor{comment}{// RBs map per RNTI}
707   std::vector <bool> rbgMap;  \textcolor{comment}{// global RBGs map}
708   uint16\_t rbgAllocatedNum = 0;
709   std::set <uint16\_t> rntiAllocated;
710   rbgMap.resize (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth} / rbgSize, \textcolor{keyword}{false});
711 
712   rbgMap = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_ad60306dae43b74dc25b65f81d6587a24}{GetAvailableDlRbg} ();
713   \textcolor{keywordflow}{for} (std::vector<bool>::iterator it = rbgMap.begin (); it != rbgMap.end (); it++)
714     \{
715       \textcolor{keywordflow}{if} ((*it) == true )
716         \{
717           rbgAllocatedNum++;
718         \}
719     \}
720 
721   FfMacSchedSapUser::SchedDlConfigIndParameters ret;
722 
723   \textcolor{comment}{//   update UL HARQ proc id}
724   std::map <uint16\_t, uint8\_t>::iterator itProcId;
725   \textcolor{keywordflow}{for} (itProcId = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.begin (); itProcId != 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.end (); itProcId++)
726     \{
727       (*itProcId).second = ((*itProcId).second + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
728     \}
729 
730   \textcolor{comment}{// RACH Allocation}
731   uint16\_t rbAllocatedNum = 0;
732   std::vector <bool> ulRbMap;
733   ulRbMap.resize (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, \textcolor{keyword}{false});
734   ulRbMap = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_aafd23b22a27ec83e03d54795c122d175}{GetAvailableUlRbg} ();
735   uint8\_t maxContinuousUlBandwidth = 0;
736   uint8\_t tmpMinBandwidth = 0;
737   uint16\_t ffrRbStartOffset = 0;
738   uint16\_t tmpFfrRbStartOffset = 0;
739   uint16\_t index = 0;
740 
741   \textcolor{keywordflow}{for} (std::vector<bool>::iterator it = ulRbMap.begin (); it != ulRbMap.end (); it++)
742     \{
743       \textcolor{keywordflow}{if} ((*it) == true )
744         \{
745           rbAllocatedNum++;
746           \textcolor{keywordflow}{if} (tmpMinBandwidth > maxContinuousUlBandwidth)
747             \{
748               maxContinuousUlBandwidth = tmpMinBandwidth;
749               ffrRbStartOffset = tmpFfrRbStartOffset;
750             \}
751           tmpMinBandwidth = 0;
752         \}
753       \textcolor{keywordflow}{else}
754         \{
755           \textcolor{keywordflow}{if} (tmpMinBandwidth == 0)
756             \{
757               tmpFfrRbStartOffset = index;
758             \}
759           tmpMinBandwidth++;
760         \}
761       index++;
762     \}
763 
764   \textcolor{keywordflow}{if} (tmpMinBandwidth > maxContinuousUlBandwidth)
765     \{
766       maxContinuousUlBandwidth = tmpMinBandwidth;
767       ffrRbStartOffset = tmpFfrRbStartOffset;
768     \}
769 
770   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a09760afce6c2b248fbc5cbcffb9dede5}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
771   uint16\_t rbStart = 0;
772   rbStart = ffrRbStartOffset;
773   std::vector <struct RachListElement\_s>::iterator itRach;
774   \textcolor{keywordflow}{for} (itRach = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a103dfe516b13e9ca8e0d1247c11b3679}{m\_rachList}.begin (); itRach != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a103dfe516b13e9ca8e0d1247c11b3679}{m\_rachList}.end (); itRach++)
775     \{
776       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}{m\_amc}->GetTbSizeFromMcs (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a7382f05e10e61de33d6559202a1252bd}{m\_ulGrantMcs}, 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) > (*itRach).m\_estimatedSize, \textcolor{stringliteral}{" Default UL
       Grant MCS does not allow to send RACH messages"});
777       BuildRarListElement\_s newRar;
778       newRar.m\_rnti = (*itRach).m\_rnti;
779       \textcolor{comment}{// DL-RACH Allocation}
780       \textcolor{comment}{// Ideal: no needs of configuring m\_dci}
781       \textcolor{comment}{// UL-RACH Allocation}
782       newRar.m\_grant.m\_rnti = newRar.m\_rnti;
783       newRar.m\_grant.m\_mcs = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a7382f05e10e61de33d6559202a1252bd}{m\_ulGrantMcs};
784       uint16\_t rbLen = 1;
785       uint16\_t tbSizeBits = 0;
786       \textcolor{comment}{// find lowest TB size that fits UL grant estimated size}
787       \textcolor{keywordflow}{while} ((tbSizeBits < (*itRach).m\_estimatedSize) && (rbStart + rbLen < (ffrRbStartOffset + 
      maxContinuousUlBandwidth)))
788         \{
789           rbLen++;
790           tbSizeBits = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}{m\_amc}->GetTbSizeFromMcs (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a7382f05e10e61de33d6559202a1252bd}{m\_ulGrantMcs}, rbLen);
791         \}
792       \textcolor{keywordflow}{if} (tbSizeBits < (*itRach).m\_estimatedSize)
793         \{
794           \textcolor{comment}{// no more allocation space: finish allocation}
795           \textcolor{keywordflow}{break};
796         \}
797       newRar.m\_grant.m\_rbStart = rbStart;
798       newRar.m\_grant.m\_rbLen = rbLen;
799       newRar.m\_grant.m\_tbSize = tbSizeBits / 8;
800       newRar.m\_grant.m\_hopping = \textcolor{keyword}{false};
801       newRar.m\_grant.m\_tpc = 0;
802       newRar.m\_grant.m\_cqiRequest = \textcolor{keyword}{false};
803       newRar.m\_grant.m\_ulDelay = \textcolor{keyword}{false};
804       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL grant allocated to RNTI "} << (*itRach).m\_rnti << \textcolor{stringliteral}{" rbStart "} << 
      rbStart << \textcolor{stringliteral}{" rbLen "} << rbLen << \textcolor{stringliteral}{" MCS "} << \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a7382f05e10e61de33d6559202a1252bd}{m\_ulGrantMcs} << \textcolor{stringliteral}{" tbSize "} << newRar.m\_grant.
      m\_tbSize);
805       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rbStart + rbLen; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
806         \{
807           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a09760afce6c2b248fbc5cbcffb9dede5}{m\_rachAllocationMap}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = (*itRach).m\_rnti;
808         \}
809 
810       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}{m\_harqOn} == \textcolor{keyword}{true})
811         \{
812           \textcolor{comment}{// generate UL-DCI for HARQ retransmissions}
813           UlDciListElement\_s uldci;
814           uldci.m\_rnti = newRar.m\_rnti;
815           uldci.m\_rbLen = rbLen;
816           uldci.m\_rbStart = rbStart;
817           uldci.m\_mcs = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a7382f05e10e61de33d6559202a1252bd}{m\_ulGrantMcs};
818           uldci.m\_tbSize = tbSizeBits / 8;
819           uldci.m\_ndi = 1;
820           uldci.m\_cceIndex = 0;
821           uldci.m\_aggrLevel = 1;
822           uldci.m\_ueTxAntennaSelection = 3; \textcolor{comment}{// antenna selection OFF}
823           uldci.m\_hopping = \textcolor{keyword}{false};
824           uldci.m\_n2Dmrs = 0;
825           uldci.m\_tpc = 0; \textcolor{comment}{// no power control}
826           uldci.m\_cqiRequest = \textcolor{keyword}{false}; \textcolor{comment}{// only period CQI at this stage}
827           uldci.m\_ulIndex = 0; \textcolor{comment}{// TDD parameter}
828           uldci.m\_dai = 1; \textcolor{comment}{// TDD parameter}
829           uldci.m\_freqHopping = 0;
830           uldci.m\_pdcchPowerOffset = 0; \textcolor{comment}{// not used}
831 
832           uint8\_t harqId = 0;
833           std::map <uint16\_t, uint8\_t>::iterator itProcId;
834           itProcId = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.find (uldci.m\_rnti);
835           \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.end ())
836             \{
837               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << uldci.m\_rnti);
838             \}
839           harqId = (*itProcId).second;
840           std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{m\_ulHarqProcessesDciBuffer}.find (uldci.m\_rnti);
841           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{m\_ulHarqProcessesDciBuffer}.end ())
842             \{
843               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in UL DCI HARQ buffer for RNTI "} << 
      uldci.m\_rnti);
844             \}
845           (*itDci).second.at (harqId) = uldci;
846         \}
847 
848       rbStart = rbStart + rbLen;
849       ret.m\_buildRarList.push\_back (newRar);
850     \}
851   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a103dfe516b13e9ca8e0d1247c11b3679}{m\_rachList}.clear ();
852 
853 
854   \textcolor{comment}{// Process DL HARQ feedback}
855   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ae26f1cd58ab1221afdcd0fe4a1c04a11}{RefreshHarqProcesses} ();
856   \textcolor{comment}{// retrieve past HARQ retx buffered}
857   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.size () > 0)
858     \{
859       \textcolor{keywordflow}{if} (params.m\_dlInfoList.size () > 0)
860         \{
861           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Received DL-HARQ feedback"});
862           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.insert (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.end (),
       params.m\_dlInfoList.begin (), params.m\_dlInfoList.end ());
863         \}
864     \}
865   \textcolor{keywordflow}{else}
866     \{
867       \textcolor{keywordflow}{if} (params.m\_dlInfoList.size () > 0)
868         \{
869           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered} = params.m\_dlInfoList;
870         \}
871     \}
872   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}{m\_harqOn} == \textcolor{keyword}{false})
873     \{
874       \textcolor{comment}{// Ignore HARQ feedback}
875       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.clear ();
876     \}
877   std::vector <struct DlInfoListElement\_s> dlInfoListUntxed;
878   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
879     \{
880       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find (
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
881       \textcolor{keywordflow}{if} (itRnti != rntiAllocated.end ())
882         \{
883           \textcolor{comment}{// RNTI already allocated for retx}
884           \textcolor{keywordflow}{continue};
885         \}
886       uint8\_t nLayers = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.size ();
887       std::vector <bool> retx;
888       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Processing DLHARQ feedback"});
889       \textcolor{keywordflow}{if} (nLayers == 1)
890         \{
891           retx.push\_back (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (0) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
892           retx.push\_back (\textcolor{keyword}{false});
893         \}
894       \textcolor{keywordflow}{else}
895         \{
896           retx.push\_back (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (0) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
897           retx.push\_back (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (1) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
898         \}
899       \textcolor{keywordflow}{if} (retx.at (0) || retx.at (1))
900         \{
901           \textcolor{comment}{// retrieve HARQ process information}
902           uint16\_t rnti = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
903           uint8\_t harqId = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId;
904           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ retx RNTI "} << rnti << \textcolor{stringliteral}{" harqId "} << (uint16\_t)harqId);
905           std::map <uint16\_t, DlHarqProcessesDciBuffer\_t>::iterator itHarq = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a50d8986111a3dc24130127d3ea391d7e}{m\_dlHarqProcessesDciBuffer}.find (rnti);
906           \textcolor{keywordflow}{if} (itHarq == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a50d8986111a3dc24130127d3ea391d7e}{m\_dlHarqProcessesDciBuffer}.end ())
907             \{
908               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << rnti);
909             \}
910 
911           DlDciListElement\_s dci = (*itHarq).second.at (harqId);
912           \textcolor{keywordtype}{int} rv = 0;
913           \textcolor{keywordflow}{if} (dci.m\_rv.size () == 1)
914             \{
915               rv = dci.m\_rv.at (0);
916             \}
917           \textcolor{keywordflow}{else}
918             \{
919               rv = (dci.m\_rv.at (0) > dci.m\_rv.at (1) ? dci.m\_rv.at (0) : dci.m\_rv.at (1));
920             \}
921 
922           \textcolor{keywordflow}{if} (rv == 3)
923             \{
924               \textcolor{comment}{// maximum number of retx reached -> drop process}
925               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Maximum number of retransmissions reached -> drop process"});
926               std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator it = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.find (rnti);
927               \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.end ())
928                 \{
929                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
930                 \}
931               (*it).second.at (harqId) = 0;
932               std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.find (rnti);
933               \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
934                 \{
935                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
936                 \}
937               \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.size (); k++)
938                 \{
939                   (*itRlcPdu).second.at (k).at (harqId).clear ();
940                 \}
941               \textcolor{keywordflow}{continue};
942             \}
943           \textcolor{comment}{// check the feasibility of retransmitting on the same RBGs}
944           \textcolor{comment}{// translate the DCI to Spectrum framework}
945           std::vector <int> dciRbg;
946           uint32\_t mask = 0x1;
947           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Original RBGs "} << dci.m\_rbBitmap << \textcolor{stringliteral}{" rnti "} << dci.m\_rnti);
948           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 32; j++)
949             \{
950               \textcolor{keywordflow}{if} (((dci.m\_rbBitmap & mask) >> j) == 1)
951                 \{
952                   dciRbg.push\_back (j);
953                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)t"} << j);
954                 \}
955               mask = (mask << 1);
956             \}
957           \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
958           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < dciRbg.size (); j++)
959             \{
960               \textcolor{keywordflow}{if} (rbgMap.at (dciRbg.at (j)) == \textcolor{keyword}{true})
961                 \{
962                   free = \textcolor{keyword}{false};
963                   \textcolor{keywordflow}{break};
964                 \}
965             \}
966           \textcolor{keywordflow}{if} (free)
967             \{
968               \textcolor{comment}{// use the same RBGs for the retx}
969               \textcolor{comment}{// reserve RBGs}
970               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < dciRbg.size (); j++)
971                 \{
972                   rbgMap.at (dciRbg.at (j)) = \textcolor{keyword}{true};
973                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"RBG "} << dciRbg.at (j) << \textcolor{stringliteral}{" assigned"});
974                   rbgAllocatedNum++;
975                 \}
976 
977               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Send retx in the same RBGs"});
978             \}
979           \textcolor{keywordflow}{else}
980             \{
981               \textcolor{comment}{// find RBGs for sending HARQ retx}
982               uint8\_t j = 0;
983               uint8\_t rbgId = (dciRbg.at (dciRbg.size () - 1) + 1) % rbgNum;
984               uint8\_t startRbg = dciRbg.at (dciRbg.size () - 1);
985               std::vector <bool> rbgMapCopy = rbgMap;
986               \textcolor{keywordflow}{while} ((j < dciRbg.size ())&&(startRbg != rbgId))
987                 \{
988                   \textcolor{keywordflow}{if} (rbgMapCopy.at (rbgId) == \textcolor{keyword}{false})
989                     \{
990                       rbgMapCopy.at (rbgId) = \textcolor{keyword}{true};
991                       dciRbg.at (j) = rbgId;
992                       j++;
993                     \}
994                   rbgId = (rbgId + 1) % rbgNum;
995                 \}
996               \textcolor{keywordflow}{if} (j == dciRbg.size ())
997                 \{
998                   \textcolor{comment}{// find new RBGs -> update DCI map}
999                   uint32\_t rbgMask = 0;
1000                   \textcolor{keywordflow}{for} (uint16\_t k = 0; k < dciRbg.size (); k++)
1001                     \{
1002                       rbgMask = rbgMask + (0x1 << dciRbg.at (k));
1003                       rbgAllocatedNum++;
1004                     \}
1005                   dci.m\_rbBitmap = rbgMask;
1006                   rbgMap = rbgMapCopy;
1007                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Move retx in RBGs "} << dciRbg.size ());
1008                 \}
1009               \textcolor{keywordflow}{else}
1010                 \{
1011                   \textcolor{comment}{// HARQ retx cannot be performed on this TTI -> store it}
1012                   dlInfoListUntxed.push\_back (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1013                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" No resource for this retx -> buffer it"});
1014                 \}
1015             \}
1016           \textcolor{comment}{// retrieve RLC PDU list for retx TBsize and update DCI}
1017           BuildDataListElement\_s newEl;
1018           std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.find (rnti);
1019           \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
1020             \{
1021               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << rnti);
1022             \}
1023           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayers; j++)
1024             \{
1025               \textcolor{keywordflow}{if} (retx.at (j))
1026                 \{
1027                   \textcolor{keywordflow}{if} (j >= dci.m\_ndi.size ())
1028                     \{
1029                       \textcolor{comment}{// for avoiding errors in MIMO transient phases}
1030                       dci.m\_ndi.push\_back (0);
1031                       dci.m\_rv.push\_back (0);
1032                       dci.m\_mcs.push\_back (0);
1033                       dci.m\_tbsSize.push\_back (0);
1034                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" no txed (MIMO
       transition)"});
1035                     \}
1036                   \textcolor{keywordflow}{else}
1037                     \{
1038                       dci.m\_ndi.at (j) = 0;
1039                       dci.m\_rv.at (j)++;
1040                       (*itHarq).second.at (harqId).m\_rv.at (j)++;
1041                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" RV "} << (uint16\_t)dci.
      m\_rv.at (j));
1042                     \}
1043                 \}
1044               \textcolor{keywordflow}{else}
1045                 \{
1046                   \textcolor{comment}{// empty TB of layer j}
1047                   dci.m\_ndi.at (j) = 0;
1048                   dci.m\_rv.at (j) = 0;
1049                   dci.m\_mcs.at (j) = 0;
1050                   dci.m\_tbsSize.at (j) = 0;
1051                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" no retx"});
1052                 \}
1053             \}
1054           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.at (0).at (dci.m\_harqProcess).size (); k++)
1055             \{
1056               std::vector <struct RlcPduListElement\_s> rlcPduListPerLc;
1057               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayers; j++)
1058                 \{
1059                   \textcolor{keywordflow}{if} (retx.at (j))
1060                     \{
1061                       \textcolor{keywordflow}{if} (j < dci.m\_ndi.size ())
1062                         \{
1063                           rlcPduListPerLc.push\_back ((*itRlcPdu).second.at (j).at (dci.m\_harqProcess).at (k
      ));
1064                         \}
1065                     \}
1066                 \}
1067 
1068               \textcolor{keywordflow}{if} (rlcPduListPerLc.size () > 0)
1069                 \{
1070                   newEl.m\_rlcPduList.push\_back (rlcPduListPerLc);
1071                 \}
1072             \}
1073           newEl.m\_rnti = rnti;
1074           newEl.m\_dci = dci;
1075           (*itHarq).second.at (harqId).m\_rv = dci.m\_rv;
1076           \textcolor{comment}{// refresh timer}
1077           std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itHarqTimer = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{m\_dlHarqProcessesTimer}.find (rnti);
1078           \textcolor{keywordflow}{if} (itHarqTimer== \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{m\_dlHarqProcessesTimer}.end ())
1079             \{
1080               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find HARQ timer for RNTI "} << (uint16\_t)rnti);
1081             \}
1082           (*itHarqTimer).second.at (harqId) = 0;
1083           ret.m\_buildDataList.push\_back (newEl);
1084           rntiAllocated.insert (rnti);
1085         \}
1086       \textcolor{keywordflow}{else}
1087         \{
1088           \textcolor{comment}{// update HARQ process status}
1089           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ received ACK for UE "} << 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1090           std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator it = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.find (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1091           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.end ())
1092             \{
1093               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1094             \}
1095           (*it).second.at (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId) = 0;
1096           std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.find (
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1097           \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
1098             \{
1099               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1100             \}
1101           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.size (); k++)
1102             \{
1103               (*itRlcPdu).second.at (k).at (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId).clear ();
1104             \}
1105         \}
1106     \}
1107   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered}.clear ();
1108   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{m\_dlInfoListBuffered} = dlInfoListUntxed;
1109 
1110   \textcolor{keywordflow}{if} (rbgAllocatedNum == rbgNum)
1111     \{
1112       \textcolor{comment}{// all the RBGs are already allocated -> exit}
1113       \textcolor{keywordflow}{if} ((ret.m\_buildDataList.size () > 0) || (ret.m\_buildRarList.size () > 0))
1114         \{
1115           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a8f5689c5d8af1b40e97dacfce14f605a}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a28f8484af5a32a45ee6c0e51770d83f7}{SchedDlConfigInd} (ret);
1116         \}
1117       \textcolor{keywordflow}{return};
1118     \}
1119 
1120 
1121   \textcolor{comment}{// update token pool, counter and bank size}
1122   std::map <uint16\_t, tdtbfqsFlowPerf\_t>::iterator itStats;
1123   \textcolor{keywordflow}{for} (itStats = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}.begin (); itStats != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}.end (); itStats
      ++)
1124     \{
1125       \textcolor{keywordflow}{if} ( (*itStats).second.tokenGenerationRate / 1000 +  (*itStats).second.tokenPoolSize > (*itStats).
      second.maxTokenPoolSize )     
1126         \{
1127           (*itStats).second.counter +=  (*itStats).second.tokenGenerationRate / 1000 - ( (*itStats).second.
      maxTokenPoolSize -  (*itStats).second.tokenPoolSize );
1128           (*itStats).second.tokenPoolSize = (*itStats).second.maxTokenPoolSize;
1129           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af215332201b187b2699413c222d0c88d}{bankSize} += (*itStats).second.tokenGenerationRate / 1000 - ( (*itStats).second.
      maxTokenPoolSize -  (*itStats).second.tokenPoolSize );
1130         \}
1131       \textcolor{keywordflow}{else}
1132         \{
1133           (*itStats).second.tokenPoolSize += (*itStats).second.tokenGenerationRate / 1000;
1134         \}
1135     \}
1136 
1137 
1138   \textcolor{comment}{// select UE with largest metric}
1139   std::map <uint16\_t, tdtbfqsFlowPerf\_t>::iterator it;
1140   std::map <uint16\_t, tdtbfqsFlowPerf\_t>::iterator itMax = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}.end ();
1141   \textcolor{keywordtype}{double} metricMax = 0.0;
1142   \textcolor{keywordtype}{bool} firstRnti = \textcolor{keyword}{true};
1143   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}.begin (); it != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}.end (); it++)
1144     \{
1145       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1146       \textcolor{keywordflow}{if} ((itRnti != rntiAllocated.end ())||(!\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6df3d860dc847dfa118d87b4a3679c7e}{HarqProcessAvailability} ((*it).first))
      )
1147         \{
1148           \textcolor{comment}{// UE already allocated for HARQ or without HARQ process available -> drop it}
1149           \textcolor{keywordflow}{if} (itRnti != rntiAllocated.end ())
1150             \{
1151               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI discared for HARQ tx"} << (uint16\_t)(*it).first);
1152             \}
1153           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6df3d860dc847dfa118d87b4a3679c7e}{HarqProcessAvailability} ((*it).first))
1154             \{
1155               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI discared for HARQ id"} << (uint16\_t)(*it).first);
1156             \}
1157           \textcolor{keywordflow}{continue};
1158        \}
1159 
1160       \textcolor{comment}{/*}
1161 \textcolor{comment}{      if (LcActivePerFlow ((*it).first) == 0)}
1162 \textcolor{comment}{        \{}
1163 \textcolor{comment}{          continue;  }
1164 \textcolor{comment}{        \}}
1165 \textcolor{comment}{      */}
1166 
1167       \textcolor{keywordtype}{double} metric = ( ( (double)(*it).second.counter ) / ( (double)(*it).second.tokenGenerationRate ) ); 
       
1168 
1169       \textcolor{keywordflow}{if} (firstRnti == \textcolor{keyword}{true})
1170         \{
1171           metricMax = metric;
1172           itMax = it;
1173           firstRnti = \textcolor{keyword}{false};
1174           \textcolor{keywordflow}{continue};
1175         \}
1176       \textcolor{keywordflow}{if} (metric > metricMax)
1177         \{
1178           metricMax = metric;
1179           itMax = it;
1180         \}
1181     \} \textcolor{comment}{// end for m\_flowStatsDl}
1182 
1183   \textcolor{keywordflow}{if} (itMax == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{m\_flowStatsDl}.end ())
1184     \{
1185       \textcolor{comment}{// all UEs are allocated RBG or all UEs already allocated for HARQ or without HARQ process available}
1186       \textcolor{keywordflow}{return};
1187     \}
1188   \textcolor{keywordflow}{else}
1189     \{
1190       \textcolor{comment}{// assign all RBGs to this UE}
1191       std::vector <uint16\_t> tempMap;
1192       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rbgNum; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1193         \{
1194           \textcolor{keywordflow}{if} ( rbgMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \textcolor{keyword}{true}) \textcolor{comment}{// this RBG is allocated in RACH procedure}
1195             \textcolor{keywordflow}{continue};
1196 
1197           \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_a91f4de3c794d2a32fae5bcfafd88b6fa}{IsDlRbgAvailableForUe} (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, (*itMax).first)) == \textcolor{keyword}{false})
1198             \textcolor{keywordflow}{continue};
1199 
1200           tempMap.push\_back (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1201           rbgMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = \textcolor{keyword}{true};
1202         \}
1203       allocationMap.insert (std::pair <uint16\_t, std::vector <uint16\_t> > ((*itMax).first, tempMap));
1204     \}
1205 
1206 
1207 
1208   \textcolor{comment}{// generate the transmission opportunities by grouping the RBGs of the same RNTI and}
1209   \textcolor{comment}{// creating the correspondent DCIs}
1210   std::map <uint16\_t, std::vector <uint16\_t> >::iterator itMap = allocationMap.begin ();
1211   \textcolor{keywordflow}{while} (itMap != allocationMap.end ())
1212     \{
1213       \textcolor{comment}{// create new BuildDataListElement\_s for this LC}
1214       BuildDataListElement\_s newEl;
1215       newEl.m\_rnti = (*itMap).first;
1216       \textcolor{comment}{// create the DlDciListElement\_s}
1217       DlDciListElement\_s newDci;
1218       newDci.m\_rnti = (*itMap).first;
1219       newDci.m\_harqProcess = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a521baa680048ecfaba2eb55dacae5600}{UpdateHarqProcessId} ((*itMap).first);
1220 
1221       uint16\_t lcActives = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af59fe1b38ec5ca5d51393c9d3a99375c}{LcActivePerFlow} ((*itMap).first);
1222       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"Allocate user "} << newEl.m\_rnti << \textcolor{stringliteral}{" rbg "} << lcActives);
1223       \textcolor{keywordflow}{if} (lcActives == 0)
1224         \{
1225           \textcolor{comment}{// Set to max value, to avoid divide by 0 below}
1226           lcActives = (uint16\_t)65535; \textcolor{comment}{// UINT16\_MAX;}
1227         \}
1228       uint16\_t RgbPerRnti = (*itMap).second.size ();
1229       std::map <uint16\_t,SbMeasResult\_s>::iterator itCqi;
1230       itCqi = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}{m\_a30CqiRxed}.find ((*itMap).first);
1231       std::map <uint16\_t,uint8\_t>::iterator itTxMode;
1232       itTxMode = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a81895414769458c1204040d901d7bba7}{m\_uesTxMode}.find ((*itMap).first);
1233       \textcolor{keywordflow}{if} (itTxMode == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a81895414769458c1204040d901d7bba7}{m\_uesTxMode}.end ())
1234         \{
1235           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Transmission Mode info on user "} << (*itMap).first);
1236         \}
1237       \textcolor{keywordtype}{int} nLayer = \hyperlink{classns3_1_1TransmissionModesLayers_a31f608b7bfaa77440fe4cb85ad035329}{TransmissionModesLayers::TxMode2LayerNum} (
      (*itTxMode).second);
1238       std::vector <uint8\_t> worstCqi (2, 15);
1239       \textcolor{keywordflow}{if} (itCqi != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}{m\_a30CqiRxed}.end ())
1240         \{
1241           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itMap).second.size (); k++)
1242             \{
1243               \textcolor{keywordflow}{if} ((*itCqi).second.m\_higherLayerSelected.size () > (*itMap).second.at (k))
1244                 \{
1245                   \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1246                     \{
1247                       \textcolor{keywordflow}{if} ((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.at (k)).m\_sbCqi.size ()
       > j)
1248                         \{
1249                           \textcolor{keywordflow}{if} (((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.at (k)).m\_sbCqi.at
       (j)) < worstCqi.at (j))
1250                             \{
1251                               worstCqi.at (j) = ((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.
      at (k)).m\_sbCqi.at (j));
1252                             \}
1253                         \}
1254                       \textcolor{keywordflow}{else}
1255                         \{
1256                           \textcolor{comment}{// no CQI for this layer of this suband -> worst one}
1257                           worstCqi.at (j) = 1;
1258                         \}
1259                     \}
1260                 \}
1261               \textcolor{keywordflow}{else}
1262                 \{
1263                   \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1264                     \{
1265                       worstCqi.at (j) = 1; \textcolor{comment}{// try with lowest MCS in RBG with no info on channel}
1266                     \}
1267                 \}
1268             \}
1269         \}
1270       \textcolor{keywordflow}{else}
1271         \{
1272           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1273             \{
1274               worstCqi.at (j) = 1; \textcolor{comment}{// try with lowest MCS in RBG with no info on channel}
1275             \}
1276         \}
1277       uint32\_t bytesTxed = 0;
1278       \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1279         \{
1280           newDci.m\_mcs.push\_back (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}{m\_amc}->GetMcsFromCqi (worstCqi.at (j)));
1281           \textcolor{keywordtype}{int} tbSize = (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}{m\_amc}->GetTbSizeFromMcs (newDci.m\_mcs.at (j), RgbPerRnti * rbgSize) / 8); \textcolor{comment}{//
       (size of TB in bytes according to table 7.1.7.2.1-1 of 36.213) }
1282           newDci.m\_tbsSize.push\_back (tbSize);
1283           bytesTxed += tbSize;
1284         \}
1285 
1286       newDci.m\_resAlloc = 0;  \textcolor{comment}{// only allocation type 0 at this stage}
1287       newDci.m\_rbBitmap = 0; \textcolor{comment}{// TBD (32 bit bitmap see 7.1.6 of 36.213)}
1288       uint32\_t rbgMask = 0;
1289       \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itMap).second.size (); k++)
1290         \{
1291           rbgMask = rbgMask + (0x1 << (*itMap).second.at (k));
1292           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Allocated RBG "} << (*itMap).second.at (k));
1293         \}
1294       newDci.m\_rbBitmap = rbgMask; \textcolor{comment}{// (32 bit bitmap see 7.1.6 of 36.213)}
1295 
1296       \textcolor{comment}{// create the rlc PDUs -> equally divide resources among actives LCs}
1297       std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator itBufReq;
1298       \textcolor{keywordflow}{for} (itBufReq = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.begin (); itBufReq != 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.end (); itBufReq++)
1299         \{
1300           \textcolor{keywordflow}{if} (((*itBufReq).first.m\_rnti == (*itMap).first)
1301               && (((*itBufReq).second.m\_rlcTransmissionQueueSize > 0)
1302                   || ((*itBufReq).second.m\_rlcRetransmissionQueueSize > 0)
1303                   || ((*itBufReq).second.m\_rlcStatusPduSize > 0) ))
1304             \{
1305               std::vector <struct RlcPduListElement\_s> newRlcPduLe;
1306               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1307                 \{
1308                   RlcPduListElement\_s newRlcEl;
1309                   newRlcEl.m\_logicalChannelIdentity = (*itBufReq).first.m\_lcId;
1310                   newRlcEl.m\_size = newDci.m\_tbsSize.at (j) / lcActives;
1311                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" LCID "} << (uint32\_t) newRlcEl.m\_logicalChannelIdentity 
      << \textcolor{stringliteral}{" size "} << newRlcEl.m\_size << \textcolor{stringliteral}{" layer "} << (uint16\_t)j);
1312                   newRlcPduLe.push\_back (newRlcEl);
1313                   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a268d99954f7c5e69294a43b82671dcf9}{UpdateDlRlcBufferInfo} (newDci.m\_rnti, newRlcEl.
      m\_logicalChannelIdentity, newRlcEl.m\_size);
1314                   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}{m\_harqOn} == \textcolor{keyword}{true})
1315                     \{
1316                       \textcolor{comment}{// store RLC PDU list for HARQ}
1317                       std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.find ((*itMap).first);
1318                       \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{m\_dlHarqProcessesRlcPduListBuffer}.
      end ())
1319                         \{
1320                           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI 
      "} << (*itMap).first);
1321                         \}
1322                       (*itRlcPdu).second.at (j).at (newDci.m\_harqProcess).push\_back (newRlcEl);
1323                     \}
1324                 \}
1325               newEl.m\_rlcPduList.push\_back (newRlcPduLe);
1326             \}
1327           \textcolor{keywordflow}{if} ((*itBufReq).first.m\_rnti > (*itMap).first)
1328             \{
1329               \textcolor{keywordflow}{break};
1330             \}
1331         \}
1332       \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1333         \{
1334           newDci.m\_ndi.push\_back (1);
1335           newDci.m\_rv.push\_back (0);
1336         \}
1337 
1338       newDci.m\_tpc = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_a0021d72c12fdaddd3817ef0eb5a7cd4e}{GetTpc} ((*itMap).first);
1339 
1340       newEl.m\_dci = newDci;
1341 
1342       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}{m\_harqOn} == \textcolor{keyword}{true})
1343         \{
1344           \textcolor{comment}{// store DCI for HARQ}
1345           std::map <uint16\_t, DlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a50d8986111a3dc24130127d3ea391d7e}{m\_dlHarqProcessesDciBuffer}.find (newEl.m\_rnti);
1346           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a50d8986111a3dc24130127d3ea391d7e}{m\_dlHarqProcessesDciBuffer}.end ())
1347             \{
1348               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in DCI HARQ buffer for RNTI "} << 
      newEl.m\_rnti);
1349             \}
1350           (*itDci).second.at (newDci.m\_harqProcess) = newDci;
1351           \textcolor{comment}{// refresh timer}
1352           std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itHarqTimer =  
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{m\_dlHarqProcessesTimer}.find (newEl.m\_rnti);
1353           \textcolor{keywordflow}{if} (itHarqTimer== \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{m\_dlHarqProcessesTimer}.end ())
1354             \{
1355               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find HARQ timer for RNTI "} << (uint16\_t)newEl.m\_rnti
      );
1356             \}
1357           (*itHarqTimer).second.at (newDci.m\_harqProcess) = 0;
1358         \}
1359 
1360 
1361         \textcolor{comment}{// update UE stats}
1362       \textcolor{keywordflow}{if} ( bytesTxed <= (*itMax).second.tokenPoolSize )
1363         \{
1364           (*itMax).second.tokenPoolSize -= bytesTxed;
1365         \}
1366       \textcolor{keywordflow}{else}
1367         \{
1368           (*itMax).second.counter = (*itMax).second.counter - ( bytesTxed -  (*itMax).second.tokenPoolSize 
      );
1369           (*itMax).second.tokenPoolSize = 0;
1370           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_af215332201b187b2699413c222d0c88d}{bankSize} <= ( bytesTxed -  (*itMax).second.tokenPoolSize ))
1371             \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af215332201b187b2699413c222d0c88d}{bankSize} = 0;
1372           \textcolor{keywordflow}{else} 
1373             \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af215332201b187b2699413c222d0c88d}{bankSize} = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af215332201b187b2699413c222d0c88d}{bankSize} - ( bytesTxed -  (*itMax).second.tokenPoolSize );
1374         \}
1375 
1376 
1377       \textcolor{comment}{// ...more parameters -> ingored in this version}
1378 
1379       ret.m\_buildDataList.push\_back (newEl);
1380 
1381       itMap++;
1382     \} \textcolor{comment}{// end while allocation}
1383   ret.m\_nrOfPdcchOfdmSymbols = 1;   
1384 
1385   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a8f5689c5d8af1b40e97dacfce14f605a}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a28f8484af5a32a45ee6c0e51770d83f7}{SchedDlConfigInd} (ret);
1386 
1387 
1388   \textcolor{keywordflow}{return};
1389 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}}
\index{Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters \&params)}{DoSchedDlTriggerReq(const struct FfMacSchedSapProvider::SchedDlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ad8195ea29a3aec05aa9766537e31cdf7}{}\label{classns3_1_1TdTbfqFfMacScheduler_ad8195ea29a3aec05aa9766537e31cdf7}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedUlCqiInfoReq(const struct FfMacSchedSapProvider::SchedUlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a71e35a0d5f1c22753fae4777ffda3e01}{}\label{classns3_1_1TdTbfqFfMacScheduler_a71e35a0d5f1c22753fae4777ffda3e01}

\begin{DoxyCode}
1939 \{
1940   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1941 \textcolor{comment}{// retrieve the allocation for this subframe}
1942   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1FfMacScheduler_adae16e66a1c4231da80a1221297442cf}{m\_ulCqiFilter})
1943     \{
1944     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52af2e0df473ba2c8f9cb131cb760591aed}{FfMacScheduler::SRS\_UL\_CQI}:
1945       \{
1946         \textcolor{comment}{// filter all the CQIs that are not SRS based}
1947         \textcolor{keywordflow}{if} (params.m\_ulCqi.m\_type != \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af4b6dba4243636562c910c4d4761dd7e}{UlCqi\_s::SRS})
1948           \{
1949             \textcolor{keywordflow}{return};
1950           \}
1951       \}
1952       \textcolor{keywordflow}{break};
1953     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52a4a833bc779439b15bd904e1dd8eaa563}{FfMacScheduler::PUSCH\_UL\_CQI}:
1954       \{
1955         \textcolor{comment}{// filter all the CQIs that are not SRS based}
1956         \textcolor{keywordflow}{if} (params.m\_ulCqi.m\_type != \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a9716b20a3095c473ae3fde1eb5d0bb63}{UlCqi\_s::PUSCH})
1957           \{
1958             \textcolor{keywordflow}{return};
1959           \}
1960       \}
1961     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52a84059a597c72335f0a5963c3efcbda71}{FfMacScheduler::ALL\_UL\_CQI}:
1962       \textcolor{keywordflow}{break};
1963 
1964     \textcolor{keywordflow}{default}:
1965       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown UL CQI type"});
1966     \}
1967 
1968   \textcolor{keywordflow}{switch} (params.m\_ulCqi.m\_type)
1969     \{
1970     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a9716b20a3095c473ae3fde1eb5d0bb63}{UlCqi\_s::PUSCH}:
1971       \{
1972         std::map <uint16\_t, std::vector <uint16\_t> >::iterator itMap;
1973         std::map <uint16\_t, std::vector <double> >::iterator itCqi;
1974         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Collect PUSCH CQIs of Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{"
       subframe no. "} << (0xF & params.m\_sfnSf));
1975         itMap = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a0801127489d3eda5a462660c4af4c8bd}{m\_allocationMaps}.find (params.m\_sfnSf);
1976         \textcolor{keywordflow}{if} (itMap == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a0801127489d3eda5a462660c4af4c8bd}{m\_allocationMaps}.end ())
1977           \{
1978             \textcolor{keywordflow}{return};
1979           \}
1980         \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < (*itMap).second.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1981           \{
1982             \textcolor{comment}{// convert from fixed point notation Sxxxxxxxxxxx.xxx to double}
1983             \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1984             itCqi = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.find ((*itMap).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1985             \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.end ())
1986               \{
1987                 \textcolor{comment}{// create a new entry}
1988                 std::vector <double> newCqi;
1989                 \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
1990                   \{
1991                     \textcolor{keywordflow}{if} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} == j)
1992                       \{
1993                         newCqi.push\_back (sinr);
1994                       \}
1995                     \textcolor{keywordflow}{else}
1996                       \{
1997                         \textcolor{comment}{// initialize with NO\_SINR value.}
1998                         newCqi.push\_back (\hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR});
1999                       \}
2000 
2001                   \}
2002                 \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.insert (std::pair <uint16\_t, std::vector <double> > ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), newCqi));
2003                 \textcolor{comment}{// generate correspondent timer}
2004                 \hyperlink{classns3_1_1TdTbfqFfMacScheduler_abc6132bce28b1ee650503bf3144eb22a}{m\_ueCqiTimers}.insert (std::pair <uint16\_t, uint32\_t > ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold}));
2005               \}
2006             \textcolor{keywordflow}{else}
2007               \{
2008                 \textcolor{comment}{// update the value}
2009                 (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = sinr;
2010                 \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << (*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) << \textcolor{stringliteral}{" RB "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" SINR "} << sinr);
2011                 \textcolor{comment}{// update correspondent timer}
2012                 std::map <uint16\_t, uint32\_t>::iterator itTimers;
2013                 itTimers = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_abc6132bce28b1ee650503bf3144eb22a}{m\_ueCqiTimers}.find ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
2014                 (*itTimers).second = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold};
2015 
2016               \}
2017 
2018           \}
2019         \textcolor{comment}{// remove obsolete info on allocation}
2020         \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a0801127489d3eda5a462660c4af4c8bd}{m\_allocationMaps}.erase (itMap);
2021       \}
2022       \textcolor{keywordflow}{break};
2023     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af4b6dba4243636562c910c4d4761dd7e}{UlCqi\_s::SRS}:
2024       \{
2025         \textcolor{comment}{// get the RNTI from vendor specific parameters}
2026         uint16\_t rnti = 0;
2027         \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (params.m\_vendorSpecificList.size () > 0);
2028         \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_vendorSpecificList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
2029           \{
2030             \textcolor{keywordflow}{if} (params.m\_vendorSpecificList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_type == \hyperlink{lte-vendor-specific-parameters_8h_a3b5e6e766032ab4a8e374a1cfd237a26}{SRS\_CQI\_RNTI\_VSP})
2031               \{
2032                 Ptr<SrsCqiRntiVsp> vsp = DynamicCast<SrsCqiRntiVsp> (params.m\_vendorSpecificList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_value);
2033                 rnti = vsp->GetRnti ();
2034               \}
2035           \}
2036         std::map <uint16\_t, std::vector <double> >::iterator itCqi;
2037         itCqi = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.find (rnti);
2038         \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.end ())
2039           \{
2040             \textcolor{comment}{// create a new entry}
2041             std::vector <double> newCqi;
2042             \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
2043               \{
2044                 \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (j));
2045                 newCqi.push\_back (sinr);
2046                 \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" new SRS-CQI for RB  "} << j << \textcolor{stringliteral}{" value
       "} << sinr);
2047 
2048               \}
2049             \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.insert (std::pair <uint16\_t, std::vector <double> > (rnti, newCqi));
2050             \textcolor{comment}{// generate correspondent timer}
2051             \hyperlink{classns3_1_1TdTbfqFfMacScheduler_abc6132bce28b1ee650503bf3144eb22a}{m\_ueCqiTimers}.insert (std::pair <uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold}));
2052           \}
2053         \textcolor{keywordflow}{else}
2054           \{
2055             \textcolor{comment}{// update the values}
2056             \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
2057               \{
2058                 \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (j));
2059                 (*itCqi).second.at (j) = sinr;
2060                 \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" update SRS-CQI for RB  "} << j << \textcolor{stringliteral}{"
       value "} << sinr);
2061               \}
2062             \textcolor{comment}{// update correspondent timer}
2063             std::map <uint16\_t, uint32\_t>::iterator itTimers;
2064             itTimers = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_abc6132bce28b1ee650503bf3144eb22a}{m\_ueCqiTimers}.find (rnti);
2065             (*itTimers).second = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold};
2066 
2067           \}
2068 
2069 
2070       \}
2071       \textcolor{keywordflow}{break};
2072     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a05ca6554bc6fcd96a0a51fbaa8e794c7}{UlCqi\_s::PUCCH\_1}:
2073     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a35664b4bda6f1cd6acfe9edc84c7571d}{UlCqi\_s::PUCCH\_2}:
2074     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af93f36792cb1eed08f6119e4abfe58e8}{UlCqi\_s::PRACH}:
2075       \{
2076         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"TdTbfqFfMacScheduler supports only PUSCH and SRS UL-CQIs"});
2077       \}
2078       \textcolor{keywordflow}{break};
2079     \textcolor{keywordflow}{default}:
2080       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown type of UL-CQI"});
2081     \}
2082   \textcolor{keywordflow}{return};
2083 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedUlCqiInfoReq(const struct FfMacSchedSapProvider::SchedUlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a71e35a0d5f1c22753fae4777ffda3e01}{}\label{classns3_1_1TdTbfqFfMacScheduler_a71e35a0d5f1c22753fae4777ffda3e01}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}}
\index{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters \&params)}{DoSchedUlMacCtrlInfoReq(const struct FfMacSchedSapProvider::SchedUlMacCtrlInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ad648d54dec654621fd2719366a11ac64}{}\label{classns3_1_1TdTbfqFfMacScheduler_ad648d54dec654621fd2719366a11ac64}

\begin{DoxyCode}
1895 \{
1896   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1897 
1898   std::map <uint16\_t,uint32\_t>::iterator it;
1899 
1900   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_macCeList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1901     \{
1902       \textcolor{keywordflow}{if} ( params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_macCeType == \hyperlink{structns3_1_1MacCeListElement__s_a270a6526dfc7da02e9dc91823c290f6bac50796b01160b1825ec34efa1ad9f051}{MacCeListElement\_s::BSR} )
1903         \{
1904           \textcolor{comment}{// buffer status report}
1905           \textcolor{comment}{// note that this scheduler does not differentiate the}
1906           \textcolor{comment}{// allocation according to which LCGs have more/less bytes}
1907           \textcolor{comment}{// to send.}
1908           \textcolor{comment}{// Hence the BSR of different LCGs are just summed up to get}
1909           \textcolor{comment}{// a total queue size that is used for allocation purposes.}
1910 
1911           uint32\_t buffer = 0;
1912           \textcolor{keywordflow}{for} (uint8\_t lcg = 0; lcg < 4; ++lcg)
1913             \{
1914               uint8\_t bsrId = params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_macCeValue.m\_bufferStatus.at (lcg);
1915               buffer += \hyperlink{classns3_1_1BufferSizeLevelBsr_a67fc905f267ed8ac5a617fe229699122}{BufferSizeLevelBsr::BsrId2BufferSize} (bsrId);
1916             \}
1917           
1918           uint16\_t rnti = params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1919           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"RNTI="} << rnti << \textcolor{stringliteral}{" buffer="} << buffer);
1920           it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.find (rnti);
1921           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.end ())
1922             \{
1923               \textcolor{comment}{// create the new entry}
1924               \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, buffer));
1925             \}
1926           \textcolor{keywordflow}{else}
1927             \{
1928               \textcolor{comment}{// update the buffer size value}
1929               (*it).second = buffer;
1930             \}
1931         \}
1932     \}
1933 
1934   \textcolor{keywordflow}{return};
1935 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19




Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}}
\index{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters \&params)}{DoSchedUlMacCtrlInfoReq(const struct FfMacSchedSapProvider::SchedUlMacCtrlInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ad648d54dec654621fd2719366a11ac64}{}\label{classns3_1_1TdTbfqFfMacScheduler_ad648d54dec654621fd2719366a11ac64}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}}
\index{Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Noise\+Interference\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters \&params)}{DoSchedUlNoiseInterferenceReq(const struct FfMacSchedSapProvider::SchedUlNoiseInterferenceReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Noise\+Interference\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a090bb6e4d0ac8bc132ea8e03c6adecdb}{}\label{classns3_1_1TdTbfqFfMacScheduler_a090bb6e4d0ac8bc132ea8e03c6adecdb}

\begin{DoxyCode}
1881 \{
1882   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1883   \textcolor{keywordflow}{return};
1884 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}}
\index{Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Noise\+Interference\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters \&params)}{DoSchedUlNoiseInterferenceReq(const struct FfMacSchedSapProvider::SchedUlNoiseInterferenceReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Noise\+Interference\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a090bb6e4d0ac8bc132ea8e03c6adecdb}{}\label{classns3_1_1TdTbfqFfMacScheduler_a090bb6e4d0ac8bc132ea8e03c6adecdb}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}}
\index{Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Sr\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters \&params)}{DoSchedUlSrInfoReq(const struct FfMacSchedSapProvider::SchedUlSrInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Sr\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aa94c8fab12dc1a7cc8e0268971422c5f}{}\label{classns3_1_1TdTbfqFfMacScheduler_aa94c8fab12dc1a7cc8e0268971422c5f}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}}
\index{Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Sr\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters \&params)}{DoSchedUlSrInfoReq(const struct FfMacSchedSapProvider::SchedUlSrInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Sr\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aa94c8fab12dc1a7cc8e0268971422c5f}{}\label{classns3_1_1TdTbfqFfMacScheduler_aa94c8fab12dc1a7cc8e0268971422c5f}

\begin{DoxyCode}
1888 \{
1889   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1890   \textcolor{keywordflow}{return};
1891 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}}
\index{Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters \&params)}{DoSchedUlTriggerReq(const struct FfMacSchedSapProvider::SchedUlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a976f5dbc342e1617234cb49d6a017e32}{}\label{classns3_1_1TdTbfqFfMacScheduler_a976f5dbc342e1617234cb49d6a017e32}

\begin{DoxyCode}
1496 \{
1497   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL - Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{" subframe no. "} 
      << (0xF & params.m\_sfnSf) << \textcolor{stringliteral}{" size "} << params.m\_ulInfoList.size ());
1498 
1499   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a98ee5d1cb33162511118b7da222be604}{RefreshUlCqiMaps} ();
1500   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_a14e6bcaf7db6afcb42f75122717313b1}{ReportUlCqiInfo} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi});
1501 
1502   \textcolor{comment}{// Generate RBs map}
1503   FfMacSchedSapUser::SchedUlConfigIndParameters ret;
1504   std::vector <bool> rbMap;
1505   uint16\_t rbAllocatedNum = 0;
1506   std::set <uint16\_t> rntiAllocated;
1507   std::vector <uint16\_t> rbgAllocationMap;
1508   \textcolor{comment}{// update with RACH allocation map}
1509   rbgAllocationMap = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a09760afce6c2b248fbc5cbcffb9dede5}{m\_rachAllocationMap};
1510   \textcolor{comment}{//rbgAllocationMap.resize (m\_cschedCellConfig.m\_ulBandwidth, 0);}
1511   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a09760afce6c2b248fbc5cbcffb9dede5}{m\_rachAllocationMap}.clear ();
1512   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a09760afce6c2b248fbc5cbcffb9dede5}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
1513 
1514   rbMap.resize (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, \textcolor{keyword}{false});
1515 
1516   rbMap = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_aafd23b22a27ec83e03d54795c122d175}{GetAvailableUlRbg} ();
1517 
1518   \textcolor{keywordflow}{for} (std::vector<bool>::iterator it = rbMap.begin (); it != rbMap.end (); it++)
1519     \{
1520       \textcolor{keywordflow}{if} ((*it) == true )
1521         \{
1522           rbAllocatedNum++;
1523         \}
1524     \}
1525 
1526   uint8\_t minContinuousUlBandwidth = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider}->
      \hyperlink{classns3_1_1LteFfrSapProvider_a78c8a0c801d8a7d4f2e853f5138fd577}{GetMinContinuousUlBandwidth} ();
1527   uint8\_t ffrUlBandwidth = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth} - rbAllocatedNum
      ;
1528 
1529   \textcolor{comment}{// remove RACH allocation}
1530   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1531     \{
1532       \textcolor{keywordflow}{if} (rbgAllocationMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) != 0)
1533         \{
1534           rbMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = \textcolor{keyword}{true};
1535           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Allocated for RACH "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1536         \}
1537     \}
1538 
1539 
1540   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}{m\_harqOn} == \textcolor{keyword}{true})
1541     \{
1542       \textcolor{comment}{//   Process UL HARQ feedback}
1543       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_ulInfoList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1544         \{        
1545           \textcolor{keywordflow}{if} (params.m\_ulInfoList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_receptionStatus == 
      \hyperlink{structns3_1_1UlInfoListElement__s_a2a4dff5145d25c81086660e991db6f61a98aed738fd24811d3461668e394a53c8}{UlInfoListElement\_s::NotOk})
1546             \{
1547               \textcolor{comment}{// retx correspondent block: retrieve the UL-DCI}
1548               uint16\_t rnti = params.m\_ulInfoList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1549               std::map <uint16\_t, uint8\_t>::iterator itProcId = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.find (rnti);
1550               \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.end ())
1551                 \{
1552                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1553                 \}
1554               uint8\_t harqId = (uint8\_t)((*itProcId).second - \hyperlink{lte-common_8h_a275321ee206f130c3ddc81fcdaa13cfd}{HARQ\_PERIOD}) % 
      \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
1555               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-HARQ retx RNTI "} << rnti << \textcolor{stringliteral}{" harqId "} << (uint16\_t)
      harqId << \textcolor{stringliteral}{" i "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" size "}  << params.m\_ulInfoList.size ());
1556               std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itHarq = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{m\_ulHarqProcessesDciBuffer}.find (rnti);
1557               \textcolor{keywordflow}{if} (itHarq == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{m\_ulHarqProcessesDciBuffer}.end ())
1558                 \{
1559                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1560                   \textcolor{keywordflow}{continue};
1561                 \}
1562               UlDciListElement\_s dci = (*itHarq).second.at (harqId);
1563               std::map <uint16\_t, UlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a845d3e79ce5c38b47c8ac8a7e4cc5b37}{m\_ulHarqProcessesStatus}.find (rnti);
1564               \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a845d3e79ce5c38b47c8ac8a7e4cc5b37}{m\_ulHarqProcessesStatus}.end ())
1565                 \{
1566                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1567                 \}
1568               \textcolor{keywordflow}{if} ((*itStat).second.at (harqId) >= 3)
1569                 \{
1570                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Max number of retransmissions reached (UL)-> drop process"});
1571                   \textcolor{keywordflow}{continue};
1572                 \}
1573               \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
1574               \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = dci.m\_rbStart; j < dci.m\_rbStart + dci.m\_rbLen; j++)
1575                 \{
1576                   \textcolor{keywordflow}{if} (rbMap.at (j) == \textcolor{keyword}{true})
1577                     \{
1578                       free = \textcolor{keyword}{false};
1579                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" BUSY "} << j);
1580                     \}
1581                 \}
1582               \textcolor{keywordflow}{if} (free)
1583                 \{
1584                   \textcolor{comment}{// retx on the same RBs}
1585                   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = dci.m\_rbStart; j < dci.m\_rbStart + dci.m\_rbLen; j++)
1586                     \{
1587                       rbMap.at (j) = \textcolor{keyword}{true};
1588                       rbgAllocationMap.at (j) = dci.m\_rnti;
1589                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tRB "} << j);
1590                       rbAllocatedNum++;
1591                     \}
1592                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Send retx in the same RBs "} << (uint16\_t)dci.m\_rbStart 
      << \textcolor{stringliteral}{" to "} << dci.m\_rbStart + dci.m\_rbLen << \textcolor{stringliteral}{" RV "} << (*itStat).second.at (harqId) + 1);
1593                 \}
1594               \textcolor{keywordflow}{else}
1595                 \{
1596                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Cannot allocate retx due to RACH allocations for UE "} << rnti);
1597                   \textcolor{keywordflow}{continue};
1598                 \}
1599               dci.m\_ndi = 0;
1600               \textcolor{comment}{// Update HARQ buffers with new HarqId}
1601               (*itStat).second.at ((*itProcId).second) = (*itStat).second.at (harqId) + 1;
1602               (*itStat).second.at (harqId) = 0;
1603               (*itHarq).second.at ((*itProcId).second) = dci;
1604               ret.m\_dciList.push\_back (dci);
1605               rntiAllocated.insert (dci.m\_rnti);
1606             \}
1607             \textcolor{keywordflow}{else}
1608             \{
1609               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ-ACK feedback from RNTI "} << params.m\_ulInfoList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1610             \}
1611         \}
1612     \}
1613 
1614   std::map <uint16\_t,uint32\_t>::iterator it;
1615   \textcolor{keywordtype}{int} nflows = 0;
1616 
1617   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.begin (); it != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.end (); it++)
1618     \{
1619       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1620       \textcolor{comment}{// select UEs with queues not empty and not yet allocated for HARQ}
1621       \textcolor{keywordflow}{if} (((*it).second > 0)&&(itRnti == rntiAllocated.end ()))
1622         \{
1623           nflows++;
1624         \}
1625     \}
1626 
1627   \textcolor{keywordflow}{if} (nflows == 0)
1628     \{
1629       \textcolor{keywordflow}{if} (ret.m\_dciList.size () > 0)
1630         \{
1631           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a0801127489d3eda5a462660c4af4c8bd}{m\_allocationMaps}.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.
      m\_sfnSf, rbgAllocationMap));
1632           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a8f5689c5d8af1b40e97dacfce14f605a}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a1b89636256701a84d990db7db8aea874}{SchedUlConfigInd} (ret);
1633         \}
1634         
1635       \textcolor{keywordflow}{return};  \textcolor{comment}{// no flows to be scheduled}
1636     \}
1637 
1638 
1639   \textcolor{comment}{// Divide the remaining resources equally among the active users starting from the subsequent one served
       last scheduling trigger}
1640   uint16\_t tempRbPerFlow = (ffrUlBandwidth) / (nflows + rntiAllocated.size ());
1641   uint16\_t rbPerFlow = (minContinuousUlBandwidth < tempRbPerFlow) ? minContinuousUlBandwidth : 
      tempRbPerFlow;
1642 
1643   \textcolor{keywordflow}{if} (rbPerFlow < 3)
1644     \{
1645       rbPerFlow = 3;  \textcolor{comment}{// at least 3 rbg per flow (till available resource) to ensure TxOpportunity >= 7
       bytes}
1646     \}
1647   \textcolor{keywordtype}{int} rbAllocated = 0;
1648 
1649   std::map <uint16\_t, tdtbfqsFlowPerf\_t>::iterator itStats;
1650   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}{m\_nextRntiUl} != 0)
1651     \{
1652       \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.begin (); it != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.end (); it++)
1653         \{
1654           \textcolor{keywordflow}{if} ((*it).first == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}{m\_nextRntiUl})
1655             \{
1656               \textcolor{keywordflow}{break};
1657             \}
1658         \}
1659       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.end ())
1660         \{
1661           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" no user found"});
1662         \}
1663     \}
1664   \textcolor{keywordflow}{else}
1665     \{
1666       it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.begin ();
1667       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}{m\_nextRntiUl} = (*it).first;
1668     \}
1669   \textcolor{keywordflow}{do}
1670     \{
1671       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1672       \textcolor{keywordflow}{if} ((itRnti != rntiAllocated.end ())||((*it).second == 0))
1673         \{
1674           \textcolor{comment}{// UE already allocated for UL-HARQ -> skip it}
1675           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE already allocated in HARQ -> discared, RNTI "} << (*it).
      first);
1676           it++;
1677           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.end ())
1678             \{
1679               \textcolor{comment}{// restart from the first}
1680               it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.begin ();
1681             \}
1682           \textcolor{keywordflow}{continue};
1683         \}
1684       \textcolor{keywordflow}{if} (rbAllocated + rbPerFlow - 1 > \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth})
1685         \{
1686           \textcolor{comment}{// limit to physical resources last resource assignment}
1687           rbPerFlow = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth} - rbAllocated;
1688           \textcolor{comment}{// at least 3 rbg per flow to ensure TxOpportunity >= 7 bytes}
1689           \textcolor{keywordflow}{if} (rbPerFlow < 3)
1690             \{
1691               \textcolor{comment}{// terminate allocation}
1692               rbPerFlow = 0;      
1693             \}
1694         \}
1695 
1696       rbAllocated = 0;
1697       UlDciListElement\_s uldci;
1698       uldci.m\_rnti = (*it).first;
1699       uldci.m\_rbLen = rbPerFlow;
1700       \textcolor{keywordtype}{bool} allocated = \textcolor{keyword}{false};
1701       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RB Allocated "} << rbAllocated << \textcolor{stringliteral}{" rbPerFlow "} << rbPerFlow << \textcolor{stringliteral}{"
       flows "} << nflows);
1702       \textcolor{keywordflow}{while} ((!allocated)&&((rbAllocated + rbPerFlow - \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) < 1) && (rbPerFlow != 0))
1703         \{
1704           \textcolor{comment}{// check availability}
1705           \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
1706           \textcolor{keywordflow}{for} (uint16\_t j = rbAllocated; j < rbAllocated + rbPerFlow; j++)
1707             \{
1708               \textcolor{keywordflow}{if} (rbMap.at (j) == \textcolor{keyword}{true})
1709                 \{
1710                   free = \textcolor{keyword}{false};
1711                   \textcolor{keywordflow}{break};
1712                 \}
1713               \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider}->\hyperlink{classns3_1_1LteFfrSapProvider_a3ef80840549b8ea3d50d2cef8a9866e2}{IsUlRbgAvailableForUe} (j, (*it).
      first)) == \textcolor{keyword}{false})
1714                 \{
1715                   free = \textcolor{keyword}{false};
1716                   \textcolor{keywordflow}{break};
1717                 \}
1718             \}
1719           \textcolor{keywordflow}{if} (free)
1720             \{
1721                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"RNTI: "}<< (*it).first<< \textcolor{stringliteral}{" RB Allocated "} << rbAllocated 
      << \textcolor{stringliteral}{" rbPerFlow "} << rbPerFlow << \textcolor{stringliteral}{" flows "} << nflows);
1722               uldci.m\_rbStart = rbAllocated;
1723 
1724               \textcolor{keywordflow}{for} (uint16\_t j = rbAllocated; j < rbAllocated + rbPerFlow; j++)
1725                 \{
1726                   rbMap.at (j) = \textcolor{keyword}{true};
1727                   \textcolor{comment}{// store info on allocation for managing ul-cqi interpretation}
1728                   rbgAllocationMap.at (j) = (*it).first;
1729                 \}
1730               rbAllocated += rbPerFlow;
1731               allocated = \textcolor{keyword}{true};
1732               \textcolor{keywordflow}{break};
1733             \}
1734           rbAllocated++;
1735           \textcolor{keywordflow}{if} (rbAllocated + rbPerFlow - 1 > \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth})
1736             \{
1737               \textcolor{comment}{// limit to physical resources last resource assignment}
1738               rbPerFlow = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth} - rbAllocated;
1739               \textcolor{comment}{// at least 3 rbg per flow to ensure TxOpportunity >= 7 bytes}
1740               \textcolor{keywordflow}{if} (rbPerFlow < 3)
1741                 \{
1742                   \textcolor{comment}{// terminate allocation}
1743                   rbPerFlow = 0;                 
1744                 \}
1745             \}
1746         \}
1747       \textcolor{keywordflow}{if} (!allocated)
1748         \{
1749           \textcolor{comment}{// unable to allocate new resource: finish scheduling}
1750 \textcolor{comment}{//          m\_nextRntiUl = (*it).first;}
1751 \textcolor{comment}{//          if (ret.m\_dciList.size () > 0)}
1752 \textcolor{comment}{//            \{}
1753 \textcolor{comment}{//              m\_schedSapUser->SchedUlConfigInd (ret);}
1754 \textcolor{comment}{//            \}}
1755 \textcolor{comment}{//          m\_allocationMaps.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.m\_sfnSf,
       rbgAllocationMap));}
1756 \textcolor{comment}{//          return;}
1757           \textcolor{keywordflow}{break};
1758         \}
1759 
1760 
1761 
1762       std::map <uint16\_t, std::vector <double> >::iterator itCqi = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.find ((*it).first);
1763       \textcolor{keywordtype}{int} cqi = 0;
1764       \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.end ())
1765         \{
1766           \textcolor{comment}{// no cqi info about this UE}
1767           uldci.m\_mcs = 0; \textcolor{comment}{// MCS 0 -> UL-AMC TBD}
1768         \}
1769       \textcolor{keywordflow}{else}
1770         \{
1771           \textcolor{comment}{// take the lowest CQI value (worst RB)}
1772           \textcolor{keywordtype}{double} minSinr = (*itCqi).second.at (uldci.m\_rbStart);
1773           \textcolor{keywordflow}{if} (minSinr == \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
1774             \{
1775               minSinr = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9d1ab86d5693cc316f2c30fff137311e}{EstimateUlSinr} ((*it).first, uldci.m\_rbStart);
1776             \}
1777           \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = uldci.m\_rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < uldci.m\_rbStart + uldci.m\_rbLen; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1778             \{
1779               \textcolor{keywordtype}{double} sinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1780               \textcolor{keywordflow}{if} (sinr == \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
1781                 \{
1782                   sinr = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9d1ab86d5693cc316f2c30fff137311e}{EstimateUlSinr} ((*it).first, \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1783                 \}
1784               \textcolor{keywordflow}{if} ((*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) < minSinr)
1785                 \{
1786                   minSinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1787                 \}
1788             \}
1789 
1790           \textcolor{comment}{// translate SINR -> cqi: WILD ACK: same as DL}
1791           \textcolor{keywordtype}{double} \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s} = log2 ( 1 + (
1792                                  std::pow (10, minSinr / 10 )  /
1793                                  ( (-std::log (5.0 * 0.00005 )) / 1.5) ));
1794           cqi = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}{m\_amc}->GetCqiFromSpectralEfficiency (s);
1795           \textcolor{keywordflow}{if} (cqi == 0)
1796             \{
1797               it++;
1798               \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.end ())
1799                 \{
1800                   \textcolor{comment}{// restart from the first}
1801                   it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.begin ();
1802                 \}
1803               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE discared for CQI=0, RNTI "} << uldci.m\_rnti);
1804               \textcolor{comment}{// remove UE from allocation map}
1805               \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = uldci.m\_rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < uldci.m\_rbStart + uldci.m\_rbLen; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1806                 \{
1807                   rbgAllocationMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
1808                 \}
1809               \textcolor{keywordflow}{continue}; \textcolor{comment}{// CQI == 0 means "out of range" (see table 7.2.3-1 of 36.213)}
1810             \}
1811           uldci.m\_mcs = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}{m\_amc}->GetMcsFromCqi (cqi);
1812         \}
1813 
1814       uldci.m\_tbSize = (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}{m\_amc}->GetTbSizeFromMcs (uldci.m\_mcs, rbPerFlow) / 8);
1815       \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a2caa7b733fe0f6d0c4739cd7b6dba645}{UpdateUlRlcBufferInfo} (uldci.m\_rnti, uldci.m\_tbSize);
1816       uldci.m\_ndi = 1;
1817       uldci.m\_cceIndex = 0;
1818       uldci.m\_aggrLevel = 1;
1819       uldci.m\_ueTxAntennaSelection = 3; \textcolor{comment}{// antenna selection OFF}
1820       uldci.m\_hopping = \textcolor{keyword}{false};
1821       uldci.m\_n2Dmrs = 0;
1822       uldci.m\_tpc = 0; \textcolor{comment}{// no power control}
1823       uldci.m\_cqiRequest = \textcolor{keyword}{false}; \textcolor{comment}{// only period CQI at this stage}
1824       uldci.m\_ulIndex = 0; \textcolor{comment}{// TDD parameter}
1825       uldci.m\_dai = 1; \textcolor{comment}{// TDD parameter}
1826       uldci.m\_freqHopping = 0;
1827       uldci.m\_pdcchPowerOffset = 0; \textcolor{comment}{// not used}
1828       ret.m\_dciList.push\_back (uldci);
1829       \textcolor{comment}{// store DCI for HARQ\_PERIOD}
1830       uint8\_t harqId = 0;
1831       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}{m\_harqOn} == \textcolor{keyword}{true})
1832         \{
1833           std::map <uint16\_t, uint8\_t>::iterator itProcId;
1834           itProcId = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.find (uldci.m\_rnti);
1835           \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{m\_ulHarqCurrentProcessId}.end ())
1836             \{
1837               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << uldci.m\_rnti);
1838             \}
1839           harqId = (*itProcId).second;
1840           std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{m\_ulHarqProcessesDciBuffer}.find (uldci.m\_rnti);
1841           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{m\_ulHarqProcessesDciBuffer}.end ())
1842             \{
1843               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in UL DCI HARQ buffer for RNTI "} << 
      uldci.m\_rnti);
1844             \}
1845           (*itDci).second.at (harqId) = uldci;
1846           \textcolor{comment}{// Update HARQ process status (RV 0)}
1847           std::map <uint16\_t, UlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a845d3e79ce5c38b47c8ac8a7e4cc5b37}{m\_ulHarqProcessesStatus}.find (uldci.m\_rnti);
1848           \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a845d3e79ce5c38b47c8ac8a7e4cc5b37}{m\_ulHarqProcessesStatus}.end ())
1849             \{
1850               \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << uldci.
      m\_rnti);
1851             \}
1852           (*itStat).second.at (harqId) = 0;
1853         \}
1854 
1855       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE Allocation RNTI "} << (*it).first << \textcolor{stringliteral}{" startPRB "} << (uint32\_t)
      uldci.m\_rbStart << \textcolor{stringliteral}{" nPRB "} << (uint32\_t)uldci.m\_rbLen << \textcolor{stringliteral}{" CQI "} << cqi << \textcolor{stringliteral}{" MCS "} << (uint32\_t)uldci.m\_mcs 
      << \textcolor{stringliteral}{" TBsize "} << uldci.m\_tbSize << \textcolor{stringliteral}{" RbAlloc "} << rbAllocated << \textcolor{stringliteral}{" harqId "} << (uint16\_t)harqId);
1856 
1857       it++;
1858       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.end ())
1859         \{
1860           \textcolor{comment}{// restart from the first}
1861           it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.begin ();
1862         \}
1863       \textcolor{keywordflow}{if} ((rbAllocated == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) || (rbPerFlow ==
       0))
1864         \{
1865           \textcolor{comment}{// Stop allocation: no more PRBs}
1866           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}{m\_nextRntiUl} = (*it).first;
1867           \textcolor{keywordflow}{break};
1868         \}
1869     \}
1870   \textcolor{keywordflow}{while} (((*it).first != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}{m\_nextRntiUl})&&(rbPerFlow!=0));
1871 
1872 
1873   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a0801127489d3eda5a462660c4af4c8bd}{m\_allocationMaps}.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.m\_sfnSf, 
      rbgAllocationMap));
1874   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a8f5689c5d8af1b40e97dacfce14f605a}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a1b89636256701a84d990db7db8aea874}{SchedUlConfigInd} (ret);
1875 
1876   \textcolor{keywordflow}{return};
1877 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23




Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}}
\index{Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters \&params)}{DoSchedUlTriggerReq(const struct FfMacSchedSapProvider::SchedUlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a976f5dbc342e1617234cb49d6a017e32}{}\label{classns3_1_1TdTbfqFfMacScheduler_a976f5dbc342e1617234cb49d6a017e32}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}}
\index{Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Estimate\+Ul\+Sinr(uint16\+\_\+t rnti, uint16\+\_\+t rb)}{EstimateUlSinr(uint16_t rnti, uint16_t rb)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Estimate\+Ul\+Sinr (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{rb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a9d1ab86d5693cc316f2c30fff137311e}{}\label{classns3_1_1TdTbfqFfMacScheduler_a9d1ab86d5693cc316f2c30fff137311e}

\begin{DoxyCode}
1465 \{
1466   std::map <uint16\_t, std::vector <double> >::iterator itCqi = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.find (rnti);
1467   \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.end ())
1468     \{
1469       \textcolor{comment}{// no cqi info about this UE}
1470       \textcolor{keywordflow}{return} (\hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR});
1471 
1472     \}
1473   \textcolor{keywordflow}{else}
1474     \{
1475       \textcolor{comment}{// take the average SINR value among the available}
1476       \textcolor{keywordtype}{double} sinrSum = 0;
1477       \textcolor{keywordtype}{int} sinrNum = 0;
1478       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1479         \{
1480           \textcolor{keywordtype}{double} sinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1481           \textcolor{keywordflow}{if} (sinr != \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
1482             \{
1483               sinrSum += sinr;
1484               sinrNum++;
1485             \}
1486         \}
1487       \textcolor{keywordtype}{double} estimatedSinr = (sinrNum > 0) ? (sinrSum / sinrNum) : DBL\_MAX;
1488       \textcolor{comment}{// store the value}
1489       (*itCqi).second.at (rb) = estimatedSinr;
1490       \textcolor{keywordflow}{return} (estimatedSinr);
1491     \}
1492 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 25


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}}
\index{Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Estimate\+Ul\+Sinr(uint16\+\_\+t rnti, uint16\+\_\+t rb)}{EstimateUlSinr(uint16_t rnti, uint16_t rb)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Estimate\+Ul\+Sinr (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{rb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a9d1ab86d5693cc316f2c30fff137311e}{}\label{classns3_1_1TdTbfqFfMacScheduler_a9d1ab86d5693cc316f2c30fff137311e}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Csched\+Sap\+Provider()}{GetFfMacCschedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Ff\+Mac\+Csched\+Sap\+Provider}$\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Csched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a26040de50aa8ef1d30fba59c17eab29f}{}\label{classns3_1_1TdTbfqFfMacScheduler_a26040de50aa8ef1d30fba59c17eab29f}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Csched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a458388c88c892d32e2d7a48883947379}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Csched\+Sap\+Provider()}{GetFfMacCschedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Csched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a4425e28389e1a305032d993becc78fbc}{}\label{classns3_1_1TdTbfqFfMacScheduler_a4425e28389e1a305032d993becc78fbc}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Csched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a458388c88c892d32e2d7a48883947379}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
314 \{
315   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a22a19059921cf652fbce916ceca70972}{m\_cschedSapProvider};
316 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Sched\+Sap\+Provider()}{GetFfMacSchedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Ff\+Mac\+Sched\+Sap\+Provider}$\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Sched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a6be16307a7f3a930a4fd92c968b6025a}{}\label{classns3_1_1TdTbfqFfMacScheduler_a6be16307a7f3a930a4fd92c968b6025a}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Sched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_ad3a2aca6f1c01fbddf88bfbf19cc07a4}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Sched\+Sap\+Provider()}{GetFfMacSchedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Sched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a2c2c112ceb89d90e6aecedd2c2a72884}{}\label{classns3_1_1TdTbfqFfMacScheduler_a2c2c112ceb89d90e6aecedd2c2a72884}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Sched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_ad3a2aca6f1c01fbddf88bfbf19cc07a4}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
320 \{
321   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afeed1dc1600c32b8ecc7c1b4f805ca12}{m\_schedSapProvider};
322 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}}
\index{Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Lte\+Ffr\+Sap\+User()}{GetLteFfrSapUser()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+User} $\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Get\+Lte\+Ffr\+Sap\+User (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aca135b6386627e6603991bee030f3b97}{}\label{classns3_1_1TdTbfqFfMacScheduler_aca135b6386627e6603991bee030f3b97}
\begin{DoxyReturn}{Returns}
the User part of the Lte\+Ffr\+Sap provided by the Ffr\+Algorithm 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a32fe62051fd6ac175116417df11e6c4e}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
332 \{
333   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aa78fad6d52a8781e7ed2a51a75ae61b9}{m\_ffrSapUser};
334 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}}
\index{Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Lte\+Ffr\+Sap\+User()}{GetLteFfrSapUser()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Lte\+Ffr\+Sap\+User}$\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Get\+Lte\+Ffr\+Sap\+User (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a5797de400f1de13da0156a378099bd13}{}\label{classns3_1_1TdTbfqFfMacScheduler_a5797de400f1de13da0156a378099bd13}
\begin{DoxyReturn}{Returns}
the User part of the Lte\+Ffr\+Sap provided by the Ffr\+Algorithm 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a32fe62051fd6ac175116417df11e6c4e}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Get\+Rbg\+Size@{Get\+Rbg\+Size}}
\index{Get\+Rbg\+Size@{Get\+Rbg\+Size}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Rbg\+Size(int dlbandwidth)}{GetRbgSize(int dlbandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Get\+Rbg\+Size (
\begin{DoxyParamCaption}
\item[{int}]{dlbandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a66bac32b64401c51a50b7f554028f78e}{}\label{classns3_1_1TdTbfqFfMacScheduler_a66bac32b64401c51a50b7f554028f78e}

\begin{DoxyCode}
548 \{
549   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 4; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
550     \{
551       \textcolor{keywordflow}{if} (dlbandwidth < \hyperlink{namespacens3_a29a0b67f16d5c75422ba1321f5d03944}{TdTbfqType0AllocationRbg}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}])
552         \{
553           \textcolor{keywordflow}{return} (i + 1);
554         \}
555     \}
556 
557   \textcolor{keywordflow}{return} (-1);
558 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Get\+Rbg\+Size@{Get\+Rbg\+Size}}
\index{Get\+Rbg\+Size@{Get\+Rbg\+Size}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Rbg\+Size(int dlbandwidth)}{GetRbgSize(int dlbandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Get\+Rbg\+Size (
\begin{DoxyParamCaption}
\item[{int}]{dlbandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a66bac32b64401c51a50b7f554028f78e}{}\label{classns3_1_1TdTbfqFfMacScheduler_a66bac32b64401c51a50b7f554028f78e}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Type\+Id} ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a6dcc3f603c221f4814f3efc679270a43}{}\label{classns3_1_1TdTbfqFfMacScheduler_a6dcc3f603c221f4814f3efc679270a43}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a78d785948cf369e48467f9d29fcaf2ac}{}\label{classns3_1_1TdTbfqFfMacScheduler_a78d785948cf369e48467f9d29fcaf2ac}

\begin{DoxyCode}
253 \{
254   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::TdTbfqFfMacScheduler"})
255     .SetParent<\hyperlink{classns3_1_1FfMacScheduler_aa4c8ce28dbba2c19ff3328533c444045}{FfMacScheduler}> ()
256     .SetGroupName(\textcolor{stringliteral}{"Lte"})
257     .AddConstructor<\hyperlink{classns3_1_1TdTbfqFfMacScheduler_ae3122288024d362f6257689e8f1cb55f}{TdTbfqFfMacScheduler}> ()
258     .AddAttribute (\textcolor{stringliteral}{"CqiTimerThreshold"},
259                    \textcolor{stringliteral}{"The number of TTIs a CQI is valid (default 1000 - 1 sec.)"},
260                    UintegerValue (1000),
261                    MakeUintegerAccessor (&
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{TdTbfqFfMacScheduler::m\_cqiTimersThreshold}),
262                    MakeUintegerChecker<uint32\_t> ())
263     .AddAttribute (\textcolor{stringliteral}{"DebtLimit"},
264                    \textcolor{stringliteral}{"Flow debt limit (default -625000 bytes)"},
265                    IntegerValue (-625000),
266                    MakeIntegerAccessor (&\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9c3d40d1117e3afd1dbb4747008d256e}{TdTbfqFfMacScheduler::m\_debtLimit}
      ),
267                    MakeIntegerChecker<int> ())
268     .AddAttribute (\textcolor{stringliteral}{"CreditLimit"},
269                    \textcolor{stringliteral}{"Flow credit limit (default 625000 bytes)"},
270                    UintegerValue (625000),
271                    MakeUintegerAccessor (&\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4fcf66ab5e783305bad38c4667f2cfd0}{TdTbfqFfMacScheduler::m\_creditLimit}
      ),
272                    MakeUintegerChecker<uint32\_t> ())
273     .AddAttribute (\textcolor{stringliteral}{"TokenPoolSize"},
274                    \textcolor{stringliteral}{"The maximum value of flow token pool (default 1 bytes)"},
275                    UintegerValue (1),
276                    MakeUintegerAccessor (&\hyperlink{classns3_1_1TdTbfqFfMacScheduler_ac14d4dbc811afa558ad1b7fc125b188b}{TdTbfqFfMacScheduler::m\_tokenPoolSize}
      ),
277                    MakeUintegerChecker<uint32\_t> ())
278     .AddAttribute (\textcolor{stringliteral}{"CreditableThreshold"},
279                    \textcolor{stringliteral}{"Threshold of flow credit (default 0 bytes)"},
280                    UintegerValue (0),
281                    MakeUintegerAccessor (&
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a776a405971c9f74b3ad96379a9aa7abe}{TdTbfqFfMacScheduler::m\_creditableThreshold}),
282                    MakeUintegerChecker<uint32\_t> ())
283 
284     .AddAttribute (\textcolor{stringliteral}{"HarqEnabled"},
285                    \textcolor{stringliteral}{"Activate/Deactivate the HARQ [by default is active]."},
286                    BooleanValue (\textcolor{keyword}{true}),
287                    MakeBooleanAccessor (&\hyperlink{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}{TdTbfqFfMacScheduler::m\_harqOn}),
288                    MakeBooleanChecker ())
289     .AddAttribute (\textcolor{stringliteral}{"UlGrantMcs"},
290                    \textcolor{stringliteral}{"The MCS of the UL grant, must be [0..15] (default 0)"},
291                    UintegerValue (0),
292                    MakeUintegerAccessor (&\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a7382f05e10e61de33d6559202a1252bd}{TdTbfqFfMacScheduler::m\_ulGrantMcs}
      ),
293                    MakeUintegerChecker<uint8\_t> ())
294   ;
295   \textcolor{keywordflow}{return} tid;
296 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 27


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Harq\+Process\+Availability@{Harq\+Process\+Availability}}
\index{Harq\+Process\+Availability@{Harq\+Process\+Availability}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Harq\+Process\+Availability(uint16\+\_\+t rnti)}{HarqProcessAvailability(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Harq\+Process\+Availability (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a6df3d860dc847dfa118d87b4a3679c7e}{}\label{classns3_1_1TdTbfqFfMacScheduler_a6df3d860dc847dfa118d87b4a3679c7e}


Return the availability of free process for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}

\begin{DoxyCode}
586 \{
587   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
588 
589   std::map <uint16\_t, uint8\_t>::iterator it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad1c507f0824369e326a2f4594a19f5e9}{m\_dlHarqCurrentProcessId}.find (rnti);
590   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad1c507f0824369e326a2f4594a19f5e9}{m\_dlHarqCurrentProcessId}.end ())
591     \{
592       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id found for this RNTI "} << rnti);
593     \}
594   std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.find (rnti);
595   \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.end ())
596     \{
597       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Statusfound for this RNTI "} << rnti);
598     \}
599   uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second;
600   \textcolor{keywordflow}{do}
601     \{
602       i = (i + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
603     \}
604   \textcolor{keywordflow}{while} ( ((*itStat).second.at (i) != 0)&&(i != (*it).second));
605   \textcolor{keywordflow}{if} ((*itStat).second.at (i) == 0)
606     \{
607       \textcolor{keywordflow}{return} (\textcolor{keyword}{true});
608     \}
609   \textcolor{keywordflow}{else}
610     \{
611       \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); \textcolor{comment}{// return a not valid harq proc id}
612     \}
613 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Harq\+Process\+Availability@{Harq\+Process\+Availability}}
\index{Harq\+Process\+Availability@{Harq\+Process\+Availability}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Harq\+Process\+Availability(uint16\+\_\+t rnti)}{HarqProcessAvailability(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Harq\+Process\+Availability (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a6df3d860dc847dfa118d87b4a3679c7e}{}\label{classns3_1_1TdTbfqFfMacScheduler_a6df3d860dc847dfa118d87b4a3679c7e}


Return the availability of free process for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}}
\index{Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Lc\+Active\+Per\+Flow(uint16\+\_\+t rnti)}{LcActivePerFlow(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Lc\+Active\+Per\+Flow (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_af59fe1b38ec5ca5d51393c9d3a99375c}{}\label{classns3_1_1TdTbfqFfMacScheduler_af59fe1b38ec5ca5d51393c9d3a99375c}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}}
\index{Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Lc\+Active\+Per\+Flow(uint16\+\_\+t rnti)}{LcActivePerFlow(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Lc\+Active\+Per\+Flow (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_af59fe1b38ec5ca5d51393c9d3a99375c}{}\label{classns3_1_1TdTbfqFfMacScheduler_af59fe1b38ec5ca5d51393c9d3a99375c}

\begin{DoxyCode}
563 \{
564   std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
565   \textcolor{keywordtype}{int} lcActive = 0;
566   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.begin (); it != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.end (); it++)
567     \{
568       \textcolor{keywordflow}{if} (((*it).first.m\_rnti == rnti) && (((*it).second.m\_rlcTransmissionQueueSize > 0)
569                                            || ((*it).second.m\_rlcRetransmissionQueueSize > 0)
570                                            || ((*it).second.m\_rlcStatusPduSize > 0) ))
571         \{
572           lcActive++;
573         \}
574       \textcolor{keywordflow}{if} ((*it).first.m\_rnti > rnti)
575         \{
576           \textcolor{keywordflow}{break};
577         \}
578     \}
579   \textcolor{keywordflow}{return} (lcActive);
580 
581 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 29


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}}
\index{Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Dl\+Cqi\+Maps(void)}{RefreshDlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Refresh\+Dl\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ae5c88a5647201a5b882922a950832104}{}\label{classns3_1_1TdTbfqFfMacScheduler_ae5c88a5647201a5b882922a950832104}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}}
\index{Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Dl\+Cqi\+Maps(void)}{RefreshDlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Refresh\+Dl\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ae5c88a5647201a5b882922a950832104}{}\label{classns3_1_1TdTbfqFfMacScheduler_ae5c88a5647201a5b882922a950832104}

\begin{DoxyCode}
2087 \{
2088   \textcolor{comment}{// refresh DL CQI P01 Map}
2089   std::map <uint16\_t,uint32\_t>::iterator itP10 = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aaf5d854702133742423180538d27f6f1}{m\_p10CqiTimers}.begin ();
2090   \textcolor{keywordflow}{while} (itP10 != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aaf5d854702133742423180538d27f6f1}{m\_p10CqiTimers}.end ())
2091     \{
2092       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" P10-CQI for user "} << (*itP10).first << \textcolor{stringliteral}{" is "} << (uint32\_t)
      (*itP10).second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold});
2093       \textcolor{keywordflow}{if} ((*itP10).second == 0)
2094         \{
2095           \textcolor{comment}{// delete correspondent entries}
2096           std::map <uint16\_t,uint8\_t>::iterator itMap = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afadf1919ebd3f749f973a94088ff74dc}{m\_p10CqiRxed}.find ((*itP10).first);
2097           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afadf1919ebd3f749f973a94088ff74dc}{m\_p10CqiRxed}.end (), \textcolor{stringliteral}{" Does not find CQI report
       for user "} << (*itP10).first);
2098           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" P10-CQI expired for user "} << (*itP10).first);
2099           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_afadf1919ebd3f749f973a94088ff74dc}{m\_p10CqiRxed}.erase (itMap);
2100           std::map <uint16\_t,uint32\_t>::iterator temp = itP10;
2101           itP10++;
2102           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_aaf5d854702133742423180538d27f6f1}{m\_p10CqiTimers}.erase (temp);
2103         \}
2104       \textcolor{keywordflow}{else}
2105         \{
2106           (*itP10).second--;
2107           itP10++;
2108         \}
2109     \}
2110 
2111   \textcolor{comment}{// refresh DL CQI A30 Map}
2112   std::map <uint16\_t,uint32\_t>::iterator itA30 = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a208160933cb6d934c6cfb8114734226a}{m\_a30CqiTimers}.begin ();
2113   \textcolor{keywordflow}{while} (itA30 != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a208160933cb6d934c6cfb8114734226a}{m\_a30CqiTimers}.end ())
2114     \{
2115       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" A30-CQI for user "} << (*itA30).first << \textcolor{stringliteral}{" is "} << (uint32\_t)
      (*itA30).second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold});
2116       \textcolor{keywordflow}{if} ((*itA30).second == 0)
2117         \{
2118           \textcolor{comment}{// delete correspondent entries}
2119           std::map <uint16\_t,SbMeasResult\_s>::iterator itMap = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}{m\_a30CqiRxed}.find ((*itA30).
      first);
2120           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}{m\_a30CqiRxed}.end (), \textcolor{stringliteral}{" Does not find CQI report
       for user "} << (*itA30).first);
2121           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" A30-CQI expired for user "} << (*itA30).first);
2122           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}{m\_a30CqiRxed}.erase (itMap);
2123           std::map <uint16\_t,uint32\_t>::iterator temp = itA30;
2124           itA30++;
2125           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a208160933cb6d934c6cfb8114734226a}{m\_a30CqiTimers}.erase (temp);
2126         \}
2127       \textcolor{keywordflow}{else}
2128         \{
2129           (*itA30).second--;
2130           itA30++;
2131         \}
2132     \}
2133 
2134   \textcolor{keywordflow}{return};
2135 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}}
\index{Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Harq\+Processes()}{RefreshHarqProcesses()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Refresh\+Harq\+Processes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ae26f1cd58ab1221afdcd0fe4a1c04a11}{}\label{classns3_1_1TdTbfqFfMacScheduler_ae26f1cd58ab1221afdcd0fe4a1c04a11}


Refresh H\+A\+RQ processes according to the timers. 


\begin{DoxyCode}
660 \{
661   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
662 
663   std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itTimers;
664   \textcolor{keywordflow}{for} (itTimers = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{m\_dlHarqProcessesTimer}.begin (); itTimers != 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{m\_dlHarqProcessesTimer}.end (); itTimers ++)
665     \{
666       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
667         \{
668           \textcolor{keywordflow}{if} ((*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \hyperlink{cqa-ff-mac-scheduler_8h_add9e0c4889dc1b5b25686480b31ad166}{HARQ\_DL\_TIMEOUT})
669             \{
670               \textcolor{comment}{// reset HARQ process}
671               
672               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Reset HARQ proc "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" for RNTI "} << (*itTimers).
      first);
673               std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.find ((*itTimers).first);
674               \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.end ())
675                 \{
676                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Status found for this RNTI "} << (*itTimers).
      first);
677                 \}
678               (*itStat).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
679               (*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
680             \}
681           \textcolor{keywordflow}{else}
682             \{
683               (*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})++;
684             \}
685         \}
686     \}
687   
688 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 31


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}}
\index{Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Harq\+Processes()}{RefreshHarqProcesses()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Refresh\+Harq\+Processes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ae26f1cd58ab1221afdcd0fe4a1c04a11}{}\label{classns3_1_1TdTbfqFfMacScheduler_ae26f1cd58ab1221afdcd0fe4a1c04a11}


Refresh H\+A\+RQ processes according to the timers. 

\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}}
\index{Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Ul\+Cqi\+Maps(void)}{RefreshUlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Refresh\+Ul\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a98ee5d1cb33162511118b7da222be604}{}\label{classns3_1_1TdTbfqFfMacScheduler_a98ee5d1cb33162511118b7da222be604}

\begin{DoxyCode}
2140 \{
2141   \textcolor{comment}{// refresh UL CQI  Map}
2142   std::map <uint16\_t,uint32\_t>::iterator itUl = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_abc6132bce28b1ee650503bf3144eb22a}{m\_ueCqiTimers}.begin ();
2143   \textcolor{keywordflow}{while} (itUl != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_abc6132bce28b1ee650503bf3144eb22a}{m\_ueCqiTimers}.end ())
2144     \{
2145       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-CQI for user "} << (*itUl).first << \textcolor{stringliteral}{" is "} << (uint32\_t)(*itUl).
      second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{m\_cqiTimersThreshold});
2146       \textcolor{keywordflow}{if} ((*itUl).second == 0)
2147         \{
2148           \textcolor{comment}{// delete correspondent entries}
2149           std::map <uint16\_t, std::vector <double> >::iterator itMap = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.find ((*itUl).first);
2150           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.end (), \textcolor{stringliteral}{" Does not find CQI report for user "}
       << (*itUl).first);
2151           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-CQI exired for user "} << (*itUl).first);
2152           (*itMap).second.clear ();
2153           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{m\_ueCqi}.erase (itMap);
2154           std::map <uint16\_t,uint32\_t>::iterator temp = itUl;
2155           itUl++;
2156           \hyperlink{classns3_1_1TdTbfqFfMacScheduler_abc6132bce28b1ee650503bf3144eb22a}{m\_ueCqiTimers}.erase (temp);
2157         \}
2158       \textcolor{keywordflow}{else}
2159         \{
2160           (*itUl).second--;
2161           itUl++;
2162         \}
2163     \}
2164 
2165   \textcolor{keywordflow}{return};
2166 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 32


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}}
\index{Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Ul\+Cqi\+Maps(void)}{RefreshUlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Refresh\+Ul\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a98ee5d1cb33162511118b7da222be604}{}\label{classns3_1_1TdTbfqFfMacScheduler_a98ee5d1cb33162511118b7da222be604}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Csched\+Sap\+User(\+Ff\+Mac\+Csched\+Sap\+User $\ast$s)}{SetFfMacCschedSapUser(FfMacCschedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Csched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ad8f44a9b2ac001c855d82e3b9ded502f}{}\label{classns3_1_1TdTbfqFfMacScheduler_ad8f44a9b2ac001c855d82e3b9ded502f}
set the user part of the Ff\+Mac\+Csched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a3984d8478223218fd4432a9f9ead328b}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Csched\+Sap\+User(\+Ff\+Mac\+Csched\+Sap\+User $\ast$s)}{SetFfMacCschedSapUser(FfMacCschedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Csched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a3bffc6c77357e4f27ae1e991e82c3d85}{}\label{classns3_1_1TdTbfqFfMacScheduler_a3bffc6c77357e4f27ae1e991e82c3d85}
set the user part of the Ff\+Mac\+Csched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a3984d8478223218fd4432a9f9ead328b}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
302 \{
303   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6e8b2fe6e59a2f53e5925eb4e07f4188}{m\_cschedSapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
304 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Sched\+Sap\+User(\+Ff\+Mac\+Sched\+Sap\+User $\ast$s)}{SetFfMacSchedSapUser(FfMacSchedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Sched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a6a8a5bb008c669fa4cdae8799344de4a}{}\label{classns3_1_1TdTbfqFfMacScheduler_a6a8a5bb008c669fa4cdae8799344de4a}
set the user part of the Ff\+Mac\+Sched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_aa45093350c367b9a33263d5b6eecee34}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Sched\+Sap\+User(\+Ff\+Mac\+Sched\+Sap\+User $\ast$s)}{SetFfMacSchedSapUser(FfMacSchedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Sched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ab65051b5985639a76336f8d872fb9e8b}{}\label{classns3_1_1TdTbfqFfMacScheduler_ab65051b5985639a76336f8d872fb9e8b}
set the user part of the Ff\+Mac\+Sched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_aa45093350c367b9a33263d5b6eecee34}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
308 \{
309   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a8f5689c5d8af1b40e97dacfce14f605a}{m\_schedSapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
310 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}}
\index{Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Lte\+Ffr\+Sap\+Provider(\+Lte\+Ffr\+Sap\+Provider $\ast$s)}{SetLteFfrSapProvider(LteFfrSapProvider *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Set\+Lte\+Ffr\+Sap\+Provider (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Ffr\+Sap\+Provider} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ace0852121c7719227fd6f6daf2a175bd}{}\label{classns3_1_1TdTbfqFfMacScheduler_ace0852121c7719227fd6f6daf2a175bd}
Set the Provider part of the Lte\+Ffr\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a2b3a1635ada88804f035984277371926}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
326 \{
327   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{m\_ffrSapProvider} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
328 \}
\end{DoxyCode}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}}
\index{Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Lte\+Ffr\+Sap\+Provider(\+Lte\+Ffr\+Sap\+Provider $\ast$s)}{SetLteFfrSapProvider(LteFfrSapProvider *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Set\+Lte\+Ffr\+Sap\+Provider (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Ffr\+Sap\+Provider} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aa04823cd675b273ac38dcc1863dd3659}{}\label{classns3_1_1TdTbfqFfMacScheduler_aa04823cd675b273ac38dcc1863dd3659}
Set the Provider part of the Lte\+Ffr\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a2b3a1635ada88804f035984277371926}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}}
\index{Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Transmission\+Mode\+Configuration\+Update(uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)}{TransmissionModeConfigurationUpdate(uint16_t rnti, uint8_t txMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Transmission\+Mode\+Configuration\+Update (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{tx\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a891b790a6d5b1c87184caa73b5060c9e}{}\label{classns3_1_1TdTbfqFfMacScheduler_a891b790a6d5b1c87184caa73b5060c9e}

\begin{DoxyCode}
2247 \{
2248   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" txMode "} << (uint16\_t)txMode);
2249   FfMacCschedSapUser::CschedUeConfigUpdateIndParameters params;
2250   params.m\_rnti = rnti;
2251   params.m\_transmissionMode = txMode;
2252   \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a6e8b2fe6e59a2f53e5925eb4e07f4188}{m\_cschedSapUser}->\hyperlink{classns3_1_1FfMacCschedSapUser_a63f3fa5bac0cc7234a17c3241bff6a04}{CschedUeConfigUpdateInd} (params);
2253 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 33


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}}
\index{Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Transmission\+Mode\+Configuration\+Update(uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)}{TransmissionModeConfigurationUpdate(uint16_t rnti, uint8_t txMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Transmission\+Mode\+Configuration\+Update (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{tx\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a891b790a6d5b1c87184caa73b5060c9e}{}\label{classns3_1_1TdTbfqFfMacScheduler_a891b790a6d5b1c87184caa73b5060c9e}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}}
\index{Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Dl\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)}{UpdateDlRlcBufferInfo(uint16_t rnti, uint8_t lcid, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Update\+Dl\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{lcid, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a268d99954f7c5e69294a43b82671dcf9}{}\label{classns3_1_1TdTbfqFfMacScheduler_a268d99954f7c5e69294a43b82671dcf9}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}}
\index{Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Dl\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)}{UpdateDlRlcBufferInfo(uint16_t rnti, uint8_t lcid, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Update\+Dl\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{lcid, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a268d99954f7c5e69294a43b82671dcf9}{}\label{classns3_1_1TdTbfqFfMacScheduler_a268d99954f7c5e69294a43b82671dcf9}

\begin{DoxyCode}
2170 \{
2171   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
2172   LteFlowId\_t flow (rnti, lcid);
2173   it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.find (flow);
2174   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{m\_rlcBufferReq}.end ())
2175     \{
2176       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE "} << rnti << \textcolor{stringliteral}{" LC "} << (uint16\_t)lcid << \textcolor{stringliteral}{" txqueue "} << (*it).
      second.m\_rlcTransmissionQueueSize << \textcolor{stringliteral}{" retxqueue "} << (*it).second.m\_rlcRetransmissionQueueSize << \textcolor{stringliteral}{" status "} 
      << (*it).second.m\_rlcStatusPduSize << \textcolor{stringliteral}{" decrease "} << size);
2177       \textcolor{comment}{// Update queues: RLC tx order Status, ReTx, Tx}
2178       \textcolor{comment}{// Update status queue}
2179       \textcolor{keywordflow}{if} (((*it).second.m\_rlcStatusPduSize > 0) && (size >= (*it).second.m\_rlcStatusPduSize))
2180         \{
2181            (*it).second.m\_rlcStatusPduSize = 0;
2182         \}
2183       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (((*it).second.m\_rlcRetransmissionQueueSize > 0) && (size >= (*it).second.
      m\_rlcRetransmissionQueueSize))
2184         \{
2185           (*it).second.m\_rlcRetransmissionQueueSize = 0;
2186         \}
2187       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((*it).second.m\_rlcTransmissionQueueSize > 0)
2188         \{
2189           uint32\_t rlcOverhead;
2190           \textcolor{keywordflow}{if} (lcid == 1)
2191             \{
2192               \textcolor{comment}{// for SRB1 (using RLC AM) it's better to}
2193               \textcolor{comment}{// overestimate RLC overhead rather than}
2194               \textcolor{comment}{// underestimate it and risk unneeded}
2195               \textcolor{comment}{// segmentation which increases delay }
2196               rlcOverhead = 4;                                  
2197             \}
2198           \textcolor{keywordflow}{else}
2199             \{
2200               \textcolor{comment}{// minimum RLC overhead due to header}
2201               rlcOverhead = 2;
2202             \}
2203           \textcolor{comment}{// update transmission queue}
2204           \textcolor{keywordflow}{if} ((*it).second.m\_rlcTransmissionQueueSize <= size - rlcOverhead)
2205             \{
2206               (*it).second.m\_rlcTransmissionQueueSize = 0;
2207             \}
2208           \textcolor{keywordflow}{else}
2209             \{                    
2210               (*it).second.m\_rlcTransmissionQueueSize -= size - rlcOverhead;
2211             \}
2212         \}
2213     \}
2214   \textcolor{keywordflow}{else}
2215     \{
2216       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Does not find DL RLC Buffer Report of UE "} << rnti);
2217     \}
2218 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 34


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}}
\index{Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Harq\+Process\+Id(uint16\+\_\+t rnti)}{UpdateHarqProcessId(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Update\+Harq\+Process\+Id (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a521baa680048ecfaba2eb55dacae5600}{}\label{classns3_1_1TdTbfqFfMacScheduler_a521baa680048ecfaba2eb55dacae5600}


Update and return a new process Id for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}

\begin{DoxyCode}
619 \{
620   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
621 
622   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}{m\_harqOn} == \textcolor{keyword}{false})
623     \{
624       \textcolor{keywordflow}{return} (0);
625     \}
626 
627 
628   std::map <uint16\_t, uint8\_t>::iterator it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad1c507f0824369e326a2f4594a19f5e9}{m\_dlHarqCurrentProcessId}.find (rnti);
629   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ad1c507f0824369e326a2f4594a19f5e9}{m\_dlHarqCurrentProcessId}.end ())
630     \{
631       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id found for this RNTI "} << rnti);
632     \}
633   std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.find (rnti);
634   \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{m\_dlHarqProcessesStatus}.end ())
635     \{
636       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Statusfound for this RNTI "} << rnti);
637     \}
638   uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second;
639   \textcolor{keywordflow}{do}
640     \{
641       i = (i + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
642     \}
643   \textcolor{keywordflow}{while} ( ((*itStat).second.at (i) != 0)&&(i != (*it).second));
644   \textcolor{keywordflow}{if} ((*itStat).second.at (i) == 0)
645     \{
646       (*it).second = \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
647       (*itStat).second.at (i) = 1;
648     \}
649   \textcolor{keywordflow}{else}
650     \{
651       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No HARQ process available for RNTI "} << rnti << \textcolor{stringliteral}{" check before update
       with HarqProcessAvailability"});
652     \}
653 
654   \textcolor{keywordflow}{return} ((*it).second);
655 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 35


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}}
\index{Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Harq\+Process\+Id(uint16\+\_\+t rnti)}{UpdateHarqProcessId(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Update\+Harq\+Process\+Id (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a521baa680048ecfaba2eb55dacae5600}{}\label{classns3_1_1TdTbfqFfMacScheduler_a521baa680048ecfaba2eb55dacae5600}


Update and return a new process Id for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}}
\index{Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Ul\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint16\+\_\+t size)}{UpdateUlRlcBufferInfo(uint16_t rnti, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Update\+Ul\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a2caa7b733fe0f6d0c4739cd7b6dba645}{}\label{classns3_1_1TdTbfqFfMacScheduler_a2caa7b733fe0f6d0c4739cd7b6dba645}

\begin{DoxyCode}
2222 \{
2223 
2224   size = size - 2; \textcolor{comment}{// remove the minimum RLC overhead}
2225   std::map <uint16\_t,uint32\_t>::iterator it = \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.find (rnti);
2226   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{m\_ceBsrRxed}.end ())
2227     \{
2228       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE "} << rnti << \textcolor{stringliteral}{" size "} << size << \textcolor{stringliteral}{" BSR "} << (*it).second);
2229       \textcolor{keywordflow}{if} ((*it).second >= size)
2230         \{
2231           (*it).second -= size;
2232         \}
2233       \textcolor{keywordflow}{else}
2234         \{
2235           (*it).second = 0;
2236         \}
2237     \}
2238   \textcolor{keywordflow}{else}
2239     \{
2240       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Does not find BSR report info of UE "} << rnti);
2241     \}
2242 
2243 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 36


\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}}
\index{Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Ul\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint16\+\_\+t size)}{UpdateUlRlcBufferInfo(uint16_t rnti, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::\+Update\+Ul\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a2caa7b733fe0f6d0c4739cd7b6dba645}{}\label{classns3_1_1TdTbfqFfMacScheduler_a2caa7b733fe0f6d0c4739cd7b6dba645}


\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Td\+Tbfq\+Scheduler\+Member\+Csched\+Sap\+Provider@{Td\+Tbfq\+Scheduler\+Member\+Csched\+Sap\+Provider}}
\index{Td\+Tbfq\+Scheduler\+Member\+Csched\+Sap\+Provider@{Td\+Tbfq\+Scheduler\+Member\+Csched\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Td\+Tbfq\+Scheduler\+Member\+Csched\+Sap\+Provider}{TdTbfqSchedulerMemberCschedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Td\+Tbfq\+Scheduler\+Member\+Csched\+Sap\+Provider}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ad2f079679137356c7b49387428bb961e}{}\label{classns3_1_1TdTbfqFfMacScheduler_ad2f079679137356c7b49387428bb961e}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!Td\+Tbfq\+Scheduler\+Member\+Sched\+Sap\+Provider@{Td\+Tbfq\+Scheduler\+Member\+Sched\+Sap\+Provider}}
\index{Td\+Tbfq\+Scheduler\+Member\+Sched\+Sap\+Provider@{Td\+Tbfq\+Scheduler\+Member\+Sched\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Td\+Tbfq\+Scheduler\+Member\+Sched\+Sap\+Provider}{TdTbfqSchedulerMemberSchedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Td\+Tbfq\+Scheduler\+Member\+Sched\+Sap\+Provider}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a68369554f57aba1ab95ff0287e757a78}{}\label{classns3_1_1TdTbfqFfMacScheduler_a68369554f57aba1ab95ff0287e757a78}


\subsection{Member Data Documentation}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!bank\+Size@{bank\+Size}}
\index{bank\+Size@{bank\+Size}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{bank\+Size}{bankSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::bank\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_af215332201b187b2699413c222d0c88d}{}\label{classns3_1_1TdTbfqFfMacScheduler_af215332201b187b2699413c222d0c88d}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+a30\+Cqi\+Rxed@{m\+\_\+a30\+Cqi\+Rxed}}
\index{m\+\_\+a30\+Cqi\+Rxed@{m\+\_\+a30\+Cqi\+Rxed}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+a30\+Cqi\+Rxed}{m_a30CqiRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Sb\+Meas\+Result\+\_\+s} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+a30\+Cqi\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}{}\label{classns3_1_1TdTbfqFfMacScheduler_a6523ed7737d8e753380a1207becdae8a}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+a30\+Cqi\+Timers@{m\+\_\+a30\+Cqi\+Timers}}
\index{m\+\_\+a30\+Cqi\+Timers@{m\+\_\+a30\+Cqi\+Timers}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+a30\+Cqi\+Timers}{m_a30CqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+a30\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a208160933cb6d934c6cfb8114734226a}{}\label{classns3_1_1TdTbfqFfMacScheduler_a208160933cb6d934c6cfb8114734226a}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+allocation\+Maps@{m\+\_\+allocation\+Maps}}
\index{m\+\_\+allocation\+Maps@{m\+\_\+allocation\+Maps}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+allocation\+Maps}{m_allocationMaps}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ uint16\+\_\+t $>$ $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+allocation\+Maps\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a0801127489d3eda5a462660c4af4c8bd}{}\label{classns3_1_1TdTbfqFfMacScheduler_a0801127489d3eda5a462660c4af4c8bd}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+amc@{m\+\_\+amc}}
\index{m\+\_\+amc@{m\+\_\+amc}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+amc}{m_amc}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Lte\+Amc} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+amc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}{}\label{classns3_1_1TdTbfqFfMacScheduler_a42e469f5ce9e3e079123f5c9a60fe7c4}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+ce\+Bsr\+Rxed@{m\+\_\+ce\+Bsr\+Rxed}}
\index{m\+\_\+ce\+Bsr\+Rxed@{m\+\_\+ce\+Bsr\+Rxed}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ce\+Bsr\+Rxed}{m_ceBsrRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+ce\+Bsr\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}{}\label{classns3_1_1TdTbfqFfMacScheduler_ab399ba0c15f9cd1688fb044cf915deb7}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+cqi\+Timers\+Threshold@{m\+\_\+cqi\+Timers\+Threshold}}
\index{m\+\_\+cqi\+Timers\+Threshold@{m\+\_\+cqi\+Timers\+Threshold}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+cqi\+Timers\+Threshold}{m_cqiTimersThreshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+cqi\+Timers\+Threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}{}\label{classns3_1_1TdTbfqFfMacScheduler_a4a154b47a91bb301ab183ce57e44c431}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+creditable\+Threshold@{m\+\_\+creditable\+Threshold}}
\index{m\+\_\+creditable\+Threshold@{m\+\_\+creditable\+Threshold}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+creditable\+Threshold}{m_creditableThreshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+creditable\+Threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a776a405971c9f74b3ad96379a9aa7abe}{}\label{classns3_1_1TdTbfqFfMacScheduler_a776a405971c9f74b3ad96379a9aa7abe}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+credit\+Limit@{m\+\_\+credit\+Limit}}
\index{m\+\_\+credit\+Limit@{m\+\_\+credit\+Limit}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+credit\+Limit}{m_creditLimit}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+credit\+Limit\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a4fcf66ab5e783305bad38c4667f2cfd0}{}\label{classns3_1_1TdTbfqFfMacScheduler_a4fcf66ab5e783305bad38c4667f2cfd0}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Cell\+Config@{m\+\_\+csched\+Cell\+Config}}
\index{m\+\_\+csched\+Cell\+Config@{m\+\_\+csched\+Cell\+Config}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Cell\+Config}{m_cschedCellConfig}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Cell\+Config\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}{}\label{classns3_1_1TdTbfqFfMacScheduler_a3ac3e4b1b3818ff204d6ff6c89c19f4d}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Sap\+Provider@{m\+\_\+csched\+Sap\+Provider}}
\index{m\+\_\+csched\+Sap\+Provider@{m\+\_\+csched\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Sap\+Provider}{m_cschedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a22a19059921cf652fbce916ceca70972}{}\label{classns3_1_1TdTbfqFfMacScheduler_a22a19059921cf652fbce916ceca70972}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Sap\+User@{m\+\_\+csched\+Sap\+User}}
\index{m\+\_\+csched\+Sap\+User@{m\+\_\+csched\+Sap\+User}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Sap\+User}{m_cschedSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a6e8b2fe6e59a2f53e5925eb4e07f4188}{}\label{classns3_1_1TdTbfqFfMacScheduler_a6e8b2fe6e59a2f53e5925eb4e07f4188}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+debt\+Limit@{m\+\_\+debt\+Limit}}
\index{m\+\_\+debt\+Limit@{m\+\_\+debt\+Limit}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+debt\+Limit}{m_debtLimit}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+debt\+Limit\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a9c3d40d1117e3afd1dbb4747008d256e}{}\label{classns3_1_1TdTbfqFfMacScheduler_a9c3d40d1117e3afd1dbb4747008d256e}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Current\+Process\+Id@{m\+\_\+dl\+Harq\+Current\+Process\+Id}}
\index{m\+\_\+dl\+Harq\+Current\+Process\+Id@{m\+\_\+dl\+Harq\+Current\+Process\+Id}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Current\+Process\+Id}{m_dlHarqCurrentProcessId}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Current\+Process\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ad1c507f0824369e326a2f4594a19f5e9}{}\label{classns3_1_1TdTbfqFfMacScheduler_ad1c507f0824369e326a2f4594a19f5e9}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}}
\index{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}{m_dlHarqProcessesDciBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a50d8986111a3dc24130127d3ea391d7e}{}\label{classns3_1_1TdTbfqFfMacScheduler_a50d8986111a3dc24130127d3ea391d7e}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}}
\index{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}{m_dlHarqProcessesRlcPduListBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Rlc\+Pdu\+List\+Buffer\+\_\+t} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}{}\label{classns3_1_1TdTbfqFfMacScheduler_a997b6649f2a69dd389d9a4381707b755}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Status@{m\+\_\+dl\+Harq\+Processes\+Status}}
\index{m\+\_\+dl\+Harq\+Processes\+Status@{m\+\_\+dl\+Harq\+Processes\+Status}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Status}{m_dlHarqProcessesStatus}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Status\+\_\+t} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Status\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}{}\label{classns3_1_1TdTbfqFfMacScheduler_a3d25806fc0b4360d668951f3a6b96b8d}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Timer@{m\+\_\+dl\+Harq\+Processes\+Timer}}
\index{m\+\_\+dl\+Harq\+Processes\+Timer@{m\+\_\+dl\+Harq\+Processes\+Timer}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Timer}{m_dlHarqProcessesTimer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Timer\+\_\+t} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Timer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}{}\label{classns3_1_1TdTbfqFfMacScheduler_a772806188cbe19e816a9eab534733ee1}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Info\+List\+Buffered@{m\+\_\+dl\+Info\+List\+Buffered}}
\index{m\+\_\+dl\+Info\+List\+Buffered@{m\+\_\+dl\+Info\+List\+Buffered}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Info\+List\+Buffered}{m_dlInfoListBuffered}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Dl\+Info\+List\+Element\+\_\+s} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Info\+List\+Buffered\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}{}\label{classns3_1_1TdTbfqFfMacScheduler_aabf2460c78d16c5202cdcda020ba06dd}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+ffr\+Sap\+Provider@{m\+\_\+ffr\+Sap\+Provider}}
\index{m\+\_\+ffr\+Sap\+Provider@{m\+\_\+ffr\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ffr\+Sap\+Provider}{m_ffrSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+Provider} $\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+ffr\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}{}\label{classns3_1_1TdTbfqFfMacScheduler_a9db8ce15b6803fe859e5c2908cd00e14}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+ffr\+Sap\+User@{m\+\_\+ffr\+Sap\+User}}
\index{m\+\_\+ffr\+Sap\+User@{m\+\_\+ffr\+Sap\+User}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ffr\+Sap\+User}{m_ffrSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+User} $\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+ffr\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aa78fad6d52a8781e7ed2a51a75ae61b9}{}\label{classns3_1_1TdTbfqFfMacScheduler_aa78fad6d52a8781e7ed2a51a75ae61b9}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+flow\+Stats\+Dl@{m\+\_\+flow\+Stats\+Dl}}
\index{m\+\_\+flow\+Stats\+Dl@{m\+\_\+flow\+Stats\+Dl}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+flow\+Stats\+Dl}{m_flowStatsDl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf tdtbfqs\+Flow\+Perf\+\_\+t} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+flow\+Stats\+Dl\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}{}\label{classns3_1_1TdTbfqFfMacScheduler_a077474dfdd0b794b6e274954e049e0c4}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+flow\+Stats\+Ul@{m\+\_\+flow\+Stats\+Ul}}
\index{m\+\_\+flow\+Stats\+Ul@{m\+\_\+flow\+Stats\+Ul}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+flow\+Stats\+Ul}{m_flowStatsUl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf tdtbfqs\+Flow\+Perf\+\_\+t} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+flow\+Stats\+Ul\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ad4ebe2d2a182a088507ade045b583903}{}\label{classns3_1_1TdTbfqFfMacScheduler_ad4ebe2d2a182a088507ade045b583903}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+harq\+On@{m\+\_\+harq\+On}}
\index{m\+\_\+harq\+On@{m\+\_\+harq\+On}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+harq\+On}{m_harqOn}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+harq\+On\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}{}\label{classns3_1_1TdTbfqFfMacScheduler_afbd88f1e039b365dcdbb076e99ce5506}
m\+\_\+harq\+On when false inhibit te H\+A\+RQ mechanisms (by default active) \index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+next\+Rnti\+Ul@{m\+\_\+next\+Rnti\+Ul}}
\index{m\+\_\+next\+Rnti\+Ul@{m\+\_\+next\+Rnti\+Ul}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+next\+Rnti\+Ul}{m_nextRntiUl}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+next\+Rnti\+Ul\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}{}\label{classns3_1_1TdTbfqFfMacScheduler_a01649b4140890dd7adb19d752be0a6ff}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+p10\+Cqi\+Rxed@{m\+\_\+p10\+Cqi\+Rxed}}
\index{m\+\_\+p10\+Cqi\+Rxed@{m\+\_\+p10\+Cqi\+Rxed}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+p10\+Cqi\+Rxed}{m_p10CqiRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+p10\+Cqi\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_afadf1919ebd3f749f973a94088ff74dc}{}\label{classns3_1_1TdTbfqFfMacScheduler_afadf1919ebd3f749f973a94088ff74dc}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+p10\+Cqi\+Timers@{m\+\_\+p10\+Cqi\+Timers}}
\index{m\+\_\+p10\+Cqi\+Timers@{m\+\_\+p10\+Cqi\+Timers}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+p10\+Cqi\+Timers}{m_p10CqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+p10\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aaf5d854702133742423180538d27f6f1}{}\label{classns3_1_1TdTbfqFfMacScheduler_aaf5d854702133742423180538d27f6f1}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+rach\+Allocation\+Map@{m\+\_\+rach\+Allocation\+Map}}
\index{m\+\_\+rach\+Allocation\+Map@{m\+\_\+rach\+Allocation\+Map}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rach\+Allocation\+Map}{m_rachAllocationMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ uint16\+\_\+t $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+rach\+Allocation\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a09760afce6c2b248fbc5cbcffb9dede5}{}\label{classns3_1_1TdTbfqFfMacScheduler_a09760afce6c2b248fbc5cbcffb9dede5}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+rach\+List@{m\+\_\+rach\+List}}
\index{m\+\_\+rach\+List@{m\+\_\+rach\+List}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rach\+List}{m_rachList}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ struct {\bf Rach\+List\+Element\+\_\+s} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+rach\+List\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a103dfe516b13e9ca8e0d1247c11b3679}{}\label{classns3_1_1TdTbfqFfMacScheduler_a103dfe516b13e9ca8e0d1247c11b3679}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+rlc\+Buffer\+Req@{m\+\_\+rlc\+Buffer\+Req}}
\index{m\+\_\+rlc\+Buffer\+Req@{m\+\_\+rlc\+Buffer\+Req}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rlc\+Buffer\+Req}{m_rlcBufferReq}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ {\bf Lte\+Flow\+Id\+\_\+t}, {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+rlc\+Buffer\+Req\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}{}\label{classns3_1_1TdTbfqFfMacScheduler_af1c1db8b8201f905faf17ce03f0369db}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+sched\+Sap\+Provider@{m\+\_\+sched\+Sap\+Provider}}
\index{m\+\_\+sched\+Sap\+Provider@{m\+\_\+sched\+Sap\+Provider}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+sched\+Sap\+Provider}{m_schedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+sched\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_afeed1dc1600c32b8ecc7c1b4f805ca12}{}\label{classns3_1_1TdTbfqFfMacScheduler_afeed1dc1600c32b8ecc7c1b4f805ca12}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+sched\+Sap\+User@{m\+\_\+sched\+Sap\+User}}
\index{m\+\_\+sched\+Sap\+User@{m\+\_\+sched\+Sap\+User}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+sched\+Sap\+User}{m_schedSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+sched\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a8f5689c5d8af1b40e97dacfce14f605a}{}\label{classns3_1_1TdTbfqFfMacScheduler_a8f5689c5d8af1b40e97dacfce14f605a}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+token\+Pool\+Size@{m\+\_\+token\+Pool\+Size}}
\index{m\+\_\+token\+Pool\+Size@{m\+\_\+token\+Pool\+Size}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+token\+Pool\+Size}{m_tokenPoolSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+token\+Pool\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_ac14d4dbc811afa558ad1b7fc125b188b}{}\label{classns3_1_1TdTbfqFfMacScheduler_ac14d4dbc811afa558ad1b7fc125b188b}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+ue\+Cqi@{m\+\_\+ue\+Cqi}}
\index{m\+\_\+ue\+Cqi@{m\+\_\+ue\+Cqi}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Cqi}{m_ueCqi}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ double $>$ $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+ue\+Cqi\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}{}\label{classns3_1_1TdTbfqFfMacScheduler_a5cf85878fa75fd31bdc63527492e9270}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+ue\+Cqi\+Timers@{m\+\_\+ue\+Cqi\+Timers}}
\index{m\+\_\+ue\+Cqi\+Timers@{m\+\_\+ue\+Cqi\+Timers}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Cqi\+Timers}{m_ueCqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+ue\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_abc6132bce28b1ee650503bf3144eb22a}{}\label{classns3_1_1TdTbfqFfMacScheduler_abc6132bce28b1ee650503bf3144eb22a}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+ues\+Tx\+Mode@{m\+\_\+ues\+Tx\+Mode}}
\index{m\+\_\+ues\+Tx\+Mode@{m\+\_\+ues\+Tx\+Mode}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ues\+Tx\+Mode}{m_uesTxMode}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+ues\+Tx\+Mode\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a81895414769458c1204040d901d7bba7}{}\label{classns3_1_1TdTbfqFfMacScheduler_a81895414769458c1204040d901d7bba7}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Grant\+Mcs@{m\+\_\+ul\+Grant\+Mcs}}
\index{m\+\_\+ul\+Grant\+Mcs@{m\+\_\+ul\+Grant\+Mcs}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Grant\+Mcs}{m_ulGrantMcs}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Grant\+Mcs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a7382f05e10e61de33d6559202a1252bd}{}\label{classns3_1_1TdTbfqFfMacScheduler_a7382f05e10e61de33d6559202a1252bd}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Current\+Process\+Id@{m\+\_\+ul\+Harq\+Current\+Process\+Id}}
\index{m\+\_\+ul\+Harq\+Current\+Process\+Id@{m\+\_\+ul\+Harq\+Current\+Process\+Id}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Current\+Process\+Id}{m_ulHarqCurrentProcessId}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Current\+Process\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}{}\label{classns3_1_1TdTbfqFfMacScheduler_a418d37c6f77b19886fe25e71c103e8b1}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}}
\index{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}{m_ulHarqProcessesDciBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Ul\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}{}\label{classns3_1_1TdTbfqFfMacScheduler_aa7b74d7f5898ae380db92cdd1205efae}
\index{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Processes\+Status@{m\+\_\+ul\+Harq\+Processes\+Status}}
\index{m\+\_\+ul\+Harq\+Processes\+Status@{m\+\_\+ul\+Harq\+Processes\+Status}!ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler@{ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Processes\+Status}{m_ulHarqProcessesStatus}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Ul\+Harq\+Processes\+Status\+\_\+t} $>$ ns3\+::\+Td\+Tbfq\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Processes\+Status\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TdTbfqFfMacScheduler_a845d3e79ce5c38b47c8ac8a7e4cc5b37}{}\label{classns3_1_1TdTbfqFfMacScheduler_a845d3e79ce5c38b47c8ac8a7e4cc5b37}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{lte_2model_2tdtbfq-ff-mac-scheduler_8h}{tdtbfq-\/ff-\/mac-\/scheduler.\+h}\item 
lte/model/\hyperlink{lte_2model_2tdtbfq-ff-mac-scheduler_8cc}{tdtbfq-\/ff-\/mac-\/scheduler.\+cc}\end{DoxyCompactItemize}
