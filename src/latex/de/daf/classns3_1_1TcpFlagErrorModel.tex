\hypertarget{classns3_1_1TcpFlagErrorModel}{}\section{ns3\+:\+:Tcp\+Flag\+Error\+Model Class Reference}
\label{classns3_1_1TcpFlagErrorModel}\index{ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}}


Error model which drop packets with specified T\+CP flags.  




{\ttfamily \#include $<$tcp-\/error-\/model.\+h$>$}



Inheritance diagram for ns3\+:\+:Tcp\+Flag\+Error\+Model\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Tcp\+Flag\+Error\+Model\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1TcpFlagErrorModel_ac6094d1d0a91dbc3ebf326ff7b177a70}{Tcp\+Flag\+Error\+Model} ()
\item 
void \hyperlink{classns3_1_1TcpFlagErrorModel_a18a0b76ecf145bd3d28df7239207bd8c}{Set\+Flag\+To\+Kill} (\hyperlink{classns3_1_1TcpHeader_a5f3d432941327854b5ad621e467479c6}{Tcp\+Header\+::\+Flags\+\_\+t} flags)
\begin{DoxyCompactList}\small\item\em Set the flags of the segment that should be killed. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TcpFlagErrorModel_a97071fba6dfb851b41af2f6d42d01f54}{Set\+Kill\+Repeat} (int16\+\_\+t kill\+Number)
\begin{DoxyCompactList}\small\item\em Set how many packets should be killed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1TcpFlagErrorModel_a739cc26d2f95ce18d88f0bae9efe2cd7}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \hyperlink{classns3_1_1TcpFlagErrorModel_a078b078644aa6ea2527956fb99a84916}{Should\+Drop} (const \hyperlink{classns3_1_1Ipv4Header}{Ipv4\+Header} \&ip\+Header, const \hyperlink{classns3_1_1TcpHeader}{Tcp\+Header} \&tcp\+Header, uint32\+\_\+t packet\+Size)
\begin{DoxyCompactList}\small\item\em Check if the packet should be dropped. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1TcpHeader_a5f3d432941327854b5ad621e467479c6}{Tcp\+Header\+::\+Flags\+\_\+t} \hyperlink{classns3_1_1TcpFlagErrorModel_a153c832e564ee9d42c2a4f8adbdac406}{m\+\_\+flags\+To\+Kill}
\begin{DoxyCompactList}\small\item\em Flags a packet should have to be dropped. \end{DoxyCompactList}\item 
int16\+\_\+t \hyperlink{classns3_1_1TcpFlagErrorModel_adc3115afebce5f5e0027b5dbb22b9a6b}{m\+\_\+kill\+Number}
\begin{DoxyCompactList}\small\item\em The number of times the packet should be killed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1TcpFlagErrorModel_a1764dc165b83554424f1d5e5ddfa1bb2}{Do\+Reset} (void)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Error model which drop packets with specified T\+CP flags. 

Set the flags with Set\+Flag\+To\+Kill and the number of the packets with such flags which should be killed.

\begin{DoxySeeAlso}{See also}
\hyperlink{classns3_1_1TcpFlagErrorModel_a18a0b76ecf145bd3d28df7239207bd8c}{Set\+Flag\+To\+Kill} 

\hyperlink{classns3_1_1TcpFlagErrorModel_a97071fba6dfb851b41af2f6d42d01f54}{Set\+Kill\+Repeat} 
\end{DoxySeeAlso}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}!Tcp\+Flag\+Error\+Model@{Tcp\+Flag\+Error\+Model}}
\index{Tcp\+Flag\+Error\+Model@{Tcp\+Flag\+Error\+Model}!ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}}
\subsubsection[{\texorpdfstring{Tcp\+Flag\+Error\+Model()}{TcpFlagErrorModel()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Tcp\+Flag\+Error\+Model\+::\+Tcp\+Flag\+Error\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TcpFlagErrorModel_ac6094d1d0a91dbc3ebf326ff7b177a70}{}\label{classns3_1_1TcpFlagErrorModel_ac6094d1d0a91dbc3ebf326ff7b177a70}

\begin{DoxyCode}
127   : \hyperlink{classns3_1_1TcpGeneralErrorModel_abd916457dd21c03bc4154a4782bea17d}{TcpGeneralErrorModel} (),
128   \hyperlink{classns3_1_1TcpFlagErrorModel_a153c832e564ee9d42c2a4f8adbdac406}{m\_flagsToKill} (\hyperlink{classns3_1_1TcpHeader_a5f3d432941327854b5ad621e467479c6ad218656298d45743cc46f0ae23a4a876}{TcpHeader::NONE}),
129   \hyperlink{classns3_1_1TcpFlagErrorModel_adc3115afebce5f5e0027b5dbb22b9a6b}{m\_killNumber} (0)
130 \{
131 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}!Do\+Reset@{Do\+Reset}}
\index{Do\+Reset@{Do\+Reset}!ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}}
\subsubsection[{\texorpdfstring{Do\+Reset(void)}{DoReset(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tcp\+Flag\+Error\+Model\+::\+Do\+Reset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1TcpFlagErrorModel_a1764dc165b83554424f1d5e5ddfa1bb2}{}\label{classns3_1_1TcpFlagErrorModel_a1764dc165b83554424f1d5e5ddfa1bb2}
Re-\/initialize any state 

Implements \hyperlink{classns3_1_1ErrorModel_ad7974020410bb8072c5b7e2a390e3030}{ns3\+::\+Error\+Model}.


\begin{DoxyCode}
164 \{
165   \hyperlink{classns3_1_1TcpFlagErrorModel_a153c832e564ee9d42c2a4f8adbdac406}{m\_flagsToKill} = \hyperlink{classns3_1_1TcpHeader_a5f3d432941327854b5ad621e467479c6ad218656298d45743cc46f0ae23a4a876}{TcpHeader::NONE};
166   \hyperlink{classns3_1_1TcpFlagErrorModel_adc3115afebce5f5e0027b5dbb22b9a6b}{m\_killNumber} = 0;
167 \}
\end{DoxyCode}
\index{ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Tcp\+Flag\+Error\+Model\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TcpFlagErrorModel_a739cc26d2f95ce18d88f0bae9efe2cd7}{}\label{classns3_1_1TcpFlagErrorModel_a739cc26d2f95ce18d88f0bae9efe2cd7}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
118 \{
119   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::TcpFlagErrorModel"})
120     .SetParent<\hyperlink{classns3_1_1TcpGeneralErrorModel_abd916457dd21c03bc4154a4782bea17d}{TcpGeneralErrorModel}> ()
121     .AddConstructor<TcpFlagErrorModel> ()
122   ;
123   \textcolor{keywordflow}{return} tid;
124 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}!Set\+Flag\+To\+Kill@{Set\+Flag\+To\+Kill}}
\index{Set\+Flag\+To\+Kill@{Set\+Flag\+To\+Kill}!ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}}
\subsubsection[{\texorpdfstring{Set\+Flag\+To\+Kill(\+Tcp\+Header\+::\+Flags\+\_\+t flags)}{SetFlagToKill(TcpHeader::Flags_t flags)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tcp\+Flag\+Error\+Model\+::\+Set\+Flag\+To\+Kill (
\begin{DoxyParamCaption}
\item[{{\bf Tcp\+Header\+::\+Flags\+\_\+t}}]{flags}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1TcpFlagErrorModel_a18a0b76ecf145bd3d28df7239207bd8c}{}\label{classns3_1_1TcpFlagErrorModel_a18a0b76ecf145bd3d28df7239207bd8c}


Set the flags of the segment that should be killed. 


\begin{DoxyParams}{Parameters}
{\em flags} & Flags \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
145   \{
146     \hyperlink{classns3_1_1TcpFlagErrorModel_a153c832e564ee9d42c2a4f8adbdac406}{m\_flagsToKill} = flags;
147   \}
\end{DoxyCode}
\index{ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}!Set\+Kill\+Repeat@{Set\+Kill\+Repeat}}
\index{Set\+Kill\+Repeat@{Set\+Kill\+Repeat}!ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}}
\subsubsection[{\texorpdfstring{Set\+Kill\+Repeat(int16\+\_\+t kill\+Number)}{SetKillRepeat(int16_t killNumber)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tcp\+Flag\+Error\+Model\+::\+Set\+Kill\+Repeat (
\begin{DoxyParamCaption}
\item[{int16\+\_\+t}]{kill\+Number}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1TcpFlagErrorModel_a97071fba6dfb851b41af2f6d42d01f54}{}\label{classns3_1_1TcpFlagErrorModel_a97071fba6dfb851b41af2f6d42d01f54}


Set how many packets should be killed. 

If the flags are the same, this specified the numbers of drops\+:

\subsection*{-\/1 for infinite drops}

\subsection*{0 for no drops}

\subsection*{$>$1 the number of drops}


\begin{DoxyParams}{Parameters}
{\em kill\+Number} & Specifies the number of times the packet should be killed \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
161   \{
162     \hyperlink{classns3_1_1TcpFlagErrorModel_adc3115afebce5f5e0027b5dbb22b9a6b}{m\_killNumber} = killNumber;
163   \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}!Should\+Drop@{Should\+Drop}}
\index{Should\+Drop@{Should\+Drop}!ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}}
\subsubsection[{\texorpdfstring{Should\+Drop(const Ipv4\+Header \&ip\+Header, const Tcp\+Header \&tcp\+Header, uint32\+\_\+t packet\+Size)}{ShouldDrop(const Ipv4Header &ipHeader, const TcpHeader &tcpHeader, uint32_t packetSize)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Tcp\+Flag\+Error\+Model\+::\+Should\+Drop (
\begin{DoxyParamCaption}
\item[{const {\bf Ipv4\+Header} \&}]{ip\+Header, }
\item[{const {\bf Tcp\+Header} \&}]{tcp\+Header, }
\item[{uint32\+\_\+t}]{packet\+Size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1TcpFlagErrorModel_a078b078644aa6ea2527956fb99a84916}{}\label{classns3_1_1TcpFlagErrorModel_a078b078644aa6ea2527956fb99a84916}


Check if the packet should be dropped. 


\begin{DoxyParams}{Parameters}
{\em ip\+Header} & The packet I\+Pv4 header. \\
\hline
{\em tcp\+Header} & The packet T\+CP header. \\
\hline
{\em packet\+Size} & The packet size. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the packet should be dropped. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1TcpGeneralErrorModel_aba3c6551e43eabb1ac165b2dc7d491c9}{ns3\+::\+Tcp\+General\+Error\+Model}.


\begin{DoxyCode}
136 \{
137   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << ipHeader << tcpHeader);
138 
139   (void) packetSize;
140 
141   \textcolor{keywordtype}{bool} toDrop = \textcolor{keyword}{false};
142 
143   \textcolor{keywordflow}{if} ((tcpHeader.GetFlags () & \hyperlink{classns3_1_1TcpFlagErrorModel_a153c832e564ee9d42c2a4f8adbdac406}{m\_flagsToKill}) == \hyperlink{classns3_1_1TcpFlagErrorModel_a153c832e564ee9d42c2a4f8adbdac406}{m\_flagsToKill})
144     \{
145       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TcpFlagErrorModel_adc3115afebce5f5e0027b5dbb22b9a6b}{m\_killNumber} > 0)
146         \{
147           \hyperlink{classns3_1_1TcpFlagErrorModel_adc3115afebce5f5e0027b5dbb22b9a6b}{m\_killNumber}--;
148           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TcpFlagErrorModel_adc3115afebce5f5e0027b5dbb22b9a6b}{m\_killNumber} > 0)
149             \{
150               toDrop = \textcolor{keyword}{true};
151             \}
152         \}
153       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TcpFlagErrorModel_adc3115afebce5f5e0027b5dbb22b9a6b}{m\_killNumber} < 0)
154         \{
155           toDrop = \textcolor{keyword}{true};
156         \}
157     \}
158 
159   \textcolor{keywordflow}{return} toDrop;
160 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




\subsection{Member Data Documentation}
\index{ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}!m\+\_\+flags\+To\+Kill@{m\+\_\+flags\+To\+Kill}}
\index{m\+\_\+flags\+To\+Kill@{m\+\_\+flags\+To\+Kill}!ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+flags\+To\+Kill}{m_flagsToKill}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tcp\+Header\+::\+Flags\+\_\+t} ns3\+::\+Tcp\+Flag\+Error\+Model\+::m\+\_\+flags\+To\+Kill\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1TcpFlagErrorModel_a153c832e564ee9d42c2a4f8adbdac406}{}\label{classns3_1_1TcpFlagErrorModel_a153c832e564ee9d42c2a4f8adbdac406}


Flags a packet should have to be dropped. 

\index{ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}!m\+\_\+kill\+Number@{m\+\_\+kill\+Number}}
\index{m\+\_\+kill\+Number@{m\+\_\+kill\+Number}!ns3\+::\+Tcp\+Flag\+Error\+Model@{ns3\+::\+Tcp\+Flag\+Error\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+kill\+Number}{m_killNumber}}]{\setlength{\rightskip}{0pt plus 5cm}int16\+\_\+t ns3\+::\+Tcp\+Flag\+Error\+Model\+::m\+\_\+kill\+Number\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1TcpFlagErrorModel_adc3115afebce5f5e0027b5dbb22b9a6b}{}\label{classns3_1_1TcpFlagErrorModel_adc3115afebce5f5e0027b5dbb22b9a6b}


The number of times the packet should be killed. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{tcp-error-model_8h}{tcp-\/error-\/model.\+h}\item 
internet/test/\hyperlink{tcp-error-model_8cc}{tcp-\/error-\/model.\+cc}\end{DoxyCompactItemize}
