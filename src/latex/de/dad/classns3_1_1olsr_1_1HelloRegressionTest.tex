\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest}{}\section{ns3\+:\+:olsr\+:\+:Hello\+Regression\+Test Class Reference}
\label{classns3_1_1olsr_1_1HelloRegressionTest}\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}


Trivial (still useful) test of O\+L\+SR operation.  




{\ttfamily \#include $<$hello-\/regression-\/test.\+h$>$}



Inheritance diagram for ns3\+:\+:olsr\+:\+:Hello\+Regression\+Test\+:
% FIG 0


Collaboration diagram for ns3\+:\+:olsr\+:\+:Hello\+Regression\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a4fecb7d5be2443d0345390f4fefd8761}{Hello\+Regression\+Test} ()
\item 
\hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a9d399221c3fc5f61803d0e65a066264d}{$\sim$\+Hello\+Regression\+Test} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_ab101b71625b566733aeee0f7cd82e9f1}{Create\+Nodes} ()
\begin{DoxyCompactList}\small\item\em Create \& configure test network. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a469da2871e46fb6d56da5820f5aa1982}{Do\+Run} ()
\begin{DoxyCompactList}\small\item\em Go. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a054ed2a66a9d8a840b9e0950808035d5}{Receive\+Pkt\+ProbeA} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Receive raw data on node A. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_accc7c74bb7e64c7f15788aa23ba6e52a}{Receive\+Pkt\+ProbeB} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Receive raw data on node B. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a3f8d630c066f0cb7fc33cd7174d05594}{m\+\_\+time}
\begin{DoxyCompactList}\small\item\em Total simulation time. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a89b07fe86d41662bf3ef877f244d333c}{m\+\_\+countA}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Packet}{Packet} counter on node A. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Ipv4RawSocketImpl}{Ipv4\+Raw\+Socket\+Impl} $>$ \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a09824a508053ac7482c72babc4976558}{m\+\_\+rx\+SocketA}
\begin{DoxyCompactList}\small\item\em Receiving socket on node A. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_aa3b0da1aed971f58de9e95663bd0b8e0}{m\+\_\+countB}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Packet}{Packet} counter on node B. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Ipv4RawSocketImpl}{Ipv4\+Raw\+Socket\+Impl} $>$ \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a36afc1d537401f41ec4a5d899584cdcb}{m\+\_\+rx\+SocketB}
\begin{DoxyCompactList}\small\item\em Receiving socket on node B. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Trivial (still useful) test of O\+L\+SR operation. 

This test creates 2 stations with point-\/to-\/point link and runs O\+L\+SR without any extra traffic. It is expected that only H\+E\+L\+LO messages will be sent.

Expected trace (5 seconds)\+: \begin{DoxyVerb} 1       2
 |------>|   HELLO (empty) src = 10.1.1.1
 |<------|   HELLO (empty) src = 10.1.1.2
 |------>|   HELLO (Link type: Asymmetric link, Neighbor address: 10.1.1.2) src = 10.1.1.1
 |<------|   HELLO (Link type: Asymmetric link, Neighbor address: 10.1.1.1) src = 10.1.1.2
 |------>|   HELLO (Link type: Symmetric link, Neighbor address: 10.1.1.2) src = 10.1.1.1
 |<------|   HELLO (Link type: Symmetric link, Neighbor address: 10.1.1.1) src = 10.1.1.2
\end{DoxyVerb}
 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!Hello\+Regression\+Test@{Hello\+Regression\+Test}}
\index{Hello\+Regression\+Test@{Hello\+Regression\+Test}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Hello\+Regression\+Test()}{HelloRegressionTest()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::olsr\+::\+Hello\+Regression\+Test\+::\+Hello\+Regression\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_a4fecb7d5be2443d0345390f4fefd8761}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_a4fecb7d5be2443d0345390f4fefd8761}

\begin{DoxyCode}
43                                           :
44   \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Test OLSR Hello messages generation"}),
45   \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a3f8d630c066f0cb7fc33cd7174d05594}{m\_time} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (5)), \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a89b07fe86d41662bf3ef877f244d333c}{m\_countA} (0), \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_aa3b0da1aed971f58de9e95663bd0b8e0}{m\_countB} (0)
46 \{
47 \}
\end{DoxyCode}
\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!````~Hello\+Regression\+Test@{$\sim$\+Hello\+Regression\+Test}}
\index{````~Hello\+Regression\+Test@{$\sim$\+Hello\+Regression\+Test}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{$\sim$\+Hello\+Regression\+Test()}{~HelloRegressionTest()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::olsr\+::\+Hello\+Regression\+Test\+::$\sim$\+Hello\+Regression\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_a9d399221c3fc5f61803d0e65a066264d}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_a9d399221c3fc5f61803d0e65a066264d}

\begin{DoxyCode}
50 \{
51 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!Create\+Nodes@{Create\+Nodes}}
\index{Create\+Nodes@{Create\+Nodes}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Create\+Nodes()}{CreateNodes()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::olsr\+::\+Hello\+Regression\+Test\+::\+Create\+Nodes (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_ab101b71625b566733aeee0f7cd82e9f1}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_ab101b71625b566733aeee0f7cd82e9f1}


Create \& configure test network. 


\begin{DoxyCode}
70 \{
71   \textcolor{comment}{// create 2 nodes}
72   NodeContainer \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
73   c.Create (2);
74   \textcolor{comment}{// install TCP/IP & OLSR}
75   OlsrHelper \hyperlink{namespaceolsr}{olsr};
76   InternetStackHelper internet;
77   internet.SetRoutingHelper (olsr);
78   internet.Install (c);
79   \textcolor{comment}{// Assign OLSR RVs to specific streams}
80   int64\_t streamsUsed = olsr.AssignStreams (c, 0);
81   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (streamsUsed, 2, \textcolor{stringliteral}{"Should have assigned 2 streams"});
82   \textcolor{comment}{// create channel & devices}
83   SimpleNetDeviceHelper simpleNetHelper;
84   simpleNetHelper.SetDeviceAttribute (\textcolor{stringliteral}{"DataRate"}, StringValue (\textcolor{stringliteral}{"5Mbps"}));
85   simpleNetHelper.SetChannelAttribute (\textcolor{stringliteral}{"Delay"}, StringValue (\textcolor{stringliteral}{"2ms"}));
86   NetDeviceContainer nd = simpleNetHelper.Install (c);
87   \textcolor{comment}{// setup IP addresses}
88   Ipv4AddressHelper ipv4;
89   ipv4.SetBase (\textcolor{stringliteral}{"10.1.1.0"}, \textcolor{stringliteral}{"255.255.255.0"});
90   ipv4.Assign (nd);
91 
92   \textcolor{comment}{// Create the sockets}
93   Ptr<SocketFactory> rxSocketFactoryA = c.Get (0)->GetObject<Ipv4RawSocketFactory> ();
94   \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a09824a508053ac7482c72babc4976558}{m\_rxSocketA} = DynamicCast<Ipv4RawSocketImpl> (rxSocketFactoryA->CreateSocket ());
95   m\_rxSocketA->SetProtocol (\hyperlink{classns3_1_1UdpL4Protocol_ad370801b3d1a166e831020a777c41047}{UdpL4Protocol::PROT\_NUMBER});
96   m\_rxSocketA->SetRecvCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a054ed2a66a9d8a840b9e0950808035d5}{HelloRegressionTest::ReceivePktProbeA}, \textcolor{keyword}{this}));
97 
98   Ptr<SocketFactory> rxSocketFactoryB = c.Get (1)->GetObject<Ipv4RawSocketFactory> ();
99   \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a36afc1d537401f41ec4a5d899584cdcb}{m\_rxSocketB} = DynamicCast<Ipv4RawSocketImpl> (rxSocketFactoryB->CreateSocket ());
100   m\_rxSocketB->SetProtocol (\hyperlink{classns3_1_1UdpL4Protocol_ad370801b3d1a166e831020a777c41047}{UdpL4Protocol::PROT\_NUMBER});
101   m\_rxSocketB->SetRecvCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_accc7c74bb7e64c7f15788aa23ba6e52a}{HelloRegressionTest::ReceivePktProbeB}, \textcolor{keyword}{this}));
102 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run()}{DoRun()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::olsr\+::\+Hello\+Regression\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_a469da2871e46fb6d56da5820f5aa1982}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_a469da2871e46fb6d56da5820f5aa1982}


Go. 



Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
55 \{
56   \hyperlink{classns3_1_1RngSeedManager_ab2a95901871c7b47a3dcf0f70adc58f4}{RngSeedManager::SetSeed} (12345);
57   \hyperlink{classns3_1_1RngSeedManager_a14c9a839f8141b0e9ec2af0e96d68263}{RngSeedManager::SetRun} (7);
58   \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_ab101b71625b566733aeee0f7cd82e9f1}{CreateNodes} ();
59 
60   \hyperlink{classns3_1_1Simulator_a2335ba5b62e9066e893fecb21b7f6afd}{Simulator::Stop} (\hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a3f8d630c066f0cb7fc33cd7174d05594}{m\_time});
61   \hyperlink{classns3_1_1Simulator_a84be982e6d03b62c3dc3303c75a9b909}{Simulator::Run} ();
62 
63   \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a09824a508053ac7482c72babc4976558}{m\_rxSocketA} = 0;
64   \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a36afc1d537401f41ec4a5d899584cdcb}{m\_rxSocketB} = 0;
65   \hyperlink{classns3_1_1Simulator_a2a056e59a6623225df0957eda0ee8252}{Simulator::Destroy} ();
66 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!Receive\+Pkt\+ProbeA@{Receive\+Pkt\+ProbeA}}
\index{Receive\+Pkt\+ProbeA@{Receive\+Pkt\+ProbeA}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Pkt\+Probe\+A(\+Ptr$<$ Socket $>$ socket)}{ReceivePktProbeA(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::olsr\+::\+Hello\+Regression\+Test\+::\+Receive\+Pkt\+ProbeA (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_a054ed2a66a9d8a840b9e0950808035d5}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_a054ed2a66a9d8a840b9e0950808035d5}


Receive raw data on node A. 


\begin{DoxyCode}
106 \{
107   uint32\_t availableData;
108   availableData = socket->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ();
109   Ptr<Packet> receivedPacketProbe = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (
      \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint32\_t>::max} (), 0);
110   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (availableData == receivedPacketProbe->GetSize ());
111 
112   Ipv4Header ipHdr;
113   receivedPacketProbe->RemoveHeader (ipHdr);
114   UdpHeader udpHdr;
115   receivedPacketProbe->RemoveHeader (udpHdr);
116   PacketHeader pktHdr;
117   receivedPacketProbe->RemoveHeader (pktHdr);
118   MessageHeader msgHdr;
119   receivedPacketProbe->RemoveHeader (msgHdr);
120 
121   \textcolor{keyword}{const} olsr::MessageHeader::Hello &hello = msgHdr.GetHello ();
122   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (msgHdr.GetOriginatorAddress (), Ipv4Address (\textcolor{stringliteral}{"10.1.1.2"}), \textcolor{stringliteral}{"
      Originator address."});
123 
124   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a89b07fe86d41662bf3ef877f244d333c}{m\_countA} == 0)
125     \{
126       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (hello.linkMessages.size (), 0, \textcolor{stringliteral}{"No Link messages on the
       first Hello."});
127     \}
128   \textcolor{keywordflow}{else}
129     \{
130       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (hello.linkMessages.size (), 1, \textcolor{stringliteral}{"One Link message on the
       second and third Hello."});
131     \}
132 
133   std::vector<olsr::MessageHeader::Hello::LinkMessage>::const\_iterator iter;
134   \textcolor{keywordflow}{for} (iter = hello.linkMessages.begin (); iter != hello.linkMessages.end (); iter++)
135     \{
136       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a89b07fe86d41662bf3ef877f244d333c}{m\_countA} == 1)
137         \{
138           \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (iter->linkCode, 1, \textcolor{stringliteral}{"Asymmetric link on second Hello."}
      );
139         \}
140       \textcolor{keywordflow}{else}
141         \{
142           \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (iter->linkCode, 6, \textcolor{stringliteral}{"Symmetric link on second Hello."})
      ;
143         \}
144 
145       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (iter->neighborInterfaceAddresses.size (), 1, \textcolor{stringliteral}{"Only one
       neighbor."});
146       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (iter->neighborInterfaceAddresses[0], Ipv4Address (\textcolor{stringliteral}{"
      10.1.1.1"}), \textcolor{stringliteral}{"Only one neighbor."});
147     \}
148 
149   \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a89b07fe86d41662bf3ef877f244d333c}{m\_countA}++;
150 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!Receive\+Pkt\+ProbeB@{Receive\+Pkt\+ProbeB}}
\index{Receive\+Pkt\+ProbeB@{Receive\+Pkt\+ProbeB}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Pkt\+Probe\+B(\+Ptr$<$ Socket $>$ socket)}{ReceivePktProbeB(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::olsr\+::\+Hello\+Regression\+Test\+::\+Receive\+Pkt\+ProbeB (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_accc7c74bb7e64c7f15788aa23ba6e52a}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_accc7c74bb7e64c7f15788aa23ba6e52a}


Receive raw data on node B. 


\begin{DoxyCode}
154 \{
155   uint32\_t availableData;
156   availableData = socket->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ();
157   Ptr<Packet> receivedPacketProbe = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (
      \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint32\_t>::max} (), 0);
158   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (availableData == receivedPacketProbe->GetSize ());
159 
160   Ipv4Header ipHdr;
161   receivedPacketProbe->RemoveHeader (ipHdr);
162   UdpHeader udpHdr;
163   receivedPacketProbe->RemoveHeader (udpHdr);
164   PacketHeader pktHdr;
165   receivedPacketProbe->RemoveHeader (pktHdr);
166   MessageHeader msgHdr;
167   receivedPacketProbe->RemoveHeader (msgHdr);
168 
169   \textcolor{keyword}{const} olsr::MessageHeader::Hello &hello = msgHdr.GetHello ();
170   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (msgHdr.GetOriginatorAddress (), Ipv4Address (\textcolor{stringliteral}{"10.1.1.1"}), \textcolor{stringliteral}{"
      Originator address."});
171 
172   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a89b07fe86d41662bf3ef877f244d333c}{m\_countA} == 0)
173     \{
174       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (hello.linkMessages.size (), 0, \textcolor{stringliteral}{"No Link messages on the
       first Hello."});
175     \}
176   \textcolor{keywordflow}{else}
177     \{
178       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (hello.linkMessages.size (), 1, \textcolor{stringliteral}{"One Link message on the
       second and third Hello."});
179     \}
180 
181   std::vector<olsr::MessageHeader::Hello::LinkMessage>::const\_iterator iter;
182   \textcolor{keywordflow}{for} (iter = hello.linkMessages.begin (); iter != hello.linkMessages.end (); iter++)
183     \{
184       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_a89b07fe86d41662bf3ef877f244d333c}{m\_countA} == 1)
185         \{
186           \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (iter->linkCode, 1, \textcolor{stringliteral}{"Asymmetric link on second Hello."}
      );
187         \}
188       \textcolor{keywordflow}{else}
189         \{
190           \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (iter->linkCode, 6, \textcolor{stringliteral}{"Symmetric link on second Hello."})
      ;
191         \}
192 
193       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (iter->neighborInterfaceAddresses.size (), 1, \textcolor{stringliteral}{"Only one
       neighbor."});
194       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (iter->neighborInterfaceAddresses[0], Ipv4Address (\textcolor{stringliteral}{"
      10.1.1.2"}), \textcolor{stringliteral}{"Only one neighbor."});
195     \}
196 
197   \hyperlink{classns3_1_1olsr_1_1HelloRegressionTest_aa3b0da1aed971f58de9e95663bd0b8e0}{m\_countB}++;
198 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8




\subsection{Member Data Documentation}
\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!m\+\_\+countA@{m\+\_\+countA}}
\index{m\+\_\+countA@{m\+\_\+countA}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+countA}{m_countA}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::olsr\+::\+Hello\+Regression\+Test\+::m\+\_\+countA\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_a89b07fe86d41662bf3ef877f244d333c}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_a89b07fe86d41662bf3ef877f244d333c}


\hyperlink{classns3_1_1Packet}{Packet} counter on node A. 

\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!m\+\_\+countB@{m\+\_\+countB}}
\index{m\+\_\+countB@{m\+\_\+countB}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+countB}{m_countB}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::olsr\+::\+Hello\+Regression\+Test\+::m\+\_\+countB\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_aa3b0da1aed971f58de9e95663bd0b8e0}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_aa3b0da1aed971f58de9e95663bd0b8e0}


\hyperlink{classns3_1_1Packet}{Packet} counter on node B. 

\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!m\+\_\+rx\+SocketA@{m\+\_\+rx\+SocketA}}
\index{m\+\_\+rx\+SocketA@{m\+\_\+rx\+SocketA}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+SocketA}{m_rxSocketA}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Ipv4\+Raw\+Socket\+Impl}$>$ ns3\+::olsr\+::\+Hello\+Regression\+Test\+::m\+\_\+rx\+SocketA\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_a09824a508053ac7482c72babc4976558}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_a09824a508053ac7482c72babc4976558}


Receiving socket on node A. 

\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!m\+\_\+rx\+SocketB@{m\+\_\+rx\+SocketB}}
\index{m\+\_\+rx\+SocketB@{m\+\_\+rx\+SocketB}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+SocketB}{m_rxSocketB}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Ipv4\+Raw\+Socket\+Impl}$>$ ns3\+::olsr\+::\+Hello\+Regression\+Test\+::m\+\_\+rx\+SocketB\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_a36afc1d537401f41ec4a5d899584cdcb}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_a36afc1d537401f41ec4a5d899584cdcb}


Receiving socket on node B. 

\index{ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}!m\+\_\+time@{m\+\_\+time}}
\index{m\+\_\+time@{m\+\_\+time}!ns3\+::olsr\+::\+Hello\+Regression\+Test@{ns3\+::olsr\+::\+Hello\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+time}{m_time}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Time} ns3\+::olsr\+::\+Hello\+Regression\+Test\+::m\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1olsr_1_1HelloRegressionTest_a3f8d630c066f0cb7fc33cd7174d05594}{}\label{classns3_1_1olsr_1_1HelloRegressionTest_a3f8d630c066f0cb7fc33cd7174d05594}


Total simulation time. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
olsr/test/\hyperlink{hello-regression-test_8h}{hello-\/regression-\/test.\+h}\item 
olsr/test/\hyperlink{hello-regression-test_8cc}{hello-\/regression-\/test.\+cc}\end{DoxyCompactItemize}
