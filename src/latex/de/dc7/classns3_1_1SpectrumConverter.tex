\hypertarget{classns3_1_1SpectrumConverter}{}\section{ns3\+:\+:Spectrum\+Converter Class Reference}
\label{classns3_1_1SpectrumConverter}\index{ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}}


{\ttfamily \#include $<$spectrum-\/converter.\+h$>$}



Inheritance diagram for ns3\+:\+:Spectrum\+Converter\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Spectrum\+Converter\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1SpectrumConverter_a1e759b343b89a981e3b774ed15aacdad}{Spectrum\+Converter} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ from\+Spectrum\+Model, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ to\+Spectrum\+Model)
\item 
\hyperlink{classns3_1_1SpectrumConverter_a9958e1755d368f231debab339d285d38}{Spectrum\+Converter} ()
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1SpectrumConverter_a3d418000b698858a71c164ef887b8185}{Convert} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ vvf) const 
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classns3_1_1SpectrumConverter_aebdde6358be5ca6824b009f0c54a1dfd}{Get\+Coefficient} (const \hyperlink{structns3_1_1BandInfo}{Band\+Info} \&\hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from}, const \hyperlink{structns3_1_1BandInfo}{Band\+Info} \&to) const 
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ double $>$ \hyperlink{classns3_1_1SpectrumConverter_a099d906c2994643e9e37b4eeea96f8e8}{m\+\_\+conversion\+Matrix}
\begin{DoxyCompactList}\small\item\em matrix of conversion coefficients stored in Compressed Row Storage format \end{DoxyCompactList}\item 
std\+::vector$<$ size\+\_\+t $>$ \hyperlink{classns3_1_1SpectrumConverter_ae0fa415f07184df143b9ecfb826eb345}{m\+\_\+conversion\+Row\+Ptr}
\begin{DoxyCompactList}\small\item\em offset of rows in m\+\_\+conversion\+Matrix \end{DoxyCompactList}\item 
std\+::vector$<$ size\+\_\+t $>$ \hyperlink{classns3_1_1SpectrumConverter_af316fdc8ed648d55b46fb7e6f52f7412}{m\+\_\+conversion\+Col\+Ind}
\begin{DoxyCompactList}\small\item\em column of each non-\/zero element in m\+\_\+conversion\+Matrix \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ \hyperlink{classns3_1_1SpectrumConverter_a152eb969ac726014de6563397bee9fc7}{m\+\_\+from\+Spectrum\+Model}
\begin{DoxyCompactList}\small\item\em the \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} this \hyperlink{classns3_1_1SpectrumConverter}{Spectrum\+Converter} instance can convert from \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ \hyperlink{classns3_1_1SpectrumConverter_aa99d9ccf13de156a7691b5c12e34a3dc}{m\+\_\+to\+Spectrum\+Model}
\begin{DoxyCompactList}\small\item\em the \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} this \hyperlink{classns3_1_1SpectrumConverter}{Spectrum\+Converter} instance can convert to \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Class which implements a converter between \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} which are defined over different \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model}. In more formal terms, this class allows conversion between different function spaces. In practical terms, this allows you to mix different spectrum representation within the same channel, such as a device using a coarse spectrum representation (e.\+g., one frequency for each I\+E\+EE 802.\+11 channel) and devices using a finer representation (e.\+g., one frequency for each O\+F\+DM subcarrier). 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}!Spectrum\+Converter@{Spectrum\+Converter}}
\index{Spectrum\+Converter@{Spectrum\+Converter}!ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}}
\subsubsection[{\texorpdfstring{Spectrum\+Converter(\+Ptr$<$ const Spectrum\+Model $>$ from\+Spectrum\+Model, Ptr$<$ const Spectrum\+Model $>$ to\+Spectrum\+Model)}{SpectrumConverter(Ptr< const SpectrumModel > fromSpectrumModel, Ptr< const SpectrumModel > toSpectrumModel)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Spectrum\+Converter\+::\+Spectrum\+Converter (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Spectrum\+Model} $>$}]{from\+Spectrum\+Model, }
\item[{{\bf Ptr}$<$ const {\bf Spectrum\+Model} $>$}]{to\+Spectrum\+Model}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SpectrumConverter_a1e759b343b89a981e3b774ed15aacdad}{}\label{classns3_1_1SpectrumConverter_a1e759b343b89a981e3b774ed15aacdad}
Create a \hyperlink{classns3_1_1SpectrumConverter}{Spectrum\+Converter} class that will be able to convert Value\+Vs\+Freq instances defined over one \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} to corresponding Value\+Vs\+Freq instances defined over a diffent \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model}


\begin{DoxyParams}{Parameters}
{\em from\+Spectrum\+Model} & the \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} to convert from \\
\hline
{\em to\+Spectrum\+Model} & the \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} to convert to \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
37 \{
38   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
39   \hyperlink{classns3_1_1SpectrumConverter_a152eb969ac726014de6563397bee9fc7}{m\_fromSpectrumModel} = fromSpectrumModel;
40   \hyperlink{classns3_1_1SpectrumConverter_aa99d9ccf13de156a7691b5c12e34a3dc}{m\_toSpectrumModel} = toSpectrumModel;
41 
42   \textcolor{keywordtype}{size\_t} rowPtr = 0;
43   \textcolor{keywordflow}{for} (Bands::const\_iterator toit = toSpectrumModel->\hyperlink{classns3_1_1SpectrumModel_a41b34bec2d882bb573849dad7237b10d}{Begin} (); toit != toSpectrumModel->
      \hyperlink{classns3_1_1SpectrumModel_ac1c60822fc8fd0463905ac908df1e8b4}{End} (); ++toit)
44     \{
45       \textcolor{keywordtype}{size\_t} colInd = 0;
46       \textcolor{keywordflow}{for} (Bands::const\_iterator fromit = fromSpectrumModel->\hyperlink{classns3_1_1SpectrumModel_a41b34bec2d882bb573849dad7237b10d}{Begin} (); fromit != fromSpectrumModel->
      \hyperlink{classns3_1_1SpectrumModel_ac1c60822fc8fd0463905ac908df1e8b4}{End} (); ++fromit)
47         \{
48           \textcolor{keywordtype}{double} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c} = \hyperlink{classns3_1_1SpectrumConverter_aebdde6358be5ca6824b009f0c54a1dfd}{GetCoefficient} (*fromit, *toit);
49           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"("} << fromit->fl << \textcolor{stringliteral}{","}  << fromit->fh << \textcolor{stringliteral}{")"}
50                             << \textcolor{stringliteral}{" --> "} <<
51                         \textcolor{stringliteral}{"("} << toit->fl << \textcolor{stringliteral}{","} << toit->fh << \textcolor{stringliteral}{")"}
52                             << \textcolor{stringliteral}{" = "} << c);
53           \textcolor{keywordflow}{if} (c > 0)
54             \{
55               \hyperlink{classns3_1_1SpectrumConverter_a099d906c2994643e9e37b4eeea96f8e8}{m\_conversionMatrix}.push\_back (c);
56               \hyperlink{classns3_1_1SpectrumConverter_af316fdc8ed648d55b46fb7e6f52f7412}{m\_conversionColInd}.push\_back (colInd);
57               rowPtr++;
58             \}
59           colInd++;
60         \}
61       \hyperlink{classns3_1_1SpectrumConverter_ae0fa415f07184df143b9ecfb826eb345}{m\_conversionRowPtr}.push\_back (rowPtr);
62     \}
63 
64 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}!Spectrum\+Converter@{Spectrum\+Converter}}
\index{Spectrum\+Converter@{Spectrum\+Converter}!ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}}
\subsubsection[{\texorpdfstring{Spectrum\+Converter()}{SpectrumConverter()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Spectrum\+Converter\+::\+Spectrum\+Converter (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SpectrumConverter_a9958e1755d368f231debab339d285d38}{}\label{classns3_1_1SpectrumConverter_a9958e1755d368f231debab339d285d38}

\begin{DoxyCode}
33 \{
34 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}!Convert@{Convert}}
\index{Convert@{Convert}!ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}}
\subsubsection[{\texorpdfstring{Convert(\+Ptr$<$ const Spectrum\+Value $>$ vvf) const }{Convert(Ptr< const SpectrumValue > vvf) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Spectrum\+Converter\+::\+Convert (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Spectrum\+Value} $>$}]{vvf}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1SpectrumConverter_a3d418000b698858a71c164ef887b8185}{}\label{classns3_1_1SpectrumConverter_a3d418000b698858a71c164ef887b8185}
Convert a particular Value\+Vs\+Freq instance to


\begin{DoxyParams}{Parameters}
{\em vvf} & the Value\+Vs\+Freq instance to be converted\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the converted version of the provided Value\+Vs\+Freq 
\end{DoxyReturn}

\begin{DoxyCode}
80 \{
81   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} ( *(fvvf->GetSpectrumModel ()) == *\hyperlink{classns3_1_1SpectrumConverter_a152eb969ac726014de6563397bee9fc7}{m\_fromSpectrumModel});
82 
83   Ptr<SpectrumValue> tvvf = Create<SpectrumValue> (\hyperlink{classns3_1_1SpectrumConverter_aa99d9ccf13de156a7691b5c12e34a3dc}{m\_toSpectrumModel});
84 
85   Values::iterator tvit = tvvf->ValuesBegin ();
86   \textcolor{keywordtype}{size\_t} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \textcolor{comment}{// Index of conversion coefficient}
87 
88   \textcolor{keywordflow}{for} (std::vector<size\_t>::const\_iterator convIt = \hyperlink{classns3_1_1SpectrumConverter_ae0fa415f07184df143b9ecfb826eb345}{m\_conversionRowPtr}.begin ();
89        convIt != \hyperlink{classns3_1_1SpectrumConverter_ae0fa415f07184df143b9ecfb826eb345}{m\_conversionRowPtr}.end ();
90        ++convIt)
91     \{
92       \textcolor{keywordtype}{double} sum = 0;
93       \textcolor{keywordflow}{while} (i < *convIt)
94         \{
95           sum += (*fvvf)[\hyperlink{classns3_1_1SpectrumConverter_af316fdc8ed648d55b46fb7e6f52f7412}{m\_conversionColInd}.at (i)] * 
      \hyperlink{classns3_1_1SpectrumConverter_a099d906c2994643e9e37b4eeea96f8e8}{m\_conversionMatrix}.at (i);
96           i++;
97         \}
98       *tvit = sum;
99       ++tvit;
100     \}
101 
102   \textcolor{keywordflow}{return} tvvf;
103 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}!Get\+Coefficient@{Get\+Coefficient}}
\index{Get\+Coefficient@{Get\+Coefficient}!ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}}
\subsubsection[{\texorpdfstring{Get\+Coefficient(const Band\+Info \&from, const Band\+Info \&to) const }{GetCoefficient(const BandInfo &from, const BandInfo &to) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Spectrum\+Converter\+::\+Get\+Coefficient (
\begin{DoxyParamCaption}
\item[{const {\bf Band\+Info} \&}]{from, }
\item[{const {\bf Band\+Info} \&}]{to}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumConverter_aebdde6358be5ca6824b009f0c54a1dfd}{}\label{classns3_1_1SpectrumConverter_aebdde6358be5ca6824b009f0c54a1dfd}
Calculate the coefficient for value conversion between elements


\begin{DoxyParams}{Parameters}
{\em from} & \hyperlink{structns3_1_1BandInfo}{Band\+Info} to convert from \\
\hline
{\em to} & \hyperlink{structns3_1_1BandInfo}{Band\+Info} to convert to\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the fraction of the value of the \char`\"{}from\char`\"{} Band\+Infos that is mapped to the \char`\"{}to\char`\"{} \hyperlink{structns3_1_1BandInfo}{Band\+Info} 
\end{DoxyReturn}

\begin{DoxyCode}
68 \{
69   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
70   \textcolor{keywordtype}{double} coeff = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (\hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from}.fh, to.fh) - \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (\hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from}.fl, to.fl);
71   coeff = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (0.0, coeff);
72   coeff = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (1.0, coeff / (to.fh - to.fl));
73   \textcolor{keywordflow}{return} coeff;
74 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5




\subsection{Member Data Documentation}
\index{ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}!m\+\_\+conversion\+Col\+Ind@{m\+\_\+conversion\+Col\+Ind}}
\index{m\+\_\+conversion\+Col\+Ind@{m\+\_\+conversion\+Col\+Ind}!ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}}
\subsubsection[{\texorpdfstring{m\+\_\+conversion\+Col\+Ind}{m_conversionColInd}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$size\+\_\+t$>$ ns3\+::\+Spectrum\+Converter\+::m\+\_\+conversion\+Col\+Ind\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumConverter_af316fdc8ed648d55b46fb7e6f52f7412}{}\label{classns3_1_1SpectrumConverter_af316fdc8ed648d55b46fb7e6f52f7412}


column of each non-\/zero element in m\+\_\+conversion\+Matrix 

\index{ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}!m\+\_\+conversion\+Matrix@{m\+\_\+conversion\+Matrix}}
\index{m\+\_\+conversion\+Matrix@{m\+\_\+conversion\+Matrix}!ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}}
\subsubsection[{\texorpdfstring{m\+\_\+conversion\+Matrix}{m_conversionMatrix}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$double$>$ ns3\+::\+Spectrum\+Converter\+::m\+\_\+conversion\+Matrix\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumConverter_a099d906c2994643e9e37b4eeea96f8e8}{}\label{classns3_1_1SpectrumConverter_a099d906c2994643e9e37b4eeea96f8e8}


matrix of conversion coefficients stored in Compressed Row Storage format 

\index{ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}!m\+\_\+conversion\+Row\+Ptr@{m\+\_\+conversion\+Row\+Ptr}}
\index{m\+\_\+conversion\+Row\+Ptr@{m\+\_\+conversion\+Row\+Ptr}!ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}}
\subsubsection[{\texorpdfstring{m\+\_\+conversion\+Row\+Ptr}{m_conversionRowPtr}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$size\+\_\+t$>$ ns3\+::\+Spectrum\+Converter\+::m\+\_\+conversion\+Row\+Ptr\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumConverter_ae0fa415f07184df143b9ecfb826eb345}{}\label{classns3_1_1SpectrumConverter_ae0fa415f07184df143b9ecfb826eb345}


offset of rows in m\+\_\+conversion\+Matrix 

\index{ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}!m\+\_\+from\+Spectrum\+Model@{m\+\_\+from\+Spectrum\+Model}}
\index{m\+\_\+from\+Spectrum\+Model@{m\+\_\+from\+Spectrum\+Model}!ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}}
\subsubsection[{\texorpdfstring{m\+\_\+from\+Spectrum\+Model}{m_fromSpectrumModel}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$const {\bf Spectrum\+Model}$>$ ns3\+::\+Spectrum\+Converter\+::m\+\_\+from\+Spectrum\+Model\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumConverter_a152eb969ac726014de6563397bee9fc7}{}\label{classns3_1_1SpectrumConverter_a152eb969ac726014de6563397bee9fc7}


the \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} this \hyperlink{classns3_1_1SpectrumConverter}{Spectrum\+Converter} instance can convert from 

\index{ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}!m\+\_\+to\+Spectrum\+Model@{m\+\_\+to\+Spectrum\+Model}}
\index{m\+\_\+to\+Spectrum\+Model@{m\+\_\+to\+Spectrum\+Model}!ns3\+::\+Spectrum\+Converter@{ns3\+::\+Spectrum\+Converter}}
\subsubsection[{\texorpdfstring{m\+\_\+to\+Spectrum\+Model}{m_toSpectrumModel}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$const {\bf Spectrum\+Model}$>$ ns3\+::\+Spectrum\+Converter\+::m\+\_\+to\+Spectrum\+Model\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumConverter_aa99d9ccf13de156a7691b5c12e34a3dc}{}\label{classns3_1_1SpectrumConverter_aa99d9ccf13de156a7691b5c12e34a3dc}


the \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} this \hyperlink{classns3_1_1SpectrumConverter}{Spectrum\+Converter} instance can convert to 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
spectrum/model/\hyperlink{spectrum-converter_8h}{spectrum-\/converter.\+h}\item 
spectrum/model/\hyperlink{spectrum-converter_8cc}{spectrum-\/converter.\+cc}\end{DoxyCompactItemize}
