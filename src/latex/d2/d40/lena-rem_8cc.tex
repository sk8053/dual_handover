\hypertarget{lena-rem_8cc}{}\section{lte/examples/lena-\/rem.cc File Reference}
\label{lena-rem_8cc}\index{lte/examples/lena-\/rem.\+cc@{lte/examples/lena-\/rem.\+cc}}
{\ttfamily \#include \char`\"{}ns3/core-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/network-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/mobility-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/lte-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/config-\/store.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/spectrum-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include $<$ns3/buildings-\/helper.\+h$>$}\\*
Include dependency graph for lena-\/rem.cc\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{lena-rem_8cc_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{lena-\/rem.\+cc@{lena-\/rem.\+cc}!main@{main}}
\index{main@{main}!lena-\/rem.\+cc@{lena-\/rem.\+cc}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$argv[])}{main(int argc, char *argv[])}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{lena-rem_8cc_a0ddf1224851353fc92bfbff6f499fa97}{}\label{lena-rem_8cc_a0ddf1224851353fc92bfbff6f499fa97}

\begin{DoxyCode}
35 \{       
36   \hyperlink{classns3_1_1CommandLine}{CommandLine} cmd;
37   cmd.\hyperlink{classns3_1_1CommandLine_a5c10b85b3207e5ecb48d907966923156}{Parse} (argc, argv);
38         
39   \textcolor{comment}{// to save a template default attribute file run it like this:}
40   \textcolor{comment}{// ./waf --command-template="%s --ns3::ConfigStore::Filename=input-defaults.txt
       --ns3::ConfigStore::Mode=Save --ns3::ConfigStore::FileFormat=RawText" --run src/lte/examples/lena-first-sim}
41   \textcolor{comment}{//}
42   \textcolor{comment}{// to load a previously created default attribute file}
43   \textcolor{comment}{// ./waf --command-template="%s --ns3::ConfigStore::Filename=input-defaults.txt
       --ns3::ConfigStore::Mode=Load --ns3::ConfigStore::FileFormat=RawText" --run src/lte/examples/lena-first-sim}
44 
45   \hyperlink{classns3_1_1ConfigStore}{ConfigStore} inputConfig;
46   inputConfig.\hyperlink{classns3_1_1ConfigStore_a0a6137574d7c847c3823af8b9d1bb886}{ConfigureDefaults} ();
47 
48   \textcolor{comment}{// Parse again so you can override default values from the command line}
49   cmd.\hyperlink{classns3_1_1CommandLine_a5c10b85b3207e5ecb48d907966923156}{Parse} (argc, argv);
50 
51   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
52 
53   \textcolor{comment}{// Uncomment to enable logging}
54   \textcolor{comment}{//lteHelper->EnableLogComponents ();}
55 
56   \textcolor{comment}{// Create Nodes: eNodeB and UE}
57   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
58   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes;
59   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
60   ueNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
61 
62   \textcolor{comment}{// Install Mobility Model}
63   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
64   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
65   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (enbNodes);
66   BuildingsHelper::Install (enbNodes);
67   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
68   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (ueNodes);
69   BuildingsHelper::Install (ueNodes);
70 
71   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
72   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
73   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs;
74   \textcolor{comment}{// Default scheduler is PF, uncomment to use RR}
75   \textcolor{comment}{//lteHelper->SetSchedulerType ("ns3::RrFfMacScheduler");}
76 
77   enbDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes);
78   ueDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes);
79 
80   \textcolor{comment}{// Attach a UE to a eNB}
81   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs, enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
82 
83   \textcolor{comment}{// Activate an EPS bearer}
84   \textcolor{keyword}{enum} \hyperlink{structns3_1_1EpsBearer_aecf0c67109c5eb4ec0b07226fff5885e}{EpsBearer::Qci} q = EpsBearer::GBR\_CONV\_VOICE;
85   \hyperlink{structns3_1_1EpsBearer}{EpsBearer} bearer (q);
86   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs, bearer);
87 
88 
89   \textcolor{comment}{// Configure Radio Environment Map (REM) output}
90   \textcolor{comment}{// for LTE-only simulations always use /ChannelList/0 which is the downlink channel}
91   \hyperlink{classns3_1_1Ptr}{Ptr<RadioEnvironmentMapHelper>} remHelper = 
      CreateObject<RadioEnvironmentMapHelper> ();
92   remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"ChannelPath"}, StringValue (\textcolor{stringliteral}{"/ChannelList/0"}));
93   remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"OutputFile"}, StringValue (\textcolor{stringliteral}{"rem.out"}));
94   remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"XMin"}, DoubleValue (-400.0));
95   remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"XMax"}, DoubleValue (400.0));
96   remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"YMin"}, DoubleValue (-300.0));
97   remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"YMax"}, DoubleValue (300.0));
98   remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Z"}, DoubleValue (0.0));
99   remHelper->\hyperlink{classns3_1_1RadioEnvironmentMapHelper_a0b15c982ea80037f9409d73654b48548}{Install} ();
100 
101   \textcolor{comment}{// here's a minimal gnuplot script that will plot the above:}
102   \textcolor{comment}{// }
103   \textcolor{comment}{// set view map;}
104   \textcolor{comment}{// set term x11;}
105   \textcolor{comment}{// set xlabel "X"}
106   \textcolor{comment}{// set ylabel "Y"}
107   \textcolor{comment}{// set cblabel "SINR (dB)"}
108   \textcolor{comment}{// plot "rem.out" using ($1):($2):(10*log10($4)) with image}
109   
110     
111   BuildingsHelper::MakeMobilityModelConsistent ();
112 
113 
114   Simulator::Run ();
115 
116   \textcolor{comment}{//GtkConfigStore config;}
117   \textcolor{comment}{//config.ConfigureAttributes ();}
118 
119   Simulator::Destroy ();
120   \textcolor{keywordflow}{return} 0;
121 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1


