\hypertarget{classReadModeCreateTestCase}{}\section{Read\+Mode\+Create\+Test\+Case Class Reference}
\label{classReadModeCreateTestCase}\index{Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}}


Inheritance diagram for Read\+Mode\+Create\+Test\+Case\+:
% FIG 0


Collaboration diagram for Read\+Mode\+Create\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classReadModeCreateTestCase_ac6102b44dbdde403e44185418adad452}{Read\+Mode\+Create\+Test\+Case} ()
\item 
virtual \hyperlink{classReadModeCreateTestCase_aae8df78bfc581d6a0e147fa265cfc95d}{$\sim$\+Read\+Mode\+Create\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classReadModeCreateTestCase_a6dd7e9a6a38fd7f1622950f026af16ae}{Do\+Setup} (void)
\begin{DoxyCompactList}\small\item\em Implementation to do any local setup required for this Test\+Case. \end{DoxyCompactList}\item 
virtual void \hyperlink{classReadModeCreateTestCase_a562663ce527b2afe1a01e530874cd851}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
virtual void \hyperlink{classReadModeCreateTestCase_ab734bb421701638fe0264099725269e3}{Do\+Teardown} (void)
\begin{DoxyCompactList}\small\item\em Implementation to do any local setup required for this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string \hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\+\_\+test\+Filename}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}!Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}}
\index{Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}!Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{Read\+Mode\+Create\+Test\+Case()}{ReadModeCreateTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Read\+Mode\+Create\+Test\+Case\+::\+Read\+Mode\+Create\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classReadModeCreateTestCase_ac6102b44dbdde403e44185418adad452}{}\label{classReadModeCreateTestCase_ac6102b44dbdde403e44185418adad452}

\begin{DoxyCode}
214   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Check to see that PcapFile::Open with mode std::ios::in works"})
215 \{
216 \}
\end{DoxyCode}
\index{Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}!````~Read\+Mode\+Create\+Test\+Case@{$\sim$\+Read\+Mode\+Create\+Test\+Case}}
\index{````~Read\+Mode\+Create\+Test\+Case@{$\sim$\+Read\+Mode\+Create\+Test\+Case}!Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Read\+Mode\+Create\+Test\+Case()}{~ReadModeCreateTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Read\+Mode\+Create\+Test\+Case\+::$\sim$\+Read\+Mode\+Create\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classReadModeCreateTestCase_aae8df78bfc581d6a0e147fa265cfc95d}{}\label{classReadModeCreateTestCase_aae8df78bfc581d6a0e147fa265cfc95d}

\begin{DoxyCode}
219 \{
220 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Read\+Mode\+Create\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classReadModeCreateTestCase_a562663ce527b2afe1a01e530874cd851}{}\label{classReadModeCreateTestCase_a562663ce527b2afe1a01e530874cd851}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
242 \{
243   \hyperlink{classns3_1_1PcapFile}{PcapFile} \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f};
244 
245   \textcolor{comment}{//}
246   \textcolor{comment}{// Opening a non-existing file in read mode should result in an error.}
247   \textcolor{comment}{//}
248   f.\hyperlink{classns3_1_1PcapFile_a064e8494e28e823d0bb4e40549f9f483}{Open} (\hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename}, std::ios::in);
249   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{true}, \textcolor{stringliteral}{"Open (non-existing-filename "} << 
      \hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename} << 
250                          \textcolor{stringliteral}{", \(\backslash\)"std::ios::in\(\backslash\)") does not return error"});
251   f.\hyperlink{classns3_1_1PcapFile_ad3b6c28d464742ee1fa3a64628339a5b}{Close} ();
252   f.\hyperlink{classns3_1_1PcapFile_a4b593422b0941d936d98635151d1d8ce}{Clear} ();
253   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{pcap-file-test-suite_8cc_a4e90999451af2d85d014e610a7ab9d0b}{CheckFileExists} (
      \hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename}), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Open ("} << \hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename} << 
254                          \textcolor{stringliteral}{", \(\backslash\)"std::ios::in\(\backslash\)") unexpectedly created a file"});
255 
256   \textcolor{comment}{//}
257   \textcolor{comment}{// Okay, now create an uninitialized file using previously tested operations}
258   \textcolor{comment}{//}
259   f.\hyperlink{classns3_1_1PcapFile_a064e8494e28e823d0bb4e40549f9f483}{Open} (\hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename}, std::ios::out);
260   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Open (filename, \(\backslash\)"std::ios::out\(\backslash\)")
       returns error"});
261   f.\hyperlink{classns3_1_1PcapFile_ad3b6c28d464742ee1fa3a64628339a5b}{Close} ();
262 
263   \textcolor{comment}{//}
264   \textcolor{comment}{// Opening this file should result in an error since it has no pcap file header.}
265   \textcolor{comment}{//}
266   f.\hyperlink{classns3_1_1PcapFile_a064e8494e28e823d0bb4e40549f9f483}{Open} (\hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename}, std::ios::in);
267   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{true}, \textcolor{stringliteral}{"Open (non-initialized-filename "} << 
      \hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename} << 
268                          \textcolor{stringliteral}{", \(\backslash\)"std::ios::in\(\backslash\)") does not return error"});
269   f.\hyperlink{classns3_1_1PcapFile_ad3b6c28d464742ee1fa3a64628339a5b}{Close} ();
270   f.\hyperlink{classns3_1_1PcapFile_a4b593422b0941d936d98635151d1d8ce}{Clear} ();
271 
272   \textcolor{comment}{//}
273   \textcolor{comment}{// Okay, now open that non-initialized file in write mode and initialize it}
274   \textcolor{comment}{// Note that we open it in write mode to initialize it.}
275   \textcolor{comment}{//}
276   f.\hyperlink{classns3_1_1PcapFile_a064e8494e28e823d0bb4e40549f9f483}{Open} (\hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename}, std::ios::out);
277   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Open ("} << 
      \hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename} << 
278                          \textcolor{stringliteral}{", \(\backslash\)"std::ios::out\(\backslash\)") returns error"});
279 
280   f.\hyperlink{classns3_1_1PcapFile_a80c8adea1baa66e3f730df2927b0fc9b}{Init} (1234, 5678, 7);
281   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Init (1234, 5678, 7) returns error"});
282   f.\hyperlink{classns3_1_1PcapFile_ad3b6c28d464742ee1fa3a64628339a5b}{Close} ();
283 
284   \textcolor{comment}{//}
285   \textcolor{comment}{// Opening this file should now work since it has a pcap file header.}
286   \textcolor{comment}{//}
287   f.\hyperlink{classns3_1_1PcapFile_a064e8494e28e823d0bb4e40549f9f483}{Open} (\hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename}, std::ios::in);
288   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Open (initialized-filename "} << 
      \hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename} << 
289                          \textcolor{stringliteral}{", \(\backslash\)"std::ios::in\(\backslash\)") returns error"});
290 
291   \textcolor{comment}{//}
292   \textcolor{comment}{// Now we should not be able to write to it since it was opened in "r" mode}
293   \textcolor{comment}{// even if it has been initialized..}
294   \textcolor{comment}{//}
295   uint8\_t buffer[128];
296   f.\hyperlink{classns3_1_1PcapFile_a3920f5bae95ca0021875e6e9c2630ccf}{Write} (0, 0, buffer, 128);
297   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{true}, \textcolor{stringliteral}{"Write (read-only-file "} << 
      \hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename} << 
298                          \textcolor{stringliteral}{") does not return error"});
299   f.\hyperlink{classns3_1_1PcapFile_ad3b6c28d464742ee1fa3a64628339a5b}{Close} ();
300   f.\hyperlink{classns3_1_1PcapFile_a4b593422b0941d936d98635151d1d8ce}{Clear} ();
301 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}!Do\+Setup@{Do\+Setup}}
\index{Do\+Setup@{Do\+Setup}!Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Setup(void)}{DoSetup(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Read\+Mode\+Create\+Test\+Case\+::\+Do\+Setup (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classReadModeCreateTestCase_a6dd7e9a6a38fd7f1622950f026af16ae}{}\label{classReadModeCreateTestCase_a6dd7e9a6a38fd7f1622950f026af16ae}


Implementation to do any local setup required for this Test\+Case. 

Subclasses should override this method to perform any costly per-\/test setup before Do\+Run is invoked. 

Reimplemented from \hyperlink{classns3_1_1TestCase_a4a7e32ad32a10a508910815cd38e9177}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
224 \{
225   std::stringstream filename;
226   uint32\_t \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} = rand ();
227   filename << \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n};
228   \hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename} = \hyperlink{classns3_1_1TestCase_a8a04695a6fb9ba0f89e28e9523963f88}{CreateTempDirFilename} (filename.str () + \textcolor{stringliteral}{".pcap"});
229 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}!Do\+Teardown@{Do\+Teardown}}
\index{Do\+Teardown@{Do\+Teardown}!Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Teardown(void)}{DoTeardown(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Read\+Mode\+Create\+Test\+Case\+::\+Do\+Teardown (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classReadModeCreateTestCase_ab734bb421701638fe0264099725269e3}{}\label{classReadModeCreateTestCase_ab734bb421701638fe0264099725269e3}


Implementation to do any local setup required for this Test\+Case. 

Subclasses should override this method to perform any costly per-\/test teardown 

Reimplemented from \hyperlink{classns3_1_1TestCase_a8917f1604e28d312a8086f76291e3c46}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
233 \{
234   \textcolor{keywordflow}{if} (\textcolor{keyword}{remove} (\hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename}.c\_str ()))
235     \{
236       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Failed to delete file "} << \hyperlink{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{m\_testFilename});
237     \}
238 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5




\subsection{Member Data Documentation}
\index{Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}!m\+\_\+test\+Filename@{m\+\_\+test\+Filename}}
\index{m\+\_\+test\+Filename@{m\+\_\+test\+Filename}!Read\+Mode\+Create\+Test\+Case@{Read\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+test\+Filename}{m_testFilename}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Read\+Mode\+Create\+Test\+Case\+::m\+\_\+test\+Filename\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}{}\label{classReadModeCreateTestCase_a0a968af3869b8882c86cd593a55667ef}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
network/test/\hyperlink{pcap-file-test-suite_8cc}{pcap-\/file-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
