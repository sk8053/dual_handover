\hypertarget{classns3_1_1YansErrorRateModel}{}\section{ns3\+:\+:Yans\+Error\+Rate\+Model Class Reference}
\label{classns3_1_1YansErrorRateModel}\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}


Model the error rate for different modulations.

A packet of interest (e.\+g., a packet can potentially be received by the M\+AC) is divided into chunks. Each chunk is related to an start/end receiving event. For each chunk, it calculates the ratio (S\+I\+NR) between received power of packet of interest and summation of noise and interfering power of all the other incoming packets. Then, it will calculate the success rate of the chunk based on B\+ER of the modulation. The success reception rate of the packet is derived from the success rate of all chunks.  




{\ttfamily \#include $<$yans-\/error-\/rate-\/model.\+h$>$}



Inheritance diagram for ns3\+:\+:Yans\+Error\+Rate\+Model\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Yans\+Error\+Rate\+Model\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1YansErrorRateModel_a24d2e504e3ef5c24c23dbd224680d7e5}{Yans\+Error\+Rate\+Model} ()
\item 
virtual double \hyperlink{classns3_1_1YansErrorRateModel_a9ee90c83f09b4a0a6d53e4df536beee1}{Get\+Chunk\+Success\+Rate} (\hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} mode, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} tx\+Vector, double \hyperlink{lte__pathloss_8m_ae6e82a215dff6b79fb6e9952a1b78453}{snr}, uint32\+\_\+t nbits) const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1YansErrorRateModel_aeb88d36a5694015fedcecdc13c8e29a6}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classns3_1_1YansErrorRateModel_ab95b088d11aeb697e6a0bd2db7a12c5e}{Log2} (double val) const 
\item 
double \hyperlink{classns3_1_1YansErrorRateModel_ad4c62caef16f98caaa84f732e2f0ce68}{Get\+Bpsk\+Ber} (double \hyperlink{lte__pathloss_8m_ae6e82a215dff6b79fb6e9952a1b78453}{snr}, uint32\+\_\+t signal\+Spread, uint64\+\_\+t phy\+Rate) const 
\item 
double \hyperlink{classns3_1_1YansErrorRateModel_a73c901030ed43248a527379d4227e0b9}{Get\+Qam\+Ber} (double \hyperlink{lte__pathloss_8m_ae6e82a215dff6b79fb6e9952a1b78453}{snr}, unsigned int m, uint32\+\_\+t signal\+Spread, uint64\+\_\+t phy\+Rate) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1YansErrorRateModel_af74773f1476eb157d06c67500bf636c8}{Factorial} (uint32\+\_\+t k) const 
\item 
double \hyperlink{classns3_1_1YansErrorRateModel_a7d43b7444a4af7ad0d56f285ebe06bf5}{Binomial} (uint32\+\_\+t k, double \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p}, uint32\+\_\+t \hyperlink{lte__link__budget__x2__handover__measures_8m_abdb05bc5a064cf642a06c83b3392f148}{n}) const 
\item 
double \hyperlink{classns3_1_1YansErrorRateModel_a602143c06ab2a0a320ad1b01fc8f3fca}{Calculate\+Pd\+Odd} (double \hyperlink{lte__ue__measurements_8m_a8320b665cd9f5639cb929c78d5a41af7}{ber}, unsigned int \hyperlink{lte__pathloss_8m_a1aabac6d068eef6a7bad3fdf50a05cc8}{d}) const 
\item 
double \hyperlink{classns3_1_1YansErrorRateModel_ac83ae34ee93e89d32b42c3c97ff37090}{Calculate\+Pd\+Even} (double \hyperlink{lte__ue__measurements_8m_a8320b665cd9f5639cb929c78d5a41af7}{ber}, unsigned int \hyperlink{lte__pathloss_8m_a1aabac6d068eef6a7bad3fdf50a05cc8}{d}) const 
\item 
double \hyperlink{classns3_1_1YansErrorRateModel_a230a0884925ebbb368053c821116e3ec}{Calculate\+Pd} (double \hyperlink{lte__ue__measurements_8m_a8320b665cd9f5639cb929c78d5a41af7}{ber}, unsigned int \hyperlink{lte__pathloss_8m_a1aabac6d068eef6a7bad3fdf50a05cc8}{d}) const 
\item 
double \hyperlink{classns3_1_1YansErrorRateModel_abaa04063a406c62365d182fbd9eb78ec}{Get\+Fec\+Bpsk\+Ber} (double \hyperlink{lte__pathloss_8m_ae6e82a215dff6b79fb6e9952a1b78453}{snr}, double nbits, uint32\+\_\+t signal\+Spread, uint64\+\_\+t phy\+Rate, uint32\+\_\+t d\+Free, uint32\+\_\+t ad\+Free) const 
\item 
double \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{Get\+Fec\+Qam\+Ber} (double \hyperlink{lte__pathloss_8m_ae6e82a215dff6b79fb6e9952a1b78453}{snr}, uint32\+\_\+t nbits, uint32\+\_\+t signal\+Spread, uint64\+\_\+t phy\+Rate, uint32\+\_\+t m, uint32\+\_\+t dfree, uint32\+\_\+t ad\+Free, uint32\+\_\+t ad\+Free\+Plus\+One) const 
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Model the error rate for different modulations.

A packet of interest (e.\+g., a packet can potentially be received by the M\+AC) is divided into chunks. Each chunk is related to an start/end receiving event. For each chunk, it calculates the ratio (S\+I\+NR) between received power of packet of interest and summation of noise and interfering power of all the other incoming packets. Then, it will calculate the success rate of the chunk based on B\+ER of the modulation. The success reception rate of the packet is derived from the success rate of all chunks. 

The 802.\+11b modulations\+:
\begin{DoxyItemize}
\item 1 Mbps mode is based on D\+B\+P\+SK. B\+ER is from equation 5.\+2-\/69 from John G. Proakis Digitial Communications, 2001 edition
\item 2 Mbps model is based on D\+Q\+P\+SK. Equation 8 from \char`\"{}\+Tight bounds and accurate
     approximations for dqpsk transmission bit error rate\char`\"{}, G. Ferrari and G.\+E. Corazza E\+L\+E\+C\+T\+R\+O\+N\+I\+CS L\+E\+T\+T\+E\+RS, 40(20)\+:1284-\/1285, September 2004
\item 5.\+5 Mbps and 11 Mbps are based on equations (18) and (17) from \char`\"{}\+Properties and
     performance of the ieee 802.\+11b complementarycode-\/key signal sets\char`\"{}, Michael B. Pursley and Thomas C. Royster. I\+E\+EE T\+R\+A\+N\+S\+A\+C\+T\+I\+O\+NS ON C\+O\+M\+M\+U\+N\+I\+C\+A\+T\+I\+O\+NS, 57(2)\+:440-\/449, February 2009.
\item More detailed description and validation can be found in \href{http://www.nsnam.org/~pei/80211b.pdf}{\tt http\+://www.\+nsnam.\+org/$\sim$pei/80211b.\+pdf} 
\end{DoxyItemize}

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Yans\+Error\+Rate\+Model@{Yans\+Error\+Rate\+Model}}
\index{Yans\+Error\+Rate\+Model@{Yans\+Error\+Rate\+Model}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Yans\+Error\+Rate\+Model()}{YansErrorRateModel()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Yans\+Error\+Rate\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1YansErrorRateModel_a24d2e504e3ef5c24c23dbd224680d7e5}{}\label{classns3_1_1YansErrorRateModel_a24d2e504e3ef5c24c23dbd224680d7e5}

\begin{DoxyCode}
44 \{
45 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Binomial@{Binomial}}
\index{Binomial@{Binomial}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Binomial(uint32\+\_\+t k, double p, uint32\+\_\+t n) const }{Binomial(uint32_t k, double p, uint32_t n) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Binomial (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{k, }
\item[{double}]{p, }
\item[{uint32\+\_\+t}]{n}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1YansErrorRateModel_a7d43b7444a4af7ad0d56f285ebe06bf5}{}\label{classns3_1_1YansErrorRateModel_a7d43b7444a4af7ad0d56f285ebe06bf5}
Return Binomial distribution for a given k, p, and n


\begin{DoxyParams}{Parameters}
{\em k} & \\
\hline
{\em p} & \\
\hline
{\em n} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a Binomial distribution 
\end{DoxyReturn}

\begin{DoxyCode}
91 \{
92   \textcolor{keywordtype}{double} retval = \hyperlink{classns3_1_1YansErrorRateModel_af74773f1476eb157d06c67500bf636c8}{Factorial} (\hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}) / (\hyperlink{classns3_1_1YansErrorRateModel_af74773f1476eb157d06c67500bf636c8}{Factorial} (k) * \hyperlink{classns3_1_1YansErrorRateModel_af74773f1476eb157d06c67500bf636c8}{Factorial} (
      \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} - k)) * std::pow (\hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p}, static\_cast<double> (k)) * std::pow (1 - \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p}, static\_cast<double> (
      \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} - k));
93   \textcolor{keywordflow}{return} retval;
94 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Calculate\+Pd@{Calculate\+Pd}}
\index{Calculate\+Pd@{Calculate\+Pd}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Calculate\+Pd(double ber, unsigned int d) const }{CalculatePd(double ber, unsigned int d) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Calculate\+Pd (
\begin{DoxyParamCaption}
\item[{double}]{ber, }
\item[{unsigned int}]{d}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1YansErrorRateModel_a230a0884925ebbb368053c821116e3ec}{}\label{classns3_1_1YansErrorRateModel_a230a0884925ebbb368053c821116e3ec}

\begin{DoxyParams}{Parameters}
{\em ber} & \\
\hline
{\em d} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double 
\end{DoxyReturn}

\begin{DoxyCode}
130 \{
131   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber} << \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d});
132   \textcolor{keywordtype}{double} pd;
133   \textcolor{keywordflow}{if} ((\hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d} % 2) == 0)
134     \{
135       pd = \hyperlink{classns3_1_1YansErrorRateModel_ac83ae34ee93e89d32b42c3c97ff37090}{CalculatePdEven} (\hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber}, \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d});
136     \}
137   \textcolor{keywordflow}{else}
138     \{
139       pd = \hyperlink{classns3_1_1YansErrorRateModel_a602143c06ab2a0a320ad1b01fc8f3fca}{CalculatePdOdd} (\hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber}, \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d});
140     \}
141   \textcolor{keywordflow}{return} pd;
142 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Calculate\+Pd\+Even@{Calculate\+Pd\+Even}}
\index{Calculate\+Pd\+Even@{Calculate\+Pd\+Even}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Calculate\+Pd\+Even(double ber, unsigned int d) const }{CalculatePdEven(double ber, unsigned int d) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Calculate\+Pd\+Even (
\begin{DoxyParamCaption}
\item[{double}]{ber, }
\item[{unsigned int}]{d}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1YansErrorRateModel_ac83ae34ee93e89d32b42c3c97ff37090}{}\label{classns3_1_1YansErrorRateModel_ac83ae34ee93e89d32b42c3c97ff37090}

\begin{DoxyParams}{Parameters}
{\em ber} & \\
\hline
{\em d} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double 
\end{DoxyReturn}

\begin{DoxyCode}
113 \{
114   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} ((\hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d} % 2) == 0);
115   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} dstart = \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d} / 2 + 1;
116   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} dend = \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d};
117   \textcolor{keywordtype}{double} pd = 0;
118 
119   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = dstart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < dend; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
120     \{
121       pd +=  \hyperlink{classns3_1_1YansErrorRateModel_a7d43b7444a4af7ad0d56f285ebe06bf5}{Binomial} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, \hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber}, \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d});
122     \}
123   pd += 0.5 * \hyperlink{classns3_1_1YansErrorRateModel_a7d43b7444a4af7ad0d56f285ebe06bf5}{Binomial} (\hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d} / 2, \hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber}, \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d});
124 
125   \textcolor{keywordflow}{return} pd;
126 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Calculate\+Pd\+Odd@{Calculate\+Pd\+Odd}}
\index{Calculate\+Pd\+Odd@{Calculate\+Pd\+Odd}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Calculate\+Pd\+Odd(double ber, unsigned int d) const }{CalculatePdOdd(double ber, unsigned int d) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Calculate\+Pd\+Odd (
\begin{DoxyParamCaption}
\item[{double}]{ber, }
\item[{unsigned int}]{d}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1YansErrorRateModel_a602143c06ab2a0a320ad1b01fc8f3fca}{}\label{classns3_1_1YansErrorRateModel_a602143c06ab2a0a320ad1b01fc8f3fca}

\begin{DoxyParams}{Parameters}
{\em ber} & \\
\hline
{\em d} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double 
\end{DoxyReturn}

\begin{DoxyCode}
98 \{
99   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} ((\hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d} % 2) == 1);
100   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} dstart = (\hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d} + 1) / 2;
101   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} dend = \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d};
102   \textcolor{keywordtype}{double} pd = 0;
103 
104   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = dstart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < dend; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
105     \{
106       pd += \hyperlink{classns3_1_1YansErrorRateModel_a7d43b7444a4af7ad0d56f285ebe06bf5}{Binomial} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, \hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber}, \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d});
107     \}
108   \textcolor{keywordflow}{return} pd;
109 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Factorial@{Factorial}}
\index{Factorial@{Factorial}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Factorial(uint32\+\_\+t k) const }{Factorial(uint32_t k) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Factorial (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{k}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1YansErrorRateModel_af74773f1476eb157d06c67500bf636c8}{}\label{classns3_1_1YansErrorRateModel_af74773f1476eb157d06c67500bf636c8}
Return k!


\begin{DoxyParams}{Parameters}
{\em k} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
k! 
\end{DoxyReturn}

\begin{DoxyCode}
79 \{
80   uint32\_t fact = 1;
81   \textcolor{keywordflow}{while} (k > 0)
82     \{
83       fact *= k;
84       k--;
85     \}
86   \textcolor{keywordflow}{return} fact;
87 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Get\+Bpsk\+Ber@{Get\+Bpsk\+Ber}}
\index{Get\+Bpsk\+Ber@{Get\+Bpsk\+Ber}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Get\+Bpsk\+Ber(double snr, uint32\+\_\+t signal\+Spread, uint64\+\_\+t phy\+Rate) const }{GetBpskBer(double snr, uint32_t signalSpread, uint64_t phyRate) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Get\+Bpsk\+Ber (
\begin{DoxyParamCaption}
\item[{double}]{snr, }
\item[{uint32\+\_\+t}]{signal\+Spread, }
\item[{uint64\+\_\+t}]{phy\+Rate}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1YansErrorRateModel_ad4c62caef16f98caaa84f732e2f0ce68}{}\label{classns3_1_1YansErrorRateModel_ad4c62caef16f98caaa84f732e2f0ce68}
Return B\+ER of B\+P\+SK with the given parameters.


\begin{DoxyParams}{Parameters}
{\em snr} & S\+NR ratio (not dB) \\
\hline
{\em signal\+Spread} & \\
\hline
{\em phy\+Rate} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+ER of B\+P\+SK at the given S\+NR 
\end{DoxyReturn}

\begin{DoxyCode}
55 \{
56   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr} << signalSpread << phyRate);
57   \textcolor{keywordtype}{double} EbNo = \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr} * signalSpread / phyRate;
58   \textcolor{keywordtype}{double} z = std::sqrt (EbNo);
59   \textcolor{keywordtype}{double} \hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber} = 0.5 * erfc (z);
60   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"bpsk snr="} << \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr} << \textcolor{stringliteral}{" ber="} << ber);
61   \textcolor{keywordflow}{return} \hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber};
62 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Get\+Chunk\+Success\+Rate@{Get\+Chunk\+Success\+Rate}}
\index{Get\+Chunk\+Success\+Rate@{Get\+Chunk\+Success\+Rate}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Get\+Chunk\+Success\+Rate(\+Wifi\+Mode mode, Wifi\+Tx\+Vector tx\+Vector, double snr, uint32\+\_\+t nbits) const }{GetChunkSuccessRate(WifiMode mode, WifiTxVector txVector, double snr, uint32_t nbits) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Get\+Chunk\+Success\+Rate (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Mode}}]{mode, }
\item[{{\bf Wifi\+Tx\+Vector}}]{tx\+Vector, }
\item[{double}]{snr, }
\item[{uint32\+\_\+t}]{nbits}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1YansErrorRateModel_a9ee90c83f09b4a0a6d53e4df536beee1}{}\label{classns3_1_1YansErrorRateModel_a9ee90c83f09b4a0a6d53e4df536beee1}
A pure virtual method that must be implemented in the subclass. This method returns the probability that the given \textquotesingle{}chunk\textquotesingle{} of the packet will be successfully received by the P\+HY.

A chunk can be viewed as a part of a packet with equal S\+NR. The probability of successfully receiving the chunk depends on the mode, the S\+NR, and the size of the chunk.

Note that both a \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} and a \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} (which contains a \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode}) are passed into this method. The \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} may be from a signal that contains multiple modes (e.\+g. P\+L\+CP header sent differently from P\+L\+CP payload). Consequently, the mode parameter is what the method uses to calculate the chunk error rate, and the tx\+Vector is used for other information as needed.


\begin{DoxyParams}{Parameters}
{\em mode} & the Wi-\/\+Fi mode applicable to this chunk \\
\hline
{\em tx\+Vector} & T\+X\+V\+E\+C\+T\+OR of the overall transmission \\
\hline
{\em snr} & the S\+NR of the chunk \\
\hline
{\em nbits} & the number of bits in this chunk\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
probability of successfully receiving the chunk 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1ErrorRateModel_a7cb1aac92893c17de908eaad7c8ef989}{ns3\+::\+Error\+Rate\+Model}.


\begin{DoxyCode}
188 \{
189   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << mode << txVector.GetMode () << \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr} << nbits);
190   \textcolor{keywordflow}{if} (mode.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217afc1f5ef8d2c985f37a3224dd86ab014d}{WIFI\_MOD\_CLASS\_ERP\_OFDM}
191       || mode.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a30a83a0318357c9611f09e6faadc8006}{WIFI\_MOD\_CLASS\_OFDM}
192       || mode.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a6ac45cac36cc4454649435d24ebf349c}{WIFI\_MOD\_CLASS\_HT}
193       || mode.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a9863e4342bf5c238c74dddfc4d96c67e}{WIFI\_MOD\_CLASS\_VHT}
194       || mode.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217abfa4f7272510045a9b43e8ac27ac13b0}{WIFI\_MOD\_CLASS\_HE})
195     \{
196       \textcolor{keywordflow}{if} (mode.GetConstellationSize () == 2)
197         \{
198           \textcolor{keywordflow}{if} (mode.GetCodeRate () == \hyperlink{namespacens3_aeaf3a86fd4bdb7829955238fba43e2ada66dfa017f6a74bcb72cdccfee778e90b}{WIFI\_CODE\_RATE\_1\_2})
199             \{
200               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_abaa04063a406c62365d182fbd9eb78ec}{GetFecBpskBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
201                                     nbits,
202                                     txVector.GetChannelWidth () * 1000000, \textcolor{comment}{//signal spread}
203                                     mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
204                                     10, \textcolor{comment}{//dFree}
205                                     11); \textcolor{comment}{//adFree}
206             \}
207           \textcolor{keywordflow}{else}
208             \{
209               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_abaa04063a406c62365d182fbd9eb78ec}{GetFecBpskBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
210                                     nbits,
211                                     txVector.GetChannelWidth () * 1000000, \textcolor{comment}{//signal spread}
212                                     mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
213                                     5, \textcolor{comment}{//dFree}
214                                     8); \textcolor{comment}{//adFree}
215             \}
216         \}
217       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode.GetConstellationSize () == 4)
218         \{
219           \textcolor{keywordflow}{if} (mode.GetCodeRate () == \hyperlink{namespacens3_aeaf3a86fd4bdb7829955238fba43e2ada66dfa017f6a74bcb72cdccfee778e90b}{WIFI\_CODE\_RATE\_1\_2})
220             \{
221               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
222                                    nbits,
223                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{//signal spread}
224                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
225                                    4, \textcolor{comment}{//m}
226                                    10, \textcolor{comment}{//dFree}
227                                    11, \textcolor{comment}{//adFree}
228                                    0); \textcolor{comment}{//adFreePlusOne}
229             \}
230           \textcolor{keywordflow}{else}
231             \{
232               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
233                                    nbits,
234                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{//signal spread}
235                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
236                                    4, \textcolor{comment}{//m}
237                                    5, \textcolor{comment}{//dFree}
238                                    8, \textcolor{comment}{//adFree}
239                                    31); \textcolor{comment}{//adFreePlusOne}
240             \}
241         \}
242       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode.GetConstellationSize () == 16)
243         \{
244           \textcolor{keywordflow}{if} (mode.GetCodeRate () == \hyperlink{namespacens3_aeaf3a86fd4bdb7829955238fba43e2ada66dfa017f6a74bcb72cdccfee778e90b}{WIFI\_CODE\_RATE\_1\_2})
245             \{
246               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
247                                    nbits,
248                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{//signal spread}
249                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
250                                    16, \textcolor{comment}{//m}
251                                    10, \textcolor{comment}{//dFree}
252                                    11, \textcolor{comment}{//adFree}
253                                    0); \textcolor{comment}{//adFreePlusOne}
254             \}
255           \textcolor{keywordflow}{else}
256             \{
257               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
258                                    nbits,
259                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{//signal spread}
260                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
261                                    16, \textcolor{comment}{//m}
262                                    5, \textcolor{comment}{//dFree}
263                                    8, \textcolor{comment}{//adFree}
264                                    31); \textcolor{comment}{//adFreePlusOne}
265             \}
266         \}
267       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode.GetConstellationSize () == 64)
268         \{
269           \textcolor{keywordflow}{if} (mode.GetCodeRate () == \hyperlink{namespacens3_aeaf3a86fd4bdb7829955238fba43e2ada161e88df840a9d1ed66f6f8edd0d6415}{WIFI\_CODE\_RATE\_2\_3})
270             \{
271               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
272                                    nbits,
273                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{//signal spread}
274                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
275                                    64, \textcolor{comment}{//m}
276                                    6, \textcolor{comment}{//dFree}
277                                    1, \textcolor{comment}{//adFree}
278                                    16); \textcolor{comment}{//adFreePlusOne}
279             \}
280           \textcolor{keywordflow}{if} (mode.GetCodeRate () == \hyperlink{namespacens3_aeaf3a86fd4bdb7829955238fba43e2adaf0309d61b4cf97e5718f6d3b9fdba3aa}{WIFI\_CODE\_RATE\_5\_6})
281             \{
282               \textcolor{comment}{//Table B.32  in PÃ¢l Frenger et al., "Multi-rate Convolutional Codes".}
283               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
284                                    nbits,
285                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{//signal spread}
286                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
287                                    64, \textcolor{comment}{//m}
288                                    4, \textcolor{comment}{//dFree}
289                                    14, \textcolor{comment}{//adFree}
290                                    69); \textcolor{comment}{//adFreePlusOne}
291             \}
292           \textcolor{keywordflow}{else}
293             \{
294               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
295                                    nbits,
296                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{//signal spread}
297                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
298                                    64, \textcolor{comment}{//m}
299                                    5, \textcolor{comment}{//dFree}
300                                    8, \textcolor{comment}{//adFree}
301                                    31); \textcolor{comment}{//adFreePlusOne}
302             \}
303         \}
304       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode.GetConstellationSize () == 256)
305         \{
306           \textcolor{keywordflow}{if} (mode.GetCodeRate () == \hyperlink{namespacens3_aeaf3a86fd4bdb7829955238fba43e2adaf0309d61b4cf97e5718f6d3b9fdba3aa}{WIFI\_CODE\_RATE\_5\_6})
307             \{
308               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
309                                    nbits,
310                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{// signal spread}
311                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
312                                    256, \textcolor{comment}{// m}
313                                    4,  \textcolor{comment}{// dFree}
314                                    14,  \textcolor{comment}{// adFree}
315                                    69  \textcolor{comment}{// adFreePlusOne}
316                                    );
317             \}
318           \textcolor{keywordflow}{else}
319             \{
320               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
321                                    nbits,
322                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{// signal spread}
323                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
324                                    256, \textcolor{comment}{// m}
325                                    5,  \textcolor{comment}{// dFree}
326                                    8,  \textcolor{comment}{// adFree}
327                                    31  \textcolor{comment}{// adFreePlusOne}
328                                    );
329             \}
330         \}
331       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode.GetConstellationSize () == 1024)
332         \{
333           \textcolor{keywordflow}{if} (mode.GetCodeRate () == \hyperlink{namespacens3_aeaf3a86fd4bdb7829955238fba43e2adaf0309d61b4cf97e5718f6d3b9fdba3aa}{WIFI\_CODE\_RATE\_5\_6})
334             \{
335               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
336                                    nbits,
337                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{// signal spread}
338                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
339                                    1024, \textcolor{comment}{// m}
340                                    4,  \textcolor{comment}{// dFree}
341                                    14,  \textcolor{comment}{// adFree}
342                                    69  \textcolor{comment}{// adFreePlusOne}
343                                    );
344             \}
345           \textcolor{keywordflow}{else}
346             \{
347               \textcolor{keywordflow}{return} \hyperlink{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{GetFecQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr},
348                                    nbits,
349                                    txVector.GetChannelWidth () * 1000000, \textcolor{comment}{// signal spread}
350                                    mode.GetPhyRate (txVector), \textcolor{comment}{//phy rate}
351                                    1024, \textcolor{comment}{// m}
352                                    5,  \textcolor{comment}{// dFree}
353                                    8,  \textcolor{comment}{// adFree}
354                                    31  \textcolor{comment}{// adFreePlusOne}
355                                    );
356             \}
357         \}
358     \}
359   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mode.GetModulationClass () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217aed8070e1ee089724d73fe63030cc112c}{WIFI\_MOD\_CLASS\_DSSS} || mode.GetModulationClass 
      () == \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a3c847bbae970f2de31e7b4eb7ff49840}{WIFI\_MOD\_CLASS\_HR\_DSSS})
360     \{
361       \textcolor{keywordflow}{switch} (mode.GetDataRate (20))
362         \{
363         \textcolor{keywordflow}{case} 1000000:
364           \textcolor{keywordflow}{return} \hyperlink{classns3_1_1DsssErrorRateModel_a3c17f87b4f4c5f8adf8570c96f437fd5}{DsssErrorRateModel::GetDsssDbpskSuccessRate} (
      \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr}, nbits);
365         \textcolor{keywordflow}{case} 2000000:
366           \textcolor{keywordflow}{return} \hyperlink{classns3_1_1DsssErrorRateModel_a40ce71636bd41030cfff29ccea38c588}{DsssErrorRateModel::GetDsssDqpskSuccessRate} (
      \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr}, nbits);
367         \textcolor{keywordflow}{case} 5500000:
368           \textcolor{keywordflow}{return} \hyperlink{classns3_1_1DsssErrorRateModel_a1ec2c9a616b90b2b72871ea48d7d6fb8}{DsssErrorRateModel::GetDsssDqpskCck5\_5SuccessRate}
       (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr}, nbits);
369         \textcolor{keywordflow}{case} 11000000:
370           \textcolor{keywordflow}{return} \hyperlink{classns3_1_1DsssErrorRateModel_acce1c4e4eb5b4df017a302b66ec230be}{DsssErrorRateModel::GetDsssDqpskCck11SuccessRate}
       (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr}, nbits);
371         \textcolor{keywordflow}{default}:
372           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\textcolor{stringliteral}{"undefined DSSS/HR-DSSS datarate"});
373         \}
374     \}
375   \textcolor{keywordflow}{return} 0;
376 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Get\+Fec\+Bpsk\+Ber@{Get\+Fec\+Bpsk\+Ber}}
\index{Get\+Fec\+Bpsk\+Ber@{Get\+Fec\+Bpsk\+Ber}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Get\+Fec\+Bpsk\+Ber(double snr, double nbits, uint32\+\_\+t signal\+Spread, uint64\+\_\+t phy\+Rate, uint32\+\_\+t d\+Free, uint32\+\_\+t ad\+Free) const }{GetFecBpskBer(double snr, double nbits, uint32_t signalSpread, uint64_t phyRate, uint32_t dFree, uint32_t adFree) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Get\+Fec\+Bpsk\+Ber (
\begin{DoxyParamCaption}
\item[{double}]{snr, }
\item[{double}]{nbits, }
\item[{uint32\+\_\+t}]{signal\+Spread, }
\item[{uint64\+\_\+t}]{phy\+Rate, }
\item[{uint32\+\_\+t}]{d\+Free, }
\item[{uint32\+\_\+t}]{ad\+Free}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1YansErrorRateModel_abaa04063a406c62365d182fbd9eb78ec}{}\label{classns3_1_1YansErrorRateModel_abaa04063a406c62365d182fbd9eb78ec}

\begin{DoxyParams}{Parameters}
{\em snr} & S\+NR ratio (not dB) \\
\hline
{\em nbits} & \\
\hline
{\em signal\+Spread} & \\
\hline
{\em phy\+Rate} & \\
\hline
{\em d\+Free} & \\
\hline
{\em ad\+Free} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double 
\end{DoxyReturn}

\begin{DoxyCode}
148 \{
149   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr} << nbits << signalSpread << phyRate << dFree << adFree);
150   \textcolor{keywordtype}{double} \hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber} = \hyperlink{classns3_1_1YansErrorRateModel_ad4c62caef16f98caaa84f732e2f0ce68}{GetBpskBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr}, signalSpread, phyRate);
151   \textcolor{keywordflow}{if} (ber == 0.0)
152     \{
153       \textcolor{keywordflow}{return} 1.0;
154     \}
155   \textcolor{keywordtype}{double} pd = \hyperlink{classns3_1_1YansErrorRateModel_a230a0884925ebbb368053c821116e3ec}{CalculatePd} (ber, dFree);
156   \textcolor{keywordtype}{double} pmu = adFree * pd;
157   pmu = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (pmu, 1.0);
158   \textcolor{keywordtype}{double} pms = std::pow (1 - pmu, nbits);
159   \textcolor{keywordflow}{return} pms;
160 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Get\+Fec\+Qam\+Ber@{Get\+Fec\+Qam\+Ber}}
\index{Get\+Fec\+Qam\+Ber@{Get\+Fec\+Qam\+Ber}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Get\+Fec\+Qam\+Ber(double snr, uint32\+\_\+t nbits, uint32\+\_\+t signal\+Spread, uint64\+\_\+t phy\+Rate, uint32\+\_\+t m, uint32\+\_\+t dfree, uint32\+\_\+t ad\+Free, uint32\+\_\+t ad\+Free\+Plus\+One) const }{GetFecQamBer(double snr, uint32_t nbits, uint32_t signalSpread, uint64_t phyRate, uint32_t m, uint32_t dfree, uint32_t adFree, uint32_t adFreePlusOne) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Get\+Fec\+Qam\+Ber (
\begin{DoxyParamCaption}
\item[{double}]{snr, }
\item[{uint32\+\_\+t}]{nbits, }
\item[{uint32\+\_\+t}]{signal\+Spread, }
\item[{uint64\+\_\+t}]{phy\+Rate, }
\item[{uint32\+\_\+t}]{m, }
\item[{uint32\+\_\+t}]{dfree, }
\item[{uint32\+\_\+t}]{ad\+Free, }
\item[{uint32\+\_\+t}]{ad\+Free\+Plus\+One}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}{}\label{classns3_1_1YansErrorRateModel_a456a5ba3fc8c6a9fe67ed25971364ff0}

\begin{DoxyParams}{Parameters}
{\em snr} & S\+NR ratio (not dB) \\
\hline
{\em nbits} & \\
\hline
{\em signal\+Spread} & \\
\hline
{\em phy\+Rate} & \\
\hline
{\em m} & \\
\hline
{\em dfree} & \\
\hline
{\em ad\+Free} & \\
\hline
{\em ad\+Free\+Plus\+One} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double 
\end{DoxyReturn}

\begin{DoxyCode}
168 \{
169   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr} << nbits << signalSpread << phyRate << m << dFree << 
      adFree << adFreePlusOne);
170   \textcolor{keywordtype}{double} \hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber} = \hyperlink{classns3_1_1YansErrorRateModel_a73c901030ed43248a527379d4227e0b9}{GetQamBer} (\hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr}, m, signalSpread, phyRate);
171   \textcolor{keywordflow}{if} (ber == 0.0)
172     \{
173       \textcolor{keywordflow}{return} 1.0;
174     \}
175   \textcolor{comment}{/* first term */}
176   \textcolor{keywordtype}{double} pd = \hyperlink{classns3_1_1YansErrorRateModel_a230a0884925ebbb368053c821116e3ec}{CalculatePd} (ber, dFree);
177   \textcolor{keywordtype}{double} pmu = adFree * pd;
178   \textcolor{comment}{/* second term */}
179   pd = \hyperlink{classns3_1_1YansErrorRateModel_a230a0884925ebbb368053c821116e3ec}{CalculatePd} (ber, dFree + 1);
180   pmu += adFreePlusOne * pd;
181   pmu = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (pmu, 1.0);
182   \textcolor{keywordtype}{double} pms = std::pow (1 - pmu, static\_cast<double> (nbits));
183   \textcolor{keywordflow}{return} pms;
184 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Get\+Qam\+Ber@{Get\+Qam\+Ber}}
\index{Get\+Qam\+Ber@{Get\+Qam\+Ber}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Get\+Qam\+Ber(double snr, unsigned int m, uint32\+\_\+t signal\+Spread, uint64\+\_\+t phy\+Rate) const }{GetQamBer(double snr, unsigned int m, uint32_t signalSpread, uint64_t phyRate) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Get\+Qam\+Ber (
\begin{DoxyParamCaption}
\item[{double}]{snr, }
\item[{unsigned int}]{m, }
\item[{uint32\+\_\+t}]{signal\+Spread, }
\item[{uint64\+\_\+t}]{phy\+Rate}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1YansErrorRateModel_a73c901030ed43248a527379d4227e0b9}{}\label{classns3_1_1YansErrorRateModel_a73c901030ed43248a527379d4227e0b9}
Return B\+ER of Q\+A\+M-\/m with the given parameters.


\begin{DoxyParams}{Parameters}
{\em snr} & S\+NR ratio (not dB) \\
\hline
{\em m} & \\
\hline
{\em signal\+Spread} & \\
\hline
{\em phy\+Rate} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+ER of B\+P\+SK at the given S\+NR 
\end{DoxyReturn}

\begin{DoxyCode}
66 \{
67   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr} << m << signalSpread << phyRate);
68   \textcolor{keywordtype}{double} EbNo = \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr} * signalSpread / phyRate;
69   \textcolor{keywordtype}{double} z = std::sqrt ((1.5 * \hyperlink{classns3_1_1YansErrorRateModel_ab95b088d11aeb697e6a0bd2db7a12c5e}{Log2} (m) * EbNo) / (m - 1.0));
70   \textcolor{keywordtype}{double} z1 = ((1.0 - 1.0 / std::sqrt (m)) * erfc (z));
71   \textcolor{keywordtype}{double} z2 = 1 - std::pow ((1 - z1), 2);
72   \textcolor{keywordtype}{double} \hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber} = z2 / \hyperlink{classns3_1_1YansErrorRateModel_ab95b088d11aeb697e6a0bd2db7a12c5e}{Log2} (m);
73   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Qam m="} << m << \textcolor{stringliteral}{" rate="} << phyRate << \textcolor{stringliteral}{" snr="} << \hyperlink{lte__amc_8m_a7543c5e4e80c828b652e0c63e4a6de70}{snr} << \textcolor{stringliteral}{" ber="} << ber);
74   \textcolor{keywordflow}{return} \hyperlink{lte__cqi__generation_8m_a197619a3539acfc577325d6e41b6ce95}{ber};
75 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1YansErrorRateModel_aeb88d36a5694015fedcecdc13c8e29a6}{}\label{classns3_1_1YansErrorRateModel_aeb88d36a5694015fedcecdc13c8e29a6}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
34 \{
35   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::YansErrorRateModel"})
36     .SetParent<ErrorRateModel> ()
37     .SetGroupName (\textcolor{stringliteral}{"Wifi"})
38     .AddConstructor<\hyperlink{classns3_1_1YansErrorRateModel_a24d2e504e3ef5c24c23dbd224680d7e5}{YansErrorRateModel}> ()
39   ;
40   \textcolor{keywordflow}{return} tid;
41 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19


\index{ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}!Log2@{Log2}}
\index{Log2@{Log2}!ns3\+::\+Yans\+Error\+Rate\+Model@{ns3\+::\+Yans\+Error\+Rate\+Model}}
\subsubsection[{\texorpdfstring{Log2(double val) const }{Log2(double val) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Yans\+Error\+Rate\+Model\+::\+Log2 (
\begin{DoxyParamCaption}
\item[{double}]{val}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1YansErrorRateModel_ab95b088d11aeb697e6a0bd2db7a12c5e}{}\label{classns3_1_1YansErrorRateModel_ab95b088d11aeb697e6a0bd2db7a12c5e}
Return the logarithm of the given value to base 2.


\begin{DoxyParams}{Parameters}
{\em val} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the logarithm of val to base 2. 
\end{DoxyReturn}

\begin{DoxyCode}
49 \{
50   \textcolor{keywordflow}{return} std::log (val) / std::log (2.0);
51 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 20




The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wifi/model/\hyperlink{yans-error-rate-model_8h}{yans-\/error-\/rate-\/model.\+h}\item 
wifi/model/\hyperlink{yans-error-rate-model_8cc}{yans-\/error-\/rate-\/model.\+cc}\end{DoxyCompactItemize}
