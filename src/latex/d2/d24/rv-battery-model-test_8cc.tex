\hypertarget{rv-battery-model-test_8cc}{}\section{energy/examples/rv-\/battery-\/model-\/test.cc File Reference}
\label{rv-battery-model-test_8cc}\index{energy/examples/rv-\/battery-\/model-\/test.\+cc@{energy/examples/rv-\/battery-\/model-\/test.\+cc}}
{\ttfamily \#include \char`\"{}ns3/rv-\/battery-\/model.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/wifi-\/radio-\/energy-\/model.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/rv-\/battery-\/model-\/helper.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/wifi-\/radio-\/energy-\/model-\/helper.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/energy-\/source-\/container.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/device-\/energy-\/model-\/container.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/log.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/node.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/simulator.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/double.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/command-\/line.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/string.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/yans-\/wifi-\/helper.\+h\char`\"{}}\\*
{\ttfamily \#include $<$cmath$>$}\\*
Include dependency graph for rv-\/battery-\/model-\/test.cc\+:
% FIG 0
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classBatteryLifetimeTest}{Battery\+Lifetime\+Test}
\item 
struct \hyperlink{structBatteryLifetimeTest_1_1LoadProfile}{Battery\+Lifetime\+Test\+::\+Load\+Profile}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{rv-battery-model-test_8cc_a12f52dd883c134fa90e845a442b36fe6}{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE} (\char`\"{}Rv\+Battery\+Model\+Test\+Suite\char`\"{})
\item 
int \hyperlink{rv-battery-model-test_8cc_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{rv-\/battery-\/model-\/test.\+cc@{rv-\/battery-\/model-\/test.\+cc}!main@{main}}
\index{main@{main}!rv-\/battery-\/model-\/test.\+cc@{rv-\/battery-\/model-\/test.\+cc}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$$\ast$argv)}{main(int argc, char **argv)}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}\hypertarget{rv-battery-model-test_8cc_a3c04138a5bfe5d72780bb7e82a18e627}{}\label{rv-battery-model-test_8cc_a3c04138a5bfe5d72780bb7e82a18e627}

\begin{DoxyCode}
639 \{
640   \hyperlink{classns3_1_1CommandLine}{CommandLine} cmd;
641   cmd.\hyperlink{classns3_1_1CommandLine_a5c10b85b3207e5ecb48d907966923156}{Parse} (argc, argv);
642   
643   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Constant load run."});
644 
645   \hyperlink{classBatteryLifetimeTest}{BatteryLifetimeTest} \hyperlink{main-test-sync_8cc_a708a4c1a4d0c4acc4c447310dd4db27f}{test};
646   \textcolor{keywordtype}{int} ret = 0;
647 
648   \textcolor{keywordflow}{if} (test.\hyperlink{classBatteryLifetimeTest_a5cfb6c588872035454feb525491b1d52}{ConstantLoadTest} (0.640, \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2844.0)))
649     \{
650       ret = 1;
651       std::cerr << \textcolor{stringliteral}{"Problems with constant load test (640mA)."} << std::endl;
652     \}
653   \textcolor{keywordflow}{if} (test.\hyperlink{classBatteryLifetimeTest_a5cfb6c588872035454feb525491b1d52}{ConstantLoadTest} (0.320, \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (6146.0)))
654     \{
655       ret = 1;
656       std::cerr << \textcolor{stringliteral}{"Problems with constant load test (320mA)."} << std::endl;
657     \}
658   \textcolor{keywordflow}{if} (test.\hyperlink{classBatteryLifetimeTest_a5cfb6c588872035454feb525491b1d52}{ConstantLoadTest} (0.128, \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (16052.0)))
659     \{
660       ret = 1;
661       std::cerr << \textcolor{stringliteral}{"Problems with constant load test (128mA)."} << std::endl;
662     \}
663   \textcolor{keywordflow}{if} (test.\hyperlink{classBatteryLifetimeTest_a5cfb6c588872035454feb525491b1d52}{ConstantLoadTest} (0.064, \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (32561.0)))
664     \{
665       ret = 1;
666       std::cerr << \textcolor{stringliteral}{"Problems with constant load test (64mA)."} << std::endl;
667     \}
668   \textcolor{keywordflow}{if} (test.\hyperlink{classBatteryLifetimeTest_a5cfb6c588872035454feb525491b1d52}{ConstantLoadTest} (0.032, \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (65580.0)))
669     \{
670       ret = 1;
671       std::cerr << \textcolor{stringliteral}{"Problems with constant load test (32mA)."} << std::endl;
672     \}
673 
674   \textcolor{comment}{// create load profiles for variable load test}
675   test.\hyperlink{classBatteryLifetimeTest_a5987a9b8efd2a8e594f52d2b8ba6af63}{CreateLoadProfiles} ();
676 
677   \textcolor{comment}{// variable load with Itsy battery}
678   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)nItsy"});
679   test.\hyperlink{classBatteryLifetimeTest_ab0ea71a3ce518e4876ee4a0efe8a967c}{m\_alpha} = 35220;
680   test.\hyperlink{classBatteryLifetimeTest_a7e071f34e550450909e80907d59923c8}{m\_beta} = 0.637;
681   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < test.\hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
682     \{
683       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"========"});
684       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Variable load profile C"} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} + 1);
685       \textcolor{keywordflow}{if} (test.\hyperlink{classBatteryLifetimeTest_aa6d0fb55387831f97d9834c47abfd669}{VariableLoadTest} (test.\hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}[
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].loads,
686                                  test.\hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].timeStamps,
687                                  test.\hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].itsyLifetime))
688         \{
689           ret = 1;
690           std::cerr << \textcolor{stringliteral}{"Problems with variable load test (Itsy)."} << std::endl;
691         \}
692     \}
693 
694   \textcolor{comment}{// variable load with DUALFOIL battery}
695   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)nDUALFOIL"});
696   test.\hyperlink{classBatteryLifetimeTest_ab0ea71a3ce518e4876ee4a0efe8a967c}{m\_alpha} = 40027;
697   test.\hyperlink{classBatteryLifetimeTest_a7e071f34e550450909e80907d59923c8}{m\_beta} = 0.276;
698   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < test.\hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
699     \{
700       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"========"});
701       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Variable load profile C"} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} + 1);
702       \textcolor{keywordflow}{if} (test.\hyperlink{classBatteryLifetimeTest_aa6d0fb55387831f97d9834c47abfd669}{VariableLoadTest} (test.\hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}[
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].loads,
703                                  test.\hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].timeStamps,
704                                  test.\hyperlink{classBatteryLifetimeTest_aee9ad324da18f58ee75689778580c3fb}{m\_loadProfiles}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].dualFoilLifeTime))
705         \{
706           ret = 1;
707           std::cerr << \textcolor{stringliteral}{"Problems with variable load test (DUALFOIL)."} << std::endl;
708         \}
709     \}
710 
711   \textcolor{keywordflow}{return} ret;
712 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1


\index{rv-\/battery-\/model-\/test.\+cc@{rv-\/battery-\/model-\/test.\+cc}!N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE@{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE}}
\index{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE@{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE}!rv-\/battery-\/model-\/test.\+cc@{rv-\/battery-\/model-\/test.\+cc}}
\subsubsection[{\texorpdfstring{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+N\+E(""Rv\+Battery\+Model\+Test\+Suite"")}{NS_LOG_COMPONENT_DEFINE("RvBatteryModelTestSuite")}}]{\setlength{\rightskip}{0pt plus 5cm}N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE (
\begin{DoxyParamCaption}
\item[{\char`\"{}Rv\+Battery\+Model\+Test\+Suite\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{rv-battery-model-test_8cc_a12f52dd883c134fa90e845a442b36fe6}{}\label{rv-battery-model-test_8cc_a12f52dd883c134fa90e845a442b36fe6}
