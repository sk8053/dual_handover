\hypertarget{classHwmpReactiveRegressionTest}{}\section{Hwmp\+Reactive\+Regression\+Test Class Reference}
\label{classHwmpReactiveRegressionTest}\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}


test for multihop path establishing and path error procedures Initiate scenario with 6 stations. Procedure of opening peer link is the following\+: (P\+MP routines are not shown)  




{\ttfamily \#include $<$hwmp-\/reactive-\/regression.\+h$>$}



Inheritance diagram for Hwmp\+Reactive\+Regression\+Test\+:
% FIG 0


Collaboration diagram for Hwmp\+Reactive\+Regression\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classHwmpReactiveRegressionTest_a93d39fda21d21618abfe37f860fafdee}{Hwmp\+Reactive\+Regression\+Test} ()
\item 
virtual \hyperlink{classHwmpReactiveRegressionTest_aa605ef251fbc85ca4149a69c162e38b6}{$\sim$\+Hwmp\+Reactive\+Regression\+Test} ()
\item 
virtual void \hyperlink{classHwmpReactiveRegressionTest_ae66a095a74ef4e2cbdfc0d042b50e63c}{Do\+Run} ()
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classHwmpReactiveRegressionTest_ac569040c1302832cf8ffb128b5909007}{Check\+Results} ()
\begin{DoxyCompactList}\small\item\em Check results function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classHwmpReactiveRegressionTest_a8fc99893263e4df5158da499f1209832}{Create\+Nodes} ()
\begin{DoxyCompactList}\small\item\em Create nodes function. \end{DoxyCompactList}\item 
void \hyperlink{classHwmpReactiveRegressionTest_a8b288a6801baae1e65f87de7eb0352a4}{Create\+Devices} ()
\begin{DoxyCompactList}\small\item\em Create devices function. \end{DoxyCompactList}\item 
void \hyperlink{classHwmpReactiveRegressionTest_aff40d00524e84993b9cd2f391ae33a55}{Install\+Applications} ()
\begin{DoxyCompactList}\small\item\em Install application function. \end{DoxyCompactList}\item 
void \hyperlink{classHwmpReactiveRegressionTest_a4e90c3bf3be7eaf73a9b84d26d6ec0f3}{Reset\+Position} ()
\begin{DoxyCompactList}\small\item\em Reset position function. \end{DoxyCompactList}\item 
void \hyperlink{classHwmpReactiveRegressionTest_a592ecd22aea39386c4182533b83f1f10}{Send\+Data} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\item 
void \hyperlink{classHwmpReactiveRegressionTest_acc897ea0f9f7e19e7036f74b3c2b808b}{Handle\+Read\+Server} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Handle a packet reception. \end{DoxyCompactList}\item 
void \hyperlink{classHwmpReactiveRegressionTest_af57f8aa49c77c1fa32e52fe8de6cc42b}{Handle\+Read\+Client} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Handle a packet reception. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1NodeContainer}{Node\+Container} $\ast$ \hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\+\_\+nodes}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classHwmpReactiveRegressionTest_af41a55e333aa6f51562e7042c82e83e2}{m\+\_\+time}
\begin{DoxyCompactList}\small\item\em Simulation time. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4\+Interface\+Container} \hyperlink{classHwmpReactiveRegressionTest_a8d43f20efd8f6a067bc50207be614b68}{m\+\_\+interfaces}
\begin{DoxyCompactList}\small\item\em interfaces \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ \hyperlink{classHwmpReactiveRegressionTest_afe23c3cdf2f9507dc98d05d4879bdce8}{m\+\_\+server\+Socket}
\begin{DoxyCompactList}\small\item\em Server-\/side socket. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ \hyperlink{classHwmpReactiveRegressionTest_acc7bfddc3a6947c7a9ae28c15f3fecb5}{m\+\_\+client\+Socket}
\begin{DoxyCompactList}\small\item\em Client-\/side socket. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classHwmpReactiveRegressionTest_aee0fdd7ae170bf11602e468997bdd589}{m\+\_\+sent\+Pkts\+Counter}
\begin{DoxyCompactList}\small\item\em sent packets counter \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
test for multihop path establishing and path error procedures Initiate scenario with 6 stations. Procedure of opening peer link is the following\+: (P\+MP routines are not shown) 

\begin{DoxyVerb}*      1    2    3    4    5    6
*      |    |    |    |    |<---|--->  ARP request (first attempt has failed!)
*      |....|....|....|....|....|      ARP request
*      |<---|--->|    |    |    |      ARP request
*  <---|--->|    |    |    |    |      PREQ       } This order is broken
*  <---|--->|    |    |    |    |      ARP request} due to BroadcastDca 
*      |<---|--->|    |    |    |      PREQ
*      |....|....|....|....|....|      ARP request
*      |    |    |    |<---|--->|      PREQ
*      |    |    |    |    |<---|      PREP
*      |....|....|....|....|....|      PREP 
*      |<---|    |    |    |    |      PREP
*      |--->|    |    |    |    |      ARP response
*      |....|....|....|....|....|      ARP response
*      |    |    |    |    |--->|      ARP response
*      |    |    |    |    |<---|      Data
*      |....|....|....|....|....|      Data
*      |<---|    |    |    |    |      Data
*  <---|--->|    |    |    |    |      ARP request
*      |....|....|....|....|....|      ARP request
*      |    |    |    |    |<---|--->  ARP request
*      |    |    |    |    |<---|      ARP response
*      |....|....|....|....|....|      ARP response
*      |<---|    |    |    |    |      ARP response
*      |--->|    |    |    |    |      Data
* At 5 station number 4 disappears, and PERR is forwarded from 3 to 1
* and from 5 to 6, and station 6 starts path discovery procedure
* again:
*      |    |<---|         |--->|      PERR (one due to beacon loss and one due to TX error)
*      |<---|    |         |    |      PERR
*      |    |    |         |<---|--->  PREQ
*      |    |    |     <---|--->|      PREQ
*      |....|....|.........|....|      Repeated attempts of PREQ
* \end{DoxyVerb}
 

\subsection{Constructor \& Destructor Documentation}
\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Hwmp\+Reactive\+Regression\+Test()}{HwmpReactiveRegressionTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Hwmp\+Reactive\+Regression\+Test\+::\+Hwmp\+Reactive\+Regression\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classHwmpReactiveRegressionTest_a93d39fda21d21618abfe37f860fafdee}{}\label{classHwmpReactiveRegressionTest_a93d39fda21d21618abfe37f860fafdee}

\begin{DoxyCode}
42                                                         : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"HWMP on-demand regression test
      "}),
43                                                             \hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes} (0),
44                                                             \hyperlink{classHwmpReactiveRegressionTest_af41a55e333aa6f51562e7042c82e83e2}{m\_time} (
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10)),
45                                                             \hyperlink{classHwmpReactiveRegressionTest_aee0fdd7ae170bf11602e468997bdd589}{m\_sentPktsCounter} (0)
46 \{
47 \}
\end{DoxyCode}
\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!````~Hwmp\+Reactive\+Regression\+Test@{$\sim$\+Hwmp\+Reactive\+Regression\+Test}}
\index{````~Hwmp\+Reactive\+Regression\+Test@{$\sim$\+Hwmp\+Reactive\+Regression\+Test}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{$\sim$\+Hwmp\+Reactive\+Regression\+Test()}{~HwmpReactiveRegressionTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Hwmp\+Reactive\+Regression\+Test\+::$\sim$\+Hwmp\+Reactive\+Regression\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classHwmpReactiveRegressionTest_aa605ef251fbc85ca4149a69c162e38b6}{}\label{classHwmpReactiveRegressionTest_aa605ef251fbc85ca4149a69c162e38b6}

\begin{DoxyCode}
49 \{
50   \textcolor{keyword}{delete} \hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes};
51 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Check\+Results@{Check\+Results}}
\index{Check\+Results@{Check\+Results}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Check\+Results()}{CheckResults()}}]{\setlength{\rightskip}{0pt plus 5cm}void Hwmp\+Reactive\+Regression\+Test\+::\+Check\+Results (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classHwmpReactiveRegressionTest_ac569040c1302832cf8ffb128b5909007}{}\label{classHwmpReactiveRegressionTest_ac569040c1302832cf8ffb128b5909007}


Check results function. 


\begin{DoxyCode}
145 \{
146   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 6; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
147     \{
148       \hyperlink{pcap-test_8h_a38f2c17a62d8613f78ec2dd7b638d329}{NS\_PCAP\_TEST\_EXPECT\_EQ} (\hyperlink{hwmp-reactive-regression_8cc_a61dc66981fa47bfd0066a57a487c599c}{PREFIX} << \textcolor{stringliteral}{"-"} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{"-1.pcap"});
149     \}
150 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Create\+Devices@{Create\+Devices}}
\index{Create\+Devices@{Create\+Devices}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Create\+Devices()}{CreateDevices()}}]{\setlength{\rightskip}{0pt plus 5cm}void Hwmp\+Reactive\+Regression\+Test\+::\+Create\+Devices (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_a8b288a6801baae1e65f87de7eb0352a4}{}\label{classHwmpReactiveRegressionTest_a8b288a6801baae1e65f87de7eb0352a4}


Create devices function. 


\begin{DoxyCode}
108 \{
109   int64\_t streamsUsed = 0;
110   \textcolor{comment}{// 1. setup WiFi}
111   \hyperlink{classns3_1_1YansWifiPhyHelper}{YansWifiPhyHelper} wifiPhy = YansWifiPhyHelper::Default ();
112   \textcolor{comment}{// This test suite output was originally based on YansErrorRateModel}
113   wifiPhy.\hyperlink{classns3_1_1WifiPhyHelper_a219d3ae5881842aa42ea341b985ce114}{SetErrorRateModel} (\textcolor{stringliteral}{"ns3::YansErrorRateModel"});
114   \hyperlink{classns3_1_1YansWifiChannelHelper}{YansWifiChannelHelper} wifiChannel = YansWifiChannelHelper::Default ();
115   \hyperlink{classns3_1_1Ptr}{Ptr<YansWifiChannel>} chan = wifiChannel.\hyperlink{classns3_1_1YansWifiChannelHelper_a0532e292ab9452f3cf630c848708e563}{Create} ();
116   wifiPhy.\hyperlink{classns3_1_1YansWifiPhyHelper_ad2e9a27587dd4ff320435c93cc2676de}{SetChannel} (chan);
117   wifiPhy.\hyperlink{classns3_1_1WifiPhyHelper_a2527d6d7b29f717fd7436166c5f05f1a}{Set} (\textcolor{stringliteral}{"TxGain"}, DoubleValue (1.0)); \textcolor{comment}{//this configuration should go away in future revision to
       the test}
118   wifiPhy.\hyperlink{classns3_1_1WifiPhyHelper_a2527d6d7b29f717fd7436166c5f05f1a}{Set} (\textcolor{stringliteral}{"RxGain"}, DoubleValue (1.0)); \textcolor{comment}{//this configuration should go away in future revision to
       the test}
119 
120   \textcolor{comment}{// 2. setup mesh}
121   \hyperlink{classns3_1_1MeshHelper}{MeshHelper} mesh = MeshHelper::Default ();
122   mesh.\hyperlink{classns3_1_1MeshHelper_ac1074aff829d0cde1659bdef572880ca}{SetStackInstaller} (\textcolor{stringliteral}{"ns3::Dot11sStack"});
123   mesh.\hyperlink{classns3_1_1MeshHelper_a549d568927a88e95a721f2be58232c10}{SetMacType} (\textcolor{stringliteral}{"RandomStart"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.1)));
124   mesh.\hyperlink{classns3_1_1MeshHelper_adfc08b62a8d6e835d0fbbac7a349ef5f}{SetNumberOfInterfaces} (1);
125   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} meshDevices = mesh.\hyperlink{classns3_1_1MeshHelper_a7b33f6ca7b6842b3def4479bc7526f2c}{Install} (wifiPhy, *
      \hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes});
126   \textcolor{comment}{// Six devices, 4 streams per device}
127   streamsUsed += mesh.\hyperlink{classns3_1_1MeshHelper_a93e9c88a375a86c621a494aafe68882e}{AssignStreams} (meshDevices, streamsUsed);
128   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (streamsUsed, (meshDevices.\hyperlink{classns3_1_1NetDeviceContainer_a74cafc212479bc38976bebd118e856b9}{GetN} () * 9), \textcolor{stringliteral}{"Stream
       assignment mismatch"});
129   streamsUsed += wifiChannel.\hyperlink{classns3_1_1YansWifiChannelHelper_ab409a15cfb8abb5195177625191e2584}{AssignStreams} (chan, streamsUsed);
130   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (streamsUsed, (meshDevices.\hyperlink{classns3_1_1NetDeviceContainer_a74cafc212479bc38976bebd118e856b9}{GetN} () * 9), \textcolor{stringliteral}{"Stream
       assignment mismatch"});
131 
132   \textcolor{comment}{// 3. setup TCP/IP}
133   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internetStack;
134   internetStack.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (*\hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes});
135   streamsUsed += internetStack.\hyperlink{classns3_1_1InternetStackHelper_a63c904e832a2f17e036338db4aa2f1b8}{AssignStreams} (*\hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes}, streamsUsed);
136   \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} address;
137   address.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.1.0"}, \textcolor{stringliteral}{"255.255.255.0"});
138   \hyperlink{classHwmpReactiveRegressionTest_a8d43f20efd8f6a067bc50207be614b68}{m\_interfaces} = address.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (meshDevices);
139   \textcolor{comment}{// 4. write PCAP if needed}
140   wifiPhy.\hyperlink{classns3_1_1PcapHelperForDevice_a4ab183a2512120200d4a0e5d8ececd49}{EnablePcapAll} (\hyperlink{classns3_1_1TestCase_a8a04695a6fb9ba0f89e28e9523963f88}{CreateTempDirFilename} (
      \hyperlink{hwmp-reactive-regression_8cc_a61dc66981fa47bfd0066a57a487c599c}{PREFIX}));
141 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Create\+Nodes@{Create\+Nodes}}
\index{Create\+Nodes@{Create\+Nodes}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Create\+Nodes()}{CreateNodes()}}]{\setlength{\rightskip}{0pt plus 5cm}void Hwmp\+Reactive\+Regression\+Test\+::\+Create\+Nodes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_a8fc99893263e4df5158da499f1209832}{}\label{classHwmpReactiveRegressionTest_a8fc99893263e4df5158da499f1209832}


Create nodes function. 


\begin{DoxyCode}
74 \{
75   \hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes} = \textcolor{keyword}{new} \hyperlink{classns3_1_1NodeContainer}{NodeContainer};
76   \hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes}->\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (6);
77   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
78   \hyperlink{classns3_1_1Ptr}{Ptr<ListPositionAllocator>} positionAlloc = CreateObject<ListPositionAllocator>(
      );
79   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (  0,   0, 0));
80   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (  0, 150, 0));
81   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (  0, 300, 0));
82   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (  0, 450, 0));
83   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (  0, 600, 0));
84   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (  0, 750, 0));
85   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (positionAlloc);
86   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
87   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (*\hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes});
88   Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (5.0), &
      \hyperlink{classHwmpReactiveRegressionTest_a4e90c3bf3be7eaf73a9b84d26d6ec0f3}{HwmpReactiveRegressionTest::ResetPosition}, \textcolor{keyword}{this});
89 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run()}{DoRun()}}]{\setlength{\rightskip}{0pt plus 5cm}void Hwmp\+Reactive\+Regression\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classHwmpReactiveRegressionTest_ae66a095a74ef4e2cbdfc0d042b50e63c}{}\label{classHwmpReactiveRegressionTest_ae66a095a74ef4e2cbdfc0d042b50e63c}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
54 \{
55   RngSeedManager::SetSeed (12345);
56   \textcolor{comment}{// This test is somewhat sensitive to seed selection, since the nodes}
57   \textcolor{comment}{// are on the fringe of reception range from one another (to create }
58   \textcolor{comment}{// a multi-hop topology).  Some seeds may yield no data transfer because}
59   \textcolor{comment}{// ARP resolution across the mesh may fail too many times}
60   RngSeedManager::SetRun (1);
61   \hyperlink{classHwmpReactiveRegressionTest_a8fc99893263e4df5158da499f1209832}{CreateNodes} ();
62   \hyperlink{classHwmpReactiveRegressionTest_a8b288a6801baae1e65f87de7eb0352a4}{CreateDevices} ();
63   \hyperlink{classHwmpReactiveRegressionTest_aff40d00524e84993b9cd2f391ae33a55}{InstallApplications} ();
64 
65   Simulator::Stop (\hyperlink{classHwmpReactiveRegressionTest_af41a55e333aa6f51562e7042c82e83e2}{m\_time});
66   Simulator::Run ();
67   Simulator::Destroy ();
68 
69   \hyperlink{classHwmpReactiveRegressionTest_ac569040c1302832cf8ffb128b5909007}{CheckResults} ();
70   \textcolor{keyword}{delete} \hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes}, \hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes} = 0;
71 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Handle\+Read\+Client@{Handle\+Read\+Client}}
\index{Handle\+Read\+Client@{Handle\+Read\+Client}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Handle\+Read\+Client(\+Ptr$<$ Socket $>$ socket)}{HandleReadClient(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Hwmp\+Reactive\+Regression\+Test\+::\+Handle\+Read\+Client (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_af57f8aa49c77c1fa32e52fe8de6cc42b}{}\label{classHwmpReactiveRegressionTest_af57f8aa49c77c1fa32e52fe8de6cc42b}


Handle a packet reception. 

This function is called by lower layers.


\begin{DoxyParams}{Parameters}
{\em socket} & the socket the packet was received to. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
192 \{
193   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} packet;
194   \hyperlink{classns3_1_1Address}{Address} \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from};
195   \textcolor{keywordflow}{while} ((packet = socket->\hyperlink{classns3_1_1Socket_af22378d7af9a2745a9eada20210da215}{RecvFrom} (from)))
196     \{
197     \}
198 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Handle\+Read\+Server@{Handle\+Read\+Server}}
\index{Handle\+Read\+Server@{Handle\+Read\+Server}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Handle\+Read\+Server(\+Ptr$<$ Socket $>$ socket)}{HandleReadServer(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Hwmp\+Reactive\+Regression\+Test\+::\+Handle\+Read\+Server (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_acc897ea0f9f7e19e7036f74b3c2b808b}{}\label{classHwmpReactiveRegressionTest_acc897ea0f9f7e19e7036f74b3c2b808b}


Handle a packet reception. 

This function is called by lower layers.


\begin{DoxyParams}{Parameters}
{\em socket} & the socket the packet was received to. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
178 \{
179   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} packet;
180   \hyperlink{classns3_1_1Address}{Address} \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from};
181   \textcolor{keywordflow}{while} ((packet = socket->\hyperlink{classns3_1_1Socket_af22378d7af9a2745a9eada20210da215}{RecvFrom} (from)))
182     \{
183       packet->\hyperlink{classns3_1_1Packet_a6c7bc5d1067c1d7fbd0fd70289182e8b}{RemoveAllPacketTags} ();
184       packet->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
185 
186       socket->\hyperlink{classns3_1_1Socket_af898fce6a58e0dbba23c1c6de1d4220e}{SendTo} (packet, 0, from);
187     \}
188 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Install\+Applications@{Install\+Applications}}
\index{Install\+Applications@{Install\+Applications}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Install\+Applications()}{InstallApplications()}}]{\setlength{\rightskip}{0pt plus 5cm}void Hwmp\+Reactive\+Regression\+Test\+::\+Install\+Applications (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_aff40d00524e84993b9cd2f391ae33a55}{}\label{classHwmpReactiveRegressionTest_aff40d00524e84993b9cd2f391ae33a55}


Install application function. 


\begin{DoxyCode}
92 \{
93   \textcolor{comment}{// client socket}
94   \hyperlink{classHwmpReactiveRegressionTest_acc7bfddc3a6947c7a9ae28c15f3fecb5}{m\_clientSocket} = Socket::CreateSocket (\hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes}->\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (5), TypeId::LookupByName (\textcolor{stringliteral}{"
      ns3::UdpSocketFactory"}));
95   \hyperlink{classHwmpReactiveRegressionTest_acc7bfddc3a6947c7a9ae28c15f3fecb5}{m\_clientSocket}->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} ();
96   \hyperlink{classHwmpReactiveRegressionTest_acc7bfddc3a6947c7a9ae28c15f3fecb5}{m\_clientSocket}->\hyperlink{classns3_1_1Socket_a97f08aaf37b8fd7d4b5cad4dfdd4022a}{Connect} (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (
      \hyperlink{classHwmpReactiveRegressionTest_a8d43f20efd8f6a067bc50207be614b68}{m\_interfaces}.\hyperlink{classns3_1_1Ipv4InterfaceContainer_ae63208dcd222be986822937ee4aa828c}{GetAddress} (0), 9));
97   \hyperlink{classHwmpReactiveRegressionTest_acc7bfddc3a6947c7a9ae28c15f3fecb5}{m\_clientSocket}->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classHwmpReactiveRegressionTest_af57f8aa49c77c1fa32e52fe8de6cc42b}{HwmpReactiveRegressionTest::HandleReadClient}, \textcolor{keyword}{this}));
98   Simulator::ScheduleWithContext (\hyperlink{classHwmpReactiveRegressionTest_acc7bfddc3a6947c7a9ae28c15f3fecb5}{m\_clientSocket}->\hyperlink{classns3_1_1Socket_aba642ad4301c1df47befc0aa9afa2e48}{GetNode} ()->
      \hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} (), \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.0),
99                                   &\hyperlink{classHwmpReactiveRegressionTest_a592ecd22aea39386c4182533b83f1f10}{HwmpReactiveRegressionTest::SendData}
      , \textcolor{keyword}{this}, \hyperlink{classHwmpReactiveRegressionTest_acc7bfddc3a6947c7a9ae28c15f3fecb5}{m\_clientSocket});
100 
101   \textcolor{comment}{// server socket}
102   \hyperlink{classHwmpReactiveRegressionTest_afe23c3cdf2f9507dc98d05d4879bdce8}{m\_serverSocket} = Socket::CreateSocket (\hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes}->\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0), TypeId::LookupByName (\textcolor{stringliteral}{"
      ns3::UdpSocketFactory"}));
103   m\_serverSocket->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (Ipv4Address::GetAny (), 9));
104   m\_serverSocket->SetRecvCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classHwmpReactiveRegressionTest_acc897ea0f9f7e19e7036f74b3c2b808b}{HwmpReactiveRegressionTest::HandleReadServer}, \textcolor{keyword}{this}));
105 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12




Here is the caller graph for this function\+:
% FIG 13


\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Reset\+Position@{Reset\+Position}}
\index{Reset\+Position@{Reset\+Position}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Reset\+Position()}{ResetPosition()}}]{\setlength{\rightskip}{0pt plus 5cm}void Hwmp\+Reactive\+Regression\+Test\+::\+Reset\+Position (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_a4e90c3bf3be7eaf73a9b84d26d6ec0f3}{}\label{classHwmpReactiveRegressionTest_a4e90c3bf3be7eaf73a9b84d26d6ec0f3}


Reset position function. 


\begin{DoxyCode}
154 \{
155   \hyperlink{classns3_1_1Ptr}{Ptr<Object>} \textcolor{keywordtype}{object} = \hyperlink{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{m\_nodes}->\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (3);
156   \hyperlink{classns3_1_1Ptr}{Ptr<MobilityModel>} model = \textcolor{keywordtype}{object}->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ();
157   \textcolor{keywordflow}{if} (model == 0)
158     \{
159       \textcolor{keywordflow}{return};
160     \}
161   model->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (9000, 0, 0));
162 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15


\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!Send\+Data@{Send\+Data}}
\index{Send\+Data@{Send\+Data}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{Send\+Data(\+Ptr$<$ Socket $>$ socket)}{SendData(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Hwmp\+Reactive\+Regression\+Test\+::\+Send\+Data (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_a592ecd22aea39386c4182533b83f1f10}{}\label{classHwmpReactiveRegressionTest_a592ecd22aea39386c4182533b83f1f10}
Send data 
\begin{DoxyParams}{Parameters}
{\em socket} & the sending socket \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
166 \{
167   \textcolor{keywordflow}{if} ((\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} () < \hyperlink{classHwmpReactiveRegressionTest_af41a55e333aa6f51562e7042c82e83e2}{m\_time}) && (\hyperlink{classHwmpReactiveRegressionTest_aee0fdd7ae170bf11602e468997bdd589}{m\_sentPktsCounter} < 300))
168     \{
169       socket->\hyperlink{classns3_1_1Socket_a036901c8f485fe5b6eab93b7f2ec289d}{Send} (Create<Packet> (20));
170       \hyperlink{classHwmpReactiveRegressionTest_aee0fdd7ae170bf11602e468997bdd589}{m\_sentPktsCounter} ++;
171       Simulator::ScheduleWithContext (socket->\hyperlink{classns3_1_1Socket_aba642ad4301c1df47befc0aa9afa2e48}{GetNode} ()->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} (), 
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.5),
172                                       &\hyperlink{classHwmpReactiveRegressionTest_a592ecd22aea39386c4182533b83f1f10}{HwmpReactiveRegressionTest::SendData}
      , \textcolor{keyword}{this}, socket);
173     \}
174 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17




\subsection{Member Data Documentation}
\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!m\+\_\+client\+Socket@{m\+\_\+client\+Socket}}
\index{m\+\_\+client\+Socket@{m\+\_\+client\+Socket}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+client\+Socket}{m_clientSocket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Socket}$>$ Hwmp\+Reactive\+Regression\+Test\+::m\+\_\+client\+Socket\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_acc7bfddc3a6947c7a9ae28c15f3fecb5}{}\label{classHwmpReactiveRegressionTest_acc7bfddc3a6947c7a9ae28c15f3fecb5}


Client-\/side socket. 

\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!m\+\_\+interfaces@{m\+\_\+interfaces}}
\index{m\+\_\+interfaces@{m\+\_\+interfaces}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+interfaces}{m_interfaces}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv4\+Interface\+Container} Hwmp\+Reactive\+Regression\+Test\+::m\+\_\+interfaces\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_a8d43f20efd8f6a067bc50207be614b68}{}\label{classHwmpReactiveRegressionTest_a8d43f20efd8f6a067bc50207be614b68}


interfaces 

\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!m\+\_\+nodes@{m\+\_\+nodes}}
\index{m\+\_\+nodes@{m\+\_\+nodes}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+nodes}{m_nodes}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Node\+Container}$\ast$ Hwmp\+Reactive\+Regression\+Test\+::m\+\_\+nodes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}{}\label{classHwmpReactiveRegressionTest_a2b8250bd4d0555240ec552e57480ae7c}
\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!m\+\_\+sent\+Pkts\+Counter@{m\+\_\+sent\+Pkts\+Counter}}
\index{m\+\_\+sent\+Pkts\+Counter@{m\+\_\+sent\+Pkts\+Counter}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+sent\+Pkts\+Counter}{m_sentPktsCounter}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Hwmp\+Reactive\+Regression\+Test\+::m\+\_\+sent\+Pkts\+Counter\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_aee0fdd7ae170bf11602e468997bdd589}{}\label{classHwmpReactiveRegressionTest_aee0fdd7ae170bf11602e468997bdd589}


sent packets counter 

\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!m\+\_\+server\+Socket@{m\+\_\+server\+Socket}}
\index{m\+\_\+server\+Socket@{m\+\_\+server\+Socket}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+server\+Socket}{m_serverSocket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Socket}$>$ Hwmp\+Reactive\+Regression\+Test\+::m\+\_\+server\+Socket\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_afe23c3cdf2f9507dc98d05d4879bdce8}{}\label{classHwmpReactiveRegressionTest_afe23c3cdf2f9507dc98d05d4879bdce8}


Server-\/side socket. 

\index{Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}!m\+\_\+time@{m\+\_\+time}}
\index{m\+\_\+time@{m\+\_\+time}!Hwmp\+Reactive\+Regression\+Test@{Hwmp\+Reactive\+Regression\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+time}{m_time}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} Hwmp\+Reactive\+Regression\+Test\+::m\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classHwmpReactiveRegressionTest_af41a55e333aa6f51562e7042c82e83e2}{}\label{classHwmpReactiveRegressionTest_af41a55e333aa6f51562e7042c82e83e2}


Simulation time. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
mesh/test/dot11s/\hyperlink{hwmp-reactive-regression_8h}{hwmp-\/reactive-\/regression.\+h}\item 
mesh/test/dot11s/\hyperlink{hwmp-reactive-regression_8cc}{hwmp-\/reactive-\/regression.\+cc}\end{DoxyCompactItemize}
