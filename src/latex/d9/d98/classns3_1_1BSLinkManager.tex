\hypertarget{classns3_1_1BSLinkManager}{}\section{ns3\+:\+:B\+S\+Link\+Manager Class Reference}
\label{classns3_1_1BSLinkManager}\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}


{\ttfamily \#include $<$bs-\/link-\/manager.\+h$>$}



Inheritance diagram for ns3\+:\+:B\+S\+Link\+Manager\+:
% FIG 0


Collaboration diagram for ns3\+:\+:B\+S\+Link\+Manager\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1BSLinkManager_a1762bb84b94b68c245c6edd4b05f6512}{B\+S\+Link\+Manager} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1BaseStationNetDevice}{Base\+Station\+Net\+Device} $>$ bs)
\item 
\hyperlink{classns3_1_1BSLinkManager_ad55a3ee4c440183beaa4c084115a5484}{$\sim$\+B\+S\+Link\+Manager} (void)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1BSLinkManager_a00df37e10ba0b3977b082b4026f34452}{Calculate\+Ranging\+Opps\+To\+Allocate} (void)
\item 
uint64\+\_\+t \hyperlink{classns3_1_1BSLinkManager_abbaa4459d0f6fb47f6ce7c8fb0269933}{Select\+Dl\+Channel} (void)
\item 
void \hyperlink{classns3_1_1BSLinkManager_a26c81a16faddfeedbe19e47f4158fbb0}{Process\+Ranging\+Request} (\hyperlink{classns3_1_1Cid}{Cid} cid, \hyperlink{classns3_1_1RngReq}{Rng\+Req} rngreq)
\begin{DoxyCompactList}\small\item\em process a ranging request message \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1BSLinkManager_a60a535b46cf80dcc0bfbd5132cb2da85}{Verify\+Invited\+Ranging} (\hyperlink{classns3_1_1Cid}{Cid} cid, uint8\+\_\+t uiuc)
\begin{DoxyCompactList}\small\item\em Verifies at the end of an invited ranging interval if SS sent ranging message in it or not. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1BSLinkManager_a0b5dbd537ba206248e84408a2d8484c8}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1BSLinkManager_a680316c25c58d027b3a4bb6f19593b1c}{B\+S\+Link\+Manager} (const \hyperlink{classns3_1_1BSLinkManager}{B\+S\+Link\+Manager} \&)
\begin{DoxyCompactList}\small\item\em copy constructor (disabled) \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1BSLinkManager}{B\+S\+Link\+Manager} \& \hyperlink{classns3_1_1BSLinkManager_aa626bf5372ae952fa1206214c5201442}{operator=} (const \hyperlink{classns3_1_1BSLinkManager}{B\+S\+Link\+Manager} \&)
\begin{DoxyCompactList}\small\item\em assignment operator (disabled) \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1BSLinkManager_ae23a1b4507b6fc812727c1ab064c95ae}{Perform\+Ranging} (\hyperlink{classns3_1_1Cid}{Cid} cid, \hyperlink{classns3_1_1RngReq}{Rng\+Req} rngreq)
\item 
void \hyperlink{classns3_1_1BSLinkManager_a8c97286c0b9d58f6b175e7f4e82ccd36}{Perform\+Initial\+Ranging} (\hyperlink{classns3_1_1Cid}{Cid} cid, \hyperlink{classns3_1_1RngReq}{Rng\+Req} $\ast$rngreq, \hyperlink{classns3_1_1RngRsp}{Rng\+Rsp} $\ast$rngrsp)
\item 
void \hyperlink{classns3_1_1BSLinkManager_a094fa709f5eaa532b959808967b65464}{Perform\+Invited\+Ranging} (\hyperlink{classns3_1_1Cid}{Cid} cid, \hyperlink{classns3_1_1RngRsp}{Rng\+Rsp} $\ast$rngrsp)
\item 
void \hyperlink{classns3_1_1BSLinkManager_aaf3edf52fbc826d504c521f5303f309f}{Set\+Parameters\+To\+Adjust} (\hyperlink{classns3_1_1RngRsp}{Rng\+Rsp} $\ast$rngrsp)
\item 
void \hyperlink{classns3_1_1BSLinkManager_a4ff9f6b3fd2578e415c83f604ab88b4e}{Abort\+Ranging} (\hyperlink{classns3_1_1Cid}{Cid} cid, \hyperlink{classns3_1_1RngRsp}{Rng\+Rsp} $\ast$rngrsp, \hyperlink{classns3_1_1SSRecord}{S\+S\+Record} $\ast$ss\+Record, bool is\+New\+SS)
\item 
void \hyperlink{classns3_1_1BSLinkManager_abeb3786d298e966245b505f706c6c98a}{Accept\+Ranging} (\hyperlink{classns3_1_1Cid}{Cid} cid, \hyperlink{classns3_1_1RngRsp}{Rng\+Rsp} $\ast$rngrsp, \hyperlink{classns3_1_1SSRecord}{S\+S\+Record} $\ast$ss\+Record)
\item 
void \hyperlink{classns3_1_1BSLinkManager_abb7f2a1602887788e0a8d9346a76fd9c}{Continue\+Ranging} (\hyperlink{classns3_1_1Cid}{Cid} cid, \hyperlink{classns3_1_1RngRsp}{Rng\+Rsp} $\ast$rngrsp, \hyperlink{classns3_1_1SSRecord}{S\+S\+Record} $\ast$ss\+Record)
\item 
void \hyperlink{classns3_1_1BSLinkManager_a80ee98e2b166372c03c840b8904e062a}{Schedule\+Rng\+Rsp\+Message} (\hyperlink{classns3_1_1Cid}{Cid} cid, \hyperlink{classns3_1_1RngRsp}{Rng\+Rsp} $\ast$rngrsp)
\item 
void \hyperlink{classns3_1_1BSLinkManager_a6b53e97ec1e97279dae830a5f8abbaaa}{Deallocate\+Cids} (\hyperlink{classns3_1_1Cid}{Cid} cid)
\item 
bool \hyperlink{classns3_1_1BSLinkManager_af433428804a92b8e82256ccaf99c34fc}{Change\+Dl\+Channel} (void)
\item 
uint32\+\_\+t \hyperlink{classns3_1_1BSLinkManager_a7f2cb235a8f2849921f3460b4ab0ac7b}{Get\+New\+Dl\+Channel} (void)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1BSLinkManager_a5ec556b1346b2147c54c07abfca3913c}{Get\+Signal\+Quality} (void)
\item 
bool \hyperlink{classns3_1_1BSLinkManager_af62c80bd793222cb430a34ef9ec022d8}{Is\+Ranging\+Acceptable} (void)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1BaseStationNetDevice}{Base\+Station\+Net\+Device} $>$ \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\+\_\+bs}
\begin{DoxyCompactList}\small\item\em base station \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1BSLinkManager_afcbe9d8fc962a6a39f0c99adcf9b985c}{m\+\_\+signal\+Quality}
\begin{DoxyCompactList}\small\item\em signal quality \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1BSLinkManager_a7f6d2a2b929aa3075d766569c40ce51b}{m\+\_\+signal\+Quality\+Threshold}
\begin{DoxyCompactList}\small\item\em signal quality threshold \end{DoxyCompactList}\item 
int \hyperlink{classns3_1_1BSLinkManager_a7eeaf72c73cddf69a0a5cb90ab1c1fc1}{tries}
\begin{DoxyCompactList}\small\item\em variable to test multiple R\+N\+G-\/\+R\+EQ by the SS for example undecodable at BS or lost R\+N\+G-\/\+R\+SP \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!B\+S\+Link\+Manager@{B\+S\+Link\+Manager}}
\index{B\+S\+Link\+Manager@{B\+S\+Link\+Manager}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{B\+S\+Link\+Manager(\+Ptr$<$ Base\+Station\+Net\+Device $>$ bs)}{BSLinkManager(Ptr< BaseStationNetDevice > bs)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+B\+S\+Link\+Manager\+::\+B\+S\+Link\+Manager (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Base\+Station\+Net\+Device} $>$}]{bs}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BSLinkManager_a1762bb84b94b68c245c6edd4b05f6512}{}\label{classns3_1_1BSLinkManager_a1762bb84b94b68c245c6edd4b05f6512}
Constructor


\begin{DoxyParams}{Parameters}
{\em bs} & base station device \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
50   : \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs} (bs),
51     \hyperlink{classns3_1_1BSLinkManager_afcbe9d8fc962a6a39f0c99adcf9b985c}{m\_signalQuality} (10),
52     \hyperlink{classns3_1_1BSLinkManager_a7f6d2a2b929aa3075d766569c40ce51b}{m\_signalQualityThreshold} (10)                                  \textcolor{comment}{// arbitrary
       value}
53 \{
54   \hyperlink{classns3_1_1BSLinkManager_a7eeaf72c73cddf69a0a5cb90ab1c1fc1}{tries} = 0;
55 \}
\end{DoxyCode}
\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!````~B\+S\+Link\+Manager@{$\sim$\+B\+S\+Link\+Manager}}
\index{````~B\+S\+Link\+Manager@{$\sim$\+B\+S\+Link\+Manager}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{$\sim$\+B\+S\+Link\+Manager(void)}{~BSLinkManager(void)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+B\+S\+Link\+Manager\+::$\sim$\+B\+S\+Link\+Manager (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BSLinkManager_ad55a3ee4c440183beaa4c084115a5484}{}\label{classns3_1_1BSLinkManager_ad55a3ee4c440183beaa4c084115a5484}

\begin{DoxyCode}
58 \{
59   \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs} = 0;
60 \}
\end{DoxyCode}
\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!B\+S\+Link\+Manager@{B\+S\+Link\+Manager}}
\index{B\+S\+Link\+Manager@{B\+S\+Link\+Manager}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{B\+S\+Link\+Manager(const B\+S\+Link\+Manager \&)}{BSLinkManager(const BSLinkManager &)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+B\+S\+Link\+Manager\+::\+B\+S\+Link\+Manager (
\begin{DoxyParamCaption}
\item[{const {\bf B\+S\+Link\+Manager} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a680316c25c58d027b3a4bb6f19593b1c}{}\label{classns3_1_1BSLinkManager_a680316c25c58d027b3a4bb6f19593b1c}


copy constructor (disabled) 



\subsection{Member Function Documentation}
\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Abort\+Ranging@{Abort\+Ranging}}
\index{Abort\+Ranging@{Abort\+Ranging}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Abort\+Ranging(\+Cid cid, Rng\+Rsp $\ast$rngrsp, S\+S\+Record $\ast$ss\+Record, bool is\+New\+S\+S)}{AbortRanging(Cid cid, RngRsp *rngrsp, SSRecord *ssRecord, bool isNewSS)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Abort\+Ranging (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid, }
\item[{{\bf Rng\+Rsp} $\ast$}]{rngrsp, }
\item[{{\bf S\+S\+Record} $\ast$}]{ss\+Record, }
\item[{bool}]{is\+New\+SS}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a4ff9f6b3fd2578e415c83f604ab88b4e}{}\label{classns3_1_1BSLinkManager_a4ff9f6b3fd2578e415c83f604ab88b4e}
Abort ranging function 
\begin{DoxyParams}{Parameters}
{\em cid} & the C\+ID \\
\hline
{\em rngrsp} & the ranging response \\
\hline
{\em ss\+Record} & the SS record \\
\hline
{\em is\+New\+SS} & true if a new SS \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
272 \{
273   rngrsp->SetRangStatus (\hyperlink{classns3_1_1WimaxNetDevice_a2a74c0f01e51abc1851a630242e7b591af8ad5e66165cedeaf588275f529a4a98}{WimaxNetDevice::RANGING\_STATUS\_ABORT});
274   \hyperlink{classns3_1_1BSLinkManager_a80ee98e2b166372c03c840b8904e062a}{ScheduleRngRspMessage} (cid, rngrsp);
275 
276   \textcolor{keywordflow}{if} (isOldSS)
277     \{
278       ssRecord->SetRangingStatus (\hyperlink{classns3_1_1WimaxNetDevice_a2a74c0f01e51abc1851a630242e7b591af8ad5e66165cedeaf588275f529a4a98}{WimaxNetDevice::RANGING\_STATUS\_ABORT})
      ;
279     \}
280 
281   ssRecord->DisablePollForRanging ();
282   \hyperlink{classns3_1_1BSLinkManager_a6b53e97ec1e97279dae830a5f8abbaaa}{DeallocateCids} (cid);
283 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Accept\+Ranging@{Accept\+Ranging}}
\index{Accept\+Ranging@{Accept\+Ranging}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Accept\+Ranging(\+Cid cid, Rng\+Rsp $\ast$rngrsp, S\+S\+Record $\ast$ss\+Record)}{AcceptRanging(Cid cid, RngRsp *rngrsp, SSRecord *ssRecord)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Accept\+Ranging (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid, }
\item[{{\bf Rng\+Rsp} $\ast$}]{rngrsp, }
\item[{{\bf S\+S\+Record} $\ast$}]{ss\+Record}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_abeb3786d298e966245b505f706c6c98a}{}\label{classns3_1_1BSLinkManager_abeb3786d298e966245b505f706c6c98a}
Accept ranging function 
\begin{DoxyParams}{Parameters}
{\em cid} & the C\+ID \\
\hline
{\em rngrsp} & the ranging response \\
\hline
{\em ss\+Record} & the SS record \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
287 \{
288   rngrsp->SetRangStatus (\hyperlink{classns3_1_1WimaxNetDevice_a2a74c0f01e51abc1851a630242e7b591a2a48f503c20971a1a5901af0b6d0746c}{WimaxNetDevice::RANGING\_STATUS\_SUCCESS});
289   \hyperlink{classns3_1_1BSLinkManager_a80ee98e2b166372c03c840b8904e062a}{ScheduleRngRspMessage} (cid, rngrsp);
290 
291   \textcolor{comment}{/*Shall not be set until the SS receives the RNG-RSP, as it may be lost etc. may be state field}
292 \textcolor{comment}{   is also added to SSRecord which then set to SS\_STATE\_REGISTERED once confirmed that SS has received}
293 \textcolor{comment}{   this RNG-RSP, but how to determine that, may be as a data packet is received by the SS*/}
294   ssRecord->SetRangingStatus (\hyperlink{classns3_1_1WimaxNetDevice_a2a74c0f01e51abc1851a630242e7b591a2a48f503c20971a1a5901af0b6d0746c}{WimaxNetDevice::RANGING\_STATUS\_SUCCESS})
      ;
295 
296   ssRecord->DisablePollForRanging ();
297 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Calculate\+Ranging\+Opps\+To\+Allocate@{Calculate\+Ranging\+Opps\+To\+Allocate}}
\index{Calculate\+Ranging\+Opps\+To\+Allocate@{Calculate\+Ranging\+Opps\+To\+Allocate}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Calculate\+Ranging\+Opps\+To\+Allocate(void)}{CalculateRangingOppsToAllocate(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+B\+S\+Link\+Manager\+::\+Calculate\+Ranging\+Opps\+To\+Allocate (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BSLinkManager_a00df37e10ba0b3977b082b4026f34452}{}\label{classns3_1_1BSLinkManager_a00df37e10ba0b3977b082b4026f34452}
\begin{DoxyReturn}{Returns}
the ranging opportunities to allocate 
\end{DoxyReturn}

\begin{DoxyCode}
64 \{
65   \textcolor{comment}{// randomly selecting TOs up to 10, shall actually be decided by scheduler}
66   \textcolor{keywordflow}{return} rand () % 8 + 2;
67 \}
\end{DoxyCode}
\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Change\+Dl\+Channel@{Change\+Dl\+Channel}}
\index{Change\+Dl\+Channel@{Change\+Dl\+Channel}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Change\+Dl\+Channel(void)}{ChangeDlChannel(void)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+B\+S\+Link\+Manager\+::\+Change\+Dl\+Channel (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_af433428804a92b8e82256ccaf99c34fc}{}\label{classns3_1_1BSLinkManager_af433428804a92b8e82256ccaf99c34fc}
Change DL channel function \begin{DoxyReturn}{Returns}
true if the DL channel changed 
\end{DoxyReturn}

\begin{DoxyCode}
342 \{
343   \textcolor{comment}{// code to decide if SS shall move to a new channel/frequency goes here}
344   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
345 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Continue\+Ranging@{Continue\+Ranging}}
\index{Continue\+Ranging@{Continue\+Ranging}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Continue\+Ranging(\+Cid cid, Rng\+Rsp $\ast$rngrsp, S\+S\+Record $\ast$ss\+Record)}{ContinueRanging(Cid cid, RngRsp *rngrsp, SSRecord *ssRecord)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Continue\+Ranging (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid, }
\item[{{\bf Rng\+Rsp} $\ast$}]{rngrsp, }
\item[{{\bf S\+S\+Record} $\ast$}]{ss\+Record}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_abb7f2a1602887788e0a8d9346a76fd9c}{}\label{classns3_1_1BSLinkManager_abb7f2a1602887788e0a8d9346a76fd9c}
Continue ranging function 
\begin{DoxyParams}{Parameters}
{\em cid} & the C\+ID \\
\hline
{\em rngrsp} & the ranging response \\
\hline
{\em ss\+Record} & the SS record \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
301 \{
302   rngrsp->SetRangStatus (\hyperlink{classns3_1_1WimaxNetDevice_a2a74c0f01e51abc1851a630242e7b591ace0a03105b6d7cf2c6ec79e9789dc3a6}{WimaxNetDevice::RANGING\_STATUS\_CONTINUE});
303   \hyperlink{classns3_1_1BSLinkManager_a80ee98e2b166372c03c840b8904e062a}{ScheduleRngRspMessage} (cid, rngrsp);
304   ssRecord->SetRangingStatus (\hyperlink{classns3_1_1WimaxNetDevice_a2a74c0f01e51abc1851a630242e7b591ace0a03105b6d7cf2c6ec79e9789dc3a6}{WimaxNetDevice::RANGING\_STATUS\_CONTINUE}
      );
305 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Deallocate\+Cids@{Deallocate\+Cids}}
\index{Deallocate\+Cids@{Deallocate\+Cids}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Deallocate\+Cids(\+Cid cid)}{DeallocateCids(Cid cid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Deallocate\+Cids (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a6b53e97ec1e97279dae830a5f8abbaaa}{}\label{classns3_1_1BSLinkManager_a6b53e97ec1e97279dae830a5f8abbaaa}
Deallocate C\+I\+Ds function 
\begin{DoxyParams}{Parameters}
{\em cid} & the C\+ID \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
325 \{
326   \textcolor{comment}{// if necessary, delete entire connections or simply set CIDs to 0}
327 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Get\+New\+Dl\+Channel@{Get\+New\+Dl\+Channel}}
\index{Get\+New\+Dl\+Channel@{Get\+New\+Dl\+Channel}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Get\+New\+Dl\+Channel(void)}{GetNewDlChannel(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+B\+S\+Link\+Manager\+::\+Get\+New\+Dl\+Channel (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a7f2cb235a8f2849921f3460b4ab0ac7b}{}\label{classns3_1_1BSLinkManager_a7f2cb235a8f2849921f3460b4ab0ac7b}
Get new DL channel function \begin{DoxyReturn}{Returns}
the new DL channel 
\end{DoxyReturn}

\begin{DoxyCode}
349 \{
350   \textcolor{comment}{// code to determine suggested new frequency goes here}
351   \textcolor{keywordflow}{return} 100;
352 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Get\+Signal\+Quality@{Get\+Signal\+Quality}}
\index{Get\+Signal\+Quality@{Get\+Signal\+Quality}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Signal\+Quality(void)}{GetSignalQuality(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+B\+S\+Link\+Manager\+::\+Get\+Signal\+Quality (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a5ec556b1346b2147c54c07abfca3913c}{}\label{classns3_1_1BSLinkManager_a5ec556b1346b2147c54c07abfca3913c}
Get signal quality function \begin{DoxyReturn}{Returns}
the signal quality 
\end{DoxyReturn}

\begin{DoxyCode}
356 \{
357   \textcolor{comment}{// code to measure signal quality goes here}
358   uint8\_t signalQuality = \hyperlink{classns3_1_1BSLinkManager_afcbe9d8fc962a6a39f0c99adcf9b985c}{m\_signalQuality};
359   \hyperlink{classns3_1_1BSLinkManager_afcbe9d8fc962a6a39f0c99adcf9b985c}{m\_signalQuality}++;
360   \textcolor{keywordflow}{return} signalQuality;
361 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+B\+S\+Link\+Manager\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1BSLinkManager_a0b5dbd537ba206248e84408a2d8484c8}{}\label{classns3_1_1BSLinkManager_a0b5dbd537ba206248e84408a2d8484c8}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
42 \{
43   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::BSLinkManager"})
44     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
45     .SetGroupName(\textcolor{stringliteral}{"Wimax"});
46   \textcolor{keywordflow}{return} tid;
47 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Is\+Ranging\+Acceptable@{Is\+Ranging\+Acceptable}}
\index{Is\+Ranging\+Acceptable@{Is\+Ranging\+Acceptable}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Is\+Ranging\+Acceptable(void)}{IsRangingAcceptable(void)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+B\+S\+Link\+Manager\+::\+Is\+Ranging\+Acceptable (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_af62c80bd793222cb430a34ef9ec022d8}{}\label{classns3_1_1BSLinkManager_af62c80bd793222cb430a34ef9ec022d8}
Is ranging acceptable function \begin{DoxyReturn}{Returns}
true if ranging is acceptable 
\end{DoxyReturn}

\begin{DoxyCode}
365 \{
366   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1BSLinkManager_a5ec556b1346b2147c54c07abfca3913c}{GetSignalQuality} () > \hyperlink{classns3_1_1BSLinkManager_a7f6d2a2b929aa3075d766569c40ce51b}{m\_signalQualityThreshold};
367 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!operator=@{operator=}}
\index{operator=@{operator=}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{operator=(const B\+S\+Link\+Manager \&)}{operator=(const BSLinkManager &)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf B\+S\+Link\+Manager}\& ns3\+::\+B\+S\+Link\+Manager\+::operator= (
\begin{DoxyParamCaption}
\item[{const {\bf B\+S\+Link\+Manager} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_aa626bf5372ae952fa1206214c5201442}{}\label{classns3_1_1BSLinkManager_aa626bf5372ae952fa1206214c5201442}


assignment operator (disabled) 

\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Perform\+Initial\+Ranging@{Perform\+Initial\+Ranging}}
\index{Perform\+Initial\+Ranging@{Perform\+Initial\+Ranging}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Perform\+Initial\+Ranging(\+Cid cid, Rng\+Req $\ast$rngreq, Rng\+Rsp $\ast$rngrsp)}{PerformInitialRanging(Cid cid, RngReq *rngreq, RngRsp *rngrsp)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Perform\+Initial\+Ranging (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid, }
\item[{{\bf Rng\+Req} $\ast$}]{rngreq, }
\item[{{\bf Rng\+Rsp} $\ast$}]{rngrsp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a8c97286c0b9d58f6b175e7f4e82ccd36}{}\label{classns3_1_1BSLinkManager_a8c97286c0b9d58f6b175e7f4e82ccd36}
Perform initial ranging function 
\begin{DoxyParams}{Parameters}
{\em cid} & the C\+ID \\
\hline
{\em rngreq} & the ranging request \\
\hline
{\em rngrsp} & the ranging response \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
156 \{
157 
158   SSRecord *ssRecord = 0;
159   \textcolor{keywordtype}{bool} isOldSS = \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetSSManager ()->IsInRecord (rngreq->GetMacAddress ());
160   \textcolor{keywordflow}{if} (isOldSS)
161     \{
162       ssRecord = \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetSSManager ()->GetSSRecord (rngreq->GetMacAddress ());
163       \textcolor{comment}{// if this fails it would mean the RNG-RSP with success status was not received by the SS}
164     \}
165   \textcolor{keywordflow}{else}
166     \{
167       ssRecord = \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetSSManager ()->CreateSSRecord (rngreq->GetMacAddress ());
168     \}
169 
170   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1BSLinkManager_af433428804a92b8e82256ccaf99c34fc}{ChangeDlChannel} ())
171     \{
172       rngrsp->SetDlFreqOverride (\hyperlink{classns3_1_1BSLinkManager_a7f2cb235a8f2849921f3460b4ab0ac7b}{GetNewDlChannel} ());
173       \hyperlink{classns3_1_1BSLinkManager_a4ff9f6b3fd2578e415c83f604ab88b4e}{AbortRanging} (cid, rngrsp, ssRecord, isOldSS);
174       \textcolor{keywordflow}{return};
175     \}
176 
177   \textcolor{keywordflow}{if} (isOldSS)
178     \{
179       \textcolor{comment}{// CIDs already assigned, e.g., RNG-REQ was lost and resent after timeout. reusing old CIDs}
180       ssRecord->ResetRangingCorrectionRetries ();
181       ssRecord->ResetInvitedRangingRetries ();
182     \}
183   \textcolor{keywordflow}{else}
184     \{
185       \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetConnectionManager ()->AllocateManagementConnections (ssRecord, rngrsp);
186 
187       \hyperlink{classns3_1_1WimaxPhy_a044c5d8a48ca992c39c2a946f6e755fa}{WimaxPhy::ModulationType} modulationType;
188       uint8\_t diuc = \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetBurstProfileManager ()->GetBurstProfileForSS (ssRecord, rngreq, 
      modulationType);
189       ssRecord->SetModulationType (modulationType);
190 
191       \textcolor{comment}{// specify in RNG-RSP only if different than what SS requested}
192       \textcolor{keywordflow}{if} (rngreq->GetReqDlBurstProfile () != diuc)
193         \{
194           rngrsp->SetDlOperBurstProfile (diuc);
195         \}
196 
197       \textcolor{comment}{// add SS (Basic CID) to poll list for invited ranging intervals, see Table 115}
198       ssRecord->EnablePollForRanging ();
199     \}
200 
201   rngrsp->SetMacAddress (rngreq->GetMacAddress ());
202 
203   \textcolor{keywordflow}{if} (isOldSS) \textcolor{comment}{// CIDs had already been allocated}
204     \{
205       cid = ssRecord->GetBasicCid ();
206     \}
207 
208   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1BSLinkManager_af62c80bd793222cb430a34ef9ec022d8}{IsRangingAcceptable} ())
209     \{
210       \hyperlink{classns3_1_1BSLinkManager_abeb3786d298e966245b505f706c6c98a}{AcceptRanging} (cid, rngrsp, ssRecord);
211     \}
212   \textcolor{keywordflow}{else}
213     \{
214       \hyperlink{classns3_1_1BSLinkManager_abb7f2a1602887788e0a8d9346a76fd9c}{ContinueRanging} (cid, rngrsp, ssRecord);
215     \}
216 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Perform\+Invited\+Ranging@{Perform\+Invited\+Ranging}}
\index{Perform\+Invited\+Ranging@{Perform\+Invited\+Ranging}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Perform\+Invited\+Ranging(\+Cid cid, Rng\+Rsp $\ast$rngrsp)}{PerformInvitedRanging(Cid cid, RngRsp *rngrsp)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Perform\+Invited\+Ranging (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid, }
\item[{{\bf Rng\+Rsp} $\ast$}]{rngrsp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a094fa709f5eaa532b959808967b65464}{}\label{classns3_1_1BSLinkManager_a094fa709f5eaa532b959808967b65464}
Perform inivted ranging function 
\begin{DoxyParams}{Parameters}
{\em cid} & the C\+ID \\
\hline
{\em rngrsp} & the ranging response \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
220 \{
221   SSRecord *ssRecord = \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetSSManager ()->GetSSRecord (cid);
222   ssRecord->IncrementRangingCorrectionRetries ();
223   ssRecord->ResetInvitedRangingRetries ();
224 
225   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1BSLinkManager_af62c80bd793222cb430a34ef9ec022d8}{IsRangingAcceptable} ())
226     \{
227       \hyperlink{classns3_1_1BSLinkManager_abeb3786d298e966245b505f706c6c98a}{AcceptRanging} (cid, rngrsp, ssRecord);
228     \}
229   \textcolor{keywordflow}{else}
230     \{
231       \textcolor{keywordflow}{if} (ssRecord->GetRangingCorrectionRetries () == \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetMaxRangingCorrectionRetries ())
232         \{
233           \hyperlink{classns3_1_1BSLinkManager_a4ff9f6b3fd2578e415c83f604ab88b4e}{AbortRanging} (cid, rngrsp, ssRecord, \textcolor{keyword}{true});
234         \}
235       \textcolor{keywordflow}{else}
236         \{
237           \hyperlink{classns3_1_1BSLinkManager_abb7f2a1602887788e0a8d9346a76fd9c}{ContinueRanging} (cid, rngrsp, ssRecord);
238         \}
239     \}
240 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Perform\+Ranging@{Perform\+Ranging}}
\index{Perform\+Ranging@{Perform\+Ranging}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Perform\+Ranging(\+Cid cid, Rng\+Req rngreq)}{PerformRanging(Cid cid, RngReq rngreq)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Perform\+Ranging (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid, }
\item[{{\bf Rng\+Req}}]{rngreq}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_ae23a1b4507b6fc812727c1ab064c95ae}{}\label{classns3_1_1BSLinkManager_ae23a1b4507b6fc812727c1ab064c95ae}
Perform ranging function 
\begin{DoxyParams}{Parameters}
{\em cid} & the C\+ID \\
\hline
{\em rngreq} & the ranging request \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
114 \{
115   RngRsp rngrsp;
116   \textcolor{keywordtype}{bool} decodable = \textcolor{keyword}{false};
117 
118   \textcolor{comment}{// assuming low power, packet lost or undecodable first 2 times}
119   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1BSLinkManager_a7eeaf72c73cddf69a0a5cb90ab1c1fc1}{tries} < 2)
120     \{
121       \textcolor{keywordflow}{return};
122     \}
123   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1BSLinkManager_a7eeaf72c73cddf69a0a5cb90ab1c1fc1}{tries} >= 3)
124     \{
125       decodable = \textcolor{keyword}{true};
126     \}
127 
128   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"RNG-REQ:"});
129   rngreq.PrintDebug ();
130 
131   \textcolor{keywordflow}{if} (!decodable)
132     \{
133       rngrsp.SetFrameNumber (\hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetNrFrames ());
134       rngrsp.SetInitRangOppNumber (\hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetRangingOppNumber ());
135 
136       \hyperlink{classns3_1_1BSLinkManager_aaf3edf52fbc826d504c521f5303f309f}{SetParametersToAdjust} (&rngrsp);
137       rngrsp.SetRangStatus (\hyperlink{classns3_1_1WimaxNetDevice_a2a74c0f01e51abc1851a630242e7b591ace0a03105b6d7cf2c6ec79e9789dc3a6}{WimaxNetDevice::RANGING\_STATUS\_CONTINUE})
      ; \textcolor{comment}{// see Figure 64}
138       \hyperlink{classns3_1_1BSLinkManager_a80ee98e2b166372c03c840b8904e062a}{ScheduleRngRspMessage} (cid, &rngrsp);
139     \}
140   \textcolor{keywordflow}{else}
141     \{
142       \textcolor{keywordflow}{if} (cid.IsInitialRanging ())
143         \{
144           \hyperlink{classns3_1_1BSLinkManager_a8c97286c0b9d58f6b175e7f4e82ccd36}{PerformInitialRanging} (cid, &rngreq, &rngrsp);
145         \}
146       \textcolor{keywordflow}{else}
147         \{
148           \textcolor{comment}{// invited initial ranging or periodic ranging}
149           \hyperlink{classns3_1_1BSLinkManager_a094fa709f5eaa532b959808967b65464}{PerformInvitedRanging} (cid, &rngrsp);
150         \}
151     \}
152 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19




Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Process\+Ranging\+Request@{Process\+Ranging\+Request}}
\index{Process\+Ranging\+Request@{Process\+Ranging\+Request}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Process\+Ranging\+Request(\+Cid cid, Rng\+Req rngreq)}{ProcessRangingRequest(Cid cid, RngReq rngreq)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Process\+Ranging\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid, }
\item[{{\bf Rng\+Req}}]{rngreq}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BSLinkManager_a26c81a16faddfeedbe19e47f4158fbb0}{}\label{classns3_1_1BSLinkManager_a26c81a16faddfeedbe19e47f4158fbb0}


process a ranging request message 


\begin{DoxyParams}{Parameters}
{\em cid} & the connection identifier in which the ranging message was received \\
\hline
{\em rngreq} & the ranging request message \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
74 \{
75   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetState () == 
      \hyperlink{classns3_1_1BaseStationNetDevice_a70b3d78837bcc09df385146fb7f51498aea64791fa58c182a50bf32da2b0a6f52}{BaseStationNetDevice::BS\_STATE\_UL\_SUB\_FRAME},
76                  \textcolor{stringliteral}{"Base station: Error while processing ranging request: !BS\_STATE\_UL\_SUB\_FRAME"});
77 
78   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} irIntervalBoundary = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
79 
80   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetUplinkScheduler ()->GetIsInvIrIntrvlAllocated ())
81     \{
82       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetUplinkScheduler ()->GetIsIrIntrvlAllocated ())
83         \{
84           irIntervalBoundary = \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetUlSubframeStartTime ()
85             + \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ((\hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetUplinkScheduler ()->GetNrIrOppsAllocated () + 1) * 
      \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetRangReqOppSize ()
86                        * \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetSymbolDuration ().GetSeconds ());
87         \}
88       \textcolor{keywordflow}{else}
89         \{
90           irIntervalBoundary = \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetUlSubframeStartTime () + \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (
      \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetRangReqOppSize ()
91                                                                           * \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetSymbolDuration ().
      GetSeconds ());
92         \}
93     \}
94   \textcolor{keywordflow}{else}
95     \{
96       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetUplinkScheduler ()->GetIsIrIntrvlAllocated (),
97                      \textcolor{stringliteral}{"Base station: Error while processing ranging request: IR interval not allocated"});
98 
99       irIntervalBoundary = \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetUlSubframeStartTime ()
100         + \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (\hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetUplinkScheduler ()->GetNrIrOppsAllocated () * 
      \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetRangReqOppSize ()
101                    * \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetSymbolDuration ().GetSeconds ());
102     \}
103 
104   \hyperlink{classns3_1_1BSLinkManager_a7eeaf72c73cddf69a0a5cb90ab1c1fc1}{tries}++;
105 
106   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () >= \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetUlSubframeStartTime () && 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () < irIntervalBoundary)
107     \{
108       \hyperlink{classns3_1_1BSLinkManager_ae23a1b4507b6fc812727c1ab064c95ae}{PerformRanging} (cid, rngreq);
109     \}
110 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 21


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Schedule\+Rng\+Rsp\+Message@{Schedule\+Rng\+Rsp\+Message}}
\index{Schedule\+Rng\+Rsp\+Message@{Schedule\+Rng\+Rsp\+Message}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Schedule\+Rng\+Rsp\+Message(\+Cid cid, Rng\+Rsp $\ast$rngrsp)}{ScheduleRngRspMessage(Cid cid, RngRsp *rngrsp)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Schedule\+Rng\+Rsp\+Message (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid, }
\item[{{\bf Rng\+Rsp} $\ast$}]{rngrsp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a80ee98e2b166372c03c840b8904e062a}{}\label{classns3_1_1BSLinkManager_a80ee98e2b166372c03c840b8904e062a}
Schedule range response message function 
\begin{DoxyParams}{Parameters}
{\em cid} & the C\+ID \\
\hline
{\em rngrsp} & the ranging response \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
309 \{
310   \textcolor{keywordflow}{if} (rngrsp->GetRangStatus () == \hyperlink{classns3_1_1WimaxNetDevice_a2a74c0f01e51abc1851a630242e7b591a2a48f503c20971a1a5901af0b6d0746c}{WimaxNetDevice::RANGING\_STATUS\_SUCCESS}
       || rngrsp->GetRangStatus ()
311       == \hyperlink{classns3_1_1WimaxNetDevice_a2a74c0f01e51abc1851a630242e7b591ace0a03105b6d7cf2c6ec79e9789dc3a6}{WimaxNetDevice::RANGING\_STATUS\_CONTINUE})
312     \{
313       \hyperlink{classns3_1_1BSLinkManager_aaf3edf52fbc826d504c521f5303f309f}{SetParametersToAdjust} (rngrsp);
314     \}
315 
316   Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> ();
317   p->AddHeader (*rngrsp);
318   p->AddHeader (ManagementMessageType (
      \hyperlink{classns3_1_1ManagementMessageType_a0e0c7a1e263538f0379d1bdb015abe3dacc6d687507c639e29ca78b926d6345e1}{ManagementMessageType::MESSAGE\_TYPE\_RNG\_RSP}));
319 
320   \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->Enqueue (p, MacHeaderType (), \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetConnection (cid));
321 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 22




Here is the caller graph for this function\+:
% FIG 23


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Select\+Dl\+Channel@{Select\+Dl\+Channel}}
\index{Select\+Dl\+Channel@{Select\+Dl\+Channel}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Select\+Dl\+Channel(void)}{SelectDlChannel(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+B\+S\+Link\+Manager\+::\+Select\+Dl\+Channel (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BSLinkManager_abbaa4459d0f6fb47f6ce7c8fb0269933}{}\label{classns3_1_1BSLinkManager_abbaa4459d0f6fb47f6ce7c8fb0269933}
\begin{DoxyReturn}{Returns}
an available downlink channel 
\end{DoxyReturn}

\begin{DoxyCode}
331 \{
332   \textcolor{comment}{// Values according to WirelessMAN-OFDM RF profile for 10 MHz channelization}
333   \textcolor{comment}{// Section 12.3.3.1 from IEEE 802.16-2004 standard}
334   \textcolor{comment}{// profR10\_3 :}
335   \textcolor{comment}{// channels: 5000 + n â‹… 5 MHz, âˆ€n âˆˆ \{ 147, 149, 151, 153, 155, 157, 159, 161, 163, 165, 167 \}}
336   \textcolor{comment}{// temporarily set to 1 for quick scanning. To be standard compliant, use a value in the list above}
337   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetChannel (1);
338 \}
\end{DoxyCode}
\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Set\+Parameters\+To\+Adjust@{Set\+Parameters\+To\+Adjust}}
\index{Set\+Parameters\+To\+Adjust@{Set\+Parameters\+To\+Adjust}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Set\+Parameters\+To\+Adjust(\+Rng\+Rsp $\ast$rngrsp)}{SetParametersToAdjust(RngRsp *rngrsp)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Set\+Parameters\+To\+Adjust (
\begin{DoxyParamCaption}
\item[{{\bf Rng\+Rsp} $\ast$}]{rngrsp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_aaf3edf52fbc826d504c521f5303f309f}{}\label{classns3_1_1BSLinkManager_aaf3edf52fbc826d504c521f5303f309f}
Set parameters to adjust function 
\begin{DoxyParams}{Parameters}
{\em rngrsp} & the ranging response \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
263 \{
264   \textcolor{comment}{// code to calculate parameter adjustment values goes here}
265   rngrsp->SetTimingAdjust (40);
266   rngrsp->SetPowerLevelAdjust (8);
267   rngrsp->SetOffsetFreqAdjust (30);
268 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 24




Here is the caller graph for this function\+:
% FIG 25


\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!Verify\+Invited\+Ranging@{Verify\+Invited\+Ranging}}
\index{Verify\+Invited\+Ranging@{Verify\+Invited\+Ranging}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{Verify\+Invited\+Ranging(\+Cid cid, uint8\+\_\+t uiuc)}{VerifyInvitedRanging(Cid cid, uint8_t uiuc)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+B\+S\+Link\+Manager\+::\+Verify\+Invited\+Ranging (
\begin{DoxyParamCaption}
\item[{{\bf Cid}}]{cid, }
\item[{uint8\+\_\+t}]{uiuc}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1BSLinkManager_a60a535b46cf80dcc0bfbd5132cb2da85}{}\label{classns3_1_1BSLinkManager_a60a535b46cf80dcc0bfbd5132cb2da85}


Verifies at the end of an invited ranging interval if SS sent ranging message in it or not. 


\begin{DoxyCode}
244 \{
245   \textcolor{keywordflow}{if} (uiuc == \hyperlink{classns3_1_1OfdmUlBurstProfile_ae528783c4b3c6700ff49dfd7a555cb3daaea7b6256d4bcd0125f0248c0560c94e}{OfdmUlBurstProfile::UIUC\_INITIAL\_RANGING})
246     \{
247       SSRecord *ssRecord = \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetSSManager ()->GetSSRecord (cid);
248       \textcolor{keywordflow}{if} (ssRecord->GetInvitedRangRetries () > 0)
249         \{
250           ssRecord->IncrementInvitedRangingRetries ();
251 
252           \textcolor{keywordflow}{if} (ssRecord->GetInvitedRangRetries () == \hyperlink{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{m\_bs}->GetMaxInvitedRangRetries ())
253             \{
254               RngRsp *rngrsp = \textcolor{keyword}{new} RngRsp ();
255               \hyperlink{classns3_1_1BSLinkManager_a4ff9f6b3fd2578e415c83f604ab88b4e}{AbortRanging} (ssRecord->GetBasicCid (), rngrsp, ssRecord, \textcolor{keyword}{true});
256             \} \textcolor{comment}{// else keep polling}
257         \}
258     \}
259 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 26




\subsection{Member Data Documentation}
\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!m\+\_\+bs@{m\+\_\+bs}}
\index{m\+\_\+bs@{m\+\_\+bs}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+bs}{m_bs}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Base\+Station\+Net\+Device}$>$ ns3\+::\+B\+S\+Link\+Manager\+::m\+\_\+bs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}{}\label{classns3_1_1BSLinkManager_a03e8b376dd28651abfeded291ea52fc8}


base station 

\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!m\+\_\+signal\+Quality@{m\+\_\+signal\+Quality}}
\index{m\+\_\+signal\+Quality@{m\+\_\+signal\+Quality}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+signal\+Quality}{m_signalQuality}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+B\+S\+Link\+Manager\+::m\+\_\+signal\+Quality\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_afcbe9d8fc962a6a39f0c99adcf9b985c}{}\label{classns3_1_1BSLinkManager_afcbe9d8fc962a6a39f0c99adcf9b985c}


signal quality 

\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!m\+\_\+signal\+Quality\+Threshold@{m\+\_\+signal\+Quality\+Threshold}}
\index{m\+\_\+signal\+Quality\+Threshold@{m\+\_\+signal\+Quality\+Threshold}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+signal\+Quality\+Threshold}{m_signalQualityThreshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+B\+S\+Link\+Manager\+::m\+\_\+signal\+Quality\+Threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a7f6d2a2b929aa3075d766569c40ce51b}{}\label{classns3_1_1BSLinkManager_a7f6d2a2b929aa3075d766569c40ce51b}


signal quality threshold 

\index{ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}!tries@{tries}}
\index{tries@{tries}!ns3\+::\+B\+S\+Link\+Manager@{ns3\+::\+B\+S\+Link\+Manager}}
\subsubsection[{\texorpdfstring{tries}{tries}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+B\+S\+Link\+Manager\+::tries\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1BSLinkManager_a7eeaf72c73cddf69a0a5cb90ab1c1fc1}{}\label{classns3_1_1BSLinkManager_a7eeaf72c73cddf69a0a5cb90ab1c1fc1}


variable to test multiple R\+N\+G-\/\+R\+EQ by the SS for example undecodable at BS or lost R\+N\+G-\/\+R\+SP 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wimax/model/\hyperlink{bs-link-manager_8h}{bs-\/link-\/manager.\+h}\item 
wimax/model/\hyperlink{bs-link-manager_8cc}{bs-\/link-\/manager.\+cc}\end{DoxyCompactItemize}
