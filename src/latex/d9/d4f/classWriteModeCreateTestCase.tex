\hypertarget{classWriteModeCreateTestCase}{}\section{Write\+Mode\+Create\+Test\+Case Class Reference}
\label{classWriteModeCreateTestCase}\index{Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}}


Inheritance diagram for Write\+Mode\+Create\+Test\+Case\+:
% FIG 0


Collaboration diagram for Write\+Mode\+Create\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classWriteModeCreateTestCase_a500132572e1b73777e68f6186775b007}{Write\+Mode\+Create\+Test\+Case} ()
\item 
virtual \hyperlink{classWriteModeCreateTestCase_a5750b7f33edf46afbc97fd5ac124509b}{$\sim$\+Write\+Mode\+Create\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classWriteModeCreateTestCase_a3a3ac08af7de3c751216bad78fa5082e}{Do\+Setup} (void)
\begin{DoxyCompactList}\small\item\em Implementation to do any local setup required for this Test\+Case. \end{DoxyCompactList}\item 
virtual void \hyperlink{classWriteModeCreateTestCase_a0997ebdb9d907e8ea6e94a7ab96cc5b1}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
virtual void \hyperlink{classWriteModeCreateTestCase_ae7c47beed305ee1457a49049bf2ccd52}{Do\+Teardown} (void)
\begin{DoxyCompactList}\small\item\em Implementation to do any local setup required for this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\+\_\+test\+Filename}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}!Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}}
\index{Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}!Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{Write\+Mode\+Create\+Test\+Case()}{WriteModeCreateTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Write\+Mode\+Create\+Test\+Case\+::\+Write\+Mode\+Create\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classWriteModeCreateTestCase_a500132572e1b73777e68f6186775b007}{}\label{classWriteModeCreateTestCase_a500132572e1b73777e68f6186775b007}

\begin{DoxyCode}
99   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Check to see that PcapFile::Open with mode std::ios::out works"})
100 \{
101 \}
\end{DoxyCode}
\index{Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}!````~Write\+Mode\+Create\+Test\+Case@{$\sim$\+Write\+Mode\+Create\+Test\+Case}}
\index{````~Write\+Mode\+Create\+Test\+Case@{$\sim$\+Write\+Mode\+Create\+Test\+Case}!Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Write\+Mode\+Create\+Test\+Case()}{~WriteModeCreateTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Write\+Mode\+Create\+Test\+Case\+::$\sim$\+Write\+Mode\+Create\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classWriteModeCreateTestCase_a5750b7f33edf46afbc97fd5ac124509b}{}\label{classWriteModeCreateTestCase_a5750b7f33edf46afbc97fd5ac124509b}

\begin{DoxyCode}
104 \{
105 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Write\+Mode\+Create\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classWriteModeCreateTestCase_a0997ebdb9d907e8ea6e94a7ab96cc5b1}{}\label{classWriteModeCreateTestCase_a0997ebdb9d907e8ea6e94a7ab96cc5b1}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
127 \{
128   \hyperlink{classns3_1_1PcapFile}{PcapFile} \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f};
129 
130   \textcolor{comment}{//}
131   \textcolor{comment}{// Opening a new file in write mode should result in an empty file of the}
132   \textcolor{comment}{// given name.}
133   \textcolor{comment}{//}
134   f.\hyperlink{classns3_1_1PcapFile_a064e8494e28e823d0bb4e40549f9f483}{Open} (\hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename}, std::ios::out);
135 
136   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Open ("} << 
      \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename} << \textcolor{stringliteral}{", \(\backslash\)"w\(\backslash\)") returns error"});
137   f.\hyperlink{classns3_1_1PcapFile_ad3b6c28d464742ee1fa3a64628339a5b}{Close} ();
138 
139   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{pcap-file-test-suite_8cc_a4e90999451af2d85d014e610a7ab9d0b}{CheckFileExists} (
      \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename}), \textcolor{keyword}{true}, 
140                          \textcolor{stringliteral}{"Open ("} << \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename} << \textcolor{stringliteral}{", \(\backslash\)"std::ios::out\(\backslash\)") does not create
       file"});
141   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{pcap-file-test-suite_8cc_a6206c639b9ce76fb5ca2c548ce4a5935}{CheckFileLength} (
      \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename}, 0), \textcolor{keyword}{true},
142                          \textcolor{stringliteral}{"Open ("} << \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename} << \textcolor{stringliteral}{", \(\backslash\)"std::ios::out\(\backslash\)") does not result
       in an empty file"});
143 
144   \textcolor{comment}{//}
145   \textcolor{comment}{// Calling Init() on a file created with "std::ios::out" should result in a file just }
146   \textcolor{comment}{// long enough to contain the pcap file header.}
147   \textcolor{comment}{//}
148   f.\hyperlink{classns3_1_1PcapFile_a064e8494e28e823d0bb4e40549f9f483}{Open} (\hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename}, std::ios::out);
149   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Open ("} << 
      \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename} << 
150                          \textcolor{stringliteral}{", \(\backslash\)"std::ios::out\(\backslash\)") returns error"});
151 
152   f.\hyperlink{classns3_1_1PcapFile_a80c8adea1baa66e3f730df2927b0fc9b}{Init} (1234, 5678, 7);
153   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Init (1234, 5678, 7) returns error"});
154 
155   f.\hyperlink{classns3_1_1PcapFile_ad3b6c28d464742ee1fa3a64628339a5b}{Close} ();
156 
157   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{pcap-file-test-suite_8cc_a6206c639b9ce76fb5ca2c548ce4a5935}{CheckFileLength} (
      \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename}, 24), \textcolor{keyword}{true}, 
158                          \textcolor{stringliteral}{"Init () does not result in a file with a pcap file header"});
159 
160   \textcolor{comment}{//}
161   \textcolor{comment}{// Opening an existing file in write mode should result in that file being}
162   \textcolor{comment}{// emptied.}
163   \textcolor{comment}{//}
164   f.\hyperlink{classns3_1_1PcapFile_a064e8494e28e823d0bb4e40549f9f483}{Open} (\hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename}, std::ios::out);
165   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Open ("} << 
      \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename} << 
166                          \textcolor{stringliteral}{", \(\backslash\)"std::ios::out\(\backslash\)") returns error"});
167 
168   f.\hyperlink{classns3_1_1PcapFile_ad3b6c28d464742ee1fa3a64628339a5b}{Close} ();
169 
170   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{pcap-file-test-suite_8cc_a6206c639b9ce76fb5ca2c548ce4a5935}{CheckFileLength} (
      \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename}, 0), \textcolor{keyword}{true}, 
171                          \textcolor{stringliteral}{"Open ("} << \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename} << \textcolor{stringliteral}{", \(\backslash\)"w\(\backslash\)") does not result in an empty
       file"});
172 
173   \textcolor{comment}{//}
174   \textcolor{comment}{// Initialize the file again.}
175   \textcolor{comment}{//}
176   f.\hyperlink{classns3_1_1PcapFile_a064e8494e28e823d0bb4e40549f9f483}{Open} (\hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename}, std::ios::out);
177   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, 
178                          \textcolor{stringliteral}{"Open ("} << \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename} << \textcolor{stringliteral}{", \(\backslash\)"w\(\backslash\)") returns error"});
179 
180   f.\hyperlink{classns3_1_1PcapFile_a80c8adea1baa66e3f730df2927b0fc9b}{Init} (1234, 5678, 7);
181   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Init (1234, 5678, 7) returns error"});
182 
183   \textcolor{comment}{//}
184   \textcolor{comment}{// Now we should be able to write to it since it was opened in std::ios::out mode.}
185   \textcolor{comment}{// This is just a permissions check so we don't actually look at the }
186   \textcolor{comment}{// data.}
187   \textcolor{comment}{//}
188   uint8\_t buffer[128];
189   memset (buffer, 0, \textcolor{keyword}{sizeof}(buffer));
190   f.\hyperlink{classns3_1_1PcapFile_a3920f5bae95ca0021875e6e9c2630ccf}{Write} (0, 0, buffer, 128);
191   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (f.\hyperlink{classns3_1_1PcapFile_a2e00aa080890a0c9c3e9f5bd2d6c21d5}{Fail} (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Write (write-only-file "} << 
      \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename} << 
192                          \textcolor{stringliteral}{") returns error"});
193 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}!Do\+Setup@{Do\+Setup}}
\index{Do\+Setup@{Do\+Setup}!Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Setup(void)}{DoSetup(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Write\+Mode\+Create\+Test\+Case\+::\+Do\+Setup (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classWriteModeCreateTestCase_a3a3ac08af7de3c751216bad78fa5082e}{}\label{classWriteModeCreateTestCase_a3a3ac08af7de3c751216bad78fa5082e}


Implementation to do any local setup required for this Test\+Case. 

Subclasses should override this method to perform any costly per-\/test setup before Do\+Run is invoked. 

Reimplemented from \hyperlink{classns3_1_1TestCase_a4a7e32ad32a10a508910815cd38e9177}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
109 \{
110   std::stringstream filename;
111   uint32\_t \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} = rand ();
112   filename << \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n};
113   \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename} = \hyperlink{classns3_1_1TestCase_a8a04695a6fb9ba0f89e28e9523963f88}{CreateTempDirFilename} (filename.str () + \textcolor{stringliteral}{".pcap"});
114 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}!Do\+Teardown@{Do\+Teardown}}
\index{Do\+Teardown@{Do\+Teardown}!Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Teardown(void)}{DoTeardown(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Write\+Mode\+Create\+Test\+Case\+::\+Do\+Teardown (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classWriteModeCreateTestCase_ae7c47beed305ee1457a49049bf2ccd52}{}\label{classWriteModeCreateTestCase_ae7c47beed305ee1457a49049bf2ccd52}


Implementation to do any local setup required for this Test\+Case. 

Subclasses should override this method to perform any costly per-\/test teardown 

Reimplemented from \hyperlink{classns3_1_1TestCase_a8917f1604e28d312a8086f76291e3c46}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
118 \{
119   \textcolor{keywordflow}{if} (\textcolor{keyword}{remove} (\hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename}.c\_str ()))
120     \{
121       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Failed to delete file "} << \hyperlink{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{m\_testFilename});
122     \}
123 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}!m\+\_\+test\+Filename@{m\+\_\+test\+Filename}}
\index{m\+\_\+test\+Filename@{m\+\_\+test\+Filename}!Write\+Mode\+Create\+Test\+Case@{Write\+Mode\+Create\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+test\+Filename}{m_testFilename}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Write\+Mode\+Create\+Test\+Case\+::m\+\_\+test\+Filename\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}{}\label{classWriteModeCreateTestCase_a2dcb2ef5d9a2f9597f0cf646dcd600b8}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
network/test/\hyperlink{pcap-file-test-suite_8cc}{pcap-\/file-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
