\hypertarget{classns3_1_1OnoeWifiManager}{}\section{ns3\+:\+:Onoe\+Wifi\+Manager Class Reference}
\label{classns3_1_1OnoeWifiManager}\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}


an implementation of the rate control algorithm developed by Atsushi Onoe  




{\ttfamily \#include $<$onoe-\/wifi-\/manager.\+h$>$}



Inheritance diagram for ns3\+:\+:Onoe\+Wifi\+Manager\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Onoe\+Wifi\+Manager\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1OnoeWifiManager_afaae753c06e0ef83c09736804ec6ccdd}{Onoe\+Wifi\+Manager} ()
\item 
virtual \hyperlink{classns3_1_1OnoeWifiManager_a739beb293e1e6256471e11ebbf26b602}{$\sim$\+Onoe\+Wifi\+Manager} ()
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_ace96fb531a6f8bf3bd07b5e042af2923}{Set\+Ht\+Supported} (bool enable)
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_a55bbc10160ccf3f75e263367854ca722}{Set\+Vht\+Supported} (bool enable)
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_abf79989f5e8c3e77fe28a57cc490c206}{Set\+He\+Supported} (bool enable)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1OnoeWifiManager_a0d00d3117c701040f9067bf32cbc6a1b}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structns3_1_1WifiRemoteStation}{Wifi\+Remote\+Station} $\ast$ \hyperlink{classns3_1_1OnoeWifiManager_a9db9ac3aa4fd946f3975d83d135a1bfa}{Do\+Create\+Station} (void) const 
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_a255ff070b8b64f2b0ed8bbd38f52577c}{Do\+Report\+Rx\+Ok} (\hyperlink{structns3_1_1WifiRemoteStation}{Wifi\+Remote\+Station} $\ast$station, double rx\+Snr, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} tx\+Mode)
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_aad9e8284ca043034d43b436ee562ecbf}{Do\+Report\+Rts\+Failed} (\hyperlink{structns3_1_1WifiRemoteStation}{Wifi\+Remote\+Station} $\ast$station)
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_a104ca38ccb821a9eb86c7e0e449c7876}{Do\+Report\+Data\+Failed} (\hyperlink{structns3_1_1WifiRemoteStation}{Wifi\+Remote\+Station} $\ast$station)
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_ada79b8957565cb2f0baec386faa7e6c6}{Do\+Report\+Rts\+Ok} (\hyperlink{structns3_1_1WifiRemoteStation}{Wifi\+Remote\+Station} $\ast$station, double cts\+Snr, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} cts\+Mode, double rts\+Snr)
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_a5a1e6b98802d05efba652b7f3b3557ea}{Do\+Report\+Data\+Ok} (\hyperlink{structns3_1_1WifiRemoteStation}{Wifi\+Remote\+Station} $\ast$station, double ack\+Snr, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} ack\+Mode, double data\+Snr)
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_aca067e6c4399d1619ad8d64973672160}{Do\+Report\+Final\+Rts\+Failed} (\hyperlink{structns3_1_1WifiRemoteStation}{Wifi\+Remote\+Station} $\ast$station)
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_abc9c29c65480a0fb8219e188b6eea0de}{Do\+Report\+Final\+Data\+Failed} (\hyperlink{structns3_1_1WifiRemoteStation}{Wifi\+Remote\+Station} $\ast$station)
\item 
\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1OnoeWifiManager_a58c4d341696639d4b0ea618275461da4}{Do\+Get\+Data\+Tx\+Vector} (\hyperlink{structns3_1_1WifiRemoteStation}{Wifi\+Remote\+Station} $\ast$station)
\item 
\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1OnoeWifiManager_a235403aacb2b69d019b23a86263623d7}{Do\+Get\+Rts\+Tx\+Vector} (\hyperlink{structns3_1_1WifiRemoteStation}{Wifi\+Remote\+Station} $\ast$station)
\item 
bool \hyperlink{classns3_1_1OnoeWifiManager_a58c0d869c4662a9c40a4bcdc63024eb0}{Is\+Low\+Latency} (void) const 
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_a257355b8311b31c9c649b1da31db2a5d}{Update\+Retry} (\hyperlink{structns3_1_1OnoeWifiRemoteStation}{Onoe\+Wifi\+Remote\+Station} $\ast$station)
\item 
void \hyperlink{classns3_1_1OnoeWifiManager_afecc5c3113a6fa42f1d784fec75e3876}{Update\+Mode} (\hyperlink{structns3_1_1OnoeWifiRemoteStation}{Onoe\+Wifi\+Remote\+Station} $\ast$station)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1OnoeWifiManager_a43506e7013f037ec858df5af2de2f1cb}{m\+\_\+update\+Period}
\begin{DoxyCompactList}\small\item\em update period \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1OnoeWifiManager_ab90c1f44166227ffa41233b0c7c65a52}{m\+\_\+add\+Credit\+Threshold}
\begin{DoxyCompactList}\small\item\em add credit threshold \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1OnoeWifiManager_abd4f1bac1a93e084879e39100096d8cf}{m\+\_\+raise\+Threshold}
\begin{DoxyCompactList}\small\item\em raise threshold \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1TracedValue}{Traced\+Value}$<$ uint64\+\_\+t $>$ \hyperlink{classns3_1_1OnoeWifiManager_a5ba916c2f45dd5687c035db25dc86800}{m\+\_\+current\+Rate}
\begin{DoxyCompactList}\small\item\em Trace rate changes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
an implementation of the rate control algorithm developed by Atsushi Onoe 

This algorithm is well known because it has been used as the default rate control algorithm for the madwifi driver. I am not aware of any publication or reference about this algorithm beyond the madwifi source code.

This R\+AA does not support HT, V\+HT nor HE modes and will error exit if the user tries to configure this R\+AA with a Wi-\/\+Fi M\+AC that has Vht\+Supported, Ht\+Supported or He\+Supported set. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Onoe\+Wifi\+Manager@{Onoe\+Wifi\+Manager}}
\index{Onoe\+Wifi\+Manager@{Onoe\+Wifi\+Manager}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Onoe\+Wifi\+Manager()}{OnoeWifiManager()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Onoe\+Wifi\+Manager\+::\+Onoe\+Wifi\+Manager (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1OnoeWifiManager_afaae753c06e0ef83c09736804ec6ccdd}{}\label{classns3_1_1OnoeWifiManager_afaae753c06e0ef83c09736804ec6ccdd}

\begin{DoxyCode}
81   : \hyperlink{classns3_1_1WifiRemoteStationManager_a78524840f5900e1937e8e2d6df48954d}{WifiRemoteStationManager} (),
82     \hyperlink{classns3_1_1OnoeWifiManager_a5ba916c2f45dd5687c035db25dc86800}{m\_currentRate} (0)
83 \{
84 \}
\end{DoxyCode}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!````~Onoe\+Wifi\+Manager@{$\sim$\+Onoe\+Wifi\+Manager}}
\index{````~Onoe\+Wifi\+Manager@{$\sim$\+Onoe\+Wifi\+Manager}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{$\sim$\+Onoe\+Wifi\+Manager()}{~OnoeWifiManager()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Onoe\+Wifi\+Manager\+::$\sim$\+Onoe\+Wifi\+Manager (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_a739beb293e1e6256471e11ebbf26b602}{}\label{classns3_1_1OnoeWifiManager_a739beb293e1e6256471e11ebbf26b602}

\begin{DoxyCode}
87 \{
88 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Do\+Create\+Station@{Do\+Create\+Station}}
\index{Do\+Create\+Station@{Do\+Create\+Station}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Create\+Station(void) const }{DoCreateStation(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Remote\+Station} $\ast$ ns3\+::\+Onoe\+Wifi\+Manager\+::\+Do\+Create\+Station (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_a9db9ac3aa4fd946f3975d83d135a1bfa}{}\label{classns3_1_1OnoeWifiManager_a9db9ac3aa4fd946f3975d83d135a1bfa}
\begin{DoxyReturn}{Returns}
a new station data structure 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1WifiRemoteStationManager_a63dfc98d85d14b9e6b6314c7648c6a7d}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
92 \{
93   OnoeWifiRemoteStation *station = \textcolor{keyword}{new} OnoeWifiRemoteStation ();
94   station->m\_nextModeUpdate = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () + \hyperlink{classns3_1_1OnoeWifiManager_a43506e7013f037ec858df5af2de2f1cb}{m\_updatePeriod};
95   station->m\_shortRetry = 0;
96   station->m\_longRetry = 0;
97   station->m\_tx\_ok = 0;
98   station->m\_tx\_err = 0;
99   station->m\_tx\_retr = 0;
100   station->m\_tx\_upper = 0;
101   station->m\_txrate = 0;
102   \textcolor{keywordflow}{return} station;
103 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Do\+Get\+Data\+Tx\+Vector@{Do\+Get\+Data\+Tx\+Vector}}
\index{Do\+Get\+Data\+Tx\+Vector@{Do\+Get\+Data\+Tx\+Vector}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Get\+Data\+Tx\+Vector(\+Wifi\+Remote\+Station $\ast$station)}{DoGetDataTxVector(WifiRemoteStation *station)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Onoe\+Wifi\+Manager\+::\+Do\+Get\+Data\+Tx\+Vector (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Remote\+Station} $\ast$}]{station}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_a58c4d341696639d4b0ea618275461da4}{}\label{classns3_1_1OnoeWifiManager_a58c4d341696639d4b0ea618275461da4}

\begin{DoxyParams}{Parameters}
{\em station} & the station that we need to communicate\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the T\+X\+V\+E\+C\+T\+OR to use to send a packet to the station
\end{DoxyReturn}
Note\+: This method is called before sending a unicast packet or a fragment of a unicast packet to decide which transmission mode to use. 

Implements \hyperlink{classns3_1_1WifiRemoteStationManager_a5a6b2bfcd4959da43c54f0072bd01202}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
248 \{
249   OnoeWifiRemoteStation *station = (OnoeWifiRemoteStation *)st;
250   \hyperlink{classns3_1_1OnoeWifiManager_afecc5c3113a6fa42f1d784fec75e3876}{UpdateMode} (station);
251   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (station->m\_txrate < \hyperlink{classns3_1_1WifiRemoteStationManager_a7316bf091ebad5b8cd1a8b5ee47554d8}{GetNSupported} (station));
252   uint32\_t rateIndex;
253   \textcolor{keywordflow}{if} (station->m\_longRetry < 4)
254     \{
255       rateIndex = station->m\_txrate;
256     \}
257   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (station->m\_longRetry < 6)
258     \{
259       \textcolor{keywordflow}{if} (station->m\_txrate > 0)
260         \{
261           rateIndex = station->m\_txrate - 1;
262         \}
263       \textcolor{keywordflow}{else}
264         \{
265           rateIndex = station->m\_txrate;
266         \}
267     \}
268   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (station->m\_longRetry < 8)
269     \{
270       \textcolor{keywordflow}{if} (station->m\_txrate > 1)
271         \{
272           rateIndex = station->m\_txrate - 2;
273         \}
274       \textcolor{keywordflow}{else}
275         \{
276           rateIndex = station->m\_txrate;
277         \}
278     \}
279   \textcolor{keywordflow}{else}
280     \{
281       \textcolor{keywordflow}{if} (station->m\_txrate > 2)
282         \{
283           rateIndex = station->m\_txrate - 3;
284         \}
285       \textcolor{keywordflow}{else}
286         \{
287           rateIndex = station->m\_txrate;
288         \}
289     \}
290   uint32\_t channelWidth = \hyperlink{classns3_1_1WifiRemoteStationManager_a918213c5b9fa629c4986f6d90521bbd4}{GetChannelWidth} (station);
291   \textcolor{keywordflow}{if} (channelWidth > 20 && channelWidth != 22)
292     \{
293       \textcolor{comment}{//avoid to use legacy rate adaptation algorithms for IEEE 802.11n/ac}
294       channelWidth = 20;
295     \}
296   WifiMode mode = \hyperlink{classns3_1_1WifiRemoteStationManager_a995c8bae0d84b168fd3e8bc9ecaacdd4}{GetSupported} (station, rateIndex);
297   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1OnoeWifiManager_a5ba916c2f45dd5687c035db25dc86800}{m\_currentRate} != mode.GetDataRate (channelWidth))
298     \{
299       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"New datarate: "} << mode.GetDataRate (channelWidth));
300       \hyperlink{classns3_1_1OnoeWifiManager_a5ba916c2f45dd5687c035db25dc86800}{m\_currentRate} = mode.GetDataRate (channelWidth);
301     \}
302   \textcolor{keywordflow}{return} WifiTxVector (mode, \hyperlink{classns3_1_1WifiRemoteStationManager_acff2fc859ee6b4c66ea7a83dd075b5d6}{GetDefaultTxPowerLevel} (), 
      \hyperlink{classns3_1_1WifiRemoteStationManager_aac10b1403fb0bd670f8a8bd6d7e48304}{GetLongRetryCount} (station), \hyperlink{classns3_1_1WifiRemoteStationManager_a0f44967cbd7488baada4802ebc642110}{GetPreambleForTransmission} (mode, 
      \hyperlink{classns3_1_1WifiRemoteStationManager_ac9ccc8c514bd8d2af05c290e63461a2a}{GetAddress} (st)), 800, 1, 1, 0, channelWidth, \hyperlink{classns3_1_1WifiRemoteStationManager_a5421c8d510cb16eebeac9f2ea9dd73c3}{GetAggregation} (station), \textcolor{keyword}{false});
303 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Do\+Get\+Rts\+Tx\+Vector@{Do\+Get\+Rts\+Tx\+Vector}}
\index{Do\+Get\+Rts\+Tx\+Vector@{Do\+Get\+Rts\+Tx\+Vector}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Get\+Rts\+Tx\+Vector(\+Wifi\+Remote\+Station $\ast$station)}{DoGetRtsTxVector(WifiRemoteStation *station)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Onoe\+Wifi\+Manager\+::\+Do\+Get\+Rts\+Tx\+Vector (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Remote\+Station} $\ast$}]{station}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_a235403aacb2b69d019b23a86263623d7}{}\label{classns3_1_1OnoeWifiManager_a235403aacb2b69d019b23a86263623d7}

\begin{DoxyParams}{Parameters}
{\em station} & the station that we need to communicate\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the transmission mode to use to send an rts to the station
\end{DoxyReturn}
Note\+: This method is called before sending an rts to a station to decide which transmission mode to use for the rts. 

Implements \hyperlink{classns3_1_1WifiRemoteStationManager_abf44eccb31d4b1b58644fd6721d132c9}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
307 \{
308   OnoeWifiRemoteStation *station = (OnoeWifiRemoteStation *)st;
309   uint32\_t channelWidth = \hyperlink{classns3_1_1WifiRemoteStationManager_a918213c5b9fa629c4986f6d90521bbd4}{GetChannelWidth} (station);
310   \textcolor{keywordflow}{if} (channelWidth > 20 && channelWidth != 22)
311     \{
312       \textcolor{comment}{//avoid to use legacy rate adaptation algorithms for IEEE 802.11n/ac}
313       channelWidth = 20;
314     \}
315   \hyperlink{classns3_1_1OnoeWifiManager_afecc5c3113a6fa42f1d784fec75e3876}{UpdateMode} (station);
316   WifiTxVector rtsTxVector;
317   WifiMode mode;
318   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1WifiRemoteStationManager_a2d3d93f08995e554960a177a52f90f2f}{GetUseNonErpProtection} () == \textcolor{keyword}{false})
319     \{
320       mode = \hyperlink{classns3_1_1WifiRemoteStationManager_a995c8bae0d84b168fd3e8bc9ecaacdd4}{GetSupported} (station, 0);
321     \}
322   \textcolor{keywordflow}{else}
323     \{
324       mode = \hyperlink{classns3_1_1WifiRemoteStationManager_a3df8f1931f1fce653e5990a2821b44c6}{GetNonErpSupported} (station, 0);
325     \}
326   rtsTxVector = WifiTxVector (mode, \hyperlink{classns3_1_1WifiRemoteStationManager_acff2fc859ee6b4c66ea7a83dd075b5d6}{GetDefaultTxPowerLevel} (), 
      \hyperlink{classns3_1_1WifiRemoteStationManager_ad61157a9a56cf668f3255730f6a416b2}{GetShortRetryCount} (station), \hyperlink{classns3_1_1WifiRemoteStationManager_a0f44967cbd7488baada4802ebc642110}{GetPreambleForTransmission} (mode,
       \hyperlink{classns3_1_1WifiRemoteStationManager_ac9ccc8c514bd8d2af05c290e63461a2a}{GetAddress} (st)), 800, 1, 1, 0, channelWidth, \hyperlink{classns3_1_1WifiRemoteStationManager_a5421c8d510cb16eebeac9f2ea9dd73c3}{GetAggregation} (station), \textcolor{keyword}{false});
327   \textcolor{keywordflow}{return} rtsTxVector;
328 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Do\+Report\+Data\+Failed@{Do\+Report\+Data\+Failed}}
\index{Do\+Report\+Data\+Failed@{Do\+Report\+Data\+Failed}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Report\+Data\+Failed(\+Wifi\+Remote\+Station $\ast$station)}{DoReportDataFailed(WifiRemoteStation *station)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Do\+Report\+Data\+Failed (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Remote\+Station} $\ast$}]{station}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_a104ca38ccb821a9eb86c7e0e449c7876}{}\label{classns3_1_1OnoeWifiManager_a104ca38ccb821a9eb86c7e0e449c7876}
This method is a pure virtual method that must be implemented by the sub-\/class. This allows different types of \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} to respond differently,


\begin{DoxyParams}{Parameters}
{\em station} & the station that we failed to send D\+A\+TA \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1WifiRemoteStationManager_a38a4401b6232cb547f5a85337e02b12c}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
120 \{
121   OnoeWifiRemoteStation *station = (OnoeWifiRemoteStation *)st;
122   station->m\_longRetry++;
123 \}
\end{DoxyCode}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Do\+Report\+Data\+Ok@{Do\+Report\+Data\+Ok}}
\index{Do\+Report\+Data\+Ok@{Do\+Report\+Data\+Ok}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Report\+Data\+Ok(\+Wifi\+Remote\+Station $\ast$station, double ack\+Snr, Wifi\+Mode ack\+Mode, double data\+Snr)}{DoReportDataOk(WifiRemoteStation *station, double ackSnr, WifiMode ackMode, double dataSnr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Do\+Report\+Data\+Ok (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Remote\+Station} $\ast$}]{station, }
\item[{double}]{ack\+Snr, }
\item[{{\bf Wifi\+Mode}}]{ack\+Mode, }
\item[{double}]{data\+Snr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_a5a1e6b98802d05efba652b7f3b3557ea}{}\label{classns3_1_1OnoeWifiManager_a5a1e6b98802d05efba652b7f3b3557ea}
This method is a pure virtual method that must be implemented by the sub-\/class. This allows different types of \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} to respond differently,


\begin{DoxyParams}{Parameters}
{\em station} & the station that we successfully sent R\+TS \\
\hline
{\em ack\+Snr} & the S\+NR of the A\+CK we received \\
\hline
{\em ack\+Mode} & the \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} the receiver used to send the A\+CK \\
\hline
{\em data\+Snr} & the S\+NR of the D\+A\+TA we sent \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1WifiRemoteStationManager_a9328ead6b0b4ad50fbd589b286a84c21}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
134 \{
135   OnoeWifiRemoteStation *station = (OnoeWifiRemoteStation *)st;
136   \hyperlink{classns3_1_1OnoeWifiManager_a257355b8311b31c9c649b1da31db2a5d}{UpdateRetry} (station);
137   station->m\_tx\_ok++;
138 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Do\+Report\+Final\+Data\+Failed@{Do\+Report\+Final\+Data\+Failed}}
\index{Do\+Report\+Final\+Data\+Failed@{Do\+Report\+Final\+Data\+Failed}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Report\+Final\+Data\+Failed(\+Wifi\+Remote\+Station $\ast$station)}{DoReportFinalDataFailed(WifiRemoteStation *station)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Do\+Report\+Final\+Data\+Failed (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Remote\+Station} $\ast$}]{station}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_abc9c29c65480a0fb8219e188b6eea0de}{}\label{classns3_1_1OnoeWifiManager_abc9c29c65480a0fb8219e188b6eea0de}
This method is a pure virtual method that must be implemented by the sub-\/class. This allows different types of \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} to respond differently,


\begin{DoxyParams}{Parameters}
{\em station} & the station that we failed to send D\+A\+TA \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1WifiRemoteStationManager_a32e2a7a9f651b5224b5c037c14598cf7}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
150 \{
151   OnoeWifiRemoteStation *station = (OnoeWifiRemoteStation *)st;
152   \hyperlink{classns3_1_1OnoeWifiManager_a257355b8311b31c9c649b1da31db2a5d}{UpdateRetry} (station);
153   station->m\_tx\_err++;
154 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Do\+Report\+Final\+Rts\+Failed@{Do\+Report\+Final\+Rts\+Failed}}
\index{Do\+Report\+Final\+Rts\+Failed@{Do\+Report\+Final\+Rts\+Failed}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Report\+Final\+Rts\+Failed(\+Wifi\+Remote\+Station $\ast$station)}{DoReportFinalRtsFailed(WifiRemoteStation *station)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Do\+Report\+Final\+Rts\+Failed (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Remote\+Station} $\ast$}]{station}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_aca067e6c4399d1619ad8d64973672160}{}\label{classns3_1_1OnoeWifiManager_aca067e6c4399d1619ad8d64973672160}
This method is a pure virtual method that must be implemented by the sub-\/class. This allows different types of \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} to respond differently,


\begin{DoxyParams}{Parameters}
{\em station} & the station that we failed to send R\+TS \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1WifiRemoteStationManager_aed2a605fb30d7fc31638eae3f8ee7403}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
142 \{
143   OnoeWifiRemoteStation *station = (OnoeWifiRemoteStation *)st;
144   \hyperlink{classns3_1_1OnoeWifiManager_a257355b8311b31c9c649b1da31db2a5d}{UpdateRetry} (station);
145   station->m\_tx\_err++;
146 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Do\+Report\+Rts\+Failed@{Do\+Report\+Rts\+Failed}}
\index{Do\+Report\+Rts\+Failed@{Do\+Report\+Rts\+Failed}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Report\+Rts\+Failed(\+Wifi\+Remote\+Station $\ast$station)}{DoReportRtsFailed(WifiRemoteStation *station)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Do\+Report\+Rts\+Failed (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Remote\+Station} $\ast$}]{station}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_aad9e8284ca043034d43b436ee562ecbf}{}\label{classns3_1_1OnoeWifiManager_aad9e8284ca043034d43b436ee562ecbf}
This method is a pure virtual method that must be implemented by the sub-\/class. This allows different types of \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} to respond differently,


\begin{DoxyParams}{Parameters}
{\em station} & the station that we failed to send R\+TS \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1WifiRemoteStationManager_ab825ef773e7d251f0e157624a49c7041}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
113 \{
114   OnoeWifiRemoteStation *station = (OnoeWifiRemoteStation *)st;
115   station->m\_shortRetry++;
116 \}
\end{DoxyCode}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Do\+Report\+Rts\+Ok@{Do\+Report\+Rts\+Ok}}
\index{Do\+Report\+Rts\+Ok@{Do\+Report\+Rts\+Ok}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Report\+Rts\+Ok(\+Wifi\+Remote\+Station $\ast$station, double cts\+Snr, Wifi\+Mode cts\+Mode, double rts\+Snr)}{DoReportRtsOk(WifiRemoteStation *station, double ctsSnr, WifiMode ctsMode, double rtsSnr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Do\+Report\+Rts\+Ok (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Remote\+Station} $\ast$}]{station, }
\item[{double}]{cts\+Snr, }
\item[{{\bf Wifi\+Mode}}]{cts\+Mode, }
\item[{double}]{rts\+Snr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_ada79b8957565cb2f0baec386faa7e6c6}{}\label{classns3_1_1OnoeWifiManager_ada79b8957565cb2f0baec386faa7e6c6}
This method is a pure virtual method that must be implemented by the sub-\/class. This allows different types of \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} to respond differently,


\begin{DoxyParams}{Parameters}
{\em station} & the station that we successfully sent R\+TS \\
\hline
{\em cts\+Snr} & the S\+NR of the C\+TS we received \\
\hline
{\em cts\+Mode} & the \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} the receiver used to send the C\+TS \\
\hline
{\em rts\+Snr} & the S\+NR of the R\+TS we sent \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1WifiRemoteStationManager_a33a010f86ce5e68ceda2a0abbf21b71e}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
128 \{
129 \}
\end{DoxyCode}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Do\+Report\+Rx\+Ok@{Do\+Report\+Rx\+Ok}}
\index{Do\+Report\+Rx\+Ok@{Do\+Report\+Rx\+Ok}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Do\+Report\+Rx\+Ok(\+Wifi\+Remote\+Station $\ast$station, double rx\+Snr, Wifi\+Mode tx\+Mode)}{DoReportRxOk(WifiRemoteStation *station, double rxSnr, WifiMode txMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Do\+Report\+Rx\+Ok (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Remote\+Station} $\ast$}]{station, }
\item[{double}]{rx\+Snr, }
\item[{{\bf Wifi\+Mode}}]{tx\+Mode}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_a255ff070b8b64f2b0ed8bbd38f52577c}{}\label{classns3_1_1OnoeWifiManager_a255ff070b8b64f2b0ed8bbd38f52577c}
This method is a pure virtual method that must be implemented by the sub-\/class. This allows different types of \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} to respond differently,


\begin{DoxyParams}{Parameters}
{\em station} & the station that sent the D\+A\+TA to us \\
\hline
{\em rx\+Snr} & the S\+NR of the D\+A\+TA we received \\
\hline
{\em tx\+Mode} & the \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} the sender used to send the D\+A\+TA \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1WifiRemoteStationManager_ade990f17f78d8fc32c736b91a2557b25}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
108 \{
109 \}
\end{DoxyCode}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Onoe\+Wifi\+Manager\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1OnoeWifiManager_a0d00d3117c701040f9067bf32cbc6a1b}{}\label{classns3_1_1OnoeWifiManager_a0d00d3117c701040f9067bf32cbc6a1b}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
54 \{
55   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::OnoeWifiManager"})
56     .SetParent<\hyperlink{classns3_1_1WifiRemoteStationManager_a78524840f5900e1937e8e2d6df48954d}{WifiRemoteStationManager}> ()
57     .SetGroupName (\textcolor{stringliteral}{"Wifi"})
58     .AddConstructor<\hyperlink{classns3_1_1OnoeWifiManager_afaae753c06e0ef83c09736804ec6ccdd}{OnoeWifiManager}> ()
59     .AddAttribute (\textcolor{stringliteral}{"UpdatePeriod"},
60                    \textcolor{stringliteral}{"The interval between decisions about rate control changes"},
61                    TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0)),
62                    MakeTimeAccessor (&\hyperlink{classns3_1_1OnoeWifiManager_a43506e7013f037ec858df5af2de2f1cb}{OnoeWifiManager::m\_updatePeriod}),
63                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
64     .AddAttribute (\textcolor{stringliteral}{"RaiseThreshold"}, \textcolor{stringliteral}{"Attempt to raise the rate if we hit that threshold"},
65                    UintegerValue (10),
66                    MakeUintegerAccessor (&\hyperlink{classns3_1_1OnoeWifiManager_abd4f1bac1a93e084879e39100096d8cf}{OnoeWifiManager::m\_raiseThreshold}
      ),
67                    MakeUintegerChecker<uint32\_t> ())
68     .AddAttribute (\textcolor{stringliteral}{"AddCreditThreshold"}, \textcolor{stringliteral}{"Add credit threshold"},
69                    UintegerValue (10),
70                    MakeUintegerAccessor (&\hyperlink{classns3_1_1OnoeWifiManager_ab90c1f44166227ffa41233b0c7c65a52}{OnoeWifiManager::m\_addCreditThreshold}
      ),
71                    MakeUintegerChecker<uint32\_t> ())
72     .AddTraceSource (\textcolor{stringliteral}{"Rate"},
73                      \textcolor{stringliteral}{"Traced value for rate changes (b/s)"},
74                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1OnoeWifiManager_a5ba916c2f45dd5687c035db25dc86800}{OnoeWifiManager::m\_currentRate}),
75                      \textcolor{stringliteral}{"ns3::TracedValueCallback::Uint64"})
76   ;
77   \textcolor{keywordflow}{return} tid;
78 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Is\+Low\+Latency@{Is\+Low\+Latency}}
\index{Is\+Low\+Latency@{Is\+Low\+Latency}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Is\+Low\+Latency(void) const }{IsLowLatency(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Onoe\+Wifi\+Manager\+::\+Is\+Low\+Latency (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_a58c0d869c4662a9c40a4bcdc63024eb0}{}\label{classns3_1_1OnoeWifiManager_a58c0d869c4662a9c40a4bcdc63024eb0}
\begin{DoxyReturn}{Returns}
whether this manager is a manager designed to work in low-\/latency environments.
\end{DoxyReturn}
Note\+: In this context, low vs high latency is defined in {\itshape I\+E\+EE 802.\+11 Rate Adaptation\+: A Practical Approach}, by M. Lacage, M.\+H. Manshaei, and T. Turletti. 

Implements \hyperlink{classns3_1_1WifiRemoteStationManager_a3b5ae71dce8e994b493ddfdb1d2f57f6}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
332 \{
333   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
334 \}
\end{DoxyCode}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Set\+He\+Supported@{Set\+He\+Supported}}
\index{Set\+He\+Supported@{Set\+He\+Supported}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Set\+He\+Supported(bool enable)}{SetHeSupported(bool enable)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Set\+He\+Supported (
\begin{DoxyParamCaption}
\item[{bool}]{enable}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_abf79989f5e8c3e77fe28a57cc490c206}{}\label{classns3_1_1OnoeWifiManager_abf79989f5e8c3e77fe28a57cc490c206}
Enable or disable HE capability support.


\begin{DoxyParams}{Parameters}
{\em enable} & enable or disable HE capability support \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1WifiRemoteStationManager_a18c218db519ceb78e910b6184a4e2992}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
358 \{
359   \textcolor{comment}{//HE is not supported by this algorithm.}
360   \textcolor{keywordflow}{if} (enable)
361     \{
362       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"WifiRemoteStationManager selected does not support HE rates"});
363     \}
364 \}
\end{DoxyCode}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Set\+Ht\+Supported@{Set\+Ht\+Supported}}
\index{Set\+Ht\+Supported@{Set\+Ht\+Supported}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Set\+Ht\+Supported(bool enable)}{SetHtSupported(bool enable)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Set\+Ht\+Supported (
\begin{DoxyParamCaption}
\item[{bool}]{enable}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_ace96fb531a6f8bf3bd07b5e042af2923}{}\label{classns3_1_1OnoeWifiManager_ace96fb531a6f8bf3bd07b5e042af2923}
Enable or disable HT capability support.


\begin{DoxyParams}{Parameters}
{\em enable} & enable or disable HT capability support \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1WifiRemoteStationManager_a9078e641b9b16f237974d07d37d88af9}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
338 \{
339   \textcolor{comment}{//HT is not supported by this algorithm.}
340   \textcolor{keywordflow}{if} (enable)
341     \{
342       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"WifiRemoteStationManager selected does not support HT rates"});
343     \}
344 \}
\end{DoxyCode}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Set\+Vht\+Supported@{Set\+Vht\+Supported}}
\index{Set\+Vht\+Supported@{Set\+Vht\+Supported}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Set\+Vht\+Supported(bool enable)}{SetVhtSupported(bool enable)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Set\+Vht\+Supported (
\begin{DoxyParamCaption}
\item[{bool}]{enable}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1OnoeWifiManager_a55bbc10160ccf3f75e263367854ca722}{}\label{classns3_1_1OnoeWifiManager_a55bbc10160ccf3f75e263367854ca722}
Enable or disable V\+HT capability support.


\begin{DoxyParams}{Parameters}
{\em enable} & enable or disable V\+HT capability support \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1WifiRemoteStationManager_a149cf907f831f80e22162624a01f6c1a}{ns3\+::\+Wifi\+Remote\+Station\+Manager}.


\begin{DoxyCode}
348 \{
349   \textcolor{comment}{//VHT is not supported by this algorithm.}
350   \textcolor{keywordflow}{if} (enable)
351     \{
352       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"WifiRemoteStationManager selected does not support VHT rates"});
353     \}
354 \}
\end{DoxyCode}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Update\+Mode@{Update\+Mode}}
\index{Update\+Mode@{Update\+Mode}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Update\+Mode(\+Onoe\+Wifi\+Remote\+Station $\ast$station)}{UpdateMode(OnoeWifiRemoteStation *station)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Update\+Mode (
\begin{DoxyParamCaption}
\item[{{\bf Onoe\+Wifi\+Remote\+Station} $\ast$}]{station}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OnoeWifiManager_afecc5c3113a6fa42f1d784fec75e3876}{}\label{classns3_1_1OnoeWifiManager_afecc5c3113a6fa42f1d784fec75e3876}
Update the mode.


\begin{DoxyParams}{Parameters}
{\em station} & the O\+N\+OE wifi remote station \\
\hline
\end{DoxyParams}
The following 20 lines of code were copied from the Onoe rate control kernel module used in the madwifi driver.
\begin{DoxyCode}
166 \{
167   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () < station->m\_nextModeUpdate)
168     \{
169       \textcolor{keywordflow}{return};
170     \}
171   station->m\_nextModeUpdate = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () + \hyperlink{classns3_1_1OnoeWifiManager_a43506e7013f037ec858df5af2de2f1cb}{m\_updatePeriod};
177   \textcolor{keywordtype}{int} dir = 0, enough;
178   uint32\_t nrate;
179   enough = (station->m\_tx\_ok + station->m\_tx\_err >= 10);
180 
181   \textcolor{comment}{/* no packet reached -> down */}
182   \textcolor{keywordflow}{if} (station->m\_tx\_err > 0 && station->m\_tx\_ok == 0)
183     \{
184       dir = -1;
185     \}
186 
187   \textcolor{comment}{/* all packets needs retry in average -> down */}
188   \textcolor{keywordflow}{if} (enough && station->m\_tx\_ok < station->m\_tx\_retr)
189     \{
190       dir = -1;
191     \}
192 
193   \textcolor{comment}{/* no error and less than rate\_raise% of packets need retry -> up */}
194   \textcolor{keywordflow}{if} (enough && station->m\_tx\_err == 0
195       && station->m\_tx\_retr < (station->m\_tx\_ok * \hyperlink{classns3_1_1OnoeWifiManager_ab90c1f44166227ffa41233b0c7c65a52}{m\_addCreditThreshold}) / 100)
196     \{
197       dir = 1;
198     \}
199 
200   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" ok "} << station->m\_tx\_ok << \textcolor{stringliteral}{" err "} << station->m\_tx\_err << \textcolor{stringliteral}{" retr "} 
      << station->m\_tx\_retr <<
201                 \textcolor{stringliteral}{" upper "} << station->m\_tx\_upper << \textcolor{stringliteral}{" dir "} << dir);
202 
203   nrate = station->m\_txrate;
204   \textcolor{keywordflow}{switch} (dir)
205     \{
206     \textcolor{keywordflow}{case} 0:
207       \textcolor{keywordflow}{if} (enough && station->m\_tx\_upper > 0)
208         \{
209           station->m\_tx\_upper--;
210         \}
211       \textcolor{keywordflow}{break};
212     \textcolor{keywordflow}{case} -1:
213       \textcolor{keywordflow}{if} (nrate > 0)
214         \{
215           nrate--;
216         \}
217       station->m\_tx\_upper = 0;
218       \textcolor{keywordflow}{break};
219     \textcolor{keywordflow}{case} 1:
220       \textcolor{comment}{/* raise rate if we hit rate\_raise\_threshold */}
221       \textcolor{keywordflow}{if} (++station->m\_tx\_upper < \hyperlink{classns3_1_1OnoeWifiManager_abd4f1bac1a93e084879e39100096d8cf}{m\_raiseThreshold})
222         \{
223           \textcolor{keywordflow}{break};
224         \}
225       station->m\_tx\_upper = 0;
226       \textcolor{keywordflow}{if} (nrate + 1 < \hyperlink{classns3_1_1WifiRemoteStationManager_a7316bf091ebad5b8cd1a8b5ee47554d8}{GetNSupported} (station))
227         \{
228           nrate++;
229         \}
230       \textcolor{keywordflow}{break};
231     \}
232 
233   \textcolor{keywordflow}{if} (nrate != station->m\_txrate)
234     \{
235       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (nrate < \hyperlink{classns3_1_1WifiRemoteStationManager_a7316bf091ebad5b8cd1a8b5ee47554d8}{GetNSupported} (station));
236       station->m\_txrate = nrate;
237       station->m\_tx\_ok = station->m\_tx\_err = station->m\_tx\_retr = station->m\_tx\_upper = 0;
238     \}
239   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (enough)
240     \{
241       station->m\_tx\_ok = station->m\_tx\_err = station->m\_tx\_retr = 0;
242     \}
243 
244 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!Update\+Retry@{Update\+Retry}}
\index{Update\+Retry@{Update\+Retry}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{Update\+Retry(\+Onoe\+Wifi\+Remote\+Station $\ast$station)}{UpdateRetry(OnoeWifiRemoteStation *station)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Onoe\+Wifi\+Manager\+::\+Update\+Retry (
\begin{DoxyParamCaption}
\item[{{\bf Onoe\+Wifi\+Remote\+Station} $\ast$}]{station}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OnoeWifiManager_a257355b8311b31c9c649b1da31db2a5d}{}\label{classns3_1_1OnoeWifiManager_a257355b8311b31c9c649b1da31db2a5d}
Update the number of retry (both short and long).


\begin{DoxyParams}{Parameters}
{\em station} & the O\+N\+OE wifi remote station \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
158 \{
159   station->m\_tx\_retr += station->m\_shortRetry + station->m\_longRetry;
160   station->m\_shortRetry = 0;
161   station->m\_longRetry = 0;
162 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11




\subsection{Member Data Documentation}
\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!m\+\_\+add\+Credit\+Threshold@{m\+\_\+add\+Credit\+Threshold}}
\index{m\+\_\+add\+Credit\+Threshold@{m\+\_\+add\+Credit\+Threshold}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+add\+Credit\+Threshold}{m_addCreditThreshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Onoe\+Wifi\+Manager\+::m\+\_\+add\+Credit\+Threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OnoeWifiManager_ab90c1f44166227ffa41233b0c7c65a52}{}\label{classns3_1_1OnoeWifiManager_ab90c1f44166227ffa41233b0c7c65a52}


add credit threshold 

\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!m\+\_\+current\+Rate@{m\+\_\+current\+Rate}}
\index{m\+\_\+current\+Rate@{m\+\_\+current\+Rate}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Rate}{m_currentRate}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Value}$<$uint64\+\_\+t$>$ ns3\+::\+Onoe\+Wifi\+Manager\+::m\+\_\+current\+Rate\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OnoeWifiManager_a5ba916c2f45dd5687c035db25dc86800}{}\label{classns3_1_1OnoeWifiManager_a5ba916c2f45dd5687c035db25dc86800}


Trace rate changes. 

\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!m\+\_\+raise\+Threshold@{m\+\_\+raise\+Threshold}}
\index{m\+\_\+raise\+Threshold@{m\+\_\+raise\+Threshold}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+raise\+Threshold}{m_raiseThreshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Onoe\+Wifi\+Manager\+::m\+\_\+raise\+Threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OnoeWifiManager_abd4f1bac1a93e084879e39100096d8cf}{}\label{classns3_1_1OnoeWifiManager_abd4f1bac1a93e084879e39100096d8cf}


raise threshold 

\index{ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}!m\+\_\+update\+Period@{m\+\_\+update\+Period}}
\index{m\+\_\+update\+Period@{m\+\_\+update\+Period}!ns3\+::\+Onoe\+Wifi\+Manager@{ns3\+::\+Onoe\+Wifi\+Manager}}
\subsubsection[{\texorpdfstring{m\+\_\+update\+Period}{m_updatePeriod}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Onoe\+Wifi\+Manager\+::m\+\_\+update\+Period\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OnoeWifiManager_a43506e7013f037ec858df5af2de2f1cb}{}\label{classns3_1_1OnoeWifiManager_a43506e7013f037ec858df5af2de2f1cb}


update period 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wifi/model/\hyperlink{onoe-wifi-manager_8h}{onoe-\/wifi-\/manager.\+h}\item 
wifi/model/\hyperlink{onoe-wifi-manager_8cc}{onoe-\/wifi-\/manager.\+cc}\end{DoxyCompactItemize}
