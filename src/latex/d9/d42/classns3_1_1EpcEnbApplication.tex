\hypertarget{classns3_1_1EpcEnbApplication}{}\section{ns3\+:\+:Epc\+Enb\+Application Class Reference}
\label{classns3_1_1EpcEnbApplication}\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}


{\ttfamily \#include $<$epc-\/enb-\/application.\+h$>$}



Inheritance diagram for ns3\+:\+:Epc\+Enb\+Application\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Epc\+Enb\+Application\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1EpcEnbApplication_1_1EpsFlowId__t}{Eps\+Flow\+Id\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1EpcEnbApplication_af36198bbc50d4acfb104fe448c25a041}{Epc\+Enb\+Application} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ lte\+Socket, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ s1u\+Socket, \hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} enb\+S1u\+Address, \hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} sgw\+S1u\+Address, uint16\+\_\+t cell\+Id)
\item 
virtual \hyperlink{classns3_1_1EpcEnbApplication_a1832c20d47399a14e178631b371ace7f}{$\sim$\+Epc\+Enb\+Application} (void)
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_aec298b6adc29bad4c52828ddf1a260d6}{Set\+S1\+Sap\+User} (\hyperlink{classns3_1_1EpcEnbS1SapUser}{Epc\+Enb\+S1\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
\hyperlink{classns3_1_1EpcEnbS1SapProvider}{Epc\+Enb\+S1\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1EpcEnbApplication_a706b531d6ec3ab6eb37567232f5c6cd4}{Get\+S1\+Sap\+Provider} ()
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_aa0abdd37248e00380c250e01ff12a841}{Set\+S1ap\+Sap\+Mme} (\hyperlink{classns3_1_1EpcS1apSapEnbProvider}{Epc\+S1ap\+Sap\+Enb\+Provider} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
\hyperlink{classns3_1_1EpcS1apSapEnb}{Epc\+S1ap\+Sap\+Enb} $\ast$ \hyperlink{classns3_1_1EpcEnbApplication_a8790ba0ca5cc4bb0a7965a295ec12d2f}{Get\+S1ap\+Sap\+Enb} ()
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_a1fea9a1b3a11d78ef1f5376ef4fcd48a}{Recv\+From\+Lte\+Socket} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_a924ee9f091bc38a41b0f421091fb1672}{Recv\+From\+S1u\+Socket} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1EpcEnbApplication_a6b029dc383deccc1f27ae303b8cf023c}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_a4cf14ef748630fa2ad5f46f566e6a875}{Do\+Dispose} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_abc06a1b9ceec48c11daa165a042f3707}{Do\+Initial\+Ue\+Message} (uint64\+\_\+t imsi, uint16\+\_\+t rnti)
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_ab1edc81db1b49449b4547e3cdaca9693}{Do\+Path\+Switch\+Request} (\hyperlink{structns3_1_1EpcEnbS1SapProvider_1_1PathSwitchRequestParameters}{Epc\+Enb\+S1\+Sap\+Provider\+::\+Path\+Switch\+Request\+Parameters} params)
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_a44ffeeb0373bcbdd2e06c33727938b99}{Do\+Ue\+Context\+Release} (uint16\+\_\+t rnti)
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_a3a5fe01347001b0efa73e7352cf43972}{Do\+Initial\+Context\+Setup\+Request} (uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t enb\+Ue\+S1\+Id, \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{structns3_1_1EpcS1apSap_1_1ErabToBeSetupItem}{Epc\+S1ap\+Sap\+Enb\+::\+Erab\+To\+Be\+Setup\+Item} $>$ erab\+To\+Be\+Setup\+List)
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_a19d5434b52b3e1705b5d5ae342c6d2a2}{Do\+Path\+Switch\+Request\+Acknowledge} (uint64\+\_\+t enb\+Ue\+S1\+Id, uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t cgi, \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{structns3_1_1EpcS1apSap_1_1ErabSwitchedInUplinkItem}{Epc\+S1ap\+Sap\+Enb\+::\+Erab\+Switched\+In\+Uplink\+Item} $>$ erab\+To\+Be\+Switched\+In\+Uplink\+List)
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_a13824e3166e201a799dcb79ce51317bd}{Do\+Release\+Indication} (uint64\+\_\+t imsi, uint16\+\_\+t rnti, uint8\+\_\+t bearer\+Id)
\begin{DoxyCompactList}\small\item\em This function accepts bearer id corresponding to a particular UE and schedules indication of bearer release towards M\+ME. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1EpcEnbApplication_a793f953acd337fdccf43f468e1f5ea63}{Send\+To\+Lte\+Socket} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, uint16\+\_\+t rnti, uint8\+\_\+t bid)
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_a550ef90073047a928a2e31a39f91f26b}{Send\+To\+S1u\+Socket} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, uint32\+\_\+t teid)
\item 
void \hyperlink{classns3_1_1EpcEnbApplication_aad22a048da4d7fc9a3f054bdb745e088}{Setup\+S1\+Bearer} (uint32\+\_\+t teid, uint16\+\_\+t rnti, uint8\+\_\+t bid)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ \hyperlink{classns3_1_1EpcEnbApplication_a510a8ee52d8499fa9e1f54b26486a80f}{m\+\_\+lte\+Socket}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ \hyperlink{classns3_1_1EpcEnbApplication_a1132d36c557a8a6134d014f6d187cb43}{m\+\_\+s1u\+Socket}
\item 
\hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} \hyperlink{classns3_1_1EpcEnbApplication_a0edb76abc19ab0ed92f5086c2fad0d1f}{m\+\_\+enb\+S1u\+Address}
\item 
\hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} \hyperlink{classns3_1_1EpcEnbApplication_a45451c42063c8eefec6e0f16b36718f1}{m\+\_\+sgw\+S1u\+Address}
\item 
std\+::map$<$ uint16\+\_\+t, std\+::map$<$ uint8\+\_\+t, uint32\+\_\+t $>$ $>$ \hyperlink{classns3_1_1EpcEnbApplication_a06ad312a7c59dd349c44bbdecf3c7358}{m\+\_\+rbid\+Teid\+Map}
\item 
std\+::map$<$ uint32\+\_\+t, \hyperlink{structns3_1_1EpcEnbApplication_1_1EpsFlowId__t}{Eps\+Flow\+Id\+\_\+t} $>$ \hyperlink{classns3_1_1EpcEnbApplication_abc1df9a1103bb552fc8131e9cd45ab33}{m\+\_\+teid\+Rbid\+Map}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1EpcEnbApplication_ab28f95f379316c6d236f119ee65123c0}{m\+\_\+gtpu\+Udp\+Port}
\item 
\hyperlink{classns3_1_1EpcEnbS1SapProvider}{Epc\+Enb\+S1\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1EpcEnbApplication_ad7e9b81b4168a86e856cbc8b4ae55dae}{m\+\_\+s1\+Sap\+Provider}
\item 
\hyperlink{classns3_1_1EpcEnbS1SapUser}{Epc\+Enb\+S1\+Sap\+User} $\ast$ \hyperlink{classns3_1_1EpcEnbApplication_aaafcd864038cc863330565126353c521}{m\+\_\+s1\+Sap\+User}
\item 
\hyperlink{classns3_1_1EpcS1apSapEnbProvider}{Epc\+S1ap\+Sap\+Enb\+Provider} $\ast$ \hyperlink{classns3_1_1EpcEnbApplication_aea4917aa066399d72225c3408772020f}{m\+\_\+s1ap\+Sap\+Enb\+Provider}
\item 
\hyperlink{classns3_1_1EpcS1apSapEnb}{Epc\+S1ap\+Sap\+Enb} $\ast$ \hyperlink{classns3_1_1EpcEnbApplication_a08723a377d93a90f768f48a7a6386e19}{m\+\_\+s1ap\+Sap\+Enb}
\item 
std\+::map$<$ uint64\+\_\+t, uint16\+\_\+t $>$ \hyperlink{classns3_1_1EpcEnbApplication_a9e51467fe97aafabac7d51f056850fea}{m\+\_\+imsi\+Rnti\+Map}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1EpcEnbApplication_a77c5a697bc069ae78c8fbc5b781f43b5}{m\+\_\+cell\+Id}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1EpcEnbApplication_a9c8ee96d88de199cb8efc646b3fbb575}{Member\+Epc\+Enb\+S1\+Sap\+Provider$<$ Epc\+Enb\+Application $>$}
\item 
class \hyperlink{classns3_1_1EpcEnbApplication_abe1d5bf2a67020078bfd864c8324a173}{Member\+Epc\+S1ap\+Sap\+Enb$<$ Epc\+Enb\+Application $>$}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This application is installed inside e\+N\+Bs and provides the bridge functionality for user data plane packets between the radio interface and the S1-\/U interface. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Epc\+Enb\+Application@{Epc\+Enb\+Application}}
\index{Epc\+Enb\+Application@{Epc\+Enb\+Application}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Epc\+Enb\+Application(\+Ptr$<$ Socket $>$ lte\+Socket, Ptr$<$ Socket $>$ s1u\+Socket, Ipv4\+Address enb\+S1u\+Address, Ipv4\+Address sgw\+S1u\+Address, uint16\+\_\+t cell\+Id)}{EpcEnbApplication(Ptr< Socket > lteSocket, Ptr< Socket > s1uSocket, Ipv4Address enbS1uAddress, Ipv4Address sgwS1uAddress, uint16_t cellId)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Epc\+Enb\+Application\+::\+Epc\+Enb\+Application (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{lte\+Socket, }
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{s1u\+Socket, }
\item[{{\bf Ipv4\+Address}}]{enb\+S1u\+Address, }
\item[{{\bf Ipv4\+Address}}]{sgw\+S1u\+Address, }
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcEnbApplication_af36198bbc50d4acfb104fe448c25a041}{}\label{classns3_1_1EpcEnbApplication_af36198bbc50d4acfb104fe448c25a041}
Constructor


\begin{DoxyParams}{Parameters}
{\em lte\+Socket} & the socket to be used to send/receive packets to/from the L\+TE radio interface \\
\hline
{\em s1u\+Socket} & the socket to be used to send/receive packets to/from the S1-\/U interface connected with the S\+GW \\
\hline
{\em enb\+S1u\+Address} & the I\+Pv4 address of the S1-\/U interface of this e\+NB \\
\hline
{\em sgw\+S1u\+Address} & the I\+Pv4 address at which this e\+NB will be able to reach its S\+GW for S1-\/U communications \\
\hline
{\em cell\+Id} & the identifier of the enb \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
86   : \hyperlink{classns3_1_1EpcEnbApplication_a510a8ee52d8499fa9e1f54b26486a80f}{m\_lteSocket} (lteSocket),
87     \hyperlink{classns3_1_1EpcEnbApplication_a1132d36c557a8a6134d014f6d187cb43}{m\_s1uSocket} (s1uSocket),    
88     \hyperlink{classns3_1_1EpcEnbApplication_a0edb76abc19ab0ed92f5086c2fad0d1f}{m\_enbS1uAddress} (enbS1uAddress),
89     \hyperlink{classns3_1_1EpcEnbApplication_a45451c42063c8eefec6e0f16b36718f1}{m\_sgwS1uAddress} (sgwS1uAddress),
90     \hyperlink{classns3_1_1EpcEnbApplication_ab28f95f379316c6d236f119ee65123c0}{m\_gtpuUdpPort} (2152), \textcolor{comment}{// fixed by the standard}
91     \hyperlink{classns3_1_1EpcEnbApplication_aaafcd864038cc863330565126353c521}{m\_s1SapUser} (0),
92     \hyperlink{classns3_1_1EpcEnbApplication_aea4917aa066399d72225c3408772020f}{m\_s1apSapEnbProvider} (0),
93     \hyperlink{classns3_1_1EpcEnbApplication_a77c5a697bc069ae78c8fbc5b781f43b5}{m\_cellId} (cellId)
94 \{
95   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << lteSocket << s1uSocket << sgwS1uAddress);
96   \hyperlink{classns3_1_1EpcEnbApplication_a1132d36c557a8a6134d014f6d187cb43}{m\_s1uSocket}->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1EpcEnbApplication_a924ee9f091bc38a41b0f421091fb1672}{EpcEnbApplication::RecvFromS1uSocket}, \textcolor{keyword}{this}));
97   \hyperlink{classns3_1_1EpcEnbApplication_a510a8ee52d8499fa9e1f54b26486a80f}{m\_lteSocket}->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1EpcEnbApplication_a1fea9a1b3a11d78ef1f5376ef4fcd48a}{EpcEnbApplication::RecvFromLteSocket}, \textcolor{keyword}{this}));
98   \hyperlink{classns3_1_1EpcEnbApplication_ad7e9b81b4168a86e856cbc8b4ae55dae}{m\_s1SapProvider} = \textcolor{keyword}{new} 
      \hyperlink{classns3_1_1EpcEnbApplication_a9c8ee96d88de199cb8efc646b3fbb575}{MemberEpcEnbS1SapProvider<EpcEnbApplication>} (\textcolor{keyword}{this});
99   \hyperlink{classns3_1_1EpcEnbApplication_a08723a377d93a90f768f48a7a6386e19}{m\_s1apSapEnb} = \textcolor{keyword}{new} \hyperlink{classns3_1_1EpcEnbApplication_abe1d5bf2a67020078bfd864c8324a173}{MemberEpcS1apSapEnb<EpcEnbApplication>}
       (\textcolor{keyword}{this});
100 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!````~Epc\+Enb\+Application@{$\sim$\+Epc\+Enb\+Application}}
\index{````~Epc\+Enb\+Application@{$\sim$\+Epc\+Enb\+Application}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{$\sim$\+Epc\+Enb\+Application(void)}{~EpcEnbApplication(void)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Epc\+Enb\+Application\+::$\sim$\+Epc\+Enb\+Application (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EpcEnbApplication_a1832c20d47399a14e178631b371ace7f}{}\label{classns3_1_1EpcEnbApplication_a1832c20d47399a14e178631b371ace7f}
Destructor 
\begin{DoxyCode}
104 \{
105   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
106 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1EpcEnbApplication_a4cf14ef748630fa2ad5f46f566e6a875}{}\label{classns3_1_1EpcEnbApplication_a4cf14ef748630fa2ad5f46f566e6a875}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1EpcEnbApplication_a4cf14ef748630fa2ad5f46f566e6a875}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Application_a89f6c9454532d62600251872bede6d04}{ns3\+::\+Application}.


\begin{DoxyCode}
76 \{
77   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
78   \hyperlink{classns3_1_1EpcEnbApplication_a510a8ee52d8499fa9e1f54b26486a80f}{m\_lteSocket} = 0;
79   \hyperlink{classns3_1_1EpcEnbApplication_a1132d36c557a8a6134d014f6d187cb43}{m\_s1uSocket} = 0;
80   \textcolor{keyword}{delete} \hyperlink{classns3_1_1EpcEnbApplication_ad7e9b81b4168a86e856cbc8b4ae55dae}{m\_s1SapProvider};
81   \textcolor{keyword}{delete} \hyperlink{classns3_1_1EpcEnbApplication_a08723a377d93a90f768f48a7a6386e19}{m\_s1apSapEnb};
82 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Do\+Initial\+Context\+Setup\+Request@{Do\+Initial\+Context\+Setup\+Request}}
\index{Do\+Initial\+Context\+Setup\+Request@{Do\+Initial\+Context\+Setup\+Request}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Do\+Initial\+Context\+Setup\+Request(uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t enb\+Ue\+S1\+Id, std\+::list$<$ Epc\+S1ap\+Sap\+Enb\+::\+Erab\+To\+Be\+Setup\+Item $>$ erab\+To\+Be\+Setup\+List)}{DoInitialContextSetupRequest(uint64_t mmeUeS1Id, uint16_t enbUeS1Id, std::list< EpcS1apSapEnb::ErabToBeSetupItem > erabToBeSetupList)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Do\+Initial\+Context\+Setup\+Request (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{mme\+Ue\+S1\+Id, }
\item[{uint16\+\_\+t}]{enb\+Ue\+S1\+Id, }
\item[{{\bf std\+::list}$<$ {\bf Epc\+S1ap\+Sap\+Enb\+::\+Erab\+To\+Be\+Setup\+Item} $>$}]{erab\+To\+Be\+Setup\+List}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a3a5fe01347001b0efa73e7352cf43972}{}\label{classns3_1_1EpcEnbApplication_a3a5fe01347001b0efa73e7352cf43972}

\begin{DoxyCode}
200 \{ \textcolor{comment}{//sjkang1021}
201   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
202   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"In EnpEnbApplication DoInitialContextSetupRequest size of the erabToBeSetupList
       is "} << erabToBeSetupList.size());
203 
204   \textcolor{keywordflow}{for} (std::list<EpcS1apSapEnb::ErabToBeSetupItem>::iterator erabIt = erabToBeSetupList.begin ();
205        erabIt != erabToBeSetupList.end ();
206        ++erabIt)
207     \{
208       \textcolor{comment}{// request the RRC to setup a radio bearer}
209       uint64\_t imsi = mmeUeS1Id;
210       std::map<uint64\_t, uint16\_t>::iterator imsiIt = \hyperlink{classns3_1_1EpcEnbApplication_a9e51467fe97aafabac7d51f056850fea}{m\_imsiRntiMap}.find (imsi);
211       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (imsiIt != \hyperlink{classns3_1_1EpcEnbApplication_a9e51467fe97aafabac7d51f056850fea}{m\_imsiRntiMap}.end (), \textcolor{stringliteral}{"unknown IMSI"});
212       uint16\_t rnti = imsiIt->second;
213       
214       \textcolor{keyword}{struct }EpcEnbS1SapUser::DataRadioBearerSetupRequestParameters params;
215       params.rnti = rnti;
216       params.bearer = erabIt->erabLevelQosParameters;
217       params.bearerId = erabIt->erabId;
218       params.gtpTeid = erabIt->sgwTeid;
219       \hyperlink{classns3_1_1EpcEnbApplication_aaafcd864038cc863330565126353c521}{m\_s1SapUser}->\hyperlink{classns3_1_1EpcEnbS1SapUser_a7eb9f4a23a2e071aee15f4dc2300cce4}{DataRadioBearerSetupRequest} (params);
220 
221       EpsFlowId\_t rbid (rnti, erabIt->erabId);
222       \textcolor{comment}{// side effect: create entries if not exist}
223       \hyperlink{classns3_1_1EpcEnbApplication_a06ad312a7c59dd349c44bbdecf3c7358}{m\_rbidTeidMap}[rnti][erabIt->erabId] = params.gtpTeid;
224       \hyperlink{classns3_1_1EpcEnbApplication_abc1df9a1103bb552fc8131e9cd45ab33}{m\_teidRbidMap}[params.gtpTeid] = rbid;
225 
226     \}
227 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Do\+Initial\+Ue\+Message@{Do\+Initial\+Ue\+Message}}
\index{Do\+Initial\+Ue\+Message@{Do\+Initial\+Ue\+Message}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Do\+Initial\+Ue\+Message(uint64\+\_\+t imsi, uint16\+\_\+t rnti)}{DoInitialUeMessage(uint64_t imsi, uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Do\+Initial\+Ue\+Message (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{imsi, }
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_abc06a1b9ceec48c11daa165a042f3707}{}\label{classns3_1_1EpcEnbApplication_abc06a1b9ceec48c11daa165a042f3707}

\begin{DoxyCode}
137 \{
138   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
139   \textcolor{comment}{// side effect: create entry if not exist}
140   \hyperlink{classns3_1_1EpcEnbApplication_a9e51467fe97aafabac7d51f056850fea}{m\_imsiRntiMap}[imsi] = rnti;
141   \hyperlink{classns3_1_1EpcEnbApplication_aea4917aa066399d72225c3408772020f}{m\_s1apSapEnbProvider}->\hyperlink{classns3_1_1EpcS1apSapEnbProvider_a0c687c7ee8b9b2da256498407a75b4ab}{SendInitialUeMessage} (imsi, rnti, imsi, 
      \hyperlink{classns3_1_1EpcEnbApplication_a77c5a697bc069ae78c8fbc5b781f43b5}{m\_cellId}); \textcolor{comment}{// TODO if more than one MME is used, extend this call}
142 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Do\+Path\+Switch\+Request@{Do\+Path\+Switch\+Request}}
\index{Do\+Path\+Switch\+Request@{Do\+Path\+Switch\+Request}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Do\+Path\+Switch\+Request(\+Epc\+Enb\+S1\+Sap\+Provider\+::\+Path\+Switch\+Request\+Parameters params)}{DoPathSwitchRequest(EpcEnbS1SapProvider::PathSwitchRequestParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Do\+Path\+Switch\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+Enb\+S1\+Sap\+Provider\+::\+Path\+Switch\+Request\+Parameters}}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_ab1edc81db1b49449b4547e3cdaca9693}{}\label{classns3_1_1EpcEnbApplication_ab1edc81db1b49449b4547e3cdaca9693}

\begin{DoxyCode}
146 \{
147   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
148   uint16\_t enbUeS1Id = params.rnti;  
149   uint64\_t mmeUeS1Id = params.mmeUeS1Id;
150   uint64\_t imsi = mmeUeS1Id;
151   \textcolor{comment}{// side effect: create entry if not exist}
152   \hyperlink{classns3_1_1EpcEnbApplication_a9e51467fe97aafabac7d51f056850fea}{m\_imsiRntiMap}[imsi] = params.rnti;
153 
154   uint16\_t gci = params.cellId;
155   std::list<EpcS1apSapMme::ErabSwitchedInDownlinkItem> erabToBeSwitchedInDownlinkList;
156   \textcolor{keywordflow}{for} (std::list<EpcEnbS1SapProvider::BearerToBeSwitched>::iterator bit = params.bearersToBeSwitched.begin 
      ();
157        bit != params.bearersToBeSwitched.end ();
158        ++bit)
159     \{
160       EpsFlowId\_t flowId;
161       flowId.m\_rnti = params.rnti;
162       flowId.m\_bid = bit->epsBearerId;
163       uint32\_t teid = bit->teid;
164       
165       EpsFlowId\_t rbid (params.rnti, bit->epsBearerId);
166       \textcolor{comment}{// side effect: create entries if not exist}
167       \hyperlink{classns3_1_1EpcEnbApplication_a06ad312a7c59dd349c44bbdecf3c7358}{m\_rbidTeidMap}[params.rnti][bit->epsBearerId] = teid;
168       \hyperlink{classns3_1_1EpcEnbApplication_abc1df9a1103bb552fc8131e9cd45ab33}{m\_teidRbidMap}[teid] = rbid;
169 
170       EpcS1apSapMme::ErabSwitchedInDownlinkItem erab;
171       erab.erabId = bit->epsBearerId;
172       erab.enbTransportLayerAddress = \hyperlink{classns3_1_1EpcEnbApplication_a0edb76abc19ab0ed92f5086c2fad0d1f}{m\_enbS1uAddress};
173       erab.enbTeid = bit->teid;
174 
175       erabToBeSwitchedInDownlinkList.push\_back (erab);
176     \}
177   \hyperlink{classns3_1_1EpcEnbApplication_aea4917aa066399d72225c3408772020f}{m\_s1apSapEnbProvider}->\hyperlink{classns3_1_1EpcS1apSapEnbProvider_a72780aeea16664e1836385c36cc98c67}{SendPathSwitchRequest} (enbUeS1Id, 
      mmeUeS1Id, gci, erabToBeSwitchedInDownlinkList);
178 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Do\+Path\+Switch\+Request\+Acknowledge@{Do\+Path\+Switch\+Request\+Acknowledge}}
\index{Do\+Path\+Switch\+Request\+Acknowledge@{Do\+Path\+Switch\+Request\+Acknowledge}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Do\+Path\+Switch\+Request\+Acknowledge(uint64\+\_\+t enb\+Ue\+S1\+Id, uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t cgi, std\+::list$<$ Epc\+S1ap\+Sap\+Enb\+::\+Erab\+Switched\+In\+Uplink\+Item $>$ erab\+To\+Be\+Switched\+In\+Uplink\+List)}{DoPathSwitchRequestAcknowledge(uint64_t enbUeS1Id, uint64_t mmeUeS1Id, uint16_t cgi, std::list< EpcS1apSapEnb::ErabSwitchedInUplinkItem > erabToBeSwitchedInUplinkList)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Do\+Path\+Switch\+Request\+Acknowledge (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{enb\+Ue\+S1\+Id, }
\item[{uint64\+\_\+t}]{mme\+Ue\+S1\+Id, }
\item[{uint16\+\_\+t}]{cgi, }
\item[{{\bf std\+::list}$<$ {\bf Epc\+S1ap\+Sap\+Enb\+::\+Erab\+Switched\+In\+Uplink\+Item} $>$}]{erab\+To\+Be\+Switched\+In\+Uplink\+List}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a19d5434b52b3e1705b5d5ae342c6d2a2}{}\label{classns3_1_1EpcEnbApplication_a19d5434b52b3e1705b5d5ae342c6d2a2}

\begin{DoxyCode}
231 \{
232   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
233 
234   uint64\_t imsi = mmeUeS1Id;
235   std::map<uint64\_t, uint16\_t>::iterator imsiIt = \hyperlink{classns3_1_1EpcEnbApplication_a9e51467fe97aafabac7d51f056850fea}{m\_imsiRntiMap}.find (imsi);
236   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (imsiIt != \hyperlink{classns3_1_1EpcEnbApplication_a9e51467fe97aafabac7d51f056850fea}{m\_imsiRntiMap}.end (), \textcolor{stringliteral}{"unknown IMSI"});
237   uint16\_t rnti = imsiIt->second;
238   EpcEnbS1SapUser::PathSwitchRequestAcknowledgeParameters params;
239   params.rnti = rnti;
240   \hyperlink{classns3_1_1EpcEnbApplication_aaafcd864038cc863330565126353c521}{m\_s1SapUser}->\hyperlink{classns3_1_1EpcEnbS1SapUser_a6d6626240a259460b783a85ca51fc7e2}{PathSwitchRequestAcknowledge} (params);
241 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Do\+Release\+Indication@{Do\+Release\+Indication}}
\index{Do\+Release\+Indication@{Do\+Release\+Indication}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Do\+Release\+Indication(uint64\+\_\+t imsi, uint16\+\_\+t rnti, uint8\+\_\+t bearer\+Id)}{DoReleaseIndication(uint64_t imsi, uint16_t rnti, uint8_t bearerId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Do\+Release\+Indication (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{imsi, }
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{bearer\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a13824e3166e201a799dcb79ce51317bd}{}\label{classns3_1_1EpcEnbApplication_a13824e3166e201a799dcb79ce51317bd}


This function accepts bearer id corresponding to a particular UE and schedules indication of bearer release towards M\+ME. 


\begin{DoxyParams}{Parameters}
{\em imsi} & maps to mme\+Ue\+S1\+Id \\
\hline
{\em rnti} & maps to enb\+Ue\+S1\+Id \\
\hline
{\em bearer\+Id} & Bearer Identity which is to be de-\/activated \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
329 \{
330   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << bearerId );
331   std::list<EpcS1apSapMme::ErabToBeReleasedIndication> erabToBeReleaseIndication;
332   EpcS1apSapMme::ErabToBeReleasedIndication erab;
333   erab.erabId = bearerId;
334   erabToBeReleaseIndication.push\_back (erab);
335   \textcolor{comment}{//From 3GPP TS 23401-950 Section 5.4.4.2, enB sends EPS bearer Identity in Bearer Release Indication
       message to MME}
336   \hyperlink{classns3_1_1EpcEnbApplication_aea4917aa066399d72225c3408772020f}{m\_s1apSapEnbProvider}->\hyperlink{classns3_1_1EpcS1apSapEnbProvider_a84baa4fcb0d591810b3512f7e71580d4}{SendErabReleaseIndication} (imsi, rnti,
       erabToBeReleaseIndication);
337 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Do\+Ue\+Context\+Release@{Do\+Ue\+Context\+Release}}
\index{Do\+Ue\+Context\+Release@{Do\+Ue\+Context\+Release}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Do\+Ue\+Context\+Release(uint16\+\_\+t rnti)}{DoUeContextRelease(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Do\+Ue\+Context\+Release (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a44ffeeb0373bcbdd2e06c33727938b99}{}\label{classns3_1_1EpcEnbApplication_a44ffeeb0373bcbdd2e06c33727938b99}

\begin{DoxyCode}
182 \{
183   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
184   std::map<uint16\_t, std::map<uint8\_t, uint32\_t> >::iterator rntiIt = 
      \hyperlink{classns3_1_1EpcEnbApplication_a06ad312a7c59dd349c44bbdecf3c7358}{m\_rbidTeidMap}.find (rnti);
185   \textcolor{keywordflow}{if} (rntiIt != \hyperlink{classns3_1_1EpcEnbApplication_a06ad312a7c59dd349c44bbdecf3c7358}{m\_rbidTeidMap}.end ())
186     \{
187       \textcolor{keywordflow}{for} (std::map<uint8\_t, uint32\_t>::iterator bidIt = rntiIt->second.begin ();
188            bidIt != rntiIt->second.end ();
189            ++bidIt)
190         \{
191           uint32\_t teid = bidIt->second;
192           \hyperlink{classns3_1_1EpcEnbApplication_abc1df9a1103bb552fc8131e9cd45ab33}{m\_teidRbidMap}.erase (teid);
193         \}
194       \hyperlink{classns3_1_1EpcEnbApplication_a06ad312a7c59dd349c44bbdecf3c7358}{m\_rbidTeidMap}.erase (rntiIt);
195     \}
196 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Get\+S1ap\+Sap\+Enb@{Get\+S1ap\+Sap\+Enb}}
\index{Get\+S1ap\+Sap\+Enb@{Get\+S1ap\+Sap\+Enb}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Get\+S1ap\+Sap\+Enb()}{GetS1apSapEnb()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+S1ap\+Sap\+Enb} $\ast$ ns3\+::\+Epc\+Enb\+Application\+::\+Get\+S1ap\+Sap\+Enb (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcEnbApplication_a8790ba0ca5cc4bb0a7965a295ec12d2f}{}\label{classns3_1_1EpcEnbApplication_a8790ba0ca5cc4bb0a7965a295ec12d2f}
\begin{DoxyReturn}{Returns}
the E\+NB side of the S1-\/\+AP S\+AP 
\end{DoxyReturn}

\begin{DoxyCode}
131 \{
132   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EpcEnbApplication_a08723a377d93a90f768f48a7a6386e19}{m\_s1apSapEnb};
133 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Get\+S1\+Sap\+Provider@{Get\+S1\+Sap\+Provider}}
\index{Get\+S1\+Sap\+Provider@{Get\+S1\+Sap\+Provider}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Get\+S1\+Sap\+Provider()}{GetS1SapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+Enb\+S1\+Sap\+Provider} $\ast$ ns3\+::\+Epc\+Enb\+Application\+::\+Get\+S1\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcEnbApplication_a706b531d6ec3ab6eb37567232f5c6cd4}{}\label{classns3_1_1EpcEnbApplication_a706b531d6ec3ab6eb37567232f5c6cd4}
\begin{DoxyReturn}{Returns}
the S1 S\+AP Provider 
\end{DoxyReturn}

\begin{DoxyCode}
118 \{
119   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EpcEnbApplication_ad7e9b81b4168a86e856cbc8b4ae55dae}{m\_s1SapProvider};
120 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Epc\+Enb\+Application\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1EpcEnbApplication_a6b029dc383deccc1f27ae303b8cf023c}{}\label{classns3_1_1EpcEnbApplication_a6b029dc383deccc1f27ae303b8cf023c}

\begin{DoxyCode}
67 \{
68   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::EpcEnbApplication"})
69     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
70     .SetGroupName(\textcolor{stringliteral}{"Lte"});
71   \textcolor{keywordflow}{return} tid;
72 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Recv\+From\+Lte\+Socket@{Recv\+From\+Lte\+Socket}}
\index{Recv\+From\+Lte\+Socket@{Recv\+From\+Lte\+Socket}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Recv\+From\+Lte\+Socket(\+Ptr$<$ Socket $>$ socket)}{RecvFromLteSocket(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Recv\+From\+Lte\+Socket (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcEnbApplication_a1fea9a1b3a11d78ef1f5376ef4fcd48a}{}\label{classns3_1_1EpcEnbApplication_a1fea9a1b3a11d78ef1f5376ef4fcd48a}
Method to be assigned to the recv callback of the L\+TE socket. It is called when the e\+NB receives a data packet from the radio interface that is to be forwarded to the S\+GW.


\begin{DoxyParams}{Parameters}
{\em socket} & pointer to the L\+TE socket \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
245 \{
246   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});  
247   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (socket == \hyperlink{classns3_1_1EpcEnbApplication_a510a8ee52d8499fa9e1f54b26486a80f}{m\_lteSocket});
248   Ptr<Packet> packet = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} ();
249 
252   \textcolor{comment}{//SocketAddressTag satag;}
253   \textcolor{comment}{//packet->RemovePacketTag (satag);}
254 
255   EpsBearerTag tag;
256   \textcolor{keywordtype}{bool} found = packet->\hyperlink{classns3_1_1Packet_a078fe922d976a417ab25ba2f3c2fd667}{RemovePacketTag} (tag);
257   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (found);
258   uint16\_t rnti = tag.GetRnti ();
259   uint8\_t bid = tag.GetBid ();
260   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"received packet with RNTI="} << (uint32\_t) rnti << \textcolor{stringliteral}{", BID="} << (uint32\_t)  bid)
      ;
261   std::map<uint16\_t, std::map<uint8\_t, uint32\_t> >::iterator rntiIt = 
      \hyperlink{classns3_1_1EpcEnbApplication_a06ad312a7c59dd349c44bbdecf3c7358}{m\_rbidTeidMap}.find (rnti);
262   \textcolor{keywordflow}{if} (rntiIt == \hyperlink{classns3_1_1EpcEnbApplication_a06ad312a7c59dd349c44bbdecf3c7358}{m\_rbidTeidMap}.end ())
263     \{
264       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"UE context not found, discarding packet when receiving from lteSocket"});
265     \}
266   \textcolor{keywordflow}{else}
267     \{
268       std::map<uint8\_t, uint32\_t>::iterator bidIt = rntiIt->second.find (bid);
269       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (bidIt != rntiIt->second.end ());
270       uint32\_t teid = bidIt->second;
271       \hyperlink{classns3_1_1EpcEnbApplication_a550ef90073047a928a2e31a39f91f26b}{SendToS1uSocket} (packet, teid);
272     \}
273 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Recv\+From\+S1u\+Socket@{Recv\+From\+S1u\+Socket}}
\index{Recv\+From\+S1u\+Socket@{Recv\+From\+S1u\+Socket}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Recv\+From\+S1u\+Socket(\+Ptr$<$ Socket $>$ socket)}{RecvFromS1uSocket(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Recv\+From\+S1u\+Socket (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcEnbApplication_a924ee9f091bc38a41b0f421091fb1672}{}\label{classns3_1_1EpcEnbApplication_a924ee9f091bc38a41b0f421091fb1672}
Method to be assigned to the recv callback of the S1-\/U socket. It is called when the e\+NB receives a data packet from the S\+GW that is to be forwarded to the UE.


\begin{DoxyParams}{Parameters}
{\em socket} & pointer to the S1-\/U socket \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
277 \{
278   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << socket);  
279   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (socket == \hyperlink{classns3_1_1EpcEnbApplication_a1132d36c557a8a6134d014f6d187cb43}{m\_s1uSocket});
280   Ptr<Packet> packet = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} ();
281   GtpuHeader gtpu;
282   packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (gtpu);
283   uint32\_t teid = gtpu.GetTeid ();
284 
287   \textcolor{comment}{//SocketAddressTag tag;}
288   \textcolor{comment}{//packet->RemovePacketTag (tag);}
289 
290   std::map<uint32\_t, EpsFlowId\_t>::iterator it = \hyperlink{classns3_1_1EpcEnbApplication_abc1df9a1103bb552fc8131e9cd45ab33}{m\_teidRbidMap}.find (teid);
291   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1EpcEnbApplication_abc1df9a1103bb552fc8131e9cd45ab33}{m\_teidRbidMap}.end ())
292     \{
293       \hyperlink{classns3_1_1EpcEnbApplication_a793f953acd337fdccf43f468e1f5ea63}{SendToLteSocket} (packet, it->second.m\_rnti, it->second.m\_bid);
294     \}
295   \textcolor{keywordflow}{else}
296     \{
297       packet = 0;
298       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG}(\textcolor{stringliteral}{"UE context not found, discarding packet when receiving from s1uSocket"});
299     \}  
300 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12




Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Send\+To\+Lte\+Socket@{Send\+To\+Lte\+Socket}}
\index{Send\+To\+Lte\+Socket@{Send\+To\+Lte\+Socket}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Send\+To\+Lte\+Socket(\+Ptr$<$ Packet $>$ packet, uint16\+\_\+t rnti, uint8\+\_\+t bid)}{SendToLteSocket(Ptr< Packet > packet, uint16_t rnti, uint8_t bid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Send\+To\+Lte\+Socket (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{bid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a793f953acd337fdccf43f468e1f5ea63}{}\label{classns3_1_1EpcEnbApplication_a793f953acd337fdccf43f468e1f5ea63}
Send a packet to the UE via the L\+TE radio interface of the e\+NB


\begin{DoxyParams}{Parameters}
{\em packet} & t \\
\hline
{\em bid} & the E\+PS Bearer I\+Dentifier \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
304 \{
305   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << rnti << (uint16\_t) bid << packet->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());  
306   EpsBearerTag tag (rnti, bid);
307   packet->\hyperlink{classns3_1_1Packet_a7400b8655852f5271c5957250d0141af}{AddPacketTag} (tag);
308   \textcolor{keywordtype}{int} sentBytes = \hyperlink{classns3_1_1EpcEnbApplication_a510a8ee52d8499fa9e1f54b26486a80f}{m\_lteSocket}->\hyperlink{classns3_1_1Socket_a036901c8f485fe5b6eab93b7f2ec289d}{Send} (packet);
309   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (sentBytes > 0);
310 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Send\+To\+S1u\+Socket@{Send\+To\+S1u\+Socket}}
\index{Send\+To\+S1u\+Socket@{Send\+To\+S1u\+Socket}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Send\+To\+S1u\+Socket(\+Ptr$<$ Packet $>$ packet, uint32\+\_\+t teid)}{SendToS1uSocket(Ptr< Packet > packet, uint32_t teid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Send\+To\+S1u\+Socket (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{uint32\+\_\+t}]{teid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a550ef90073047a928a2e31a39f91f26b}{}\label{classns3_1_1EpcEnbApplication_a550ef90073047a928a2e31a39f91f26b}
Send a packet to the S\+GW via the S1-\/U interface


\begin{DoxyParams}{Parameters}
{\em packet} & packet to be sent \\
\hline
{\em teid} & the \hyperlink{classTunnel}{Tunnel} Enpoint I\+Dentifier \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
315 \{
316   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << teid <<  packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());  
317   GtpuHeader gtpu;
318   gtpu.SetTeid (teid);
319   \textcolor{comment}{// From 3GPP TS 29.281 v10.0.0 Section 5.1}
320   \textcolor{comment}{// Length of the payload + the non obligatory GTP-U header}
321   gtpu.SetLength (packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () + gtpu.GetSerializedSize () - 8);  
322   packet->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (gtpu);
323   uint32\_t flags = 0;
324   \hyperlink{classns3_1_1EpcEnbApplication_a1132d36c557a8a6134d014f6d187cb43}{m\_s1uSocket}->\hyperlink{classns3_1_1Socket_af898fce6a58e0dbba23c1c6de1d4220e}{SendTo} (packet, flags, InetSocketAddress (
      \hyperlink{classns3_1_1EpcEnbApplication_a45451c42063c8eefec6e0f16b36718f1}{m\_sgwS1uAddress}, \hyperlink{classns3_1_1EpcEnbApplication_ab28f95f379316c6d236f119ee65123c0}{m\_gtpuUdpPort}));
325 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Set\+S1ap\+Sap\+Mme@{Set\+S1ap\+Sap\+Mme}}
\index{Set\+S1ap\+Sap\+Mme@{Set\+S1ap\+Sap\+Mme}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Set\+S1ap\+Sap\+Mme(\+Epc\+S1ap\+Sap\+Enb\+Provider $\ast$s)}{SetS1apSapMme(EpcS1apSapEnbProvider *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Set\+S1ap\+Sap\+Mme (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+S1ap\+Sap\+Enb\+Provider} $\ast$}]{s}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcEnbApplication_aa0abdd37248e00380c250e01ff12a841}{}\label{classns3_1_1EpcEnbApplication_aa0abdd37248e00380c250e01ff12a841}
Set the S1\+AP provider for the S1\+AP e\+NB endpoint


\begin{DoxyParams}{Parameters}
{\em s} & the S1\+AP provider \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
124 \{
125   \hyperlink{classns3_1_1EpcEnbApplication_aea4917aa066399d72225c3408772020f}{m\_s1apSapEnbProvider} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
126 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Set\+S1\+Sap\+User@{Set\+S1\+Sap\+User}}
\index{Set\+S1\+Sap\+User@{Set\+S1\+Sap\+User}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Set\+S1\+Sap\+User(\+Epc\+Enb\+S1\+Sap\+User $\ast$s)}{SetS1SapUser(EpcEnbS1SapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Set\+S1\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+Enb\+S1\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcEnbApplication_aec298b6adc29bad4c52828ddf1a260d6}{}\label{classns3_1_1EpcEnbApplication_aec298b6adc29bad4c52828ddf1a260d6}
Set the S1 S\+AP User


\begin{DoxyParams}{Parameters}
{\em s} & the S1 S\+AP User \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
111 \{
112   \hyperlink{classns3_1_1EpcEnbApplication_aaafcd864038cc863330565126353c521}{m\_s1SapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
113 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Setup\+S1\+Bearer@{Setup\+S1\+Bearer}}
\index{Setup\+S1\+Bearer@{Setup\+S1\+Bearer}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Setup\+S1\+Bearer(uint32\+\_\+t teid, uint16\+\_\+t rnti, uint8\+\_\+t bid)}{SetupS1Bearer(uint32_t teid, uint16_t rnti, uint8_t bid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Enb\+Application\+::\+Setup\+S1\+Bearer (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{teid, }
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{bid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_aad22a048da4d7fc9a3f054bdb745e088}{}\label{classns3_1_1EpcEnbApplication_aad22a048da4d7fc9a3f054bdb745e088}
internal method used for the actual setup of the S1 Bearer


\begin{DoxyParams}{Parameters}
{\em teid} & \\
\hline
{\em rnti} & \\
\hline
{\em bid} & \\
\hline
\end{DoxyParams}


\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Member\+Epc\+Enb\+S1\+Sap\+Provider$<$ Epc\+Enb\+Application $>$@{Member\+Epc\+Enb\+S1\+Sap\+Provider$<$ Epc\+Enb\+Application $>$}}
\index{Member\+Epc\+Enb\+S1\+Sap\+Provider$<$ Epc\+Enb\+Application $>$@{Member\+Epc\+Enb\+S1\+Sap\+Provider$<$ Epc\+Enb\+Application $>$}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Member\+Epc\+Enb\+S1\+Sap\+Provider$<$ Epc\+Enb\+Application $>$}{MemberEpcEnbS1SapProvider< EpcEnbApplication >}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Member\+Epc\+Enb\+S1\+Sap\+Provider}$<$ {\bf Epc\+Enb\+Application} $>$\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1EpcEnbApplication_a9c8ee96d88de199cb8efc646b3fbb575}{}\label{classns3_1_1EpcEnbApplication_a9c8ee96d88de199cb8efc646b3fbb575}
\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!Member\+Epc\+S1ap\+Sap\+Enb$<$ Epc\+Enb\+Application $>$@{Member\+Epc\+S1ap\+Sap\+Enb$<$ Epc\+Enb\+Application $>$}}
\index{Member\+Epc\+S1ap\+Sap\+Enb$<$ Epc\+Enb\+Application $>$@{Member\+Epc\+S1ap\+Sap\+Enb$<$ Epc\+Enb\+Application $>$}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{Member\+Epc\+S1ap\+Sap\+Enb$<$ Epc\+Enb\+Application $>$}{MemberEpcS1apSapEnb< EpcEnbApplication >}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Member\+Epc\+S1ap\+Sap\+Enb}$<$ {\bf Epc\+Enb\+Application} $>$\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1EpcEnbApplication_abe1d5bf2a67020078bfd864c8324a173}{}\label{classns3_1_1EpcEnbApplication_abe1d5bf2a67020078bfd864c8324a173}


\subsection{Member Data Documentation}
\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+cell\+Id@{m\+\_\+cell\+Id}}
\index{m\+\_\+cell\+Id@{m\+\_\+cell\+Id}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+cell\+Id}{m_cellId}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+cell\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a77c5a697bc069ae78c8fbc5b781f43b5}{}\label{classns3_1_1EpcEnbApplication_a77c5a697bc069ae78c8fbc5b781f43b5}
\index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+enb\+S1u\+Address@{m\+\_\+enb\+S1u\+Address}}
\index{m\+\_\+enb\+S1u\+Address@{m\+\_\+enb\+S1u\+Address}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+enb\+S1u\+Address}{m_enbS1uAddress}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv4\+Address} ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+enb\+S1u\+Address\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a0edb76abc19ab0ed92f5086c2fad0d1f}{}\label{classns3_1_1EpcEnbApplication_a0edb76abc19ab0ed92f5086c2fad0d1f}
address of the e\+NB for S1-\/U communications \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+gtpu\+Udp\+Port@{m\+\_\+gtpu\+Udp\+Port}}
\index{m\+\_\+gtpu\+Udp\+Port@{m\+\_\+gtpu\+Udp\+Port}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+gtpu\+Udp\+Port}{m_gtpuUdpPort}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+gtpu\+Udp\+Port\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_ab28f95f379316c6d236f119ee65123c0}{}\label{classns3_1_1EpcEnbApplication_ab28f95f379316c6d236f119ee65123c0}
U\+DP port to be used for G\+TP \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+imsi\+Rnti\+Map@{m\+\_\+imsi\+Rnti\+Map}}
\index{m\+\_\+imsi\+Rnti\+Map@{m\+\_\+imsi\+Rnti\+Map}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+imsi\+Rnti\+Map}{m_imsiRntiMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint64\+\_\+t, uint16\+\_\+t$>$ ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+imsi\+Rnti\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a9e51467fe97aafabac7d51f056850fea}{}\label{classns3_1_1EpcEnbApplication_a9e51467fe97aafabac7d51f056850fea}
UE context info \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+lte\+Socket@{m\+\_\+lte\+Socket}}
\index{m\+\_\+lte\+Socket@{m\+\_\+lte\+Socket}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+lte\+Socket}{m_lteSocket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Socket}$>$ ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+lte\+Socket\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a510a8ee52d8499fa9e1f54b26486a80f}{}\label{classns3_1_1EpcEnbApplication_a510a8ee52d8499fa9e1f54b26486a80f}
raw packet socket to send and receive the packets to and from the L\+TE radio interface \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+rbid\+Teid\+Map@{m\+\_\+rbid\+Teid\+Map}}
\index{m\+\_\+rbid\+Teid\+Map@{m\+\_\+rbid\+Teid\+Map}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+rbid\+Teid\+Map}{m_rbidTeidMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint16\+\_\+t, std\+::map$<$uint8\+\_\+t, uint32\+\_\+t$>$ $>$ ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+rbid\+Teid\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a06ad312a7c59dd349c44bbdecf3c7358}{}\label{classns3_1_1EpcEnbApplication_a06ad312a7c59dd349c44bbdecf3c7358}
map of maps telling for each R\+N\+TI and B\+ID the corresponding S1-\/U T\+E\+ID \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+s1ap\+Sap\+Enb@{m\+\_\+s1ap\+Sap\+Enb}}
\index{m\+\_\+s1ap\+Sap\+Enb@{m\+\_\+s1ap\+Sap\+Enb}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+s1ap\+Sap\+Enb}{m_s1apSapEnb}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+S1ap\+Sap\+Enb}$\ast$ ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+s1ap\+Sap\+Enb\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a08723a377d93a90f768f48a7a6386e19}{}\label{classns3_1_1EpcEnbApplication_a08723a377d93a90f768f48a7a6386e19}
E\+NB side of the S1-\/\+AP S\+AP e\+NB endpoint \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+s1ap\+Sap\+Enb\+Provider@{m\+\_\+s1ap\+Sap\+Enb\+Provider}}
\index{m\+\_\+s1ap\+Sap\+Enb\+Provider@{m\+\_\+s1ap\+Sap\+Enb\+Provider}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+s1ap\+Sap\+Enb\+Provider}{m_s1apSapEnbProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+S1ap\+Sap\+Enb\+Provider}$\ast$ ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+s1ap\+Sap\+Enb\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_aea4917aa066399d72225c3408772020f}{}\label{classns3_1_1EpcEnbApplication_aea4917aa066399d72225c3408772020f}
Provider for the methods of S1\+AP e\+NB endpoint \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+s1\+Sap\+Provider@{m\+\_\+s1\+Sap\+Provider}}
\index{m\+\_\+s1\+Sap\+Provider@{m\+\_\+s1\+Sap\+Provider}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+s1\+Sap\+Provider}{m_s1SapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+Enb\+S1\+Sap\+Provider}$\ast$ ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+s1\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_ad7e9b81b4168a86e856cbc8b4ae55dae}{}\label{classns3_1_1EpcEnbApplication_ad7e9b81b4168a86e856cbc8b4ae55dae}
Provider for the S1 S\+AP \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+s1\+Sap\+User@{m\+\_\+s1\+Sap\+User}}
\index{m\+\_\+s1\+Sap\+User@{m\+\_\+s1\+Sap\+User}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+s1\+Sap\+User}{m_s1SapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+Enb\+S1\+Sap\+User}$\ast$ ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+s1\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_aaafcd864038cc863330565126353c521}{}\label{classns3_1_1EpcEnbApplication_aaafcd864038cc863330565126353c521}
User for the S1 S\+AP \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+s1u\+Socket@{m\+\_\+s1u\+Socket}}
\index{m\+\_\+s1u\+Socket@{m\+\_\+s1u\+Socket}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+s1u\+Socket}{m_s1uSocket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Socket}$>$ ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+s1u\+Socket\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a1132d36c557a8a6134d014f6d187cb43}{}\label{classns3_1_1EpcEnbApplication_a1132d36c557a8a6134d014f6d187cb43}
U\+DP socket to send and receive G\+T\+P-\/U the packets to and from the S1-\/U interface \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+sgw\+S1u\+Address@{m\+\_\+sgw\+S1u\+Address}}
\index{m\+\_\+sgw\+S1u\+Address@{m\+\_\+sgw\+S1u\+Address}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+sgw\+S1u\+Address}{m_sgwS1uAddress}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv4\+Address} ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+sgw\+S1u\+Address\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_a45451c42063c8eefec6e0f16b36718f1}{}\label{classns3_1_1EpcEnbApplication_a45451c42063c8eefec6e0f16b36718f1}
address of the S\+GW which terminates all S1-\/U tunnels \index{ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}!m\+\_\+teid\+Rbid\+Map@{m\+\_\+teid\+Rbid\+Map}}
\index{m\+\_\+teid\+Rbid\+Map@{m\+\_\+teid\+Rbid\+Map}!ns3\+::\+Epc\+Enb\+Application@{ns3\+::\+Epc\+Enb\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+teid\+Rbid\+Map}{m_teidRbidMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint32\+\_\+t, {\bf Eps\+Flow\+Id\+\_\+t}$>$ ns3\+::\+Epc\+Enb\+Application\+::m\+\_\+teid\+Rbid\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcEnbApplication_abc1df9a1103bb552fc8131e9cd45ab33}{}\label{classns3_1_1EpcEnbApplication_abc1df9a1103bb552fc8131e9cd45ab33}
map telling for each S1-\/U T\+E\+ID the corresponding R\+N\+TI,B\+ID 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{epc-enb-application_8h}{epc-\/enb-\/application.\+h}\item 
lte/model/\hyperlink{epc-enb-application_8cc}{epc-\/enb-\/application.\+cc}\end{DoxyCompactItemize}
