\hypertarget{classns3_1_1LteSpectrumValueHelper}{}\section{ns3\+:\+:Lte\+Spectrum\+Value\+Helper Class Reference}
\label{classns3_1_1LteSpectrumValueHelper}\index{ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}}


This class defines all functions to create spectrum model for lte.  




{\ttfamily \#include $<$lte-\/spectrum-\/value-\/helper.\+h$>$}



Collaboration diagram for ns3\+:\+:Lte\+Spectrum\+Value\+Helper\+:
% FIG 0
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static double \hyperlink{classns3_1_1LteSpectrumValueHelper_a07e5a6638c218927b61da7b75ae0b786}{Get\+Carrier\+Frequency} (uint16\+\_\+t \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a584be7562abb392609629331f8c6c42c}{earfcn})
\item 
static double \hyperlink{classns3_1_1LteSpectrumValueHelper_ac66d497f2d26a20d04b81deb37268f46}{Get\+Downlink\+Carrier\+Frequency} (uint16\+\_\+t \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a584be7562abb392609629331f8c6c42c}{earfcn})
\item 
static double \hyperlink{classns3_1_1LteSpectrumValueHelper_a68dacf6ed5c39f41e05e424561897a05}{Get\+Uplink\+Carrier\+Frequency} (uint16\+\_\+t \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a584be7562abb392609629331f8c6c42c}{earfcn})
\item 
static double \hyperlink{classns3_1_1LteSpectrumValueHelper_a95b49f604d55974b499714d0a6ca6513}{Get\+Channel\+Bandwidth} (uint8\+\_\+t tx\+Bandwidth\+Conf)
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ \hyperlink{classns3_1_1LteSpectrumValueHelper_a8b8e37e31ac9bcf4e3fa2d69ad931e0e}{Get\+Spectrum\+Model} (uint16\+\_\+t \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a584be7562abb392609629331f8c6c42c}{earfcn}, uint8\+\_\+t bandwidth)
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1LteSpectrumValueHelper_a3a6f8d1d197709d458882dfcf6005aa7}{Create\+Tx\+Power\+Spectral\+Density} (uint16\+\_\+t \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a584be7562abb392609629331f8c6c42c}{earfcn}, uint8\+\_\+t bandwidth, double power\+Tx, std\+::vector$<$ int $>$ \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{active\+Rbs})
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1LteSpectrumValueHelper_a80f622445631f64268ac0188e7e5a58a}{Create\+Tx\+Power\+Spectral\+Density} (uint16\+\_\+t \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a584be7562abb392609629331f8c6c42c}{earfcn}, uint8\+\_\+t bandwidth, double power\+Tx, std\+::map$<$ int, double $>$ power\+Tx\+Map, std\+::vector$<$ int $>$ \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{active\+Rbs})
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1LteSpectrumValueHelper_ac2cb4a9377ea954e990df6914b6dff4e}{Create\+Noise\+Power\+Spectral\+Density} (uint16\+\_\+t \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a584be7562abb392609629331f8c6c42c}{earfcn}, uint8\+\_\+t bandwidth, double noise\+Figure)
\item 
static \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1LteSpectrumValueHelper_a6ee49f48ad2f66485fbf044680a2440c}{Create\+Noise\+Power\+Spectral\+Density} (double noise\+Figure, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ spectrum\+Model)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class defines all functions to create spectrum model for lte. 

\subsection{Member Function Documentation}
\index{ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}!Create\+Noise\+Power\+Spectral\+Density@{Create\+Noise\+Power\+Spectral\+Density}}
\index{Create\+Noise\+Power\+Spectral\+Density@{Create\+Noise\+Power\+Spectral\+Density}!ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Create\+Noise\+Power\+Spectral\+Density(uint16\+\_\+t earfcn, uint8\+\_\+t bandwidth, double noise\+Figure)}{CreateNoisePowerSpectralDensity(uint16_t earfcn, uint8_t bandwidth, double noiseFigure)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Lte\+Spectrum\+Value\+Helper\+::\+Create\+Noise\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{earfcn, }
\item[{uint8\+\_\+t}]{bandwidth, }
\item[{double}]{noise\+Figure}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteSpectrumValueHelper_ac2cb4a9377ea954e990df6914b6dff4e}{}\label{classns3_1_1LteSpectrumValueHelper_ac2cb4a9377ea954e990df6914b6dff4e}
create a \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} that models the power spectral density of A\+W\+GN


\begin{DoxyParams}{Parameters}
{\em earfcn} & the carrier frequency (E\+A\+R\+F\+CN) at which reception is made \\
\hline
{\em bandwidth} & the Transmission Bandwidth Configuration in number of resource blocks \\
\hline
{\em noise\+Figure} & the noise figure in dB w.\+r.\+t. a reference temperature of 290K\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to a newly allocated \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} representing the noise Power Spectral Density in W/\+Hz for each Resource Block 
\end{DoxyReturn}

\begin{DoxyCode}
300 \{
301   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn} << (uint16\_t) txBandwidthConfiguration << noiseFigure);
302   Ptr<SpectrumModel> model = \hyperlink{classns3_1_1LteSpectrumValueHelper_a8b8e37e31ac9bcf4e3fa2d69ad931e0e}{GetSpectrumModel} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn}, txBandwidthConfiguration);
303   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteSpectrumValueHelper_ac2cb4a9377ea954e990df6914b6dff4e}{CreateNoisePowerSpectralDensity} (noiseFigure, model);
304 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 1


\index{ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}!Create\+Noise\+Power\+Spectral\+Density@{Create\+Noise\+Power\+Spectral\+Density}}
\index{Create\+Noise\+Power\+Spectral\+Density@{Create\+Noise\+Power\+Spectral\+Density}!ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Create\+Noise\+Power\+Spectral\+Density(double noise\+Figure, Ptr$<$ Spectrum\+Model $>$ spectrum\+Model)}{CreateNoisePowerSpectralDensity(double noiseFigure, Ptr< SpectrumModel > spectrumModel)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Lte\+Spectrum\+Value\+Helper\+::\+Create\+Noise\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{double}]{noise\+Figure, }
\item[{{\bf Ptr}$<$ {\bf Spectrum\+Model} $>$}]{spectrum\+Model}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteSpectrumValueHelper_a6ee49f48ad2f66485fbf044680a2440c}{}\label{classns3_1_1LteSpectrumValueHelper_a6ee49f48ad2f66485fbf044680a2440c}
create a \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} that models the power spectral density of A\+W\+GN


\begin{DoxyParams}{Parameters}
{\em noise\+Figure} & the noise figure in dB w.\+r.\+t. a reference temperature of 290K \\
\hline
{\em spectrum\+Model} & the \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} instance to be used\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to a newly allocated \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} representing the noise Power Spectral Density in W/\+Hz for each Resource Block 
\end{DoxyReturn}

\begin{DoxyCode}
308 \{
309   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (noiseFigureDb << spectrumModel);
310 
311 
312   \textcolor{comment}{// see "LTE - From theory to practice"}
313   \textcolor{comment}{// Section 22.4.4.2 Thermal Noise and Receiver Noise Figure}
314   \textcolor{keyword}{const} \textcolor{keywordtype}{double} kT\_dBm\_Hz = -174.0;  \textcolor{comment}{// dBm/Hz}
315   \textcolor{keywordtype}{double} kT\_W\_Hz = std::pow (10.0, (kT\_dBm\_Hz - 30) / 10.0);
316   \textcolor{keywordtype}{double} noiseFigureLinear = std::pow (10.0, noiseFigureDb / 10.0);
317   \textcolor{keywordtype}{double} noisePowerSpectralDensity =  kT\_W\_Hz * noiseFigureLinear;
318 
319   Ptr<SpectrumValue> noisePsd = Create <SpectrumValue> (spectrumModel);
320   (*noisePsd) = noisePowerSpectralDensity;
321   \textcolor{keywordflow}{return} noisePsd;
322 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}!Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}}
\index{Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}!ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Create\+Tx\+Power\+Spectral\+Density(uint16\+\_\+t earfcn, uint8\+\_\+t bandwidth, double power\+Tx, std\+::vector$<$ int $>$ active\+Rbs)}{CreateTxPowerSpectralDensity(uint16_t earfcn, uint8_t bandwidth, double powerTx, std::vector< int > activeRbs)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Lte\+Spectrum\+Value\+Helper\+::\+Create\+Tx\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{earfcn, }
\item[{uint8\+\_\+t}]{bandwidth, }
\item[{double}]{power\+Tx, }
\item[{std\+::vector$<$ int $>$}]{active\+Rbs}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteSpectrumValueHelper_a3a6f8d1d197709d458882dfcf6005aa7}{}\label{classns3_1_1LteSpectrumValueHelper_a3a6f8d1d197709d458882dfcf6005aa7}
create a spectrum value representing the power spectral density of a signal to be transmitted. See 3\+G\+PP TS 36.\+101 for a definition of most of the parameters described here.


\begin{DoxyParams}{Parameters}
{\em earfcn} & the carrier frequency (E\+A\+R\+F\+CN) of the transmission \\
\hline
{\em bandwidth} & the Transmission Bandwidth Configuration in number of resource blocks \\
\hline
{\em power\+Tx} & the total power in d\+Bm over the whole bandwidth \\
\hline
{\em active\+Rbs} & the list of Active Resource Blocks (P\+R\+Bs)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to a newly allocated \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} representing the TX Power Spectral Density in W/\+Hz for each Resource Block 
\end{DoxyReturn}

\begin{DoxyCode}
236 \{
237   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn} << (uint16\_t) txBandwidthConfiguration << powerTx << 
      \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{activeRbs});
238 
239   Ptr<SpectrumModel> model = \hyperlink{classns3_1_1LteSpectrumValueHelper_a8b8e37e31ac9bcf4e3fa2d69ad931e0e}{GetSpectrumModel} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn}, txBandwidthConfiguration);
240   Ptr<SpectrumValue> \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd} = Create <SpectrumValue> (model);
241 
242   \textcolor{comment}{// powerTx is expressed in dBm. We must convert it into natural unit.}
243   \textcolor{keywordtype}{double} powerTxW = std::pow (10., (powerTx - 30) / 10);
244 
245   \textcolor{keywordtype}{double} txPowerDensity = (powerTxW / (txBandwidthConfiguration * 180000));
246 
247   \textcolor{keywordflow}{for} (std::vector <int>::iterator it = \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{activeRbs}.begin (); it != 
      \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{activeRbs}.end (); it++)
248     \{
249       \textcolor{keywordtype}{int} rbId = (*it);
250       (*txPsd)[rbId] = txPowerDensity;
251     \}
252 
253   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (*txPsd);
254 
255   \textcolor{keywordflow}{return} \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd};
256 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}!Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}}
\index{Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}!ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Create\+Tx\+Power\+Spectral\+Density(uint16\+\_\+t earfcn, uint8\+\_\+t bandwidth, double power\+Tx, std\+::map$<$ int, double $>$ power\+Tx\+Map, std\+::vector$<$ int $>$ active\+Rbs)}{CreateTxPowerSpectralDensity(uint16_t earfcn, uint8_t bandwidth, double powerTx, std::map< int, double > powerTxMap, std::vector< int > activeRbs)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Lte\+Spectrum\+Value\+Helper\+::\+Create\+Tx\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{earfcn, }
\item[{uint8\+\_\+t}]{bandwidth, }
\item[{double}]{power\+Tx, }
\item[{std\+::map$<$ int, double $>$}]{power\+Tx\+Map, }
\item[{std\+::vector$<$ int $>$}]{active\+Rbs}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteSpectrumValueHelper_a80f622445631f64268ac0188e7e5a58a}{}\label{classns3_1_1LteSpectrumValueHelper_a80f622445631f64268ac0188e7e5a58a}
create a spectrum value representing the power spectral density of a signal to be transmitted. See 3\+G\+PP TS 36.\+101 for a definition of most of the parameters described here.


\begin{DoxyParams}{Parameters}
{\em earfcn} & the carrier frequency (E\+A\+R\+F\+CN) of the transmission \\
\hline
{\em bandwidth} & the Transmission Bandwidth Configuration in number of resource blocks \\
\hline
{\em power\+Tx} & the total power in d\+Bm over the whole bandwidth \\
\hline
{\em power\+Tx\+Map} & the map of power in d\+Bm for each RB, if map contain power for RB, power\+Tx is not used for this RB, otherwise power\+Tx is set for this RB \\
\hline
{\em active\+Rbs} & the list of Active Resource Blocks (P\+R\+Bs)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to a newly allocated \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} representing the TX Power Spectral Density in W/\+Hz for each Resource Block 
\end{DoxyReturn}

\begin{DoxyCode}
260 \{
261   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn} << (uint16\_t) txBandwidthConfiguration << 
      \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{activeRbs});
262 
263   Ptr<SpectrumModel> model = \hyperlink{classns3_1_1LteSpectrumValueHelper_a8b8e37e31ac9bcf4e3fa2d69ad931e0e}{GetSpectrumModel} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn}, txBandwidthConfiguration);
264   Ptr<SpectrumValue> \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd} = Create <SpectrumValue> (model);
265 
266   \textcolor{comment}{// powerTx is expressed in dBm. We must convert it into natural unit.}
267   \textcolor{keywordtype}{double} powerTxW = std::pow (10., (powerTx - 30) / 10);
268   \textcolor{keywordtype}{double} basicPowerTxW = std::pow (10., (powerTx - 30) / 10);
269 
270   \textcolor{keywordtype}{double} txPowerDensity = (powerTxW / (txBandwidthConfiguration * 180000));
271 
272   \textcolor{keywordflow}{for} (std::vector <int>::iterator it = \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{activeRbs}.begin (); it != 
      \hyperlink{generate__test__data__lte__spectrum__value__txpsd_8m_a24a77723355dffcf07f2679649d46828}{activeRbs}.end (); it++)
273     \{
274       \textcolor{keywordtype}{int} rbId = (*it);
275 
276       std::map<int, double>::iterator powerIt = powerTxMap.find (rbId);
277 
278       \textcolor{keywordflow}{if} (powerIt != powerTxMap.end ())
279         \{
280           powerTxW = std::pow (10., (powerIt->second - 30) / 10);
281           txPowerDensity = (powerTxW / (txBandwidthConfiguration * 180000));
282         \}
283       \textcolor{keywordflow}{else}
284         \{
285           txPowerDensity = (basicPowerTxW / (txBandwidthConfiguration * 180000));
286         \}
287 
288       (*txPsd)[rbId] = txPowerDensity;
289     \}
290 
291   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (*txPsd);
292 
293   \textcolor{keywordflow}{return} \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd};
294 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}!Get\+Carrier\+Frequency@{Get\+Carrier\+Frequency}}
\index{Get\+Carrier\+Frequency@{Get\+Carrier\+Frequency}!ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Get\+Carrier\+Frequency(uint16\+\_\+t earfcn)}{GetCarrierFrequency(uint16_t earfcn)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Lte\+Spectrum\+Value\+Helper\+::\+Get\+Carrier\+Frequency (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{earfcn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteSpectrumValueHelper_a07e5a6638c218927b61da7b75ae0b786}{}\label{classns3_1_1LteSpectrumValueHelper_a07e5a6638c218927b61da7b75ae0b786}
Calculates the carrier frequency from the E-\/\+U\+T\+RA Absolute Radio Frequency \hyperlink{classns3_1_1Channel}{Channel} Number (E\+A\+R\+F\+CN) according to 3\+G\+PP TS 36.\+101 section 5.\+7.\+3 \char`\"{}\+Carrier frequency and E\+A\+R\+F\+C\+N\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em earfcn} & the E\+A\+R\+F\+CN\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the carrier frequency in Hz 
\end{DoxyReturn}

\begin{DoxyCode}
102 \{
103   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn});
104   \textcolor{keywordflow}{if} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn} < 7000)
105     \{
106       \textcolor{comment}{// FDD downlink}
107       \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteSpectrumValueHelper_ac66d497f2d26a20d04b81deb37268f46}{GetDownlinkCarrierFrequency} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn});
108     \}
109   \textcolor{keywordflow}{else} 
110     \{
111       \textcolor{comment}{// either FDD uplink or TDD (for which uplink & downlink have same frequency)}
112       \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteSpectrumValueHelper_a68dacf6ed5c39f41e05e424561897a05}{GetUplinkCarrierFrequency} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn});
113     \}
114 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}!Get\+Channel\+Bandwidth@{Get\+Channel\+Bandwidth}}
\index{Get\+Channel\+Bandwidth@{Get\+Channel\+Bandwidth}!ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Get\+Channel\+Bandwidth(uint8\+\_\+t tx\+Bandwidth\+Conf)}{GetChannelBandwidth(uint8_t txBandwidthConf)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Lte\+Spectrum\+Value\+Helper\+::\+Get\+Channel\+Bandwidth (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{tx\+Bandwidth\+Conf}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteSpectrumValueHelper_a95b49f604d55974b499714d0a6ca6513}{}\label{classns3_1_1LteSpectrumValueHelper_a95b49f604d55974b499714d0a6ca6513}

\begin{DoxyParams}{Parameters}
{\em tx\+Bandwidth\+Conf} & the tranmission bandwidth configuration in number of resource blocks\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the nominal channel bandwidth in Hz as per 3\+G\+PP TS 36.\+101 
\end{DoxyReturn}

\begin{DoxyCode}
152 \{
153   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} ((uint16\_t) transmissionBandwidth);
154   \textcolor{keywordflow}{switch} (transmissionBandwidth)
155     \{ 
156     \textcolor{keywordflow}{case} 6:
157       \textcolor{keywordflow}{return} 1.4e6;
158     \textcolor{keywordflow}{case} 15:
159       \textcolor{keywordflow}{return} 3.0e6;
160     \textcolor{keywordflow}{case} 25:
161       \textcolor{keywordflow}{return} 5.0e6;
162     \textcolor{keywordflow}{case} 50:
163       \textcolor{keywordflow}{return} 10.0e6;
164     \textcolor{keywordflow}{case} 75:
165       \textcolor{keywordflow}{return} 15.0e6;
166     \textcolor{keywordflow}{case} 100:
167       \textcolor{keywordflow}{return} 20.0e6;
168     \textcolor{keywordflow}{default}:
169       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"invalid bandwidth value "} << (uint16\_t) transmissionBandwidth);
170     \}
171 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}!Get\+Downlink\+Carrier\+Frequency@{Get\+Downlink\+Carrier\+Frequency}}
\index{Get\+Downlink\+Carrier\+Frequency@{Get\+Downlink\+Carrier\+Frequency}!ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Get\+Downlink\+Carrier\+Frequency(uint16\+\_\+t earfcn)}{GetDownlinkCarrierFrequency(uint16_t earfcn)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Lte\+Spectrum\+Value\+Helper\+::\+Get\+Downlink\+Carrier\+Frequency (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{earfcn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteSpectrumValueHelper_ac66d497f2d26a20d04b81deb37268f46}{}\label{classns3_1_1LteSpectrumValueHelper_ac66d497f2d26a20d04b81deb37268f46}
Calculates the dowlink carrier frequency from the E-\/\+U\+T\+RA Absolute Radio Frequency \hyperlink{classns3_1_1Channel}{Channel} Number (E\+A\+R\+F\+CN) using the formula in 3\+G\+PP TS 36.\+101 section 5.\+7.\+3 \char`\"{}\+Carrier frequency and E\+A\+R\+F\+C\+N\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em earfcn} & the E\+A\+R\+F\+CN\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the dowlink carrier frequency in Hz 
\end{DoxyReturn}

\begin{DoxyCode}
118 \{
119   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (nDl);
120   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{lte-spectrum-value-helper_8cc_a1a0cf1fbef963a28fb2985919229db33}{NUM\_EUTRA\_BANDS}; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
121     \{
122       \textcolor{keywordflow}{if} ((\hyperlink{namespacens3_ac7b6277a31ba13b4793842a10a3d0f44}{g\_eutraChannelNumbers}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].rangeNdl1 <= nDl)
123           && (\hyperlink{namespacens3_ac7b6277a31ba13b4793842a10a3d0f44}{g\_eutraChannelNumbers}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].rangeNdl2 >= nDl))
124         \{
125           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"entry "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" fDlLow="} << 
      \hyperlink{namespacens3_ac7b6277a31ba13b4793842a10a3d0f44}{g\_eutraChannelNumbers}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].fDlLow);
126           \textcolor{keywordflow}{return} 1.0e6 * (\hyperlink{namespacens3_ac7b6277a31ba13b4793842a10a3d0f44}{g\_eutraChannelNumbers}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].\hyperlink{structns3_1_1EutraChannelNumbers_a6604ca119e13ce324756a7f2e438137f}{fDlLow} + 0.1 * (nDl - 
      \hyperlink{namespacens3_ac7b6277a31ba13b4793842a10a3d0f44}{g\_eutraChannelNumbers}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].\hyperlink{structns3_1_1EutraChannelNumbers_aae2b0869705effdf899566a098d9fd97}{nOffsDl}));
127         \}
128     \}
129   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"invalid EARFCN "} << nDl);
130   \textcolor{keywordflow}{return} 0.0;
131 \}
\end{DoxyCode}
\index{ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}!Get\+Spectrum\+Model@{Get\+Spectrum\+Model}}
\index{Get\+Spectrum\+Model@{Get\+Spectrum\+Model}!ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Get\+Spectrum\+Model(uint16\+\_\+t earfcn, uint8\+\_\+t bandwidth)}{GetSpectrumModel(uint16_t earfcn, uint8_t bandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Model} $>$ ns3\+::\+Lte\+Spectrum\+Value\+Helper\+::\+Get\+Spectrum\+Model (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{earfcn, }
\item[{uint8\+\_\+t}]{bandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteSpectrumValueHelper_a8b8e37e31ac9bcf4e3fa2d69ad931e0e}{}\label{classns3_1_1LteSpectrumValueHelper_a8b8e37e31ac9bcf4e3fa2d69ad931e0e}

\begin{DoxyParams}{Parameters}
{\em earfcn} & the carrier frequency (E\+A\+R\+F\+CN) at which reception is made \\
\hline
{\em bandwidth} & the Transmission Bandwidth Configuration in number of resource blocks\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the static \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} instance corresponding to the given carrier frequency and transmission bandwidth configuration. If such \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} does not exist, it is created. 
\end{DoxyReturn}

\begin{DoxyCode}
201 \{
202   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn} << (uint16\_t) txBandwidthConfiguration);
203   Ptr<SpectrumModel> ret;
204   LteSpectrumModelId key (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn}, txBandwidthConfiguration);
205   std::map<LteSpectrumModelId, Ptr<SpectrumModel> >::iterator it = 
      \hyperlink{namespacens3_a1e37494c3c56034a6030216a52f4be78}{g\_lteSpectrumModelMap}.find (key);
206   \textcolor{keywordflow}{if} (it != \hyperlink{namespacens3_a1e37494c3c56034a6030216a52f4be78}{g\_lteSpectrumModelMap}.end ())
207     \{
208       ret = it->second;
209     \}
210   \textcolor{keywordflow}{else}
211     \{
212       \textcolor{keywordtype}{double} \hyperlink{generate__test__data__lte__spectrum__model_8m_a72d54db2b27ce046aab6e6a414c407e9}{fc} = \hyperlink{classns3_1_1LteSpectrumValueHelper_a07e5a6638c218927b61da7b75ae0b786}{GetCarrierFrequency} (\hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn});
213       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (fc != 0, \textcolor{stringliteral}{"invalid EARFCN="} << \hyperlink{generate__test__data__lte__spectrum__model_8m_a584be7562abb392609629331f8c6c42c}{earfcn});
214 
215       \textcolor{keywordtype}{double} \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f} = fc - (txBandwidthConfiguration * 180e3 / 2.0);
216       \hyperlink{namespacens3_a46ac9188e5cf43bd5292f7b67451246e}{Bands} rbs;
217       \textcolor{keywordflow}{for} (uint8\_t numrb = 0; numrb < txBandwidthConfiguration; ++numrb)
218         \{
219           BandInfo rb; 
220           rb.fl = \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f};
221           \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f} += 90e3;
222           rb.fc = \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f};
223           \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f} += 90e3;
224           rb.fh = \hyperlink{buildings__pathloss_8m_aa52d3a6e3de5a80a97c12364caeaa125}{f};
225           rbs.push\_back (rb);
226         \}
227       ret = Create<SpectrumModel> (rbs);
228       \hyperlink{namespacens3_a1e37494c3c56034a6030216a52f4be78}{g\_lteSpectrumModelMap}.insert (std::pair<LteSpectrumModelId, Ptr<SpectrumModel> >
       (key, ret));
229     \}
230   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"returning SpectrumModel::GetUid () == "} << ret->GetUid ());
231   \textcolor{keywordflow}{return} ret;
232 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}!Get\+Uplink\+Carrier\+Frequency@{Get\+Uplink\+Carrier\+Frequency}}
\index{Get\+Uplink\+Carrier\+Frequency@{Get\+Uplink\+Carrier\+Frequency}!ns3\+::\+Lte\+Spectrum\+Value\+Helper@{ns3\+::\+Lte\+Spectrum\+Value\+Helper}}
\subsubsection[{\texorpdfstring{Get\+Uplink\+Carrier\+Frequency(uint16\+\_\+t earfcn)}{GetUplinkCarrierFrequency(uint16_t earfcn)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Lte\+Spectrum\+Value\+Helper\+::\+Get\+Uplink\+Carrier\+Frequency (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{earfcn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LteSpectrumValueHelper_a68dacf6ed5c39f41e05e424561897a05}{}\label{classns3_1_1LteSpectrumValueHelper_a68dacf6ed5c39f41e05e424561897a05}
Calculates the uplink carrier frequency from the E-\/\+U\+T\+RA Absolute Radio Frequency \hyperlink{classns3_1_1Channel}{Channel} Number (E\+A\+R\+F\+CN) using the formula in 3\+G\+PP TS 36.\+101 section 5.\+7.\+3 \char`\"{}\+Carrier frequency and E\+A\+R\+F\+C\+N\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em earfcn} & the E\+A\+R\+F\+CN\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the uplink carrier frequency in Hz 
\end{DoxyReturn}

\begin{DoxyCode}
135 \{
136   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (nUl);
137   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{lte-spectrum-value-helper_8cc_a1a0cf1fbef963a28fb2985919229db33}{NUM\_EUTRA\_BANDS}; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
138     \{
139       \textcolor{keywordflow}{if} ((\hyperlink{namespacens3_ac7b6277a31ba13b4793842a10a3d0f44}{g\_eutraChannelNumbers}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].rangeNul1 <= nUl)
140           && (\hyperlink{namespacens3_ac7b6277a31ba13b4793842a10a3d0f44}{g\_eutraChannelNumbers}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].rangeNul2 >= nUl))
141         \{
142           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"entry "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" fUlLow="} << 
      \hyperlink{namespacens3_ac7b6277a31ba13b4793842a10a3d0f44}{g\_eutraChannelNumbers}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].fUlLow);
143           \textcolor{keywordflow}{return} 1.0e6 * (\hyperlink{namespacens3_ac7b6277a31ba13b4793842a10a3d0f44}{g\_eutraChannelNumbers}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].\hyperlink{structns3_1_1EutraChannelNumbers_ac399b8ddb10beb25d52f8477b174b5fb}{fUlLow} + 0.1 * (nUl - 
      \hyperlink{namespacens3_ac7b6277a31ba13b4793842a10a3d0f44}{g\_eutraChannelNumbers}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}].\hyperlink{structns3_1_1EutraChannelNumbers_a9698201d767bf192e59a9a97cd1260be}{nOffsUl}));
144         \}
145     \}
146   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"invalid EARFCN "} << nUl);
147   \textcolor{keywordflow}{return} 0.0;
148 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{lte-spectrum-value-helper_8h}{lte-\/spectrum-\/value-\/helper.\+h}\item 
lte/model/\hyperlink{lte-spectrum-value-helper_8cc}{lte-\/spectrum-\/value-\/helper.\+cc}\end{DoxyCompactItemize}
