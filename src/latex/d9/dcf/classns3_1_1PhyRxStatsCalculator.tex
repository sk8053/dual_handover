\hypertarget{classns3_1_1PhyRxStatsCalculator}{}\section{ns3\+:\+:Phy\+Rx\+Stats\+Calculator Class Reference}
\label{classns3_1_1PhyRxStatsCalculator}\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}


{\ttfamily \#include $<$phy-\/rx-\/stats-\/calculator.\+h$>$}



Inheritance diagram for ns3\+:\+:Phy\+Rx\+Stats\+Calculator\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Phy\+Rx\+Stats\+Calculator\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1PhyRxStatsCalculator_a3da7fc0cdfd0c092cd313fc5ba1c89e6}{Phy\+Rx\+Stats\+Calculator} ()
\item 
virtual \hyperlink{classns3_1_1PhyRxStatsCalculator_a557de4e339865d7c5d852a6f1bf35f70}{$\sim$\+Phy\+Rx\+Stats\+Calculator} ()
\item 
void \hyperlink{classns3_1_1PhyRxStatsCalculator_af2a4dca3e43a5ad37acd53266b321893}{Set\+Ul\+Rx\+Output\+Filename} (std\+::string output\+Filename)
\item 
std\+::string \hyperlink{classns3_1_1PhyRxStatsCalculator_a1055ec6b6ec788fad2a17d8ed835f37b}{Get\+Ul\+Rx\+Output\+Filename} (void)
\item 
void \hyperlink{classns3_1_1PhyRxStatsCalculator_a9feb63009ac142ec65317b1028773e07}{Set\+Dl\+Rx\+Output\+Filename} (std\+::string output\+Filename)
\item 
std\+::string \hyperlink{classns3_1_1PhyRxStatsCalculator_a9b30d6bef15b40b7402eb559de719e2b}{Get\+Dl\+Rx\+Output\+Filename} (void)
\item 
void \hyperlink{classns3_1_1PhyRxStatsCalculator_a9c7d65b5514b0a4ba50ccae49f3f48e6}{Dl\+Phy\+Reception} (\hyperlink{structns3_1_1PhyReceptionStatParameters}{Phy\+Reception\+Stat\+Parameters} params)
\item 
void \hyperlink{classns3_1_1PhyRxStatsCalculator_af2777610cd765e1ceb91dd61c1dc91fa}{Ul\+Phy\+Reception} (\hyperlink{structns3_1_1PhyReceptionStatParameters}{Phy\+Reception\+Stat\+Parameters} params)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1PhyRxStatsCalculator_a34e378bec2476f0edae2226d3f45a0ea}{Get\+Type\+Id} (void)
\item 
static void \hyperlink{classns3_1_1PhyRxStatsCalculator_acc451f528606482ad711733f4d4c2e18}{Dl\+Phy\+Reception\+Callback} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1PhyRxStatsCalculator}{Phy\+Rx\+Stats\+Calculator} $>$ phy\+Rx\+Stats, std\+::string path, \hyperlink{structns3_1_1PhyReceptionStatParameters}{Phy\+Reception\+Stat\+Parameters} params)
\item 
static void \hyperlink{classns3_1_1PhyRxStatsCalculator_a5a0293d4f51c4ed30d8b561763546d73}{Ul\+Phy\+Reception\+Callback} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1PhyRxStatsCalculator}{Phy\+Rx\+Stats\+Calculator} $>$ phy\+Rx\+Stats, std\+::string path, \hyperlink{structns3_1_1PhyReceptionStatParameters}{Phy\+Reception\+Stat\+Parameters} params)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classns3_1_1PhyRxStatsCalculator_a213f01bace4b066672eb60b4e394acf7}{m\+\_\+dl\+Rx\+First\+Write}
\item 
bool \hyperlink{classns3_1_1PhyRxStatsCalculator_a55444d2052b042d6541f412b6a0340f3}{m\+\_\+ul\+Rx\+First\+Write}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Takes care of storing the information generated at P\+HY layer regarding reception. Metrics saved are\+:


\begin{DoxyItemize}
\item Timestamp (in seconds)
\item Frame index
\item Subframe index
\item C-\/\+R\+N\+TI
\item M\+CS for transport block 1
\item Size of transport block 1
\item M\+CS for transport block 2 (0 if not used)
\item Size of transport block 2 (0 if not used) 
\end{DoxyItemize}

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!Phy\+Rx\+Stats\+Calculator@{Phy\+Rx\+Stats\+Calculator}}
\index{Phy\+Rx\+Stats\+Calculator@{Phy\+Rx\+Stats\+Calculator}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Phy\+Rx\+Stats\+Calculator()}{PhyRxStatsCalculator()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::\+Phy\+Rx\+Stats\+Calculator (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyRxStatsCalculator_a3da7fc0cdfd0c092cd313fc5ba1c89e6}{}\label{classns3_1_1PhyRxStatsCalculator_a3da7fc0cdfd0c092cd313fc5ba1c89e6}
Constructor 
\begin{DoxyCode}
35   : \hyperlink{classns3_1_1PhyRxStatsCalculator_a213f01bace4b066672eb60b4e394acf7}{m\_dlRxFirstWrite} (\textcolor{keyword}{true}),
36     \hyperlink{classns3_1_1PhyRxStatsCalculator_a55444d2052b042d6541f412b6a0340f3}{m\_ulRxFirstWrite} (\textcolor{keyword}{true})
37 \{
38   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
39 
40 \}
\end{DoxyCode}
\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!````~Phy\+Rx\+Stats\+Calculator@{$\sim$\+Phy\+Rx\+Stats\+Calculator}}
\index{````~Phy\+Rx\+Stats\+Calculator@{$\sim$\+Phy\+Rx\+Stats\+Calculator}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{$\sim$\+Phy\+Rx\+Stats\+Calculator()}{~PhyRxStatsCalculator()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::$\sim$\+Phy\+Rx\+Stats\+Calculator (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PhyRxStatsCalculator_a557de4e339865d7c5d852a6f1bf35f70}{}\label{classns3_1_1PhyRxStatsCalculator_a557de4e339865d7c5d852a6f1bf35f70}
Destructor 
\begin{DoxyCode}
43 \{
44   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
45 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!Dl\+Phy\+Reception@{Dl\+Phy\+Reception}}
\index{Dl\+Phy\+Reception@{Dl\+Phy\+Reception}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Dl\+Phy\+Reception(\+Phy\+Reception\+Stat\+Parameters params)}{DlPhyReception(PhyReceptionStatParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::\+Dl\+Phy\+Reception (
\begin{DoxyParamCaption}
\item[{{\bf Phy\+Reception\+Stat\+Parameters}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyRxStatsCalculator_a9c7d65b5514b0a4ba50ccae49f3f48e6}{}\label{classns3_1_1PhyRxStatsCalculator_a9c7d65b5514b0a4ba50ccae49f3f48e6}
Notifies the stats calculator that an downlink reception has occurred. 
\begin{DoxyParams}{Parameters}
{\em params} & Trace information regarding P\+HY reception stats \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
94 \{
95   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << params.m\_cellId << params.m\_imsi << params.m\_timestamp << params.
      m\_rnti << params.m\_layer << params.m\_mcs << params.m\_size << params.m\_rv << params.m\_ndi << params.
      m\_correctness);
96   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Write DL Rx Phy Stats in "} << \hyperlink{classns3_1_1PhyRxStatsCalculator_a9b30d6bef15b40b7402eb559de719e2b}{GetDlRxOutputFilename} ().
      c\_str ());
97 
98   std::ofstream outFile;
99   \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1PhyRxStatsCalculator_a213f01bace4b066672eb60b4e394acf7}{m\_dlRxFirstWrite} == \textcolor{keyword}{true} )
100     \{
101       outFile.open (\hyperlink{classns3_1_1PhyRxStatsCalculator_a9b30d6bef15b40b7402eb559de719e2b}{GetDlRxOutputFilename} ().c\_str ());
102       \textcolor{keywordflow}{if} (!outFile.is\_open ())
103         \{
104           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Can't open file "} << \hyperlink{classns3_1_1PhyRxStatsCalculator_a9b30d6bef15b40b7402eb559de719e2b}{GetDlRxOutputFilename} ().
      c\_str ());
105           \textcolor{keywordflow}{return};
106         \}
107       \hyperlink{classns3_1_1PhyRxStatsCalculator_a213f01bace4b066672eb60b4e394acf7}{m\_dlRxFirstWrite} = \textcolor{keyword}{false};
108       outFile << \textcolor{stringliteral}{"% time\(\backslash\)tcellId\(\backslash\)tIMSI\(\backslash\)tRNTI\(\backslash\)ttxMode\(\backslash\)tlayer\(\backslash\)tmcs\(\backslash\)tsize\(\backslash\)trv\(\backslash\)tndi\(\backslash\)tcorrect"};
109       outFile << std::endl;
110     \}
111   \textcolor{keywordflow}{else}
112     \{
113       outFile.open (\hyperlink{classns3_1_1PhyRxStatsCalculator_a9b30d6bef15b40b7402eb559de719e2b}{GetDlRxOutputFilename} ().c\_str (),  std::ios\_base::app);
114       \textcolor{keywordflow}{if} (!outFile.is\_open ())
115         \{
116           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Can't open file "} << \hyperlink{classns3_1_1PhyRxStatsCalculator_a9b30d6bef15b40b7402eb559de719e2b}{GetDlRxOutputFilename} ().
      c\_str ());
117           \textcolor{keywordflow}{return};
118         \}
119     \}
120 
121 \textcolor{comment}{//   outFile << Simulator::Now ().GetNanoSeconds () / (double) 1e9 << "\(\backslash\)t";}
122   outFile << params.m\_timestamp << \textcolor{stringliteral}{"\(\backslash\)t"};
123   outFile << (uint32\_t) params.m\_cellId << \textcolor{stringliteral}{"\(\backslash\)t"};
124   outFile << params.m\_imsi << \textcolor{stringliteral}{"\(\backslash\)t"};
125   outFile << params.m\_rnti << \textcolor{stringliteral}{"\(\backslash\)t"};
126   outFile << (uint32\_t) params.m\_txMode << \textcolor{stringliteral}{"\(\backslash\)t"};
127   outFile << (uint32\_t) params.m\_layer << \textcolor{stringliteral}{"\(\backslash\)t"};
128   outFile << (uint32\_t) params.m\_mcs << \textcolor{stringliteral}{"\(\backslash\)t"};
129   outFile << params.m\_size << \textcolor{stringliteral}{"\(\backslash\)t"};
130   outFile << (uint32\_t) params.m\_rv << \textcolor{stringliteral}{"\(\backslash\)t"};
131   outFile << (uint32\_t) params.m\_ndi << \textcolor{stringliteral}{"\(\backslash\)t"};
132   outFile << (uint32\_t) params.m\_correctness << std::endl;
133   outFile.close ();
134 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!Dl\+Phy\+Reception\+Callback@{Dl\+Phy\+Reception\+Callback}}
\index{Dl\+Phy\+Reception\+Callback@{Dl\+Phy\+Reception\+Callback}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Dl\+Phy\+Reception\+Callback(\+Ptr$<$ Phy\+Rx\+Stats\+Calculator $>$ phy\+Rx\+Stats, std\+::string path, Phy\+Reception\+Stat\+Parameters params)}{DlPhyReceptionCallback(Ptr< PhyRxStatsCalculator > phyRxStats, std::string path, PhyReceptionStatParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::\+Dl\+Phy\+Reception\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Phy\+Rx\+Stats\+Calculator} $>$}]{phy\+Rx\+Stats, }
\item[{std\+::string}]{path, }
\item[{{\bf Phy\+Reception\+Stat\+Parameters}}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1PhyRxStatsCalculator_acc451f528606482ad711733f4d4c2e18}{}\label{classns3_1_1PhyRxStatsCalculator_acc451f528606482ad711733f4d4c2e18}
trace sink


\begin{DoxyParams}{Parameters}
{\em phy\+Rx\+Stats} & \\
\hline
{\em path} & \\
\hline
{\em params} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
182 \{
183   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (phyRxStats << path);
184   uint64\_t imsi = 0;
185   std::ostringstream pathAndRnti;
186   pathAndRnti << path << \textcolor{stringliteral}{"/"} << params.m\_rnti;
187   \textcolor{keywordflow}{if} (phyRxStats->ExistsImsiPath (pathAndRnti.str ()) == \textcolor{keyword}{true})
188     \{
189       imsi = phyRxStats->GetImsiPath (pathAndRnti.str ());
190     \}
191   \textcolor{keywordflow}{else}
192     \{
193       imsi = \hyperlink{classns3_1_1LteStatsCalculator_a1f46711b06f346117df8f77bcd4483a4}{FindImsiForUe} (path, params.m\_rnti);
194       phyRxStats->SetImsiPath (pathAndRnti.str (), imsi);
195     \}
196 
197   params.m\_imsi = imsi;
198   phyRxStats->DlPhyReception (params);
199 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!Get\+Dl\+Rx\+Output\+Filename@{Get\+Dl\+Rx\+Output\+Filename}}
\index{Get\+Dl\+Rx\+Output\+Filename@{Get\+Dl\+Rx\+Output\+Filename}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Get\+Dl\+Rx\+Output\+Filename(void)}{GetDlRxOutputFilename(void)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::\+Get\+Dl\+Rx\+Output\+Filename (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyRxStatsCalculator_a9b30d6bef15b40b7402eb559de719e2b}{}\label{classns3_1_1PhyRxStatsCalculator_a9b30d6bef15b40b7402eb559de719e2b}
Get the name of the file where the DL RX P\+HY statistics will be stored. \begin{DoxyReturn}{Returns}
the name of the file where the DL RX P\+HY statistics will be stored 
\end{DoxyReturn}

\begin{DoxyCode}
88 \{
89   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteStatsCalculator_a022c578ee2e9eca77969f2f63e71bcc9}{LteStatsCalculator::GetDlOutputFilename} ();
90 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1PhyRxStatsCalculator_a34e378bec2476f0edae2226d3f45a0ea}{}\label{classns3_1_1PhyRxStatsCalculator_a34e378bec2476f0edae2226d3f45a0ea}
Register this type. \begin{DoxyReturn}{Returns}
The object \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
49 \{
50   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::PhyRxStatsCalculator"})
51     .SetParent<\hyperlink{classns3_1_1LteStatsCalculator_a4d74204c35bb226063fb38662072b272}{LteStatsCalculator}> ()
52     .SetGroupName(\textcolor{stringliteral}{"Lte"})
53     .AddConstructor<\hyperlink{classns3_1_1PhyRxStatsCalculator_a3da7fc0cdfd0c092cd313fc5ba1c89e6}{PhyRxStatsCalculator}> ()
54     .AddAttribute (\textcolor{stringliteral}{"DlRxOutputFilename"},
55                    \textcolor{stringliteral}{"Name of the file where the downlink results will be saved."},
56                    StringValue (\textcolor{stringliteral}{"DlRxPhyStats.txt"}),
57                    MakeStringAccessor (&
      \hyperlink{classns3_1_1PhyRxStatsCalculator_a9feb63009ac142ec65317b1028773e07}{PhyRxStatsCalculator::SetDlRxOutputFilename}),
58                    MakeStringChecker ())
59     .AddAttribute (\textcolor{stringliteral}{"UlRxOutputFilename"},
60                    \textcolor{stringliteral}{"Name of the file where the uplink results will be saved."},
61                    StringValue (\textcolor{stringliteral}{"UlRxPhyStats.txt"}),
62                    MakeStringAccessor (&
      \hyperlink{classns3_1_1PhyRxStatsCalculator_af2a4dca3e43a5ad37acd53266b321893}{PhyRxStatsCalculator::SetUlRxOutputFilename}),
63                    MakeStringChecker ())
64   ;
65   \textcolor{keywordflow}{return} tid;
66 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!Get\+Ul\+Rx\+Output\+Filename@{Get\+Ul\+Rx\+Output\+Filename}}
\index{Get\+Ul\+Rx\+Output\+Filename@{Get\+Ul\+Rx\+Output\+Filename}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Get\+Ul\+Rx\+Output\+Filename(void)}{GetUlRxOutputFilename(void)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::\+Get\+Ul\+Rx\+Output\+Filename (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyRxStatsCalculator_a1055ec6b6ec788fad2a17d8ed835f37b}{}\label{classns3_1_1PhyRxStatsCalculator_a1055ec6b6ec788fad2a17d8ed835f37b}
Get the name of the file where the UL RX P\+HY statistics will be stored. \begin{DoxyReturn}{Returns}
the name of the file where the UL RX P\+HY statistics will be stored 
\end{DoxyReturn}

\begin{DoxyCode}
76 \{
77   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteStatsCalculator_a8091b8aee336d1c4745de3e422b46e40}{LteStatsCalculator::GetUlOutputFilename} ();
78 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!Set\+Dl\+Rx\+Output\+Filename@{Set\+Dl\+Rx\+Output\+Filename}}
\index{Set\+Dl\+Rx\+Output\+Filename@{Set\+Dl\+Rx\+Output\+Filename}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Set\+Dl\+Rx\+Output\+Filename(std\+::string output\+Filename)}{SetDlRxOutputFilename(std::string outputFilename)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::\+Set\+Dl\+Rx\+Output\+Filename (
\begin{DoxyParamCaption}
\item[{std\+::string}]{output\+Filename}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyRxStatsCalculator_a9feb63009ac142ec65317b1028773e07}{}\label{classns3_1_1PhyRxStatsCalculator_a9feb63009ac142ec65317b1028773e07}
Set the name of the file where the DL RX P\+HY statistics will be stored.


\begin{DoxyParams}{Parameters}
{\em output\+Filename} & string with the name of the file \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
82 \{
83   \hyperlink{classns3_1_1LteStatsCalculator_a1cd704e00a2384ef49fa74a7d29f91c1}{LteStatsCalculator::SetDlOutputFilename} (outputFilename);
84 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!Set\+Ul\+Rx\+Output\+Filename@{Set\+Ul\+Rx\+Output\+Filename}}
\index{Set\+Ul\+Rx\+Output\+Filename@{Set\+Ul\+Rx\+Output\+Filename}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Set\+Ul\+Rx\+Output\+Filename(std\+::string output\+Filename)}{SetUlRxOutputFilename(std::string outputFilename)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::\+Set\+Ul\+Rx\+Output\+Filename (
\begin{DoxyParamCaption}
\item[{std\+::string}]{output\+Filename}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyRxStatsCalculator_af2a4dca3e43a5ad37acd53266b321893}{}\label{classns3_1_1PhyRxStatsCalculator_af2a4dca3e43a5ad37acd53266b321893}
Set the name of the file where the UL Rx P\+HY statistics will be stored.


\begin{DoxyParams}{Parameters}
{\em output\+Filename} & string with the name of the file \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
70 \{
71   \hyperlink{classns3_1_1LteStatsCalculator_a47ced91f91ab7550e347ee1a933ca998}{LteStatsCalculator::SetUlOutputFilename} (outputFilename);
72 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12




Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!Ul\+Phy\+Reception@{Ul\+Phy\+Reception}}
\index{Ul\+Phy\+Reception@{Ul\+Phy\+Reception}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Ul\+Phy\+Reception(\+Phy\+Reception\+Stat\+Parameters params)}{UlPhyReception(PhyReceptionStatParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::\+Ul\+Phy\+Reception (
\begin{DoxyParamCaption}
\item[{{\bf Phy\+Reception\+Stat\+Parameters}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyRxStatsCalculator_af2777610cd765e1ceb91dd61c1dc91fa}{}\label{classns3_1_1PhyRxStatsCalculator_af2777610cd765e1ceb91dd61c1dc91fa}
Notifies the stats calculator that an uplink reception has occurred. 
\begin{DoxyParams}{Parameters}
{\em params} & Trace information regarding P\+HY reception stats \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
138 \{
139   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << params.m\_cellId << params.m\_imsi << params.m\_timestamp << params.
      m\_rnti << params.m\_layer << params.m\_mcs << params.m\_size << params.m\_rv << params.m\_ndi << params.
      m\_correctness);
140   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Write UL Rx Phy Stats in "} << \hyperlink{classns3_1_1PhyRxStatsCalculator_a1055ec6b6ec788fad2a17d8ed835f37b}{GetUlRxOutputFilename} ().
      c\_str ());
141 
142   std::ofstream outFile;
143   \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1PhyRxStatsCalculator_a55444d2052b042d6541f412b6a0340f3}{m\_ulRxFirstWrite} == \textcolor{keyword}{true} )
144     \{
145       outFile.open (\hyperlink{classns3_1_1PhyRxStatsCalculator_a1055ec6b6ec788fad2a17d8ed835f37b}{GetUlRxOutputFilename} ().c\_str ());
146       \textcolor{keywordflow}{if} (!outFile.is\_open ())
147         \{
148           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Can't open file "} << \hyperlink{classns3_1_1PhyRxStatsCalculator_a1055ec6b6ec788fad2a17d8ed835f37b}{GetUlRxOutputFilename} ().
      c\_str ());
149           \textcolor{keywordflow}{return};
150         \}
151       \hyperlink{classns3_1_1PhyRxStatsCalculator_a55444d2052b042d6541f412b6a0340f3}{m\_ulRxFirstWrite} = \textcolor{keyword}{false};
152       outFile << \textcolor{stringliteral}{"% time\(\backslash\)tcellId\(\backslash\)tIMSI\(\backslash\)tRNTI\(\backslash\)tlayer\(\backslash\)tmcs\(\backslash\)tsize\(\backslash\)trv\(\backslash\)tndi\(\backslash\)tcorrect"};
153       outFile << std::endl;
154     \}
155   \textcolor{keywordflow}{else}
156     \{
157       outFile.open (\hyperlink{classns3_1_1PhyRxStatsCalculator_a1055ec6b6ec788fad2a17d8ed835f37b}{GetUlRxOutputFilename} ().c\_str (),  std::ios\_base::app);
158       \textcolor{keywordflow}{if} (!outFile.is\_open ())
159         \{
160           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Can't open file "} << \hyperlink{classns3_1_1PhyRxStatsCalculator_a1055ec6b6ec788fad2a17d8ed835f37b}{GetUlRxOutputFilename} ().
      c\_str ());
161           \textcolor{keywordflow}{return};
162         \}
163     \}
164 
165 \textcolor{comment}{//   outFile << Simulator::Now ().GetNanoSeconds () / (double) 1e9 << "\(\backslash\)t";}
166   outFile << params.m\_timestamp << \textcolor{stringliteral}{"\(\backslash\)t"};
167   outFile << (uint32\_t) params.m\_cellId << \textcolor{stringliteral}{"\(\backslash\)t"};
168   outFile << params.m\_imsi << \textcolor{stringliteral}{"\(\backslash\)t"};
169   outFile << params.m\_rnti << \textcolor{stringliteral}{"\(\backslash\)t"};
170   outFile << (uint32\_t) params.m\_layer << \textcolor{stringliteral}{"\(\backslash\)t"};
171   outFile << (uint32\_t) params.m\_mcs << \textcolor{stringliteral}{"\(\backslash\)t"};
172   outFile << params.m\_size << \textcolor{stringliteral}{"\(\backslash\)t"};
173   outFile << (uint32\_t) params.m\_rv << \textcolor{stringliteral}{"\(\backslash\)t"};
174   outFile << (uint32\_t) params.m\_ndi << \textcolor{stringliteral}{"\(\backslash\)t"};
175   outFile << (uint32\_t) params.m\_correctness << std::endl;
176   outFile.close ();
177 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14


\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!Ul\+Phy\+Reception\+Callback@{Ul\+Phy\+Reception\+Callback}}
\index{Ul\+Phy\+Reception\+Callback@{Ul\+Phy\+Reception\+Callback}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Ul\+Phy\+Reception\+Callback(\+Ptr$<$ Phy\+Rx\+Stats\+Calculator $>$ phy\+Rx\+Stats, std\+::string path, Phy\+Reception\+Stat\+Parameters params)}{UlPhyReceptionCallback(Ptr< PhyRxStatsCalculator > phyRxStats, std::string path, PhyReceptionStatParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::\+Ul\+Phy\+Reception\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Phy\+Rx\+Stats\+Calculator} $>$}]{phy\+Rx\+Stats, }
\item[{std\+::string}]{path, }
\item[{{\bf Phy\+Reception\+Stat\+Parameters}}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1PhyRxStatsCalculator_a5a0293d4f51c4ed30d8b561763546d73}{}\label{classns3_1_1PhyRxStatsCalculator_a5a0293d4f51c4ed30d8b561763546d73}
trace sink


\begin{DoxyParams}{Parameters}
{\em phy\+Rx\+Stats} & \\
\hline
{\em path} & \\
\hline
{\em params} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
204 \{
205   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (phyRxStats << path);
206   uint64\_t imsi = 0;
207   std::ostringstream pathAndRnti;
208   pathAndRnti << path << \textcolor{stringliteral}{"/"} << params.m\_rnti;
209   \textcolor{keywordflow}{if} (phyRxStats->ExistsImsiPath (pathAndRnti.str ()) == \textcolor{keyword}{true})
210     \{
211       imsi = phyRxStats->GetImsiPath (pathAndRnti.str ());
212     \}
213   \textcolor{keywordflow}{else}
214     \{
215       imsi = \hyperlink{classns3_1_1LteStatsCalculator_af6ffb642f9ef86076a53331e7aefdcb0}{FindImsiForEnb} (path, params.m\_rnti);
216       phyRxStats->SetImsiPath (pathAndRnti.str (), imsi);
217     \}
218 
219   params.m\_imsi = imsi;
220   phyRxStats->UlPhyReception (params);
221 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16




\subsection{Member Data Documentation}
\index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!m\+\_\+dl\+Rx\+First\+Write@{m\+\_\+dl\+Rx\+First\+Write}}
\index{m\+\_\+dl\+Rx\+First\+Write@{m\+\_\+dl\+Rx\+First\+Write}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Rx\+First\+Write}{m_dlRxFirstWrite}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::m\+\_\+dl\+Rx\+First\+Write\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PhyRxStatsCalculator_a213f01bace4b066672eb60b4e394acf7}{}\label{classns3_1_1PhyRxStatsCalculator_a213f01bace4b066672eb60b4e394acf7}
When writing DL RX P\+HY statistics first time to file, columns description is added. Then next lines are appended to file. This value is true if output files have not been opened yet \index{ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}!m\+\_\+ul\+Rx\+First\+Write@{m\+\_\+ul\+Rx\+First\+Write}}
\index{m\+\_\+ul\+Rx\+First\+Write@{m\+\_\+ul\+Rx\+First\+Write}!ns3\+::\+Phy\+Rx\+Stats\+Calculator@{ns3\+::\+Phy\+Rx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Rx\+First\+Write}{m_ulRxFirstWrite}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Phy\+Rx\+Stats\+Calculator\+::m\+\_\+ul\+Rx\+First\+Write\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PhyRxStatsCalculator_a55444d2052b042d6541f412b6a0340f3}{}\label{classns3_1_1PhyRxStatsCalculator_a55444d2052b042d6541f412b6a0340f3}
When writing UL RX P\+HY statistics first time to file, columns description is added. Then next lines are appended to file. This value is true if output files have not been opened yet 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/helper/\hyperlink{phy-rx-stats-calculator_8h}{phy-\/rx-\/stats-\/calculator.\+h}\item 
lte/helper/\hyperlink{phy-rx-stats-calculator_8cc}{phy-\/rx-\/stats-\/calculator.\+cc}\end{DoxyCompactItemize}
