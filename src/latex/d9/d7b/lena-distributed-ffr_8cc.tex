\hypertarget{lena-distributed-ffr_8cc}{}\section{lte/examples/lena-\/distributed-\/ffr.cc File Reference}
\label{lena-distributed-ffr_8cc}\index{lte/examples/lena-\/distributed-\/ffr.\+cc@{lte/examples/lena-\/distributed-\/ffr.\+cc}}
{\ttfamily \#include \char`\"{}ns3/core-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/network-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/mobility-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/lte-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/spectrum-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/config-\/store.\+h\char`\"{}}\\*
{\ttfamily \#include $<$ns3/buildings-\/helper.\+h$>$}\\*
{\ttfamily \#include \char`\"{}ns3/point-\/to-\/point-\/epc-\/helper.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/internet-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/point-\/to-\/point-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/applications-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/log.\+h\char`\"{}}\\*
Include dependency graph for lena-\/distributed-\/ffr.cc\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{lena-distributed-ffr_8cc_a3e616ca49b79ae674beb886178add22d}{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE} (\char`\"{}Lena\+Distributed\+Frequency\+Reuse\char`\"{})
\item 
void \hyperlink{lena-distributed-ffr_8cc_ad818a3dd4c090b8ecaba926e5272c409}{Print\+Gnuplottable\+Ue\+List\+To\+File} (std\+::string filename)
\item 
void \hyperlink{lena-distributed-ffr_8cc_a7e3aa5272ba032faa7717e0f3ba2f73d}{Print\+Gnuplottable\+Enb\+List\+To\+File} (std\+::string filename)
\item 
int \hyperlink{lena-distributed-ffr_8cc_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{lena-\/distributed-\/ffr.\+cc@{lena-\/distributed-\/ffr.\+cc}!main@{main}}
\index{main@{main}!lena-\/distributed-\/ffr.\+cc@{lena-\/distributed-\/ffr.\+cc}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$argv[])}{main(int argc, char *argv[])}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{lena-distributed-ffr_8cc_a0ddf1224851353fc92bfbff6f499fa97}{}\label{lena-distributed-ffr_8cc_a0ddf1224851353fc92bfbff6f499fa97}

\begin{DoxyCode}
97 \{
98   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::CtrlErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
99   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::DataErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
100   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteHelper::UseIdealRrc"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
101   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteHelper::UsePdschForCqiGeneration"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
102 
103   \textcolor{comment}{//Uplink Power Control}
104   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::EnableUplinkPowerControl"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
105   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::ClosedLoop"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
106   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::AccumulationEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
107 
108   uint32\_t runId = 3;
109   uint16\_t numberOfRandomUes = 0;
110   \textcolor{keywordtype}{double} simTime = 5.000;
111   \textcolor{keywordtype}{bool} generateSpectrumTrace = \textcolor{keyword}{false};
112   \textcolor{keywordtype}{bool} generateRem = \textcolor{keyword}{false};
113   int32\_t remRbId = -1;
114   uint8\_t bandwidth = 25;
115   \textcolor{keywordtype}{double} distance = 1000;
116   \hyperlink{classns3_1_1Box}{Box} macroUeBox = \hyperlink{classns3_1_1Box}{Box} (-distance * 0.5, distance * 1.5, -distance * 0.5, distance * 1.5, 1.5, 1.5);
117 
118   \textcolor{comment}{// Command line arguments}
119   \hyperlink{classns3_1_1CommandLine}{CommandLine} cmd;
120   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"numberOfUes"}, \textcolor{stringliteral}{"Number of UEs"}, numberOfRandomUes);
121   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"simTime"}, \textcolor{stringliteral}{"Total duration of the simulation (in seconds)"}, simTime);
122   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"generateSpectrumTrace"}, \textcolor{stringliteral}{"if true, will generate a Spectrum Analyzer trace"}, 
      generateSpectrumTrace);
123   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"generateRem"}, \textcolor{stringliteral}{"if true, will generate a REM and then abort the simulation"}, 
      generateRem);
124   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"remRbId"}, \textcolor{stringliteral}{"Resource block Id, for which REM will be generated,"}
125                 \textcolor{stringliteral}{"default value is -1, what means REM will be averaged from all RBs"}, remRbId);
126   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"runId"}, \textcolor{stringliteral}{"runId"}, runId);
127   cmd.\hyperlink{classns3_1_1CommandLine_a5c10b85b3207e5ecb48d907966923156}{Parse} (argc, argv);
128 
129   RngSeedManager::SetSeed (1);
130   RngSeedManager::SetRun (runId);
131 
132   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
133   \hyperlink{classns3_1_1Ptr}{Ptr<PointToPointEpcHelper>} epcHelper = CreateObject<PointToPointEpcHelper> ();
134   lteHelper->\hyperlink{classns3_1_1LteHelper_a324079a1ccd54ce949786b83d6b95915}{SetEpcHelper} (epcHelper);
135   lteHelper->\hyperlink{classns3_1_1LteHelper_a6301630b8a7082043efff2a7aaaa1d20}{SetHandoverAlgorithmType} (\textcolor{stringliteral}{"ns3::NoOpHandoverAlgorithm"}); \textcolor{comment}{// disable
       automatic handover}
136 
137   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} pgw = epcHelper->GetPgwNode ();
138 
139   \textcolor{comment}{// Create a single RemoteHost}
140   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} remoteHostContainer;
141   remoteHostContainer.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
142   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} remoteHost = remoteHostContainer.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0);
143   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
144   internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (remoteHostContainer);
145 
146   \textcolor{comment}{// Create the Internet}
147   \hyperlink{classns3_1_1PointToPointHelper}{PointToPointHelper} p2ph;
148   p2ph.\hyperlink{classns3_1_1PointToPointHelper_a4577f5ab8c387e5528af2e0fbab1152e}{SetDeviceAttribute} (\textcolor{stringliteral}{"DataRate"}, DataRateValue (\hyperlink{classns3_1_1DataRate}{DataRate} (\textcolor{stringliteral}{"100Gb/s"})));
149   p2ph.\hyperlink{classns3_1_1PointToPointHelper_a4577f5ab8c387e5528af2e0fbab1152e}{SetDeviceAttribute} (\textcolor{stringliteral}{"Mtu"}, UintegerValue (1500));
150   p2ph.\hyperlink{classns3_1_1PointToPointHelper_a6b5317fd17fb61e5a53f8d66a90b63b9}{SetChannelAttribute} (\textcolor{stringliteral}{"Delay"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.010)));
151   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} internetDevices = p2ph.\hyperlink{classns3_1_1PointToPointHelper_ab9162fea3e88722666fed1106df1f9ec}{Install} (pgw, remoteHost);
152   \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} ipv4h;
153   ipv4h.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"1.0.0.0"}, \textcolor{stringliteral}{"255.0.0.0"});
154   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} internetIpIfaces = ipv4h.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (internetDevices);
155   \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} remoteHostAddr = internetIpIfaces.\hyperlink{classns3_1_1Ipv4InterfaceContainer_ae63208dcd222be986822937ee4aa828c}{GetAddress} (1);
156 
157   \textcolor{comment}{// Routing of the Internet Host (towards the LTE network)}
158   \hyperlink{classns3_1_1Ipv4StaticRoutingHelper}{Ipv4StaticRoutingHelper} ipv4RoutingHelper;
159   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4StaticRouting>} remoteHostStaticRouting = ipv4RoutingHelper.
      \hyperlink{classns3_1_1Ipv4StaticRoutingHelper_a731206e50d305695dac7fb2ef963a4bb}{GetStaticRouting} (remoteHost->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ());
160   \textcolor{comment}{// interface 0 is localhost, 1 is the p2p device}
161   remoteHostStaticRouting->\hyperlink{classns3_1_1Ipv4StaticRouting_a8bf5eaa7ba49fe33c78c70d5560b6c39}{AddNetworkRouteTo} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"7.0.0.0"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (\textcolor{stringliteral}{"255.0.0.0"}), 1);
162 
163   \textcolor{comment}{// Create Nodes: eNodeB and UE}
164   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
165   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} randomUeNodes;
166   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (3);
167   randomUeNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (numberOfRandomUes);
168 
169   \textcolor{comment}{/*   the topology is the following:}
170 \textcolor{comment}{   *                 eNB3}
171 \textcolor{comment}{   *                /     \(\backslash\)}
172 \textcolor{comment}{   *               /       \(\backslash\)}
173 \textcolor{comment}{   *              /         \(\backslash\)}
174 \textcolor{comment}{   *             /           \(\backslash\)}
175 \textcolor{comment}{   *   distance /             \(\backslash\) distance}
176 \textcolor{comment}{   *           /      UEs      \(\backslash\)}
177 \textcolor{comment}{   *          /                 \(\backslash\)}
178 \textcolor{comment}{   *         /                   \(\backslash\)}
179 \textcolor{comment}{   *        /                     \(\backslash\)}
180 \textcolor{comment}{   *       /                       \(\backslash\)}
181 \textcolor{comment}{   *   eNB1-------------------------eNB2}
182 \textcolor{comment}{   *                  distance}
183 \textcolor{comment}{   */}
184 
185   \textcolor{comment}{// Install Mobility Model}
186   \hyperlink{classns3_1_1Ptr}{Ptr<ListPositionAllocator>} enbPositionAlloc = 
      CreateObject<ListPositionAllocator> ();
187   enbPositionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (\hyperlink{classns3_1_1Vector3D_a7e59b47bc94c9cb1dadff68c1d0112d8}{Vector} (0.0, 0.0, 0.0));                       \textcolor{comment}{// eNB1}
188   enbPositionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (\hyperlink{classns3_1_1Vector3D_a7e59b47bc94c9cb1dadff68c1d0112d8}{Vector} (distance,  0.0, 0.0));                 \textcolor{comment}{// eNB2}
189   enbPositionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (\hyperlink{classns3_1_1Vector3D_a7e59b47bc94c9cb1dadff68c1d0112d8}{Vector} (distance * 0.5, distance * 0.866, 0.0));   \textcolor{comment}{// eNB3}
190   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
191   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
192   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (enbPositionAlloc);
193   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (enbNodes);
194 
195   \hyperlink{classns3_1_1Ptr}{Ptr<RandomBoxPositionAllocator>} randomUePositionAlloc = 
      CreateObject<RandomBoxPositionAllocator> ();
196   \hyperlink{classns3_1_1Ptr}{Ptr<UniformRandomVariable>} xVal = CreateObject<UniformRandomVariable> ();
197   xVal->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Min"}, DoubleValue (macroUeBox.\hyperlink{classns3_1_1Box_a1fd6a43d53258323331d34da600ff1c5}{xMin}));
198   xVal->SetAttribute (\textcolor{stringliteral}{"Max"}, DoubleValue (macroUeBox.\hyperlink{classns3_1_1Box_a50021049c756e770329145b25d9533a2}{xMax}));
199   randomUePositionAlloc->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"X"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (xVal));
200   \hyperlink{classns3_1_1Ptr}{Ptr<UniformRandomVariable>} yVal = CreateObject<UniformRandomVariable> ();
201   yVal->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Min"}, DoubleValue (macroUeBox.\hyperlink{classns3_1_1Box_a3865ed092f941186823539c9979002f8}{yMin}));
202   yVal->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Max"}, DoubleValue (macroUeBox.\hyperlink{classns3_1_1Box_a001fd430a14b19efe925c818a332e392}{yMax}));
203   randomUePositionAlloc->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Y"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (yVal));
204   \hyperlink{classns3_1_1Ptr}{Ptr<UniformRandomVariable>} zVal = CreateObject<UniformRandomVariable> ();
205   zVal->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Min"}, DoubleValue (macroUeBox.\hyperlink{classns3_1_1Box_a9ab297b877a5c31dbfb344bd6f027e91}{zMin}));
206   zVal->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Max"}, DoubleValue (macroUeBox.\hyperlink{classns3_1_1Box_ae4d135764bbc8421fe82ec91e4693b59}{zMax}));
207   randomUePositionAlloc->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Z"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (zVal));
208   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (randomUePositionAlloc);
209   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (randomUeNodes);
210 
211   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
212   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
213   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} randomUeDevs;
214   lteHelper->\hyperlink{classns3_1_1LteHelper_a8f86e55b8b80a81732c4b2df00fb25d5}{SetSchedulerType} (\textcolor{stringliteral}{"ns3::PfFfMacScheduler"});
215   lteHelper->\hyperlink{classns3_1_1LteHelper_a38f8c7f4592b31c0f3dedb53e7909742}{SetSchedulerAttribute} (\textcolor{stringliteral}{"HarqEnabled"},  
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
216 
217   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"DlBandwidth"}, UintegerValue (bandwidth));
218   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"UlBandwidth"}, UintegerValue (bandwidth));
219 
220   lteHelper->\hyperlink{classns3_1_1LteHelper_a035c6b03305c1511975362f80425b5fc}{SetFfrAlgorithmType} (\textcolor{stringliteral}{"ns3::LteFfrDistributedAlgorithm"});
221   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"CalculationInterval"}, TimeValue (
      \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (200)));
222   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"RsrpDifferenceThreshold"}, UintegerValue (5)
      );
223   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"RsrqThreshold"}, UintegerValue (25));
224   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"EdgeRbNum"}, UintegerValue (6));
225   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"CenterPowerOffset"},
226                                        UintegerValue (LteRrcSap::PdschConfigDedicated::dB\_3));
227   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"EdgePowerOffset"},
228                                        UintegerValue (LteRrcSap::PdschConfigDedicated::dB3));
229 
230   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"CenterAreaTpc"}, UintegerValue (0));
231   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"EdgeAreaTpc"}, UintegerValue (3));
232 
233   \textcolor{comment}{//ns3::LteFfrDistributedAlgorithm works with Absolute Mode Uplink Power Control}
234   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::AccumulationEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
235 
236   enbDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes);
237   randomUeDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (randomUeNodes);
238 
239   \textcolor{comment}{// Add X2 inteface}
240   lteHelper->\hyperlink{classns3_1_1LteHelper_adbbd435f439200097e88a2965668bc26}{AddX2Interface} (enbNodes);
241 
242 
243   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes;
244   ueNodes.\hyperlink{classns3_1_1NodeContainer_aa60b3a0e70f2fb324e16ffcf8bf31fcb}{Add} (randomUeNodes);
245   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs;
246   ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (randomUeDevs);
247 
248   \textcolor{comment}{// Install the IP stack on the UEs}
249   internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (ueNodes);
250   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} ueIpIfaces;
251   ueIpIfaces = epcHelper->AssignUeIpv4Address (\hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} (ueDevs));
252   \textcolor{comment}{// Assign IP address to UEs, and install applications}
253   \textcolor{keywordflow}{for} (uint32\_t u = 0; u < ueNodes.\hyperlink{classns3_1_1NodeContainer_aed647ac56d0407a7706aba02eb44b951}{GetN} (); ++u)
254     \{
255       \hyperlink{classns3_1_1Ptr}{Ptr<Node>} ueNode = ueNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (u);
256       \textcolor{comment}{// Set the default gateway for the UE}
257       \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4StaticRouting>} ueStaticRouting = ipv4RoutingHelper.
      \hyperlink{classns3_1_1Ipv4StaticRoutingHelper_a731206e50d305695dac7fb2ef963a4bb}{GetStaticRouting} (ueNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ());
258       ueStaticRouting->\hyperlink{classns3_1_1Ipv4StaticRouting_aee30fa3246c2b42f122dabdff2725331}{SetDefaultRoute} (epcHelper->GetUeDefaultGatewayAddress (), 1);
259     \}
260 
261   \textcolor{comment}{// Attach a UE to a eNB}
262   lteHelper->\hyperlink{classns3_1_1LteHelper_af1e68c53f22b705f1c41753558240999}{AttachToClosestEnb} (ueDevs, enbDevs);
263 
264   \textcolor{comment}{// Install and start applications on UEs and remote host}
265   uint16\_t dlPort = 10000;
266   uint16\_t ulPort = 20000;
267 
268   \textcolor{comment}{// randomize a bit start times to avoid simulation artifacts}
269   \textcolor{comment}{// (e.g., buffer overflows due to packet transmissions happening}
270   \textcolor{comment}{// exactly at the same time)}
271   \hyperlink{classns3_1_1Ptr}{Ptr<UniformRandomVariable>} startTimeSeconds = 
      CreateObject<UniformRandomVariable> ();
272   startTimeSeconds->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Min"}, DoubleValue (0));
273   startTimeSeconds->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Max"}, DoubleValue (0.010));
274 
275   \textcolor{keywordflow}{for} (uint32\_t u = 0; u < ueNodes.\hyperlink{classns3_1_1NodeContainer_aed647ac56d0407a7706aba02eb44b951}{GetN} (); ++u)
276     \{
277       \hyperlink{classns3_1_1Ptr}{Ptr<Node>} ue = ueNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (u);
278       \textcolor{comment}{// Set the default gateway for the UE}
279       \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4StaticRouting>} ueStaticRouting = ipv4RoutingHelper.
      \hyperlink{classns3_1_1Ipv4StaticRoutingHelper_a731206e50d305695dac7fb2ef963a4bb}{GetStaticRouting} (ue->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ());
280       ueStaticRouting->\hyperlink{classns3_1_1Ipv4StaticRouting_aee30fa3246c2b42f122dabdff2725331}{SetDefaultRoute} (epcHelper->GetUeDefaultGatewayAddress (), 1);
281 
282       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b} = 0; \hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b} < 1; ++\hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b})
283         \{
284           ++dlPort;
285           ++ulPort;
286 
287           \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} clientApps;
288           \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} serverApps;
289 
290           \hyperlink{classns3_1_1UdpClientHelper}{UdpClientHelper} dlClientHelper (ueIpIfaces.\hyperlink{classns3_1_1Ipv4InterfaceContainer_ae63208dcd222be986822937ee4aa828c}{GetAddress} (u), dlPort);
291           dlClientHelper.\hyperlink{classns3_1_1UdpClientHelper_a8bbae16a28f85ab3f3b5aa4642edfeae}{SetAttribute} (\textcolor{stringliteral}{"MaxPackets"}, UintegerValue (1000000));
292           dlClientHelper.SetAttribute (\textcolor{stringliteral}{"Interval"}, TimeValue (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1.0)));
293           clientApps.\hyperlink{classns3_1_1ApplicationContainer_ad09ab1a1ad5849d518d5f4c262e38152}{Add} (dlClientHelper.Install (remoteHost));
294           \hyperlink{classns3_1_1PacketSinkHelper}{PacketSinkHelper} dlPacketSinkHelper (\textcolor{stringliteral}{"ns3::UdpSocketFactory"},
295                                                \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (Ipv4Address::GetAny (), 
      dlPort));
296           serverApps.\hyperlink{classns3_1_1ApplicationContainer_ad09ab1a1ad5849d518d5f4c262e38152}{Add} (dlPacketSinkHelper.Install (ue));
297 
298 
299           \hyperlink{classns3_1_1UdpClientHelper}{UdpClientHelper} ulClientHelper (remoteHostAddr, ulPort);
300           ulClientHelper.SetAttribute (\textcolor{stringliteral}{"MaxPackets"}, UintegerValue (1000000));
301           ulClientHelper.SetAttribute (\textcolor{stringliteral}{"Interval"}, TimeValue (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1.0)));
302           clientApps.\hyperlink{classns3_1_1ApplicationContainer_ad09ab1a1ad5849d518d5f4c262e38152}{Add} (ulClientHelper.Install (ue));
303           \hyperlink{classns3_1_1PacketSinkHelper}{PacketSinkHelper} ulPacketSinkHelper (\textcolor{stringliteral}{"ns3::UdpSocketFactory"},
304                                                \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (Ipv4Address::GetAny (), 
      ulPort));
305           serverApps.\hyperlink{classns3_1_1ApplicationContainer_ad09ab1a1ad5849d518d5f4c262e38152}{Add} (ulPacketSinkHelper.Install (remoteHost));
306 
307           \hyperlink{classns3_1_1Ptr}{Ptr<EpcTft>} tft = Create<EpcTft> ();
308           \hyperlink{structns3_1_1EpcTft_1_1PacketFilter}{EpcTft::PacketFilter} dlpf;
309           dlpf.\hyperlink{structns3_1_1EpcTft_1_1PacketFilter_afd505cda437b1687abc4432a8bcefbaf}{localPortStart} = dlPort;
310           dlpf.localPortEnd = dlPort;
311           tft->\hyperlink{classns3_1_1EpcTft_a1228456a8abbe48cbc89bbe2d2e9af48}{Add} (dlpf);
312           \hyperlink{structns3_1_1EpcTft_1_1PacketFilter}{EpcTft::PacketFilter} ulpf;
313           ulpf.\hyperlink{structns3_1_1EpcTft_1_1PacketFilter_aa96ab9356c91b14059220d00155c32b5}{remotePortStart} = ulPort;
314           ulpf.\hyperlink{structns3_1_1EpcTft_1_1PacketFilter_a4bcdd15a9526e27eabd474276f691cf1}{remotePortEnd} = ulPort;
315           tft->\hyperlink{classns3_1_1EpcTft_a1228456a8abbe48cbc89bbe2d2e9af48}{Add} (ulpf);
316           \hyperlink{structns3_1_1EpsBearer}{EpsBearer} bearer (EpsBearer::NGBR\_VIDEO\_TCP\_DEFAULT);
317           lteHelper->\hyperlink{classns3_1_1LteHelper_af28041edd4c96bde1a2e07c90e363dcc}{ActivateDedicatedEpsBearer} (ueDevs.
      \hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (u), bearer, tft);
318 
319           \hyperlink{classns3_1_1Time}{Time} startTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (startTimeSeconds->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue} ());
320           serverApps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (startTime);
321           clientApps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (startTime);
322         \}
323     \}
324 
325   \textcolor{comment}{//Spectrum analyzer}
326   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} spectrumAnalyzerNodes;
327   spectrumAnalyzerNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
328   \hyperlink{classns3_1_1SpectrumAnalyzerHelper}{SpectrumAnalyzerHelper} spectrumAnalyzerHelper;
329 
330   \textcolor{keywordflow}{if} (generateSpectrumTrace)
331     \{
332       \hyperlink{classns3_1_1Ptr}{Ptr<ListPositionAllocator>} positionAlloc = 
      CreateObject<ListPositionAllocator> ();
333       \textcolor{comment}{//position of Spectrum Analyzer}
334       positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (\hyperlink{classns3_1_1Vector3D_a7e59b47bc94c9cb1dadff68c1d0112d8}{Vector} (0.0, 0.0, 0.0));                              \textcolor{comment}{// eNB1}
335 \textcolor{comment}{//      positionAlloc->Add (Vector (distance,  0.0, 0.0));                        // eNB2}
336 \textcolor{comment}{//      positionAlloc->Add (Vector (distance*0.5, distance*0.866, 0.0));          // eNB3}
337 
338       \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
339       mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
340       mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (positionAlloc);
341       mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (spectrumAnalyzerNodes);
342 
343       \hyperlink{classns3_1_1Ptr}{Ptr<LteSpectrumPhy>} enbDlSpectrumPhy = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ()->GetPhy ()->GetDownlinkSpectrumPhy ()->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1LteSpectrumPhy}{LteSpectrumPhy}> ();
344       \hyperlink{classns3_1_1Ptr}{Ptr<SpectrumChannel>} dlChannel = enbDlSpectrumPhy->
      \hyperlink{classns3_1_1LteSpectrumPhy_a50f13e43568687ee32c5d63e5bf639c2}{GetChannel} ();
345 
346       spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_a7fb7b79c0706c9aecd427af6c4148031}{SetChannel} (dlChannel);
347       \hyperlink{classns3_1_1Ptr}{Ptr<SpectrumModel>} sm = LteSpectrumValueHelper::GetSpectrumModel (100, bandwidth);
348       spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_afcfa897fb4c298b02e39ec87717b0b54}{SetRxSpectrumModel} (sm);
349       spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_a535a79dd9e2fb4293eb9e9e5fcb111ae}{SetPhyAttribute} (\textcolor{stringliteral}{"Resolution"}, TimeValue (
      \hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (10)));
350       spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_a535a79dd9e2fb4293eb9e9e5fcb111ae}{SetPhyAttribute} (\textcolor{stringliteral}{"NoisePowerSpectralDensity"}, DoubleValue (1e-1
      5));     \textcolor{comment}{// -120 dBm/Hz}
351       spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_ad1bb3c14843583ce1227e00758d8ba51}{EnableAsciiAll} (\textcolor{stringliteral}{"spectrum-analyzer-output"});
352       spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_a64479eb63eb6b5ad5536ee8ecf2c717a}{Install} (spectrumAnalyzerNodes);
353     \}
354 
355   \hyperlink{classns3_1_1Ptr}{Ptr<RadioEnvironmentMapHelper>} remHelper;
356   \textcolor{keywordflow}{if} (generateRem)
357     \{
358       \hyperlink{lena-distributed-ffr_8cc_a7e3aa5272ba032faa7717e0f3ba2f73d}{PrintGnuplottableEnbListToFile} (\textcolor{stringliteral}{"enbs.txt"});
359       \hyperlink{lena-distributed-ffr_8cc_ad818a3dd4c090b8ecaba926e5272c409}{PrintGnuplottableUeListToFile} (\textcolor{stringliteral}{"ues.txt"});
360 
361       remHelper = CreateObject<RadioEnvironmentMapHelper> ();
362       \hyperlink{classns3_1_1Ptr}{Ptr<LteSpectrumPhy>} enbDlSpectrumPhy = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ()->GetPhy ()->GetDownlinkSpectrumPhy ()->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1LteSpectrumPhy}{LteSpectrumPhy}> ();
363       \hyperlink{classns3_1_1Ptr}{Ptr<SpectrumChannel>} dlChannel = enbDlSpectrumPhy->GetChannel ();
364       uint32\_t dlChannelId = dlChannel->GetId ();
365       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"DL ChannelId: "} << dlChannelId);
366       remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"ChannelPath"}, StringValue (\textcolor{stringliteral}{"/ChannelList/1"}));
367       remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"OutputFile"}, StringValue (\textcolor{stringliteral}{"lena-frequency-reuse.rem"}));
368       remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"XMin"}, DoubleValue (macroUeBox.\hyperlink{classns3_1_1Box_a1fd6a43d53258323331d34da600ff1c5}{xMin}));
369       remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"XMax"}, DoubleValue (macroUeBox.\hyperlink{classns3_1_1Box_a50021049c756e770329145b25d9533a2}{xMax}));
370       remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"YMin"}, DoubleValue (macroUeBox.\hyperlink{classns3_1_1Box_a3865ed092f941186823539c9979002f8}{yMin}));
371       remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"YMax"}, DoubleValue (macroUeBox.\hyperlink{classns3_1_1Box_a001fd430a14b19efe925c818a332e392}{yMax}));
372       remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Z"}, DoubleValue (1.5));
373       remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"XRes"}, UintegerValue (500));
374       remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"YRes"}, UintegerValue (500));
375 
376       \textcolor{keywordflow}{if} (remRbId >= 0)
377         \{
378           remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"UseDataChannel"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
379           remHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"RbId"}, IntegerValue (remRbId));
380         \}
381 
382       remHelper->\hyperlink{classns3_1_1RadioEnvironmentMapHelper_a0b15c982ea80037f9409d73654b48548}{Install} ();
383       \textcolor{comment}{// simulation will stop right after the REM has been generated}
384     \}
385   \textcolor{keywordflow}{else}
386     \{
387       Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (simTime));
388     \}
389 
390   Simulator::Run ();
391   Simulator::Destroy ();
392   \textcolor{keywordflow}{return} 0;
393 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1


\index{lena-\/distributed-\/ffr.\+cc@{lena-\/distributed-\/ffr.\+cc}!N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE@{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE}}
\index{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE@{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE}!lena-\/distributed-\/ffr.\+cc@{lena-\/distributed-\/ffr.\+cc}}
\subsubsection[{\texorpdfstring{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+N\+E(""Lena\+Distributed\+Frequency\+Reuse"")}{NS_LOG_COMPONENT_DEFINE("LenaDistributedFrequencyReuse")}}]{\setlength{\rightskip}{0pt plus 5cm}N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE (
\begin{DoxyParamCaption}
\item[{\char`\"{}Lena\+Distributed\+Frequency\+Reuse\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{lena-distributed-ffr_8cc_a3e616ca49b79ae674beb886178add22d}{}\label{lena-distributed-ffr_8cc_a3e616ca49b79ae674beb886178add22d}
\index{lena-\/distributed-\/ffr.\+cc@{lena-\/distributed-\/ffr.\+cc}!Print\+Gnuplottable\+Enb\+List\+To\+File@{Print\+Gnuplottable\+Enb\+List\+To\+File}}
\index{Print\+Gnuplottable\+Enb\+List\+To\+File@{Print\+Gnuplottable\+Enb\+List\+To\+File}!lena-\/distributed-\/ffr.\+cc@{lena-\/distributed-\/ffr.\+cc}}
\subsubsection[{\texorpdfstring{Print\+Gnuplottable\+Enb\+List\+To\+File(std\+::string filename)}{PrintGnuplottableEnbListToFile(std::string filename)}}]{\setlength{\rightskip}{0pt plus 5cm}void Print\+Gnuplottable\+Enb\+List\+To\+File (
\begin{DoxyParamCaption}
\item[{std\+::string}]{filename}
\end{DoxyParamCaption}
)}\hypertarget{lena-distributed-ffr_8cc_a7e3aa5272ba032faa7717e0f3ba2f73d}{}\label{lena-distributed-ffr_8cc_a7e3aa5272ba032faa7717e0f3ba2f73d}

\begin{DoxyCode}
69 \{
70   std::ofstream outFile;
71   outFile.open (filename.c\_str (), std::ios\_base::out | std::ios\_base::trunc);
72   \textcolor{keywordflow}{if} (!outFile.is\_open ())
73     \{
74       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Can't open file "} << filename);
75       \textcolor{keywordflow}{return};
76     \}
77   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1NodeList_a9e2679a94efb4f0066cc21e65440364d}{NodeList::Iterator} it = NodeList::Begin (); it != NodeList::End (); ++it)
78     \{
79       \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node = *it;
80       \textcolor{keywordtype}{int} nDevs = node->\hyperlink{classns3_1_1Node_a531554d2241ba4fa1cd74e3360be6bce}{GetNDevices} ();
81       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < nDevs; j++)
82         \{
83           \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbNetDevice>} enbdev = node->\hyperlink{classns3_1_1Node_a5918dfd24ef632efc9a83a5f6561c76e}{GetDevice} (j)->GetObject <
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ();
84           \textcolor{keywordflow}{if} (enbdev)
85             \{
86               \hyperlink{classns3_1_1Vector3D_a7e59b47bc94c9cb1dadff68c1d0112d8}{Vector} pos = node->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ()->
      \hyperlink{lena-cqi-threshold_8cc_acebf763e1a0478cec225f9547941ae54}{GetPosition} ();
87               outFile << \textcolor{stringliteral}{"set label \(\backslash\)""} << enbdev->\hyperlink{classns3_1_1LteEnbNetDevice_a6945c929a037e7a582e9e4a849dec337}{GetCellId} ()
88                       << \textcolor{stringliteral}{"\(\backslash\)" at "} << pos.x << \textcolor{stringliteral}{","} << pos.y
89                       << \textcolor{stringliteral}{" left font \(\backslash\)"Helvetica,4\(\backslash\)" textcolor rgb \(\backslash\)"white\(\backslash\)" front  point pt 2 ps 0.3 lc
       rgb \(\backslash\)"white\(\backslash\)" offset 0,0"}
90                       << std::endl;
91             \}
92         \}
93     \}
94 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{lena-\/distributed-\/ffr.\+cc@{lena-\/distributed-\/ffr.\+cc}!Print\+Gnuplottable\+Ue\+List\+To\+File@{Print\+Gnuplottable\+Ue\+List\+To\+File}}
\index{Print\+Gnuplottable\+Ue\+List\+To\+File@{Print\+Gnuplottable\+Ue\+List\+To\+File}!lena-\/distributed-\/ffr.\+cc@{lena-\/distributed-\/ffr.\+cc}}
\subsubsection[{\texorpdfstring{Print\+Gnuplottable\+Ue\+List\+To\+File(std\+::string filename)}{PrintGnuplottableUeListToFile(std::string filename)}}]{\setlength{\rightskip}{0pt plus 5cm}void Print\+Gnuplottable\+Ue\+List\+To\+File (
\begin{DoxyParamCaption}
\item[{std\+::string}]{filename}
\end{DoxyParamCaption}
)}\hypertarget{lena-distributed-ffr_8cc_ad818a3dd4c090b8ecaba926e5272c409}{}\label{lena-distributed-ffr_8cc_ad818a3dd4c090b8ecaba926e5272c409}

\begin{DoxyCode}
41 \{
42   std::ofstream outFile;
43   outFile.open (filename.c\_str (), std::ios\_base::out | std::ios\_base::trunc);
44   \textcolor{keywordflow}{if} (!outFile.is\_open ())
45     \{
46       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Can't open file "} << filename);
47       \textcolor{keywordflow}{return};
48     \}
49   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1NodeList_a9e2679a94efb4f0066cc21e65440364d}{NodeList::Iterator} it = NodeList::Begin (); it != NodeList::End (); ++it)
50     \{
51       \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node = *it;
52       \textcolor{keywordtype}{int} nDevs = node->\hyperlink{classns3_1_1Node_a531554d2241ba4fa1cd74e3360be6bce}{GetNDevices} ();
53       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < nDevs; j++)
54         \{
55           \hyperlink{classns3_1_1Ptr}{Ptr<LteUeNetDevice>} uedev = node->\hyperlink{classns3_1_1Node_a5918dfd24ef632efc9a83a5f6561c76e}{GetDevice} (j)->GetObject <
      \hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ();
56           \textcolor{keywordflow}{if} (uedev)
57             \{
58               \hyperlink{classns3_1_1Vector3D_a7e59b47bc94c9cb1dadff68c1d0112d8}{Vector} pos = node->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ()->
      \hyperlink{lena-cqi-threshold_8cc_acebf763e1a0478cec225f9547941ae54}{GetPosition} ();
59               outFile << \textcolor{stringliteral}{"set label \(\backslash\)""} << uedev->\hyperlink{classns3_1_1LteUeNetDevice_a673405bfed4b45c5714f17b0c3bad334}{GetImsi} ()
60                       << \textcolor{stringliteral}{"\(\backslash\)" at "} << pos.x << \textcolor{stringliteral}{","} << pos.y << \textcolor{stringliteral}{" left font \(\backslash\)"Helvetica,4\(\backslash\)" textcolor rgb \(\backslash\)"
      grey\(\backslash\)" front point pt 1 ps 0.3 lc rgb \(\backslash\)"grey\(\backslash\)" offset 0,0"}
61                       << std::endl;
62             \}
63         \}
64     \}
65 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


