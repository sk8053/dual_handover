\hypertarget{classIpv4RawSocketImplTest}{}\section{Ipv4\+Raw\+Socket\+Impl\+Test Class Reference}
\label{classIpv4RawSocketImplTest}\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}


I\+Pv4 R\+AW Socket Test.  




Inheritance diagram for Ipv4\+Raw\+Socket\+Impl\+Test\+:
% FIG 0


Collaboration diagram for Ipv4\+Raw\+Socket\+Impl\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classIpv4RawSocketImplTest_a94a6b1e1e8aeec37dcb6e8c8788b1e66}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
\hyperlink{classIpv4RawSocketImplTest_a5e62800a96b08a1a5920810bcd722503}{Ipv4\+Raw\+Socket\+Impl\+Test} ()
\item 
void \hyperlink{classIpv4RawSocketImplTest_ab900852936a9865181ac59e41f607c4d}{Receive\+Packet} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1Address}{Address} \&\hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from})
\begin{DoxyCompactList}\small\item\em Receive data. \end{DoxyCompactList}\item 
void \hyperlink{classIpv4RawSocketImplTest_aa492e03546340fda32e9305797d30792}{Receive\+Packet2} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1Address}{Address} \&\hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from})
\begin{DoxyCompactList}\small\item\em Receive data. \end{DoxyCompactList}\item 
void \hyperlink{classIpv4RawSocketImplTest_a25582b4a4bcb5019a7fefc034b6e3ff8}{Receive\+Pkt} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Receive data. \end{DoxyCompactList}\item 
void \hyperlink{classIpv4RawSocketImplTest_aa8913acb80b6b4644629066bfa04222d}{Receive\+Pkt2} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Receive data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classIpv4RawSocketImplTest_a664d6144d25d6c91322d0ef354d9609e}{Do\+Send\+Data} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, std\+::string to)
\begin{DoxyCompactList}\small\item\em Send data. \end{DoxyCompactList}\item 
void \hyperlink{classIpv4RawSocketImplTest_a62c6104203d0fb2f7688ac216f0d5218}{Send\+Data} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, std\+::string to)
\begin{DoxyCompactList}\small\item\em Send data. \end{DoxyCompactList}\item 
void \hyperlink{classIpv4RawSocketImplTest_a94bfd4cdde1004ff32b3ac02c31703ef}{Do\+Send\+Data\+\_\+\+Ip\+Hdr} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, std\+::string to)
\begin{DoxyCompactList}\small\item\em Send data. \end{DoxyCompactList}\item 
void \hyperlink{classIpv4RawSocketImplTest_a251c3a3b11ab7cb4428030696cbbfc20}{Send\+Data\+\_\+\+Ip\+Hdr} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, std\+::string to)
\begin{DoxyCompactList}\small\item\em Send data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\+\_\+received\+Packet}
\begin{DoxyCompactList}\small\item\em Received packet (1). \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\+\_\+received\+Packet2}
\begin{DoxyCompactList}\small\item\em Received packet (2). \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
I\+Pv4 R\+AW Socket Test. 

\subsection{Constructor \& Destructor Documentation}
\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Ipv4\+Raw\+Socket\+Impl\+Test()}{Ipv4RawSocketImplTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Ipv4\+Raw\+Socket\+Impl\+Test\+::\+Ipv4\+Raw\+Socket\+Impl\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classIpv4RawSocketImplTest_a5e62800a96b08a1a5920810bcd722503}{}\label{classIpv4RawSocketImplTest_a5e62800a96b08a1a5920810bcd722503}

\begin{DoxyCode}
122   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"IPv4 Raw socket implementation"}) 
123 \{
124 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Raw\+Socket\+Impl\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classIpv4RawSocketImplTest_a94a6b1e1e8aeec37dcb6e8c8788b1e66}{}\label{classIpv4RawSocketImplTest_a94a6b1e1e8aeec37dcb6e8c8788b1e66}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
205 \{
206   \textcolor{comment}{// Create topology}
207 
208   \textcolor{comment}{// Receiver Node}
209   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} rxNode = CreateObject<Node> ();
210   \textcolor{comment}{// Sender Node}
211   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} txNode = CreateObject<Node> ();
212 
213   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes} (rxNode, txNode);
214 
215   \hyperlink{classns3_1_1SimpleNetDeviceHelper}{SimpleNetDeviceHelper} helperChannel1;
216   helperChannel1.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a474460ba6942d4933f443a97df7d4716}{SetNetDevicePointToPointMode} (\textcolor{keyword}{true});
217   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} net1 = helperChannel1.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a35bed9cee32d306362d3e24dfeef4513}{Install} (
      \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes});
218 
219   \hyperlink{classns3_1_1SimpleNetDeviceHelper}{SimpleNetDeviceHelper} helperChannel2;
220   helperChannel2.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a474460ba6942d4933f443a97df7d4716}{SetNetDevicePointToPointMode} (\textcolor{keyword}{true});
221   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} net2 = helperChannel2.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a35bed9cee32d306362d3e24dfeef4513}{Install} (
      \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes});
222 
223   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
224   internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (\hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes});
225 
226   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4>} ipv4;
227   uint32\_t netdev\_idx;
228   \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} ipv4Addr;
229 
230   \textcolor{comment}{// Receiver Node}
231   ipv4 = rxNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ();
232   netdev\_idx = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (net1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
233   ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.0.1"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (0xffff0000U));
234   ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (netdev\_idx, ipv4Addr);
235   ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (netdev\_idx);
236 
237   netdev\_idx = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (net2.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
238   ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.1.1"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (0xffff0000U));
239   ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (netdev\_idx, ipv4Addr);
240   ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (netdev\_idx);
241 
242   \textcolor{comment}{// Sender Node}
243   ipv4 = txNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ();
244   netdev\_idx = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (net1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1));
245   ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.0.2"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (0xffff0000U));
246   ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (netdev\_idx, ipv4Addr);
247   ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (netdev\_idx);
248 
249   netdev\_idx = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (net2.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1));
250   ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.1.2"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (0xffff0000U));
251   ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (netdev\_idx, ipv4Addr);
252   ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (netdev\_idx);
253 
254   \textcolor{comment}{// Create the IPv4 Raw sockets}
255   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} rxSocketFactory = rxNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1Ipv4RawSocketFactory}{Ipv4RawSocketFactory}> ();
256   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} rxSocket = rxSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
257   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (rxSocket->Bind (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (
      \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"0.0.0.0"}), 0)), 0, \textcolor{stringliteral}{"trivial"});
258   rxSocket->SetRecvCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classIpv4RawSocketImplTest_a25582b4a4bcb5019a7fefc034b6e3ff8}{Ipv4RawSocketImplTest::ReceivePkt}, \textcolor{keyword}{this}));
259 
260   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} rxSocket2 = rxSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
261   rxSocket2->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classIpv4RawSocketImplTest_aa8913acb80b6b4644629066bfa04222d}{Ipv4RawSocketImplTest::ReceivePkt2}, \textcolor{keyword}{this}));
262   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (rxSocket2->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} (
      \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.1.1"}), 0)), 0, \textcolor{stringliteral}{"trivial"});
263 
264   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} txSocketFactory = txNode->GetObject<
      \hyperlink{classns3_1_1Ipv4RawSocketFactory}{Ipv4RawSocketFactory}> ();
265   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} txSocket = txSocketFactory->\hyperlink{classns3_1_1Socket_ad448a62bb50ad3dbac59c879a885a8d2}{CreateSocket} ();
266 
267   \textcolor{comment}{// ------ Now the tests ------------}
268 
269   \textcolor{comment}{// Unicast test}
270   \hyperlink{classIpv4RawSocketImplTest_a62c6104203d0fb2f7688ac216f0d5218}{SendData} (txSocket, \textcolor{stringliteral}{"10.0.0.1"});
271   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 143, \textcolor{stringliteral}{"recv: 10.0.0.1"});
272   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 0, \textcolor{stringliteral}{"second interface should not receive it"});
273 
274   \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
275   \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
276 
277   \textcolor{comment}{// Unicast w/ header test}
278   \hyperlink{classIpv4RawSocketImplTest_a251c3a3b11ab7cb4428030696cbbfc20}{SendData\_IpHdr} (txSocket, \textcolor{stringliteral}{"10.0.0.1"});
279   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 143, \textcolor{stringliteral}{"recv(hdrincl): 10.0.0.1"});
280   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 0, \textcolor{stringliteral}{"second interface should not receive it"});
281 
282   \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
283   \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
284 
285 \textcolor{preprocessor}{#if 0}
286   \textcolor{comment}{// Simple broadcast test}
287 
288   \hyperlink{classIpv4RawSocketImplTest_a62c6104203d0fb2f7688ac216f0d5218}{SendData} (txSocket, \textcolor{stringliteral}{"255.255.255.255"});
289   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 143, \textcolor{stringliteral}{"recv: 255.255.255.255"});
290   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 0, \textcolor{stringliteral}{"second socket should not receive it (it is bound specifically to the second
       interface's address"});
291 
292   \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
293   \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
294 \textcolor{preprocessor}{#endif}
295 
296   \textcolor{comment}{// Simple Link-local multicast test}
297 
298   txSocket->Bind (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.0.2"}), 0));
299   \hyperlink{classIpv4RawSocketImplTest_a62c6104203d0fb2f7688ac216f0d5218}{SendData} (txSocket, \textcolor{stringliteral}{"224.0.0.9"});
300   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 143, \textcolor{stringliteral}{"recv: 224.0.0.9"});
301   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 0, \textcolor{stringliteral}{"second socket should not receive it (it is bound specifically to the second
       interface's address"});
302 
303   \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
304   \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
305 
306 \textcolor{preprocessor}{#if 0}
307   \textcolor{comment}{// Broadcast test with multiple receiving sockets}
308 
309   \textcolor{comment}{// When receiving broadcast packets, all sockets sockets bound to}
310   \textcolor{comment}{// the address/port should receive a copy of the same packet -- if}
311   \textcolor{comment}{// the socket address matches.}
312   rxSocket2->\hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose} ();
313   rxSocket2 = rxSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
314   rxSocket2->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classIpv4RawSocketImplTest_aa8913acb80b6b4644629066bfa04222d}{Ipv4RawSocketImplTest::ReceivePkt2}, \textcolor{keyword}{this}));
315   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (rxSocket2->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} (
      \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"0.0.0.0"}), 0)), 0, \textcolor{stringliteral}{"trivial"});
316 
317   \hyperlink{classIpv4RawSocketImplTest_a62c6104203d0fb2f7688ac216f0d5218}{SendData} (txSocket, \textcolor{stringliteral}{"255.255.255.255"});
318   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 143, \textcolor{stringliteral}{"recv: 255.255.255.255"});
319   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 143, \textcolor{stringliteral}{"recv: 255.255.255.255"});
320 \textcolor{preprocessor}{#endif}
321 
322   \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket} = 0;
323   \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2} = 0;
324 
325   \textcolor{comment}{// Simple getpeername tests}
326 
327   \hyperlink{classns3_1_1Address}{Address} peerAddress;
328   \textcolor{keywordtype}{int} err = txSocket->GetPeerName (peerAddress);
329   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, -1, \textcolor{stringliteral}{"socket GetPeerName() should fail when socket is not
       connected"});
330   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (txSocket->GetErrno (), Socket::ERROR\_NOTCONN, \textcolor{stringliteral}{"socket error
       code should be ERROR\_NOTCONN"});
331 
332   \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} peer (\textcolor{stringliteral}{"10.0.0.1"}, 1234);
333   err = txSocket->Connect (peer);
334   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, 0, \textcolor{stringliteral}{"socket Connect() should succeed"});
335 
336   err = txSocket->GetPeerName (peerAddress);
337   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, 0, \textcolor{stringliteral}{"socket GetPeerName() should succeed when socket is
       connected"});
338   peer.SetPort (0);
339   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (peerAddress, peer, \textcolor{stringliteral}{"address from socket GetPeerName() should
       equal the connected address"});
340 
341   Simulator::Destroy ();
342 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Do\+Send\+Data@{Do\+Send\+Data}}
\index{Do\+Send\+Data@{Do\+Send\+Data}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Do\+Send\+Data(\+Ptr$<$ Socket $>$ socket, std\+::string to)}{DoSendData(Ptr< Socket > socket, std::string to)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Raw\+Socket\+Impl\+Test\+::\+Do\+Send\+Data (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{std\+::string}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classIpv4RawSocketImplTest_a664d6144d25d6c91322d0ef354d9609e}{}\label{classIpv4RawSocketImplTest_a664d6144d25d6c91322d0ef354d9609e}


Send data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The sending socket. \\
\hline
{\em to} & Destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
158 \{
159   \hyperlink{classns3_1_1Address}{Address} realTo = \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (to.c\_str ()), 0);
160   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (socket->\hyperlink{classns3_1_1Socket_af898fce6a58e0dbba23c1c6de1d4220e}{SendTo} (Create<Packet> (123), 0, realTo),
161                          123, to);
162 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Do\+Send\+Data\+\_\+\+Ip\+Hdr@{Do\+Send\+Data\+\_\+\+Ip\+Hdr}}
\index{Do\+Send\+Data\+\_\+\+Ip\+Hdr@{Do\+Send\+Data\+\_\+\+Ip\+Hdr}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Do\+Send\+Data\+\_\+\+Ip\+Hdr(\+Ptr$<$ Socket $>$ socket, std\+::string to)}{DoSendData_IpHdr(Ptr< Socket > socket, std::string to)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Raw\+Socket\+Impl\+Test\+::\+Do\+Send\+Data\+\_\+\+Ip\+Hdr (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{std\+::string}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classIpv4RawSocketImplTest_a94bfd4cdde1004ff32b3ac02c31703ef}{}\label{classIpv4RawSocketImplTest_a94bfd4cdde1004ff32b3ac02c31703ef}


Send data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The sending socket. \\
\hline
{\em to} & Destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
176 \{
177   \hyperlink{classns3_1_1Address}{Address} realTo = \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (to.c\_str ()), 0);
178   socket->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"IpHeaderInclude"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
179   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> (123);
180   \hyperlink{classns3_1_1Ipv4Header}{Ipv4Header} ipHeader;
181   ipHeader.\hyperlink{classns3_1_1Ipv4Header_af3c8c140e302ec4aa1dc885ce1dcc070}{SetSource} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.0.2"}));
182   ipHeader.SetDestination (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (to.c\_str ()));
183   ipHeader.SetProtocol (0);
184   ipHeader.SetPayloadSize (p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
185   ipHeader.SetTtl (255);
186   p->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (ipHeader);
187 
188   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (socket->\hyperlink{classns3_1_1Socket_af898fce6a58e0dbba23c1c6de1d4220e}{SendTo} (p, 0, realTo),
189                          143, to);
190   socket->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"IpHeaderInclude"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
191 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Receive\+Packet@{Receive\+Packet}}
\index{Receive\+Packet@{Receive\+Packet}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Packet(\+Ptr$<$ Socket $>$ socket, Ptr$<$ Packet $>$ packet, const Address \&from)}{ReceivePacket(Ptr< Socket > socket, Ptr< Packet > packet, const Address &from)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Raw\+Socket\+Impl\+Test\+::\+Receive\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{const {\bf Address} \&}]{from}
\end{DoxyParamCaption}
)}\hypertarget{classIpv4RawSocketImplTest_ab900852936a9865181ac59e41f607c4d}{}\label{classIpv4RawSocketImplTest_ab900852936a9865181ac59e41f607c4d}


Receive data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
{\em packet} & The received packet. \\
\hline
{\em from} & The sender. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
127 \{
128   \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket} = packet;
129 \}
\end{DoxyCode}
\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Receive\+Packet2@{Receive\+Packet2}}
\index{Receive\+Packet2@{Receive\+Packet2}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Packet2(\+Ptr$<$ Socket $>$ socket, Ptr$<$ Packet $>$ packet, const Address \&from)}{ReceivePacket2(Ptr< Socket > socket, Ptr< Packet > packet, const Address &from)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Raw\+Socket\+Impl\+Test\+::\+Receive\+Packet2 (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{const {\bf Address} \&}]{from}
\end{DoxyParamCaption}
)}\hypertarget{classIpv4RawSocketImplTest_aa492e03546340fda32e9305797d30792}{}\label{classIpv4RawSocketImplTest_aa492e03546340fda32e9305797d30792}


Receive data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
{\em packet} & The received packet. \\
\hline
{\em from} & The sender. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
132 \{
133   \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2} = packet;
134 \}
\end{DoxyCode}
\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Receive\+Pkt@{Receive\+Pkt}}
\index{Receive\+Pkt@{Receive\+Pkt}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Pkt(\+Ptr$<$ Socket $>$ socket)}{ReceivePkt(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Raw\+Socket\+Impl\+Test\+::\+Receive\+Pkt (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{classIpv4RawSocketImplTest_a25582b4a4bcb5019a7fefc034b6e3ff8}{}\label{classIpv4RawSocketImplTest_a25582b4a4bcb5019a7fefc034b6e3ff8}


Receive data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
137 \{
138   uint32\_t availableData;
139   availableData = socket->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ();
140   \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket} = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (2, MSG\_PEEK);
141   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () == 2);
142   \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket} = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (
      \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint32\_t>::max} (), 0);
143   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (availableData == m\_receivedPacket->GetSize ());
144 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Receive\+Pkt2@{Receive\+Pkt2}}
\index{Receive\+Pkt2@{Receive\+Pkt2}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Pkt2(\+Ptr$<$ Socket $>$ socket)}{ReceivePkt2(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Raw\+Socket\+Impl\+Test\+::\+Receive\+Pkt2 (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{classIpv4RawSocketImplTest_aa8913acb80b6b4644629066bfa04222d}{}\label{classIpv4RawSocketImplTest_aa8913acb80b6b4644629066bfa04222d}


Receive data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
147 \{
148   uint32\_t availableData;
149   availableData = socket->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ();
150   \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2} = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (2, MSG\_PEEK);
151   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () == 2);
152   \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2} = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (
      \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint32\_t>::max} (), 0);
153   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (availableData == m\_receivedPacket2->GetSize ());
154 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Send\+Data@{Send\+Data}}
\index{Send\+Data@{Send\+Data}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Send\+Data(\+Ptr$<$ Socket $>$ socket, std\+::string to)}{SendData(Ptr< Socket > socket, std::string to)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Raw\+Socket\+Impl\+Test\+::\+Send\+Data (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{std\+::string}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classIpv4RawSocketImplTest_a62c6104203d0fb2f7688ac216f0d5218}{}\label{classIpv4RawSocketImplTest_a62c6104203d0fb2f7688ac216f0d5218}


Send data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The sending socket. \\
\hline
{\em to} & Destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
166 \{
167   \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket} = Create<Packet> ();
168   \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2} = Create<Packet> ();
169   Simulator::ScheduleWithContext (socket->\hyperlink{classns3_1_1Socket_aba642ad4301c1df47befc0aa9afa2e48}{GetNode} ()->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} (), 
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0),
170                                   &\hyperlink{classIpv4RawSocketImplTest_a664d6144d25d6c91322d0ef354d9609e}{Ipv4RawSocketImplTest::DoSendData}, \textcolor{keyword}{this}
      , socket, to);
171   Simulator::Run ();
172 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12


\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!Send\+Data\+\_\+\+Ip\+Hdr@{Send\+Data\+\_\+\+Ip\+Hdr}}
\index{Send\+Data\+\_\+\+Ip\+Hdr@{Send\+Data\+\_\+\+Ip\+Hdr}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Send\+Data\+\_\+\+Ip\+Hdr(\+Ptr$<$ Socket $>$ socket, std\+::string to)}{SendData_IpHdr(Ptr< Socket > socket, std::string to)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Raw\+Socket\+Impl\+Test\+::\+Send\+Data\+\_\+\+Ip\+Hdr (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{std\+::string}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classIpv4RawSocketImplTest_a251c3a3b11ab7cb4428030696cbbfc20}{}\label{classIpv4RawSocketImplTest_a251c3a3b11ab7cb4428030696cbbfc20}


Send data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The sending socket. \\
\hline
{\em to} & Destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
195 \{
196   \hyperlink{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{m\_receivedPacket} = Create<Packet> ();
197   \hyperlink{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{m\_receivedPacket2} = Create<Packet> ();
198   Simulator::ScheduleWithContext (socket->\hyperlink{classns3_1_1Socket_aba642ad4301c1df47befc0aa9afa2e48}{GetNode} ()->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} (), 
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0),
199                                   &\hyperlink{classIpv4RawSocketImplTest_a94bfd4cdde1004ff32b3ac02c31703ef}{Ipv4RawSocketImplTest::DoSendData\_IpHdr}
      , \textcolor{keyword}{this}, socket, to);
200   Simulator::Run ();
201 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




Here is the caller graph for this function\+:
% FIG 14




\subsection{Member Data Documentation}
\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!m\+\_\+received\+Packet@{m\+\_\+received\+Packet}}
\index{m\+\_\+received\+Packet@{m\+\_\+received\+Packet}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+received\+Packet}{m_receivedPacket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ Ipv4\+Raw\+Socket\+Impl\+Test\+::m\+\_\+received\+Packet\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}{}\label{classIpv4RawSocketImplTest_a38dee32030c77d03c740508d0a68bd22}


Received packet (1). 

\index{Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}!m\+\_\+received\+Packet2@{m\+\_\+received\+Packet2}}
\index{m\+\_\+received\+Packet2@{m\+\_\+received\+Packet2}!Ipv4\+Raw\+Socket\+Impl\+Test@{Ipv4\+Raw\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+received\+Packet2}{m_receivedPacket2}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ Ipv4\+Raw\+Socket\+Impl\+Test\+::m\+\_\+received\+Packet2\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}{}\label{classIpv4RawSocketImplTest_a52607bc760ccb25a084978830b95d162}


Received packet (2). 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{ipv4-raw-test_8cc}{ipv4-\/raw-\/test.\+cc}\end{DoxyCompactItemize}
