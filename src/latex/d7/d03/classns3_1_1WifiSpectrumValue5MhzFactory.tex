\hypertarget{classns3_1_1WifiSpectrumValue5MhzFactory}{}\section{ns3\+:\+:Wifi\+Spectrum\+Value5\+Mhz\+Factory Class Reference}
\label{classns3_1_1WifiSpectrumValue5MhzFactory}\index{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory@{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}}


{\ttfamily \#include $<$wifi-\/spectrum-\/value-\/helper.\+h$>$}



Collaboration diagram for ns3\+:\+:Wifi\+Spectrum\+Value5\+Mhz\+Factory\+:
% FIG 0
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{classns3_1_1WifiSpectrumValue5MhzFactory_aabc9a38a075a7a394d99c665bf70c463}{$\sim$\+Wifi\+Spectrum\+Value5\+Mhz\+Factory} ()
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1WifiSpectrumValue5MhzFactory_a32a04dc83a836da0fcfcc387cabc097f}{Create\+Constant} (double psd)
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1WifiSpectrumValue5MhzFactory_aa3045151889d535e6e7bf40e0855a92f}{Create\+Tx\+Power\+Spectral\+Density} (double tx\+Power, uint8\+\_\+t channel)
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1WifiSpectrumValue5MhzFactory_a96a617d676000c1a83f3f969b2f138a5}{Create\+Rf\+Filter} (uint8\+\_\+t channel)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implements Wifi \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} for the 2.\+4 G\+Hz I\+SM band only, with a 5 M\+Hz spectrum resolution. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory@{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}!````~Wifi\+Spectrum\+Value5\+Mhz\+Factory@{$\sim$\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}}
\index{````~Wifi\+Spectrum\+Value5\+Mhz\+Factory@{$\sim$\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}!ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory@{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}}
\subsubsection[{\texorpdfstring{$\sim$\+Wifi\+Spectrum\+Value5\+Mhz\+Factory()}{~WifiSpectrumValue5MhzFactory()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory\+::$\sim$\+Wifi\+Spectrum\+Value5\+Mhz\+Factory (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1WifiSpectrumValue5MhzFactory_aabc9a38a075a7a394d99c665bf70c463}{}\label{classns3_1_1WifiSpectrumValue5MhzFactory_aabc9a38a075a7a394d99c665bf70c463}
Destructor 
\begin{DoxyCode}
576 \{
577 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory@{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}!Create\+Constant@{Create\+Constant}}
\index{Create\+Constant@{Create\+Constant}!ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory@{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}}
\subsubsection[{\texorpdfstring{Create\+Constant(double psd)}{CreateConstant(double psd)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory\+::\+Create\+Constant (
\begin{DoxyParamCaption}
\item[{double}]{psd}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1WifiSpectrumValue5MhzFactory_a32a04dc83a836da0fcfcc387cabc097f}{}\label{classns3_1_1WifiSpectrumValue5MhzFactory_a32a04dc83a836da0fcfcc387cabc097f}
Creates a \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} instance with a constant value for all frequencies


\begin{DoxyParams}{Parameters}
{\em psd} & the constant value\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a \hyperlink{classns3_1_1Ptr}{Ptr} to a newly created \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} 
\end{DoxyReturn}

\begin{DoxyCode}
604 \{
605   Ptr<SpectrumValue> \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c} = Create <SpectrumValue> (\hyperlink{namespacens3_a333f39e20bd1e6b083d03c143b0be161}{g\_WifiSpectrumModel5Mhz});
606   (*c) = v;
607   \textcolor{keywordflow}{return} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
608 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 1


\index{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory@{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}!Create\+Rf\+Filter@{Create\+Rf\+Filter}}
\index{Create\+Rf\+Filter@{Create\+Rf\+Filter}!ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory@{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}}
\subsubsection[{\texorpdfstring{Create\+Rf\+Filter(uint8\+\_\+t channel)}{CreateRfFilter(uint8_t channel)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory\+::\+Create\+Rf\+Filter (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{channel}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1WifiSpectrumValue5MhzFactory_a96a617d676000c1a83f3f969b2f138a5}{}\label{classns3_1_1WifiSpectrumValue5MhzFactory_a96a617d676000c1a83f3f969b2f138a5}
Creates a \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} instance which represents the frequency response of the RF filter which is used by a wifi device to receive signals when tuned to a particular channel


\begin{DoxyParams}{Parameters}
{\em channel} & the number of the channel (1 $<$= channel $<$= 13)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a \hyperlink{classns3_1_1Ptr}{Ptr} to a newly created \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} 
\end{DoxyReturn}

\begin{DoxyCode}
647 \{
648   Ptr<SpectrumValue> rf = Create <SpectrumValue> (\hyperlink{namespacens3_a333f39e20bd1e6b083d03c143b0be161}{g\_WifiSpectrumModel5Mhz});
649 
650   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (channel >= 1);
651   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (channel <= 13);
652 
653   (*rf)[channel + 3] = 1;
654   (*rf)[channel + 4] = 1;
655   (*rf)[channel + 5] = 1;
656   (*rf)[channel + 6] = 1;
657 
658   \textcolor{keywordflow}{return} rf;
659 \}
\end{DoxyCode}
\index{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory@{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}!Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}}
\index{Create\+Tx\+Power\+Spectral\+Density@{Create\+Tx\+Power\+Spectral\+Density}!ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory@{ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory}}
\subsubsection[{\texorpdfstring{Create\+Tx\+Power\+Spectral\+Density(double tx\+Power, uint8\+\_\+t channel)}{CreateTxPowerSpectralDensity(double txPower, uint8_t channel)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Wifi\+Spectrum\+Value5\+Mhz\+Factory\+::\+Create\+Tx\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{double}]{tx\+Power, }
\item[{uint8\+\_\+t}]{channel}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1WifiSpectrumValue5MhzFactory_aa3045151889d535e6e7bf40e0855a92f}{}\label{classns3_1_1WifiSpectrumValue5MhzFactory_aa3045151889d535e6e7bf40e0855a92f}
Creates a \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} instance that represents the TX Power Spectral Density of a wifi device corresponding to the provided parameters

Since the spectrum model has a resolution of 5 M\+Hz, we model the transmitted signal with a constant density over a 20\+M\+Hz bandwidth centered on the center frequency of the channel. The transmission power outside the transmission power density is calculated considering the transmit spectrum mask, see I\+E\+EE Std. 802.\+11-\/2007, Annex I. The two bands just outside of the main 20 M\+Hz are allocated power at -\/28 dB down from the center 20 M\+Hz, and the two bands outside of this are allocated power at -\/40 dB down (with a total bandwidth of 60 M\+Hz containing non-\/zero power allocation).


\begin{DoxyParams}{Parameters}
{\em tx\+Power} & the total TX power in W \\
\hline
{\em channel} & the number of the channel (1 $<$= channel $<$= 13)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a \hyperlink{classns3_1_1Ptr}{Ptr} to a newly created \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} 
\end{DoxyReturn}

\begin{DoxyCode}
613 \{
614   Ptr<SpectrumValue> \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd} = Create <SpectrumValue> (
      \hyperlink{namespacens3_a333f39e20bd1e6b083d03c143b0be161}{g\_WifiSpectrumModel5Mhz});
615 
616   \textcolor{comment}{// since the spectrum model has a resolution of 5 MHz, we model}
617   \textcolor{comment}{// the transmitted signal with a constant density over a 20MHz}
618   \textcolor{comment}{// bandwidth centered on the center frequency of the channel. The}
619   \textcolor{comment}{// transmission power outside the transmission power density is}
620   \textcolor{comment}{// calculated considering the transmit spectrum mask, see IEEE}
621   \textcolor{comment}{// Std. 802.11-2007, Annex I}
622 
623   \textcolor{keywordtype}{double} txPowerDensity = txPower / 20e6;
624 
625   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (channel >= 1);
626   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (channel <= 13);
627 
628   (*txPsd)[channel - 1] = txPowerDensity * 1e-4;      \textcolor{comment}{// -40dB}
629   (*txPsd)[channel]     = txPowerDensity * 1e-4;      \textcolor{comment}{// -40dB}
630   (*txPsd)[channel + 1] = txPowerDensity * 0.0015849; \textcolor{comment}{// -28dB}
631   (*txPsd)[channel + 2] = txPowerDensity * 0.0015849; \textcolor{comment}{// -28dB}
632   (*txPsd)[channel + 3] = txPowerDensity;
633   (*txPsd)[channel + 4] = txPowerDensity;
634   (*txPsd)[channel + 5] = txPowerDensity;
635   (*txPsd)[channel + 6] = txPowerDensity;
636   (*txPsd)[channel + 7] = txPowerDensity * 0.0015849; \textcolor{comment}{// -28dB}
637   (*txPsd)[channel + 8] = txPowerDensity * 0.0015849; \textcolor{comment}{// -28dB}
638   (*txPsd)[channel + 9] = txPowerDensity * 1e-4;      \textcolor{comment}{// -40dB}
639   (*txPsd)[channel + 10] = txPowerDensity * 1e-4;      \textcolor{comment}{// -40dB}
640 
641   \textcolor{keywordflow}{return} \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd};
642 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2




The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
spectrum/model/\hyperlink{wifi-spectrum-value-helper_8h}{wifi-\/spectrum-\/value-\/helper.\+h}\item 
spectrum/model/\hyperlink{wifi-spectrum-value-helper_8cc}{wifi-\/spectrum-\/value-\/helper.\+cc}\end{DoxyCompactItemize}
