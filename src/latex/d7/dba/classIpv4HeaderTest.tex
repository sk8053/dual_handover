\hypertarget{classIpv4HeaderTest}{}\section{Ipv4\+Header\+Test Class Reference}
\label{classIpv4HeaderTest}\index{Ipv4\+Header\+Test@{Ipv4\+Header\+Test}}


I\+Pv4 Header Test.  




Inheritance diagram for Ipv4\+Header\+Test\+:
% FIG 0


Collaboration diagram for Ipv4\+Header\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classIpv4HeaderTest_ad9026591beb17db0d9cbff0c34f9f69d}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
\hyperlink{classIpv4HeaderTest_acb1eb9046565342e968e85705781555c}{Ipv4\+Header\+Test} ()
\item 
void \hyperlink{classIpv4HeaderTest_aa6e29b55cab04dadbdadb52c9ba15e87}{Receive\+Packet} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1Address}{Address} \&\hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from})
\begin{DoxyCompactList}\small\item\em Receives a packet. \end{DoxyCompactList}\item 
void \hyperlink{classIpv4HeaderTest_ae06256e56359912140540a0c04c7dc78}{Receive\+Pkt} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Receives a packet. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classIpv4HeaderTest_add7c6ef7aa63f94ed04b22090ccc551e}{Do\+Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, std\+::string to, \hyperlink{classns3_1_1Ipv4Header_aaa17802e7732a689311b72d48d1a3450}{Ipv4\+Header\+::\+Dscp\+Type} dscp, \hyperlink{classns3_1_1Ipv4Header_a9cec46635fa719f0d58234cf8805991b}{Ipv4\+Header\+::\+Ecn\+Type} ecn)
\begin{DoxyCompactList}\small\item\em Send a packet with speciic D\+S\+CP and E\+CN fields. \end{DoxyCompactList}\item 
void \hyperlink{classIpv4HeaderTest_afbd0cfc4212b3a0d8846faa662cbc7bc}{Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, std\+::string to, \hyperlink{classns3_1_1Ipv4Header_aaa17802e7732a689311b72d48d1a3450}{Ipv4\+Header\+::\+Dscp\+Type} dscp, \hyperlink{classns3_1_1Ipv4Header_a9cec46635fa719f0d58234cf8805991b}{Ipv4\+Header\+::\+Ecn\+Type} ecn)
\begin{DoxyCompactList}\small\item\em Send a packet with speciic D\+S\+CP and E\+CN fields. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\+\_\+received\+Packet}
\begin{DoxyCompactList}\small\item\em Received packet. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv4Header}{Ipv4\+Header} \hyperlink{classIpv4HeaderTest_a667ff4bfd280469a2814685903b1159f}{m\+\_\+received\+Header}
\begin{DoxyCompactList}\small\item\em Received header. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
I\+Pv4 Header Test. 

\subsection{Constructor \& Destructor Documentation}
\index{Ipv4\+Header\+Test@{Ipv4\+Header\+Test}!Ipv4\+Header\+Test@{Ipv4\+Header\+Test}}
\index{Ipv4\+Header\+Test@{Ipv4\+Header\+Test}!Ipv4\+Header\+Test@{Ipv4\+Header\+Test}}
\subsubsection[{\texorpdfstring{Ipv4\+Header\+Test()}{Ipv4HeaderTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Ipv4\+Header\+Test\+::\+Ipv4\+Header\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classIpv4HeaderTest_acb1eb9046565342e968e85705781555c}{}\label{classIpv4HeaderTest_acb1eb9046565342e968e85705781555c}

\begin{DoxyCode}
102   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"IPv4 Header Test"})
103 \{
104 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Ipv4\+Header\+Test@{Ipv4\+Header\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Ipv4\+Header\+Test@{Ipv4\+Header\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Header\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classIpv4HeaderTest_ad9026591beb17db0d9cbff0c34f9f69d}{}\label{classIpv4HeaderTest_ad9026591beb17db0d9cbff0c34f9f69d}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
154 \{
155   \textcolor{comment}{// Create topology}
156 
157   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
158   internet.\hyperlink{classns3_1_1InternetStackHelper_a5fa8d34e5834305b6aa1b0fe43e1132b}{SetIpv6StackInstall} (\textcolor{keyword}{false});
159 
160   \textcolor{comment}{// Receiver Node}
161   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} rxNode = CreateObject<Node> ();
162   internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (rxNode);
163 
164   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleNetDevice>} rxDev1, rxDev2;
165   \{ \textcolor{comment}{// first interface}
166     rxDev1 = CreateObject<SimpleNetDevice> ();
167     rxDev1->\hyperlink{classns3_1_1SimpleNetDevice_a968ef3e7318bac29d5f1d7d977029af4}{SetAddress} (Mac48Address::ConvertFrom (Mac48Address::Allocate ()));
168     rxNode->\hyperlink{classns3_1_1Node_a42ff83ee1d5d1649c770d3f5b62375de}{AddDevice} (rxDev1);
169     \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4>} ipv4 = rxNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ();
170     uint32\_t netdev\_idx = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (rxDev1);
171     \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (
      \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.0.1"}), \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (0xffff0000U));
172     ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (netdev\_idx, ipv4Addr);
173     ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (netdev\_idx);
174   \}
175 
176   \textcolor{comment}{// Sender Node}
177   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} txNode = CreateObject<Node> ();
178   internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (txNode);
179   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleNetDevice>} txDev1;
180   \{
181     txDev1 = CreateObject<SimpleNetDevice> ();
182     txDev1->\hyperlink{classns3_1_1SimpleNetDevice_a968ef3e7318bac29d5f1d7d977029af4}{SetAddress} (Mac48Address::ConvertFrom (Mac48Address::Allocate ()));
183     txNode->\hyperlink{classns3_1_1Node_a42ff83ee1d5d1649c770d3f5b62375de}{AddDevice} (txDev1);
184     \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4>} ipv4 = txNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ();
185     uint32\_t netdev\_idx = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (txDev1);
186     \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (
      \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.0.2"}), \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (0xffff0000U));
187     ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (netdev\_idx, ipv4Addr);
188     ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (netdev\_idx);
189   \}
190 
191   \textcolor{comment}{// link the two nodes}
192   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleChannel>} channel1 = CreateObject<SimpleChannel> ();
193   rxDev1->\hyperlink{classns3_1_1SimpleNetDevice_af9e9828ad584b5ba538f18f645f162e0}{SetChannel} (channel1);
194   txDev1->\hyperlink{classns3_1_1SimpleNetDevice_af9e9828ad584b5ba538f18f645f162e0}{SetChannel} (channel1);
195 
196 
197   \textcolor{comment}{// Create the IPv4 Raw sockets}
198   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} rxSocketFactory = rxNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1Ipv4RawSocketFactory}{Ipv4RawSocketFactory}> ();
199   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} rxSocket = rxSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
200   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (rxSocket->Bind (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (
      \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"0.0.0.0"}), 0)), 0, \textcolor{stringliteral}{"trivial"});
201   rxSocket->SetRecvCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classIpv4HeaderTest_ae06256e56359912140540a0c04c7dc78}{Ipv4HeaderTest::ReceivePkt}, \textcolor{keyword}{this}));
202 
203 
204   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} txSocketFactory = txNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1Ipv4RawSocketFactory}{Ipv4RawSocketFactory}> ();
205   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} txSocket = txSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
206 
207   \textcolor{comment}{// ------ Now the tests ------------}
208 
209   \textcolor{comment}{// Dscp Tests}
210   std::cout << \textcolor{stringliteral}{"Dscp Test\(\backslash\)n"};
211 
212   std::vector <Ipv4Header::DscpType> vDscpTypes;
213   vDscpTypes.push\_back (Ipv4Header::DscpDefault);
214   vDscpTypes.push\_back (Ipv4Header::DSCP\_CS1);
215   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF11);
216   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF12);
217   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF13);
218   vDscpTypes.push\_back (Ipv4Header::DSCP\_CS2);
219   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF21);
220   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF22);
221   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF23);
222   vDscpTypes.push\_back (Ipv4Header::DSCP\_CS3);
223   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF31);
224   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF32);
225   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF33);
226   vDscpTypes.push\_back (Ipv4Header::DSCP\_CS4);
227   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF41);
228   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF42);
229   vDscpTypes.push\_back (Ipv4Header::DSCP\_AF43);
230   vDscpTypes.push\_back (Ipv4Header::DSCP\_CS5);
231   vDscpTypes.push\_back (Ipv4Header::DSCP\_EF);
232   vDscpTypes.push\_back (Ipv4Header::DSCP\_CS6);
233   vDscpTypes.push\_back (Ipv4Header::DSCP\_CS7);
234 
235   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < vDscpTypes.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
236     \{
237       \hyperlink{classIpv4HeaderTest_afbd0cfc4212b3a0d8846faa662cbc7bc}{SendData\_IpHdr\_Dscp} (txSocket, \textcolor{stringliteral}{"10.0.0.1"}, vDscpTypes [
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}], Ipv4Header::ECN\_ECT1);
238       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 143, \textcolor{stringliteral}{"recv(hdrincl): 10.0.0.1"});
239       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4HeaderTest_a667ff4bfd280469a2814685903b1159f}{m\_receivedHeader}.
      \hyperlink{classns3_1_1Ipv4Header_a60d238b9d5f491df4d7626382505b0fe}{GetDscp} (), vDscpTypes [\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}], \textcolor{stringliteral}{"recv(hdrincl): 10.0.0.1"});
240       \hyperlink{classIpv4HeaderTest_a667ff4bfd280469a2814685903b1159f}{m\_receivedHeader}.\hyperlink{classns3_1_1Ipv4Header_ab823da57c446e48a5689b0772ce0081e}{Print} (std::cout);
241       std::cout << std::endl;
242       \hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
243       \hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket} = 0;
244     \}
245 
246   \textcolor{comment}{// Ecn tests}
247   std::cout << \textcolor{stringliteral}{"Ecn Test\(\backslash\)n"};
248   std::vector <Ipv4Header::EcnType> vEcnTypes;
249   vEcnTypes.push\_back (Ipv4Header::ECN\_NotECT);
250   vEcnTypes.push\_back (Ipv4Header::ECN\_ECT1);
251   vEcnTypes.push\_back (Ipv4Header::ECN\_ECT0);
252   vEcnTypes.push\_back (Ipv4Header::ECN\_CE);
253 
254   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < vEcnTypes.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
255     \{
256       \hyperlink{classIpv4HeaderTest_afbd0cfc4212b3a0d8846faa662cbc7bc}{SendData\_IpHdr\_Dscp} (txSocket, \textcolor{stringliteral}{"10.0.0.1"}, Ipv4Header::DscpDefault, vEcnTypes [
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]);
257       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 143, \textcolor{stringliteral}{"recv(hdrincl): 10.0.0.1"});
258       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classIpv4HeaderTest_a667ff4bfd280469a2814685903b1159f}{m\_receivedHeader}.
      \hyperlink{classns3_1_1Ipv4Header_ac5b818a97ed69188202d2c66ca7717c0}{GetEcn} (), vEcnTypes [\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}], \textcolor{stringliteral}{"recv(hdrincl): 10.0.0.1"});
259       \hyperlink{classIpv4HeaderTest_a667ff4bfd280469a2814685903b1159f}{m\_receivedHeader}.\hyperlink{classns3_1_1Ipv4Header_ab823da57c446e48a5689b0772ce0081e}{Print} (std::cout);
260       std::cout << std::endl;
261       \hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
262       \hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket} = 0;
263     \}
264 
265   Simulator::Destroy ();
266 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Ipv4\+Header\+Test@{Ipv4\+Header\+Test}!Do\+Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp@{Do\+Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp}}
\index{Do\+Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp@{Do\+Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp}!Ipv4\+Header\+Test@{Ipv4\+Header\+Test}}
\subsubsection[{\texorpdfstring{Do\+Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp(\+Ptr$<$ Socket $>$ socket, std\+::string to, Ipv4\+Header\+::\+Dscp\+Type dscp, Ipv4\+Header\+::\+Ecn\+Type ecn)}{DoSendData_IpHdr_Dscp(Ptr< Socket > socket, std::string to, Ipv4Header::DscpType dscp, Ipv4Header::EcnType ecn)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Header\+Test\+::\+Do\+Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{std\+::string}]{to, }
\item[{{\bf Ipv4\+Header\+::\+Dscp\+Type}}]{dscp, }
\item[{{\bf Ipv4\+Header\+::\+Ecn\+Type}}]{ecn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classIpv4HeaderTest_add7c6ef7aa63f94ed04b22090ccc551e}{}\label{classIpv4HeaderTest_add7c6ef7aa63f94ed04b22090ccc551e}


Send a packet with speciic D\+S\+CP and E\+CN fields. 


\begin{DoxyParams}{Parameters}
{\em socket} & The source socket. \\
\hline
{\em to} & The destination address. \\
\hline
{\em dscp} & The D\+S\+CP field. \\
\hline
{\em ecn} & The E\+CN field. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
124 \{
125   \hyperlink{classns3_1_1Address}{Address} realTo = \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (to.c\_str ()), 0);
126   socket->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"IpHeaderInclude"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
127   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> (123);
128   \hyperlink{classns3_1_1Ipv4Header}{Ipv4Header} ipHeader;
129   ipHeader.\hyperlink{classns3_1_1Ipv4Header_af3c8c140e302ec4aa1dc885ce1dcc070}{SetSource} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.0.2"}));
130   ipHeader.SetDestination (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (to.c\_str ()));
131   ipHeader.SetProtocol (0);
132   ipHeader.SetPayloadSize (p->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
133   ipHeader.SetTtl (255);
134   ipHeader.SetDscp (dscp);
135   ipHeader.SetEcn (ecn);
136   p->\hyperlink{classns3_1_1Packet_a465108c595a0bc592095cbcab1832ed8}{AddHeader} (ipHeader);
137 
138   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (socket->\hyperlink{classns3_1_1Socket_af898fce6a58e0dbba23c1c6de1d4220e}{SendTo} (p, 0, realTo),
139                          143, to);
140   socket->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"IpHeaderInclude"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
141 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Ipv4\+Header\+Test@{Ipv4\+Header\+Test}!Receive\+Packet@{Receive\+Packet}}
\index{Receive\+Packet@{Receive\+Packet}!Ipv4\+Header\+Test@{Ipv4\+Header\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Packet(\+Ptr$<$ Socket $>$ socket, Ptr$<$ Packet $>$ packet, const Address \&from)}{ReceivePacket(Ptr< Socket > socket, Ptr< Packet > packet, const Address &from)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Header\+Test\+::\+Receive\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{const {\bf Address} \&}]{from}
\end{DoxyParamCaption}
)}\hypertarget{classIpv4HeaderTest_aa6e29b55cab04dadbdadb52c9ba15e87}{}\label{classIpv4HeaderTest_aa6e29b55cab04dadbdadb52c9ba15e87}


Receives a packet. 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
{\em packet} & The packet. \\
\hline
{\em from} & The source address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
107 \{
108   \hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket} = packet;
109 \}
\end{DoxyCode}
\index{Ipv4\+Header\+Test@{Ipv4\+Header\+Test}!Receive\+Pkt@{Receive\+Pkt}}
\index{Receive\+Pkt@{Receive\+Pkt}!Ipv4\+Header\+Test@{Ipv4\+Header\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Pkt(\+Ptr$<$ Socket $>$ socket)}{ReceivePkt(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Header\+Test\+::\+Receive\+Pkt (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{classIpv4HeaderTest_ae06256e56359912140540a0c04c7dc78}{}\label{classIpv4HeaderTest_ae06256e56359912140540a0c04c7dc78}


Receives a packet. 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
112 \{
113   uint32\_t availableData;
114   availableData = socket->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ();
115   \hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket} = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (2, MSG\_PEEK);
116   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () == 2);
117   \hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket} = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (
      \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint32\_t>::max} (), 0);
118   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (availableData == m\_receivedPacket->GetSize ());
119   m\_receivedPacket->PeekHeader (\hyperlink{classIpv4HeaderTest_a667ff4bfd280469a2814685903b1159f}{m\_receivedHeader});
120 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{Ipv4\+Header\+Test@{Ipv4\+Header\+Test}!Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp@{Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp}}
\index{Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp@{Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp}!Ipv4\+Header\+Test@{Ipv4\+Header\+Test}}
\subsubsection[{\texorpdfstring{Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp(\+Ptr$<$ Socket $>$ socket, std\+::string to, Ipv4\+Header\+::\+Dscp\+Type dscp, Ipv4\+Header\+::\+Ecn\+Type ecn)}{SendData_IpHdr_Dscp(Ptr< Socket > socket, std::string to, Ipv4Header::DscpType dscp, Ipv4Header::EcnType ecn)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ipv4\+Header\+Test\+::\+Send\+Data\+\_\+\+Ip\+Hdr\+\_\+\+Dscp (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{std\+::string}]{to, }
\item[{{\bf Ipv4\+Header\+::\+Dscp\+Type}}]{dscp, }
\item[{{\bf Ipv4\+Header\+::\+Ecn\+Type}}]{ecn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classIpv4HeaderTest_afbd0cfc4212b3a0d8846faa662cbc7bc}{}\label{classIpv4HeaderTest_afbd0cfc4212b3a0d8846faa662cbc7bc}


Send a packet with speciic D\+S\+CP and E\+CN fields. 


\begin{DoxyParams}{Parameters}
{\em socket} & The source socket. \\
\hline
{\em to} & The destination address. \\
\hline
{\em dscp} & The D\+S\+CP field. \\
\hline
{\em ecn} & The E\+CN field. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
145 \{
146   \hyperlink{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{m\_receivedPacket} = Create<Packet> ();
147   Simulator::ScheduleWithContext (socket->\hyperlink{classns3_1_1Socket_aba642ad4301c1df47befc0aa9afa2e48}{GetNode} ()->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} (), 
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0),
148                                   &\hyperlink{classIpv4HeaderTest_add7c6ef7aa63f94ed04b22090ccc551e}{Ipv4HeaderTest::DoSendData\_IpHdr\_Dscp}
      , \textcolor{keyword}{this}, socket, to, dscp, ecn);
149   Simulator::Run ();
150 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8




\subsection{Member Data Documentation}
\index{Ipv4\+Header\+Test@{Ipv4\+Header\+Test}!m\+\_\+received\+Header@{m\+\_\+received\+Header}}
\index{m\+\_\+received\+Header@{m\+\_\+received\+Header}!Ipv4\+Header\+Test@{Ipv4\+Header\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+received\+Header}{m_receivedHeader}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv4\+Header} Ipv4\+Header\+Test\+::m\+\_\+received\+Header\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classIpv4HeaderTest_a667ff4bfd280469a2814685903b1159f}{}\label{classIpv4HeaderTest_a667ff4bfd280469a2814685903b1159f}


Received header. 

\index{Ipv4\+Header\+Test@{Ipv4\+Header\+Test}!m\+\_\+received\+Packet@{m\+\_\+received\+Packet}}
\index{m\+\_\+received\+Packet@{m\+\_\+received\+Packet}!Ipv4\+Header\+Test@{Ipv4\+Header\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+received\+Packet}{m_receivedPacket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ Ipv4\+Header\+Test\+::m\+\_\+received\+Packet\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}{}\label{classIpv4HeaderTest_a4806396ea5249b214fce8a349f40b07b}


Received packet. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{ipv4-header-test_8cc}{ipv4-\/header-\/test.\+cc}\end{DoxyCompactItemize}
