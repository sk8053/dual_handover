\hypertarget{classns3_1_1aodv_1_1Neighbors}{}\section{ns3\+:\+:aodv\+:\+:Neighbors Class Reference}
\label{classns3_1_1aodv_1_1Neighbors}\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}


maintain list of active neighbors  




{\ttfamily \#include $<$aodv-\/neighbor.\+h$>$}



Collaboration diagram for ns3\+:\+:aodv\+:\+:Neighbors\+:
% FIG 0
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1aodv_1_1Neighbors_1_1Neighbor}{Neighbor}
\begin{DoxyCompactList}\small\item\em \hyperlink{structns3_1_1aodv_1_1Neighbors_1_1Neighbor}{Neighbor} description. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1aodv_1_1Neighbors_a35ec5c1960e97af514f34c85d84e4abf}{Neighbors} (\hyperlink{classns3_1_1Time}{Time} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_a7964e6aa8f61a9d28973c8267a606ad8}{delay})
\begin{DoxyCompactList}\small\item\em c-\/tor \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1aodv_1_1Neighbors_a08811b3c7cfcc0a152a05d2d582ea6eb}{Get\+Expire\+Time} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} addr)
\begin{DoxyCompactList}\small\item\em Return expire time for neighbor node with address addr, if exists, else return 0. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1aodv_1_1Neighbors_adec5bc2eea2791e166a37df5b9e05be2}{Is\+Neighbor} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} addr)
\begin{DoxyCompactList}\small\item\em Check that node with address addr is neighbor. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1aodv_1_1Neighbors_a88577f05c06fbff8cf9ed281e9077f6e}{Update} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} addr, \hyperlink{classns3_1_1Time}{Time} expire)
\begin{DoxyCompactList}\small\item\em Update expire time for entry with address addr, if it exists, else add new entry. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1aodv_1_1Neighbors_a5db1238b20a700967e21ebb3522afc5c}{Purge} ()
\begin{DoxyCompactList}\small\item\em Remove all expired entries. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1aodv_1_1Neighbors_a2eff3f9bda1412b0539c709acf0538cc}{Schedule\+Timer} ()
\begin{DoxyCompactList}\small\item\em Schedule m\+\_\+ntimer. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1aodv_1_1Neighbors_a467f3ea5a42d4e32b2fe3bf47bd51991}{Clear} ()
\begin{DoxyCompactList}\small\item\em Remove all entries. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1aodv_1_1Neighbors_a6c8226b35d9047d9506d42046689ae94}{Add\+Arp\+Cache} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1ArpCache}{Arp\+Cache} $>$)
\begin{DoxyCompactList}\small\item\em Add A\+RP cache to be used to allow layer 2 notifications processing. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1aodv_1_1Neighbors_a9d4cd87eff2d3287c3114c0ad8963b77}{Del\+Arp\+Cache} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1ArpCache}{Arp\+Cache} $>$)
\begin{DoxyCompactList}\small\item\em Don\textquotesingle{}t use given A\+RP cache any more (interface is down) \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} const \& $>$ \hyperlink{classns3_1_1aodv_1_1Neighbors_a967f02218f4806c5bbf9ba44ac396601}{Get\+Tx\+Error\+Callback} () const 
\begin{DoxyCompactList}\small\item\em Get callback to Process\+Tx\+Error. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1aodv_1_1Neighbors_aa034a98c6f91c1a20db28a4774ea13c5}{Set\+Callback} (\hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} $>$ cb)
\begin{DoxyCompactList}\small\item\em Handle link failure callback. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} $>$ \hyperlink{classns3_1_1aodv_1_1Neighbors_ad0ec67edaaef53be2ea9816a679179fc}{Get\+Callback} () const 
\begin{DoxyCompactList}\small\item\em Handle link failure callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1aodv_1_1Neighbors_a0cbe6baaf85a2f8664806dc56f782c63}{Lookup\+Mac\+Address} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address})
\begin{DoxyCompactList}\small\item\em Find M\+AC address by IP using list of A\+RP caches. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1aodv_1_1Neighbors_ab236cbb6ca7911bb4f51d77662423868}{Process\+Tx\+Error} (\hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} const \&)
\begin{DoxyCompactList}\small\item\em Process layer 2 TX error notification. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} $>$ \hyperlink{classns3_1_1aodv_1_1Neighbors_a9f8078f57932255c9fc05f6f3bcef8ab}{m\+\_\+handle\+Link\+Failure}
\begin{DoxyCompactList}\small\item\em link failure callback \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} const \& $>$ \hyperlink{classns3_1_1aodv_1_1Neighbors_ab0ff33bad83facfa8a2da7d932bd9953}{m\+\_\+tx\+Error\+Callback}
\begin{DoxyCompactList}\small\item\em TX error callback. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Timer}{Timer} \hyperlink{classns3_1_1aodv_1_1Neighbors_a94dd235d692b8ff312b51654580530cd}{m\+\_\+ntimer}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Timer}{Timer} for neighbor\textquotesingle{}s list. Schedule \hyperlink{classns3_1_1aodv_1_1Neighbors_a5db1238b20a700967e21ebb3522afc5c}{Purge()}. \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{structns3_1_1aodv_1_1Neighbors_1_1Neighbor}{Neighbor} $>$ \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\+\_\+nb}
\begin{DoxyCompactList}\small\item\em vector of entries \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1ArpCache}{Arp\+Cache} $>$ $>$ \hyperlink{classns3_1_1aodv_1_1Neighbors_a6e0800b74469fc43603d2824a8dbb8e7}{m\+\_\+arp}
\begin{DoxyCompactList}\small\item\em list of A\+RP cached to be used for layer 2 notifications processing \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
maintain list of active neighbors 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Neighbors@{Neighbors}}
\index{Neighbors@{Neighbors}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Neighbors(\+Time delay)}{Neighbors(Time delay)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::aodv\+::\+Neighbors\+::\+Neighbors (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{delay}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1aodv_1_1Neighbors_a35ec5c1960e97af514f34c85d84e4abf}{}\label{classns3_1_1aodv_1_1Neighbors_a35ec5c1960e97af514f34c85d84e4abf}


c-\/tor 


\begin{DoxyCode}
41                                 : 
42   \hyperlink{classns3_1_1aodv_1_1Neighbors_a94dd235d692b8ff312b51654580530cd}{m\_ntimer} (\hyperlink{classns3_1_1Timer_a816309b83cd2a35bea47d9bbc6bbf721a07a9dd5063b32fb6cf1f813c6ee7e28e}{Timer::CANCEL\_ON\_DESTROY})
43 \{
44   \hyperlink{classns3_1_1aodv_1_1Neighbors_a94dd235d692b8ff312b51654580530cd}{m\_ntimer}.\hyperlink{classns3_1_1Timer_a02ac85f61e64a2bc3a104914859504c9}{SetDelay} (\hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_a7964e6aa8f61a9d28973c8267a606ad8}{delay});
45   \hyperlink{classns3_1_1aodv_1_1Neighbors_a94dd235d692b8ff312b51654580530cd}{m\_ntimer}.\hyperlink{classns3_1_1Timer_a044b29030c9de99298d51ac0ccfc104c}{SetFunction} (&\hyperlink{classns3_1_1aodv_1_1Neighbors_a5db1238b20a700967e21ebb3522afc5c}{Neighbors::Purge}, \textcolor{keyword}{this});
46   \hyperlink{classns3_1_1aodv_1_1Neighbors_ab0ff33bad83facfa8a2da7d932bd9953}{m\_txErrorCallback} = \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1aodv_1_1Neighbors_ab236cbb6ca7911bb4f51d77662423868}{Neighbors::ProcessTxError}, \textcolor{keyword}{this});
47 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1




\subsection{Member Function Documentation}
\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Add\+Arp\+Cache@{Add\+Arp\+Cache}}
\index{Add\+Arp\+Cache@{Add\+Arp\+Cache}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Add\+Arp\+Cache(\+Ptr$<$ Arp\+Cache $>$)}{AddArpCache(Ptr< ArpCache >)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::aodv\+::\+Neighbors\+::\+Add\+Arp\+Cache (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Arp\+Cache} $>$}]{a}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1aodv_1_1Neighbors_a6c8226b35d9047d9506d42046689ae94}{}\label{classns3_1_1aodv_1_1Neighbors_a6c8226b35d9047d9506d42046689ae94}


Add A\+RP cache to be used to allow layer 2 notifications processing. 


\begin{DoxyCode}
134 \{
135   \hyperlink{classns3_1_1aodv_1_1Neighbors_a6e0800b74469fc43603d2824a8dbb8e7}{m\_arp}.push\_back (a);
136 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Clear@{Clear}}
\index{Clear@{Clear}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Clear()}{Clear()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::aodv\+::\+Neighbors\+::\+Clear (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_a467f3ea5a42d4e32b2fe3bf47bd51991}{}\label{classns3_1_1aodv_1_1Neighbors_a467f3ea5a42d4e32b2fe3bf47bd51991}


Remove all entries. 


\begin{DoxyCode}
79 \{ \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.clear (); \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Del\+Arp\+Cache@{Del\+Arp\+Cache}}
\index{Del\+Arp\+Cache@{Del\+Arp\+Cache}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Del\+Arp\+Cache(\+Ptr$<$ Arp\+Cache $>$)}{DelArpCache(Ptr< ArpCache >)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::aodv\+::\+Neighbors\+::\+Del\+Arp\+Cache (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Arp\+Cache} $>$}]{a}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1aodv_1_1Neighbors_a9d4cd87eff2d3287c3114c0ad8963b77}{}\label{classns3_1_1aodv_1_1Neighbors_a9d4cd87eff2d3287c3114c0ad8963b77}


Don\textquotesingle{}t use given A\+RP cache any more (interface is down) 


\begin{DoxyCode}
140 \{
141   \hyperlink{classns3_1_1aodv_1_1Neighbors_a6e0800b74469fc43603d2824a8dbb8e7}{m\_arp}.erase (std::remove (\hyperlink{classns3_1_1aodv_1_1Neighbors_a6e0800b74469fc43603d2824a8dbb8e7}{m\_arp}.begin (), \hyperlink{classns3_1_1aodv_1_1Neighbors_a6e0800b74469fc43603d2824a8dbb8e7}{m\_arp}.end (), a), 
      \hyperlink{classns3_1_1aodv_1_1Neighbors_a6e0800b74469fc43603d2824a8dbb8e7}{m\_arp}.end ());
142 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Get\+Callback@{Get\+Callback}}
\index{Get\+Callback@{Get\+Callback}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Get\+Callback() const }{GetCallback() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Callback}$<$void, {\bf Ipv4\+Address}$>$ ns3\+::aodv\+::\+Neighbors\+::\+Get\+Callback (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_ad0ec67edaaef53be2ea9816a679179fc}{}\label{classns3_1_1aodv_1_1Neighbors_ad0ec67edaaef53be2ea9816a679179fc}


Handle link failure callback. 


\begin{DoxyCode}
91 \{ \textcolor{keywordflow}{return} \hyperlink{classns3_1_1aodv_1_1Neighbors_a9f8078f57932255c9fc05f6f3bcef8ab}{m\_handleLinkFailure}; \}
\end{DoxyCode}
\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Get\+Expire\+Time@{Get\+Expire\+Time}}
\index{Get\+Expire\+Time@{Get\+Expire\+Time}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Get\+Expire\+Time(\+Ipv4\+Address addr)}{GetExpireTime(Ipv4Address addr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::aodv\+::\+Neighbors\+::\+Get\+Expire\+Time (
\begin{DoxyParamCaption}
\item[{{\bf Ipv4\+Address}}]{addr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1aodv_1_1Neighbors_a08811b3c7cfcc0a152a05d2d582ea6eb}{}\label{classns3_1_1aodv_1_1Neighbors_a08811b3c7cfcc0a152a05d2d582ea6eb}


Return expire time for neighbor node with address addr, if exists, else return 0. 


\begin{DoxyCode}
64 \{
65   \hyperlink{classns3_1_1aodv_1_1Neighbors_a5db1238b20a700967e21ebb3522afc5c}{Purge} ();
66   \textcolor{keywordflow}{for} (std::vector<Neighbor>::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}
67        != \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.end (); ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
68     \{
69       \textcolor{keywordflow}{if} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->m\_neighborAddress == addr)
70         \textcolor{keywordflow}{return} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->m\_expireTime - \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ());
71     \}
72   \textcolor{keywordflow}{return} \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
73 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Get\+Tx\+Error\+Callback@{Get\+Tx\+Error\+Callback}}
\index{Get\+Tx\+Error\+Callback@{Get\+Tx\+Error\+Callback}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Get\+Tx\+Error\+Callback() const }{GetTxErrorCallback() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Callback}$<$void, {\bf Wifi\+Mac\+Header} const \&$>$ ns3\+::aodv\+::\+Neighbors\+::\+Get\+Tx\+Error\+Callback (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_a967f02218f4806c5bbf9ba44ac396601}{}\label{classns3_1_1aodv_1_1Neighbors_a967f02218f4806c5bbf9ba44ac396601}


Get callback to Process\+Tx\+Error. 


\begin{DoxyCode}
86 \{ \textcolor{keywordflow}{return} \hyperlink{classns3_1_1aodv_1_1Neighbors_ab0ff33bad83facfa8a2da7d932bd9953}{m\_txErrorCallback}; \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Is\+Neighbor@{Is\+Neighbor}}
\index{Is\+Neighbor@{Is\+Neighbor}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Is\+Neighbor(\+Ipv4\+Address addr)}{IsNeighbor(Ipv4Address addr)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::aodv\+::\+Neighbors\+::\+Is\+Neighbor (
\begin{DoxyParamCaption}
\item[{{\bf Ipv4\+Address}}]{addr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1aodv_1_1Neighbors_adec5bc2eea2791e166a37df5b9e05be2}{}\label{classns3_1_1aodv_1_1Neighbors_adec5bc2eea2791e166a37df5b9e05be2}


Check that node with address addr is neighbor. 


\begin{DoxyCode}
51 \{
52   \hyperlink{classns3_1_1aodv_1_1Neighbors_a5db1238b20a700967e21ebb3522afc5c}{Purge} ();
53   \textcolor{keywordflow}{for} (std::vector<Neighbor>::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.begin ();
54        \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.end (); ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
55     \{
56       \textcolor{keywordflow}{if} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->m\_neighborAddress == addr)
57         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
58     \}
59   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
60 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Lookup\+Mac\+Address@{Lookup\+Mac\+Address}}
\index{Lookup\+Mac\+Address@{Lookup\+Mac\+Address}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Lookup\+Mac\+Address(\+Ipv4\+Address)}{LookupMacAddress(Ipv4Address)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::aodv\+::\+Neighbors\+::\+Lookup\+Mac\+Address (
\begin{DoxyParamCaption}
\item[{{\bf Ipv4\+Address}}]{addr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_a0cbe6baaf85a2f8664806dc56f782c63}{}\label{classns3_1_1aodv_1_1Neighbors_a0cbe6baaf85a2f8664806dc56f782c63}


Find M\+AC address by IP using list of A\+RP caches. 


\begin{DoxyCode}
146 \{
147   Mac48Address hwaddr;
148   \textcolor{keywordflow}{for} (std::vector<Ptr<ArpCache> >::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1aodv_1_1Neighbors_a6e0800b74469fc43603d2824a8dbb8e7}{m\_arp}.begin ();
149        \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1aodv_1_1Neighbors_a6e0800b74469fc43603d2824a8dbb8e7}{m\_arp}.end (); ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
150     \{
151       ArpCache::Entry * entry = (*i)->Lookup (addr);
152       \textcolor{keywordflow}{if} (entry != 0 && (entry->IsAlive () || entry->IsPermanent ()) && !entry->IsExpired ())
153         \{
154           hwaddr = \hyperlink{classns3_1_1Mac48Address_a911ce13603a9ef837545a032b6523ae4}{Mac48Address::ConvertFrom} (entry->GetMacAddress ());
155           \textcolor{keywordflow}{break};
156         \}
157     \}
158   \textcolor{keywordflow}{return} hwaddr;
159 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Process\+Tx\+Error@{Process\+Tx\+Error}}
\index{Process\+Tx\+Error@{Process\+Tx\+Error}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Process\+Tx\+Error(\+Wifi\+Mac\+Header const \&)}{ProcessTxError(WifiMacHeader const &)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::aodv\+::\+Neighbors\+::\+Process\+Tx\+Error (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Mac\+Header} const \&}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_ab236cbb6ca7911bb4f51d77662423868}{}\label{classns3_1_1aodv_1_1Neighbors_ab236cbb6ca7911bb4f51d77662423868}


Process layer 2 TX error notification. 


\begin{DoxyCode}
163 \{
164   Mac48Address addr = hdr.GetAddr1 ();
165 
166   \textcolor{keywordflow}{for} (std::vector<Neighbor>::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.end (); ++
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
167     \{
168       \textcolor{keywordflow}{if} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->m\_hardwareAddress == addr)
169         \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->close = \textcolor{keyword}{true};
170     \}
171   \hyperlink{classns3_1_1aodv_1_1Neighbors_a5db1238b20a700967e21ebb3522afc5c}{Purge} ();
172 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Purge@{Purge}}
\index{Purge@{Purge}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Purge()}{Purge()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::aodv\+::\+Neighbors\+::\+Purge (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1aodv_1_1Neighbors_a5db1238b20a700967e21ebb3522afc5c}{}\label{classns3_1_1aodv_1_1Neighbors_a5db1238b20a700967e21ebb3522afc5c}


Remove all expired entries. 


\begin{DoxyCode}
104 \{
105   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.empty ())
106     \textcolor{keywordflow}{return};
107 
108   CloseNeighbor pred;
109   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1aodv_1_1Neighbors_a9f8078f57932255c9fc05f6f3bcef8ab}{m\_handleLinkFailure}.IsNull ())
110     \{
111       \textcolor{keywordflow}{for} (std::vector<Neighbor>::iterator j = \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.begin (); j != \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.end (); ++j)
112         \{
113           \textcolor{keywordflow}{if} (pred (*j))
114             \{
115               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Close link to "} << j->m\_neighborAddress);
116               \hyperlink{classns3_1_1aodv_1_1Neighbors_a9f8078f57932255c9fc05f6f3bcef8ab}{m\_handleLinkFailure} (j->m\_neighborAddress);
117             \}
118         \}
119     \}
120   \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.erase (std::remove\_if (\hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.begin (), \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.end (), pred), 
      \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.end ());
121   \hyperlink{classns3_1_1aodv_1_1Neighbors_a94dd235d692b8ff312b51654580530cd}{m\_ntimer}.\hyperlink{classns3_1_1Timer_ac8261489cfc3361ab869ea2387cfc841}{Cancel} ();
122   \hyperlink{classns3_1_1aodv_1_1Neighbors_a94dd235d692b8ff312b51654580530cd}{m\_ntimer}.\hyperlink{classns3_1_1Timer_ac3345d696887578f518b19f359f7f94b}{Schedule} ();
123 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Schedule\+Timer@{Schedule\+Timer}}
\index{Schedule\+Timer@{Schedule\+Timer}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Schedule\+Timer()}{ScheduleTimer()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::aodv\+::\+Neighbors\+::\+Schedule\+Timer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1aodv_1_1Neighbors_a2eff3f9bda1412b0539c709acf0538cc}{}\label{classns3_1_1aodv_1_1Neighbors_a2eff3f9bda1412b0539c709acf0538cc}


Schedule m\+\_\+ntimer. 


\begin{DoxyCode}
127 \{
128   \hyperlink{classns3_1_1aodv_1_1Neighbors_a94dd235d692b8ff312b51654580530cd}{m\_ntimer}.\hyperlink{classns3_1_1Timer_ac8261489cfc3361ab869ea2387cfc841}{Cancel} ();
129   \hyperlink{classns3_1_1aodv_1_1Neighbors_a94dd235d692b8ff312b51654580530cd}{m\_ntimer}.\hyperlink{classns3_1_1Timer_ac3345d696887578f518b19f359f7f94b}{Schedule} ();
130 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Set\+Callback@{Set\+Callback}}
\index{Set\+Callback@{Set\+Callback}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Set\+Callback(\+Callback$<$ void, Ipv4\+Address $>$ cb)}{SetCallback(Callback< void, Ipv4Address > cb)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::aodv\+::\+Neighbors\+::\+Set\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Callback}$<$ void, {\bf Ipv4\+Address} $>$}]{cb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_aa034a98c6f91c1a20db28a4774ea13c5}{}\label{classns3_1_1aodv_1_1Neighbors_aa034a98c6f91c1a20db28a4774ea13c5}


Handle link failure callback. 


\begin{DoxyCode}
89 \{ \hyperlink{classns3_1_1aodv_1_1Neighbors_a9f8078f57932255c9fc05f6f3bcef8ab}{m\_handleLinkFailure} = cb; \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!Update@{Update}}
\index{Update@{Update}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{Update(\+Ipv4\+Address addr, Time expire)}{Update(Ipv4Address addr, Time expire)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::aodv\+::\+Neighbors\+::\+Update (
\begin{DoxyParamCaption}
\item[{{\bf Ipv4\+Address}}]{addr, }
\item[{{\bf Time}}]{expire}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1aodv_1_1Neighbors_a88577f05c06fbff8cf9ed281e9077f6e}{}\label{classns3_1_1aodv_1_1Neighbors_a88577f05c06fbff8cf9ed281e9077f6e}


Update expire time for entry with address addr, if it exists, else add new entry. 


\begin{DoxyCode}
77 \{
78   \textcolor{keywordflow}{for} (std::vector<Neighbor>::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.end (); ++
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
79     \textcolor{keywordflow}{if} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->m\_neighborAddress == addr)
80       \{
81         \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->m\_expireTime
82           = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (expire + \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} (), \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->m\_expireTime);
83         \textcolor{keywordflow}{if} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->m\_hardwareAddress == Mac48Address ())
84           \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->m\_hardwareAddress = \hyperlink{classns3_1_1aodv_1_1Neighbors_a0cbe6baaf85a2f8664806dc56f782c63}{LookupMacAddress} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->m\_neighborAddress);
85         \textcolor{keywordflow}{return};
86       \}
87 
88   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Open link to "} << addr);
89   Neighbor neighbor (addr, \hyperlink{classns3_1_1aodv_1_1Neighbors_a0cbe6baaf85a2f8664806dc56f782c63}{LookupMacAddress} (addr), expire + 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ());
90   \hyperlink{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{m\_nb}.push\_back (neighbor);
91   \hyperlink{classns3_1_1aodv_1_1Neighbors_a5db1238b20a700967e21ebb3522afc5c}{Purge} ();
92 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 20




Here is the caller graph for this function\+:
% FIG 21




\subsection{Member Data Documentation}
\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!m\+\_\+arp@{m\+\_\+arp}}
\index{m\+\_\+arp@{m\+\_\+arp}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{m\+\_\+arp}{m_arp}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Ptr}$<${\bf Arp\+Cache}$>$ $>$ ns3\+::aodv\+::\+Neighbors\+::m\+\_\+arp\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_a6e0800b74469fc43603d2824a8dbb8e7}{}\label{classns3_1_1aodv_1_1Neighbors_a6e0800b74469fc43603d2824a8dbb8e7}


list of A\+RP cached to be used for layer 2 notifications processing 

\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!m\+\_\+handle\+Link\+Failure@{m\+\_\+handle\+Link\+Failure}}
\index{m\+\_\+handle\+Link\+Failure@{m\+\_\+handle\+Link\+Failure}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{m\+\_\+handle\+Link\+Failure}{m_handleLinkFailure}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Callback}$<$void, {\bf Ipv4\+Address}$>$ ns3\+::aodv\+::\+Neighbors\+::m\+\_\+handle\+Link\+Failure\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_a9f8078f57932255c9fc05f6f3bcef8ab}{}\label{classns3_1_1aodv_1_1Neighbors_a9f8078f57932255c9fc05f6f3bcef8ab}


link failure callback 

\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!m\+\_\+nb@{m\+\_\+nb}}
\index{m\+\_\+nb@{m\+\_\+nb}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{m\+\_\+nb}{m_nb}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Neighbor}$>$ ns3\+::aodv\+::\+Neighbors\+::m\+\_\+nb\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}{}\label{classns3_1_1aodv_1_1Neighbors_a885bb3a178f3583ed73e391d918f2f63}


vector of entries 

\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!m\+\_\+ntimer@{m\+\_\+ntimer}}
\index{m\+\_\+ntimer@{m\+\_\+ntimer}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{m\+\_\+ntimer}{m_ntimer}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Timer} ns3\+::aodv\+::\+Neighbors\+::m\+\_\+ntimer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_a94dd235d692b8ff312b51654580530cd}{}\label{classns3_1_1aodv_1_1Neighbors_a94dd235d692b8ff312b51654580530cd}


\hyperlink{classns3_1_1Timer}{Timer} for neighbor\textquotesingle{}s list. Schedule \hyperlink{classns3_1_1aodv_1_1Neighbors_a5db1238b20a700967e21ebb3522afc5c}{Purge()}. 

\index{ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}!m\+\_\+tx\+Error\+Callback@{m\+\_\+tx\+Error\+Callback}}
\index{m\+\_\+tx\+Error\+Callback@{m\+\_\+tx\+Error\+Callback}!ns3\+::aodv\+::\+Neighbors@{ns3\+::aodv\+::\+Neighbors}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+Error\+Callback}{m_txErrorCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Callback}$<$void, {\bf Wifi\+Mac\+Header} const \&$>$ ns3\+::aodv\+::\+Neighbors\+::m\+\_\+tx\+Error\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1aodv_1_1Neighbors_ab0ff33bad83facfa8a2da7d932bd9953}{}\label{classns3_1_1aodv_1_1Neighbors_ab0ff33bad83facfa8a2da7d932bd9953}


TX error callback. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
aodv/model/\hyperlink{aodv-neighbor_8h}{aodv-\/neighbor.\+h}\item 
aodv/model/\hyperlink{aodv-neighbor_8cc}{aodv-\/neighbor.\+cc}\end{DoxyCompactItemize}
