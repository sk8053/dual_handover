\hypertarget{classns3_1_1OmnetDataOutput}{}\section{ns3\+:\+:Omnet\+Data\+Output Class Reference}
\label{classns3_1_1OmnetDataOutput}\index{ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}}


Outputs data in a format compatible with O\+M\+NeT library and framework.  




{\ttfamily \#include $<$omnet-\/data-\/output.\+h$>$}



Inheritance diagram for ns3\+:\+:Omnet\+Data\+Output\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Omnet\+Data\+Output\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1OmnetDataOutput_1_1OmnetOutputCallback}{Omnet\+Output\+Callback}
\begin{DoxyCompactList}\small\item\em Class to generate O\+M\+NeT output. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1OmnetDataOutput_aa4aaf532d094b1795baf29d527279e68}{Omnet\+Data\+Output} ()
\item 
virtual \hyperlink{classns3_1_1OmnetDataOutput_a707caaf1c97fd5e9aa6eaa31ebcb1acb}{$\sim$\+Omnet\+Data\+Output} ()
\item 
virtual void \hyperlink{classns3_1_1OmnetDataOutput_aaa7397204fe15cc52f86526acc8c034a}{Output} (\hyperlink{classns3_1_1DataCollector}{Data\+Collector} \&dc)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1OmnetDataOutput_aeb7c096cebaa2da2a22214e0144ca7ca}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1OmnetDataOutput_a7abc834ad471cd50297b42ba7bc76f41}{Do\+Dispose} ()
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Outputs data in a format compatible with O\+M\+NeT library and framework. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}!Omnet\+Data\+Output@{Omnet\+Data\+Output}}
\index{Omnet\+Data\+Output@{Omnet\+Data\+Output}!ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}}
\subsubsection[{\texorpdfstring{Omnet\+Data\+Output()}{OmnetDataOutput()}}]{\setlength{\rightskip}{0pt plus 5cm}Omnet\+Data\+Output\+::\+Omnet\+Data\+Output (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1OmnetDataOutput_aa4aaf532d094b1795baf29d527279e68}{}\label{classns3_1_1OmnetDataOutput_aa4aaf532d094b1795baf29d527279e68}

\begin{DoxyCode}
38 \{
39   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
40 
41   \hyperlink{classns3_1_1DataOutputInterface_a7ee2756b63a5586442419d6a214a3341}{m\_filePrefix} = \textcolor{stringliteral}{"data"};
42 \}
\end{DoxyCode}
\index{ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}!````~Omnet\+Data\+Output@{$\sim$\+Omnet\+Data\+Output}}
\index{````~Omnet\+Data\+Output@{$\sim$\+Omnet\+Data\+Output}!ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}}
\subsubsection[{\texorpdfstring{$\sim$\+Omnet\+Data\+Output()}{~OmnetDataOutput()}}]{\setlength{\rightskip}{0pt plus 5cm}Omnet\+Data\+Output\+::$\sim$\+Omnet\+Data\+Output (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1OmnetDataOutput_a707caaf1c97fd5e9aa6eaa31ebcb1acb}{}\label{classns3_1_1OmnetDataOutput_a707caaf1c97fd5e9aa6eaa31ebcb1acb}

\begin{DoxyCode}
44 \{
45   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
46 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void Omnet\+Data\+Output\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1OmnetDataOutput_a7abc834ad471cd50297b42ba7bc76f41}{}\label{classns3_1_1OmnetDataOutput_a7abc834ad471cd50297b42ba7bc76f41}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1OmnetDataOutput_a7abc834ad471cd50297b42ba7bc76f41}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1DataOutputInterface_af8c5094cc3f5ca17db60850c0e8377f5}{ns3\+::\+Data\+Output\+Interface}.


\begin{DoxyCode}
61 \{
62   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
63 
64   \hyperlink{classns3_1_1DataOutputInterface_af8c5094cc3f5ca17db60850c0e8377f5}{DataOutputInterface::DoDispose} ();
65   \textcolor{comment}{// end OmnetDataOutput::DoDispose}
66 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} Omnet\+Data\+Output\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1OmnetDataOutput_aeb7c096cebaa2da2a22214e0144ca7ca}{}\label{classns3_1_1OmnetDataOutput_aeb7c096cebaa2da2a22214e0144ca7ca}
Register this type. \begin{DoxyReturn}{Returns}
The \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
50 \{
51   \textcolor{keyword}{static} \hyperlink{classns3_1_1TypeId}{TypeId} tid = \hyperlink{classns3_1_1TypeId}{TypeId} (\textcolor{stringliteral}{"ns3::OmnetDataOutput"})
52     .\hyperlink{classns3_1_1TypeId_abaaca67ab7d2471067e7c275df0f7309}{SetParent}<\hyperlink{classns3_1_1DataOutputInterface}{DataOutputInterface}> ()
53     .SetGroupName (\textcolor{stringliteral}{"Stats"})
54     .AddConstructor<\hyperlink{classns3_1_1OmnetDataOutput}{OmnetDataOutput}> ()
55     ;
56   \textcolor{keywordflow}{return} tid;
57 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}!Output@{Output}}
\index{Output@{Output}!ns3\+::\+Omnet\+Data\+Output@{ns3\+::\+Omnet\+Data\+Output}}
\subsubsection[{\texorpdfstring{Output(\+Data\+Collector \&dc)}{Output(DataCollector &dc)}}]{\setlength{\rightskip}{0pt plus 5cm}void Omnet\+Data\+Output\+::\+Output (
\begin{DoxyParamCaption}
\item[{{\bf Data\+Collector} \&}]{dc}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1OmnetDataOutput_aaa7397204fe15cc52f86526acc8c034a}{}\label{classns3_1_1OmnetDataOutput_aaa7397204fe15cc52f86526acc8c034a}
Outputs information from the provided \hyperlink{classns3_1_1DataCollector}{Data\+Collector} 
\begin{DoxyParams}{Parameters}
{\em dc} & \hyperlink{classns3_1_1DataCollector}{Data\+Collector} object \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000158}{Todo}]add timestamp to the runlevel \end{DoxyRefDesc}


Implements \hyperlink{classns3_1_1DataOutputInterface_a50d5c4d0c77655d734dd2c8c11edbe2e}{ns3\+::\+Data\+Output\+Interface}.


\begin{DoxyCode}
98 \{
99   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &dc);
100 
101   std::ofstream scalarFile;
102   std::string fn = \hyperlink{classns3_1_1DataOutputInterface_a7ee2756b63a5586442419d6a214a3341}{m\_filePrefix} +\textcolor{stringliteral}{"-"}+dc.\hyperlink{classns3_1_1DataCollector_aa3b3c26378c4e1dc0954821a933be305}{GetRunLabel} ()+ \textcolor{stringliteral}{".sca"};
103   scalarFile.open (fn.c\_str (), std::ios\_base::out);
104 
106   scalarFile << \textcolor{stringliteral}{"run "} << dc.\hyperlink{classns3_1_1DataCollector_aa3b3c26378c4e1dc0954821a933be305}{GetRunLabel} () << std::endl;
107   scalarFile << \textcolor{stringliteral}{"attr experiment \(\backslash\)""} << dc.\hyperlink{classns3_1_1DataCollector_af62040c154454a67ada1c1b151e1e739}{GetExperimentLabel} ()
108              << \textcolor{stringliteral}{"\(\backslash\)""} << std::endl;
109   scalarFile << \textcolor{stringliteral}{"attr strategy \(\backslash\)""} << dc.\hyperlink{classns3_1_1DataCollector_a96b68e2cf2f1a1177b280e898fa7d169}{GetStrategyLabel} ()
110              << \textcolor{stringliteral}{"\(\backslash\)""} << std::endl;
111   scalarFile << \textcolor{stringliteral}{"attr measurement \(\backslash\)""} << dc.\hyperlink{classns3_1_1DataCollector_a9a1807ddc67f99a76709e9a4107887d7}{GetInputLabel} ()
112              << \textcolor{stringliteral}{"\(\backslash\)""} << std::endl;
113   scalarFile << \textcolor{stringliteral}{"attr description \(\backslash\)""} << dc.\hyperlink{classns3_1_1DataCollector_a64c22768dc317f616458608d9e1a6b4c}{GetDescription} ()
114              << \textcolor{stringliteral}{"\(\backslash\)""} << std::endl;
115 
116   \textcolor{keywordflow}{for} (MetadataList::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = dc.\hyperlink{classns3_1_1DataCollector_a46dcf81704797c44d7194e7f14b43452}{MetadataBegin} ();
117        \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != dc.\hyperlink{classns3_1_1DataCollector_a49eac13159763a8ef234677e76afc708}{MetadataEnd} (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
118       std::pair<std::string, std::string> blob = (*i);
119       scalarFile << \textcolor{stringliteral}{"attr \(\backslash\)""} << blob.first << \textcolor{stringliteral}{"\(\backslash\)" \(\backslash\)""} << blob.second << \textcolor{stringliteral}{"\(\backslash\)""}
120                  << std::endl;
121     \}
122 
123   scalarFile << std::endl;
124   \textcolor{keywordflow}{if} (\hyperlink{omnet-data-output_8cc_af747a0cbe4349a7cad54557b77696865}{isNumeric} (dc.\hyperlink{classns3_1_1DataCollector_a9a1807ddc67f99a76709e9a4107887d7}{GetInputLabel} ())) \{
125       scalarFile << \textcolor{stringliteral}{"scalar . measurement \(\backslash\)""} << dc.\hyperlink{classns3_1_1DataCollector_a9a1807ddc67f99a76709e9a4107887d7}{GetInputLabel} ()
126                  << \textcolor{stringliteral}{"\(\backslash\)""} << std::endl;
127     \}
128   \textcolor{keywordflow}{for} (MetadataList::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = dc.\hyperlink{classns3_1_1DataCollector_a46dcf81704797c44d7194e7f14b43452}{MetadataBegin} ();
129        \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != dc.\hyperlink{classns3_1_1DataCollector_a49eac13159763a8ef234677e76afc708}{MetadataEnd} (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
130       std::pair<std::string, std::string> blob = (*i);
131       \textcolor{keywordflow}{if} (\hyperlink{omnet-data-output_8cc_af747a0cbe4349a7cad54557b77696865}{isNumeric} (blob.second)) \{
132           scalarFile << \textcolor{stringliteral}{"scalar . \(\backslash\)""} << blob.first << \textcolor{stringliteral}{"\(\backslash\)" \(\backslash\)""} << blob.second << \textcolor{stringliteral}{"\(\backslash\)""}
133                      << std::endl;
134         \}
135     \}
136   OmnetOutputCallback callback (&scalarFile);
137 
138   \textcolor{keywordflow}{for} (DataCalculatorList::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = dc.\hyperlink{classns3_1_1DataCollector_a22716600bb9685d1da74ddef53355e6f}{DataCalculatorBegin} ();
139        \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != dc.\hyperlink{classns3_1_1DataCollector_a26e656c86a375228ae49645c387ad201}{DataCalculatorEnd} (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++) \{
140       (*i)->Output (callback);
141     \}
142 
143   scalarFile << std::endl << std::endl;
144   scalarFile.close ();
145 
146   \textcolor{comment}{// end OmnetDataOutput::Output}
147 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
stats/model/\hyperlink{omnet-data-output_8h}{omnet-\/data-\/output.\+h}\item 
stats/model/\hyperlink{omnet-data-output_8cc}{omnet-\/data-\/output.\+cc}\end{DoxyCompactItemize}
