\hypertarget{classns3_1_1PhyTxStatsCalculator}{}\section{ns3\+:\+:Phy\+Tx\+Stats\+Calculator Class Reference}
\label{classns3_1_1PhyTxStatsCalculator}\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}


{\ttfamily \#include $<$phy-\/tx-\/stats-\/calculator.\+h$>$}



Inheritance diagram for ns3\+:\+:Phy\+Tx\+Stats\+Calculator\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Phy\+Tx\+Stats\+Calculator\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1PhyTxStatsCalculator_a5b30c7e012243ab3d30c3371c5bf8a8a}{Phy\+Tx\+Stats\+Calculator} ()
\item 
virtual \hyperlink{classns3_1_1PhyTxStatsCalculator_a2307ed89276721c0fc7c56595ebfd395}{$\sim$\+Phy\+Tx\+Stats\+Calculator} ()
\item 
void \hyperlink{classns3_1_1PhyTxStatsCalculator_a36b157a434ff7095504015595e24e80f}{Set\+Ul\+Tx\+Output\+Filename} (std\+::string output\+Filename)
\item 
std\+::string \hyperlink{classns3_1_1PhyTxStatsCalculator_aeb929250f3932735ed8d7617f827cccc}{Get\+Ul\+Tx\+Output\+Filename} (void)
\item 
void \hyperlink{classns3_1_1PhyTxStatsCalculator_a228593b9aab8e7ddc3b20f16a12cdc88}{Set\+Dl\+Tx\+Output\+Filename} (std\+::string output\+Filename)
\item 
std\+::string \hyperlink{classns3_1_1PhyTxStatsCalculator_ae0526cc38231c19c53cb3ca6141aa99d}{Get\+Dl\+Tx\+Output\+Filename} (void)
\item 
void \hyperlink{classns3_1_1PhyTxStatsCalculator_a8790d9b7bd878ba60471f56e0c892471}{Dl\+Phy\+Transmission} (\hyperlink{structns3_1_1PhyTransmissionStatParameters}{Phy\+Transmission\+Stat\+Parameters} params)
\item 
void \hyperlink{classns3_1_1PhyTxStatsCalculator_ac62f36c43267be17739ea60d4a21f24c}{Ul\+Phy\+Transmission} (\hyperlink{structns3_1_1PhyTransmissionStatParameters}{Phy\+Transmission\+Stat\+Parameters} params)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1PhyTxStatsCalculator_a0e75ea7914acf2fa842860f02523fab1}{Get\+Type\+Id} (void)
\item 
static void \hyperlink{classns3_1_1PhyTxStatsCalculator_a47ca61609fac1d4b1d4a448e4abd0112}{Dl\+Phy\+Transmission\+Callback} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1PhyTxStatsCalculator}{Phy\+Tx\+Stats\+Calculator} $>$ phy\+Tx\+Stats, std\+::string path, \hyperlink{structns3_1_1PhyTransmissionStatParameters}{Phy\+Transmission\+Stat\+Parameters} params)
\item 
static void \hyperlink{classns3_1_1PhyTxStatsCalculator_aef569e43f00277d362b150e78e6828ae}{Ul\+Phy\+Transmission\+Callback} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1PhyTxStatsCalculator}{Phy\+Tx\+Stats\+Calculator} $>$ phy\+Tx\+Stats, std\+::string path, \hyperlink{structns3_1_1PhyTransmissionStatParameters}{Phy\+Transmission\+Stat\+Parameters} params)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classns3_1_1PhyTxStatsCalculator_a40a7d5c881ec2afa20a757bb9531fdea}{m\+\_\+dl\+Tx\+First\+Write}
\item 
bool \hyperlink{classns3_1_1PhyTxStatsCalculator_a1328443e41261755f0d22cdeef281ef5}{m\+\_\+ul\+Tx\+First\+Write}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Takes care of storing the information generated at P\+HY layer regarding transmission. Metrics saved are\+:


\begin{DoxyItemize}
\item Timestamp (in seconds)
\item Frame index
\item Subframe index
\item C-\/\+R\+N\+TI
\item M\+CS for transport block 1
\item Size of transport block 1
\item M\+CS for transport block 2 (0 if not used)
\item Size of transport block 2 (0 if not used) 
\end{DoxyItemize}

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!Phy\+Tx\+Stats\+Calculator@{Phy\+Tx\+Stats\+Calculator}}
\index{Phy\+Tx\+Stats\+Calculator@{Phy\+Tx\+Stats\+Calculator}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Phy\+Tx\+Stats\+Calculator()}{PhyTxStatsCalculator()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::\+Phy\+Tx\+Stats\+Calculator (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyTxStatsCalculator_a5b30c7e012243ab3d30c3371c5bf8a8a}{}\label{classns3_1_1PhyTxStatsCalculator_a5b30c7e012243ab3d30c3371c5bf8a8a}
Constructor 
\begin{DoxyCode}
35   : \hyperlink{classns3_1_1PhyTxStatsCalculator_a40a7d5c881ec2afa20a757bb9531fdea}{m\_dlTxFirstWrite} (\textcolor{keyword}{true}),
36     \hyperlink{classns3_1_1PhyTxStatsCalculator_a1328443e41261755f0d22cdeef281ef5}{m\_ulTxFirstWrite} (\textcolor{keyword}{true})
37 \{
38   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
39 
40 \}
\end{DoxyCode}
\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!````~Phy\+Tx\+Stats\+Calculator@{$\sim$\+Phy\+Tx\+Stats\+Calculator}}
\index{````~Phy\+Tx\+Stats\+Calculator@{$\sim$\+Phy\+Tx\+Stats\+Calculator}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{$\sim$\+Phy\+Tx\+Stats\+Calculator()}{~PhyTxStatsCalculator()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::$\sim$\+Phy\+Tx\+Stats\+Calculator (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1PhyTxStatsCalculator_a2307ed89276721c0fc7c56595ebfd395}{}\label{classns3_1_1PhyTxStatsCalculator_a2307ed89276721c0fc7c56595ebfd395}
Destructor 
\begin{DoxyCode}
43 \{
44   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
45 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!Dl\+Phy\+Transmission@{Dl\+Phy\+Transmission}}
\index{Dl\+Phy\+Transmission@{Dl\+Phy\+Transmission}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Dl\+Phy\+Transmission(\+Phy\+Transmission\+Stat\+Parameters params)}{DlPhyTransmission(PhyTransmissionStatParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::\+Dl\+Phy\+Transmission (
\begin{DoxyParamCaption}
\item[{{\bf Phy\+Transmission\+Stat\+Parameters}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyTxStatsCalculator_a8790d9b7bd878ba60471f56e0c892471}{}\label{classns3_1_1PhyTxStatsCalculator_a8790d9b7bd878ba60471f56e0c892471}
Notifies the stats calculator that an downlink trasmission has occurred. 
\begin{DoxyParams}{Parameters}
{\em params} & Trace information regarding P\+HY transmission stats \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
94 \{
95   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << params.m\_cellId << params.m\_imsi << params.m\_timestamp << params.
      m\_rnti << params.m\_layer << params.m\_mcs << params.m\_size << params.m\_rv << params.m\_ndi);
96   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Write DL Tx Phy Stats in "} << \hyperlink{classns3_1_1PhyTxStatsCalculator_ae0526cc38231c19c53cb3ca6141aa99d}{GetDlTxOutputFilename} ().
      c\_str ());
97 
98   std::ofstream outFile;
99   \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1PhyTxStatsCalculator_a40a7d5c881ec2afa20a757bb9531fdea}{m\_dlTxFirstWrite} == \textcolor{keyword}{true} )
100     \{
101       outFile.open (\hyperlink{classns3_1_1LteStatsCalculator_a022c578ee2e9eca77969f2f63e71bcc9}{GetDlOutputFilename} ().c\_str ());
102       \textcolor{keywordflow}{if} (!outFile.is\_open ())
103         \{
104           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Can't open file "} << \hyperlink{classns3_1_1PhyTxStatsCalculator_ae0526cc38231c19c53cb3ca6141aa99d}{GetDlTxOutputFilename} ().
      c\_str ());
105           \textcolor{keywordflow}{return};
106         \}
107       \hyperlink{classns3_1_1PhyTxStatsCalculator_a40a7d5c881ec2afa20a757bb9531fdea}{m\_dlTxFirstWrite} = \textcolor{keyword}{false};
108       \textcolor{comment}{//outFile << "% time\(\backslash\)tcellId\(\backslash\)tIMSI\(\backslash\)tRNTI\(\backslash\)tlayer\(\backslash\)tmcs\(\backslash\)tsize\(\backslash\)trv\(\backslash\)tndi"; // txMode is not available at
       dl tx side}
109       outFile << \textcolor{stringliteral}{"% time\(\backslash\)tcellId\(\backslash\)tIMSI\(\backslash\)tRNTI\(\backslash\)tlayer\(\backslash\)tmcs\(\backslash\)tsize\(\backslash\)trv\(\backslash\)tndi"};
110       outFile << std::endl;
111     \}
112   \textcolor{keywordflow}{else}
113     \{
114       outFile.open (\hyperlink{classns3_1_1PhyTxStatsCalculator_ae0526cc38231c19c53cb3ca6141aa99d}{GetDlTxOutputFilename} ().c\_str (),  std::ios\_base::app);
115       \textcolor{keywordflow}{if} (!outFile.is\_open ())
116         \{
117           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Can't open file "} << \hyperlink{classns3_1_1PhyTxStatsCalculator_ae0526cc38231c19c53cb3ca6141aa99d}{GetDlTxOutputFilename} ().
      c\_str ());
118           \textcolor{keywordflow}{return};
119         \}
120     \}
121 
122 \textcolor{comment}{//   outFile << Simulator::Now ().GetNanoSeconds () / (double) 1e9 << "\(\backslash\)t";}
123   outFile << params.m\_timestamp << \textcolor{stringliteral}{"\(\backslash\)t"};
124   outFile << (uint32\_t) params.m\_cellId << \textcolor{stringliteral}{"\(\backslash\)t"};
125   outFile << params.m\_imsi << \textcolor{stringliteral}{"\(\backslash\)t"};
126   outFile << params.m\_rnti << \textcolor{stringliteral}{"\(\backslash\)t"};
127   \textcolor{comment}{//outFile << (uint32\_t) params.m\_txMode << "\(\backslash\)t"; // txMode is not available at dl tx side}
128   outFile << (uint32\_t) params.m\_layer << \textcolor{stringliteral}{"\(\backslash\)t"};
129   outFile << (uint32\_t) params.m\_mcs << \textcolor{stringliteral}{"\(\backslash\)t"};
130   outFile << params.m\_size << \textcolor{stringliteral}{"\(\backslash\)t"};
131   outFile << (uint32\_t) params.m\_rv << \textcolor{stringliteral}{"\(\backslash\)t"};
132   outFile << (uint32\_t) params.m\_ndi << std::endl;
133   outFile.close ();
134 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!Dl\+Phy\+Transmission\+Callback@{Dl\+Phy\+Transmission\+Callback}}
\index{Dl\+Phy\+Transmission\+Callback@{Dl\+Phy\+Transmission\+Callback}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Dl\+Phy\+Transmission\+Callback(\+Ptr$<$ Phy\+Tx\+Stats\+Calculator $>$ phy\+Tx\+Stats, std\+::string path, Phy\+Transmission\+Stat\+Parameters params)}{DlPhyTransmissionCallback(Ptr< PhyTxStatsCalculator > phyTxStats, std::string path, PhyTransmissionStatParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::\+Dl\+Phy\+Transmission\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Phy\+Tx\+Stats\+Calculator} $>$}]{phy\+Tx\+Stats, }
\item[{std\+::string}]{path, }
\item[{{\bf Phy\+Transmission\+Stat\+Parameters}}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1PhyTxStatsCalculator_a47ca61609fac1d4b1d4a448e4abd0112}{}\label{classns3_1_1PhyTxStatsCalculator_a47ca61609fac1d4b1d4a448e4abd0112}
trace sink


\begin{DoxyParams}{Parameters}
{\em phy\+Tx\+Stats} & \\
\hline
{\em path} & \\
\hline
{\em params} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
183 \{
184   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (phyTxStats << path);
185   uint64\_t imsi = 0;
186   std::ostringstream pathAndRnti;
187   pathAndRnti << path << \textcolor{stringliteral}{"/"} << params.m\_rnti;
188   \textcolor{keywordflow}{if} (phyTxStats->ExistsImsiPath (pathAndRnti.str ()) == \textcolor{keyword}{true})
189     \{
190       imsi = phyTxStats->GetImsiPath (pathAndRnti.str ());
191     \}
192   \textcolor{keywordflow}{else}
193     \{
194       imsi = \hyperlink{classns3_1_1LteStatsCalculator_af6ffb642f9ef86076a53331e7aefdcb0}{FindImsiForEnb} (path, params.m\_rnti);
195       phyTxStats->SetImsiPath (pathAndRnti.str (), imsi);
196     \}
197 
198   params.m\_imsi = imsi;
199   phyTxStats->DlPhyTransmission (params);
200 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!Get\+Dl\+Tx\+Output\+Filename@{Get\+Dl\+Tx\+Output\+Filename}}
\index{Get\+Dl\+Tx\+Output\+Filename@{Get\+Dl\+Tx\+Output\+Filename}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Get\+Dl\+Tx\+Output\+Filename(void)}{GetDlTxOutputFilename(void)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::\+Get\+Dl\+Tx\+Output\+Filename (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyTxStatsCalculator_ae0526cc38231c19c53cb3ca6141aa99d}{}\label{classns3_1_1PhyTxStatsCalculator_ae0526cc38231c19c53cb3ca6141aa99d}
Get the name of the file where the DL TX P\+HY statistics will be stored. \begin{DoxyReturn}{Returns}
the name of the file where the DL TX P\+HY statistics will be stored 
\end{DoxyReturn}

\begin{DoxyCode}
88 \{
89   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteStatsCalculator_a022c578ee2e9eca77969f2f63e71bcc9}{LteStatsCalculator::GetDlOutputFilename} ();
90 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1PhyTxStatsCalculator_a0e75ea7914acf2fa842860f02523fab1}{}\label{classns3_1_1PhyTxStatsCalculator_a0e75ea7914acf2fa842860f02523fab1}
Register this type. \begin{DoxyReturn}{Returns}
The object \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
49 \{
50   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::PhyTxStatsCalculator"})
51     .SetParent<\hyperlink{classns3_1_1LteStatsCalculator_a4d74204c35bb226063fb38662072b272}{LteStatsCalculator}> ()
52     .SetGroupName(\textcolor{stringliteral}{"Lte"})
53     .AddConstructor<\hyperlink{classns3_1_1PhyTxStatsCalculator_a5b30c7e012243ab3d30c3371c5bf8a8a}{PhyTxStatsCalculator}> ()
54     .AddAttribute (\textcolor{stringliteral}{"DlTxOutputFilename"},
55                    \textcolor{stringliteral}{"Name of the file where the downlink results will be saved."},
56                    StringValue (\textcolor{stringliteral}{"DlTxPhyStats.txt"}),
57                    MakeStringAccessor (&
      \hyperlink{classns3_1_1PhyTxStatsCalculator_a228593b9aab8e7ddc3b20f16a12cdc88}{PhyTxStatsCalculator::SetDlTxOutputFilename}),
58                    MakeStringChecker ())
59     .AddAttribute (\textcolor{stringliteral}{"UlTxOutputFilename"},
60                    \textcolor{stringliteral}{"Name of the file where the uplink results will be saved."},
61                    StringValue (\textcolor{stringliteral}{"UlTxPhyStats.txt"}),
62                    MakeStringAccessor (&
      \hyperlink{classns3_1_1PhyTxStatsCalculator_a36b157a434ff7095504015595e24e80f}{PhyTxStatsCalculator::SetUlTxOutputFilename}),
63                    MakeStringChecker ())
64   ;
65   \textcolor{keywordflow}{return} tid;
66 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!Get\+Ul\+Tx\+Output\+Filename@{Get\+Ul\+Tx\+Output\+Filename}}
\index{Get\+Ul\+Tx\+Output\+Filename@{Get\+Ul\+Tx\+Output\+Filename}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Get\+Ul\+Tx\+Output\+Filename(void)}{GetUlTxOutputFilename(void)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::\+Get\+Ul\+Tx\+Output\+Filename (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyTxStatsCalculator_aeb929250f3932735ed8d7617f827cccc}{}\label{classns3_1_1PhyTxStatsCalculator_aeb929250f3932735ed8d7617f827cccc}
Get the name of the file where the UL RX P\+HY statistics will be stored. \begin{DoxyReturn}{Returns}
the name of the file where the UL RX P\+HY statistics will be stored 
\end{DoxyReturn}

\begin{DoxyCode}
76 \{
77   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LteStatsCalculator_a8091b8aee336d1c4745de3e422b46e40}{LteStatsCalculator::GetUlOutputFilename} ();
78 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!Set\+Dl\+Tx\+Output\+Filename@{Set\+Dl\+Tx\+Output\+Filename}}
\index{Set\+Dl\+Tx\+Output\+Filename@{Set\+Dl\+Tx\+Output\+Filename}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Set\+Dl\+Tx\+Output\+Filename(std\+::string output\+Filename)}{SetDlTxOutputFilename(std::string outputFilename)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::\+Set\+Dl\+Tx\+Output\+Filename (
\begin{DoxyParamCaption}
\item[{std\+::string}]{output\+Filename}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyTxStatsCalculator_a228593b9aab8e7ddc3b20f16a12cdc88}{}\label{classns3_1_1PhyTxStatsCalculator_a228593b9aab8e7ddc3b20f16a12cdc88}
Set the name of the file where the DL TX P\+HY statistics will be stored.


\begin{DoxyParams}{Parameters}
{\em output\+Filename} & string with the name of the file \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
82 \{
83   \hyperlink{classns3_1_1LteStatsCalculator_a1cd704e00a2384ef49fa74a7d29f91c1}{LteStatsCalculator::SetDlOutputFilename} (outputFilename);
84 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!Set\+Ul\+Tx\+Output\+Filename@{Set\+Ul\+Tx\+Output\+Filename}}
\index{Set\+Ul\+Tx\+Output\+Filename@{Set\+Ul\+Tx\+Output\+Filename}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Set\+Ul\+Tx\+Output\+Filename(std\+::string output\+Filename)}{SetUlTxOutputFilename(std::string outputFilename)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::\+Set\+Ul\+Tx\+Output\+Filename (
\begin{DoxyParamCaption}
\item[{std\+::string}]{output\+Filename}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyTxStatsCalculator_a36b157a434ff7095504015595e24e80f}{}\label{classns3_1_1PhyTxStatsCalculator_a36b157a434ff7095504015595e24e80f}
Set the name of the file where the UL Tx P\+HY statistics will be stored.


\begin{DoxyParams}{Parameters}
{\em output\+Filename} & string with the name of the file \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
70 \{
71   \hyperlink{classns3_1_1LteStatsCalculator_a47ced91f91ab7550e347ee1a933ca998}{LteStatsCalculator::SetUlOutputFilename} (outputFilename);
72 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12




Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!Ul\+Phy\+Transmission@{Ul\+Phy\+Transmission}}
\index{Ul\+Phy\+Transmission@{Ul\+Phy\+Transmission}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Ul\+Phy\+Transmission(\+Phy\+Transmission\+Stat\+Parameters params)}{UlPhyTransmission(PhyTransmissionStatParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::\+Ul\+Phy\+Transmission (
\begin{DoxyParamCaption}
\item[{{\bf Phy\+Transmission\+Stat\+Parameters}}]{params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PhyTxStatsCalculator_ac62f36c43267be17739ea60d4a21f24c}{}\label{classns3_1_1PhyTxStatsCalculator_ac62f36c43267be17739ea60d4a21f24c}
Notifies the stats calculator that an uplink trasmission has occurred. 
\begin{DoxyParams}{Parameters}
{\em params} & Trace information regarding P\+HY transmission stats \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
138 \{
139   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << params.m\_cellId << params.m\_imsi << params.m\_timestamp << params.
      m\_rnti << params.m\_layer << params.m\_mcs << params.m\_size << params.m\_rv << params.m\_ndi);
140   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Write UL Tx Phy Stats in "} << \hyperlink{classns3_1_1PhyTxStatsCalculator_aeb929250f3932735ed8d7617f827cccc}{GetUlTxOutputFilename} ().
      c\_str ());
141 
142   std::ofstream outFile;
143   \textcolor{keywordflow}{if} ( \hyperlink{classns3_1_1PhyTxStatsCalculator_a1328443e41261755f0d22cdeef281ef5}{m\_ulTxFirstWrite} == \textcolor{keyword}{true} )
144     \{
145       outFile.open (\hyperlink{classns3_1_1PhyTxStatsCalculator_aeb929250f3932735ed8d7617f827cccc}{GetUlTxOutputFilename} ().c\_str ());
146       \textcolor{keywordflow}{if} (!outFile.is\_open ())
147         \{
148           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Can't open file "} << \hyperlink{classns3_1_1PhyTxStatsCalculator_aeb929250f3932735ed8d7617f827cccc}{GetUlTxOutputFilename} ().
      c\_str ());
149           \textcolor{keywordflow}{return};
150         \}
151       \hyperlink{classns3_1_1PhyTxStatsCalculator_a1328443e41261755f0d22cdeef281ef5}{m\_ulTxFirstWrite} = \textcolor{keyword}{false};
152 \textcolor{comment}{//       outFile << "% time\(\backslash\)tcellId\(\backslash\)tIMSI\(\backslash\)tRNTI\(\backslash\)ttxMode\(\backslash\)tlayer\(\backslash\)tmcs\(\backslash\)tsize\(\backslash\)trv\(\backslash\)tndi";}
153       outFile << \textcolor{stringliteral}{"% time\(\backslash\)tcellId\(\backslash\)tIMSI\(\backslash\)tRNTI\(\backslash\)tlayer\(\backslash\)tmcs\(\backslash\)tsize\(\backslash\)trv\(\backslash\)tndi"};
154       outFile << std::endl;
155     \}
156   \textcolor{keywordflow}{else}
157     \{
158       outFile.open (\hyperlink{classns3_1_1PhyTxStatsCalculator_aeb929250f3932735ed8d7617f827cccc}{GetUlTxOutputFilename} ().c\_str (),  std::ios\_base::app);
159       \textcolor{keywordflow}{if} (!outFile.is\_open ())
160         \{
161           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"Can't open file "} << \hyperlink{classns3_1_1PhyTxStatsCalculator_aeb929250f3932735ed8d7617f827cccc}{GetUlTxOutputFilename} ().
      c\_str ());
162           \textcolor{keywordflow}{return};
163         \}
164     \}
165 
166 \textcolor{comment}{//   outFile << Simulator::Now ().GetNanoSeconds () / (double) 1e9 << "\(\backslash\)t";}
167   outFile << params.m\_timestamp << \textcolor{stringliteral}{"\(\backslash\)t"};
168   outFile << (uint32\_t) params.m\_cellId << \textcolor{stringliteral}{"\(\backslash\)t"};
169   outFile << params.m\_imsi << \textcolor{stringliteral}{"\(\backslash\)t"};
170   outFile << params.m\_rnti << \textcolor{stringliteral}{"\(\backslash\)t"};
171   \textcolor{comment}{//outFile << (uint32\_t) params.m\_txMode << "\(\backslash\)t";}
172   outFile << (uint32\_t) params.m\_layer << \textcolor{stringliteral}{"\(\backslash\)t"};
173   outFile << (uint32\_t) params.m\_mcs << \textcolor{stringliteral}{"\(\backslash\)t"};
174   outFile << params.m\_size << \textcolor{stringliteral}{"\(\backslash\)t"};
175   outFile << (uint32\_t) params.m\_rv << \textcolor{stringliteral}{"\(\backslash\)t"};
176   outFile << (uint32\_t) params.m\_ndi << std::endl;
177   outFile.close ();
178 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14


\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!Ul\+Phy\+Transmission\+Callback@{Ul\+Phy\+Transmission\+Callback}}
\index{Ul\+Phy\+Transmission\+Callback@{Ul\+Phy\+Transmission\+Callback}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{Ul\+Phy\+Transmission\+Callback(\+Ptr$<$ Phy\+Tx\+Stats\+Calculator $>$ phy\+Tx\+Stats, std\+::string path, Phy\+Transmission\+Stat\+Parameters params)}{UlPhyTransmissionCallback(Ptr< PhyTxStatsCalculator > phyTxStats, std::string path, PhyTransmissionStatParameters params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::\+Ul\+Phy\+Transmission\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Phy\+Tx\+Stats\+Calculator} $>$}]{phy\+Tx\+Stats, }
\item[{std\+::string}]{path, }
\item[{{\bf Phy\+Transmission\+Stat\+Parameters}}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1PhyTxStatsCalculator_aef569e43f00277d362b150e78e6828ae}{}\label{classns3_1_1PhyTxStatsCalculator_aef569e43f00277d362b150e78e6828ae}
trace sink


\begin{DoxyParams}{Parameters}
{\em phy\+Tx\+Stats} & \\
\hline
{\em path} & \\
\hline
{\em params} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
205 \{
206   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (phyTxStats << path);
207   uint64\_t imsi = 0;
208   std::ostringstream pathAndRnti;
209   pathAndRnti << path << \textcolor{stringliteral}{"/"} << params.m\_rnti;
210   \textcolor{keywordflow}{if} (phyTxStats->ExistsImsiPath (pathAndRnti.str ()) == \textcolor{keyword}{true})
211     \{
212       imsi = phyTxStats->GetImsiPath (pathAndRnti.str ());
213     \}
214   \textcolor{keywordflow}{else}
215     \{
216       imsi = \hyperlink{classns3_1_1LteStatsCalculator_a1f46711b06f346117df8f77bcd4483a4}{FindImsiForUe} (path, params.m\_rnti);
217       phyTxStats->SetImsiPath (pathAndRnti.str (), imsi);
218     \}
219 
220   params.m\_imsi = imsi;
221   phyTxStats->UlPhyTransmission (params);
222 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16




\subsection{Member Data Documentation}
\index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!m\+\_\+dl\+Tx\+First\+Write@{m\+\_\+dl\+Tx\+First\+Write}}
\index{m\+\_\+dl\+Tx\+First\+Write@{m\+\_\+dl\+Tx\+First\+Write}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Tx\+First\+Write}{m_dlTxFirstWrite}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::m\+\_\+dl\+Tx\+First\+Write\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PhyTxStatsCalculator_a40a7d5c881ec2afa20a757bb9531fdea}{}\label{classns3_1_1PhyTxStatsCalculator_a40a7d5c881ec2afa20a757bb9531fdea}
When writing DL TX P\+HY statistics first time to file, columns description is added. Then next lines are appended to file. This value is true if output files have not been opened yet \index{ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}!m\+\_\+ul\+Tx\+First\+Write@{m\+\_\+ul\+Tx\+First\+Write}}
\index{m\+\_\+ul\+Tx\+First\+Write@{m\+\_\+ul\+Tx\+First\+Write}!ns3\+::\+Phy\+Tx\+Stats\+Calculator@{ns3\+::\+Phy\+Tx\+Stats\+Calculator}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Tx\+First\+Write}{m_ulTxFirstWrite}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Phy\+Tx\+Stats\+Calculator\+::m\+\_\+ul\+Tx\+First\+Write\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PhyTxStatsCalculator_a1328443e41261755f0d22cdeef281ef5}{}\label{classns3_1_1PhyTxStatsCalculator_a1328443e41261755f0d22cdeef281ef5}
When writing UL TX P\+HY statistics first time to file, columns description is added. Then next lines are appended to file. This value is true if output files have not been opened yet 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/helper/\hyperlink{phy-tx-stats-calculator_8h}{phy-\/tx-\/stats-\/calculator.\+h}\item 
lte/helper/\hyperlink{phy-tx-stats-calculator_8cc}{phy-\/tx-\/stats-\/calculator.\+cc}\end{DoxyCompactItemize}
