\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol}{}\section{ns3\+:\+:dot11s\+:\+:Peer\+Management\+Protocol Class Reference}
\label{classns3_1_1dot11s_1_1PeerManagementProtocol}\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}


802.\+11s Peer Management Protocol model  




{\ttfamily \#include $<$peer-\/management-\/protocol.\+h$>$}



Inheritance diagram for ns3\+:\+:dot11s\+:\+:Peer\+Management\+Protocol\+:
% FIG 0


Collaboration diagram for ns3\+:\+:dot11s\+:\+:Peer\+Management\+Protocol\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1BeaconInfo}{Beacon\+Info}
\begin{DoxyCompactList}\small\item\em Keeps information about beacon of peer station\+: beacon interval, association ID, last time we have received a beacon. \end{DoxyCompactList}\item 
struct \hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics}{Statistics}
\begin{DoxyCompactList}\small\item\em \hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics}{Statistics} structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a30cfc4c8952a7313c342baee1a05668c}{Link\+Open\+Close\+Traced\+Callback}) (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} src, const \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} dst)
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a0e568f7724fb71e5dc4aa88eca7f19e1}{Peer\+Management\+Protocol} ()
\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_af2b9b0048b7523f40a655d61c70dfb77}{$\sim$\+Peer\+Management\+Protocol} ()
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a89bc555099bee27f8218c6bc85aee2cf}{Do\+Dispose} ()
\item 
bool \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_af2c766d0bee3af07418f1c631e8c1b29}{Install} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MeshPointDevice}{Mesh\+Point\+Device} $>$)
\begin{DoxyCompactList}\small\item\em Install P\+MP on given mesh point. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a8b70dcd73b4823cea25ed325e3d92704}{Report} (std\+::ostream \&os) const 
\begin{DoxyCompactList}\small\item\em \+: Report statistics \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ae0ae15ba62d76e5effb25e15b135a689}{Reset\+Stats} ()
\begin{DoxyCompactList}\small\item\em Reset statistics function. \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a906718c4d7bca1b6e0936ba10356ce02}{Assign\+Streams} (int64\+\_\+t stream)
\end{DoxyCompactItemize}
\begin{Indent}{\bf This methods interact with M\+A\+C\+\_\+layer plug-\/in}\par
{\em Methods that handle beacon sending/receiving procedure. }\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1IeBeaconTiming}{Ie\+Beacon\+Timing} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac5ed85738276098fce86bfb5b0dd9fe1}{Get\+Beacon\+Timing\+Element} (uint32\+\_\+t interface)
\begin{DoxyCompactList}\small\item\em When we are sending a beacon -\/ we fill beacon timing element. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a536fcf8973c4e3e515f984ee8af18f7e}{Receive\+Beacon} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address, \hyperlink{classns3_1_1Time}{Time} beacon\+Interval, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1IeBeaconTiming}{Ie\+Beacon\+Timing} $>$ beacon\+Timing)
\begin{DoxyCompactList}\small\item\em To initiate peer link we must notify about received beacon. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
{\bf }\par
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a04fecd800dd1587dc671735f5c9f2111}{Receive\+Peer\+Link\+Frame} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Mesh\+Point\+Address, uint16\+\_\+t aid, \hyperlink{classns3_1_1dot11s_1_1IePeerManagement}{Ie\+Peer\+Management} peer\+Management\+Element, \hyperlink{classns3_1_1dot11s_1_1IeConfiguration}{Ie\+Configuration} mesh\+Config)
\begin{DoxyCompactList}\small\item\em Methods that handle Peer link management frames interaction\+: \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9c63315d82799e7157f452f5dcd77397}{Configuration\+Mismatch} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address)
\begin{DoxyCompactList}\small\item\em Cancels peer link due to broken configuration (Mesh ID or Supported rates) \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a2326130b236a064d21d9f481d499aae3}{Transmission\+Failure} (uint32\+\_\+t interface, const \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address)
\begin{DoxyCompactList}\small\item\em Cancels peer link due to successive transmission failures. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3b08552bc0445a91a167f4802fde707a}{Transmission\+Success} (uint32\+\_\+t interface, const \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address)
\begin{DoxyCompactList}\small\item\em resets transmission failure statistics \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ab563cf95c14a68e9aa1862c5886aceb2}{Is\+Active\+Link} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address)
\begin{DoxyCompactList}\small\item\em Checks if there is established link. \end{DoxyCompactList}\end{DoxyCompactItemize}

\begin{Indent}{\bf Interface to other protocols (M\+L\+ME)}\par
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a7e5317759305cc7a42e033daa4e4a1a0}{Set\+Peer\+Link\+Status\+Callback} (\hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}, uint32\+\_\+t, bool $>$ cb)
\begin{DoxyCompactList}\small\item\em Set peer link status change callback. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1PeerLink}{Peer\+Link} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}{Find\+Peer\+Link} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address)
\begin{DoxyCompactList}\small\item\em Find active peer link by my interface and peer interface M\+AC. \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1PeerLink}{Peer\+Link} $>$ $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a7a9c6cd647f59238efdfd8f7cf38d534}{Get\+Peer\+Links} () const 
\begin{DoxyCompactList}\small\item\em Get list of all active peer links. \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a65e346f4553909eb3f0bf7f44d4befb8}{Get\+Peers} (uint32\+\_\+t interface) const 
\begin{DoxyCompactList}\small\item\em Get list of active peers of my given interface. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ad3f24d945eaeec61d5a76598bf655484}{Get\+Address} ()
\item 
uint8\+\_\+t \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9d88828b5e26f43179f522e801dafb62}{Get\+Number\+Of\+Links} ()
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a145a10e70c88c5c6c15bbf0e749dc398}{Set\+Mesh\+Id} (std\+::string \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1IeMeshId}{Ie\+Mesh\+Id} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a8d7b44ed2289329a669cb5234bb0fb30}{Get\+Mesh\+Id} () const 
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_af7f617cc0deff9bd8e97ed4c3a77eeba}{Set\+Beacon\+Collision\+Avoidance} (bool enable)
\item 
bool \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac97f472fcc281fb856f8434555cab024}{Get\+Beacon\+Collision\+Avoidance} () const 
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a92bdb582f3c57ccf14d156947350ea43}{Notify\+Beacon\+Sent} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Time}{Time} beacon\+Interval)
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a8341f80d9b79e21cf9cf6dbdd88db3e0}{Get\+Type\+Id} ()
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1PeerLink}{Peer\+Link} $>$ $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a97f867fbb15c916217ced3944d07e7a7}{Peer\+Links\+On\+Interface}
\item 
typedef std\+::map$<$ uint32\+\_\+t, \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a97f867fbb15c916217ced3944d07e7a7}{Peer\+Links\+On\+Interface} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a7ba0d500fa18d5db84f8795e005839a4}{Peer\+Links\+Map}
\begin{DoxyCompactList}\small\item\em This map keeps all peer links. \end{DoxyCompactList}\item 
typedef std\+::map$<$ \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}, \hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1BeaconInfo}{Beacon\+Info} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a0a15aa4827ac49dc6dfd2c808fdde1a0}{Beacons\+On\+Interface}
\begin{DoxyCompactList}\small\item\em This map keeps relationship between peer address and its beacon information. \end{DoxyCompactList}\item 
typedef std\+::map$<$ uint32\+\_\+t, \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a0a15aa4827ac49dc6dfd2c808fdde1a0}{Beacons\+On\+Interface} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a64ff032a1e847fb139322aca90d96d8f}{Beacon\+Info\+Map}
\begin{DoxyCompactList}\small\item\em This map keeps beacon information on all interfaces. \end{DoxyCompactList}\item 
typedef std\+::map$<$ uint32\+\_\+t, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocolMac}{Peer\+Management\+Protocol\+Mac} $>$ $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a2fa189c91fb5125db3221e109005260a}{Peer\+Management\+Protocol\+Mac\+Map}
\begin{DoxyCompactList}\small\item\em this vector keeps pointers to M\+A\+C-\/plugins \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aad5b740f39d118cebc0e9c4c25348b83}{Do\+Initialize} ()
\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol}{Peer\+Management\+Protocol} \& \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a2214b045b113e038c71c8a4f297585e0}{operator=} (const \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol}{Peer\+Management\+Protocol} \&)
\begin{DoxyCompactList}\small\item\em assignment operator \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a47dd2292c4e9c9cabe33d79b77f9f426}{Peer\+Management\+Protocol} (const \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol}{Peer\+Management\+Protocol} \&)
\begin{DoxyCompactList}\small\item\em type conversion operator \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1PeerLink}{Peer\+Link} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a74fcc9fa5c9ffc741f7d89f21a246813}{Initiate\+Link} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Mesh\+Point\+Address)
\begin{DoxyCompactList}\small\item\em Initiate link functon. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}{\bf External peer-\/chooser}\par
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_afb7efbd65edee4f9bbe42f0745fcc524}{Should\+Send\+Open} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address)
\item 
bool \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3ea350a079ca1643c7faa18c124de0d9}{Should\+Accept\+Open} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address, \hyperlink{group__dot11s_ga1132ec5975c87960ceb86ea54481aba6}{Pmp\+Reason\+Code} \&reason\+Code)
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_afffc33ac9aa647564a4449ba487a4cae}{Peer\+Link\+Status} (uint32\+\_\+t interface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Address, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Mesh\+Point\+Addres, \hyperlink{classns3_1_1dot11s_1_1PeerLink_a432024c7d584aebae1ee15aa88ffb06d}{Peer\+Link\+::\+Peer\+State} ostate, \hyperlink{classns3_1_1dot11s_1_1PeerLink_a432024c7d584aebae1ee15aa88ffb06d}{Peer\+Link\+::\+Peer\+State} nstate)
\begin{DoxyCompactList}\small\item\em Indicates changes in peer links. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_abe64c73c24a2981240b5f85fb87a5160}{Check\+Beacon\+Collisions} (uint32\+\_\+t interface)
\begin{DoxyCompactList}\small\item\em B\+CA. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9649a96c629c63b98c133fe258340aa9}{Shift\+Own\+Beacon} (uint32\+\_\+t interface)
\begin{DoxyCompactList}\small\item\em Shift own beacon function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Time$<$-\/-\/$>$TU converters\+:}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a2fa189c91fb5125db3221e109005260a}{Peer\+Management\+Protocol\+Mac\+Map} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\+\_\+plugins}
\begin{DoxyCompactList}\small\item\em plugins \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_abe566c402f630f4df83bdeb2e84a1343}{m\+\_\+address}
\begin{DoxyCompactList}\small\item\em addresss \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1dot11s_1_1IeMeshId}{Ie\+Mesh\+Id} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac69302a75abb04daf0dbf105451e0365}{m\+\_\+mesh\+Id}
\begin{DoxyCompactList}\small\item\em mesh ID \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a675ea75c871f2436886b62d22821ffef}{m\+\_\+last\+Assoc\+Id}
\begin{DoxyCompactList}\small\item\em last associated ID \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ae06ce79f95d75c8a89b3d74d98ff8ee8}{m\+\_\+last\+Local\+Link\+Id}
\begin{DoxyCompactList}\small\item\em last local link ID \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a1cc5292332f46a548fd3ac6c2bec373a}{m\+\_\+max\+Number\+Of\+Peer\+Links}
\item 
bool \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ae4cfbd2292a8d214ae8820fa6369763a}{m\+\_\+enable\+Bca}
\begin{DoxyCompactList}\small\item\em Flag which enables B\+CA. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a23968eb845fa63fe87f303d2e21e77f0}{m\+\_\+max\+Beacon\+Shift}
\begin{DoxyCompactList}\small\item\em Beacon can be shifted at \mbox{[}-\/m\+\_\+max\+Beacon\+Shift; +m\+\_\+max\+Beacon\+Shift\mbox{]} T\+Us. \end{DoxyCompactList}\item 
std\+::map$<$ uint32\+\_\+t, \hyperlink{classns3_1_1Time}{Time} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a8d3adf393b3f4d96d60285132b1004da}{m\+\_\+last\+Beacon}
\begin{DoxyCompactList}\small\item\em Last beacon at each interface. \end{DoxyCompactList}\item 
std\+::map$<$ uint32\+\_\+t, \hyperlink{classns3_1_1Time}{Time} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a915ce7d45ccdfa57b75bc300745974fa}{m\+\_\+beacon\+Interval}
\begin{DoxyCompactList}\small\item\em Beacon interval at each interface. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adcc7f057f6fa22012b3ee72cf57e2082}{Tu\+To\+Time} (int \hyperlink{lte__link__budget__x2__handover__measures_8m_a9336ebf25087d91c818ee6e9ec29f8c1}{x})
\item 
int \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a1e38bb4ee6161f0015dd60113a4a0acd}{Time\+To\+Tu} (\hyperlink{classns3_1_1Time}{Time} \hyperlink{lte__link__budget__x2__handover__measures_8m_a9336ebf25087d91c818ee6e9ec29f8c1}{x})
\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ae07e386558214bde98e6ea0b57f6ee79}{Notify\+Link\+Open} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Mp, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Iface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} my\+Iface, uint32\+\_\+t interface)
\begin{DoxyCompactList}\small\item\em Aux. method to register open links. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a5dd895b7a3d84a4727ef48e57a94c73d}{Notify\+Link\+Close} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Mp, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} peer\+Iface, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} my\+Iface, uint32\+\_\+t interface)
\begin{DoxyCompactList}\small\item\em Aux. method to register closed links. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Peer Links}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_abd87274ae9ac4498dbd5a8acfe7e9efa}{Link\+Event\+Callback}
\begin{DoxyCompactList}\small\item\em Simple link open/close trace source type. Addresses are\+: src interface, dst interface. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a7ba0d500fa18d5db84f8795e005839a4}{Peer\+Links\+Map} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\+\_\+peer\+Links}
\item 
\hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}, uint32\+\_\+t, bool $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a13e049e3ed8a3eb6adb1aab09c9aa88f}{m\+\_\+peer\+Status\+Callback}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Callback}{Callback} to notify about peer link changes\+: \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} is peer address of mesh point, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} is peer address of interface, uint32\+\_\+t -\/ interface ID, bool is status -\/ true when new link has appeared, false -\/ when link was closed,. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_abd87274ae9ac4498dbd5a8acfe7e9efa}{Link\+Event\+Callback} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a33560f4e34a457118de89f3ed3859d4e}{m\+\_\+link\+Open\+Trace\+Src}
\begin{DoxyCompactList}\small\item\em Link\+Open trace source. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_abd87274ae9ac4498dbd5a8acfe7e9efa}{Link\+Event\+Callback} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ab814d2f94277d15843a33433b31d82f8}{m\+\_\+link\+Close\+Trace\+Src}
\begin{DoxyCompactList}\small\item\em Link\+Close trace source. \end{DoxyCompactList}\item 
struct \hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics}{Statistics} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\+\_\+stats}
\begin{DoxyCompactList}\small\item\em statistics \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UniformRandomVariable}{Uniform\+Random\+Variable} $>$ \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa585248112e462ce3af050830715416b}{m\+\_\+beacon\+Shift}
\begin{DoxyCompactList}\small\item\em Add randomness to beacon shift. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
802.\+11s Peer Management Protocol model 

\subsection{Member Typedef Documentation}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Beacon\+Info\+Map@{Beacon\+Info\+Map}}
\index{Beacon\+Info\+Map@{Beacon\+Info\+Map}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Beacon\+Info\+Map}{BeaconInfoMap}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$uint32\+\_\+t, {\bf Beacons\+On\+Interface}$>$ {\bf ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Beacon\+Info\+Map}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a64ff032a1e847fb139322aca90d96d8f}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a64ff032a1e847fb139322aca90d96d8f}


This map keeps beacon information on all interfaces. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Beacons\+On\+Interface@{Beacons\+On\+Interface}}
\index{Beacons\+On\+Interface@{Beacons\+On\+Interface}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Beacons\+On\+Interface}{BeaconsOnInterface}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<${\bf Mac48\+Address}, {\bf Beacon\+Info}$>$ {\bf ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Beacons\+On\+Interface}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a0a15aa4827ac49dc6dfd2c808fdde1a0}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a0a15aa4827ac49dc6dfd2c808fdde1a0}


This map keeps relationship between peer address and its beacon information. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Link\+Event\+Callback@{Link\+Event\+Callback}}
\index{Link\+Event\+Callback@{Link\+Event\+Callback}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Link\+Event\+Callback}{LinkEventCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Traced\+Callback}$<${\bf Mac48\+Address}, {\bf Mac48\+Address}$>$ {\bf ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Link\+Event\+Callback}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_abd87274ae9ac4498dbd5a8acfe7e9efa}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_abd87274ae9ac4498dbd5a8acfe7e9efa}


Simple link open/close trace source type. Addresses are\+: src interface, dst interface. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Link\+Open\+Close\+Traced\+Callback@{Link\+Open\+Close\+Traced\+Callback}}
\index{Link\+Open\+Close\+Traced\+Callback@{Link\+Open\+Close\+Traced\+Callback}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Link\+Open\+Close\+Traced\+Callback}{LinkOpenCloseTracedCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$  ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Link\+Open\+Close\+Traced\+Callback) ({\bf Mac48\+Address} src, const {\bf Mac48\+Address} dst)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a30cfc4c8952a7313c342baee1a05668c}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a30cfc4c8952a7313c342baee1a05668c}
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} signature for link open/close events.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em src} & M\+AC address of source interface. \\
\hline
\mbox{\tt in}  & {\em dst} & M\+AC address of destination interface. \\
\hline
\end{DoxyParams}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Peer\+Links\+Map@{Peer\+Links\+Map}}
\index{Peer\+Links\+Map@{Peer\+Links\+Map}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Peer\+Links\+Map}{PeerLinksMap}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$uint32\+\_\+t, {\bf Peer\+Links\+On\+Interface}$>$ {\bf ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Peer\+Links\+Map}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a7ba0d500fa18d5db84f8795e005839a4}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a7ba0d500fa18d5db84f8795e005839a4}


This map keeps all peer links. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Peer\+Links\+On\+Interface@{Peer\+Links\+On\+Interface}}
\index{Peer\+Links\+On\+Interface@{Peer\+Links\+On\+Interface}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Peer\+Links\+On\+Interface}{PeerLinksOnInterface}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::vector$<${\bf Ptr}$<${\bf Peer\+Link}$>$ $>$ {\bf ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Peer\+Links\+On\+Interface}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a97f867fbb15c916217ced3944d07e7a7}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a97f867fbb15c916217ced3944d07e7a7}
We keep a vector of pointers to \hyperlink{classns3_1_1dot11s_1_1PeerLink}{Peer\+Link} class. This vector keeps all peer links at a given interface. \index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Peer\+Management\+Protocol\+Mac\+Map@{Peer\+Management\+Protocol\+Mac\+Map}}
\index{Peer\+Management\+Protocol\+Mac\+Map@{Peer\+Management\+Protocol\+Mac\+Map}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Peer\+Management\+Protocol\+Mac\+Map}{PeerManagementProtocolMacMap}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$uint32\+\_\+t, {\bf Ptr}$<${\bf Peer\+Management\+Protocol\+Mac}$>$ $>$ {\bf ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Peer\+Management\+Protocol\+Mac\+Map}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a2fa189c91fb5125db3221e109005260a}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a2fa189c91fb5125db3221e109005260a}


this vector keeps pointers to M\+A\+C-\/plugins 



\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Peer\+Management\+Protocol@{Peer\+Management\+Protocol}}
\index{Peer\+Management\+Protocol@{Peer\+Management\+Protocol}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Peer\+Management\+Protocol()}{PeerManagementProtocol()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Peer\+Management\+Protocol (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a0e568f7724fb71e5dc4aa88eca7f19e1}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a0e568f7724fb71e5dc4aa88eca7f19e1}

\begin{DoxyCode}
91                                                 :
92   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a675ea75c871f2436886b62d22821ffef}{m\_lastAssocId} (0), \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ae06ce79f95d75c8a89b3d74d98ff8ee8}{m\_lastLocalLinkId} (1), 
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ae4cfbd2292a8d214ae8820fa6369763a}{m\_enableBca} (\textcolor{keyword}{true}), \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a23968eb845fa63fe87f303d2e21e77f0}{m\_maxBeaconShift} (15)
93 \{
94   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa585248112e462ce3af050830715416b}{m\_beaconShift} = CreateObject<UniformRandomVariable> ();
95 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!````~Peer\+Management\+Protocol@{$\sim$\+Peer\+Management\+Protocol}}
\index{````~Peer\+Management\+Protocol@{$\sim$\+Peer\+Management\+Protocol}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{$\sim$\+Peer\+Management\+Protocol()}{~PeerManagementProtocol()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::$\sim$\+Peer\+Management\+Protocol (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_af2b9b0048b7523f40a655d61c70dfb77}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_af2b9b0048b7523f40a655d61c70dfb77}

\begin{DoxyCode}
97 \{
98   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac69302a75abb04daf0dbf105451e0365}{m\_meshId} = 0;
99 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Peer\+Management\+Protocol@{Peer\+Management\+Protocol}}
\index{Peer\+Management\+Protocol@{Peer\+Management\+Protocol}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Peer\+Management\+Protocol(const Peer\+Management\+Protocol \&)}{PeerManagementProtocol(const PeerManagementProtocol &)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Peer\+Management\+Protocol (
\begin{DoxyParamCaption}
\item[{const {\bf Peer\+Management\+Protocol} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a47dd2292c4e9c9cabe33d79b77f9f426}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a47dd2292c4e9c9cabe33d79b77f9f426}


type conversion operator 



\subsection{Member Function Documentation}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Assign\+Streams@{Assign\+Streams}}
\index{Assign\+Streams@{Assign\+Streams}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Assign\+Streams(int64\+\_\+t stream)}{AssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a906718c4d7bca1b6e0936ba10356ce02}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a906718c4d7bca1b6e0936ba10356ce02}
Assign a fixed random variable stream number to the random variables used by this model. Return the number of streams (possibly zero) that have been assigned.


\begin{DoxyParams}{Parameters}
{\em stream} & first stream index to use \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of stream indices assigned by this model 
\end{DoxyReturn}

\begin{DoxyCode}
591 \{
592   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << stream);
593   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa585248112e462ce3af050830715416b}{m\_beaconShift}->\hyperlink{classns3_1_1RandomVariableStream_add11aaf975607746b7e271d300659a94}{SetStream} (stream);
594   \textcolor{keywordflow}{return} 1;
595 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Check\+Beacon\+Collisions@{Check\+Beacon\+Collisions}}
\index{Check\+Beacon\+Collisions@{Check\+Beacon\+Collisions}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Check\+Beacon\+Collisions(uint32\+\_\+t interface)}{CheckBeaconCollisions(uint32_t interface)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Check\+Beacon\+Collisions (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_abe64c73c24a2981240b5f85fb87a5160}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_abe64c73c24a2981240b5f85fb87a5160}


B\+CA. 


\begin{DoxyCode}
385 \{
386   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac97f472fcc281fb856f8434555cab024}{GetBeaconCollisionAvoidance} ())
387     \{
388       \textcolor{keywordflow}{return};
389     \}
390   PeerLinksMap::iterator iface = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.find (interface);
391   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (iface != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.end ());
392   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.find (interface) != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.end ());
393 
394   std::map<uint32\_t, Time>::const\_iterator lastBeacon = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a8d3adf393b3f4d96d60285132b1004da}{m\_lastBeacon}.find (interface);
395   std::map<uint32\_t, Time>::const\_iterator beaconInterval = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a915ce7d45ccdfa57b75bc300745974fa}{m\_beaconInterval}.find (
      interface);
396   \textcolor{keywordflow}{if} ((lastBeacon == \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a8d3adf393b3f4d96d60285132b1004da}{m\_lastBeacon}.end ()) || (beaconInterval == 
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a915ce7d45ccdfa57b75bc300745974fa}{m\_beaconInterval}.end ()))
397     \{
398       \textcolor{keywordflow}{return};
399     \}
400   \textcolor{comment}{//my last beacon in 256 us units}
401   uint16\_t lastBeaconInTimeElement = (uint16\_t) ((lastBeacon->second.GetMicroSeconds () >> 8) & 0xffff);
402 
403   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adcc7f057f6fa22012b3ee72cf57e2082}{TuToTime} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a23968eb845fa63fe87f303d2e21e77f0}{m\_maxBeaconShift}) <= 
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a915ce7d45ccdfa57b75bc300745974fa}{m\_beaconInterval}[interface], \textcolor{stringliteral}{"Wrong beacon shift parameters"});
404 
405   \textcolor{keywordflow}{if} (iface->second.size () == 0)
406     \{
407       \textcolor{comment}{//I have no peers - may be our beacons are in collision}
408       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9649a96c629c63b98c133fe258340aa9}{ShiftOwnBeacon} (interface);
409       \textcolor{keywordflow}{return};
410     \}
411   \textcolor{comment}{//check whether all my peers receive my beacon and I'am not in collision with other beacons}
412 
413   \textcolor{keywordflow}{for} (PeerLinksOnInterface::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = iface->second.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != iface->second.end (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
414     \{
415       \textcolor{keywordtype}{bool} myBeaconExists = \textcolor{keyword}{false};
416       \hyperlink{group__dot11s_ga8dbec40aea7e1014f0af23de3b31a78c}{IeBeaconTiming::NeighboursTimingUnitsList} neighbors = (*i)->
      GetBeaconTimingElement ().GetNeighboursTimingElementsList ();
417       \textcolor{keywordflow}{for} (IeBeaconTiming::NeighboursTimingUnitsList::const\_iterator j = neighbors.begin (); j != neighbors
      .end (); j++)
418         \{
419           \textcolor{keywordflow}{if} ((*i)->GetPeerAid () == (*j)->GetAid ())
420             \{
421               \textcolor{comment}{// I am presented at neighbour's list of neighbors}
422               myBeaconExists = \textcolor{keyword}{true};
423               \textcolor{keywordflow}{continue};
424             \}
425           \textcolor{keywordflow}{if} (
426             ((int16\_t) ((*j)->GetLastBeacon () - lastBeaconInTimeElement) >= 0) &&
427             (((*j)->GetLastBeacon () - lastBeaconInTimeElement) % (4 * \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a1e38bb4ee6161f0015dd60113a4a0acd}{TimeToTu} (beaconInterval->
      second)) == 0)
428             )
429             \{
430               \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9649a96c629c63b98c133fe258340aa9}{ShiftOwnBeacon} (interface);
431               \textcolor{keywordflow}{return};
432             \}
433         \}
434       \textcolor{keywordflow}{if} (!myBeaconExists)
435         \{
436           \textcolor{comment}{// If I am not present in neighbor's beacon timing element, this may be caused by collisions with}
437           \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9649a96c629c63b98c133fe258340aa9}{ShiftOwnBeacon} (interface);
438           \textcolor{keywordflow}{return};
439         \}
440     \}
441 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Configuration\+Mismatch@{Configuration\+Mismatch}}
\index{Configuration\+Mismatch@{Configuration\+Mismatch}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Configuration\+Mismatch(uint32\+\_\+t interface, Mac48\+Address peer\+Address)}{ConfigurationMismatch(uint32_t interface, Mac48Address peerAddress)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Configuration\+Mismatch (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Mac48\+Address}}]{peer\+Address}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a9c63315d82799e7157f452f5dcd77397}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a9c63315d82799e7157f452f5dcd77397}


Cancels peer link due to broken configuration (Mesh ID or Supported rates) 


\begin{DoxyCode}
242 \{
243   Ptr<PeerLink> peerLink = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}{FindPeerLink} (interface, peerAddress);
244   \textcolor{keywordflow}{if} (peerLink != 0)
245     \{
246       peerLink->MLMECancelPeerLink (\hyperlink{group__dot11s_gga1132ec5975c87960ceb86ea54481aba6aae9441b25fc7316ae53a6e73398521e5}{REASON11S\_MESH\_CAPABILITY\_POLICY\_VIOLATION}
      );
247     \}
248 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a89bc555099bee27f8218c6bc85aee2cf}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a89bc555099bee27f8218c6bc85aee2cf}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a89bc555099bee27f8218c6bc85aee2cf}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
102 \{
103   \textcolor{comment}{//cancel cleanup event and go through the map of peer links,}
104   \textcolor{comment}{//deleting each}
105   \textcolor{keywordflow}{for} (PeerLinksMap::iterator j = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.begin (); j != 
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.end (); j++)
106     \{
107       \textcolor{keywordflow}{for} (PeerLinksOnInterface::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = j->second.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != j->second.end (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
108         \{
109           (*i) = 0;
110         \}
111       j->second.clear ();
112     \}
113   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.clear ();
114   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.clear ();
115 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Do\+Initialize@{Do\+Initialize}}
\index{Do\+Initialize@{Do\+Initialize}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Do\+Initialize()}{DoInitialize()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Do\+Initialize (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_aad5b740f39d118cebc0e9c4c25348b83}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_aad5b740f39d118cebc0e9c4c25348b83}
\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} implementation.

This method is called only once by \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()}. If the user calls \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} multiple times, \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aad5b740f39d118cebc0e9c4c25348b83}{Do\+Initialize()} is called only the first time.

Subclasses are expected to override this method and chain up to their parent\textquotesingle{}s implementation once they are done. It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} and \hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{Aggregate\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_af8482a521433409fb5c7f749398c9dbe}{ns3\+::\+Object}.


\begin{DoxyCode}
599 \{
600   \textcolor{comment}{// If beacon interval is equal to the neighbor's one and one o more beacons received}
601   \textcolor{comment}{// by my neighbor coincide with my beacon - apply random uniformly distributed shift from}
602   \textcolor{comment}{// [-m\_maxBeaconShift, m\_maxBeaconShift] except 0.}
603   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa585248112e462ce3af050830715416b}{m\_beaconShift}->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Min"}, DoubleValue (-
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a23968eb845fa63fe87f303d2e21e77f0}{m\_maxBeaconShift}));
604   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa585248112e462ce3af050830715416b}{m\_beaconShift}->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Max"}, DoubleValue (
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a23968eb845fa63fe87f303d2e21e77f0}{m\_maxBeaconShift}));
605 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Find\+Peer\+Link@{Find\+Peer\+Link}}
\index{Find\+Peer\+Link@{Find\+Peer\+Link}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Find\+Peer\+Link(uint32\+\_\+t interface, Mac48\+Address peer\+Address)}{FindPeerLink(uint32_t interface, Mac48Address peerAddress)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Peer\+Link} $>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Find\+Peer\+Link (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Mac48\+Address}}]{peer\+Address}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}


Find active peer link by my interface and peer interface M\+AC. 


\begin{DoxyCode}
297 \{
298   PeerLinksMap::iterator iface = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.find (interface);
299   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (iface != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.end ());
300   \textcolor{keywordflow}{for} (PeerLinksOnInterface::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = iface->second.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != iface->second.end (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
301     \{
302       \textcolor{keywordflow}{if} ((*i)->GetPeerAddress () == peerAddress)
303         \{
304           \textcolor{keywordflow}{if} ((*i)->LinkIsIdle ())
305             \{
306               (*i) = 0;
307               (iface->second).erase (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
308               \textcolor{keywordflow}{return} 0;
309             \}
310           \textcolor{keywordflow}{else}
311             \{
312               \textcolor{keywordflow}{return} (*\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
313             \}
314         \}
315     \}
316   \textcolor{keywordflow}{return} 0;
317 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Get\+Address@{Get\+Address}}
\index{Get\+Address@{Get\+Address}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Get\+Address()}{GetAddress()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Get\+Address (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_ad3f24d945eaeec61d5a76598bf655484}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_ad3f24d945eaeec61d5a76598bf655484}
Get mesh point address.\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000122}{Todo}]this used by plugins only. Now M\+AC plugins can ask MP address directly from main M\+AC\end{DoxyRefDesc}


\begin{DoxyReturn}{Returns}
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} 
\end{DoxyReturn}

\begin{DoxyCode}
538 \{
539   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_abe566c402f630f4df83bdeb2e84a1343}{m\_address};
540 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Get\+Beacon\+Collision\+Avoidance@{Get\+Beacon\+Collision\+Avoidance}}
\index{Get\+Beacon\+Collision\+Avoidance@{Get\+Beacon\+Collision\+Avoidance}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Get\+Beacon\+Collision\+Avoidance() const }{GetBeaconCollisionAvoidance() const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Get\+Beacon\+Collision\+Avoidance (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_ac97f472fcc281fb856f8434555cab024}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_ac97f472fcc281fb856f8434555cab024}
Get beacon collision avoidance \begin{DoxyReturn}{Returns}
the beacon collision avoidance flag 
\end{DoxyReturn}

\begin{DoxyCode}
614 \{
615   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ae4cfbd2292a8d214ae8820fa6369763a}{m\_enableBca};
616 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Get\+Beacon\+Timing\+Element@{Get\+Beacon\+Timing\+Element}}
\index{Get\+Beacon\+Timing\+Element@{Get\+Beacon\+Timing\+Element}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Get\+Beacon\+Timing\+Element(uint32\+\_\+t interface)}{GetBeaconTimingElement(uint32_t interface)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Ie\+Beacon\+Timing} $>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Get\+Beacon\+Timing\+Element (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_ac5ed85738276098fce86bfb5b0dd9fe1}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_ac5ed85738276098fce86bfb5b0dd9fe1}


When we are sending a beacon -\/ we fill beacon timing element. 

\begin{DoxyReturn}{Returns}
\hyperlink{classns3_1_1dot11s_1_1IeBeaconTiming}{Ie\+Beacon\+Timing} is a beacon timing element that should be present in beacon 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em interface} & is a interface sending a beacon \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
147 \{
148   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac97f472fcc281fb856f8434555cab024}{GetBeaconCollisionAvoidance} ())
149     \{
150       \textcolor{keywordflow}{return} 0;
151     \}
152   Ptr<IeBeaconTiming> retval = Create<IeBeaconTiming> ();
153   PeerLinksMap::iterator iface = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.find (interface);
154   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (iface != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.end ());
155   \textcolor{keywordflow}{for} (PeerLinksOnInterface::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = iface->second.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != iface->second.end (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
156     \{
157       \textcolor{comment}{//If we do not know peer Assoc Id, we shall not add any info}
158       \textcolor{comment}{//to a beacon timing element}
159       \textcolor{keywordflow}{if} ((*i)->GetBeaconInterval () == \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0))
160         \{
161           \textcolor{comment}{//No beacon was received, do not include to the beacon timing element}
162           \textcolor{keywordflow}{continue};
163         \}
164       retval->AddNeighboursTimingElementUnit ((*i)->GetLocalAid (), (*i)->GetLastBeacon (),
165                                               (*i)->GetBeaconInterval ());
166     \}
167   \textcolor{keywordflow}{return} retval;
168 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Get\+Mesh\+Id@{Get\+Mesh\+Id}}
\index{Get\+Mesh\+Id@{Get\+Mesh\+Id}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Get\+Mesh\+Id() const }{GetMeshId() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Ie\+Mesh\+Id} $>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Get\+Mesh\+Id (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a8d7b44ed2289329a669cb5234bb0fb30}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a8d7b44ed2289329a669cb5234bb0fb30}
Get mesh ID information element \begin{DoxyReturn}{Returns}
the mesh ID information element 
\end{DoxyReturn}

\begin{DoxyCode}
527 \{
528   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac69302a75abb04daf0dbf105451e0365}{m\_meshId} != 0);
529   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac69302a75abb04daf0dbf105451e0365}{m\_meshId};
530 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Get\+Number\+Of\+Links@{Get\+Number\+Of\+Links}}
\index{Get\+Number\+Of\+Links@{Get\+Number\+Of\+Links}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Get\+Number\+Of\+Links()}{GetNumberOfLinks()}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Get\+Number\+Of\+Links (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a9d88828b5e26f43179f522e801dafb62}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a9d88828b5e26f43179f522e801dafb62}
Get number of links \begin{DoxyReturn}{Returns}
the number of links 
\end{DoxyReturn}

\begin{DoxyCode}
522 \{
523   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics_a3b84cc20726376c412f76312dc5dd7ee}{linksTotal};
524 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Get\+Peer\+Links@{Get\+Peer\+Links}}
\index{Get\+Peer\+Links@{Get\+Peer\+Links}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Get\+Peer\+Links() const }{GetPeerLinks() const }}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Ptr}$<$ {\bf Peer\+Link} $>$ $>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Get\+Peer\+Links (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a7a9c6cd647f59238efdfd8f7cf38d534}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a7a9c6cd647f59238efdfd8f7cf38d534}


Get list of all active peer links. 


\begin{DoxyCode}
343 \{
344   std::vector< Ptr<PeerLink> > links;
345 
346   \textcolor{keywordflow}{for} (PeerLinksMap::const\_iterator iface = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.begin (); iface != 
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.end (); ++iface)
347     \{
348       \textcolor{keywordflow}{for} (PeerLinksOnInterface::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = iface->second.begin ();
349            \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != iface->second.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
350         \textcolor{keywordflow}{if} ((*i)->LinkIsEstab ())
351           links.push\_back (*\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
352     \}
353   \textcolor{keywordflow}{return} links;
354 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Get\+Peers@{Get\+Peers}}
\index{Get\+Peers@{Get\+Peers}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Get\+Peers(uint32\+\_\+t interface) const }{GetPeers(uint32_t interface) const }}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Mac48\+Address} $>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Get\+Peers (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a65e346f4553909eb3f0bf7f44d4befb8}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a65e346f4553909eb3f0bf7f44d4befb8}


Get list of active peers of my given interface. 


\begin{DoxyCode}
327 \{
328   std::vector<Mac48Address> retval;
329   PeerLinksMap::const\_iterator iface = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.find (interface);
330   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (iface != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.end ());
331   \textcolor{keywordflow}{for} (PeerLinksOnInterface::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = iface->second.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != iface->second.end (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
332     \{
333       \textcolor{keywordflow}{if} ((*i)->LinkIsEstab ())
334         \{
335           retval.push\_back ((*i)->GetPeerAddress ());
336         \}
337     \}
338   \textcolor{keywordflow}{return} retval;
339 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id()}{GetTypeId()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a8341f80d9b79e21cf9cf6dbdd88db3e0}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a8341f80d9b79e21cf9cf6dbdd88db3e0}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
49 \{
50   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::dot11s::PeerManagementProtocol"})
51     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
52     .SetGroupName (\textcolor{stringliteral}{"Mesh"})
53     .AddConstructor<\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a0e568f7724fb71e5dc4aa88eca7f19e1}{PeerManagementProtocol}> ()
54     \textcolor{comment}{// maximum number of peer links. Now we calculate the total}
55     \textcolor{comment}{// number of peer links on all interfaces}
56     .AddAttribute ( \textcolor{stringliteral}{"MaxNumberOfPeerLinks"},
57                     \textcolor{stringliteral}{"Maximum number of peer links"},
58                     UintegerValue (32),
59                     MakeUintegerAccessor (
60                       &\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a1cc5292332f46a548fd3ac6c2bec373a}{PeerManagementProtocol::m\_maxNumberOfPeerLinks}
      ),
61                     MakeUintegerChecker<uint8\_t> ()
62                     )
63     .AddAttribute ( \textcolor{stringliteral}{"MaxBeaconShiftValue"},
64                     \textcolor{stringliteral}{"Maximum number of TUs for beacon shifting"},
65                     UintegerValue (15),
66                     MakeUintegerAccessor (
67                       &\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a23968eb845fa63fe87f303d2e21e77f0}{PeerManagementProtocol::m\_maxBeaconShift}),
68                     MakeUintegerChecker<uint16\_t> ()
69                     )
70     .AddAttribute ( \textcolor{stringliteral}{"EnableBeaconCollisionAvoidance"},
71                     \textcolor{stringliteral}{"Enable/Disable Beacon collision avoidance."},
72                     BooleanValue (\textcolor{keyword}{true}),
73                     MakeBooleanAccessor (
74                       &\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_af7f617cc0deff9bd8e97ed4c3a77eeba}{PeerManagementProtocol::SetBeaconCollisionAvoidance}
      , &\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac97f472fcc281fb856f8434555cab024}{PeerManagementProtocol::GetBeaconCollisionAvoidance}),
75                     MakeBooleanChecker ()
76                     )
77     .AddTraceSource (\textcolor{stringliteral}{"LinkOpen"},
78                      \textcolor{stringliteral}{"New peer link opened"},
79                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a33560f4e34a457118de89f3ed3859d4e}{PeerManagementProtocol::m\_linkOpenTraceSrc}),
80                      \textcolor{stringliteral}{"ns3::PeerManagementProtocol::LinkOpenCloseTracedCallback"}
81                      )
82     .AddTraceSource (\textcolor{stringliteral}{"LinkClose"},
83                      \textcolor{stringliteral}{"New peer link closed"},
84                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ab814d2f94277d15843a33433b31d82f8}{PeerManagementProtocol::m\_linkCloseTraceSrc}),
85                      \textcolor{stringliteral}{"ns3::PeerManagementProtocol::LinkOpenCloseTracedCallback"}
86                      )
87 
88   ;
89   \textcolor{keywordflow}{return} tid;
90 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Initiate\+Link@{Initiate\+Link}}
\index{Initiate\+Link@{Initiate\+Link}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Initiate\+Link(uint32\+\_\+t interface, Mac48\+Address peer\+Address, Mac48\+Address peer\+Mesh\+Point\+Address)}{InitiateLink(uint32_t interface, Mac48Address peerAddress, Mac48Address peerMeshPointAddress)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Peer\+Link} $>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Initiate\+Link (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Mac48\+Address}}]{peer\+Address, }
\item[{{\bf Mac48\+Address}}]{peer\+Mesh\+Point\+Address}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a74fcc9fa5c9ffc741f7d89f21a246813}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a74fcc9fa5c9ffc741f7d89f21a246813}


Initiate link functon. 


\begin{DoxyCode}
272 \{
273   Ptr<PeerLink> new\_link = CreateObject<PeerLink> ();
274   \textcolor{comment}{//find a peer link  - it must not exist}
275   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}{FindPeerLink} (interface, peerAddress) != 0)
276     \{
277       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Peer link must not exist."});
278     \}
279   \textcolor{comment}{// Plugin must exist}
280   PeerManagementProtocolMacMap::iterator \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin} = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.find (interface);
281   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (plugin != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.end ());
282   PeerLinksMap::iterator iface = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.find (interface);
283   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (iface != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.end ());
284   new\_link->SetLocalAid (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a675ea75c871f2436886b62d22821ffef}{m\_lastAssocId}++);
285   new\_link->SetInterface (interface);
286   new\_link->SetLocalLinkId (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ae06ce79f95d75c8a89b3d74d98ff8ee8}{m\_lastLocalLinkId}++);
287   new\_link->SetPeerAddress (peerAddress);
288   new\_link->SetPeerMeshPointAddress (peerMeshPointAddress);
289   new\_link->SetMacPlugin (plugin->second);
290   new\_link->MLMESetSignalStatusCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_afffc33ac9aa647564a4449ba487a4cae}{PeerManagementProtocol::PeerLinkStatus}, \textcolor{keyword}{this}));
291   iface->second.push\_back (new\_link);
292   \textcolor{keywordflow}{return} new\_link;
293 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Install@{Install}}
\index{Install@{Install}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Install(\+Ptr$<$ Mesh\+Point\+Device $>$)}{Install(Ptr< MeshPointDevice >)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Install (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mesh\+Point\+Device} $>$}]{mp}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_af2c766d0bee3af07418f1c631e8c1b29}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_af2c766d0bee3af07418f1c631e8c1b29}


Install P\+MP on given mesh point. 

\begin{DoxyReturn}{Returns}
true if successful
\end{DoxyReturn}
Installing protocol causes installation of its interface M\+AC plugins.

Also MP aggregates all installed protocols, P\+MP protocol can be accessed via \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Mesh\+Point\+Device\+::\+Get\+Object$<$\+Peer\+Management\+Protocol$>$()}; 
\begin{DoxyCode}
119 \{
120   std::vector<Ptr<NetDevice> > interfaces = mp->GetInterfaces ();
121   \textcolor{keywordflow}{for} (std::vector<Ptr<NetDevice> >::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = interfaces.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != interfaces.end (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
122     \{
123       Ptr<WifiNetDevice> wifiNetDev = (*i)->GetObject<WifiNetDevice> ();
124       \textcolor{keywordflow}{if} (wifiNetDev == 0)
125         \{
126           \textcolor{keywordflow}{return} \textcolor{keyword}{false};
127         \}
128       Ptr<MeshWifiInterfaceMac> mac = wifiNetDev->GetMac ()->GetObject<MeshWifiInterfaceMac> ();
129       \textcolor{keywordflow}{if} (mac == 0)
130         \{
131           \textcolor{keywordflow}{return} \textcolor{keyword}{false};
132         \}
133       Ptr<PeerManagementProtocolMac> \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin} = Create<PeerManagementProtocolMac> ((*i)->GetIfIndex (),
       \textcolor{keyword}{this});
134       mac->InstallPlugin (plugin);
135       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}[(*i)->GetIfIndex ()] = \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin};
136       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a97f867fbb15c916217ced3944d07e7a7}{PeerLinksOnInterface} newmap;
137       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}[(*i)->GetIfIndex ()] = newmap;
138     \}
139   \textcolor{comment}{// Mesh point aggregates all installed protocols}
140   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_abe566c402f630f4df83bdeb2e84a1343}{m\_address} = \hyperlink{classns3_1_1Mac48Address_a911ce13603a9ef837545a032b6523ae4}{Mac48Address::ConvertFrom} (mp->GetAddress ());
141   mp->AggregateObject (\textcolor{keyword}{this});
142   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
143 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Is\+Active\+Link@{Is\+Active\+Link}}
\index{Is\+Active\+Link@{Is\+Active\+Link}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Is\+Active\+Link(uint32\+\_\+t interface, Mac48\+Address peer\+Address)}{IsActiveLink(uint32_t interface, Mac48Address peerAddress)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Is\+Active\+Link (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Mac48\+Address}}]{peer\+Address}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_ab563cf95c14a68e9aa1862c5886aceb2}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_ab563cf95c14a68e9aa1862c5886aceb2}


Checks if there is established link. 


\begin{DoxyCode}
357 \{
358   Ptr<PeerLink> peerLink = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}{FindPeerLink} (interface, peerAddress);
359   \textcolor{keywordflow}{if} (peerLink != 0)
360     \{
361       \textcolor{keywordflow}{return} (peerLink->LinkIsEstab ());
362     \}
363   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
364 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Notify\+Beacon\+Sent@{Notify\+Beacon\+Sent}}
\index{Notify\+Beacon\+Sent@{Notify\+Beacon\+Sent}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Notify\+Beacon\+Sent(uint32\+\_\+t interface, Time beacon\+Interval)}{NotifyBeaconSent(uint32_t interface, Time beaconInterval)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Notify\+Beacon\+Sent (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Time}}]{beacon\+Interval}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a92bdb582f3c57ccf14d156947350ea43}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a92bdb582f3c57ccf14d156947350ea43}
Notify about beacon send event, needed to schedule B\+CA 
\begin{DoxyParams}{Parameters}
{\em interface} & the interface to use \\
\hline
{\em beacon\+Interval} & the beacon interval \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
543 \{
544   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a8d3adf393b3f4d96d60285132b1004da}{m\_lastBeacon}[interface] = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
545   \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (beaconInterval - \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adcc7f057f6fa22012b3ee72cf57e2082}{TuToTime} (
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a23968eb845fa63fe87f303d2e21e77f0}{m\_maxBeaconShift} + 1), &
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_abe64c73c24a2981240b5f85fb87a5160}{PeerManagementProtocol::CheckBeaconCollisions},\textcolor{keyword}{this}, interface)
      ;
546   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a915ce7d45ccdfa57b75bc300745974fa}{m\_beaconInterval}[interface] = beaconInterval;
547 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Notify\+Link\+Close@{Notify\+Link\+Close}}
\index{Notify\+Link\+Close@{Notify\+Link\+Close}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Notify\+Link\+Close(\+Mac48\+Address peer\+Mp, Mac48\+Address peer\+Iface, Mac48\+Address my\+Iface, uint32\+\_\+t interface)}{NotifyLinkClose(Mac48Address peerMp, Mac48Address peerIface, Mac48Address myIface, uint32_t interface)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Notify\+Link\+Close (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{peer\+Mp, }
\item[{{\bf Mac48\+Address}}]{peer\+Iface, }
\item[{{\bf Mac48\+Address}}]{my\+Iface, }
\item[{uint32\+\_\+t}]{interface}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a5dd895b7a3d84a4727ef48e57a94c73d}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a5dd895b7a3d84a4727ef48e57a94c73d}


Aux. method to register closed links. 


\begin{DoxyCode}
484 \{
485   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"link\_close "} << myIface << \textcolor{stringliteral}{" "} << peerIface);
486   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics_a67955b1a6a6244fee5abc172fdec993a}{linksClosed}++;
487   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics_a3b84cc20726376c412f76312dc5dd7ee}{linksTotal}--;
488   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a13e049e3ed8a3eb6adb1aab09c9aa88f}{m\_peerStatusCallback}.IsNull ())
489     \{
490       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a13e049e3ed8a3eb6adb1aab09c9aa88f}{m\_peerStatusCallback} (peerMp, peerIface, interface, \textcolor{keyword}{false});
491     \}
492   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ab814d2f94277d15843a33433b31d82f8}{m\_linkCloseTraceSrc} (myIface, peerIface);
493 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Notify\+Link\+Open@{Notify\+Link\+Open}}
\index{Notify\+Link\+Open@{Notify\+Link\+Open}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Notify\+Link\+Open(\+Mac48\+Address peer\+Mp, Mac48\+Address peer\+Iface, Mac48\+Address my\+Iface, uint32\+\_\+t interface)}{NotifyLinkOpen(Mac48Address peerMp, Mac48Address peerIface, Mac48Address myIface, uint32_t interface)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Notify\+Link\+Open (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{peer\+Mp, }
\item[{{\bf Mac48\+Address}}]{peer\+Iface, }
\item[{{\bf Mac48\+Address}}]{my\+Iface, }
\item[{uint32\+\_\+t}]{interface}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_ae07e386558214bde98e6ea0b57f6ee79}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_ae07e386558214bde98e6ea0b57f6ee79}


Aux. method to register open links. 


\begin{DoxyCode}
471 \{
472   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"link\_open "} << myIface << \textcolor{stringliteral}{" "} << peerIface);
473   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics_a54d8ebeb0b661313ce2b1f38e6e09af7}{linksOpened}++;
474   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics_a3b84cc20726376c412f76312dc5dd7ee}{linksTotal}++;
475   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a13e049e3ed8a3eb6adb1aab09c9aa88f}{m\_peerStatusCallback}.IsNull ())
476     \{
477       \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a13e049e3ed8a3eb6adb1aab09c9aa88f}{m\_peerStatusCallback} (peerMp, peerIface, interface, \textcolor{keyword}{true});
478     \}
479   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a33560f4e34a457118de89f3ed3859d4e}{m\_linkOpenTraceSrc} (myIface, peerIface);
480 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!operator=@{operator=}}
\index{operator=@{operator=}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{operator=(const Peer\+Management\+Protocol \&)}{operator=(const PeerManagementProtocol &)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Peer\+Management\+Protocol}\& ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::operator= (
\begin{DoxyParamCaption}
\item[{const {\bf Peer\+Management\+Protocol} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a2214b045b113e038c71c8a4f297585e0}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a2214b045b113e038c71c8a4f297585e0}


assignment operator 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Peer\+Link\+Status@{Peer\+Link\+Status}}
\index{Peer\+Link\+Status@{Peer\+Link\+Status}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Peer\+Link\+Status(uint32\+\_\+t interface, Mac48\+Address peer\+Address, Mac48\+Address peer\+Mesh\+Point\+Addres, Peer\+Link\+::\+Peer\+State ostate, Peer\+Link\+::\+Peer\+State nstate)}{PeerLinkStatus(uint32_t interface, Mac48Address peerAddress, Mac48Address peerMeshPointAddres, PeerLink::PeerState ostate, PeerLink::PeerState nstate)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Peer\+Link\+Status (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Mac48\+Address}}]{peer\+Address, }
\item[{{\bf Mac48\+Address}}]{peer\+Mesh\+Point\+Addres, }
\item[{{\bf Peer\+Link\+::\+Peer\+State}}]{ostate, }
\item[{{\bf Peer\+Link\+::\+Peer\+State}}]{nstate}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_afffc33ac9aa647564a4449ba487a4cae}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_afffc33ac9aa647564a4449ba487a4cae}


Indicates changes in peer links. 


\begin{DoxyCode}
498 \{
499   PeerManagementProtocolMacMap::iterator \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin} = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.find (interface);
500   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (plugin != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.end ());
501   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Link between me:"} << \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_abe566c402f630f4df83bdeb2e84a1343}{m\_address} << \textcolor{stringliteral}{" my interface:"} 
502                     << plugin->second->GetAddress ()
503                     << \textcolor{stringliteral}{" and peer mesh point:"} << peerMeshPointAddress << \textcolor{stringliteral}{" and its interface:"} << 
      peerAddress
504                     << \textcolor{stringliteral}{", at my interface ID:"} << \textcolor{keyword}{interface }<< ". State movement:" << PeerLink::PeerStateNa
      mes[ostate] 
505                     << " -> " << PeerLink::PeerStateNames[nstate]);
506   if ((nstate == PeerLink::ESTAB) && (ostate != PeerLink::ESTAB))
507     \{
508       NotifyLinkOpen (peerMeshPointAddress, peerAddress, plugin->second->GetAddress (), interface);
509     \}
510   if ((ostate == PeerLink::ESTAB) && (nstate != PeerLink::ESTAB))
511     \{
512       NotifyLinkClose (peerMeshPointAddress, peerAddress, plugin->second->GetAddress (), interface);
513     \}
514   \hyperlink{loss__ITU1238_8m_a419d895abe1313c35fa353c93802647e}{if} (nstate == PeerLink::IDLE)
515     \{
516       Ptr<PeerLink> link = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}{FindPeerLink} (interface, peerAddress);
517       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (link == 0);
518     \}
519 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Receive\+Beacon@{Receive\+Beacon}}
\index{Receive\+Beacon@{Receive\+Beacon}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Receive\+Beacon(uint32\+\_\+t interface, Mac48\+Address peer\+Address, Time beacon\+Interval, Ptr$<$ Ie\+Beacon\+Timing $>$ beacon\+Timing)}{ReceiveBeacon(uint32_t interface, Mac48Address peerAddress, Time beaconInterval, Ptr< IeBeaconTiming > beaconTiming)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Receive\+Beacon (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Mac48\+Address}}]{peer\+Address, }
\item[{{\bf Time}}]{beacon\+Interval, }
\item[{{\bf Ptr}$<$ {\bf Ie\+Beacon\+Timing} $>$}]{beacon\+Timing}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a536fcf8973c4e3e515f984ee8af18f7e}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a536fcf8973c4e3e515f984ee8af18f7e}


To initiate peer link we must notify about received beacon. 


\begin{DoxyParams}{Parameters}
{\em interface} & the interface where a beacon was received from \\
\hline
{\em peer\+Address} & address of station, which sent a beacon \\
\hline
{\em beacon\+Interval} & beacon interval (needed by beacon loss counter) \\
\hline
{\em beacon\+Timing} & beacon timing element (needed by B\+CA) \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
171 \{
172   \textcolor{comment}{//PM STATE Machine}
173   \textcolor{comment}{//Check that a given beacon is not from our interface}
174   \textcolor{keywordflow}{for} (PeerManagementProtocolMacMap::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.begin (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
175     \{
176       \textcolor{keywordflow}{if} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}->second->GetAddress () == peerAddress)
177         \{
178           \textcolor{keywordflow}{return};
179         \}
180     \}
181   Ptr<PeerLink> peerLink = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}{FindPeerLink} (interface, peerAddress);
182   \textcolor{keywordflow}{if} (peerLink == 0)
183     \{
184       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_afb7efbd65edee4f9bbe42f0745fcc524}{ShouldSendOpen} (interface, peerAddress))
185         \{
186           peerLink = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a74fcc9fa5c9ffc741f7d89f21a246813}{InitiateLink} (interface, peerAddress, 
      \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ());
187           peerLink->MLMEActivePeerLinkOpen ();
188         \}
189       \textcolor{keywordflow}{else}
190         \{
191           \textcolor{keywordflow}{return};
192         \}
193     \}
194   peerLink->SetBeaconInformation (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} (), beaconInterval);
195   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac97f472fcc281fb856f8434555cab024}{GetBeaconCollisionAvoidance} ())
196     \{
197       peerLink->SetBeaconTimingElement (*\hyperlink{namespacens3_af2a7557fe9afdd98d8f6f8f6e412cf5a}{PeekPointer} (timingElement));
198     \}
199 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 20


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Receive\+Peer\+Link\+Frame@{Receive\+Peer\+Link\+Frame}}
\index{Receive\+Peer\+Link\+Frame@{Receive\+Peer\+Link\+Frame}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Receive\+Peer\+Link\+Frame(uint32\+\_\+t interface, Mac48\+Address peer\+Address, Mac48\+Address peer\+Mesh\+Point\+Address, uint16\+\_\+t aid, Ie\+Peer\+Management peer\+Management\+Element, Ie\+Configuration mesh\+Config)}{ReceivePeerLinkFrame(uint32_t interface, Mac48Address peerAddress, Mac48Address peerMeshPointAddress, uint16_t aid, IePeerManagement peerManagementElement, IeConfiguration meshConfig)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Receive\+Peer\+Link\+Frame (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Mac48\+Address}}]{peer\+Address, }
\item[{{\bf Mac48\+Address}}]{peer\+Mesh\+Point\+Address, }
\item[{uint16\+\_\+t}]{aid, }
\item[{{\bf Ie\+Peer\+Management}}]{peer\+Management\+Element, }
\item[{{\bf Ie\+Configuration}}]{mesh\+Config}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a04fecd800dd1587dc671735f5c9f2111}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a04fecd800dd1587dc671735f5c9f2111}


Methods that handle Peer link management frames interaction\+: 

Deliver Peer link management information to the protocol-\/part 
\begin{DoxyParams}{Parameters}
{\em interface} & is a interface ID of a given M\+AC (interface\+ID rather than M\+AC address, because many interfaces may have the same M\+AC) \\
\hline
{\em peer\+Address} & is address of peer \\
\hline
{\em peer\+Mesh\+Point\+Address} & is address of peer mesh point device (equal to peer address when only one interface) \\
\hline
{\em aid} & is association ID, which peer has assigned to us \\
\hline
{\em peer\+Management\+Element} & is peer link management element \\
\hline
{\em mesh\+Config} & is mesh configuration element taken from the peer management frame \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
205 \{
206   Ptr<PeerLink> peerLink = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}{FindPeerLink} (interface, peerAddress);
207   \textcolor{keywordflow}{if} (peerManagementElement.SubtypeIsOpen ())
208     \{
209       \hyperlink{group__dot11s_ga1132ec5975c87960ceb86ea54481aba6}{PmpReasonCode} reasonCode (\hyperlink{group__dot11s_gga1132ec5975c87960ceb86ea54481aba6a1e76395872503ccadd9cf008e325b3d8}{REASON11S\_RESERVED});
210       \textcolor{keywordtype}{bool} reject = !(\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3ea350a079ca1643c7faa18c124de0d9}{ShouldAcceptOpen} (interface, peerAddress, reasonCode));
211       \textcolor{keywordflow}{if} (peerLink == 0)
212         \{
213           peerLink = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a74fcc9fa5c9ffc741f7d89f21a246813}{InitiateLink} (interface, peerAddress, peerMeshPointAddress);
214         \}
215       \textcolor{keywordflow}{if} (!reject)
216         \{
217           peerLink->OpenAccept (peerManagementElement.GetLocalLinkId (), meshConfig, peerMeshPointAddress);
218         \}
219       \textcolor{keywordflow}{else}
220         \{
221           peerLink->OpenReject (peerManagementElement.GetLocalLinkId (), meshConfig, peerMeshPointAddress,
222                                 reasonCode);
223         \}
224     \}
225   \textcolor{keywordflow}{if} (peerLink == 0)
226     \{
227       \textcolor{keywordflow}{return};
228     \}
229   \textcolor{keywordflow}{if} (peerManagementElement.SubtypeIsConfirm ())
230     \{
231       peerLink->ConfirmAccept (peerManagementElement.GetLocalLinkId (),
232                                peerManagementElement.GetPeerLinkId (), aid, meshConfig, 
      peerMeshPointAddress);
233     \}
234   \textcolor{keywordflow}{if} (peerManagementElement.SubtypeIsClose ())
235     \{
236       peerLink->Close (peerManagementElement.GetLocalLinkId (), peerManagementElement.GetPeerLinkId (),
237                        peerManagementElement.GetReasonCode ());
238     \}
239 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 21


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Report@{Report}}
\index{Report@{Report}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Report(std\+::ostream \&os) const }{Report(std::ostream &os) const }}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Report (
\begin{DoxyParamCaption}
\item[{std\+::ostream \&}]{os}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a8b70dcd73b4823cea25ed325e3d92704}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a8b70dcd73b4823cea25ed325e3d92704}


\+: Report statistics 


\begin{DoxyParams}{Parameters}
{\em os} & the output stream \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
562 \{
563   os << \textcolor{stringliteral}{"<PeerManagementProtocol>"} << std::endl;
564   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics_a0b396d9d23c18d6340f1cf38bab4264a}{Print} (os);
565   \textcolor{keywordflow}{for} (PeerManagementProtocolMacMap::const\_iterator \hyperlink{namespacevisualizer_1_1base_a2d0082175fce0f1d28000f676c2646e5}{plugins} = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.begin (); 
      \hyperlink{namespacevisualizer_1_1base_a2d0082175fce0f1d28000f676c2646e5}{plugins} != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.end (); \hyperlink{namespacevisualizer_1_1base_a2d0082175fce0f1d28000f676c2646e5}{plugins}++)
566     \{
567       \textcolor{comment}{//Take statistics from plugin:}
568       \hyperlink{namespacevisualizer_1_1base_a2d0082175fce0f1d28000f676c2646e5}{plugins}->second->Report (os);
569       \textcolor{comment}{//Print all active peer links:}
570       PeerLinksMap::const\_iterator iface = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.find (\hyperlink{namespacevisualizer_1_1base_a2d0082175fce0f1d28000f676c2646e5}{plugins}->second->m\_ifIndex);
571       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (iface != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{m\_peerLinks}.end ());
572       \textcolor{keywordflow}{for} (PeerLinksOnInterface::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = iface->second.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != iface->second.end (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
573         \{
574           (*i)->Report (os);
575         \}
576     \}
577   os << \textcolor{stringliteral}{"</PeerManagementProtocol>"} << std::endl;
578 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 22


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Reset\+Stats@{Reset\+Stats}}
\index{Reset\+Stats@{Reset\+Stats}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Reset\+Stats()}{ResetStats()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Reset\+Stats (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_ae0ae15ba62d76e5effb25e15b135a689}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_ae0ae15ba62d76e5effb25e15b135a689}


Reset statistics function. 


\begin{DoxyCode}
581 \{
582   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\_stats} = Statistics (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics_a3b84cc20726376c412f76312dc5dd7ee}{linksTotal}); \textcolor{comment}{// don't reset number of links}
583   \textcolor{keywordflow}{for} (PeerManagementProtocolMacMap::const\_iterator \hyperlink{namespacevisualizer_1_1base_a2d0082175fce0f1d28000f676c2646e5}{plugins} = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.begin (); 
      \hyperlink{namespacevisualizer_1_1base_a2d0082175fce0f1d28000f676c2646e5}{plugins} != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.end (); \hyperlink{namespacevisualizer_1_1base_a2d0082175fce0f1d28000f676c2646e5}{plugins}++)
584     \{
585       \hyperlink{namespacevisualizer_1_1base_a2d0082175fce0f1d28000f676c2646e5}{plugins}->second->ResetStats ();
586     \}
587 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Set\+Beacon\+Collision\+Avoidance@{Set\+Beacon\+Collision\+Avoidance}}
\index{Set\+Beacon\+Collision\+Avoidance@{Set\+Beacon\+Collision\+Avoidance}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Set\+Beacon\+Collision\+Avoidance(bool enable)}{SetBeaconCollisionAvoidance(bool enable)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Set\+Beacon\+Collision\+Avoidance (
\begin{DoxyParamCaption}
\item[{bool}]{enable}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_af7f617cc0deff9bd8e97ed4c3a77eeba}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_af7f617cc0deff9bd8e97ed4c3a77eeba}
Enable or disable beacon collision avoidance 
\begin{DoxyParams}{Parameters}
{\em enable} & true to enable beacon collision avoidance \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
609 \{
610   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ae4cfbd2292a8d214ae8820fa6369763a}{m\_enableBca} = enable;
611 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Set\+Mesh\+Id@{Set\+Mesh\+Id}}
\index{Set\+Mesh\+Id@{Set\+Mesh\+Id}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Set\+Mesh\+Id(std\+::string s)}{SetMeshId(std::string s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Set\+Mesh\+Id (
\begin{DoxyParamCaption}
\item[{std\+::string}]{s}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a145a10e70c88c5c6c15bbf0e749dc398}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a145a10e70c88c5c6c15bbf0e749dc398}
Set mesh ID to a string value 
\begin{DoxyParams}{Parameters}
{\em s} & the mesh ID string value \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
533 \{
534   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ac69302a75abb04daf0dbf105451e0365}{m\_meshId} = Create<IeMeshId> (\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s});
535 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Set\+Peer\+Link\+Status\+Callback@{Set\+Peer\+Link\+Status\+Callback}}
\index{Set\+Peer\+Link\+Status\+Callback@{Set\+Peer\+Link\+Status\+Callback}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Set\+Peer\+Link\+Status\+Callback(\+Callback$<$ void, Mac48\+Address, Mac48\+Address, uint32\+\_\+t, bool $>$ cb)}{SetPeerLinkStatusCallback(Callback< void, Mac48Address, Mac48Address, uint32_t, bool > cb)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Set\+Peer\+Link\+Status\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Callback}$<$ void, {\bf Mac48\+Address}, {\bf Mac48\+Address}, uint32\+\_\+t, bool $>$}]{cb}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a7e5317759305cc7a42e033daa4e4a1a0}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a7e5317759305cc7a42e033daa4e4a1a0}


Set peer link status change callback. 


\begin{DoxyCode}
321 \{
322   \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a13e049e3ed8a3eb6adb1aab09c9aa88f}{m\_peerStatusCallback} = cb;
323 \}
\end{DoxyCode}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Shift\+Own\+Beacon@{Shift\+Own\+Beacon}}
\index{Shift\+Own\+Beacon@{Shift\+Own\+Beacon}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Shift\+Own\+Beacon(uint32\+\_\+t interface)}{ShiftOwnBeacon(uint32_t interface)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Shift\+Own\+Beacon (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a9649a96c629c63b98c133fe258340aa9}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a9649a96c629c63b98c133fe258340aa9}


Shift own beacon function. 


\begin{DoxyCode}
445 \{
446   \textcolor{keywordtype}{int} shift = 0;
447   \textcolor{keywordflow}{do}
448     \{
449       shift = (int) \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_aa585248112e462ce3af050830715416b}{m\_beaconShift}->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue} ();
450     \}
451   \textcolor{keywordflow}{while} (shift == 0);
452   \textcolor{comment}{// Apply beacon shift parameters:}
453   PeerManagementProtocolMacMap::iterator \hyperlink{visualizer-ideas_8txt_a82212ee380150b652f4dad598413d06f}{plugin} = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.find (interface);
454   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (plugin != \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{m\_plugins}.end ());
455   plugin->second->SetBeaconShift (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adcc7f057f6fa22012b3ee72cf57e2082}{TuToTime} (shift));
456 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 25




Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Should\+Accept\+Open@{Should\+Accept\+Open}}
\index{Should\+Accept\+Open@{Should\+Accept\+Open}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Should\+Accept\+Open(uint32\+\_\+t interface, Mac48\+Address peer\+Address, Pmp\+Reason\+Code \&reason\+Code)}{ShouldAcceptOpen(uint32_t interface, Mac48Address peerAddress, PmpReasonCode &reasonCode)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Should\+Accept\+Open (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Mac48\+Address}}]{peer\+Address, }
\item[{{\bf Pmp\+Reason\+Code} \&}]{reason\+Code}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a3ea350a079ca1643c7faa18c124de0d9}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a3ea350a079ca1643c7faa18c124de0d9}

\begin{DoxyCode}
374 \{
375   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics_a3b84cc20726376c412f76312dc5dd7ee}{linksTotal} >= \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a1cc5292332f46a548fd3ac6c2bec373a}{m\_maxNumberOfPeerLinks})
376     \{
377       reasonCode = \hyperlink{group__dot11s_gga1132ec5975c87960ceb86ea54481aba6ab70ebebb2518212636d97aa78a083169}{REASON11S\_MESH\_MAX\_PEERS};
378       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
379     \}
380   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
381 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 27


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Should\+Send\+Open@{Should\+Send\+Open}}
\index{Should\+Send\+Open@{Should\+Send\+Open}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Should\+Send\+Open(uint32\+\_\+t interface, Mac48\+Address peer\+Address)}{ShouldSendOpen(uint32_t interface, Mac48Address peerAddress)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Should\+Send\+Open (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{{\bf Mac48\+Address}}]{peer\+Address}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_afb7efbd65edee4f9bbe42f0745fcc524}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_afb7efbd65edee4f9bbe42f0745fcc524}

\begin{DoxyCode}
367 \{
368   \textcolor{keywordflow}{return} (\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{m\_stats}.\hyperlink{structns3_1_1dot11s_1_1PeerManagementProtocol_1_1Statistics_a3b84cc20726376c412f76312dc5dd7ee}{linksTotal} < \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a1cc5292332f46a548fd3ac6c2bec373a}{m\_maxNumberOfPeerLinks});
369 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Time\+To\+Tu@{Time\+To\+Tu}}
\index{Time\+To\+Tu@{Time\+To\+Tu}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Time\+To\+Tu(\+Time x)}{TimeToTu(Time x)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Time\+To\+Tu (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{x}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a1e38bb4ee6161f0015dd60113a4a0acd}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a1e38bb4ee6161f0015dd60113a4a0acd}

\begin{DoxyCode}
465 \{
466   \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int})(\hyperlink{lte__link__budget__x2__handover__measures_8m_a9336ebf25087d91c818ee6e9ec29f8c1}{x}.GetMicroSeconds () / 1024);
467 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 29




Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Transmission\+Failure@{Transmission\+Failure}}
\index{Transmission\+Failure@{Transmission\+Failure}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Transmission\+Failure(uint32\+\_\+t interface, const Mac48\+Address peer\+Address)}{TransmissionFailure(uint32_t interface, const Mac48Address peerAddress)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Transmission\+Failure (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{const {\bf Mac48\+Address}}]{peer\+Address}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a2326130b236a064d21d9f481d499aae3}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a2326130b236a064d21d9f481d499aae3}


Cancels peer link due to successive transmission failures. 


\begin{DoxyCode}
251 \{
252   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"transmission failed between "}<<\hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ad3f24d945eaeec61d5a76598bf655484}{GetAddress} () << \textcolor{stringliteral}{" and "} << 
      peerAddress << \textcolor{stringliteral}{" failed, link will be closed"});
253   Ptr<PeerLink> peerLink = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}{FindPeerLink} (interface, peerAddress);
254   \textcolor{keywordflow}{if} (peerLink != 0)
255     \{
256       peerLink->TransmissionFailure ();
257     \}
258 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 31


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Transmission\+Success@{Transmission\+Success}}
\index{Transmission\+Success@{Transmission\+Success}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Transmission\+Success(uint32\+\_\+t interface, const Mac48\+Address peer\+Address)}{TransmissionSuccess(uint32_t interface, const Mac48Address peerAddress)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Transmission\+Success (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{interface, }
\item[{const {\bf Mac48\+Address}}]{peer\+Address}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a3b08552bc0445a91a167f4802fde707a}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a3b08552bc0445a91a167f4802fde707a}


resets transmission failure statistics 


\begin{DoxyCode}
261 \{
262   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"transmission success "}<< \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_ad3f24d945eaeec61d5a76598bf655484}{GetAddress} () << \textcolor{stringliteral}{" and "} << peerAddress);
263   Ptr<PeerLink> peerLink = \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_adc13cd9c290c7098d598af016b606133}{FindPeerLink} (interface, peerAddress);
264   \textcolor{keywordflow}{if} (peerLink != 0)
265     \{
266       peerLink->TransmissionSuccess ();
267     \}
268 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 32


\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!Tu\+To\+Time@{Tu\+To\+Time}}
\index{Tu\+To\+Time@{Tu\+To\+Time}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{Tu\+To\+Time(int x)}{TuToTime(int x)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::\+Tu\+To\+Time (
\begin{DoxyParamCaption}
\item[{int}]{x}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_adcc7f057f6fa22012b3ee72cf57e2082}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_adcc7f057f6fa22012b3ee72cf57e2082}

\begin{DoxyCode}
460 \{
461   \textcolor{keywordflow}{return} \hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (\hyperlink{lte__link__budget__x2__handover__measures_8m_a9336ebf25087d91c818ee6e9ec29f8c1}{x} * 1024);
462 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 33




Here is the caller graph for this function\+:
% FIG 34




\subsection{Member Data Documentation}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+address@{m\+\_\+address}}
\index{m\+\_\+address@{m\+\_\+address}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+address}{m_address}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+address\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_abe566c402f630f4df83bdeb2e84a1343}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_abe566c402f630f4df83bdeb2e84a1343}


addresss 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+beacon\+Interval@{m\+\_\+beacon\+Interval}}
\index{m\+\_\+beacon\+Interval@{m\+\_\+beacon\+Interval}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+beacon\+Interval}{m_beaconInterval}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint32\+\_\+t, {\bf Time}$>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+beacon\+Interval\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a915ce7d45ccdfa57b75bc300745974fa}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a915ce7d45ccdfa57b75bc300745974fa}


Beacon interval at each interface. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+beacon\+Shift@{m\+\_\+beacon\+Shift}}
\index{m\+\_\+beacon\+Shift@{m\+\_\+beacon\+Shift}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+beacon\+Shift}{m_beaconShift}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Uniform\+Random\+Variable}$>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+beacon\+Shift\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_aa585248112e462ce3af050830715416b}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_aa585248112e462ce3af050830715416b}


Add randomness to beacon shift. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+enable\+Bca@{m\+\_\+enable\+Bca}}
\index{m\+\_\+enable\+Bca@{m\+\_\+enable\+Bca}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+enable\+Bca}{m_enableBca}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+enable\+Bca\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_ae4cfbd2292a8d214ae8820fa6369763a}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_ae4cfbd2292a8d214ae8820fa6369763a}


Flag which enables B\+CA. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+last\+Assoc\+Id@{m\+\_\+last\+Assoc\+Id}}
\index{m\+\_\+last\+Assoc\+Id@{m\+\_\+last\+Assoc\+Id}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Assoc\+Id}{m_lastAssocId}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+last\+Assoc\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a675ea75c871f2436886b62d22821ffef}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a675ea75c871f2436886b62d22821ffef}


last associated ID 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+last\+Beacon@{m\+\_\+last\+Beacon}}
\index{m\+\_\+last\+Beacon@{m\+\_\+last\+Beacon}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Beacon}{m_lastBeacon}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint32\+\_\+t, {\bf Time}$>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+last\+Beacon\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a8d3adf393b3f4d96d60285132b1004da}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a8d3adf393b3f4d96d60285132b1004da}


Last beacon at each interface. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+last\+Local\+Link\+Id@{m\+\_\+last\+Local\+Link\+Id}}
\index{m\+\_\+last\+Local\+Link\+Id@{m\+\_\+last\+Local\+Link\+Id}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Local\+Link\+Id}{m_lastLocalLinkId}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+last\+Local\+Link\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_ae06ce79f95d75c8a89b3d74d98ff8ee8}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_ae06ce79f95d75c8a89b3d74d98ff8ee8}


last local link ID 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+link\+Close\+Trace\+Src@{m\+\_\+link\+Close\+Trace\+Src}}
\index{m\+\_\+link\+Close\+Trace\+Src@{m\+\_\+link\+Close\+Trace\+Src}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+link\+Close\+Trace\+Src}{m_linkCloseTraceSrc}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Link\+Event\+Callback} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+link\+Close\+Trace\+Src\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_ab814d2f94277d15843a33433b31d82f8}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_ab814d2f94277d15843a33433b31d82f8}


Link\+Close trace source. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+link\+Open\+Trace\+Src@{m\+\_\+link\+Open\+Trace\+Src}}
\index{m\+\_\+link\+Open\+Trace\+Src@{m\+\_\+link\+Open\+Trace\+Src}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+link\+Open\+Trace\+Src}{m_linkOpenTraceSrc}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Link\+Event\+Callback} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+link\+Open\+Trace\+Src\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a33560f4e34a457118de89f3ed3859d4e}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a33560f4e34a457118de89f3ed3859d4e}


Link\+Open trace source. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+max\+Beacon\+Shift@{m\+\_\+max\+Beacon\+Shift}}
\index{m\+\_\+max\+Beacon\+Shift@{m\+\_\+max\+Beacon\+Shift}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+max\+Beacon\+Shift}{m_maxBeaconShift}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+max\+Beacon\+Shift\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a23968eb845fa63fe87f303d2e21e77f0}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a23968eb845fa63fe87f303d2e21e77f0}


Beacon can be shifted at \mbox{[}-\/m\+\_\+max\+Beacon\+Shift; +m\+\_\+max\+Beacon\+Shift\mbox{]} T\+Us. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+max\+Number\+Of\+Peer\+Links@{m\+\_\+max\+Number\+Of\+Peer\+Links}}
\index{m\+\_\+max\+Number\+Of\+Peer\+Links@{m\+\_\+max\+Number\+Of\+Peer\+Links}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+max\+Number\+Of\+Peer\+Links}{m_maxNumberOfPeerLinks}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+max\+Number\+Of\+Peer\+Links\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a1cc5292332f46a548fd3ac6c2bec373a}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a1cc5292332f46a548fd3ac6c2bec373a}
maimum number of peer links \index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+mesh\+Id@{m\+\_\+mesh\+Id}}
\index{m\+\_\+mesh\+Id@{m\+\_\+mesh\+Id}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+mesh\+Id}{m_meshId}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Ie\+Mesh\+Id}$>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+mesh\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_ac69302a75abb04daf0dbf105451e0365}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_ac69302a75abb04daf0dbf105451e0365}


mesh ID 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+peer\+Links@{m\+\_\+peer\+Links}}
\index{m\+\_\+peer\+Links@{m\+\_\+peer\+Links}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+peer\+Links}{m_peerLinks}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Peer\+Links\+Map} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+peer\+Links\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_aa4522af32720f04cfbb693adb2024c55}
\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+peer\+Status\+Callback@{m\+\_\+peer\+Status\+Callback}}
\index{m\+\_\+peer\+Status\+Callback@{m\+\_\+peer\+Status\+Callback}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+peer\+Status\+Callback}{m_peerStatusCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Callback}$<$void, {\bf Mac48\+Address}, {\bf Mac48\+Address}, uint32\+\_\+t, bool$>$ ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+peer\+Status\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a13e049e3ed8a3eb6adb1aab09c9aa88f}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a13e049e3ed8a3eb6adb1aab09c9aa88f}


\hyperlink{classns3_1_1Callback}{Callback} to notify about peer link changes\+: \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} is peer address of mesh point, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} is peer address of interface, uint32\+\_\+t -\/ interface ID, bool is status -\/ true when new link has appeared, false -\/ when link was closed,. 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+plugins@{m\+\_\+plugins}}
\index{m\+\_\+plugins@{m\+\_\+plugins}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+plugins}{m_plugins}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Peer\+Management\+Protocol\+Mac\+Map} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+plugins\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a9000d20f6feb3db279a020b237f49d64}


plugins 

\index{ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}!m\+\_\+stats@{m\+\_\+stats}}
\index{m\+\_\+stats@{m\+\_\+stats}!ns3\+::dot11s\+::\+Peer\+Management\+Protocol@{ns3\+::dot11s\+::\+Peer\+Management\+Protocol}}
\subsubsection[{\texorpdfstring{m\+\_\+stats}{m_stats}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf Statistics} ns3\+::dot11s\+::\+Peer\+Management\+Protocol\+::m\+\_\+stats\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}{}\label{classns3_1_1dot11s_1_1PeerManagementProtocol_a3f618c99718829447348b1ad19b208d7}


statistics 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
mesh/model/dot11s/\hyperlink{peer-management-protocol_8h}{peer-\/management-\/protocol.\+h}\item 
mesh/model/dot11s/\hyperlink{peer-management-protocol_8cc}{peer-\/management-\/protocol.\+cc}\end{DoxyCompactItemize}
