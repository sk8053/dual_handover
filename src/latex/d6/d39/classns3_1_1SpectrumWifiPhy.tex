\hypertarget{classns3_1_1SpectrumWifiPhy}{}\section{ns3\+:\+:Spectrum\+Wifi\+Phy Class Reference}
\label{classns3_1_1SpectrumWifiPhy}\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}


802.\+11 P\+HY layer model

This P\+HY implements a spectrum-\/aware enhancement of the 802.\+11 \hyperlink{classns3_1_1SpectrumWifiPhy}{Spectrum\+Wifi\+Phy} model.  




{\ttfamily \#include $<$spectrum-\/wifi-\/phy.\+h$>$}



Inheritance diagram for ns3\+:\+:Spectrum\+Wifi\+Phy\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Spectrum\+Wifi\+Phy\+:
% FIG 1
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{classns3_1_1SpectrumWifiPhy_a72140c8b3f26575356e0293bfc7e09ac}{Signal\+Arrival\+Callback}) (bool signal\+Type, uint32\+\_\+t sender\+Node\+Id, double rx\+Power, \hyperlink{classns3_1_1Time}{Time} duration)
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1SpectrumWifiPhy_ac761f009c19b350fba26ddfbd2f1362d}{Spectrum\+Wifi\+Phy} ()
\item 
virtual \hyperlink{classns3_1_1SpectrumWifiPhy_ae0d612264f0fe17162feaf005b435045}{$\sim$\+Spectrum\+Wifi\+Phy} ()
\item 
void \hyperlink{classns3_1_1SpectrumWifiPhy_a14a2097a593f95c345c5f3a1793c6297}{Set\+Channel} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumChannel}{Spectrum\+Channel} $>$ channel)
\item 
void \hyperlink{classns3_1_1SpectrumWifiPhy_a948c6d197accf2028529a2842ec68816}{Add\+Operational\+Channel} (uint8\+\_\+t channel\+Number)
\item 
std\+::vector$<$ uint8\+\_\+t $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_acccc5334906573f2c79e2f9284100c5a}{Get\+Operational\+Channel\+List} (void) const 
\item 
void \hyperlink{classns3_1_1SpectrumWifiPhy_acb3f2f3a32236fa5fdeed1986b28fe04}{Clear\+Operational\+Channel\+List} (void)
\item 
void \hyperlink{classns3_1_1SpectrumWifiPhy_aead1ebdbaf59361928cd6ffa7abc3161}{Start\+Rx} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{structns3_1_1SpectrumSignalParameters}{Spectrum\+Signal\+Parameters} $>$ rx\+Params)
\item 
void \hyperlink{classns3_1_1SpectrumWifiPhy_ae0e6d5affdd06543c8fcfed2959e438a}{Start\+Tx} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} tx\+Vector, \hyperlink{classns3_1_1Time}{Time} tx\+Duration)
\item 
void \hyperlink{classns3_1_1SpectrumWifiPhy_aff75ea7c57389e929f1cf0743ce83663}{Create\+Wifi\+Spectrum\+Phy\+Interface} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ device)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiSpectrumPhyInterface}{Wifi\+Spectrum\+Phy\+Interface} $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_a7ef3e2412c0bbdcaa643c63f0d74c190}{Get\+Spectrum\+Phy} (void) const 
\item 
void \hyperlink{classns3_1_1SpectrumWifiPhy_a88b77aa3e375c573bd5ae5cf42cea91f}{Set\+Antenna} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1AntennaModel}{Antenna\+Model} $>$ antenna)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1AntennaModel}{Antenna\+Model} $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_ac4f0e5f8325b8183eb5ba244fdb59609}{Get\+Rx\+Antenna} (void) const 
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_a97be1277207ea9f9361fb90a4d0e7e4f}{Get\+Rx\+Spectrum\+Model} () const 
\item 
double \hyperlink{classns3_1_1SpectrumWifiPhy_a2028d03c5fa0c7683ea23c6ada450d84}{Get\+Band\+Bandwidth} (void) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1SpectrumWifiPhy_a5a24b5d646d3968cf4678a814156edfe}{Get\+Guard\+Bandwidth} (void) const 
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Channel}{Channel} $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_abbd2eb373e160f13ccdd4c46cffdda9d}{Get\+Channel} (void) const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1SpectrumWifiPhy_ab5d9c31f2c818da445b72959f18ed5a4}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1SpectrumWifiPhy_a76f043f6339742355a5e053496a414f6}{Do\+Dispose} (void)
\item 
void \hyperlink{classns3_1_1SpectrumWifiPhy_ab421902e520fa6430d8ca2c64c00878c}{Do\+Initialize} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_a36d579959efb946f0ebb3725c3b9ae47}{Get\+Tx\+Power\+Spectral\+Density} (uint16\+\_\+t center\+Frequency, uint8\+\_\+t channel\+Width, double tx\+PowerW, \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217}{Wifi\+Modulation\+Class} modulation\+Class) const 
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumChannel}{Spectrum\+Channel} $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_a43a85d339058e0e48a1932cbf60650b0}{m\+\_\+channel}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1SpectrumChannel}{Spectrum\+Channel} that this \hyperlink{classns3_1_1SpectrumWifiPhy}{Spectrum\+Wifi\+Phy} is connected to. \end{DoxyCompactList}\item 
std\+::vector$<$ uint8\+\_\+t $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_a8658f020e635d4d689bb99d1e71e81c1}{m\+\_\+operational\+Channel\+List}
\begin{DoxyCompactList}\small\item\em List of possible channels. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiSpectrumPhyInterface}{Wifi\+Spectrum\+Phy\+Interface} $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{m\+\_\+wifi\+Spectrum\+Phy\+Interface}
\begin{DoxyCompactList}\small\item\em Spectrum phy interface. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1AntennaModel}{Antenna\+Model} $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_a54db14b60533b3c2d82f1b001eb17d6c}{m\+\_\+antenna}
\begin{DoxyCompactList}\small\item\em antenna model \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_ad3fd35b0100f628c126092dde86a939c}{m\+\_\+rx\+Spectrum\+Model}
\begin{DoxyCompactList}\small\item\em receive spectrum model \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1SpectrumWifiPhy_aceccd3aa8c8e75ac9c136b089a10176b}{m\+\_\+disable\+Wifi\+Reception}
\begin{DoxyCompactList}\small\item\em forces this Phy to fail to sync on any signal \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ bool, uint32\+\_\+t, double, \hyperlink{classns3_1_1Time}{Time} $>$ \hyperlink{classns3_1_1SpectrumWifiPhy_a0be57ff837cdbd31902f670ea5bbabe2}{m\+\_\+signal\+Cb}
\begin{DoxyCompactList}\small\item\em Signal callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
802.\+11 P\+HY layer model

This P\+HY implements a spectrum-\/aware enhancement of the 802.\+11 \hyperlink{classns3_1_1SpectrumWifiPhy}{Spectrum\+Wifi\+Phy} model. 

This P\+HY model depends on a channel loss and delay model as provided by the \hyperlink{classns3_1_1SpectrumPropagationLossModel}{ns3\+::\+Spectrum\+Propagation\+Loss\+Model} and \hyperlink{classns3_1_1PropagationDelayModel}{ns3\+::\+Propagation\+Delay\+Model} classes. 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Signal\+Arrival\+Callback@{Signal\+Arrival\+Callback}}
\index{Signal\+Arrival\+Callback@{Signal\+Arrival\+Callback}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Signal\+Arrival\+Callback}{SignalArrivalCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$  ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Signal\+Arrival\+Callback) (bool signal\+Type, uint32\+\_\+t sender\+Node\+Id, double rx\+Power, {\bf Time} duration)}\hypertarget{classns3_1_1SpectrumWifiPhy_a72140c8b3f26575356e0293bfc7e09ac}{}\label{classns3_1_1SpectrumWifiPhy_a72140c8b3f26575356e0293bfc7e09ac}
\hyperlink{classns3_1_1Callback}{Callback} invoked when the Phy model starts to process a signal


\begin{DoxyParams}{Parameters}
{\em signal\+Type} & Whether signal is Wi\+Fi (true) or foreign (false) \\
\hline
{\em sender\+Node\+Id} & \hyperlink{classns3_1_1Node}{Node} Id of the sender of the signal \\
\hline
{\em rx\+Power} & received signal power (d\+Bm) \\
\hline
{\em duration} & Signal duration \\
\hline
\end{DoxyParams}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Spectrum\+Wifi\+Phy@{Spectrum\+Wifi\+Phy}}
\index{Spectrum\+Wifi\+Phy@{Spectrum\+Wifi\+Phy}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Spectrum\+Wifi\+Phy()}{SpectrumWifiPhy()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Spectrum\+Wifi\+Phy (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SpectrumWifiPhy_ac761f009c19b350fba26ddfbd2f1362d}{}\label{classns3_1_1SpectrumWifiPhy_ac761f009c19b350fba26ddfbd2f1362d}

\begin{DoxyCode}
59 \{
60   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
61 \}
\end{DoxyCode}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!````~Spectrum\+Wifi\+Phy@{$\sim$\+Spectrum\+Wifi\+Phy}}
\index{````~Spectrum\+Wifi\+Phy@{$\sim$\+Spectrum\+Wifi\+Phy}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{$\sim$\+Spectrum\+Wifi\+Phy()}{~SpectrumWifiPhy()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Spectrum\+Wifi\+Phy\+::$\sim$\+Spectrum\+Wifi\+Phy (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SpectrumWifiPhy_ae0d612264f0fe17162feaf005b435045}{}\label{classns3_1_1SpectrumWifiPhy_ae0d612264f0fe17162feaf005b435045}

\begin{DoxyCode}
64 \{
65   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
66 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Add\+Operational\+Channel@{Add\+Operational\+Channel}}
\index{Add\+Operational\+Channel@{Add\+Operational\+Channel}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Add\+Operational\+Channel(uint8\+\_\+t channel\+Number)}{AddOperationalChannel(uint8_t channelNumber)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Add\+Operational\+Channel (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{channel\+Number}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SpectrumWifiPhy_a948c6d197accf2028529a2842ec68816}{}\label{classns3_1_1SpectrumWifiPhy_a948c6d197accf2028529a2842ec68816}
Add a channel number to the list of operational channels. This method is used to support scanning for strongest base station.


\begin{DoxyParams}{Parameters}
{\em channel\+Number} & the channel number to add \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
130 \{
131   \hyperlink{classns3_1_1SpectrumWifiPhy_a8658f020e635d4d689bb99d1e71e81c1}{m\_operationalChannelList}.push\_back (channelNumber);
132 \}
\end{DoxyCode}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Clear\+Operational\+Channel\+List@{Clear\+Operational\+Channel\+List}}
\index{Clear\+Operational\+Channel\+List@{Clear\+Operational\+Channel\+List}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Clear\+Operational\+Channel\+List(void)}{ClearOperationalChannelList(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Clear\+Operational\+Channel\+List (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SpectrumWifiPhy_acb3f2f3a32236fa5fdeed1986b28fe04}{}\label{classns3_1_1SpectrumWifiPhy_acb3f2f3a32236fa5fdeed1986b28fe04}
Clear the list of operational channels. 
\begin{DoxyCode}
151 \{
152   \hyperlink{classns3_1_1SpectrumWifiPhy_a8658f020e635d4d689bb99d1e71e81c1}{m\_operationalChannelList}.clear ();
153 \}
\end{DoxyCode}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Create\+Wifi\+Spectrum\+Phy\+Interface@{Create\+Wifi\+Spectrum\+Phy\+Interface}}
\index{Create\+Wifi\+Spectrum\+Phy\+Interface@{Create\+Wifi\+Spectrum\+Phy\+Interface}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Create\+Wifi\+Spectrum\+Phy\+Interface(\+Ptr$<$ Net\+Device $>$ device)}{CreateWifiSpectrumPhyInterface(Ptr< NetDevice > device)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Create\+Wifi\+Spectrum\+Phy\+Interface (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Net\+Device} $>$}]{device}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SpectrumWifiPhy_aff75ea7c57389e929f1cf0743ce83663}{}\label{classns3_1_1SpectrumWifiPhy_aff75ea7c57389e929f1cf0743ce83663}
Method to encapsulate the creation of the \hyperlink{classns3_1_1WifiSpectrumPhyInterface}{Wifi\+Spectrum\+Phy\+Interface} object (used to bind the Wifi\+Spectrum\+Phy to a \hyperlink{classns3_1_1SpectrumChannel}{Spectrum\+Channel}) and to link it to this \hyperlink{classns3_1_1SpectrumWifiPhy}{Spectrum\+Wifi\+Phy} instance


\begin{DoxyParams}{Parameters}
{\em device} & pointer to the \hyperlink{classns3_1_1NetDevice}{Net\+Device} object including this new object \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
223 \{
224   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << device);
225   \hyperlink{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{m\_wifiSpectrumPhyInterface} = CreateObject<WifiSpectrumPhyInterface> ();
226   \hyperlink{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{m\_wifiSpectrumPhyInterface}->SetSpectrumWifiPhy (\textcolor{keyword}{this});
227   \hyperlink{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{m\_wifiSpectrumPhyInterface}->SetDevice (device);
228 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1SpectrumWifiPhy_a76f043f6339742355a5e053496a414f6}{}\label{classns3_1_1SpectrumWifiPhy_a76f043f6339742355a5e053496a414f6}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1SpectrumWifiPhy_a76f043f6339742355a5e053496a414f6}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1WifiPhy_a3666d8effffb593fe71b0499575d4003}{ns3\+::\+Wifi\+Phy}.


\begin{DoxyCode}
70 \{
71   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
72   \hyperlink{classns3_1_1SpectrumWifiPhy_a43a85d339058e0e48a1932cbf60650b0}{m\_channel} = 0;
73   \hyperlink{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{m\_wifiSpectrumPhyInterface} = 0;
74 \}
\end{DoxyCode}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Do\+Initialize@{Do\+Initialize}}
\index{Do\+Initialize@{Do\+Initialize}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Initialize(void)}{DoInitialize(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Do\+Initialize (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1SpectrumWifiPhy_ab421902e520fa6430d8ca2c64c00878c}{}\label{classns3_1_1SpectrumWifiPhy_ab421902e520fa6430d8ca2c64c00878c}
\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} implementation.

This method is called only once by \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()}. If the user calls \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} multiple times, \hyperlink{classns3_1_1SpectrumWifiPhy_ab421902e520fa6430d8ca2c64c00878c}{Do\+Initialize()} is called only the first time.

Subclasses are expected to override this method and chain up to their parent\textquotesingle{}s implementation once they are done. It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} and \hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{Aggregate\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1WifiPhy_a68893b4e3f8a24af4f882906c42ce9c2}{ns3\+::\+Wifi\+Phy}.


\begin{DoxyCode}
78 \{
79   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
80   \hyperlink{classns3_1_1WifiPhy_a68893b4e3f8a24af4f882906c42ce9c2}{WifiPhy::DoInitialize} ();
81   \textcolor{comment}{// This connection is deferred until frequency and channel width are set}
82   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SpectrumWifiPhy_a43a85d339058e0e48a1932cbf60650b0}{m\_channel} && \hyperlink{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{m\_wifiSpectrumPhyInterface})
83     \{
84       \hyperlink{classns3_1_1SpectrumWifiPhy_a43a85d339058e0e48a1932cbf60650b0}{m\_channel}->AddRx (\hyperlink{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{m\_wifiSpectrumPhyInterface});
85     \}
86   \textcolor{keywordflow}{else}
87     \{
88       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"SpectrumWifiPhy misses channel and WifiSpectrumPhyInterface objects at
       initialization time"});
89     \}
90 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Get\+Band\+Bandwidth@{Get\+Band\+Bandwidth}}
\index{Get\+Band\+Bandwidth@{Get\+Band\+Bandwidth}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Band\+Bandwidth(void) const }{GetBandBandwidth(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Get\+Band\+Bandwidth (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1SpectrumWifiPhy_a2028d03c5fa0c7683ea23c6ada450d84}{}\label{classns3_1_1SpectrumWifiPhy_a2028d03c5fa0c7683ea23c6ada450d84}
\begin{DoxyReturn}{Returns}
the width of each band (Hz) 
\end{DoxyReturn}

\begin{DoxyCode}
279 \{
280   \textcolor{keywordtype}{double} bandBandwidth = 0;
281   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1WifiPhy_af33f60586f8e0bd1763b863e7ce193b2}{GetStandard} ())
282     \{
283     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a22db1e8022db2c3450414b86c77b11e4}{WIFI\_PHY\_STANDARD\_80211a}:
284     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49aeda6d90f260393ce003ec4765d8100af}{WIFI\_PHY\_STANDARD\_80211g}:
285     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49aca926d77ddca0fc6d8cdcb190b2e520e}{WIFI\_PHY\_STANDARD\_holland}:
286     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49aff863c98db467eb76170dc8bbe743de7}{WIFI\_PHY\_STANDARD\_80211\_10MHZ}:
287     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a8311083bdd8ae58e73ab6e81a53fd7be}{WIFI\_PHY\_STANDARD\_80211\_5MHZ}:
288     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a77e1cc9f77a0bce8e2bc82cbef437b5a}{WIFI\_PHY\_STANDARD\_80211b}:
289     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a6e449a5ca14fc7c0eb36064ce04a5192}{WIFI\_PHY\_STANDARD\_80211n\_2\_4GHZ}:
290     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49aaabe94a0be4668583c42595437b4a6c0}{WIFI\_PHY\_STANDARD\_80211n\_5GHZ}:
291     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a7c078959de635b84fb280a955dcfb27e}{WIFI\_PHY\_STANDARD\_80211ac}:
292       \textcolor{comment}{// Use OFDM subcarrier width of 312.5 KHz as band granularity}
293       bandBandwidth = 312500;
294       \textcolor{keywordflow}{break};
295     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a21cd71f16aa85df0b571d52f9217f330}{WIFI\_PHY\_STANDARD\_80211ax\_2\_4GHZ}:
296     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49af5b1e598f5b0d88c961c90ad1742355f}{WIFI\_PHY\_STANDARD\_80211ax\_5GHZ}:
297       \textcolor{comment}{// Use OFDM subcarrier width of 78.125 KHz as band granularity}
298       bandBandwidth = 78125;
299       \textcolor{keywordflow}{break};
300     \textcolor{keywordflow}{default}:
301       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Standard unknown: "} << \hyperlink{classns3_1_1WifiPhy_af33f60586f8e0bd1763b863e7ce193b2}{GetStandard} ());
302       \textcolor{keywordflow}{break};
303     \}
304   \textcolor{keywordflow}{return} bandBandwidth;
305 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Get\+Channel@{Get\+Channel}}
\index{Get\+Channel@{Get\+Channel}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Channel(void) const }{GetChannel(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Channel} $>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Get\+Channel (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SpectrumWifiPhy_abbd2eb373e160f13ccdd4c46cffdda9d}{}\label{classns3_1_1SpectrumWifiPhy_abbd2eb373e160f13ccdd4c46cffdda9d}
Return the \hyperlink{classns3_1_1Channel}{Channel} this \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} is connected to.

\begin{DoxyReturn}{Returns}
the \hyperlink{classns3_1_1Channel}{Channel} this \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} is connected to 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1WifiPhy_afa06077425565033505674c1b122c2e8}{ns3\+::\+Wifi\+Phy}.


\begin{DoxyCode}
118 \{
119   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SpectrumWifiPhy_a43a85d339058e0e48a1932cbf60650b0}{m\_channel};
120 \}
\end{DoxyCode}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Get\+Guard\+Bandwidth@{Get\+Guard\+Bandwidth}}
\index{Get\+Guard\+Bandwidth@{Get\+Guard\+Bandwidth}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Guard\+Bandwidth(void) const }{GetGuardBandwidth(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Get\+Guard\+Bandwidth (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1SpectrumWifiPhy_a5a24b5d646d3968cf4678a814156edfe}{}\label{classns3_1_1SpectrumWifiPhy_a5a24b5d646d3968cf4678a814156edfe}
\begin{DoxyReturn}{Returns}
the width of the guard band (M\+Hz) 
\end{DoxyReturn}

\begin{DoxyCode}
309 \{
310   \textcolor{keywordtype}{double} guardBandwidth = 0;
311   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1WifiPhy_af33f60586f8e0bd1763b863e7ce193b2}{GetStandard} ())
312     \{
313     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a22db1e8022db2c3450414b86c77b11e4}{WIFI\_PHY\_STANDARD\_80211a}:
314     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49aeda6d90f260393ce003ec4765d8100af}{WIFI\_PHY\_STANDARD\_80211g}:
315     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49aca926d77ddca0fc6d8cdcb190b2e520e}{WIFI\_PHY\_STANDARD\_holland}:
316     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49aff863c98db467eb76170dc8bbe743de7}{WIFI\_PHY\_STANDARD\_80211\_10MHZ}:
317     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a8311083bdd8ae58e73ab6e81a53fd7be}{WIFI\_PHY\_STANDARD\_80211\_5MHZ}:
318     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a77e1cc9f77a0bce8e2bc82cbef437b5a}{WIFI\_PHY\_STANDARD\_80211b}:
319     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a6e449a5ca14fc7c0eb36064ce04a5192}{WIFI\_PHY\_STANDARD\_80211n\_2\_4GHZ}:
320     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49aaabe94a0be4668583c42595437b4a6c0}{WIFI\_PHY\_STANDARD\_80211n\_5GHZ}:
321     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a7c078959de635b84fb280a955dcfb27e}{WIFI\_PHY\_STANDARD\_80211ac}:
322     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49a21cd71f16aa85df0b571d52f9217f330}{WIFI\_PHY\_STANDARD\_80211ax\_2\_4GHZ}:
323     \textcolor{keywordflow}{case} \hyperlink{group__wifi_gga1299834f4e1c615af3ca738033b76a49af5b1e598f5b0d88c961c90ad1742355f}{WIFI\_PHY\_STANDARD\_80211ax\_5GHZ}:
324       \textcolor{comment}{// Use 10 MHZ}
325       guardBandwidth = 10;
326       \textcolor{keywordflow}{break};
327     \textcolor{keywordflow}{default}:
328       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Standard unknown: "} << \hyperlink{classns3_1_1WifiPhy_af33f60586f8e0bd1763b863e7ce193b2}{GetStandard} ());
329       \textcolor{keywordflow}{break};
330     \}
331   \textcolor{keywordflow}{return} guardBandwidth;
332 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Get\+Operational\+Channel\+List@{Get\+Operational\+Channel\+List}}
\index{Get\+Operational\+Channel\+List@{Get\+Operational\+Channel\+List}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Operational\+Channel\+List(void) const }{GetOperationalChannelList(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ uint8\+\_\+t $>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Get\+Operational\+Channel\+List (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1SpectrumWifiPhy_acccc5334906573f2c79e2f9284100c5a}{}\label{classns3_1_1SpectrumWifiPhy_acccc5334906573f2c79e2f9284100c5a}
Return a list of channels to which it may be possible to roam By default, this method will return the current channel number followed by any other channel numbers that have been added.

\begin{DoxyReturn}{Returns}
vector of channel numbers to which it may be possible to roam 
\end{DoxyReturn}

\begin{DoxyCode}
136 \{
137   std::vector<uint8\_t> channelList;
138   channelList.push\_back (\hyperlink{classns3_1_1WifiPhy_a5cf0ccf06109ace61db51c83e91b7e8d}{GetChannelNumber} ());  \textcolor{comment}{// first channel of list}
139   \textcolor{keywordflow}{for} (std::vector<uint8\_t>::size\_type \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1SpectrumWifiPhy_a8658f020e635d4d689bb99d1e71e81c1}{m\_operationalChannelList}.size 
      (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
140     \{
141       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SpectrumWifiPhy_a8658f020e635d4d689bb99d1e71e81c1}{m\_operationalChannelList}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] != 
      \hyperlink{classns3_1_1WifiPhy_a5cf0ccf06109ace61db51c83e91b7e8d}{GetChannelNumber} ())
142         \{
143           channelList.push\_back (\hyperlink{classns3_1_1SpectrumWifiPhy_a8658f020e635d4d689bb99d1e71e81c1}{m\_operationalChannelList}[
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]);
144         \}
145     \}
146   \textcolor{keywordflow}{return} channelList;
147 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Get\+Rx\+Antenna@{Get\+Rx\+Antenna}}
\index{Get\+Rx\+Antenna@{Get\+Rx\+Antenna}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Rx\+Antenna(void) const }{GetRxAntenna(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Antenna\+Model} $>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Get\+Rx\+Antenna (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1SpectrumWifiPhy_ac4f0e5f8325b8183eb5ba244fdb59609}{}\label{classns3_1_1SpectrumWifiPhy_ac4f0e5f8325b8183eb5ba244fdb59609}
Get the antenna model used for reception

\begin{DoxyReturn}{Returns}
the \hyperlink{classns3_1_1AntennaModel}{Antenna\+Model} used for reception 
\end{DoxyReturn}

\begin{DoxyCode}
210 \{
211   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SpectrumWifiPhy_a54db14b60533b3c2d82f1b001eb17d6c}{m\_antenna};
212 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Get\+Rx\+Spectrum\+Model@{Get\+Rx\+Spectrum\+Model}}
\index{Get\+Rx\+Spectrum\+Model@{Get\+Rx\+Spectrum\+Model}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Rx\+Spectrum\+Model() const }{GetRxSpectrumModel() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ const {\bf Spectrum\+Model} $>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Get\+Rx\+Spectrum\+Model (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1SpectrumWifiPhy_a97be1277207ea9f9361fb90a4d0e7e4f}{}\label{classns3_1_1SpectrumWifiPhy_a97be1277207ea9f9361fb90a4d0e7e4f}
\begin{DoxyReturn}{Returns}
returns the \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} that this \hyperlink{classns3_1_1SpectrumPhy}{Spectrum\+Phy} expects to be used for all Spectrum\+Values that are passed to Start\+Rx. If 0 is returned, it means that any model will be accepted. 
\end{DoxyReturn}

\begin{DoxyCode}
94 \{
95   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
96   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1SpectrumWifiPhy_ad3fd35b0100f628c126092dde86a939c}{m\_rxSpectrumModel})
97     \{
98       \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SpectrumWifiPhy_ad3fd35b0100f628c126092dde86a939c}{m\_rxSpectrumModel};
99     \}
100   \textcolor{keywordflow}{else}
101     \{
102       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} () == 0)
103         \{
104           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Frequency is not set; returning 0"});
105           \textcolor{keywordflow}{return} 0;
106         \}
107       \textcolor{keywordflow}{else}
108         \{
109           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Creating spectrum model from frequency/width pair of ("} << 
      \hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} () << \textcolor{stringliteral}{", "} << (uint16\_t)\hyperlink{classns3_1_1WifiPhy_a4a5d5009b3b3308f2baeed42a2007189}{GetChannelWidth} () << \textcolor{stringliteral}{")"});
110           \hyperlink{classns3_1_1SpectrumWifiPhy_ad3fd35b0100f628c126092dde86a939c}{m\_rxSpectrumModel} = 
      \hyperlink{classns3_1_1WifiSpectrumValueHelper_a09b58fb2741ff1a78ae6d952ad08b1bb}{WifiSpectrumValueHelper::GetSpectrumModel} (
      \hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} (), \hyperlink{classns3_1_1WifiPhy_a4a5d5009b3b3308f2baeed42a2007189}{GetChannelWidth} (), \hyperlink{classns3_1_1SpectrumWifiPhy_a2028d03c5fa0c7683ea23c6ada450d84}{GetBandBandwidth} (), 
      \hyperlink{classns3_1_1SpectrumWifiPhy_a5a24b5d646d3968cf4678a814156edfe}{GetGuardBandwidth} ());
111         \}
112     \}
113   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SpectrumWifiPhy_ad3fd35b0100f628c126092dde86a939c}{m\_rxSpectrumModel};
114 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Get\+Spectrum\+Phy@{Get\+Spectrum\+Phy}}
\index{Get\+Spectrum\+Phy@{Get\+Spectrum\+Phy}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Spectrum\+Phy(void) const }{GetSpectrumPhy(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Wifi\+Spectrum\+Phy\+Interface} $>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Get\+Spectrum\+Phy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1SpectrumWifiPhy_a7ef3e2412c0bbdcaa643c63f0d74c190}{}\label{classns3_1_1SpectrumWifiPhy_a7ef3e2412c0bbdcaa643c63f0d74c190}
\begin{DoxyReturn}{Returns}
pointer to \hyperlink{classns3_1_1WifiSpectrumPhyInterface}{Wifi\+Spectrum\+Phy\+Interface} associated with this Phy 
\end{DoxyReturn}

\begin{DoxyCode}
204 \{
205   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{m\_wifiSpectrumPhyInterface};
206 \}
\end{DoxyCode}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Get\+Tx\+Power\+Spectral\+Density@{Get\+Tx\+Power\+Spectral\+Density}}
\index{Get\+Tx\+Power\+Spectral\+Density@{Get\+Tx\+Power\+Spectral\+Density}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Tx\+Power\+Spectral\+Density(uint16\+\_\+t center\+Frequency, uint8\+\_\+t channel\+Width, double tx\+Power\+W, Wifi\+Modulation\+Class modulation\+Class) const }{GetTxPowerSpectralDensity(uint16_t centerFrequency, uint8_t channelWidth, double txPowerW, WifiModulationClass modulationClass) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Get\+Tx\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{center\+Frequency, }
\item[{uint8\+\_\+t}]{channel\+Width, }
\item[{double}]{tx\+PowerW, }
\item[{{\bf Wifi\+Modulation\+Class}}]{modulation\+Class}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumWifiPhy_a36d579959efb946f0ebb3725c3b9ae47}{}\label{classns3_1_1SpectrumWifiPhy_a36d579959efb946f0ebb3725c3b9ae47}

\begin{DoxyParams}{Parameters}
{\em center\+Frequency} & center frequency (M\+Hz) \\
\hline
{\em channel\+Width} & channel width (M\+Hz) of the channel \\
\hline
{\em tx\+PowerW} & power in W to spread across the bands \\
\hline
{\em modulation\+Class} & the modulation class \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classns3_1_1Ptr}{Ptr} to \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value}
\end{DoxyReturn}
This is a helper function to create the right Tx P\+SD corresponding to the standard in use. 
\begin{DoxyCode}
232 \{
233   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (centerFrequency << (uint16\_t)channelWidth << txPowerW);
234   Ptr<SpectrumValue> v;
235   \textcolor{keywordflow}{switch} (modulationClass)
236     \{
237     \textcolor{keywordflow}{case} \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a30a83a0318357c9611f09e6faadc8006}{WIFI\_MOD\_CLASS\_OFDM}:
238     \textcolor{keywordflow}{case} \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217afc1f5ef8d2c985f37a3224dd86ab014d}{WIFI\_MOD\_CLASS\_ERP\_OFDM}:
239       v = \hyperlink{classns3_1_1WifiSpectrumValueHelper_a32a14869505db7683618793e0dfd98a8}{WifiSpectrumValueHelper::CreateOfdmTxPowerSpectralDensity}
       (centerFrequency, channelWidth, txPowerW, \hyperlink{classns3_1_1SpectrumWifiPhy_a5a24b5d646d3968cf4678a814156edfe}{GetGuardBandwidth} ());
240       \textcolor{keywordflow}{break};
241     \textcolor{keywordflow}{case} \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217aed8070e1ee089724d73fe63030cc112c}{WIFI\_MOD\_CLASS\_DSSS}:
242     \textcolor{keywordflow}{case} \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a3c847bbae970f2de31e7b4eb7ff49840}{WIFI\_MOD\_CLASS\_HR\_DSSS}:
243       v = \hyperlink{classns3_1_1WifiSpectrumValueHelper_ac55866cbe19f3c45c3f985da5fe351f0}{WifiSpectrumValueHelper::CreateDsssTxPowerSpectralDensity}
       (centerFrequency, txPowerW, \hyperlink{classns3_1_1SpectrumWifiPhy_a5a24b5d646d3968cf4678a814156edfe}{GetGuardBandwidth} ());
244       \textcolor{keywordflow}{break};
245     \textcolor{keywordflow}{case} \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a6ac45cac36cc4454649435d24ebf349c}{WIFI\_MOD\_CLASS\_HT}:
246     \textcolor{keywordflow}{case} \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a9863e4342bf5c238c74dddfc4d96c67e}{WIFI\_MOD\_CLASS\_VHT}:
247       v = \hyperlink{classns3_1_1WifiSpectrumValueHelper_aa665281a873f271a23891864ea1e1051}{WifiSpectrumValueHelper::CreateHtOfdmTxPowerSpectralDensity}
       (centerFrequency, channelWidth, txPowerW, \hyperlink{classns3_1_1SpectrumWifiPhy_a5a24b5d646d3968cf4678a814156edfe}{GetGuardBandwidth} ());
248       \textcolor{keywordflow}{break};
249     \textcolor{keywordflow}{case} \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217abfa4f7272510045a9b43e8ac27ac13b0}{WIFI\_MOD\_CLASS\_HE}:
250       v = \hyperlink{classns3_1_1WifiSpectrumValueHelper_a35c32f78f5e62a70691a2d0472f8d6d9}{WifiSpectrumValueHelper::CreateHeOfdmTxPowerSpectralDensity}
       (centerFrequency, channelWidth, txPowerW, \hyperlink{classns3_1_1SpectrumWifiPhy_a5a24b5d646d3968cf4678a814156edfe}{GetGuardBandwidth} ());
251       \textcolor{keywordflow}{break};
252     \textcolor{keywordflow}{default}:
253       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"modulation class unknown: "} << modulationClass);
254       \textcolor{keywordflow}{break};
255     \}
256   \textcolor{keywordflow}{return} v;
257 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12




Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1SpectrumWifiPhy_ab5d9c31f2c818da445b72959f18ed5a4}{}\label{classns3_1_1SpectrumWifiPhy_ab5d9c31f2c818da445b72959f18ed5a4}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
41 \{
42   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::SpectrumWifiPhy"})
43     .SetParent<\hyperlink{classns3_1_1WifiPhy_af11e50617477d1ce0069512d7433ceaa}{WifiPhy}> ()
44     .SetGroupName (\textcolor{stringliteral}{"Wifi"})
45     .AddConstructor<\hyperlink{classns3_1_1SpectrumWifiPhy_ac761f009c19b350fba26ddfbd2f1362d}{SpectrumWifiPhy}> ()
46     .AddAttribute (\textcolor{stringliteral}{"DisableWifiReception"}, \textcolor{stringliteral}{"Prevent Wi-Fi frame sync from ever happening"},
47                    BooleanValue (\textcolor{keyword}{false}),
48                    MakeBooleanAccessor (&\hyperlink{classns3_1_1SpectrumWifiPhy_aceccd3aa8c8e75ac9c136b089a10176b}{SpectrumWifiPhy::m\_disableWifiReception}
      ),
49                    MakeBooleanChecker ())
50     .AddTraceSource (\textcolor{stringliteral}{"SignalArrival"},
51                      \textcolor{stringliteral}{"Signal arrival"},
52                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1SpectrumWifiPhy_a0be57ff837cdbd31902f670ea5bbabe2}{SpectrumWifiPhy::m\_signalCb}),
53                      \textcolor{stringliteral}{"ns3::SpectrumWifiPhy::SignalArrivalCallback"})
54   ;
55   \textcolor{keywordflow}{return} tid;
56 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Set\+Antenna@{Set\+Antenna}}
\index{Set\+Antenna@{Set\+Antenna}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Antenna(\+Ptr$<$ Antenna\+Model $>$ antenna)}{SetAntenna(Ptr< AntennaModel > antenna)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Set\+Antenna (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Antenna\+Model} $>$}]{antenna}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SpectrumWifiPhy_a88b77aa3e375c573bd5ae5cf42cea91f}{}\label{classns3_1_1SpectrumWifiPhy_a88b77aa3e375c573bd5ae5cf42cea91f}

\begin{DoxyParams}{Parameters}
{\em antenna} & an \hyperlink{classns3_1_1AntennaModel}{Antenna\+Model} to include in the transmitted \hyperlink{structns3_1_1SpectrumSignalParameters}{Spectrum\+Signal\+Parameters} (in case any objects downstream of the \hyperlink{classns3_1_1SpectrumWifiPhy}{Spectrum\+Wifi\+Phy} wish to adjust signal properties based on the transmitted antenna model. This antenna is also used when the underlying \hyperlink{classns3_1_1WifiSpectrumPhyInterface_a3220c5ea30680fd23d1d95dac2ece377}{Wifi\+Spectrum\+Phy\+Interface\+::\+Get\+Rx\+Antenna()} method is called.\\
\hline
\end{DoxyParams}
Note\+: this method may be split into separate Set\+Tx and Set\+Rx methods in the future if the modelling need for this arises 
\begin{DoxyCode}
216 \{
217   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << a);
218   \hyperlink{classns3_1_1SpectrumWifiPhy_a54db14b60533b3c2d82f1b001eb17d6c}{m\_antenna} = a;
219 \}
\end{DoxyCode}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Set\+Channel@{Set\+Channel}}
\index{Set\+Channel@{Set\+Channel}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Channel(\+Ptr$<$ Spectrum\+Channel $>$ channel)}{SetChannel(Ptr< SpectrumChannel > channel)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Set\+Channel (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Spectrum\+Channel} $>$}]{channel}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SpectrumWifiPhy_a14a2097a593f95c345c5f3a1793c6297}{}\label{classns3_1_1SpectrumWifiPhy_a14a2097a593f95c345c5f3a1793c6297}
Set the \hyperlink{classns3_1_1SpectrumChannel}{Spectrum\+Channel} this \hyperlink{classns3_1_1SpectrumWifiPhy}{Spectrum\+Wifi\+Phy} is to be connected to.


\begin{DoxyParams}{Parameters}
{\em channel} & the \hyperlink{classns3_1_1SpectrumChannel}{Spectrum\+Channel} this \hyperlink{classns3_1_1SpectrumWifiPhy}{Spectrum\+Wifi\+Phy} is to be connected to \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
124 \{
125   \hyperlink{classns3_1_1SpectrumWifiPhy_a43a85d339058e0e48a1932cbf60650b0}{m\_channel} = channel;
126 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Start\+Rx@{Start\+Rx}}
\index{Start\+Rx@{Start\+Rx}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Start\+Rx(\+Ptr$<$ Spectrum\+Signal\+Parameters $>$ rx\+Params)}{StartRx(Ptr< SpectrumSignalParameters > rxParams)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Start\+Rx (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Spectrum\+Signal\+Parameters} $>$}]{rx\+Params}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1SpectrumWifiPhy_aead1ebdbaf59361928cd6ffa7abc3161}{}\label{classns3_1_1SpectrumWifiPhy_aead1ebdbaf59361928cd6ffa7abc3161}
Input method for delivering a signal from the spectrum channel and low-\/level Phy interface to this \hyperlink{classns3_1_1SpectrumWifiPhy}{Spectrum\+Wifi\+Phy} instance.


\begin{DoxyParams}{Parameters}
{\em rx\+Params} & Input signal parameters \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
157 \{
158   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rxParams);
159   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} rxDuration = rxParams->duration;
160   Ptr<SpectrumValue> receivedSignalPsd = rxParams->psd;
161   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Received signal with PSD "} << *receivedSignalPsd << \textcolor{stringliteral}{" and duration "} << 
      rxDuration.As (\hyperlink{classns3_1_1Time_a87a7f4d29c68b047a72d291ad660295aae324232af1b8cf625cecd92a22e0f2dc}{Time::NS}));
162   uint32\_t senderNodeId = 0;
163   \textcolor{keywordflow}{if} (rxParams->txPhy)
164     \{
165       senderNodeId = rxParams->txPhy->GetDevice ()->GetNode ()->GetId ();
166     \}
167   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Received signal from "} << senderNodeId << \textcolor{stringliteral}{" with unfiltered power "} << 
      \hyperlink{namespacens3_a256abf4ba6bab6e20f8419fff00e73e2}{WToDbm} (\hyperlink{namespacens3_a3dd3817567502f8bc77b04e47134c070}{Integral} (*receivedSignalPsd)) << \textcolor{stringliteral}{" dBm"});
168   \textcolor{comment}{// Integrate over our receive bandwidth (i.e., all that the receive}
169   \textcolor{comment}{// spectral mask representing our filtering allows) to find the}
170   \textcolor{comment}{// total energy apparent to the "demodulator".}
171   Ptr<SpectrumValue> filter = \hyperlink{classns3_1_1WifiSpectrumValueHelper_a1d613cc1d50378be01db8b715928c8d1}{WifiSpectrumValueHelper::CreateRfFilter}
       (\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} (), \hyperlink{classns3_1_1WifiPhy_a4a5d5009b3b3308f2baeed42a2007189}{GetChannelWidth} (), 
      \hyperlink{classns3_1_1SpectrumWifiPhy_a2028d03c5fa0c7683ea23c6ada450d84}{GetBandBandwidth} (), \hyperlink{classns3_1_1SpectrumWifiPhy_a5a24b5d646d3968cf4678a814156edfe}{GetGuardBandwidth} ());
172   SpectrumValue filteredSignal = (*filter) * (*receivedSignalPsd);
173   \textcolor{comment}{// Add receiver antenna gain}
174   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Signal power received (watts) before antenna gain: "} << 
      \hyperlink{namespacens3_a3dd3817567502f8bc77b04e47134c070}{Integral} (filteredSignal));
175   \textcolor{keywordtype}{double} rxPowerW = \hyperlink{namespacens3_a3dd3817567502f8bc77b04e47134c070}{Integral} (filteredSignal) * \hyperlink{namespacens3_a9bcb737f8802285d6bf0581ce1812afd}{DbToRatio} (
      \hyperlink{classns3_1_1WifiPhy_ac794a3605ed0524f4182d0b72bee9049}{GetRxGain} ());
176   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Signal power received after antenna gain: "} << rxPowerW << \textcolor{stringliteral}{" W ("} << 
      \hyperlink{namespacens3_a256abf4ba6bab6e20f8419fff00e73e2}{WToDbm} (rxPowerW) << \textcolor{stringliteral}{" dBm)"});
177 
178   Ptr<WifiSpectrumSignalParameters> wifiRxParams = DynamicCast<WifiSpectrumSignalParameters> (rxParams);
179 
180   \textcolor{comment}{// Log the signal arrival to the trace source}
181   \hyperlink{classns3_1_1SpectrumWifiPhy_a0be57ff837cdbd31902f670ea5bbabe2}{m\_signalCb} (wifiRxParams ? \textcolor{keyword}{true} : \textcolor{keyword}{false}, senderNodeId, \hyperlink{namespacens3_a256abf4ba6bab6e20f8419fff00e73e2}{WToDbm} (rxPowerW), rxDuration);
182   \textcolor{keywordflow}{if} (wifiRxParams == 0)
183     \{
184       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Received non Wi-Fi signal"});
185       \hyperlink{classns3_1_1WifiPhy_a55909109ad2e2759702336770fa90119}{m\_interference}.\hyperlink{classns3_1_1InterferenceHelper_ae40497433692e4917a86a56e4054efce}{AddForeignSignal} (rxDuration, rxPowerW);
186       \hyperlink{classns3_1_1WifiPhy_a75f5905e356d1cdff251043fa10c158e}{SwitchMaybeToCcaBusy} ();
187       \textcolor{keywordflow}{return};
188     \}
189   \textcolor{keywordflow}{if} (wifiRxParams && \hyperlink{classns3_1_1SpectrumWifiPhy_aceccd3aa8c8e75ac9c136b089a10176b}{m\_disableWifiReception})
190     \{
191       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Received Wi-Fi signal but blocked from syncing"});
192       \hyperlink{classns3_1_1WifiPhy_a55909109ad2e2759702336770fa90119}{m\_interference}.\hyperlink{classns3_1_1InterferenceHelper_ae40497433692e4917a86a56e4054efce}{AddForeignSignal} (rxDuration, rxPowerW);
193       \hyperlink{classns3_1_1WifiPhy_a75f5905e356d1cdff251043fa10c158e}{SwitchMaybeToCcaBusy} ();
194       \textcolor{keywordflow}{return};
195     \}
196 
197   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Received Wi-Fi signal"});
198   Ptr<Packet> packet = wifiRxParams->packet->Copy ();
199   \hyperlink{classns3_1_1WifiPhy_a3a6e284a02ba090313098f1713a579e4}{StartReceivePreambleAndHeader} (packet, rxPowerW, rxDuration);
200 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!Start\+Tx@{Start\+Tx}}
\index{Start\+Tx@{Start\+Tx}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{Start\+Tx(\+Ptr$<$ Packet $>$ packet, Wifi\+Tx\+Vector tx\+Vector, Time tx\+Duration)}{StartTx(Ptr< Packet > packet, WifiTxVector txVector, Time txDuration)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Spectrum\+Wifi\+Phy\+::\+Start\+Tx (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{{\bf Wifi\+Tx\+Vector}}]{tx\+Vector, }
\item[{{\bf Time}}]{tx\+Duration}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1SpectrumWifiPhy_ae0e6d5affdd06543c8fcfed2959e438a}{}\label{classns3_1_1SpectrumWifiPhy_ae0e6d5affdd06543c8fcfed2959e438a}

\begin{DoxyParams}{Parameters}
{\em packet} & the packet to send \\
\hline
{\em tx\+Vector} & the T\+X\+V\+E\+C\+T\+OR that has tx parameters such as mode, the transmission mode to use to send this packet, and tx\+Power\+Level, a power level to use to send this packet. The real transmission power is calculated as tx\+Power\+Min + tx\+Power\+Level $\ast$ (tx\+Power\+Max -\/ tx\+Power\+Min) / n\+Tx\+Levels \\
\hline
{\em tx\+Duration} & duration of the transmission. \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1WifiPhy_a01fcffcb00b40a0eef471980d1a5f510}{ns3\+::\+Wifi\+Phy}.


\begin{DoxyCode}
261 \{
262   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Start transmission: signal power before antenna gain="} << 
      \hyperlink{classns3_1_1WifiPhy_a91fbc9ea51bb2ac6114cad1f70e25af0}{GetPowerDbm} (txVector.GetTxPowerLevel ()) << \textcolor{stringliteral}{"dBm"});
263   \textcolor{keywordtype}{double} txPowerWatts = \hyperlink{namespacens3_a0a3361f0554b892e3c6389256f5429b7}{DbmToW} (\hyperlink{classns3_1_1WifiPhy_a91fbc9ea51bb2ac6114cad1f70e25af0}{GetPowerDbm} (txVector.GetTxPowerLevel ()) + 
      \hyperlink{classns3_1_1WifiPhy_a02ecf17945090f27057353bc5784f035}{GetTxGain} ());
264   Ptr<SpectrumValue> txPowerSpectrum = \hyperlink{classns3_1_1SpectrumWifiPhy_a36d579959efb946f0ebb3725c3b9ae47}{GetTxPowerSpectralDensity} (
      \hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} (), \hyperlink{classns3_1_1WifiPhy_a4a5d5009b3b3308f2baeed42a2007189}{GetChannelWidth} (), txPowerWatts, txVector.GetMode ().
      GetModulationClass ());
265   Ptr<WifiSpectrumSignalParameters> txParams = Create<WifiSpectrumSignalParameters> ();
266   txParams->duration = txDuration;
267   txParams->psd = txPowerSpectrum;
268   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{m\_wifiSpectrumPhyInterface}, \textcolor{stringliteral}{"SpectrumPhy() is not
       set; maybe forgot to call CreateWifiSpectrumPhyInterface?"});
269   txParams->txPhy = \hyperlink{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{m\_wifiSpectrumPhyInterface}->GetObject<SpectrumPhy> ();
270   txParams->txAntenna = \hyperlink{classns3_1_1SpectrumWifiPhy_a54db14b60533b3c2d82f1b001eb17d6c}{m\_antenna};
271   txParams->packet = packet;
272   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Starting transmission with power "} << \hyperlink{namespacens3_a256abf4ba6bab6e20f8419fff00e73e2}{WToDbm} (txPowerWatts) << \textcolor{stringliteral}{" dBm on
       channel "} << (uint16\_t) \hyperlink{classns3_1_1WifiPhy_a5cf0ccf06109ace61db51c83e91b7e8d}{GetChannelNumber} ());
273   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Starting transmission with integrated spectrum power "} << 
      \hyperlink{namespacens3_a256abf4ba6bab6e20f8419fff00e73e2}{WToDbm} (\hyperlink{namespacens3_a3dd3817567502f8bc77b04e47134c070}{Integral} (*txPowerSpectrum)) << \textcolor{stringliteral}{" dBm; spectrum model Uid: "} << txPowerSpectrum->
      GetSpectrumModel ()->GetUid ());
274   \hyperlink{classns3_1_1SpectrumWifiPhy_a43a85d339058e0e48a1932cbf60650b0}{m\_channel}->StartTx (txParams);
275 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




\subsection{Member Data Documentation}
\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!m\+\_\+antenna@{m\+\_\+antenna}}
\index{m\+\_\+antenna@{m\+\_\+antenna}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+antenna}{m_antenna}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Antenna\+Model}$>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::m\+\_\+antenna\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumWifiPhy_a54db14b60533b3c2d82f1b001eb17d6c}{}\label{classns3_1_1SpectrumWifiPhy_a54db14b60533b3c2d82f1b001eb17d6c}


antenna model 

\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!m\+\_\+channel@{m\+\_\+channel}}
\index{m\+\_\+channel@{m\+\_\+channel}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+channel}{m_channel}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Spectrum\+Channel}$>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::m\+\_\+channel\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumWifiPhy_a43a85d339058e0e48a1932cbf60650b0}{}\label{classns3_1_1SpectrumWifiPhy_a43a85d339058e0e48a1932cbf60650b0}


\hyperlink{classns3_1_1SpectrumChannel}{Spectrum\+Channel} that this \hyperlink{classns3_1_1SpectrumWifiPhy}{Spectrum\+Wifi\+Phy} is connected to. 

\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!m\+\_\+disable\+Wifi\+Reception@{m\+\_\+disable\+Wifi\+Reception}}
\index{m\+\_\+disable\+Wifi\+Reception@{m\+\_\+disable\+Wifi\+Reception}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+disable\+Wifi\+Reception}{m_disableWifiReception}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Spectrum\+Wifi\+Phy\+::m\+\_\+disable\+Wifi\+Reception\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumWifiPhy_aceccd3aa8c8e75ac9c136b089a10176b}{}\label{classns3_1_1SpectrumWifiPhy_aceccd3aa8c8e75ac9c136b089a10176b}


forces this Phy to fail to sync on any signal 

\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!m\+\_\+operational\+Channel\+List@{m\+\_\+operational\+Channel\+List}}
\index{m\+\_\+operational\+Channel\+List@{m\+\_\+operational\+Channel\+List}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+operational\+Channel\+List}{m_operationalChannelList}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$uint8\+\_\+t$>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::m\+\_\+operational\+Channel\+List\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumWifiPhy_a8658f020e635d4d689bb99d1e71e81c1}{}\label{classns3_1_1SpectrumWifiPhy_a8658f020e635d4d689bb99d1e71e81c1}


List of possible channels. 

\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!m\+\_\+rx\+Spectrum\+Model@{m\+\_\+rx\+Spectrum\+Model}}
\index{m\+\_\+rx\+Spectrum\+Model@{m\+\_\+rx\+Spectrum\+Model}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+Spectrum\+Model}{m_rxSpectrumModel}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$const {\bf Spectrum\+Model}$>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::m\+\_\+rx\+Spectrum\+Model\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumWifiPhy_ad3fd35b0100f628c126092dde86a939c}{}\label{classns3_1_1SpectrumWifiPhy_ad3fd35b0100f628c126092dde86a939c}


receive spectrum model 

\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!m\+\_\+signal\+Cb@{m\+\_\+signal\+Cb}}
\index{m\+\_\+signal\+Cb@{m\+\_\+signal\+Cb}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+signal\+Cb}{m_signalCb}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<$bool, uint32\+\_\+t, double, {\bf Time}$>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::m\+\_\+signal\+Cb\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumWifiPhy_a0be57ff837cdbd31902f670ea5bbabe2}{}\label{classns3_1_1SpectrumWifiPhy_a0be57ff837cdbd31902f670ea5bbabe2}


Signal callback. 

\index{ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}!m\+\_\+wifi\+Spectrum\+Phy\+Interface@{m\+\_\+wifi\+Spectrum\+Phy\+Interface}}
\index{m\+\_\+wifi\+Spectrum\+Phy\+Interface@{m\+\_\+wifi\+Spectrum\+Phy\+Interface}!ns3\+::\+Spectrum\+Wifi\+Phy@{ns3\+::\+Spectrum\+Wifi\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+wifi\+Spectrum\+Phy\+Interface}{m_wifiSpectrumPhyInterface}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Wifi\+Spectrum\+Phy\+Interface}$>$ ns3\+::\+Spectrum\+Wifi\+Phy\+::m\+\_\+wifi\+Spectrum\+Phy\+Interface\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}{}\label{classns3_1_1SpectrumWifiPhy_a8d4073a351a848f0a58bf05e83970564}


Spectrum phy interface. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wifi/model/\hyperlink{spectrum-wifi-phy_8h}{spectrum-\/wifi-\/phy.\+h}\item 
wifi/model/\hyperlink{spectrum-wifi-phy_8cc}{spectrum-\/wifi-\/phy.\+cc}\end{DoxyCompactItemize}
