\hypertarget{classTcpSocketAdvertisedWindowProxy}{}\section{Tcp\+Socket\+Advertised\+Window\+Proxy Class Reference}
\label{classTcpSocketAdvertisedWindowProxy}\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}


Socket that wraps every call to Advertised\+Window\+Size ().  




Inheritance diagram for Tcp\+Socket\+Advertised\+Window\+Proxy\+:
% FIG 0


Collaboration diagram for Tcp\+Socket\+Advertised\+Window\+Proxy\+:
% FIG 1
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{classns3_1_1Callback}{Callback}$<$ void, uint16\+\_\+t, uint16\+\_\+t $>$ \hyperlink{classTcpSocketAdvertisedWindowProxy_aac665ab91330f420bf157fc0a28d3c87}{Invalid\+Awnd\+Callback}
\begin{DoxyCompactList}\small\item\em typedef for a cb \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTcpSocketAdvertisedWindowProxy_a8aa14504c0027c5e301919e4d2e9f7c8}{Tcp\+Socket\+Advertised\+Window\+Proxy} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{classTcpSocketAdvertisedWindowProxy_ab56a2e534ec0c53bad4b3c4458f6bd44}{Tcp\+Socket\+Advertised\+Window\+Proxy} (const \hyperlink{classTcpSocketAdvertisedWindowProxy}{Tcp\+Socket\+Advertised\+Window\+Proxy} \&other)
\begin{DoxyCompactList}\small\item\em Copy-\/constructor. \end{DoxyCompactList}\item 
void \hyperlink{classTcpSocketAdvertisedWindowProxy_a35cffe13d7e272bcab3b561b15865c62}{Set\+Invalid\+Awnd\+Cb} (\hyperlink{classTcpSocketAdvertisedWindowProxy_aac665ab91330f420bf157fc0a28d3c87}{Invalid\+Awnd\+Callback} cb)
\begin{DoxyCompactList}\small\item\em Set the invalid Adv\+Wnd callback. \end{DoxyCompactList}\item 
void \hyperlink{classTcpSocketAdvertisedWindowProxy_a89e0c726d278b8604c12c0a2aa6adfcf}{Set\+Expected\+Segment\+Size} (uint16\+\_\+t seg)
\begin{DoxyCompactList}\small\item\em Set the expected segment size. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classTcpSocketAdvertisedWindowProxy_a4ed1c4bc3b31da4768b379f370055faa}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get type id. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1TcpSocketBase}{Tcp\+Socket\+Base} $>$ \hyperlink{classTcpSocketAdvertisedWindowProxy_ac0ae0da07f307d681332f75563ab45f4}{Fork} ()
\begin{DoxyCompactList}\small\item\em Call Copy\+Object$<$$>$ to clone me. \end{DoxyCompactList}\item 
virtual uint16\+\_\+t \hyperlink{classTcpSocketAdvertisedWindowProxy_a79348b8b48a47b87d0dcaa59b3d8ee1d}{Advertised\+Window\+Size} (bool scale=true) const 
\begin{DoxyCompactList}\small\item\em The amount of Rx window announced to the peer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
uint16\+\_\+t \hyperlink{classTcpSocketAdvertisedWindowProxy_a63237b219ba5191f5f446680af53bdda}{Old\+Advertised\+Window\+Size} (bool scale=true) const 
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTcpSocketAdvertisedWindowProxy_aac665ab91330f420bf157fc0a28d3c87}{Invalid\+Awnd\+Callback} \hyperlink{classTcpSocketAdvertisedWindowProxy_abdfa0f5233b9dd93113a4ab6b192ddda}{m\+\_\+inwalid\+Awnd\+Cb}
\begin{DoxyCompactList}\small\item\em Callback. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classTcpSocketAdvertisedWindowProxy_a944bf6bd76de2dade1bfe634f06afa51}{m\+\_\+segment\+Size}
\begin{DoxyCompactList}\small\item\em Test meta-\/information\+: size of the segments that are received. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Socket that wraps every call to Advertised\+Window\+Size (). 

\subsection{Member Typedef Documentation}
\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Invalid\+Awnd\+Callback@{Invalid\+Awnd\+Callback}}
\index{Invalid\+Awnd\+Callback@{Invalid\+Awnd\+Callback}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{Invalid\+Awnd\+Callback}{InvalidAwndCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Callback}$<$void, uint16\+\_\+t, uint16\+\_\+t$>$ {\bf Tcp\+Socket\+Advertised\+Window\+Proxy\+::\+Invalid\+Awnd\+Callback}}\hypertarget{classTcpSocketAdvertisedWindowProxy_aac665ab91330f420bf157fc0a28d3c87}{}\label{classTcpSocketAdvertisedWindowProxy_aac665ab91330f420bf157fc0a28d3c87}


typedef for a cb 



\subsection{Constructor \& Destructor Documentation}
\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{Tcp\+Socket\+Advertised\+Window\+Proxy()}{TcpSocketAdvertisedWindowProxy()}}]{\setlength{\rightskip}{0pt plus 5cm}Tcp\+Socket\+Advertised\+Window\+Proxy\+::\+Tcp\+Socket\+Advertised\+Window\+Proxy (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classTcpSocketAdvertisedWindowProxy_a8aa14504c0027c5e301919e4d2e9f7c8}{}\label{classTcpSocketAdvertisedWindowProxy_a8aa14504c0027c5e301919e4d2e9f7c8}


Constructor. 


\begin{DoxyCode}
50                                     : \hyperlink{classns3_1_1TcpSocketMsgBase_a867bfe6808ac466eb5b3e6449b04eea1}{TcpSocketMsgBase} (), 
      \hyperlink{classTcpSocketAdvertisedWindowProxy_a944bf6bd76de2dade1bfe634f06afa51}{m\_segmentSize}(0)
51   \{
52   \}
\end{DoxyCode}
\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{Tcp\+Socket\+Advertised\+Window\+Proxy(const Tcp\+Socket\+Advertised\+Window\+Proxy \&other)}{TcpSocketAdvertisedWindowProxy(const TcpSocketAdvertisedWindowProxy &other)}}]{\setlength{\rightskip}{0pt plus 5cm}Tcp\+Socket\+Advertised\+Window\+Proxy\+::\+Tcp\+Socket\+Advertised\+Window\+Proxy (
\begin{DoxyParamCaption}
\item[{const {\bf Tcp\+Socket\+Advertised\+Window\+Proxy} \&}]{other}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classTcpSocketAdvertisedWindowProxy_ab56a2e534ec0c53bad4b3c4458f6bd44}{}\label{classTcpSocketAdvertisedWindowProxy_ab56a2e534ec0c53bad4b3c4458f6bd44}


Copy-\/constructor. 


\begin{DoxyParams}{Parameters}
{\em other} & Other obj \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
60     : \hyperlink{classns3_1_1TcpSocketMsgBase_a867bfe6808ac466eb5b3e6449b04eea1}{TcpSocketMsgBase} (other)
61   \{
62     \hyperlink{classTcpSocketAdvertisedWindowProxy_a944bf6bd76de2dade1bfe634f06afa51}{m\_segmentSize} = other.\hyperlink{classTcpSocketAdvertisedWindowProxy_a944bf6bd76de2dade1bfe634f06afa51}{m\_segmentSize};
63     \hyperlink{classTcpSocketAdvertisedWindowProxy_abdfa0f5233b9dd93113a4ab6b192ddda}{m\_inwalidAwndCb} = other.\hyperlink{classTcpSocketAdvertisedWindowProxy_abdfa0f5233b9dd93113a4ab6b192ddda}{m\_inwalidAwndCb};
64   \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Advertised\+Window\+Size@{Advertised\+Window\+Size}}
\index{Advertised\+Window\+Size@{Advertised\+Window\+Size}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{Advertised\+Window\+Size(bool scale=true) const }{AdvertisedWindowSize(bool scale=true) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Tcp\+Socket\+Advertised\+Window\+Proxy\+::\+Advertised\+Window\+Size (
\begin{DoxyParamCaption}
\item[{bool}]{scale = {\ttfamily true}}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classTcpSocketAdvertisedWindowProxy_a79348b8b48a47b87d0dcaa59b3d8ee1d}{}\label{classTcpSocketAdvertisedWindowProxy_a79348b8b48a47b87d0dcaa59b3d8ee1d}


The amount of Rx window announced to the peer. 


\begin{DoxyParams}{Parameters}
{\em scale} & indicate if the window should be scaled. True for almost all cases, except when we are sending a S\+YN \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
size of Rx window announced to the peer 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1TcpSocketBase_ae4f307151ccc4d5f5266d2832002df27}{ns3\+::\+Tcp\+Socket\+Base}.


\begin{DoxyCode}
123 \{
124   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << scale);
125 
126   uint16\_t newAwnd = TcpSocketMsgBase::AdvertisedWindowSize (scale);
127   uint16\_t oldAwnd = \hyperlink{classTcpSocketAdvertisedWindowProxy_a63237b219ba5191f5f446680af53bdda}{OldAdvertisedWindowSize} (scale);
128 
129   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1TcpSocketBase_a0163894148e5a70e6bd89970a1483fae}{m\_rxBuffer}->Finished ())
130     \{
131       \textcolor{comment}{// The calculated windows will only be exactly equal if there is no data}
132       \textcolor{comment}{// in the receive buffer yet.}
133       \textcolor{keywordflow}{if} (newAwnd != oldAwnd)
134         \{
135           uint32\_t available = \hyperlink{classns3_1_1TcpSocketBase_a0163894148e5a70e6bd89970a1483fae}{m\_rxBuffer}->Available ();
136           \textcolor{comment}{// If the values differ, make sure this is only due to the single segment}
137           \textcolor{comment}{// the socket just got, which has not yet been read by the application.}
138           \textcolor{comment}{// Therefore, the difference should be exactly the size of one segment}
139           \textcolor{comment}{// (but taking scale and m\_maxWinSize into account).}
140           uint32\_t newAwndKnownDifference = newAwnd;
141           \textcolor{keywordflow}{if} (scale)
142             \{
143               newAwndKnownDifference += (available >> \hyperlink{classns3_1_1TcpSocketBase_a045fc4c0c16f906c5ec43d853cdb599f}{m\_rcvWindShift});
144             \}
145           \textcolor{keywordflow}{else}
146             \{
147               newAwndKnownDifference += available;
148             \}
149 
150           \textcolor{keywordflow}{if} (newAwndKnownDifference > \hyperlink{classns3_1_1TcpSocketBase_a045897aa710b2ad3e99cefd66e8dc168}{m\_maxWinSize})
151             \{
152               newAwndKnownDifference = \hyperlink{classns3_1_1TcpSocketBase_a045897aa710b2ad3e99cefd66e8dc168}{m\_maxWinSize};
153             \}
154 
155           \textcolor{keywordflow}{if} (static\_cast<uint16\_t> (newAwndKnownDifference) != oldAwnd)
156             \{
157               \textcolor{keywordflow}{if} (!\hyperlink{classTcpSocketAdvertisedWindowProxy_abdfa0f5233b9dd93113a4ab6b192ddda}{m\_inwalidAwndCb}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
158                 \{
159                   \hyperlink{classTcpSocketAdvertisedWindowProxy_abdfa0f5233b9dd93113a4ab6b192ddda}{m\_inwalidAwndCb}(oldAwnd, newAwnd);
160                 \}
161 
162             \}
163         \}
164     \}
165 
166 
167   \textcolor{keywordflow}{return} newAwnd;
168 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Fork@{Fork}}
\index{Fork@{Fork}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{Fork()}{Fork()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Tcp\+Socket\+Base} $>$ Tcp\+Socket\+Advertised\+Window\+Proxy\+::\+Fork (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classTcpSocketAdvertisedWindowProxy_ac0ae0da07f307d681332f75563ab45f4}{}\label{classTcpSocketAdvertisedWindowProxy_ac0ae0da07f307d681332f75563ab45f4}


Call Copy\+Object$<$$>$ to clone me. 

\begin{DoxyReturn}{Returns}
a copy of the socket 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1TcpSocketMsgBase_a58a2f5803ece6745c5d79d710d01f8ee}{ns3\+::\+Tcp\+Socket\+Msg\+Base}.


\begin{DoxyCode}
117 \{
118   \textcolor{keywordflow}{return} CopyObject<TcpSocketAdvertisedWindowProxy> (\textcolor{keyword}{this});
119 \}
\end{DoxyCode}
\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} Tcp\+Socket\+Advertised\+Window\+Proxy\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classTcpSocketAdvertisedWindowProxy_a4ed1c4bc3b31da4768b379f370055faa}{}\label{classTcpSocketAdvertisedWindowProxy_a4ed1c4bc3b31da4768b379f370055faa}


Get type id. 


\begin{DoxyCode}
106 \{
107   \textcolor{keyword}{static} \hyperlink{classns3_1_1TypeId}{TypeId} tid = \hyperlink{classns3_1_1TypeId}{TypeId} (\textcolor{stringliteral}{"ns3::TcpSocketAdvertisedWindowProxy"})
108     .\hyperlink{classns3_1_1TypeId_abaaca67ab7d2471067e7c275df0f7309}{SetParent}<\hyperlink{classns3_1_1TcpSocketMsgBase}{TcpSocketMsgBase}> ()
109     .SetGroupName (\textcolor{stringliteral}{"Internet"})
110     .AddConstructor<\hyperlink{classTcpSocketAdvertisedWindowProxy}{TcpSocketAdvertisedWindowProxy}> ()
111   ;
112   \textcolor{keywordflow}{return} tid;
113 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Old\+Advertised\+Window\+Size@{Old\+Advertised\+Window\+Size}}
\index{Old\+Advertised\+Window\+Size@{Old\+Advertised\+Window\+Size}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{Old\+Advertised\+Window\+Size(bool scale=true) const }{OldAdvertisedWindowSize(bool scale=true) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Tcp\+Socket\+Advertised\+Window\+Proxy\+::\+Old\+Advertised\+Window\+Size (
\begin{DoxyParamCaption}
\item[{bool}]{scale = {\ttfamily true}}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpSocketAdvertisedWindowProxy_a63237b219ba5191f5f446680af53bdda}{}\label{classTcpSocketAdvertisedWindowProxy_a63237b219ba5191f5f446680af53bdda}
The legacy code used for calculating the advertised window.

This was copied from \hyperlink{tcp-socket-base_8cc}{tcp-\/socket-\/base.\+cc} before changing the formula. 
\begin{DoxyParams}{Parameters}
{\em scale} & true if should scale the window \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the old adv wnd value 
\end{DoxyReturn}

\begin{DoxyCode}
179 \{
180   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << scale);
181   \textcolor{comment}{//NS\_LOG\_DEBUG ("MaxRxSequence () = " << m\_rxBuffer->MaxRxSequence ());}
182   \textcolor{comment}{//NS\_LOG\_DEBUG ("NextRxSequence () = " << m\_rxBuffer->NextRxSequence ());}
183   \textcolor{comment}{//NS\_LOG\_DEBUG ("MaxBufferSize () = " << m\_rxBuffer->MaxBufferSize ());}
184   \textcolor{comment}{//NS\_LOG\_DEBUG ("m\_rcvWindShift = " << static\_cast<uint16\_t> (m\_rcvWindShift));}
185   \textcolor{comment}{//NS\_LOG\_DEBUG ("m\_maxWinSize = " << m\_maxWinSize);}
186   \textcolor{comment}{//NS\_LOG\_DEBUG ("Available () = " << m\_rxBuffer->Available ());}
187   uint32\_t \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_afd61ec66f9d7b807eece6eb12c781844}{w} = \hyperlink{classns3_1_1TcpSocketBase_a0163894148e5a70e6bd89970a1483fae}{m\_rxBuffer}->MaxBufferSize ();
188 
189   \textcolor{keywordflow}{if} (scale)
190     \{
191       w >>= \hyperlink{classns3_1_1TcpSocketBase_a045fc4c0c16f906c5ec43d853cdb599f}{m\_rcvWindShift};
192     \}
193   \textcolor{keywordflow}{if} (w > \hyperlink{classns3_1_1TcpSocketBase_a045897aa710b2ad3e99cefd66e8dc168}{m\_maxWinSize})
194     \{
195       w = \hyperlink{classns3_1_1TcpSocketBase_a045897aa710b2ad3e99cefd66e8dc168}{m\_maxWinSize};
196       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Adv window size truncated to "} << \hyperlink{classns3_1_1TcpSocketBase_a045897aa710b2ad3e99cefd66e8dc168}{m\_maxWinSize} << \textcolor{stringliteral}{"; possibly to
       avoid overflow of the 16-bit integer"});
197     \}
198   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Returning AdvertisedWindowSize of "} << static\_cast<uint16\_t> (w));
199   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}uint16\_t\textcolor{keyword}{>} (\hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_afd61ec66f9d7b807eece6eb12c781844}{w});
200 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Set\+Expected\+Segment\+Size@{Set\+Expected\+Segment\+Size}}
\index{Set\+Expected\+Segment\+Size@{Set\+Expected\+Segment\+Size}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{Set\+Expected\+Segment\+Size(uint16\+\_\+t seg)}{SetExpectedSegmentSize(uint16_t seg)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Socket\+Advertised\+Window\+Proxy\+::\+Set\+Expected\+Segment\+Size (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{seg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classTcpSocketAdvertisedWindowProxy_a89e0c726d278b8604c12c0a2aa6adfcf}{}\label{classTcpSocketAdvertisedWindowProxy_a89e0c726d278b8604c12c0a2aa6adfcf}


Set the expected segment size. 


\begin{DoxyParams}{Parameters}
{\em seg} & Segment size \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
78 \{ \hyperlink{classTcpSocketAdvertisedWindowProxy_a944bf6bd76de2dade1bfe634f06afa51}{m\_segmentSize} = seg; \};
\end{DoxyCode}
\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!Set\+Invalid\+Awnd\+Cb@{Set\+Invalid\+Awnd\+Cb}}
\index{Set\+Invalid\+Awnd\+Cb@{Set\+Invalid\+Awnd\+Cb}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{Set\+Invalid\+Awnd\+Cb(\+Invalid\+Awnd\+Callback cb)}{SetInvalidAwndCb(InvalidAwndCallback cb)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Socket\+Advertised\+Window\+Proxy\+::\+Set\+Invalid\+Awnd\+Cb (
\begin{DoxyParamCaption}
\item[{{\bf Invalid\+Awnd\+Callback}}]{cb}
\end{DoxyParamCaption}
)}\hypertarget{classTcpSocketAdvertisedWindowProxy_a35cffe13d7e272bcab3b561b15865c62}{}\label{classTcpSocketAdvertisedWindowProxy_a35cffe13d7e272bcab3b561b15865c62}


Set the invalid Adv\+Wnd callback. 


\begin{DoxyParams}{Parameters}
{\em cb} & callback to set \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
99 \{
100   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (!cb.IsNull ());
101   \hyperlink{classTcpSocketAdvertisedWindowProxy_abdfa0f5233b9dd93113a4ab6b192ddda}{m\_inwalidAwndCb} = cb;
102 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




\subsection{Member Data Documentation}
\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!m\+\_\+inwalid\+Awnd\+Cb@{m\+\_\+inwalid\+Awnd\+Cb}}
\index{m\+\_\+inwalid\+Awnd\+Cb@{m\+\_\+inwalid\+Awnd\+Cb}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{m\+\_\+inwalid\+Awnd\+Cb}{m_inwalidAwndCb}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Invalid\+Awnd\+Callback} Tcp\+Socket\+Advertised\+Window\+Proxy\+::m\+\_\+inwalid\+Awnd\+Cb\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpSocketAdvertisedWindowProxy_abdfa0f5233b9dd93113a4ab6b192ddda}{}\label{classTcpSocketAdvertisedWindowProxy_abdfa0f5233b9dd93113a4ab6b192ddda}


Callback. 

\index{Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}!m\+\_\+segment\+Size@{m\+\_\+segment\+Size}}
\index{m\+\_\+segment\+Size@{m\+\_\+segment\+Size}!Tcp\+Socket\+Advertised\+Window\+Proxy@{Tcp\+Socket\+Advertised\+Window\+Proxy}}
\subsubsection[{\texorpdfstring{m\+\_\+segment\+Size}{m_segmentSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Tcp\+Socket\+Advertised\+Window\+Proxy\+::m\+\_\+segment\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpSocketAdvertisedWindowProxy_a944bf6bd76de2dade1bfe634f06afa51}{}\label{classTcpSocketAdvertisedWindowProxy_a944bf6bd76de2dade1bfe634f06afa51}


Test meta-\/information\+: size of the segments that are received. 

This is necessary for making sure the calculated awnd only differs by exactly that one segment that was not yet read by the application. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{tcp-advertised-window-test_8cc}{tcp-\/advertised-\/window-\/test.\+cc}\end{DoxyCompactItemize}
