\hypertarget{classns3_1_1MmWaveLosTracker}{}\section{ns3\+:\+:Mm\+Wave\+Los\+Tracker Class Reference}
\label{classns3_1_1MmWaveLosTracker}\index{ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}}


{\ttfamily \#include $<$mmwave-\/los-\/tracker.\+h$>$}



Inheritance diagram for ns3\+:\+:Mm\+Wave\+Los\+Tracker\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Mm\+Wave\+Los\+Tracker\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1MmWaveLosTracker_ada61d6205bcd1c6955c88b324cf1f670}{Mm\+Wave\+Los\+Tracker} ()
\item 
\hyperlink{classns3_1_1MmWaveLosTracker_ac5bb7b83d9cfc732c755df2062248548}{$\sim$\+Mm\+Wave\+Los\+Tracker} ()
\item 
void \hyperlink{classns3_1_1MmWaveLosTracker_ab7da930a74b9fbe3c972724bccd77616}{Update\+Los\+Nlos\+State} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b})
\item 
int \hyperlink{classns3_1_1MmWaveLosTracker_ae04d459e8527454cf0122835dddcae96}{Get\+Nlos\+Samples} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const 
\item 
int \hyperlink{classns3_1_1MmWaveLosTracker_a2ff0eb8d3127874598b09926d0922349}{Get\+Los\+Samples} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1MmWaveLosTracker_a7f6a3cac67bd238f4d7e8a12bcbcc22a}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::map$<$ \hyperlink{namespacens3_a9b2186a97262ddb040d3be19a4bed2f0}{key\+Mob\+\_\+t}, int $>$ \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\+\_\+map\+Nlos}
\item 
std\+::map$<$ \hyperlink{namespacens3_a9b2186a97262ddb040d3be19a4bed2f0}{key\+Mob\+\_\+t}, int $>$ \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\+\_\+map\+Los}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}!Mm\+Wave\+Los\+Tracker@{Mm\+Wave\+Los\+Tracker}}
\index{Mm\+Wave\+Los\+Tracker@{Mm\+Wave\+Los\+Tracker}!ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}}
\subsubsection[{\texorpdfstring{Mm\+Wave\+Los\+Tracker()}{MmWaveLosTracker()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Mm\+Wave\+Los\+Tracker\+::\+Mm\+Wave\+Los\+Tracker (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveLosTracker_ada61d6205bcd1c6955c88b324cf1f670}{}\label{classns3_1_1MmWaveLosTracker_ada61d6205bcd1c6955c88b324cf1f670}

\begin{DoxyCode}
54 \{\}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}!````~Mm\+Wave\+Los\+Tracker@{$\sim$\+Mm\+Wave\+Los\+Tracker}}
\index{````~Mm\+Wave\+Los\+Tracker@{$\sim$\+Mm\+Wave\+Los\+Tracker}!ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}}
\subsubsection[{\texorpdfstring{$\sim$\+Mm\+Wave\+Los\+Tracker()}{~MmWaveLosTracker()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Mm\+Wave\+Los\+Tracker\+::$\sim$\+Mm\+Wave\+Los\+Tracker (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveLosTracker_ac5bb7b83d9cfc732c755df2062248548}{}\label{classns3_1_1MmWaveLosTracker_ac5bb7b83d9cfc732c755df2062248548}

\begin{DoxyCode}
69 \{
70 
71 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}!Get\+Los\+Samples@{Get\+Los\+Samples}}
\index{Get\+Los\+Samples@{Get\+Los\+Samples}!ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Los\+Samples(\+Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b) const }{GetLosSamples(Ptr< MobilityModel > a, Ptr< MobilityModel > b) const }}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Mm\+Wave\+Los\+Tracker\+::\+Get\+Los\+Samples (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MmWaveLosTracker_a2ff0eb8d3127874598b09926d0922349}{}\label{classns3_1_1MmWaveLosTracker_a2ff0eb8d3127874598b09926d0922349}

\begin{DoxyCode}
264 \{
265 
266         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.find(std::make\_pair(a,b)) != \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.end()) \textcolor{comment}{// at least initialized
       for MobilityModel (a,b)}
267         \{
268                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"Method GetLosSamples is MmWaveLosTracker. For normal mobility
       pair: lossamples = "} << \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(std::make\_pair(a,b)));
269                 \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(std::make\_pair(a,b));
270         \} 
271         \textcolor{keywordflow}{else}
272         \{
273                 \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.find(std::make\_pair(b,a)) != \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.end()) \textcolor{comment}{// at least
       initialized for MobilityModel (b,a)}
274                 \{
275                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"Method GetLosSamples is MmWaveLosTracker. For reverse
       mobility pair: lossamples = "} << \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(std::make\_pair(b,a)));
276                         \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(std::make\_pair(b,a));
277                 \}
278                 \textcolor{keywordflow}{else}
279                 \{
280                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"Method GetLosSamples for MmWaveLosTracker not initliazied
      "});
281                         \textcolor{keywordflow}{return} -1;
282                 \}
283         \}
284 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}!Get\+Nlos\+Samples@{Get\+Nlos\+Samples}}
\index{Get\+Nlos\+Samples@{Get\+Nlos\+Samples}!ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Nlos\+Samples(\+Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b) const }{GetNlosSamples(Ptr< MobilityModel > a, Ptr< MobilityModel > b) const }}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Mm\+Wave\+Los\+Tracker\+::\+Get\+Nlos\+Samples (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MmWaveLosTracker_ae04d459e8527454cf0122835dddcae96}{}\label{classns3_1_1MmWaveLosTracker_ae04d459e8527454cf0122835dddcae96}

\begin{DoxyCode}
239 \{
240 
241         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.find(std::make\_pair(a,b)) != \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.end()) \textcolor{comment}{// at least
       initialized for MobilityModel (a,b)}
242         \{
243                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"Method GetNlosSamples is MmWaveLosTracker. For normal mobility
       pair: nlossamples = "} << \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(std::make\_pair(a,b)));
244                 \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(std::make\_pair(a,b));
245         \} 
246         \textcolor{keywordflow}{else}
247         \{
248                 \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.find(std::make\_pair(b,a)) != \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.end()) \textcolor{comment}{// at least
       initialized for MobilityModel (b,a)}
249                 \{
250                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"Method GetNlosSamples is MmWaveLosTracker. For reverse
       mobility pair: nlossamples = "} << \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(std::make\_pair(b,a)));
251                         \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(std::make\_pair(b,a));
252                 \}
253                 \textcolor{keywordflow}{else}
254                 \{
255                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"Method GetNlosSamples for MmWaveLosTracker not
       initliazied"});
256                         \textcolor{keywordflow}{return} -1;
257                 \}
258         \}
259 
260 \}
\end{DoxyCode}
\index{ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Mm\+Wave\+Los\+Tracker\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1MmWaveLosTracker_a7f6a3cac67bd238f4d7e8a12bcbcc22a}{}\label{classns3_1_1MmWaveLosTracker_a7f6a3cac67bd238f4d7e8a12bcbcc22a}

\begin{DoxyCode}
59 \{
60         \textcolor{keyword}{static} TypeId tid = TypeId(\textcolor{stringliteral}{"ns3::MmWaveLosTracker"})
61         .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}>()
62         ;
63 
64         \textcolor{keywordflow}{return} tid;
65         
66 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}!Update\+Los\+Nlos\+State@{Update\+Los\+Nlos\+State}}
\index{Update\+Los\+Nlos\+State@{Update\+Los\+Nlos\+State}!ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}}
\subsubsection[{\texorpdfstring{Update\+Los\+Nlos\+State(\+Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b)}{UpdateLosNlosState(Ptr< MobilityModel > a, Ptr< MobilityModel > b)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mm\+Wave\+Los\+Tracker\+::\+Update\+Los\+Nlos\+State (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MmWaveLosTracker_ab7da930a74b9fbe3c972724bccd77616}{}\label{classns3_1_1MmWaveLosTracker_ab7da930a74b9fbe3c972724bccd77616}
Given the two mobility models, updates the m\+\_\+map\+Nlos and m\+\_\+map\+Los 
\begin{DoxyCode}
75 \{
76 
77         \textcolor{comment}{/* Get the MobilityBuildingInfo pointers */}
78         Ptr<MobilityBuildingInfo> a1 = a->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<MobilityBuildingInfo> ();
79         Ptr<MobilityBuildingInfo> b1 = b->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<MobilityBuildingInfo> ();
80         \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ((a1 != 0) && (b1 != 0), \textcolor{stringliteral}{"BuildingsObstaclePropagationLossModel only
       works with MobilityBuildingInfo"});
81 
82 
83         \textcolor{comment}{/*Determine LOS or NLOS*/}
84         \textcolor{keywordtype}{bool} los = \textcolor{keyword}{true};
85         \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1BuildingList_a84957ecea4b4343f676da0e96f2c8130}{BuildingList::Iterator} bit = 
      \hyperlink{classns3_1_1BuildingList_adbb122872e11541e930f0a3afa70a479}{BuildingList::Begin} (); bit != \hyperlink{classns3_1_1BuildingList_abc6b941dbb194efb9f00352cc6b3db65}{BuildingList::End} (); ++bit)
86         \{
87                 Box boundaries = (*bit)->GetBoundaries ();
88                 Vector locationA = a->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition} ();
89                 Vector locationB = b->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition} ();
90                 Angles pathAngles (locationB, locationA);
91                 \textcolor{keywordtype}{double} angle = pathAngles.phi;
92                 \textcolor{keywordflow}{if} (angle >= M\_PI/2 || angle < -M\_PI/2)
93                 \{
94                         locationA = b->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition} ();
95                         locationB = a->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition} ();
96                         Angles pathAngles (locationB, locationA);
97                         angle = pathAngles.phi;
98                 \}
99 
100                 \textcolor{keywordflow}{if} (angle >=0 && angle < M\_PI/2 )
101                 \{
102                         Vector loc1(boundaries.xMax,boundaries.yMin,boundaries.zMin);
103                         Vector loc2(boundaries.xMin,boundaries.yMax,boundaries.zMin);
104                         Angles angles1 (loc1,locationA);
105                         Angles angles2 (loc2,locationA);
106                         \textcolor{comment}{//if (angle > angles1.phi && angle < angles2.phi && locationB.x > boundaries.xMin
       && locationB.y > boundaries.yMin)}
107                         \textcolor{keywordflow}{if} (angle > angles1.phi && angle < angles2.phi && locationB.x > boundaries.xMin && 
      locationB.y > boundaries.yMin
108                                                                         && angles1.phi < M\_PI/2 && angles2.
      phi <M\_PI/2 && locationA.x<boundaries.xMax &&
109                                                                         locationA.y<boundaries.yMax ) \textcolor{comment}{//
      sjkang1206}
110                         \{
111                                 los = \textcolor{keyword}{false};
112                                 \textcolor{keywordflow}{break};
113                         \}
114                 \}
115                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (angle >= -M\_PI/2 && angle < 0)
116                 \{
117                         Vector loc1(boundaries.xMin,boundaries.yMin,boundaries.zMin);
118                         Vector loc2(boundaries.xMax,boundaries.yMax,boundaries.zMin);
119                         Angles angles1 (loc1,locationA);
120                         Angles angles2 (loc2,locationA);
121                         \textcolor{comment}{//if (angle > angles1.phi && angle < angles2.phi && locationB.x > boundaries.xMin
       && locationB.y < boundaries.yMax)}
122                         \textcolor{keywordflow}{if} (angle >angles1.phi && angle < angles2.phi && locationB.x>boundaries.xMin && 
      locationB.y<boundaries.yMax
123                                                                 && locationA.x < boundaries.xMin  ) \textcolor{comment}{//
      sjkang1206}
124 
125                         \{
126                                 los = \textcolor{keyword}{false};
127                                 \textcolor{keywordflow}{break};
128                         \}
129                 \}
130         \}
131 
132 
133         \textcolor{comment}{/*}
134 \textcolor{comment}{        * Initialization: if this is the first time that I encounter this MobilityModel pair, then add}
135 \textcolor{comment}{        * a new instance of the mapNloS/mapLos}
136 \textcolor{comment}{        */}
137 
138         \hyperlink{namespacens3_a9b2186a97262ddb040d3be19a4bed2f0}{keyMob\_t} key = std::make\_pair(a,b);
139         \hyperlink{namespacens3_a9b2186a97262ddb040d3be19a4bed2f0}{keyMob\_t} key\_reverse = std::make\_pair(b,a); \textcolor{comment}{// check for the MobilityModel pair (b.a),
       assuming 'channel reciprocity'}
140 
141         std::map< keyMob\_t, int >::iterator iteratorNlos =
142                                                          \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.find(key); \textcolor{comment}{// pair [key,value]
       for that pair of MobilityModels (a,b) }
143 
144         std::map< keyMob\_t, int >::iterator iteratorLos =
145                                                          \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.find(key); \textcolor{comment}{// pair [key,value]
       for that pair of MobilityModels (a,b) }
146 
147         \textcolor{keywordtype}{int} nlosSamples;
148         \textcolor{keywordtype}{int} losSamples;
149         \textcolor{keywordflow}{if}(iteratorNlos != \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.end()) \textcolor{comment}{// an instance of the MobilityModel pair (a,b) aready
       exists}
150         \{
151                 nlosSamples = iteratorNlos->second; \textcolor{comment}{// current counter for Nlossamples in the exerimental
       blockage trace}
152         \}
153         \textcolor{keywordflow}{else}
154         \{
155                 iteratorNlos = \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.find(key\_reverse);
156                 \textcolor{keywordflow}{if} (iteratorNlos != \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.end())
157                 \{
158                         nlosSamples = iteratorNlos->second;
159                 \} 
160                 \textcolor{keywordflow}{else}
161                 \{
162                         \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.insert(std::pair<keyMob\_t, int>(key\_reverse,0));
163                         \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.insert(std::pair<keyMob\_t, int>(key,0));
164                         nlosSamples = \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key);
165                 \}
166         \}
167 
168 
169         \textcolor{keywordflow}{if}(iteratorLos != \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.end()) \textcolor{comment}{// an instance of the MobilityModel pair (a,b) aready
       exists}
170         \{
171                 losSamples = iteratorLos->second; \textcolor{comment}{// current counter for Nlossamples in the exerimental
       blockage trace}
172         \}
173         \textcolor{keywordflow}{else}
174         \{
175                 iteratorLos = \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.find(key\_reverse);
176                 \textcolor{keywordflow}{if} (iteratorLos != \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.end())
177                 \{
178                         losSamples = iteratorLos->second;
179                 \} 
180                 \textcolor{keywordflow}{else}
181                 \{
182                         \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.insert(std::pair<keyMob\_t, int>(key\_reverse,0));
183                         \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.insert(std::pair<keyMob\_t, int>(key,0));
184                         losSamples = \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(key);
185                 \}
186         \}
187 
188 
189         \textcolor{comment}{/* CHANGE BOTH MobilityModel for pair (a,b) and pair (b,a), since we assume channel reciprocity */}
190         \textcolor{keywordflow}{if} (!los && nlosSamples < \hyperlink{namespacens3_aa27c343924716ad4dac244babcba8297}{g\_nlosSamplesTrace}) \textcolor{comment}{// I am in NLOS and in the 'drop
       phase'}
191         \{
192                 \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Now}().GetMicroSeconds() == 0) \textcolor{comment}{// simualtion starts when the UE is in NLOS --> assume
       it is in the 'flat phase'}
193                 \{
194                         \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key) = \hyperlink{namespacens3_aa27c343924716ad4dac244babcba8297}{g\_nlosSamplesTrace};
195                         \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key\_reverse) = \hyperlink{namespacens3_aa27c343924716ad4dac244babcba8297}{g\_nlosSamplesTrace};
196                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"NLOS in flat phase beacuse it is the beginning of the
       simulation"});
197                 \}
198                 \textcolor{keywordflow}{else}
199                 \{
200                         \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key) = nlosSamples + 1; \textcolor{comment}{// still in the 'drop' phase}
201                         \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key\_reverse) = nlosSamples + 1; \textcolor{comment}{// still in the 'drop' phase}
202                         \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"NLOS in drop phase, at sample "} <<  nlosSamples+1);
203                 \}       
204         \}
205         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!los && nlosSamples == \hyperlink{namespacens3_aa27c343924716ad4dac244babcba8297}{g\_nlosSamplesTrace}) \textcolor{comment}{// I am in NLOS but in the
       'flat phase'}
206         \{
207                 \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key) = \hyperlink{namespacens3_aa27c343924716ad4dac244babcba8297}{g\_nlosSamplesTrace}; \textcolor{comment}{// NLOS but in 'flat
       phase'}
208                 \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key\_reverse) = \hyperlink{namespacens3_aa27c343924716ad4dac244babcba8297}{g\_nlosSamplesTrace}; \textcolor{comment}{// NLOS but in
       'flat phase'}
209                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"NLOS in flat phase, at sample "} << nlosSamples+1);
210         \}
211         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (los && losSamples < g\_nlosSamplesTrace && nlosSamples > 0) \textcolor{comment}{// I am in NLOS but in the
       'raise phase'}
212         \{
213                 \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(key) = losSamples + 1;
214                 \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(key\_reverse) = losSamples + 1;
215                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"LOS in raise phase, at sample "} << losSamples+1);
216         \}
217         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (los && losSamples == \hyperlink{namespacens3_aa27c343924716ad4dac244babcba8297}{g\_nlosSamplesTrace}) \textcolor{comment}{// I am in LOS, and the 'raise
       phase' is finally over}
218         \{
219                 \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(key) = 0;
220                 \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key) = 0;
221                 \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(key\_reverse) = 0;
222                 \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key\_reverse) = 0;
223                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"End of LOS in raise phase, at sample "} << nlosSamples);
224         \}
225         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (los && losSamples == 0 && nlosSamples == 0) \textcolor{comment}{// I am in the normal LOS phase}
226         \{
227                 \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(key) = 0;
228                 \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key) = 0;
229                 \hyperlink{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{m\_mapLos}.at(key\_reverse) = 0;
230                 \hyperlink{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{m\_mapNlos}.at(key\_reverse) = 0;
231                 \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC}(\textcolor{stringliteral}{"Nomral LOS phase"});
232         \}
233 
234 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




\subsection{Member Data Documentation}
\index{ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}!m\+\_\+map\+Los@{m\+\_\+map\+Los}}
\index{m\+\_\+map\+Los@{m\+\_\+map\+Los}!ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}}
\subsubsection[{\texorpdfstring{m\+\_\+map\+Los}{m_mapLos}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ {\bf key\+Mob\+\_\+t}, int $>$ ns3\+::\+Mm\+Wave\+Los\+Tracker\+::m\+\_\+map\+Los\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}{}\label{classns3_1_1MmWaveLosTracker_a1ccd3a19ade5ca4b1e94bd113c593cd3}
\index{ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}!m\+\_\+map\+Nlos@{m\+\_\+map\+Nlos}}
\index{m\+\_\+map\+Nlos@{m\+\_\+map\+Nlos}!ns3\+::\+Mm\+Wave\+Los\+Tracker@{ns3\+::\+Mm\+Wave\+Los\+Tracker}}
\subsubsection[{\texorpdfstring{m\+\_\+map\+Nlos}{m_mapNlos}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ {\bf key\+Mob\+\_\+t}, int $>$ ns3\+::\+Mm\+Wave\+Los\+Tracker\+::m\+\_\+map\+Nlos\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}{}\label{classns3_1_1MmWaveLosTracker_ab8a492fa8798f2f775de311a6e619b19}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
mmwave/model/\hyperlink{mmwave-los-tracker_8h}{mmwave-\/los-\/tracker.\+h}\item 
mmwave/model/\hyperlink{mmwave-los-tracker_8cc}{mmwave-\/los-\/tracker.\+cc}\end{DoxyCompactItemize}
