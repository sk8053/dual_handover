\hypertarget{classns3_1_1LrWpanPhy}{}\section{ns3\+:\+:Lr\+Wpan\+Phy Class Reference}
\label{classns3_1_1LrWpanPhy}\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}


{\ttfamily \#include $<$lr-\/wpan-\/phy.\+h$>$}



Inheritance diagram for ns3\+:\+:Lr\+Wpan\+Phy\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Lr\+Wpan\+Phy\+:
% FIG 1
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{classns3_1_1LrWpanPhy_aea965ae9baca8ac61deab4594b50384a}{State\+Traced\+Callback}) (\hyperlink{classns3_1_1Time}{Time} time, \hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} old\+State, \hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} new\+State)
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1LrWpanPhy_a93412f30a30d144978857a5205c55b7b}{Lr\+Wpan\+Phy} (void)
\item 
virtual \hyperlink{classns3_1_1LrWpanPhy_a569f77ccc57641af08e39e84aa2cc956}{$\sim$\+Lr\+Wpan\+Phy} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a9cd1699d839197cd6f491ee14f17d14f}{Set\+Mobility} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ m)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{classns3_1_1LrWpanPhy_a629b895fa092ea6b3e583ace5e6d8014}{Get\+Mobility} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_adc8fc0181c802576d065a6d05f7b29ae}{Set\+Channel} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumChannel}{Spectrum\+Channel} $>$ \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumChannel}{Spectrum\+Channel} $>$ \hyperlink{classns3_1_1LrWpanPhy_a48f002b2b7b19b76bd062686a6b9a3e4}{Get\+Channel} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_ad15349eb927b16cb23f36ad4adf8db77}{Set\+Device} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ \hyperlink{lte__pathloss_8m_a1aabac6d068eef6a7bad3fdf50a05cc8}{d})
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ \hyperlink{classns3_1_1LrWpanPhy_ace242caabfdb950f3da22d4031ab0a50}{Get\+Device} (void) const 
\item 
void \hyperlink{classns3_1_1LrWpanPhy_af22ce300bde35f253d4eb101d8e731b9}{Set\+Antenna} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1AntennaModel}{Antenna\+Model} $>$ a)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1AntennaModel}{Antenna\+Model} $>$ \hyperlink{classns3_1_1LrWpanPhy_a1316975746fd64c36dd9631a45a3a0d6}{Get\+Rx\+Antenna} (void)
\item 
virtual \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} $>$ \hyperlink{classns3_1_1LrWpanPhy_a3c13050110824089e8e5fd077388a355}{Get\+Rx\+Spectrum\+Model} (void) const 
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a286fd14131187dac6b1a9b6b3d5eb06c}{Set\+Tx\+Power\+Spectral\+Density} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{tx\+Psd})
\item 
void \hyperlink{classns3_1_1LrWpanPhy_af54dbd30d997764656e91c2d3332b568}{Set\+Noise\+Power\+Spectral\+Density} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ noise\+Psd)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1LrWpanPhy_a66ea1d4c8240f56dd32c14335774f8fd}{Get\+Noise\+Power\+Spectral\+Density} (void)
\item 
virtual void \hyperlink{classns3_1_1LrWpanPhy_a0009842c2fb1be73d1ad437ca0e28b73}{Start\+Rx} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{structns3_1_1SpectrumSignalParameters}{Spectrum\+Signal\+Parameters} $>$ params)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a44d119b7c56658e97c99d9524e42f48f}{Pd\+Data\+Request} (const uint32\+\_\+t psdu\+Length, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a3297797eba6c7423a76c502c80dd0bf1}{Plme\+Cca\+Request} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a344dd99555091413adab8834bdc11dea}{Plme\+Ed\+Request} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a293ea127afcf2c575ceba18d5a680b47}{Plme\+Get\+Attribute\+Request} (\hyperlink{group__lr-wpan_gae6da9958c1a7194ce9160d866d4164bc}{Lr\+Wpan\+Pib\+Attribute\+Identifier} id)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a250bd133e6781745e652c8f3a3c7badc}{Plme\+Set\+T\+R\+X\+State\+Request} (\hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} state)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_ab535125df10aec4ccfe0b49d970aa117}{Plme\+Set\+Attribute\+Request} (\hyperlink{group__lr-wpan_gae6da9958c1a7194ce9160d866d4164bc}{Lr\+Wpan\+Pib\+Attribute\+Identifier} id, \hyperlink{structns3_1_1LrWpanPhyPibAttributes}{Lr\+Wpan\+Phy\+Pib\+Attributes} $\ast$attribute)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_ac008f1b80cac86551aec289676251fa9}{Set\+Pd\+Data\+Indication\+Callback} (\hyperlink{group__lr-wpan_ga5942bd2136b995f9104db9cfc311ace3}{Pd\+Data\+Indication\+Callback} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a04dd58cdf79c6769510d5ea57d8b7326}{Set\+Pd\+Data\+Confirm\+Callback} (\hyperlink{group__lr-wpan_ga0cba923353248fc2a8dc81303c6d5e35}{Pd\+Data\+Confirm\+Callback} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
void \hyperlink{classns3_1_1LrWpanPhy_af6bf7c705891030e91c0574a26bc4a0e}{Set\+Plme\+Cca\+Confirm\+Callback} (\hyperlink{group__lr-wpan_gafd859f54b5982ab4c85838a40b1c7340}{Plme\+Cca\+Confirm\+Callback} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a34c4ceaf91ccb56d17dcd92bc392df83}{Set\+Plme\+Ed\+Confirm\+Callback} (\hyperlink{group__lr-wpan_gadecf12d559c4db545036668cf9a384b6}{Plme\+Ed\+Confirm\+Callback} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a17d17169a7e9a9571bc904aae7cf0391}{Set\+Plme\+Get\+Attribute\+Confirm\+Callback} (\hyperlink{group__lr-wpan_ga024ef2b58b799155fc114f3d895ca283}{Plme\+Get\+Attribute\+Confirm\+Callback} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a1f251e13ef1dfd58b5261f9e214f0a8f}{Set\+Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback} (\hyperlink{group__lr-wpan_ga65eacebda6dc7c1611bea032c5a525a7}{Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
void \hyperlink{classns3_1_1LrWpanPhy_ad52317c8933455e29710e2ae7ef5d829}{Set\+Plme\+Set\+Attribute\+Confirm\+Callback} (\hyperlink{group__lr-wpan_gab86861c72f1d605df34795c411122e68}{Plme\+Set\+Attribute\+Confirm\+Callback} \hyperlink{mmwave_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
double \hyperlink{classns3_1_1LrWpanPhy_a1bb730cd2cadcdd444a00c1198035b89}{Get\+Data\+Or\+Symbol\+Rate} (bool is\+Data)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_aa427b690f6771f123732c375006c5058}{Set\+Error\+Model} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LrWpanErrorModel}{Lr\+Wpan\+Error\+Model} $>$ e)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LrWpanErrorModel}{Lr\+Wpan\+Error\+Model} $>$ \hyperlink{classns3_1_1LrWpanPhy_ab88a23e2906d21cd0fa0643c8605a337}{Get\+Error\+Model} (void) const 
\item 
uint64\+\_\+t \hyperlink{classns3_1_1LrWpanPhy_a2a6657d32de705411ccc26654d7d7e43}{Get\+Phy\+S\+H\+R\+Duration} (void) const 
\item 
double \hyperlink{classns3_1_1LrWpanPhy_af06487ea83c29daf11e23b908464a63d}{Get\+Phy\+Symbols\+Per\+Octet} (void) const 
\item 
int64\+\_\+t \hyperlink{classns3_1_1LrWpanPhy_a869f5ae34809909cd8f141dbe81d4394}{Assign\+Streams} (int64\+\_\+t stream)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1LrWpanPhy_a0f49346313924575b61679c52e769c19}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const uint32\+\_\+t \hyperlink{classns3_1_1LrWpanPhy_a0dac53931aac7c959546ca54db5e39bb}{a\+Max\+Phy\+Packet\+Size} = 127
\item 
static const uint32\+\_\+t \hyperlink{classns3_1_1LrWpanPhy_a8236b734a3ecb7d0c7528e693e80930d}{a\+Turnaround\+Time} = 12
\end{DoxyCompactItemize}
\subsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
static const \hyperlink{structns3_1_1LrWpanPhyDataAndSymbolRates}{Lr\+Wpan\+Phy\+Data\+And\+Symbol\+Rates} \hyperlink{classns3_1_1LrWpanPhy_a28fa5c94a795cfc6c086024110a33b9d}{data\+Symbol\+Rates} \mbox{[}7\mbox{]}
\item 
static const \hyperlink{structns3_1_1LrWpanPhyPpduHeaderSymbolNumber}{Lr\+Wpan\+Phy\+Ppdu\+Header\+Symbol\+Number} \hyperlink{classns3_1_1LrWpanPhy_add389321606b4a809e3f889ef7e97173}{ppdu\+Header\+Symbol\+Numbers} \mbox{[}7\mbox{]}
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::pair$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$, bool $>$ \hyperlink{classns3_1_1LrWpanPhy_a02f7c4a90f352f4089053ad2aed60a4f}{Packet\+And\+Status}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1LrWpanPhy_acb5cbcd11fdc3712f5a577f3c03849a7}{Do\+Dispose} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{Change\+Trx\+State} (\hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} new\+State)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a624a2aee1e304c52523cf071f16ed79d}{Set\+My\+Phy\+Option} (void)
\item 
\hyperlink{group__lr-wpan_ga23ee18bb5f5136211c75a7f58673db52}{Lr\+Wpan\+Phy\+Option} \hyperlink{classns3_1_1LrWpanPhy_a451aaf0c8528a821877279b1f92d73e4}{Get\+My\+Phy\+Option} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_afbb3b6c22ee0925f9019b703c02d3ed3}{End\+Tx} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a8a339fadde6f27b6a495377a4eca7943}{Check\+Interference} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_a3a6d92e9b81bb3209b990e6ab12f37b3}{End\+Rx} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{structns3_1_1SpectrumSignalParameters}{Spectrum\+Signal\+Parameters} $>$ params)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_af05ebca568ec11ec5621f9d361d77295}{Cancel\+Ed} (\hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} state)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_af0dc21f11ee72a14d71faf03f52ee312}{End\+Ed} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_aa7f39e82e542534c3b7a4a9802335f6a}{End\+Cca} (void)
\item 
void \hyperlink{classns3_1_1LrWpanPhy_ab240816e20a6d8c7916b5670ad65c492}{End\+Set\+T\+R\+X\+State} (void)
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1LrWpanPhy_a18e8110831088f2f0ef3e55b9400526e}{Calculate\+Tx\+Time} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet)
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1LrWpanPhy_a8b4b00f2f8452d6b22b8ce3e1bc316d6}{Get\+Ppdu\+Header\+Tx\+Time} (void)
\item 
bool \hyperlink{classns3_1_1LrWpanPhy_a135ee9e3575b3e831323721373fc5176}{Channel\+Supported} (uint8\+\_\+t channel)
\item 
bool \hyperlink{classns3_1_1LrWpanPhy_a70e40ec5f6dc98092c6d4bcf7ee137a6}{Phy\+Is\+Busy} (void) const 
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanPhy_a72273155da1a3b5340389633f5486860}{m\+\_\+phy\+Tx\+Begin\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanPhy_a34c1c896916f90010cd7f4ba5eaa5385}{m\+\_\+phy\+Tx\+End\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanPhy_ac8651acbf8f744b8442c05a490a35720}{m\+\_\+phy\+Tx\+Drop\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanPhy_acd238a82f3646333c30a9100fecafbda}{m\+\_\+phy\+Rx\+Begin\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$, double $>$ \hyperlink{classns3_1_1LrWpanPhy_a6d8ee60f128cdce862893fc9e0e5eda3}{m\+\_\+phy\+Rx\+End\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ $>$ \hyperlink{classns3_1_1LrWpanPhy_aa649b07e1ef1151e1758c5091e6a7a00}{m\+\_\+phy\+Rx\+Drop\+Trace}
\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Time}{Time}, \hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration}, \hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} $>$ \hyperlink{classns3_1_1LrWpanPhy_ae48d12b3f7dd9ebc93ae1a7e0d570f52}{m\+\_\+trx\+State\+Logger}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{classns3_1_1LrWpanPhy_a746dc7299fae28fafa617075ca3b5433}{m\+\_\+mobility}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NetDevice}{Net\+Device} $>$ \hyperlink{classns3_1_1LrWpanPhy_a406001d3cb4da3828837c1c1b4629a9c}{m\+\_\+device}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumChannel}{Spectrum\+Channel} $>$ \hyperlink{classns3_1_1LrWpanPhy_a6ea4a904afe3b256bc001c40efe496e1}{m\+\_\+channel}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1AntennaModel}{Antenna\+Model} $>$ \hyperlink{classns3_1_1LrWpanPhy_a190f9ce3b27fed0de2be87412387f8ba}{m\+\_\+antenna}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{m\+\_\+tx\+Psd}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} $>$ \hyperlink{classns3_1_1LrWpanPhy_a02560969747aa24f7bded61743f5cc37}{m\+\_\+noise}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LrWpanErrorModel}{Lr\+Wpan\+Error\+Model} $>$ \hyperlink{classns3_1_1LrWpanPhy_a51ab23fe176708768b6276cdbbd68a06}{m\+\_\+error\+Model}
\item 
\hyperlink{structns3_1_1LrWpanPhyPibAttributes}{Lr\+Wpan\+Phy\+Pib\+Attributes} \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\+\_\+phy\+P\+I\+B\+Attributes}
\item 
\hyperlink{classns3_1_1TracedValue}{Traced\+Value}$<$ \hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} $>$ \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\+\_\+trx\+State}
\item 
\hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{Lr\+Wpan\+Phy\+Enumeration} \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\+\_\+trx\+State\+Pending}
\item 
\hyperlink{group__lr-wpan_ga5942bd2136b995f9104db9cfc311ace3}{Pd\+Data\+Indication\+Callback} \hyperlink{classns3_1_1LrWpanPhy_a94de3241a0050cc21f5a57fdbc951c9e}{m\+\_\+pd\+Data\+Indication\+Callback}
\item 
\hyperlink{group__lr-wpan_ga0cba923353248fc2a8dc81303c6d5e35}{Pd\+Data\+Confirm\+Callback} \hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\+\_\+pd\+Data\+Confirm\+Callback}
\item 
\hyperlink{group__lr-wpan_gafd859f54b5982ab4c85838a40b1c7340}{Plme\+Cca\+Confirm\+Callback} \hyperlink{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{m\+\_\+plme\+Cca\+Confirm\+Callback}
\item 
\hyperlink{group__lr-wpan_gadecf12d559c4db545036668cf9a384b6}{Plme\+Ed\+Confirm\+Callback} \hyperlink{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}{m\+\_\+plme\+Ed\+Confirm\+Callback}
\item 
\hyperlink{group__lr-wpan_ga024ef2b58b799155fc114f3d895ca283}{Plme\+Get\+Attribute\+Confirm\+Callback} \hyperlink{classns3_1_1LrWpanPhy_abc174686fae5652243dca022df5af6ed}{m\+\_\+plme\+Get\+Attribute\+Confirm\+Callback}
\item 
\hyperlink{group__lr-wpan_ga65eacebda6dc7c1611bea032c5a525a7}{Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback} \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\+\_\+plme\+Set\+T\+R\+X\+State\+Confirm\+Callback}
\item 
\hyperlink{group__lr-wpan_gab86861c72f1d605df34795c411122e68}{Plme\+Set\+Attribute\+Confirm\+Callback} \hyperlink{classns3_1_1LrWpanPhy_a174646782f62d874a5c92f4cfbbb8922}{m\+\_\+plme\+Set\+Attribute\+Confirm\+Callback}
\item 
\hyperlink{group__lr-wpan_ga23ee18bb5f5136211c75a7f58673db52}{Lr\+Wpan\+Phy\+Option} \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\+\_\+phy\+Option}
\item 
\hyperlink{structns3_1_1LrWpanEdPower}{Lr\+Wpan\+Ed\+Power} \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\+\_\+ed\+Power}
\item 
double \hyperlink{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{m\+\_\+cca\+Peak\+Power}
\item 
double \hyperlink{classns3_1_1LrWpanPhy_a8150b66561c973e8d0f9ef77bac739b8}{m\+\_\+rx\+Sensitivity}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LrWpanInterferenceHelper}{Lr\+Wpan\+Interference\+Helper} $>$ \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\+\_\+signal}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1LrWpanPhy_ada4772165b76d85314ecbc3c19a404ab}{m\+\_\+rx\+Last\+Update}
\item 
std\+::pair$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{structns3_1_1LrWpanSpectrumSignalParameters}{Lr\+Wpan\+Spectrum\+Signal\+Parameters} $>$, bool $>$ \hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\+\_\+current\+Rx\+Packet}
\item 
\hyperlink{classns3_1_1LrWpanPhy_a02f7c4a90f352f4089053ad2aed60a4f}{Packet\+And\+Status} \hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\+\_\+current\+Tx\+Packet}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1LrWpanPhy_a5fc2fce788ea008a00078c62682c02d0}{m\+\_\+cca\+Request}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1LrWpanPhy_a7de5c9c2ff7a6797ef475fb030e99ad0}{m\+\_\+ed\+Request}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\+\_\+set\+T\+R\+X\+State}
\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1LrWpanPhy_ac25e1b499978dc6ad31f3c425f6e261a}{m\+\_\+pd\+Data\+Request}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UniformRandomVariable}{Uniform\+Random\+Variable} $>$ \hyperlink{classns3_1_1LrWpanPhy_a307453e07b607f6ec19530c1042f1eba}{m\+\_\+random}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Make \hyperlink{classns3_1_1LrWpanPhy}{Lr\+Wpan\+Phy} a \hyperlink{classns3_1_1SpectrumPhy}{Spectrum\+Phy} so we can enable the eventual modeling of device interference 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Packet\+And\+Status@{Packet\+And\+Status}}
\index{Packet\+And\+Status@{Packet\+And\+Status}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Packet\+And\+Status}{PacketAndStatus}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::pair$<${\bf Ptr}$<${\bf Packet}$>$, bool$>$ {\bf ns3\+::\+Lr\+Wpan\+Phy\+::\+Packet\+And\+Status}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a02f7c4a90f352f4089053ad2aed60a4f}{}\label{classns3_1_1LrWpanPhy_a02f7c4a90f352f4089053ad2aed60a4f}
The second is true if the first is flagged as error/invalid. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!State\+Traced\+Callback@{State\+Traced\+Callback}}
\index{State\+Traced\+Callback@{State\+Traced\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{State\+Traced\+Callback}{StateTracedCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$  ns3\+::\+Lr\+Wpan\+Phy\+::\+State\+Traced\+Callback) ({\bf Time} time, {\bf Lr\+Wpan\+Phy\+Enumeration} old\+State, {\bf Lr\+Wpan\+Phy\+Enumeration} new\+State)}\hypertarget{classns3_1_1LrWpanPhy_aea965ae9baca8ac61deab4594b50384a}{}\label{classns3_1_1LrWpanPhy_aea965ae9baca8ac61deab4594b50384a}
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} signature for Trx state change events.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em time} & The time of the state change. \\
\hline
\mbox{\tt in}  & {\em old\+State} & The old state. \\
\hline
\mbox{\tt in}  & {\em new\+State} & The new state. \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000018}{Deprecated}]The Lr\+Wpan\+Phy\+Enumeration state is now accessible as the \hyperlink{classns3_1_1TracedValue}{Traced\+Value} {\ttfamily Trx\+State\+Value}. The {\ttfamily Trx\+State} \hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} will be removed in a future release. \end{DoxyRefDesc}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Lr\+Wpan\+Phy@{Lr\+Wpan\+Phy}}
\index{Lr\+Wpan\+Phy@{Lr\+Wpan\+Phy}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Lr\+Wpan\+Phy(void)}{LrWpanPhy(void)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Lr\+Wpan\+Phy\+::\+Lr\+Wpan\+Phy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a93412f30a30d144978857a5205c55b7b}{}\label{classns3_1_1LrWpanPhy_a93412f30a30d144978857a5205c55b7b}
Default constructor. 
\begin{DoxyCode}
124   : \hyperlink{classns3_1_1LrWpanPhy_a7de5c9c2ff7a6797ef475fb030e99ad0}{m\_edRequest} (),
125     \hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState} ()
126 \{
127   \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF};
128   \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
129 
130   \textcolor{comment}{// default PHY PIB attributes}
131   \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel} = 11;
132   \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a3fa4a8802211d54c7b4065fe3f086640}{phyTransmitPower} = 0;
133   \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_aab22c5f1b6b07b53e6daedd0d2cc0332}{phyCurrentPage} = 0;
134   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 32; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
135     \{
136       \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a1bdcf71ffdbe0812d44d95ae2a5ae633}{phyChannelsSupported}[
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0x07ffffff;
137     \}
138   \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a41d736be38b2dd87bb9fa2b2090723e8}{phyCCAMode} = 1;
139 
140   \hyperlink{classns3_1_1LrWpanPhy_a624a2aee1e304c52523cf071f16ed79d}{SetMyPhyOption} ();
141 
142   \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_a1c454915534c342f9706e6e42006b388}{averagePower} = 0.0;
143   \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ac652b200f53980a1632776b9ee2c8456}{lastUpdate} = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0);
144   \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ad0843da1bc59c22ff31bbd2023f61dc0}{measurementLength} = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0);
145 
146   \textcolor{comment}{// default -110 dBm in W for 2.4 GHz}
147   \hyperlink{classns3_1_1LrWpanPhy_a8150b66561c973e8d0f9ef77bac739b8}{m\_rxSensitivity} = pow (10.0, -106.58 / 10.0) / 1000.0;
148   LrWpanSpectrumValueHelper psdHelper;
149   \hyperlink{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{m\_txPsd} = psdHelper.CreateTxPowerSpectralDensity (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.
      \hyperlink{structns3_1_1LrWpanPhyPibAttributes_a3fa4a8802211d54c7b4065fe3f086640}{phyTransmitPower},
150                                                     \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.
      \hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel});
151   \hyperlink{classns3_1_1LrWpanPhy_a02560969747aa24f7bded61743f5cc37}{m\_noise} = psdHelper.CreateNoisePowerSpectralDensity (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.
      \hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel});
152   \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal} = Create<LrWpanInterferenceHelper> (\hyperlink{classns3_1_1LrWpanPhy_a02560969747aa24f7bded61743f5cc37}{m\_noise}->GetSpectrumModel ());
153   \hyperlink{classns3_1_1LrWpanPhy_ada4772165b76d85314ecbc3c19a404ab}{m\_rxLastUpdate} = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
154   Ptr<Packet> none\_packet = 0;
155   Ptr<LrWpanSpectrumSignalParameters> none\_params = 0;
156   \hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket} = std::make\_pair (none\_params, \textcolor{keyword}{true});
157   \hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket} = std::make\_pair (none\_packet, \textcolor{keyword}{true});
158   \hyperlink{classns3_1_1LrWpanPhy_a51ab23fe176708768b6276cdbbd68a06}{m\_errorModel} = 0;
159 
160   \hyperlink{classns3_1_1LrWpanPhy_a307453e07b607f6ec19530c1042f1eba}{m\_random} = CreateObject<UniformRandomVariable> ();
161   \hyperlink{classns3_1_1LrWpanPhy_a307453e07b607f6ec19530c1042f1eba}{m\_random}->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Min"}, DoubleValue (0.0));
162   \hyperlink{classns3_1_1LrWpanPhy_a307453e07b607f6ec19530c1042f1eba}{m\_random}->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Max"}, DoubleValue (1.0));
163 
164 
165   \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
166 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!````~Lr\+Wpan\+Phy@{$\sim$\+Lr\+Wpan\+Phy}}
\index{````~Lr\+Wpan\+Phy@{$\sim$\+Lr\+Wpan\+Phy}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{$\sim$\+Lr\+Wpan\+Phy(void)}{~LrWpanPhy(void)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Lr\+Wpan\+Phy\+::$\sim$\+Lr\+Wpan\+Phy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanPhy_a569f77ccc57641af08e39e84aa2cc956}{}\label{classns3_1_1LrWpanPhy_a569f77ccc57641af08e39e84aa2cc956}

\begin{DoxyCode}
169 \{
170 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Assign\+Streams@{Assign\+Streams}}
\index{Assign\+Streams@{Assign\+Streams}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Assign\+Streams(int64\+\_\+t stream)}{AssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::\+Lr\+Wpan\+Phy\+::\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a869f5ae34809909cd8f141dbe81d4394}{}\label{classns3_1_1LrWpanPhy_a869f5ae34809909cd8f141dbe81d4394}
Assign a fixed random variable stream number to the random variables used by this model. Return the number of streams that have been assigned.


\begin{DoxyParams}{Parameters}
{\em stream} & first stream index to use \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of stream indices assigned by this model 
\end{DoxyReturn}

\begin{DoxyCode}
1421 \{
1422   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1423   \hyperlink{classns3_1_1LrWpanPhy_a307453e07b607f6ec19530c1042f1eba}{m\_random}->\hyperlink{classns3_1_1RandomVariableStream_add11aaf975607746b7e271d300659a94}{SetStream} (stream);
1424   \textcolor{keywordflow}{return} 1;
1425 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Calculate\+Tx\+Time@{Calculate\+Tx\+Time}}
\index{Calculate\+Tx\+Time@{Calculate\+Tx\+Time}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Calculate\+Tx\+Time(\+Ptr$<$ const Packet $>$ packet)}{CalculateTxTime(Ptr< const Packet > packet)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Lr\+Wpan\+Phy\+::\+Calculate\+Tx\+Time (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a18e8110831088f2f0ef3e55b9400526e}{}\label{classns3_1_1LrWpanPhy_a18e8110831088f2f0ef3e55b9400526e}
Calculate the time required for sending the given packet, including preamble, S\+FD and P\+HR.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet for which the transmission time should be calculated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the time required for transmitting the packet 
\end{DoxyReturn}

\begin{DoxyCode}
1257 \{
1258   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet);
1259 
1260   \textcolor{keywordtype}{bool} isData = \textcolor{keyword}{true};
1261   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txTime = \hyperlink{classns3_1_1LrWpanPhy_a8b4b00f2f8452d6b22b8ce3e1bc316d6}{GetPpduHeaderTxTime} ();
1262 
1263   txTime += \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (packet->GetSize () * 8.0 / \hyperlink{classns3_1_1LrWpanPhy_a1bb730cd2cadcdd444a00c1198035b89}{GetDataOrSymbolRate} (isData));
1264 
1265   \textcolor{keywordflow}{return} txTime;
1266 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Cancel\+Ed@{Cancel\+Ed}}
\index{Cancel\+Ed@{Cancel\+Ed}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Cancel\+Ed(\+Lr\+Wpan\+Phy\+Enumeration state)}{CancelEd(LrWpanPhyEnumeration state)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Cancel\+Ed (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Phy\+Enumeration}}]{state}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_af05ebca568ec11ec5621f9d361d77295}{}\label{classns3_1_1LrWpanPhy_af05ebca568ec11ec5621f9d361d77295}
Cancel an ongoing ED procedure. This is called when the transceiver is switched off or set to TX mode. This calls the appropiate confirm callback of the M\+AC.


\begin{DoxyParams}{Parameters}
{\em state} & the new state which is the cause for canceling ED \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1064 \{
1065   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1066   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (state == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF} || state == 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON});
1067 
1068   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a7de5c9c2ff7a6797ef475fb030e99ad0}{m\_edRequest}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ())
1069     \{
1070       \hyperlink{classns3_1_1LrWpanPhy_a7de5c9c2ff7a6797ef475fb030e99ad0}{m\_edRequest}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
1071       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}{m\_plmeEdConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
1072         \{
1073           \hyperlink{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}{m\_plmeEdConfirmCallback} (state, 0);
1074         \}
1075     \}
1076 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Change\+Trx\+State@{Change\+Trx\+State}}
\index{Change\+Trx\+State@{Change\+Trx\+State}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Change\+Trx\+State(\+Lr\+Wpan\+Phy\+Enumeration new\+State)}{ChangeTrxState(LrWpanPhyEnumeration newState)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Change\+Trx\+State (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Phy\+Enumeration}}]{new\+State}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{}\label{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}
Change the P\+HY state to the given new state, firing the state change trace.


\begin{DoxyParams}{Parameters}
{\em new\+State} & the new state \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1047 \{
1048   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" state: "} << \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} << \textcolor{stringliteral}{" -> "} << newState);
1049   \hyperlink{classns3_1_1LrWpanPhy_ae48d12b3f7dd9ebc93ae1a7e0d570f52}{m\_trxStateLogger} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} (), \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState}, newState);
1050   \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} = newState;
1051 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Channel\+Supported@{Channel\+Supported}}
\index{Channel\+Supported@{Channel\+Supported}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Channel\+Supported(uint8\+\_\+t channel)}{ChannelSupported(uint8_t channel)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lr\+Wpan\+Phy\+::\+Channel\+Supported (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{channel}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a135ee9e3575b3e831323721373fc5176}{}\label{classns3_1_1LrWpanPhy_a135ee9e3575b3e831323721373fc5176}
Check if the given channel is supported by the P\+HY.


\begin{DoxyParams}{Parameters}
{\em channel} & the channel to check \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true, if the channel is supported, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
876 \{
877   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << channel);
878   \textcolor{keywordtype}{bool} retValue = \textcolor{keyword}{false};
879 
880   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 32; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
881     \{
882       \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a1bdcf71ffdbe0812d44d95ae2a5ae633}{phyChannelsSupported}[
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] & (1 << channel)) != 0)
883         \{
884           retValue = \textcolor{keyword}{true};
885           \textcolor{keywordflow}{break};
886         \}
887     \}
888 
889   \textcolor{keywordflow}{return} retValue;
890 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Check\+Interference@{Check\+Interference}}
\index{Check\+Interference@{Check\+Interference}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Check\+Interference(void)}{CheckInterference(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Check\+Interference (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a8a339fadde6f27b6a495377a4eca7943}{}\label{classns3_1_1LrWpanPhy_a8a339fadde6f27b6a495377a4eca7943}
Check if the interference destroys a frame currently received. Called whenever a change in interference is detected. 
\begin{DoxyCode}
398 \{
399   \textcolor{comment}{// Calculate whether packet was lost.}
400   LrWpanSpectrumValueHelper psdHelper;
401   Ptr<LrWpanSpectrumSignalParameters> currentRxParams = \hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.first;
402 
403   \textcolor{comment}{// We are currently receiving a packet.}
404   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX})
405     \{
406       \textcolor{comment}{// NS\_ASSERT (currentRxParams && !m\_currentRxPacket.second);}
407 
408       Ptr<Packet> currentPacket = currentRxParams->packetBurst->GetPackets ().front ();
409       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a51ab23fe176708768b6276cdbbd68a06}{m\_errorModel} != 0)
410         \{
411           \textcolor{comment}{// How many bits did we receive since the last calculation?}
412           \textcolor{keywordtype}{double} t = (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - \hyperlink{classns3_1_1LrWpanPhy_ada4772165b76d85314ecbc3c19a404ab}{m\_rxLastUpdate}).ToDouble (
      \hyperlink{classns3_1_1Time_a87a7f4d29c68b047a72d291ad660295aad6c18469b17e6491073c861555c40de4}{Time::MS});
413           uint32\_t chunkSize = ceil (t * (\hyperlink{classns3_1_1LrWpanPhy_a1bb730cd2cadcdd444a00c1198035b89}{GetDataOrSymbolRate} (\textcolor{keyword}{true}) / 1000));
414           Ptr<SpectrumValue> interferenceAndNoise = \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->GetSignalPsd ();
415           *interferenceAndNoise -= *currentRxParams->psd;
416           *interferenceAndNoise += *\hyperlink{classns3_1_1LrWpanPhy_a02560969747aa24f7bded61743f5cc37}{m\_noise};
417           \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (
      currentRxParams->psd, \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel}) / 
      \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (interferenceAndNoise, 
      \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel});
418           \textcolor{keywordtype}{double} per = 1.0 - \hyperlink{classns3_1_1LrWpanPhy_a51ab23fe176708768b6276cdbbd68a06}{m\_errorModel}->GetChunkSuccessRate (sinr, chunkSize);
419 
420           \textcolor{comment}{// The LQI is the total packet success rate scaled to 0-255.}
421           \textcolor{comment}{// If not already set, initialize to 255.}
422           LrWpanLqiTag tag (\hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint8\_t>::max} ());
423           currentPacket->PeekPacketTag (tag);
424           uint8\_t lqi = tag.Get ();
425           tag.Set (lqi - (per * lqi));
426           currentPacket->ReplacePacketTag (tag);
427 
428           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a307453e07b607f6ec19530c1042f1eba}{m\_random}->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue} () < per)
429             \{
430               \textcolor{comment}{// The packet was destroyed, drop the packet after reception.}
431               \hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.second = \textcolor{keyword}{true};
432             \}
433         \}
434       \textcolor{keywordflow}{else}
435         \{
436           \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Missing ErrorModel"});
437         \}
438     \}
439   \hyperlink{classns3_1_1LrWpanPhy_ada4772165b76d85314ecbc3c19a404ab}{m\_rxLastUpdate} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
440 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanPhy_acb5cbcd11fdc3712f5a577f3c03849a7}{}\label{classns3_1_1LrWpanPhy_acb5cbcd11fdc3712f5a577f3c03849a7}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1LrWpanPhy_acb5cbcd11fdc3712f5a577f3c03849a7}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
174 \{
175   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
176 
177   \textcolor{comment}{// Cancel pending transceiver state change, if one is in progress.}
178   \hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
179   \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF};
180   \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
181 
182   \hyperlink{classns3_1_1LrWpanPhy_a746dc7299fae28fafa617075ca3b5433}{m\_mobility} = 0;
183   \hyperlink{classns3_1_1LrWpanPhy_a406001d3cb4da3828837c1c1b4629a9c}{m\_device} = 0;
184   \hyperlink{classns3_1_1LrWpanPhy_a6ea4a904afe3b256bc001c40efe496e1}{m\_channel} = 0;
185   \hyperlink{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{m\_txPsd} = 0;
186   \hyperlink{classns3_1_1LrWpanPhy_a02560969747aa24f7bded61743f5cc37}{m\_noise} = 0;
187   \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal} = 0;
188   \hyperlink{classns3_1_1LrWpanPhy_a51ab23fe176708768b6276cdbbd68a06}{m\_errorModel} = 0;
189   \hyperlink{classns3_1_1LrWpanPhy_a94de3241a0050cc21f5a57fdbc951c9e}{m\_pdDataIndicationCallback} = MakeNullCallback< void, uint32\_t, Ptr<Packet>, 
      uint8\_t > ();
190   \hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback} = MakeNullCallback< void, LrWpanPhyEnumeration > ();
191   \hyperlink{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{m\_plmeCcaConfirmCallback} = MakeNullCallback< void, LrWpanPhyEnumeration > ();
192   \hyperlink{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}{m\_plmeEdConfirmCallback} = MakeNullCallback< void, LrWpanPhyEnumeration,uint8\_t > (
      );
193   \hyperlink{classns3_1_1LrWpanPhy_abc174686fae5652243dca022df5af6ed}{m\_plmeGetAttributeConfirmCallback} = MakeNullCallback< void,
       LrWpanPhyEnumeration, LrWpanPibAttributeIdentifier, LrWpanPhyPibAttributes* > ();
194   \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} = MakeNullCallback< void,
       LrWpanPhyEnumeration > ();
195   \hyperlink{classns3_1_1LrWpanPhy_a174646782f62d874a5c92f4cfbbb8922}{m\_plmeSetAttributeConfirmCallback} = MakeNullCallback< void,
       LrWpanPhyEnumeration, LrWpanPibAttributeIdentifier > ();
196 
197   \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{SpectrumPhy::DoDispose} ();
198 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!End\+Cca@{End\+Cca}}
\index{End\+Cca@{End\+Cca}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{End\+Cca(void)}{EndCca(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+End\+Cca (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_aa7f39e82e542534c3b7a4a9802335f6a}{}\label{classns3_1_1LrWpanPhy_aa7f39e82e542534c3b7a4a9802335f6a}
Called at the end of the C\+CA. The channel condition (busy or idle) is reported to the M\+AC or C\+S\+M\+A/\+CA. 
\begin{DoxyCode}
1112 \{
1113   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1114   \hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{LrWpanPhyEnumeration} sensedChannelState = 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a33aedad985a3e4dd7a0c6790a2c677a0}{IEEE\_802\_15\_4\_PHY\_UNSPECIFIED};
1115 
1116   \textcolor{comment}{// Update peak power.}
1117   \textcolor{keywordtype}{double} power = \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (
      \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->GetSignalPsd (), \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.
      \hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel});
1118   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{m\_ccaPeakPower} < power)
1119     \{
1120       \hyperlink{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{m\_ccaPeakPower} = power;
1121     \}
1122 
1123   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a70e40ec5f6dc98092c6d4bcf7ee137a6}{PhyIsBusy} ())
1124     \{
1125       sensedChannelState = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a14641e5190b66ec8ec3903218058dc46}{IEEE\_802\_15\_4\_PHY\_BUSY};
1126     \}
1127   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a41d736be38b2dd87bb9fa2b2090723e8}{phyCCAMode} == 1)
1128     \{ \textcolor{comment}{//sec 6.9.9 ED detection}
1129       \textcolor{comment}{// -- ED threshold at most 10 dB above receiver sensitivity.}
1130       \textcolor{keywordflow}{if} (10 * log10 (\hyperlink{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{m\_ccaPeakPower} / \hyperlink{classns3_1_1LrWpanPhy_a8150b66561c973e8d0f9ef77bac739b8}{m\_rxSensitivity}) >= 10.0)
1131         \{
1132           sensedChannelState = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a14641e5190b66ec8ec3903218058dc46}{IEEE\_802\_15\_4\_PHY\_BUSY};
1133         \}
1134       \textcolor{keywordflow}{else}
1135         \{
1136           sensedChannelState = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
1137         \}
1138     \}
1139   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a41d736be38b2dd87bb9fa2b2090723e8}{phyCCAMode} == 2)
1140     \{
1141       \textcolor{comment}{//sec 6.9.9 carrier sense only}
1142       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX})
1143         \{
1144           \textcolor{comment}{// We currently do not model PPDU reception in detail. Instead we model}
1145           \textcolor{comment}{// packet reception starting with the first bit of the preamble.}
1146           \textcolor{comment}{// Therefore, this code will never be reached, as PhyIsBusy() would}
1147           \textcolor{comment}{// already lead to a channel busy condition.}
1148           \textcolor{comment}{// TODO: Change this, if we also model preamble and SFD detection.}
1149           sensedChannelState = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a14641e5190b66ec8ec3903218058dc46}{IEEE\_802\_15\_4\_PHY\_BUSY};
1150         \}
1151       \textcolor{keywordflow}{else}
1152         \{
1153           sensedChannelState = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
1154         \}
1155     \}
1156   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a41d736be38b2dd87bb9fa2b2090723e8}{phyCCAMode} == 3)
1157     \{ \textcolor{comment}{//sect 6.9.9 both}
1158       \textcolor{keywordflow}{if} ((10 * log10 (\hyperlink{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{m\_ccaPeakPower} / \hyperlink{classns3_1_1LrWpanPhy_a8150b66561c973e8d0f9ef77bac739b8}{m\_rxSensitivity}) >= 10.0)
1159           && \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX})
1160         \{
1161           \textcolor{comment}{// Again, this code will never be reached, if we are already receiving}
1162           \textcolor{comment}{// a packet, as PhyIsBusy() would already lead to a channel busy condition.}
1163           \textcolor{comment}{// TODO: Change this, if we also model preamble and SFD detection.}
1164           sensedChannelState = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a14641e5190b66ec8ec3903218058dc46}{IEEE\_802\_15\_4\_PHY\_BUSY};
1165         \}
1166       \textcolor{keywordflow}{else}
1167         \{
1168           sensedChannelState = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
1169         \}
1170     \}
1171   \textcolor{keywordflow}{else}
1172     \{
1173       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\textcolor{keyword}{false}, \textcolor{stringliteral}{"Invalid CCA mode"});
1174     \}
1175 
1176   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"channel sensed state: "} << sensedChannelState);
1177 
1178   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{m\_plmeCcaConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
1179     \{
1180       \hyperlink{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{m\_plmeCcaConfirmCallback} (sensedChannelState);
1181     \}
1182 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!End\+Ed@{End\+Ed}}
\index{End\+Ed@{End\+Ed}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{End\+Ed(void)}{EndEd(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+End\+Ed (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_af0dc21f11ee72a14d71faf03f52ee312}{}\label{classns3_1_1LrWpanPhy_af0dc21f11ee72a14d71faf03f52ee312}
Called at the end of the ED procedure. The average energy detected is reported to the M\+AC. 
\begin{DoxyCode}
1080 \{
1081   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1082 
1083   \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_a1c454915534c342f9706e6e42006b388}{averagePower} += 
      \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (
      \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->GetSignalPsd (), \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.
      \hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel}) * (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - 
      \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ac652b200f53980a1632776b9ee2c8456}{lastUpdate}).GetTimeStep () / \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.
      \hyperlink{structns3_1_1LrWpanEdPower_ad0843da1bc59c22ff31bbd2023f61dc0}{measurementLength}.\hyperlink{classns3_1_1Time_a40a7025b73dac7d02f8a4e1e54eaa5b5}{GetTimeStep} ();
1084 
1085   uint8\_t energyLevel;
1086 
1087   \textcolor{comment}{// Per IEEE802.15.4-2006 sec 6.9.7}
1088   \textcolor{keywordtype}{double} ratio = \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_a1c454915534c342f9706e6e42006b388}{averagePower} / \hyperlink{classns3_1_1LrWpanPhy_a8150b66561c973e8d0f9ef77bac739b8}{m\_rxSensitivity};
1089   ratio = 10.0 * log10 (ratio);
1090   \textcolor{keywordflow}{if} (ratio <= 10.0)
1091     \{  \textcolor{comment}{// less than 10 dB}
1092       energyLevel = 0;
1093     \}
1094   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ratio >= 40.0)
1095     \{ \textcolor{comment}{// less than 40 dB}
1096       energyLevel = 255;
1097     \}
1098   \textcolor{keywordflow}{else}
1099     \{
1100       \textcolor{comment}{// in-between with linear increase per sec 6.9.7}
1101       energyLevel = \textcolor{keyword}{static\_cast<}uint8\_t\textcolor{keyword}{>} (((ratio - 10.0) / 30.0) * 255.0);
1102     \}
1103 
1104   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}{m\_plmeEdConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
1105     \{
1106       \hyperlink{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}{m\_plmeEdConfirmCallback} (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS}, 
      energyLevel);
1107     \}
1108 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!End\+Rx@{End\+Rx}}
\index{End\+Rx@{End\+Rx}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{End\+Rx(\+Ptr$<$ Spectrum\+Signal\+Parameters $>$ params)}{EndRx(Ptr< SpectrumSignalParameters > params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+End\+Rx (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Spectrum\+Signal\+Parameters} $>$}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a3a6d92e9b81bb3209b990e6ab12f37b3}{}\label{classns3_1_1LrWpanPhy_a3a6d92e9b81bb3209b990e6ab12f37b3}
Finish the reception of a frame. This is called at the end of a frame reception, applying possibly pending P\+HY state changes and fireing the appropriate trace sources and indication callbacks to the M\+AC. A frame destroyed by noise/interference is dropped here, but not during reception. This method is also called for every packet which only contributes to interference.


\begin{DoxyParams}{Parameters}
{\em params} & signal parameters of the packet \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
444 \{
445   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
446 
447   Ptr<LrWpanSpectrumSignalParameters> params = DynamicCast<LrWpanSpectrumSignalParameters> (par);
448 
449   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a7de5c9c2ff7a6797ef475fb030e99ad0}{m\_edRequest}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ())
450     \{
451       \textcolor{comment}{// Update the average receive power during ED.}
452       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} now = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
453       \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_a1c454915534c342f9706e6e42006b388}{averagePower} += 
      \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (
      \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->GetSignalPsd (), \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.
      \hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel}) * (now - \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ac652b200f53980a1632776b9ee2c8456}{lastUpdate}).GetTimeStep () / 
      \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ad0843da1bc59c22ff31bbd2023f61dc0}{measurementLength}.\hyperlink{classns3_1_1Time_a40a7025b73dac7d02f8a4e1e54eaa5b5}{GetTimeStep} ();
454       \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ac652b200f53980a1632776b9ee2c8456}{lastUpdate} = now;
455     \}
456 
457   Ptr<LrWpanSpectrumSignalParameters> currentRxParams = \hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.first;
458   \textcolor{keywordflow}{if} (currentRxParams == params)
459     \{
460       \hyperlink{classns3_1_1LrWpanPhy_a8a339fadde6f27b6a495377a4eca7943}{CheckInterference} ();
461     \}
462 
463   \textcolor{comment}{// Update the interference.}
464   \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->RemoveSignal (par->psd);
465 
466   \textcolor{keywordflow}{if} (params == 0)
467     \{
468       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Node: "} << \hyperlink{classns3_1_1LrWpanPhy_a406001d3cb4da3828837c1c1b4629a9c}{m\_device}->GetAddress() << \textcolor{stringliteral}{" Removing interferent: "} << 
      *(par->psd));
469       \textcolor{keywordflow}{return};
470     \}
471 
472   \textcolor{comment}{// If this is the end of the currently received packet, check if reception was successful.}
473   \textcolor{keywordflow}{if} (currentRxParams == params)
474     \{
475       Ptr<Packet> currentPacket = currentRxParams->packetBurst->GetPackets ().front ();
476       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (currentPacket != 0);
477 
478       \textcolor{comment}{// If there is no error model attached to the PHY, we always report the maximum LQI value.}
479       LrWpanLqiTag tag (\hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint8\_t>::max} ());
480       currentPacket->PeekPacketTag (tag);
481       \hyperlink{classns3_1_1LrWpanPhy_a6d8ee60f128cdce862893fc9e0e5eda3}{m\_phyRxEndTrace} (currentPacket, tag.Get ());
482 
483       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.second)
484         \{
485           \textcolor{comment}{// The packet was successfully received, push it up the stack.}
486           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a94de3241a0050cc21f5a57fdbc951c9e}{m\_pdDataIndicationCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
487             \{
488               \hyperlink{classns3_1_1LrWpanPhy_a94de3241a0050cc21f5a57fdbc951c9e}{m\_pdDataIndicationCallback} (currentPacket->GetSize (), 
      currentPacket, tag.Get ());
489             \}
490         \}
491       \textcolor{keywordflow}{else}
492         \{
493           \textcolor{comment}{// The packet was destroyed, drop it.}
494           \hyperlink{classns3_1_1LrWpanPhy_aa649b07e1ef1151e1758c5091e6a7a00}{m\_phyRxDropTrace} (currentPacket);
495         \}
496       Ptr<LrWpanSpectrumSignalParameters> none = 0;
497       \hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket} = std::make\_pair (none, \textcolor{keyword}{true});
498 
499       \textcolor{comment}{// We may be waiting to apply a pending state change.}
500       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE})
501         \{
502           \textcolor{comment}{// Only change the state immediately, if the transceiver is not already}
503           \textcolor{comment}{// switching the state.}
504           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
505             \{
506               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Apply pending state change to "} << 
      \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending});
507               \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending});
508               \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
509               \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
510                 \{
511                   \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS});
512                 \}
513             \}
514         \}
515       \textcolor{keywordflow}{else}
516         \{
517           \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON});
518         \}
519     \}
520 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!End\+Set\+T\+R\+X\+State@{End\+Set\+T\+R\+X\+State}}
\index{End\+Set\+T\+R\+X\+State@{End\+Set\+T\+R\+X\+State}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{End\+Set\+T\+R\+X\+State(void)}{EndSetTRXState(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+End\+Set\+T\+R\+X\+State (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_ab240816e20a6d8c7916b5670ad65c492}{}\label{classns3_1_1LrWpanPhy_ab240816e20a6d8c7916b5670ad65c492}
Called after applying a deferred transceiver state switch. The result of the state switch is reported to the M\+AC. 
\begin{DoxyCode}
1186 \{
1187   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1188 
1189   \hyperlink{group__fatal_ga979468222aa80366c2c98aa1554f3eec}{NS\_ABORT\_IF} ( (\hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} != 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON}) && (\hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} != 
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON}) );
1190   \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending});
1191   \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
1192 
1193   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
1194     \{
1195       \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} (
      \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState});
1196     \}
1197 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 20




Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!End\+Tx@{End\+Tx}}
\index{End\+Tx@{End\+Tx}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{End\+Tx(void)}{EndTx(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+End\+Tx (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_afbb3b6c22ee0925f9019b703c02d3ed3}{}\label{classns3_1_1LrWpanPhy_afbb3b6c22ee0925f9019b703c02d3ed3}
Finish the transmission of a frame. This is called at the end of a frame transmission, applying possibly pending P\+HY state changes and fireing the appropriate trace sources and confirm callbacks to the M\+AC. 
\begin{DoxyCode}
1201 \{
1202   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1203 
1204   \hyperlink{group__fatal_ga979468222aa80366c2c98aa1554f3eec}{NS\_ABORT\_IF} ( (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a87f658959801356265b8c28a85569b15}{IEEE\_802\_15\_4\_PHY\_BUSY\_TX}) && 
      (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF}));
1205 
1206   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket}.second == \textcolor{keyword}{false})
1207     \{
1208       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Packet successfully transmitted"});
1209       \hyperlink{classns3_1_1LrWpanPhy_a34c1c896916f90010cd7f4ba5eaa5385}{m\_phyTxEndTrace} (\hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket}.first);
1210       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
1211         \{
1212           \hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS});
1213         \}
1214     \}
1215   \textcolor{keywordflow}{else}
1216     \{
1217       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Packet transmission aborted"});
1218       \hyperlink{classns3_1_1LrWpanPhy_ac8651acbf8f744b8442c05a490a35720}{m\_phyTxDropTrace} (\hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket}.first);
1219       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
1220         \{
1221           \textcolor{comment}{// See if this is ever entered in another state}
1222           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} ==  \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
1223           \hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState});
1224         \}
1225     \}
1226   \hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket}.first = 0;
1227   \hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket}.second = \textcolor{keyword}{false};
1228 
1229 
1230   \textcolor{comment}{// We may be waiting to apply a pending state change.}
1231   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE})
1232     \{
1233       \textcolor{comment}{// Only change the state immediately, if the transceiver is not already}
1234       \textcolor{comment}{// switching the state.}
1235       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
1236         \{
1237           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Apply pending state change to "} << 
      \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending});
1238           \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending});
1239           \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
1240           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
1241             \{
1242               \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS});
1243             \}
1244         \}
1245     \}
1246   \textcolor{keywordflow}{else}
1247     \{
1248       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF})
1249         \{
1250           \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON});
1251         \}
1252     \}
1253 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 22




Here is the caller graph for this function\+:
% FIG 23


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Channel@{Get\+Channel}}
\index{Get\+Channel@{Get\+Channel}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Channel(void)}{GetChannel(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Spectrum\+Channel} $>$ ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Channel (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a48f002b2b7b19b76bd062686a6b9a3e4}{}\label{classns3_1_1LrWpanPhy_a48f002b2b7b19b76bd062686a6b9a3e4}
Get the currently attached channel.

\begin{DoxyReturn}{Returns}
the channel 
\end{DoxyReturn}

\begin{DoxyCode}
242 \{
243   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
244   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanPhy_a6ea4a904afe3b256bc001c40efe496e1}{m\_channel};
245 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Data\+Or\+Symbol\+Rate@{Get\+Data\+Or\+Symbol\+Rate}}
\index{Get\+Data\+Or\+Symbol\+Rate@{Get\+Data\+Or\+Symbol\+Rate}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Data\+Or\+Symbol\+Rate(bool is\+Data)}{GetDataOrSymbolRate(bool isData)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Data\+Or\+Symbol\+Rate (
\begin{DoxyParamCaption}
\item[{bool}]{is\+Data}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a1bb730cd2cadcdd444a00c1198035b89}{}\label{classns3_1_1LrWpanPhy_a1bb730cd2cadcdd444a00c1198035b89}
implement P\+L\+ME Set\+Attribute confirm S\+AP 
\begin{DoxyParams}{Parameters}
{\em is\+Data} & is true for data rate or false for symbol rate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the rate value of this P\+HY 
\end{DoxyReturn}

\begin{DoxyCode}
1270 \{
1271   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << isData);
1272 
1273   \textcolor{keywordtype}{double} rate = 0.0;
1274 
1275   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} < \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52aecbdd68205278c9970eaf3af44c42bfd}{IEEE\_802\_15\_4\_INVALID\_PHY\_OPTION}
      );
1276 
1277   \textcolor{keywordflow}{if} (isData)
1278     \{
1279       rate = \hyperlink{classns3_1_1LrWpanPhy_a28fa5c94a795cfc6c086024110a33b9d}{dataSymbolRates} [\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption}].\hyperlink{structns3_1_1LrWpanPhyDataAndSymbolRates_a47170a3cf10224bb78088f117652d234}{bitRate};
1280     \}
1281   \textcolor{keywordflow}{else}
1282     \{
1283       rate = \hyperlink{classns3_1_1LrWpanPhy_a28fa5c94a795cfc6c086024110a33b9d}{dataSymbolRates} [\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption}].\hyperlink{structns3_1_1LrWpanPhyDataAndSymbolRates_a2670dd2cbf31f676ecd8676c74d85cc4}{symbolRate};
1284     \}
1285 
1286   \textcolor{keywordflow}{return} (rate * 1000.0);
1287 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Device@{Get\+Device}}
\index{Get\+Device@{Get\+Device}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Device(void) const }{GetDevice(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Net\+Device} $>$ ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Device (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanPhy_ace242caabfdb950f3da22d4031ab0a50}{}\label{classns3_1_1LrWpanPhy_ace242caabfdb950f3da22d4031ab0a50}
Get the associated \hyperlink{classns3_1_1NetDevice}{Net\+Device} instance

\begin{DoxyReturn}{Returns}
a \hyperlink{classns3_1_1Ptr}{Ptr} to the associated \hyperlink{classns3_1_1NetDevice}{Net\+Device} instance 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1SpectrumPhy_affe750ac922318000fef95dfbfb359fd}{ns3\+::\+Spectrum\+Phy}.


\begin{DoxyCode}
202 \{
203   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
204   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanPhy_a406001d3cb4da3828837c1c1b4629a9c}{m\_device};
205 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Error\+Model@{Get\+Error\+Model}}
\index{Get\+Error\+Model@{Get\+Error\+Model}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Error\+Model(void) const }{GetErrorModel(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Lr\+Wpan\+Error\+Model} $>$ ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Error\+Model (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1LrWpanPhy_ab88a23e2906d21cd0fa0643c8605a337}{}\label{classns3_1_1LrWpanPhy_ab88a23e2906d21cd0fa0643c8605a337}
get the error model in use

\begin{DoxyReturn}{Returns}
pointer to \hyperlink{classns3_1_1LrWpanErrorModel}{Lr\+Wpan\+Error\+Model} in use 
\end{DoxyReturn}

\begin{DoxyCode}
1395 \{
1396   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1397   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanPhy_a51ab23fe176708768b6276cdbbd68a06}{m\_errorModel};
1398 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Mobility@{Get\+Mobility}}
\index{Get\+Mobility@{Get\+Mobility}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Mobility(void)}{GetMobility(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Mobility\+Model} $>$ ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Mobility (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanPhy_a629b895fa092ea6b3e583ace5e6d8014}{}\label{classns3_1_1LrWpanPhy_a629b895fa092ea6b3e583ace5e6d8014}
Get the associated \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} instance

\begin{DoxyReturn}{Returns}
a \hyperlink{classns3_1_1Ptr}{Ptr} to the associated \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} instance 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1SpectrumPhy_a807f03c6444826ee9857813eaffcc5e2}{ns3\+::\+Spectrum\+Phy}.


\begin{DoxyCode}
210 \{
211   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
212   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanPhy_a746dc7299fae28fafa617075ca3b5433}{m\_mobility};
213 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+My\+Phy\+Option@{Get\+My\+Phy\+Option}}
\index{Get\+My\+Phy\+Option@{Get\+My\+Phy\+Option}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+My\+Phy\+Option(void)}{GetMyPhyOption(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lr\+Wpan\+Phy\+Option} ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+My\+Phy\+Option (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a451aaf0c8528a821877279b1f92d73e4}{}\label{classns3_1_1LrWpanPhy_a451aaf0c8528a821877279b1f92d73e4}
Get the currently configured P\+HY option. See I\+E\+EE 802.\+15.\+4-\/2006, section 6.\+1.\+2, Table 2.

\begin{DoxyReturn}{Returns}
the P\+HY option 
\end{DoxyReturn}

\begin{DoxyCode}
1355 \{
1356   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1357   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption};
1358 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Noise\+Power\+Spectral\+Density@{Get\+Noise\+Power\+Spectral\+Density}}
\index{Get\+Noise\+Power\+Spectral\+Density@{Get\+Noise\+Power\+Spectral\+Density}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Noise\+Power\+Spectral\+Density(void)}{GetNoisePowerSpectralDensity(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ const {\bf Spectrum\+Value} $>$ ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Noise\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a66ea1d4c8240f56dd32c14335774f8fd}{}\label{classns3_1_1LrWpanPhy_a66ea1d4c8240f56dd32c14335774f8fd}
Get the noise power spectral density.

\begin{DoxyReturn}{Returns}
the Noise Power Spectral Density 
\end{DoxyReturn}

\begin{DoxyCode}
1380 \{
1381   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1382   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanPhy_a02560969747aa24f7bded61743f5cc37}{m\_noise};
1383 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Phy\+S\+H\+R\+Duration@{Get\+Phy\+S\+H\+R\+Duration}}
\index{Get\+Phy\+S\+H\+R\+Duration@{Get\+Phy\+S\+H\+R\+Duration}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Phy\+S\+H\+R\+Duration(void) const }{GetPhySHRDuration(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Phy\+S\+H\+R\+Duration (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1LrWpanPhy_a2a6657d32de705411ccc26654d7d7e43}{}\label{classns3_1_1LrWpanPhy_a2a6657d32de705411ccc26654d7d7e43}
Get the duration of the S\+HR (preamble and S\+FD) in symbols, depending on the currently selected channel.

\begin{DoxyReturn}{Returns}
the S\+HR duration in symbols 
\end{DoxyReturn}

\begin{DoxyCode}
1402 \{
1403   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1404   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} < \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52aecbdd68205278c9970eaf3af44c42bfd}{IEEE\_802\_15\_4\_INVALID\_PHY\_OPTION}
      );
1405 
1406   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanPhy_add389321606b4a809e3f889ef7e97173}{ppduHeaderSymbolNumbers}[\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption}].
      \hyperlink{structns3_1_1LrWpanPhyPpduHeaderSymbolNumber_a670cc0687ee040a2671cd91e2f410332}{shrPreamble}
1407          + \hyperlink{classns3_1_1LrWpanPhy_add389321606b4a809e3f889ef7e97173}{ppduHeaderSymbolNumbers}[\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption}].
      \hyperlink{structns3_1_1LrWpanPhyPpduHeaderSymbolNumber_a253fa19060c1826012ec685cec394025}{shrSfd};
1408 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Phy\+Symbols\+Per\+Octet@{Get\+Phy\+Symbols\+Per\+Octet}}
\index{Get\+Phy\+Symbols\+Per\+Octet@{Get\+Phy\+Symbols\+Per\+Octet}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Phy\+Symbols\+Per\+Octet(void) const }{GetPhySymbolsPerOctet(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Phy\+Symbols\+Per\+Octet (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1LrWpanPhy_af06487ea83c29daf11e23b908464a63d}{}\label{classns3_1_1LrWpanPhy_af06487ea83c29daf11e23b908464a63d}
Get the number of symbols per octet, depending on the currently selected channel.

\begin{DoxyReturn}{Returns}
the number of symbols per octet 
\end{DoxyReturn}

\begin{DoxyCode}
1412 \{
1413   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1414   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} < \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52aecbdd68205278c9970eaf3af44c42bfd}{IEEE\_802\_15\_4\_INVALID\_PHY\_OPTION}
      );
1415 
1416   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanPhy_a28fa5c94a795cfc6c086024110a33b9d}{dataSymbolRates} [\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption}].\hyperlink{structns3_1_1LrWpanPhyDataAndSymbolRates_a2670dd2cbf31f676ecd8676c74d85cc4}{symbolRate} / (
      \hyperlink{classns3_1_1LrWpanPhy_a28fa5c94a795cfc6c086024110a33b9d}{dataSymbolRates} [\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption}].\hyperlink{structns3_1_1LrWpanPhyDataAndSymbolRates_a47170a3cf10224bb78088f117652d234}{bitRate} / 8);
1417 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Ppdu\+Header\+Tx\+Time@{Get\+Ppdu\+Header\+Tx\+Time}}
\index{Get\+Ppdu\+Header\+Tx\+Time@{Get\+Ppdu\+Header\+Tx\+Time}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Ppdu\+Header\+Tx\+Time(void)}{GetPpduHeaderTxTime(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Ppdu\+Header\+Tx\+Time (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a8b4b00f2f8452d6b22b8ce3e1bc316d6}{}\label{classns3_1_1LrWpanPhy_a8b4b00f2f8452d6b22b8ce3e1bc316d6}
Calculate the time required for sending the P\+P\+DU header, that is the preamble, S\+FD and P\+HR. \begin{DoxyReturn}{Returns}
The time required for sending the P\+P\+DU header. 
\end{DoxyReturn}

\begin{DoxyCode}
1291 \{
1292   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1293 
1294   \textcolor{keywordtype}{bool} isData = \textcolor{keyword}{false};
1295   \textcolor{keywordtype}{double} totalPpduHdrSymbols;
1296 
1297   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} < \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52aecbdd68205278c9970eaf3af44c42bfd}{IEEE\_802\_15\_4\_INVALID\_PHY\_OPTION}
      );
1298 
1299   totalPpduHdrSymbols = \hyperlink{classns3_1_1LrWpanPhy_add389321606b4a809e3f889ef7e97173}{ppduHeaderSymbolNumbers}[
      \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption}].\hyperlink{structns3_1_1LrWpanPhyPpduHeaderSymbolNumber_a670cc0687ee040a2671cd91e2f410332}{shrPreamble}
1300     + \hyperlink{classns3_1_1LrWpanPhy_add389321606b4a809e3f889ef7e97173}{ppduHeaderSymbolNumbers}[\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption}].
      \hyperlink{structns3_1_1LrWpanPhyPpduHeaderSymbolNumber_a253fa19060c1826012ec685cec394025}{shrSfd}
1301     + \hyperlink{classns3_1_1LrWpanPhy_add389321606b4a809e3f889ef7e97173}{ppduHeaderSymbolNumbers}[\hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption}].\hyperlink{structns3_1_1LrWpanPhyPpduHeaderSymbolNumber_a271039a734fb640a5b80e5fa52d77a96}{phr};
1302 
1303   \textcolor{keywordflow}{return} \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (totalPpduHdrSymbols / \hyperlink{classns3_1_1LrWpanPhy_a1bb730cd2cadcdd444a00c1198035b89}{GetDataOrSymbolRate} (isData));
1304 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 25




Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Rx\+Antenna@{Get\+Rx\+Antenna}}
\index{Get\+Rx\+Antenna@{Get\+Rx\+Antenna}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Rx\+Antenna(void)}{GetRxAntenna(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Antenna\+Model} $>$ ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Rx\+Antenna (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanPhy_a1316975746fd64c36dd9631a45a3a0d6}{}\label{classns3_1_1LrWpanPhy_a1316975746fd64c36dd9631a45a3a0d6}
Get the \hyperlink{classns3_1_1AntennaModel}{Antenna\+Model} used by the \hyperlink{classns3_1_1NetDevice}{Net\+Device} for reception

\begin{DoxyReturn}{Returns}
a \hyperlink{classns3_1_1Ptr}{Ptr} to the \hyperlink{classns3_1_1AntennaModel}{Antenna\+Model} used by the \hyperlink{classns3_1_1NetDevice}{Net\+Device} for reception 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1SpectrumPhy_a9af15c5f13c28658ed9b8ccdb990ad81}{ns3\+::\+Spectrum\+Phy}.


\begin{DoxyCode}
264 \{
265   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
266   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanPhy_a190f9ce3b27fed0de2be87412387f8ba}{m\_antenna};
267 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Rx\+Spectrum\+Model@{Get\+Rx\+Spectrum\+Model}}
\index{Get\+Rx\+Spectrum\+Model@{Get\+Rx\+Spectrum\+Model}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Rx\+Spectrum\+Model(void) const }{GetRxSpectrumModel(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ const {\bf Spectrum\+Model} $>$ ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Rx\+Spectrum\+Model (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanPhy_a3c13050110824089e8e5fd077388a355}{}\label{classns3_1_1LrWpanPhy_a3c13050110824089e8e5fd077388a355}
\begin{DoxyReturn}{Returns}
returns the \hyperlink{classns3_1_1SpectrumModel}{Spectrum\+Model} that this \hyperlink{classns3_1_1SpectrumPhy}{Spectrum\+Phy} expects to be used for all Spectrum\+Values that are passed to Start\+Rx. If 0 is returned, it means that any model will be accepted. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1SpectrumPhy_a4a6795dab9d65ee90cdfbcea1111ec66}{ns3\+::\+Spectrum\+Phy}.


\begin{DoxyCode}
250 \{
251   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
252   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{m\_txPsd})
253     \{
254       \textcolor{keywordflow}{return} \hyperlink{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{m\_txPsd}->\hyperlink{classns3_1_1SpectrumValue_ade13d535ac74958581d5ad059380dc2a}{GetSpectrumModel} ();
255     \}
256   \textcolor{keywordflow}{else}
257     \{
258       \textcolor{keywordflow}{return} 0;
259     \}
260 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 27


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Lr\+Wpan\+Phy\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LrWpanPhy_a0f49346313924575b61679c52e769c19}{}\label{classns3_1_1LrWpanPhy_a0f49346313924575b61679c52e769c19}
Get the type ID.

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
75 \{
76   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::LrWpanPhy"})
77     .SetParent<\hyperlink{classns3_1_1SpectrumPhy_a207bd7373a9fd3b7f8d8e00380a0e7e4}{SpectrumPhy}> ()
78     .SetGroupName (\textcolor{stringliteral}{"LrWpan"})
79     .AddConstructor<\hyperlink{classns3_1_1LrWpanPhy_a93412f30a30d144978857a5205c55b7b}{LrWpanPhy}> ()
80     .AddTraceSource (\textcolor{stringliteral}{"TrxStateValue"},
81                      \textcolor{stringliteral}{"The state of the transceiver"},
82                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{LrWpanPhy::m\_trxState}),
83                      \textcolor{stringliteral}{"ns3::TracedValueCallback::LrWpanPhyEnumeration"})
84     .AddTraceSource (\textcolor{stringliteral}{"TrxState"},
85                      \textcolor{stringliteral}{"The state of the transceiver"},
86                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanPhy_ae48d12b3f7dd9ebc93ae1a7e0d570f52}{LrWpanPhy::m\_trxStateLogger}),
87                      \textcolor{stringliteral}{"ns3::LrWpanPhy::StateTracedCallback"})
88     .AddTraceSource (\textcolor{stringliteral}{"PhyTxBegin"},
89                      \textcolor{stringliteral}{"Trace source indicating a packet has "}
90                      \textcolor{stringliteral}{"begun transmitting over the channel medium"},
91                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanPhy_a72273155da1a3b5340389633f5486860}{LrWpanPhy::m\_phyTxBeginTrace}),
92                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
93     .AddTraceSource (\textcolor{stringliteral}{"PhyTxEnd"},
94                      \textcolor{stringliteral}{"Trace source indicating a packet has been "}
95                      \textcolor{stringliteral}{"completely transmitted over the channel."},
96                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanPhy_a34c1c896916f90010cd7f4ba5eaa5385}{LrWpanPhy::m\_phyTxEndTrace}),
97                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
98     .AddTraceSource (\textcolor{stringliteral}{"PhyTxDrop"},
99                      \textcolor{stringliteral}{"Trace source indicating a packet has been "}
100                      \textcolor{stringliteral}{"dropped by the device during transmission"},
101                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanPhy_ac8651acbf8f744b8442c05a490a35720}{LrWpanPhy::m\_phyTxDropTrace}),
102                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
103     .AddTraceSource (\textcolor{stringliteral}{"PhyRxBegin"},
104                      \textcolor{stringliteral}{"Trace source indicating a packet has begun "}
105                      \textcolor{stringliteral}{"being received from the channel medium by the device"},
106                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanPhy_acd238a82f3646333c30a9100fecafbda}{LrWpanPhy::m\_phyRxBeginTrace}),
107                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
108     .AddTraceSource (\textcolor{stringliteral}{"PhyRxEnd"},
109                      \textcolor{stringliteral}{"Trace source indicating a packet has been "}
110                      \textcolor{stringliteral}{"completely received from the channel medium "}
111                      \textcolor{stringliteral}{"by the device"},
112                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanPhy_a6d8ee60f128cdce862893fc9e0e5eda3}{LrWpanPhy::m\_phyRxEndTrace}),
113                      \textcolor{stringliteral}{"ns3::Packet::SinrTracedCallback"})
114     .AddTraceSource (\textcolor{stringliteral}{"PhyRxDrop"},
115                      \textcolor{stringliteral}{"Trace source indicating a packet has been "}
116                      \textcolor{stringliteral}{"dropped by the device during reception"},
117                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1LrWpanPhy_aa649b07e1ef1151e1758c5091e6a7a00}{LrWpanPhy::m\_phyRxDropTrace}),
118                      \textcolor{stringliteral}{"ns3::Packet::TracedCallback"})
119   ;
120   \textcolor{keywordflow}{return} tid;
121 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 28


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Pd\+Data\+Request@{Pd\+Data\+Request}}
\index{Pd\+Data\+Request@{Pd\+Data\+Request}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Pd\+Data\+Request(const uint32\+\_\+t psdu\+Length, Ptr$<$ Packet $>$ p)}{PdDataRequest(const uint32_t psduLength, Ptr< Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Pd\+Data\+Request (
\begin{DoxyParamCaption}
\item[{const uint32\+\_\+t}]{psdu\+Length, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a44d119b7c56658e97c99d9524e42f48f}{}\label{classns3_1_1LrWpanPhy_a44d119b7c56658e97c99d9524e42f48f}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+1.\+1 P\+D-\/\+D\+A\+T\+A.\+request Request to transfer M\+P\+DU from M\+AC (transmitting) 
\begin{DoxyParams}{Parameters}
{\em psdu\+Length} & number of bytes in the P\+S\+DU \\
\hline
{\em p} & the packet to be transmitted \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
524 \{
525   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << psduLength << p);
526 
527   \textcolor{keywordflow}{if} (psduLength > \hyperlink{classns3_1_1LrWpanPhy_a0dac53931aac7c959546ca54db5e39bb}{aMaxPhyPacketSize})
528     \{
529       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
530         \{
531           \hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a33aedad985a3e4dd7a0c6790a2c677a0}{IEEE\_802\_15\_4\_PHY\_UNSPECIFIED});
532         \}
533       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Drop packet because psduLength too long: "} << psduLength);
534       \textcolor{keywordflow}{return};
535     \}
536 
537   \textcolor{comment}{// Prevent PHY from sending a packet while switching the transceiver state.}
538   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
539     \{
540       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON})
541         \{
542           \textcolor{comment}{//send down}
543           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1LrWpanPhy_a6ea4a904afe3b256bc001c40efe496e1}{m\_channel});
544 
545           \textcolor{comment}{// Remove a possible LQI tag from a previous transmission of the packet.}
546           LrWpanLqiTag lqiTag;
547           p->\hyperlink{classns3_1_1Packet_a078fe922d976a417ab25ba2f3c2fd667}{RemovePacketTag} (lqiTag);
548 
549           \hyperlink{classns3_1_1LrWpanPhy_a72273155da1a3b5340389633f5486860}{m\_phyTxBeginTrace} (p);
550           \hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket}.first = \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
551           \hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket}.second = \textcolor{keyword}{false};
552 
553           Ptr<LrWpanSpectrumSignalParameters> txParams = Create<LrWpanSpectrumSignalParameters> ();
554           txParams->duration = \hyperlink{classns3_1_1LrWpanPhy_a18e8110831088f2f0ef3e55b9400526e}{CalculateTxTime} (p);
555           txParams->txPhy = GetObject<SpectrumPhy> ();
556           txParams->psd = \hyperlink{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{m\_txPsd};
557           txParams->txAntenna = \hyperlink{classns3_1_1LrWpanPhy_a190f9ce3b27fed0de2be87412387f8ba}{m\_antenna};
558           Ptr<PacketBurst> pb = CreateObject<PacketBurst> ();
559           pb->AddPacket (p);
560           txParams->packetBurst = pb;
561           \hyperlink{classns3_1_1LrWpanPhy_a6ea4a904afe3b256bc001c40efe496e1}{m\_channel}->StartTx (txParams);
562           \hyperlink{classns3_1_1LrWpanPhy_ac25e1b499978dc6ad31f3c425f6e261a}{m\_pdDataRequest} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (txParams->duration, &
      \hyperlink{classns3_1_1LrWpanPhy_afbb3b6c22ee0925f9019b703c02d3ed3}{LrWpanPhy::EndTx}, \textcolor{keyword}{this});
563           \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a87f658959801356265b8c28a85569b15}{IEEE\_802\_15\_4\_PHY\_BUSY\_TX});
564           \textcolor{keywordflow}{return};
565         \}
566       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON})
567                || (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF})
568                || (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a87f658959801356265b8c28a85569b15}{IEEE\_802\_15\_4\_PHY\_BUSY\_TX}) )
569         \{
570           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
571             \{
572               \hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState});
573             \}
574           \textcolor{comment}{// Drop packet, hit PhyTxDrop trace}
575           \hyperlink{classns3_1_1LrWpanPhy_ac8651acbf8f744b8442c05a490a35720}{m\_phyTxDropTrace} (p);
576           \textcolor{keywordflow}{return};
577         \}
578       \textcolor{keywordflow}{else}
579         \{
580           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"This should be unreachable, or else state "} << 
      \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} << \textcolor{stringliteral}{" should be added as a case"});
581         \}
582     \}
583   \textcolor{keywordflow}{else}
584     \{
585       \textcolor{comment}{// TODO: This error code is not covered by the standard.}
586       \textcolor{comment}{// What is the correct behavior in this case?}
587       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
588         \{
589           \hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a33aedad985a3e4dd7a0c6790a2c677a0}{IEEE\_802\_15\_4\_PHY\_UNSPECIFIED});
590         \}
591       \textcolor{comment}{// Drop packet, hit PhyTxDrop trace}
592       \hyperlink{classns3_1_1LrWpanPhy_ac8651acbf8f744b8442c05a490a35720}{m\_phyTxDropTrace} (p);
593       \textcolor{keywordflow}{return};
594     \}
595 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 29




Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Phy\+Is\+Busy@{Phy\+Is\+Busy}}
\index{Phy\+Is\+Busy@{Phy\+Is\+Busy}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Phy\+Is\+Busy(void) const }{PhyIsBusy(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Lr\+Wpan\+Phy\+::\+Phy\+Is\+Busy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a70e40ec5f6dc98092c6d4bcf7ee137a6}{}\label{classns3_1_1LrWpanPhy_a70e40ec5f6dc98092c6d4bcf7ee137a6}
Check if the P\+HY is busy, which is the case if the P\+HY is currently sending or receiving a frame.

\begin{DoxyReturn}{Returns}
true, if the P\+HY is busy, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
1055 \{
1056   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState});
1057   \textcolor{keywordflow}{return} ((\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a87f658959801356265b8c28a85569b15}{IEEE\_802\_15\_4\_PHY\_BUSY\_TX})
1058           || (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX})
1059           || (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a14641e5190b66ec8ec3903218058dc46}{IEEE\_802\_15\_4\_PHY\_BUSY}));
1060 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 31


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Plme\+Cca\+Request@{Plme\+Cca\+Request}}
\index{Plme\+Cca\+Request@{Plme\+Cca\+Request}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Plme\+Cca\+Request(void)}{PlmeCcaRequest(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Plme\+Cca\+Request (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a3297797eba6c7423a76c502c80dd0bf1}{}\label{classns3_1_1LrWpanPhy_a3297797eba6c7423a76c502c80dd0bf1}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+2.\+1 P\+L\+M\+E-\/\+C\+C\+A.\+request Perform a C\+CA per section 6.\+9.\+9 
\begin{DoxyCode}
599 \{
600   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
601 
602   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON} || 
      \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX})
603     \{
604       \hyperlink{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{m\_ccaPeakPower} = 0.0;
605       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} ccaTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (8.0 / \hyperlink{classns3_1_1LrWpanPhy_a1bb730cd2cadcdd444a00c1198035b89}{GetDataOrSymbolRate} (\textcolor{keyword}{false}));
606       \hyperlink{classns3_1_1LrWpanPhy_a5fc2fce788ea008a00078c62682c02d0}{m\_ccaRequest} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (ccaTime, &
      \hyperlink{classns3_1_1LrWpanPhy_aa7f39e82e542534c3b7a4a9802335f6a}{LrWpanPhy::EndCca}, \textcolor{keyword}{this});
607     \}
608   \textcolor{keywordflow}{else}
609     \{
610       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{m\_plmeCcaConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
611         \{
612           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF})
613             \{
614               \hyperlink{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{m\_plmeCcaConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
615             \}
616           \textcolor{keywordflow}{else}
617             \{
618               \hyperlink{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{m\_plmeCcaConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a14641e5190b66ec8ec3903218058dc46}{IEEE\_802\_15\_4\_PHY\_BUSY});
619             \}
620         \}
621     \}
622 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 32


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Plme\+Ed\+Request@{Plme\+Ed\+Request}}
\index{Plme\+Ed\+Request@{Plme\+Ed\+Request}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Plme\+Ed\+Request(void)}{PlmeEdRequest(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Plme\+Ed\+Request (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a344dd99555091413adab8834bdc11dea}{}\label{classns3_1_1LrWpanPhy_a344dd99555091413adab8834bdc11dea}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+2.\+3 P\+L\+M\+E-\/\+E\+D.\+request Perform an ED per section 6.\+9.\+7 
\begin{DoxyCode}
626 \{
627   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
628   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON} || 
      \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX})
629     \{
630       \textcolor{comment}{// Average over the powers of all signals received until EndEd()}
631       \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_a1c454915534c342f9706e6e42006b388}{averagePower} = 0;
632       \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ac652b200f53980a1632776b9ee2c8456}{lastUpdate} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
633       \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ad0843da1bc59c22ff31bbd2023f61dc0}{measurementLength} = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (8.0 / 
      \hyperlink{classns3_1_1LrWpanPhy_a1bb730cd2cadcdd444a00c1198035b89}{GetDataOrSymbolRate} (\textcolor{keyword}{false}));
634       \hyperlink{classns3_1_1LrWpanPhy_a7de5c9c2ff7a6797ef475fb030e99ad0}{m\_edRequest} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (\hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.
      \hyperlink{structns3_1_1LrWpanEdPower_ad0843da1bc59c22ff31bbd2023f61dc0}{measurementLength}, &\hyperlink{classns3_1_1LrWpanPhy_af0dc21f11ee72a14d71faf03f52ee312}{LrWpanPhy::EndEd}, \textcolor{keyword}{this});
635     \}
636   \textcolor{keywordflow}{else}
637     \{
638       \hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{LrWpanPhyEnumeration} result = \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState};
639       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a87f658959801356265b8c28a85569b15}{IEEE\_802\_15\_4\_PHY\_BUSY\_TX})
640         \{
641           result = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON};
642         \}
643 
644       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}{m\_plmeEdConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
645         \{
646           \hyperlink{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}{m\_plmeEdConfirmCallback} (result, 0);
647         \}
648     \}
649 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 33


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Plme\+Get\+Attribute\+Request@{Plme\+Get\+Attribute\+Request}}
\index{Plme\+Get\+Attribute\+Request@{Plme\+Get\+Attribute\+Request}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Plme\+Get\+Attribute\+Request(\+Lr\+Wpan\+Pib\+Attribute\+Identifier id)}{PlmeGetAttributeRequest(LrWpanPibAttributeIdentifier id)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Plme\+Get\+Attribute\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Pib\+Attribute\+Identifier}}]{id}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a293ea127afcf2c575ceba18d5a680b47}{}\label{classns3_1_1LrWpanPhy_a293ea127afcf2c575ceba18d5a680b47}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+2.\+5 P\+L\+M\+E-\/\+G\+E\+T.\+request Get attributes per definition from Table 23 in section 6.\+4.\+2 
\begin{DoxyParams}{Parameters}
{\em id} & the attributed identifier \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
653 \{
654   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{keywordtype}{id});
655   \hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{LrWpanPhyEnumeration} status;
656 
657   \textcolor{keywordflow}{switch} (\textcolor{keywordtype}{id})
658     \{
659     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bca73c79a9ae8e916f22a70171727aa9fc4}{phyCurrentChannel}:
660     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bca7182eddd32a71c10e2a22d37fc8af73c}{phyChannelsSupported}:
661     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bcafb80a10424df7a29c6ba2c8e8c551f20}{phyTransmitPower}:
662     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bcaad7376db20c99dd6f4a1b2da706d898f}{phyCCAMode}:
663     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bca8c250983c278267d4e436d83362dd072}{phyCurrentPage}:
664     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bca6dd025f4688715f0eb274053ffd2f0e3}{phyMaxFrameDuration}:
665     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bcadfa9fb3372452e04798186e93f4f263b}{phySHRDuration}:
666     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bcab7ed8e8ebc8339865d5618ad1ff39a31}{phySymbolsPerOctet}:
667       \{
668         status = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS};
669         \textcolor{keywordflow}{break};
670       \}
671     \textcolor{keywordflow}{default}:
672       \{
673         status = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a13bbaabea83d9d1b52cbf86db0155f8c}{IEEE\_802\_15\_4\_PHY\_UNSUPPORTED\_ATTRIBUTE};
674         \textcolor{keywordflow}{break};
675       \}
676     \}
677   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_abc174686fae5652243dca022df5af6ed}{m\_plmeGetAttributeConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
678     \{
679       LrWpanPhyPibAttributes retValue;
680       memcpy (&retValue, &\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}, \textcolor{keyword}{sizeof}(LrWpanPhyPibAttributes));
681       \hyperlink{classns3_1_1LrWpanPhy_abc174686fae5652243dca022df5af6ed}{m\_plmeGetAttributeConfirmCallback} (status,\textcolor{keywordtype}{id},&retValue);
682     \}
683 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 34


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Plme\+Set\+Attribute\+Request@{Plme\+Set\+Attribute\+Request}}
\index{Plme\+Set\+Attribute\+Request@{Plme\+Set\+Attribute\+Request}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Plme\+Set\+Attribute\+Request(\+Lr\+Wpan\+Pib\+Attribute\+Identifier id, Lr\+Wpan\+Phy\+Pib\+Attributes $\ast$attribute)}{PlmeSetAttributeRequest(LrWpanPibAttributeIdentifier id, LrWpanPhyPibAttributes *attribute)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Plme\+Set\+Attribute\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Pib\+Attribute\+Identifier}}]{id, }
\item[{{\bf Lr\+Wpan\+Phy\+Pib\+Attributes} $\ast$}]{attribute}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_ab535125df10aec4ccfe0b49d970aa117}{}\label{classns3_1_1LrWpanPhy_ab535125df10aec4ccfe0b49d970aa117}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+2.\+9 P\+L\+M\+E-\/\+S\+E\+T.\+request Set attributes per definition from Table 23 in section 6.\+4.\+2 
\begin{DoxyParams}{Parameters}
{\em id} & the attributed identifier \\
\hline
{\em attribute} & the attribute value \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
895 \{
896   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{keywordtype}{id} << attribute);
897   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (attribute);
898   \hyperlink{group__lr-wpan_ga6494269d13d45c511a07b7ccbb1de754}{LrWpanPhyEnumeration} status = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS};
899 
900   \textcolor{keywordflow}{switch} (\textcolor{keywordtype}{id})
901     \{
902     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bca73c79a9ae8e916f22a70171727aa9fc4}{phyCurrentChannel}:
903       \{
904         \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a135ee9e3575b3e831323721373fc5176}{ChannelSupported} (attribute->phyCurrentChannel))
905           \{
906             status = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754ac611b9c3a3136400c3d47c6bee4e452d}{IEEE\_802\_15\_4\_PHY\_INVALID\_PARAMETER};
907           \}
908         \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel} != attribute->
      phyCurrentChannel)
909           \{
910             \textcolor{comment}{// Cancel a pending transceiver state change.}
911             \textcolor{comment}{// Switch off the transceiver.}
912             \textcolor{comment}{// TODO: Is switching off the transceiver the right choice?}
913             \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF};
914             \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE})
915               \{
916                 \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
917                 \hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
918                 \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
919                   \{
920                     \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
921                   \}
922               \}
923 
924             \textcolor{comment}{// Any packet in transmission or reception will be corrupted.}
925             \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.first)
926               \{
927                 \hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.second = \textcolor{keyword}{true};
928               \}
929             \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a70e40ec5f6dc98092c6d4bcf7ee137a6}{PhyIsBusy} ())
930               \{
931                 \hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket}.second = \textcolor{keyword}{true};
932                 \hyperlink{classns3_1_1LrWpanPhy_ac25e1b499978dc6ad31f3c425f6e261a}{m\_pdDataRequest}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
933                 \hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket}.first = 0;
934                 \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
935                   \{
936                     \hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
937                   \}
938               \}
939             \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel} = attribute->
      phyCurrentChannel;
940             LrWpanSpectrumValueHelper psdHelper;
941             \hyperlink{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{m\_txPsd} = psdHelper.CreateTxPowerSpectralDensity (
      \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a3fa4a8802211d54c7b4065fe3f086640}{phyTransmitPower}, 
      \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel});
942           \}
943         \textcolor{keywordflow}{break};
944       \}
945     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bca7182eddd32a71c10e2a22d37fc8af73c}{phyChannelsSupported}:
946       \{   \textcolor{comment}{// only the first element is considered in the array}
947         \textcolor{keywordflow}{if} ((attribute->phyChannelsSupported[0] & 0xf8000000) != 0)
948           \{    \textcolor{comment}{//5 MSBs reserved}
949             status = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754ac611b9c3a3136400c3d47c6bee4e452d}{IEEE\_802\_15\_4\_PHY\_INVALID\_PARAMETER};
950           \}
951         \textcolor{keywordflow}{else}
952           \{
953             \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a1bdcf71ffdbe0812d44d95ae2a5ae633}{phyChannelsSupported}[0] = attribute->
      phyChannelsSupported[0];
954           \}
955         \textcolor{keywordflow}{break};
956       \}
957     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bcafb80a10424df7a29c6ba2c8e8c551f20}{phyTransmitPower}:
958       \{
959         \textcolor{keywordflow}{if} (attribute->phyTransmitPower > 0xbf)
960           \{
961             status = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754ac611b9c3a3136400c3d47c6bee4e452d}{IEEE\_802\_15\_4\_PHY\_INVALID\_PARAMETER};
962           \}
963         \textcolor{keywordflow}{else}
964           \{
965             \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a3fa4a8802211d54c7b4065fe3f086640}{phyTransmitPower} = attribute->
      phyTransmitPower;
966             LrWpanSpectrumValueHelper psdHelper;
967             \hyperlink{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{m\_txPsd} = psdHelper.CreateTxPowerSpectralDensity (
      \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a3fa4a8802211d54c7b4065fe3f086640}{phyTransmitPower}, 
      \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel});
968           \}
969         \textcolor{keywordflow}{break};
970       \}
971     \textcolor{keywordflow}{case} \hyperlink{group__lr-wpan_ggae6da9958c1a7194ce9160d866d4164bcaad7376db20c99dd6f4a1b2da706d898f}{phyCCAMode}:
972       \{
973         \textcolor{keywordflow}{if} ((attribute->phyCCAMode < 1) || (attribute->phyCCAMode > 3))
974           \{
975             status = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754ac611b9c3a3136400c3d47c6bee4e452d}{IEEE\_802\_15\_4\_PHY\_INVALID\_PARAMETER};
976           \}
977         \textcolor{keywordflow}{else}
978           \{
979             \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a41d736be38b2dd87bb9fa2b2090723e8}{phyCCAMode} = attribute->phyCCAMode;
980           \}
981         \textcolor{keywordflow}{break};
982       \}
983     \textcolor{keywordflow}{default}:
984       \{
985         status = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a13bbaabea83d9d1b52cbf86db0155f8c}{IEEE\_802\_15\_4\_PHY\_UNSUPPORTED\_ATTRIBUTE};
986         \textcolor{keywordflow}{break};
987       \}
988     \}
989 
990   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a174646782f62d874a5c92f4cfbbb8922}{m\_plmeSetAttributeConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
991     \{
992       \hyperlink{classns3_1_1LrWpanPhy_a174646782f62d874a5c92f4cfbbb8922}{m\_plmeSetAttributeConfirmCallback} (status, \textcolor{keywordtype}{id});
993     \}
994 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 35


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Plme\+Set\+T\+R\+X\+State\+Request@{Plme\+Set\+T\+R\+X\+State\+Request}}
\index{Plme\+Set\+T\+R\+X\+State\+Request@{Plme\+Set\+T\+R\+X\+State\+Request}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Plme\+Set\+T\+R\+X\+State\+Request(\+Lr\+Wpan\+Phy\+Enumeration state)}{PlmeSetTRXStateRequest(LrWpanPhyEnumeration state)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Plme\+Set\+T\+R\+X\+State\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Lr\+Wpan\+Phy\+Enumeration}}]{state}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a250bd133e6781745e652c8f3a3c7badc}{}\label{classns3_1_1LrWpanPhy_a250bd133e6781745e652c8f3a3c7badc}
I\+E\+EE 802.\+15.\+4-\/2006 section 6.\+2.\+2.\+7 P\+L\+M\+E-\/\+S\+E\+T-\/\+T\+R\+X-\/\+S\+T\+A\+T\+E.\+request Set P\+HY state 
\begin{DoxyParams}{Parameters}
{\em state} & in R\+X\+\_\+\+ON,T\+R\+X\+\_\+\+O\+FF,F\+O\+R\+C\+E\+\_\+\+T\+R\+X\+\_\+\+O\+FF,T\+X\+\_\+\+ON \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
688 \{
689   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << state);
690 
691   \textcolor{comment}{// Check valid states (Table 14)}
692   \hyperlink{group__fatal_ga979468222aa80366c2c98aa1554f3eec}{NS\_ABORT\_IF} ( (state != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON})
693                 && (state != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF})
694                 && (state != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a878a570a6caffa060865d60b3f92cc09}{IEEE\_802\_15\_4\_PHY\_FORCE\_TRX\_OFF})
695                 && (state != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON}) );
696 
697   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Trying to set m\_trxState from "} << \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} << \textcolor{stringliteral}{" to "} << state);
698   \textcolor{comment}{// this method always overrides previous state setting attempts}
699   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ())
700     \{
701       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} == state)
702         \{
703           \textcolor{comment}{// Simply wait for the ongoing state switch.}
704           \textcolor{keywordflow}{return};
705         \}
706       \textcolor{keywordflow}{else}
707         \{
708           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Cancel m\_setTRXState"});
709           \textcolor{comment}{// Keep the transceiver state as the old state before the switching attempt.}
710           \hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
711         \}
712     \}
713   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} != \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE})
714     \{
715       \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
716     \}
717 
718   \textcolor{keywordflow}{if} (state == \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState})
719     \{
720       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
721         \{
722           \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} (state);
723         \}
724       \textcolor{keywordflow}{return};
725     \}
726 
727   \textcolor{keywordflow}{if} ( ((state == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON})
728         || (state == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF}))
729        && (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a87f658959801356265b8c28a85569b15}{IEEE\_802\_15\_4\_PHY\_BUSY\_TX}) )
730     \{
731       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Phy is busy; setting state pending to "} << state);
732       \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = state;
733       \textcolor{keywordflow}{return};  \textcolor{comment}{// Send PlmeSetTRXStateConfirm later}
734     \}
735 
736   \textcolor{comment}{// specification talks about being in RX\_ON and having received}
737   \textcolor{comment}{// a valid SFD.  Here, we are not modelling at that level of}
738   \textcolor{comment}{// granularity, so we just test for BUSY\_RX state (any part of}
739   \textcolor{comment}{// a packet being actively received)}
740   \textcolor{keywordflow}{if} (state == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF})
741     \{
742       \hyperlink{classns3_1_1LrWpanPhy_af05ebca568ec11ec5621f9d361d77295}{CancelEd} (state);
743 
744       \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX})
745           && (\hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.first) && (!\hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.second))
746         \{
747           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Receiver has valid SFD; defer state change"});
748           \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = state;
749           \textcolor{keywordflow}{return};  \textcolor{comment}{// Send PlmeSetTRXStateConfirm later}
750         \}
751       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON} || 
      \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON})
752         \{
753           \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
754           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
755             \{
756               \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} (state);
757             \}
758           \textcolor{keywordflow}{return};
759         \}
760     \}
761 
762   \textcolor{keywordflow}{if} (state == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON})
763     \{
764       \hyperlink{classns3_1_1LrWpanPhy_af05ebca568ec11ec5621f9d361d77295}{CancelEd} (state);
765 
766       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"turn on PHY\_TX\_ON"});
767       \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX}) || (
      \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON}))
768         \{
769           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.first)
770             \{
771               \textcolor{comment}{//terminate reception if needed}
772               \textcolor{comment}{//incomplete reception -- force packet discard}
773               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"force TX\_ON, terminate reception"});
774               \hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.second = \textcolor{keyword}{true};
775             \}
776 
777           \textcolor{comment}{// If CCA is in progress, cancel CCA and return BUSY.}
778           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a5fc2fce788ea008a00078c62682c02d0}{m\_ccaRequest}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ())
779             \{
780               \hyperlink{classns3_1_1LrWpanPhy_a5fc2fce788ea008a00078c62682c02d0}{m\_ccaRequest}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
781               \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{m\_plmeCcaConfirmCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
782                 \{
783                   \hyperlink{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{m\_plmeCcaConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a14641e5190b66ec8ec3903218058dc46}{IEEE\_802\_15\_4\_PHY\_BUSY});
784                 \}
785             \}
786 
787           \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON};
788 
789           \textcolor{comment}{// Delay for turnaround time}
790           \textcolor{comment}{// TODO: Does it also take aTurnaroundTime to switch the transceiver state,}
791           \textcolor{comment}{//       even when the receiver is not busy? (6.9.2)}
792           \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} setTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ( (\textcolor{keywordtype}{double}) \hyperlink{classns3_1_1LrWpanPhy_a8236b734a3ecb7d0c7528e693e80930d}{aTurnaroundTime} / 
      \hyperlink{classns3_1_1LrWpanPhy_a1bb730cd2cadcdd444a00c1198035b89}{GetDataOrSymbolRate} (\textcolor{keyword}{false}));
793           \hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (setTime, &
      \hyperlink{classns3_1_1LrWpanPhy_ab240816e20a6d8c7916b5670ad65c492}{LrWpanPhy::EndSetTRXState}, \textcolor{keyword}{this});
794           \textcolor{keywordflow}{return};
795         \}
796       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a87f658959801356265b8c28a85569b15}{IEEE\_802\_15\_4\_PHY\_BUSY\_TX} || 
      \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON})
797         \{
798           \textcolor{comment}{// We do NOT change the transceiver state here. We only report that}
799           \textcolor{comment}{// the transceiver is already in TX\_ON state.}
800           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
801             \{
802               \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON});
803             \}
804           \textcolor{keywordflow}{return};
805         \}
806       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF})
807         \{
808           \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON});
809           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
810             \{
811               \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON});
812             \}
813           \textcolor{keywordflow}{return};
814         \}
815     \}
816 
817   \textcolor{keywordflow}{if} (state == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a878a570a6caffa060865d60b3f92cc09}{IEEE\_802\_15\_4\_PHY\_FORCE\_TRX\_OFF})
818     \{
819       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF})
820         \{
821           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"force TRX\_OFF, was already off"});
822         \}
823       \textcolor{keywordflow}{else}
824         \{
825           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"force TRX\_OFF, SUCCESS"});
826           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.first)
827             \{   \textcolor{comment}{//terminate reception if needed}
828                 \textcolor{comment}{//incomplete reception -- force packet discard}
829               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"force TRX\_OFF, terminate reception"});
830               \hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket}.second = \textcolor{keyword}{true};
831             \}
832           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a87f658959801356265b8c28a85569b15}{IEEE\_802\_15\_4\_PHY\_BUSY\_TX})
833             \{
834               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"force TRX\_OFF, terminate transmission"});
835               \hyperlink{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{m\_currentTxPacket}.second = \textcolor{keyword}{true};
836             \}
837           \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF});
838           \textcolor{comment}{// Clear any other state}
839           \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754af3994414efcd2fac7e312ecb9b3ebd70}{IEEE\_802\_15\_4\_PHY\_IDLE};
840         \}
841       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
842         \{
843           \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a2a81d56261f039e08cf2dd91de10b618}{IEEE\_802\_15\_4\_PHY\_SUCCESS});
844         \}
845       \textcolor{keywordflow}{return};
846     \}
847 
848   \textcolor{keywordflow}{if} (state == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON})
849     \{
850       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754aa595d552b56b89b363b800b9fcfbe67f}{IEEE\_802\_15\_4\_PHY\_TX\_ON} || 
      \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a4c0fd3882b68301deb8ce5b03109058f}{IEEE\_802\_15\_4\_PHY\_TRX\_OFF})
851         \{
852           \textcolor{comment}{// Turnaround delay}
853           \textcolor{comment}{// TODO: Does it really take aTurnaroundTime to switch the transceiver state,}
854           \textcolor{comment}{//       even when the transmitter is not busy? (6.9.1)}
855           \hyperlink{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{m\_trxStatePending} = \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON};
856 
857           \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} setTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} ( (\textcolor{keywordtype}{double}) \hyperlink{classns3_1_1LrWpanPhy_a8236b734a3ecb7d0c7528e693e80930d}{aTurnaroundTime} / 
      \hyperlink{classns3_1_1LrWpanPhy_a1bb730cd2cadcdd444a00c1198035b89}{GetDataOrSymbolRate} (\textcolor{keyword}{false}));
858           \hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (setTime, &
      \hyperlink{classns3_1_1LrWpanPhy_ab240816e20a6d8c7916b5670ad65c492}{LrWpanPhy::EndSetTRXState}, \textcolor{keyword}{this});
859           \textcolor{keywordflow}{return};
860         \}
861       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX})
862         \{
863           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback}.
      \hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
864             \{
865               \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} (
      \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON});
866             \}
867           \textcolor{keywordflow}{return};
868         \}
869     \}
870 
871   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unexpected transition from state "} << 
      \hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} << \textcolor{stringliteral}{" to state "} << state);
872 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 36




Here is the caller graph for this function\+:
% FIG 37


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Antenna@{Set\+Antenna}}
\index{Set\+Antenna@{Set\+Antenna}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Antenna(\+Ptr$<$ Antenna\+Model $>$ a)}{SetAntenna(Ptr< AntennaModel > a)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Antenna (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Antenna\+Model} $>$}]{a}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_af22ce300bde35f253d4eb101d8e731b9}{}\label{classns3_1_1LrWpanPhy_af22ce300bde35f253d4eb101d8e731b9}
Set the attached antenna.


\begin{DoxyParams}{Parameters}
{\em a} & the antenna \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
271 \{
272   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << a);
273   \hyperlink{classns3_1_1LrWpanPhy_a190f9ce3b27fed0de2be87412387f8ba}{m\_antenna} = a;
274 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Channel@{Set\+Channel}}
\index{Set\+Channel@{Set\+Channel}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Channel(\+Ptr$<$ Spectrum\+Channel $>$ c)}{SetChannel(Ptr< SpectrumChannel > c)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Channel (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Spectrum\+Channel} $>$}]{c}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanPhy_adc8fc0181c802576d065a6d05f7b29ae}{}\label{classns3_1_1LrWpanPhy_adc8fc0181c802576d065a6d05f7b29ae}
Set the channel attached to this device.


\begin{DoxyParams}{Parameters}
{\em c} & the channel \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1SpectrumPhy_a951c373dd0cd6911c6f84bb65b5914b9}{ns3\+::\+Spectrum\+Phy}.


\begin{DoxyCode}
234 \{
235   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c});
236   \hyperlink{classns3_1_1LrWpanPhy_a6ea4a904afe3b256bc001c40efe496e1}{m\_channel} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
237 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 38


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Device@{Set\+Device}}
\index{Set\+Device@{Set\+Device}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Device(\+Ptr$<$ Net\+Device $>$ d)}{SetDevice(Ptr< NetDevice > d)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Device (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Net\+Device} $>$}]{d}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanPhy_ad15349eb927b16cb23f36ad4adf8db77}{}\label{classns3_1_1LrWpanPhy_ad15349eb927b16cb23f36ad4adf8db77}
Set the associated \hyperlink{classns3_1_1NetDevice}{Net\+Device} instance


\begin{DoxyParams}{Parameters}
{\em d} & the \hyperlink{classns3_1_1NetDevice}{Net\+Device} instance \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1SpectrumPhy_ae3efea78dda6746fc5c2ddcf55912354}{ns3\+::\+Spectrum\+Phy}.


\begin{DoxyCode}
218 \{
219   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d});
220   \hyperlink{classns3_1_1LrWpanPhy_a406001d3cb4da3828837c1c1b4629a9c}{m\_device} = \hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d};
221 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Error\+Model@{Set\+Error\+Model}}
\index{Set\+Error\+Model@{Set\+Error\+Model}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Error\+Model(\+Ptr$<$ Lr\+Wpan\+Error\+Model $>$ e)}{SetErrorModel(Ptr< LrWpanErrorModel > e)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Error\+Model (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Lr\+Wpan\+Error\+Model} $>$}]{e}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_aa427b690f6771f123732c375006c5058}{}\label{classns3_1_1LrWpanPhy_aa427b690f6771f123732c375006c5058}
set the error model to use


\begin{DoxyParams}{Parameters}
{\em e} & pointer to \hyperlink{classns3_1_1LrWpanErrorModel}{Lr\+Wpan\+Error\+Model} to use \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1387 \{
1388   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << e);
1389   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (e);
1390   \hyperlink{classns3_1_1LrWpanPhy_a51ab23fe176708768b6276cdbbd68a06}{m\_errorModel} = e;
1391 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Mobility@{Set\+Mobility}}
\index{Set\+Mobility@{Set\+Mobility}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Mobility(\+Ptr$<$ Mobility\+Model $>$ m)}{SetMobility(Ptr< MobilityModel > m)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Mobility (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{m}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanPhy_a9cd1699d839197cd6f491ee14f17d14f}{}\label{classns3_1_1LrWpanPhy_a9cd1699d839197cd6f491ee14f17d14f}
Set the mobility model associated with this device.


\begin{DoxyParams}{Parameters}
{\em m} & the mobility model \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1SpectrumPhy_a0cec4d706f616b28614e76e5454822bb}{ns3\+::\+Spectrum\+Phy}.


\begin{DoxyCode}
226 \{
227   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << m);
228   \hyperlink{classns3_1_1LrWpanPhy_a746dc7299fae28fafa617075ca3b5433}{m\_mobility} = m;
229 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 39


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+My\+Phy\+Option@{Set\+My\+Phy\+Option}}
\index{Set\+My\+Phy\+Option@{Set\+My\+Phy\+Option}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+My\+Phy\+Option(void)}{SetMyPhyOption(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+My\+Phy\+Option (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a624a2aee1e304c52523cf071f16ed79d}{}\label{classns3_1_1LrWpanPhy_a624a2aee1e304c52523cf071f16ed79d}
Configure the P\+HY option according to the current channel and channel page. See I\+E\+EE 802.\+15.\+4-\/2006, section 6.\+1.\+2, Table 2. 
\begin{DoxyCode}
1309 \{
1310   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1311 
1312   \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} = \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52aecbdd68205278c9970eaf3af44c42bfd}{IEEE\_802\_15\_4\_INVALID\_PHY\_OPTION};
1313 
1314   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_aab22c5f1b6b07b53e6daedd0d2cc0332}{phyCurrentPage} == 0)
1315     \{
1316       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel} == 0)
1317         \{  \textcolor{comment}{// 868 MHz BPSK}
1318           \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} = \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52a329078ab3af79c38d390015641308ab1}{IEEE\_802\_15\_4\_868MHZ\_BPSK};
1319         \}
1320       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel} <= 10)
1321         \{  \textcolor{comment}{// 915 MHz BPSK}
1322           \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} = \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52ac5532615815eccfb43c45ac65299c2b2}{IEEE\_802\_15\_4\_915MHZ\_BPSK};
1323         \}
1324       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel} <= 26)
1325         \{  \textcolor{comment}{// 2.4 GHz MHz O-QPSK}
1326           \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} = \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52a9be398dcb297b75dd1bdfbbc30eb80fc}{IEEE\_802\_15\_4\_2\_4GHZ\_OQPSK};
1327         \}
1328     \}
1329   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_aab22c5f1b6b07b53e6daedd0d2cc0332}{phyCurrentPage} == 1)
1330     \{
1331       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel} == 0)
1332         \{  \textcolor{comment}{// 868 MHz ASK}
1333           \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} = \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52a3f9c10879130204ba7d353141c7d7c12}{IEEE\_802\_15\_4\_868MHZ\_ASK};
1334         \}
1335       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel} <= 10)
1336         \{  \textcolor{comment}{// 915 MHz ASK}
1337           \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} = \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52ab01eef02b699b559547952b2e787c0ad}{IEEE\_802\_15\_4\_915MHZ\_ASK};
1338         \}
1339     \}
1340   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_aab22c5f1b6b07b53e6daedd0d2cc0332}{phyCurrentPage} == 2)
1341     \{
1342       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel} == 0)
1343         \{  \textcolor{comment}{// 868 MHz O-QPSK}
1344           \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} = \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52a87b268d6aacca127f908720cde057fc2}{IEEE\_802\_15\_4\_868MHZ\_OQPSK};
1345         \}
1346       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel} <= 10)
1347         \{  \textcolor{comment}{// 915 MHz O-QPSK}
1348           \hyperlink{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{m\_phyOption} = \hyperlink{group__lr-wpan_gga23ee18bb5f5136211c75a7f58673db52a393617d64e325701799ab7dfc194ec2c}{IEEE\_802\_15\_4\_915MHZ\_OQPSK};
1349         \}
1350     \}
1351 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 40


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Noise\+Power\+Spectral\+Density@{Set\+Noise\+Power\+Spectral\+Density}}
\index{Set\+Noise\+Power\+Spectral\+Density@{Set\+Noise\+Power\+Spectral\+Density}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Noise\+Power\+Spectral\+Density(\+Ptr$<$ const Spectrum\+Value $>$ noise\+Psd)}{SetNoisePowerSpectralDensity(Ptr< const SpectrumValue > noisePsd)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Noise\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Spectrum\+Value} $>$}]{noise\+Psd}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_af54dbd30d997764656e91c2d3332b568}{}\label{classns3_1_1LrWpanPhy_af54dbd30d997764656e91c2d3332b568}
Set the noise power spectral density.


\begin{DoxyParams}{Parameters}
{\em noise\+Psd} & the Noise Power Spectral Density in power units (Watt, Pascal...) per Hz. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1371 \{
1372   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << noisePsd);
1373   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)t computed noise\_psd: "} << *noisePsd );
1374   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (noisePsd);
1375   \hyperlink{classns3_1_1LrWpanPhy_a02560969747aa24f7bded61743f5cc37}{m\_noise} = noisePsd;
1376 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Pd\+Data\+Confirm\+Callback@{Set\+Pd\+Data\+Confirm\+Callback}}
\index{Set\+Pd\+Data\+Confirm\+Callback@{Set\+Pd\+Data\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Pd\+Data\+Confirm\+Callback(\+Pd\+Data\+Confirm\+Callback c)}{SetPdDataConfirmCallback(PdDataConfirmCallback c)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Pd\+Data\+Confirm\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Pd\+Data\+Confirm\+Callback}}]{c}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a04dd58cdf79c6769510d5ea57d8b7326}{}\label{classns3_1_1LrWpanPhy_a04dd58cdf79c6769510d5ea57d8b7326}
set the callback for the end of a TX, as part of the interconnections betweenthe P\+HY and the M\+AC. The callback implements PD S\+AP. 
\begin{DoxyParams}{Parameters}
{\em c} & the callback \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1005 \{
1006   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1007   \hyperlink{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{m\_pdDataConfirmCallback} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
1008 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Pd\+Data\+Indication\+Callback@{Set\+Pd\+Data\+Indication\+Callback}}
\index{Set\+Pd\+Data\+Indication\+Callback@{Set\+Pd\+Data\+Indication\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Pd\+Data\+Indication\+Callback(\+Pd\+Data\+Indication\+Callback c)}{SetPdDataIndicationCallback(PdDataIndicationCallback c)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Pd\+Data\+Indication\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Pd\+Data\+Indication\+Callback}}]{c}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_ac008f1b80cac86551aec289676251fa9}{}\label{classns3_1_1LrWpanPhy_ac008f1b80cac86551aec289676251fa9}
set the callback for the end of a RX, as part of the interconnections betweenthe P\+HY and the M\+AC. The callback implements PD Indication S\+AP. 
\begin{DoxyParams}{Parameters}
{\em c} & the callback \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
998 \{
999   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1000   \hyperlink{classns3_1_1LrWpanPhy_a94de3241a0050cc21f5a57fdbc951c9e}{m\_pdDataIndicationCallback} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
1001 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Plme\+Cca\+Confirm\+Callback@{Set\+Plme\+Cca\+Confirm\+Callback}}
\index{Set\+Plme\+Cca\+Confirm\+Callback@{Set\+Plme\+Cca\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Plme\+Cca\+Confirm\+Callback(\+Plme\+Cca\+Confirm\+Callback c)}{SetPlmeCcaConfirmCallback(PlmeCcaConfirmCallback c)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Plme\+Cca\+Confirm\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Plme\+Cca\+Confirm\+Callback}}]{c}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_af6bf7c705891030e91c0574a26bc4a0e}{}\label{classns3_1_1LrWpanPhy_af6bf7c705891030e91c0574a26bc4a0e}
set the callback for the end of a C\+CA, as part of the interconnections betweenthe P\+HY and the M\+AC. The callback implement P\+L\+ME C\+CA confirm S\+AP 
\begin{DoxyParams}{Parameters}
{\em c} & the callback \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1012 \{
1013   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1014   \hyperlink{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{m\_plmeCcaConfirmCallback} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
1015 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Plme\+Ed\+Confirm\+Callback@{Set\+Plme\+Ed\+Confirm\+Callback}}
\index{Set\+Plme\+Ed\+Confirm\+Callback@{Set\+Plme\+Ed\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Plme\+Ed\+Confirm\+Callback(\+Plme\+Ed\+Confirm\+Callback c)}{SetPlmeEdConfirmCallback(PlmeEdConfirmCallback c)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Plme\+Ed\+Confirm\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Plme\+Ed\+Confirm\+Callback}}]{c}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a34c4ceaf91ccb56d17dcd92bc392df83}{}\label{classns3_1_1LrWpanPhy_a34c4ceaf91ccb56d17dcd92bc392df83}
set the callback for the end of an ED, as part of the interconnections betweenthe P\+HY and the M\+AC. The callback implement P\+L\+ME ED confirm S\+AP 
\begin{DoxyParams}{Parameters}
{\em c} & the callback \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1019 \{
1020   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1021   \hyperlink{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}{m\_plmeEdConfirmCallback} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
1022 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Plme\+Get\+Attribute\+Confirm\+Callback@{Set\+Plme\+Get\+Attribute\+Confirm\+Callback}}
\index{Set\+Plme\+Get\+Attribute\+Confirm\+Callback@{Set\+Plme\+Get\+Attribute\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Plme\+Get\+Attribute\+Confirm\+Callback(\+Plme\+Get\+Attribute\+Confirm\+Callback c)}{SetPlmeGetAttributeConfirmCallback(PlmeGetAttributeConfirmCallback c)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Plme\+Get\+Attribute\+Confirm\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Plme\+Get\+Attribute\+Confirm\+Callback}}]{c}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a17d17169a7e9a9571bc904aae7cf0391}{}\label{classns3_1_1LrWpanPhy_a17d17169a7e9a9571bc904aae7cf0391}
set the callback for the end of an Get\+Attribute, as part of the interconnections betweenthe P\+HY and the M\+AC. The callback implement P\+L\+ME Get\+Attribute confirm S\+AP 
\begin{DoxyParams}{Parameters}
{\em c} & the callback \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1026 \{
1027   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1028   \hyperlink{classns3_1_1LrWpanPhy_abc174686fae5652243dca022df5af6ed}{m\_plmeGetAttributeConfirmCallback} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
1029 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Plme\+Set\+Attribute\+Confirm\+Callback@{Set\+Plme\+Set\+Attribute\+Confirm\+Callback}}
\index{Set\+Plme\+Set\+Attribute\+Confirm\+Callback@{Set\+Plme\+Set\+Attribute\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Plme\+Set\+Attribute\+Confirm\+Callback(\+Plme\+Set\+Attribute\+Confirm\+Callback c)}{SetPlmeSetAttributeConfirmCallback(PlmeSetAttributeConfirmCallback c)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Plme\+Set\+Attribute\+Confirm\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Plme\+Set\+Attribute\+Confirm\+Callback}}]{c}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_ad52317c8933455e29710e2ae7ef5d829}{}\label{classns3_1_1LrWpanPhy_ad52317c8933455e29710e2ae7ef5d829}
set the callback for the end of an Set\+Attribute, as part of the interconnections betweenthe P\+HY and the M\+AC. The callback implement P\+L\+ME Set\+Attribute confirm S\+AP 
\begin{DoxyParams}{Parameters}
{\em c} & the callback \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1040 \{
1041   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1042   \hyperlink{classns3_1_1LrWpanPhy_a174646782f62d874a5c92f4cfbbb8922}{m\_plmeSetAttributeConfirmCallback} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
1043 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback@{Set\+Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback}}
\index{Set\+Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback@{Set\+Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback(\+Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback c)}{SetPlmeSetTRXStateConfirmCallback(PlmeSetTRXStateConfirmCallback c)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback}}]{c}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a1f251e13ef1dfd58b5261f9e214f0a8f}{}\label{classns3_1_1LrWpanPhy_a1f251e13ef1dfd58b5261f9e214f0a8f}
set the callback for the end of an Set\+T\+R\+X\+State, as part of the interconnections betweenthe P\+HY and the M\+AC. The callback implement P\+L\+ME Set\+T\+R\+X\+State confirm S\+AP 
\begin{DoxyParams}{Parameters}
{\em c} & the callback \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1033 \{
1034   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1035   \hyperlink{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{m\_plmeSetTRXStateConfirmCallback} = \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
1036 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 41


\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Set\+Tx\+Power\+Spectral\+Density@{Set\+Tx\+Power\+Spectral\+Density}}
\index{Set\+Tx\+Power\+Spectral\+Density@{Set\+Tx\+Power\+Spectral\+Density}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Set\+Tx\+Power\+Spectral\+Density(\+Ptr$<$ Spectrum\+Value $>$ tx\+Psd)}{SetTxPowerSpectralDensity(Ptr< SpectrumValue > txPsd)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Set\+Tx\+Power\+Spectral\+Density (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Spectrum\+Value} $>$}]{tx\+Psd}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1LrWpanPhy_a286fd14131187dac6b1a9b6b3d5eb06c}{}\label{classns3_1_1LrWpanPhy_a286fd14131187dac6b1a9b6b3d5eb06c}
Set the Power Spectral Density of outgoing signals in W/\+Hz.


\begin{DoxyParams}{Parameters}
{\em tx\+Psd} & the Power Spectral Density value \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1362 \{
1363   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << txPsd);
1364   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (txPsd);
1365   \hyperlink{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{m\_txPsd} = \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd};
1366   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)t computed tx\_psd: "} << *txPsd << \textcolor{stringliteral}{"\(\backslash\)t stored tx\_psd: "} << *
      \hyperlink{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{m\_txPsd});
1367 \}
\end{DoxyCode}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!Start\+Rx@{Start\+Rx}}
\index{Start\+Rx@{Start\+Rx}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{Start\+Rx(\+Ptr$<$ Spectrum\+Signal\+Parameters $>$ params)}{StartRx(Ptr< SpectrumSignalParameters > params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Lr\+Wpan\+Phy\+::\+Start\+Rx (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Spectrum\+Signal\+Parameters} $>$}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1LrWpanPhy_a0009842c2fb1be73d1ad437ca0e28b73}{}\label{classns3_1_1LrWpanPhy_a0009842c2fb1be73d1ad437ca0e28b73}
Notify the \hyperlink{classns3_1_1SpectrumPhy}{Spectrum\+Phy} instance of an incoming waveform.


\begin{DoxyParams}{Parameters}
{\em params} & the \hyperlink{structns3_1_1SpectrumSignalParameters}{Spectrum\+Signal\+Parameters} associated with the incoming waveform \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1SpectrumPhy_a2442b53be3ce1abf40b05780548a6e66}{ns3\+::\+Spectrum\+Phy}.


\begin{DoxyCode}
278 \{
279   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << spectrumRxParams);
280   LrWpanSpectrumValueHelper psdHelper;
281 
282   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a7de5c9c2ff7a6797ef475fb030e99ad0}{m\_edRequest}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ())
283     \{
284       \textcolor{comment}{// Update the average receive power during ED.}
285       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} now = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
286       \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_a1c454915534c342f9706e6e42006b388}{averagePower} += 
      \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (
      \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->GetSignalPsd (), \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.
      \hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel}) * (now - \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ac652b200f53980a1632776b9ee2c8456}{lastUpdate}).GetTimeStep () / 
      \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ad0843da1bc59c22ff31bbd2023f61dc0}{measurementLength}.\hyperlink{classns3_1_1Time_a40a7025b73dac7d02f8a4e1e54eaa5b5}{GetTimeStep} ();
287       \hyperlink{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{m\_edPower}.\hyperlink{structns3_1_1LrWpanEdPower_ac652b200f53980a1632776b9ee2c8456}{lastUpdate} = now;
288     \}
289 
290   Ptr<LrWpanSpectrumSignalParameters> lrWpanRxParams = DynamicCast<LrWpanSpectrumSignalParameters> (
      spectrumRxParams);
291 
292   \textcolor{keywordflow}{if} (lrWpanRxParams == 0)
293     \{
294       \hyperlink{classns3_1_1LrWpanPhy_a8a339fadde6f27b6a495377a4eca7943}{CheckInterference} ();
295       \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->AddSignal (spectrumRxParams->psd);
296 
297       \textcolor{comment}{// Update peak power if CCA is in progress.}
298       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a5fc2fce788ea008a00078c62682c02d0}{m\_ccaRequest}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ())
299         \{
300           \textcolor{keywordtype}{double} power = \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (
      \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->GetSignalPsd (), \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.
      \hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel});
301           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{m\_ccaPeakPower} < power)
302             \{
303               \hyperlink{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{m\_ccaPeakPower} = power;
304             \}
305         \}
306 
307       \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (spectrumRxParams->duration, &
      \hyperlink{classns3_1_1LrWpanPhy_a3a6d92e9b81bb3209b990e6ab12f37b3}{LrWpanPhy::EndRx}, \textcolor{keyword}{this}, spectrumRxParams);
308       \textcolor{keywordflow}{return};
309     \}
310 
311   Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = (lrWpanRxParams->packetBurst->GetPackets ()).front ();
312   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (p != 0);
313 
314   \textcolor{comment}{// Prevent PHY from receiving another packet while switching the transceiver state.}
315   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a9480f69fea1a74b7961ed74d6b3e2f9e}{IEEE\_802\_15\_4\_PHY\_RX\_ON} && !
      \hyperlink{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{m\_setTRXState}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
316     \{
317       \textcolor{comment}{// The specification doesn't seem to refer to BUSY\_RX, but vendor}
318       \textcolor{comment}{// data sheets suggest that this is a substate of the RX\_ON state}
319       \textcolor{comment}{// that is entered after preamble detection when the digital receiver}
320       \textcolor{comment}{// is enabled.  Here, for now, we use BUSY\_RX to mark the period between}
321       \textcolor{comment}{// StartRx() and EndRx() states.}
322 
323       \textcolor{comment}{// We are going to BUSY\_RX state when receiving the first bit of an SHR,}
324       \textcolor{comment}{// as opposed to real receivers, which should go to this state only after}
325       \textcolor{comment}{// successfully receiving the SHR.}
326 
327       \textcolor{comment}{// If synchronizing to the packet is possible, change to BUSY\_RX state,}
328       \textcolor{comment}{// otherwise drop the packet and stay in RX state. The actual synchronization}
329       \textcolor{comment}{// is not modeled.}
330 
331       \textcolor{comment}{// Add any incoming packet to the current interference before checking the}
332       \textcolor{comment}{// SINR.}
333       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" receiving packet with power: "} << 10 * log10(
      \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (lrWpanRxParams->psd, 
      \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel})) + 30 << \textcolor{stringliteral}{"dBm"});
334       \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->AddSignal (lrWpanRxParams->psd);
335       Ptr<SpectrumValue> interferenceAndNoise = \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->GetSignalPsd ();
336       *interferenceAndNoise -= *lrWpanRxParams->psd;
337       *interferenceAndNoise += *\hyperlink{classns3_1_1LrWpanPhy_a02560969747aa24f7bded61743f5cc37}{m\_noise};
338       \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (
      lrWpanRxParams->psd, \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel}) / 
      \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (interferenceAndNoise, 
      \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.\hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel});
339 
340       \textcolor{comment}{// Std. 802.15.4-2006, appendix E, Figure E.2}
341       \textcolor{comment}{// At SNR < -5 the BER is less than 10e-1.}
342       \textcolor{comment}{// It's useless to even *try* to decode the packet.}
343       \textcolor{keywordflow}{if} (10 * log10 (sinr) > -5)
344         \{
345           \hyperlink{classns3_1_1LrWpanPhy_a149987679698c2878d941fac1238c41a}{ChangeTrxState} (\hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX});
346           \hyperlink{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{m\_currentRxPacket} = std::make\_pair (lrWpanRxParams, \textcolor{keyword}{false});
347           \hyperlink{classns3_1_1LrWpanPhy_acd238a82f3646333c30a9100fecafbda}{m\_phyRxBeginTrace} (p);
348 
349           \hyperlink{classns3_1_1LrWpanPhy_ada4772165b76d85314ecbc3c19a404ab}{m\_rxLastUpdate} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
350         \}
351       \textcolor{keywordflow}{else}
352         \{
353           \hyperlink{classns3_1_1LrWpanPhy_aa649b07e1ef1151e1758c5091e6a7a00}{m\_phyRxDropTrace} (p);
354         \}
355     \}
356   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{m\_trxState} == \hyperlink{group__lr-wpan_gga6494269d13d45c511a07b7ccbb1de754a09f430974fda07ac7d4d483a1ce23b98}{IEEE\_802\_15\_4\_PHY\_BUSY\_RX})
357     \{
358       \textcolor{comment}{// Drop the new packet.}
359       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" packet collision"});
360       \hyperlink{classns3_1_1LrWpanPhy_aa649b07e1ef1151e1758c5091e6a7a00}{m\_phyRxDropTrace} (p);
361 
362       \textcolor{comment}{// Check if we correctly received the old packet up to now.}
363       \hyperlink{classns3_1_1LrWpanPhy_a8a339fadde6f27b6a495377a4eca7943}{CheckInterference} ();
364 
365       \textcolor{comment}{// Add the incoming packet to the current interference after we have}
366       \textcolor{comment}{// checked for successfull reception of the current packet for the time}
367       \textcolor{comment}{// before the additional interference.}
368       \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->AddSignal (lrWpanRxParams->psd);
369     \}
370   \textcolor{keywordflow}{else}
371     \{
372       \textcolor{comment}{// Simply drop the packet.}
373       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" transceiver not in RX state"});
374       \hyperlink{classns3_1_1LrWpanPhy_aa649b07e1ef1151e1758c5091e6a7a00}{m\_phyRxDropTrace} (p);
375 
376       \textcolor{comment}{// Add the signal power to the interference, anyway.}
377       \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->AddSignal (lrWpanRxParams->psd);
378     \}
379 
380   \textcolor{comment}{// Update peak power if CCA is in progress.}
381   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1LrWpanPhy_a5fc2fce788ea008a00078c62682c02d0}{m\_ccaRequest}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ())
382     \{
383       \textcolor{keywordtype}{double} power = \hyperlink{classns3_1_1LrWpanSpectrumValueHelper_ab8f05acfb68822f7b94fc637311fbda6}{LrWpanSpectrumValueHelper::TotalAvgPower} (
      \hyperlink{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{m\_signal}->GetSignalPsd (), \hyperlink{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{m\_phyPIBAttributes}.
      \hyperlink{structns3_1_1LrWpanPhyPibAttributes_a8e620dfd0f5b45fa6c9525d93c498fcb}{phyCurrentChannel});
384       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{m\_ccaPeakPower} < power)
385         \{
386           \hyperlink{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{m\_ccaPeakPower} = power;
387         \}
388     \}
389 
390   \textcolor{comment}{// Always call EndRx to update the interference.}
391   \textcolor{comment}{// \(\backslash\)todo: Do we need to keep track of these events to unschedule them when disposing off the PHY?}
392 
393   \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (spectrumRxParams->duration, &
      \hyperlink{classns3_1_1LrWpanPhy_a3a6d92e9b81bb3209b990e6ab12f37b3}{LrWpanPhy::EndRx}, \textcolor{keyword}{this}, spectrumRxParams);
394 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 42




\subsection{Member Data Documentation}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!a\+Max\+Phy\+Packet\+Size@{a\+Max\+Phy\+Packet\+Size}}
\index{a\+Max\+Phy\+Packet\+Size@{a\+Max\+Phy\+Packet\+Size}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{a\+Max\+Phy\+Packet\+Size}{aMaxPhyPacketSize}}]{\setlength{\rightskip}{0pt plus 5cm}const uint32\+\_\+t ns3\+::\+Lr\+Wpan\+Phy\+::a\+Max\+Phy\+Packet\+Size = 127\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LrWpanPhy_a0dac53931aac7c959546ca54db5e39bb}{}\label{classns3_1_1LrWpanPhy_a0dac53931aac7c959546ca54db5e39bb}
The maximum packet size accepted by the P\+HY. See Table 22 in section 6.\+4.\+1 of I\+E\+EE 802.\+15.\+4-\/2006 \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!a\+Turnaround\+Time@{a\+Turnaround\+Time}}
\index{a\+Turnaround\+Time@{a\+Turnaround\+Time}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{a\+Turnaround\+Time}{aTurnaroundTime}}]{\setlength{\rightskip}{0pt plus 5cm}const uint32\+\_\+t ns3\+::\+Lr\+Wpan\+Phy\+::a\+Turnaround\+Time = 12\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1LrWpanPhy_a8236b734a3ecb7d0c7528e693e80930d}{}\label{classns3_1_1LrWpanPhy_a8236b734a3ecb7d0c7528e693e80930d}
The turnaround time for switching the transceiver from RX to TX or vice versa. See Table 22 in section 6.\+4.\+1 of I\+E\+EE 802.\+15.\+4-\/2006 \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!data\+Symbol\+Rates@{data\+Symbol\+Rates}}
\index{data\+Symbol\+Rates@{data\+Symbol\+Rates}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{data\+Symbol\+Rates}{dataSymbolRates}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Lr\+Wpan\+Phy\+Data\+And\+Symbol\+Rates} ns3\+::\+Lr\+Wpan\+Phy\+::data\+Symbol\+Rates\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}\hypertarget{classns3_1_1LrWpanPhy_a28fa5c94a795cfc6c086024110a33b9d}{}\label{classns3_1_1LrWpanPhy_a28fa5c94a795cfc6c086024110a33b9d}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{ \{ 20.0, 20.0\},
                                  \{ 40.0, 40.0\},
                                  \{ 250.0, 12.5\},
                                  \{ 250.0, 50.0\},
                                  \{ 100.0, 25.0\},
                                  \{ 250.0, 62.5\},
                                  \{ 250.0, 62.5\}\}
\end{DoxyCode}
The data and symbol rates for the different P\+HY options. See Table 2 in section 6.\+1.\+2 I\+E\+EE 802.\+15.\+4-\/2006 \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+antenna@{m\+\_\+antenna}}
\index{m\+\_\+antenna@{m\+\_\+antenna}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+antenna}{m_antenna}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Antenna\+Model}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+antenna\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a190f9ce3b27fed0de2be87412387f8ba}{}\label{classns3_1_1LrWpanPhy_a190f9ce3b27fed0de2be87412387f8ba}
The antenna used by the transceiver. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+cca\+Peak\+Power@{m\+\_\+cca\+Peak\+Power}}
\index{m\+\_\+cca\+Peak\+Power@{m\+\_\+cca\+Peak\+Power}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+cca\+Peak\+Power}{m_ccaPeakPower}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+cca\+Peak\+Power\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}{}\label{classns3_1_1LrWpanPhy_a7b801d5943cf39ea427eb3cfd036166e}
Helper value for the peak power value during C\+CA. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+cca\+Request@{m\+\_\+cca\+Request}}
\index{m\+\_\+cca\+Request@{m\+\_\+cca\+Request}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+cca\+Request}{m_ccaRequest}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+cca\+Request\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a5fc2fce788ea008a00078c62682c02d0}{}\label{classns3_1_1LrWpanPhy_a5fc2fce788ea008a00078c62682c02d0}
\hyperlink{classns3_1_1Scheduler}{Scheduler} event of a currently running C\+CA request. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+channel@{m\+\_\+channel}}
\index{m\+\_\+channel@{m\+\_\+channel}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+channel}{m_channel}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Spectrum\+Channel}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+channel\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a6ea4a904afe3b256bc001c40efe496e1}{}\label{classns3_1_1LrWpanPhy_a6ea4a904afe3b256bc001c40efe496e1}
The channel attached to this transceiver. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+current\+Rx\+Packet@{m\+\_\+current\+Rx\+Packet}}
\index{m\+\_\+current\+Rx\+Packet@{m\+\_\+current\+Rx\+Packet}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Rx\+Packet}{m_currentRxPacket}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::pair$<${\bf Ptr}$<${\bf Lr\+Wpan\+Spectrum\+Signal\+Parameters}$>$, bool$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+current\+Rx\+Packet\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}{}\label{classns3_1_1LrWpanPhy_a5e25bc6b183652edc17015d04cca92a3}
Statusinformation of the currently received packet. The first parameter contains the frame, as well the signal power of the frame. The second parameter is set to false, if the frame is either invalid or destroyed due to interference. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+current\+Tx\+Packet@{m\+\_\+current\+Tx\+Packet}}
\index{m\+\_\+current\+Tx\+Packet@{m\+\_\+current\+Tx\+Packet}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Tx\+Packet}{m_currentTxPacket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Packet\+And\+Status} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+current\+Tx\+Packet\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}{}\label{classns3_1_1LrWpanPhy_a695601152abac951fa1958d826813082}
Statusinformation of the currently transmitted packet. The first parameter contains the frame. The second parameter is set to false, if the frame not completely transmitted, in the event of a force transceiver switch, for example. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+device@{m\+\_\+device}}
\index{m\+\_\+device@{m\+\_\+device}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+device}{m_device}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Net\+Device}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+device\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a406001d3cb4da3828837c1c1b4629a9c}{}\label{classns3_1_1LrWpanPhy_a406001d3cb4da3828837c1c1b4629a9c}
The configured net device. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+ed\+Power@{m\+\_\+ed\+Power}}
\index{m\+\_\+ed\+Power@{m\+\_\+ed\+Power}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+ed\+Power}{m_edPower}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lr\+Wpan\+Ed\+Power} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+ed\+Power\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}{}\label{classns3_1_1LrWpanPhy_a63a7ca8192b16aa1d4ea320c1a43452f}
Helper value for tracking the average power during ED. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+ed\+Request@{m\+\_\+ed\+Request}}
\index{m\+\_\+ed\+Request@{m\+\_\+ed\+Request}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+ed\+Request}{m_edRequest}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+ed\+Request\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a7de5c9c2ff7a6797ef475fb030e99ad0}{}\label{classns3_1_1LrWpanPhy_a7de5c9c2ff7a6797ef475fb030e99ad0}
\hyperlink{classns3_1_1Scheduler}{Scheduler} event of a currently running ED request. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+error\+Model@{m\+\_\+error\+Model}}
\index{m\+\_\+error\+Model@{m\+\_\+error\+Model}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+error\+Model}{m_errorModel}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Lr\+Wpan\+Error\+Model}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+error\+Model\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a51ab23fe176708768b6276cdbbd68a06}{}\label{classns3_1_1LrWpanPhy_a51ab23fe176708768b6276cdbbd68a06}
The error model describing the bit and packet error rates. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+mobility@{m\+\_\+mobility}}
\index{m\+\_\+mobility@{m\+\_\+mobility}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+mobility}{m_mobility}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Mobility\+Model}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+mobility\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a746dc7299fae28fafa617075ca3b5433}{}\label{classns3_1_1LrWpanPhy_a746dc7299fae28fafa617075ca3b5433}
The mobility model used by the P\+HY. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+noise@{m\+\_\+noise}}
\index{m\+\_\+noise@{m\+\_\+noise}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+noise}{m_noise}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$const {\bf Spectrum\+Value}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+noise\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a02560969747aa24f7bded61743f5cc37}{}\label{classns3_1_1LrWpanPhy_a02560969747aa24f7bded61743f5cc37}
The spectral density for for the noise. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+pd\+Data\+Confirm\+Callback@{m\+\_\+pd\+Data\+Confirm\+Callback}}
\index{m\+\_\+pd\+Data\+Confirm\+Callback@{m\+\_\+pd\+Data\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+pd\+Data\+Confirm\+Callback}{m_pdDataConfirmCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pd\+Data\+Confirm\+Callback} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+pd\+Data\+Confirm\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}{}\label{classns3_1_1LrWpanPhy_a6f736d7cb72829ef100315c1b8f6ea05}
This callback is used to report packet transmission status to the M\+AC layer. See I\+E\+EE 802.\+15.\+4-\/2006, section 6.\+2.\+1.\+2. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+pd\+Data\+Indication\+Callback@{m\+\_\+pd\+Data\+Indication\+Callback}}
\index{m\+\_\+pd\+Data\+Indication\+Callback@{m\+\_\+pd\+Data\+Indication\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+pd\+Data\+Indication\+Callback}{m_pdDataIndicationCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Pd\+Data\+Indication\+Callback} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+pd\+Data\+Indication\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a94de3241a0050cc21f5a57fdbc951c9e}{}\label{classns3_1_1LrWpanPhy_a94de3241a0050cc21f5a57fdbc951c9e}
This callback is used to notify incoming packets to the M\+AC layer. See I\+E\+EE 802.\+15.\+4-\/2006, section 6.\+2.\+1.\+3. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+pd\+Data\+Request@{m\+\_\+pd\+Data\+Request}}
\index{m\+\_\+pd\+Data\+Request@{m\+\_\+pd\+Data\+Request}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+pd\+Data\+Request}{m_pdDataRequest}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+pd\+Data\+Request\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_ac25e1b499978dc6ad31f3c425f6e261a}{}\label{classns3_1_1LrWpanPhy_ac25e1b499978dc6ad31f3c425f6e261a}
\hyperlink{classns3_1_1Scheduler}{Scheduler} event of a currently running data transmission request. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+phy\+Option@{m\+\_\+phy\+Option}}
\index{m\+\_\+phy\+Option@{m\+\_\+phy\+Option}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Option}{m_phyOption}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lr\+Wpan\+Phy\+Option} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+phy\+Option\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}{}\label{classns3_1_1LrWpanPhy_a7c89aea4498cefc0bdc2284526f0019b}
The currently configured P\+HY type. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+phy\+P\+I\+B\+Attributes@{m\+\_\+phy\+P\+I\+B\+Attributes}}
\index{m\+\_\+phy\+P\+I\+B\+Attributes@{m\+\_\+phy\+P\+I\+B\+Attributes}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+P\+I\+B\+Attributes}{m_phyPIBAttributes}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lr\+Wpan\+Phy\+Pib\+Attributes} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+phy\+P\+I\+B\+Attributes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}{}\label{classns3_1_1LrWpanPhy_a7f263bedbdeed627f7c5f2dab8e960c8}
The current P\+HY P\+IB attributes. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+phy\+Rx\+Begin\+Trace@{m\+\_\+phy\+Rx\+Begin\+Trace}}
\index{m\+\_\+phy\+Rx\+Begin\+Trace@{m\+\_\+phy\+Rx\+Begin\+Trace}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Rx\+Begin\+Trace}{m_phyRxBeginTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+phy\+Rx\+Begin\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_acd238a82f3646333c30a9100fecafbda}{}\label{classns3_1_1LrWpanPhy_acd238a82f3646333c30a9100fecafbda}
The trace source fired when a packet begins the reception process from the medium.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+phy\+Rx\+Drop\+Trace@{m\+\_\+phy\+Rx\+Drop\+Trace}}
\index{m\+\_\+phy\+Rx\+Drop\+Trace@{m\+\_\+phy\+Rx\+Drop\+Trace}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Rx\+Drop\+Trace}{m_phyRxDropTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+phy\+Rx\+Drop\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_aa649b07e1ef1151e1758c5091e6a7a00}{}\label{classns3_1_1LrWpanPhy_aa649b07e1ef1151e1758c5091e6a7a00}
The trace source fired when the phy layer drops a packet it has received.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+phy\+Rx\+End\+Trace@{m\+\_\+phy\+Rx\+End\+Trace}}
\index{m\+\_\+phy\+Rx\+End\+Trace@{m\+\_\+phy\+Rx\+End\+Trace}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Rx\+End\+Trace}{m_phyRxEndTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$, double $>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+phy\+Rx\+End\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a6d8ee60f128cdce862893fc9e0e5eda3}{}\label{classns3_1_1LrWpanPhy_a6d8ee60f128cdce862893fc9e0e5eda3}
The trace source fired when a packet ends the reception process from the medium. Second quantity is received S\+I\+NR.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+phy\+Tx\+Begin\+Trace@{m\+\_\+phy\+Tx\+Begin\+Trace}}
\index{m\+\_\+phy\+Tx\+Begin\+Trace@{m\+\_\+phy\+Tx\+Begin\+Trace}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Tx\+Begin\+Trace}{m_phyTxBeginTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+phy\+Tx\+Begin\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a72273155da1a3b5340389633f5486860}{}\label{classns3_1_1LrWpanPhy_a72273155da1a3b5340389633f5486860}
The trace source fired when a packet begins the transmission process on the medium.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+phy\+Tx\+Drop\+Trace@{m\+\_\+phy\+Tx\+Drop\+Trace}}
\index{m\+\_\+phy\+Tx\+Drop\+Trace@{m\+\_\+phy\+Tx\+Drop\+Trace}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Tx\+Drop\+Trace}{m_phyTxDropTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+phy\+Tx\+Drop\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_ac8651acbf8f744b8442c05a490a35720}{}\label{classns3_1_1LrWpanPhy_ac8651acbf8f744b8442c05a490a35720}
The trace source fired when the phy layer drops a packet as it tries to transmit it.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+phy\+Tx\+End\+Trace@{m\+\_\+phy\+Tx\+End\+Trace}}
\index{m\+\_\+phy\+Tx\+End\+Trace@{m\+\_\+phy\+Tx\+End\+Trace}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Tx\+End\+Trace}{m_phyTxEndTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Ptr}$<$const {\bf Packet}$>$ $>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+phy\+Tx\+End\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a34c1c896916f90010cd7f4ba5eaa5385}{}\label{classns3_1_1LrWpanPhy_a34c1c896916f90010cd7f4ba5eaa5385}
The trace source fired when a packet ends the transmission process on the medium.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+plme\+Cca\+Confirm\+Callback@{m\+\_\+plme\+Cca\+Confirm\+Callback}}
\index{m\+\_\+plme\+Cca\+Confirm\+Callback@{m\+\_\+plme\+Cca\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+plme\+Cca\+Confirm\+Callback}{m_plmeCcaConfirmCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Plme\+Cca\+Confirm\+Callback} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+plme\+Cca\+Confirm\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}{}\label{classns3_1_1LrWpanPhy_a3b75b533222419589c396380e8305bb9}
This callback is used to report C\+CA status to the M\+AC or C\+S\+M\+A/\+CA. See I\+E\+EE 802.\+15.\+4-\/2006, section 6.\+2.\+2.\+2. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+plme\+Ed\+Confirm\+Callback@{m\+\_\+plme\+Ed\+Confirm\+Callback}}
\index{m\+\_\+plme\+Ed\+Confirm\+Callback@{m\+\_\+plme\+Ed\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+plme\+Ed\+Confirm\+Callback}{m_plmeEdConfirmCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Plme\+Ed\+Confirm\+Callback} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+plme\+Ed\+Confirm\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}{}\label{classns3_1_1LrWpanPhy_a5cf7d4aaf1889772a711a2e83fb39eca}
This callback is used to report ED status to the M\+AC. See I\+E\+EE 802.\+15.\+4-\/2006, section 6.\+2.\+2.\+4. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+plme\+Get\+Attribute\+Confirm\+Callback@{m\+\_\+plme\+Get\+Attribute\+Confirm\+Callback}}
\index{m\+\_\+plme\+Get\+Attribute\+Confirm\+Callback@{m\+\_\+plme\+Get\+Attribute\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+plme\+Get\+Attribute\+Confirm\+Callback}{m_plmeGetAttributeConfirmCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Plme\+Get\+Attribute\+Confirm\+Callback} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+plme\+Get\+Attribute\+Confirm\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_abc174686fae5652243dca022df5af6ed}{}\label{classns3_1_1LrWpanPhy_abc174686fae5652243dca022df5af6ed}
This callback is used to report requested attribute values back to the M\+AC. See I\+E\+EE 802.\+15.\+4-\/2006, section 6.\+2.\+2.\+6. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+plme\+Set\+Attribute\+Confirm\+Callback@{m\+\_\+plme\+Set\+Attribute\+Confirm\+Callback}}
\index{m\+\_\+plme\+Set\+Attribute\+Confirm\+Callback@{m\+\_\+plme\+Set\+Attribute\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+plme\+Set\+Attribute\+Confirm\+Callback}{m_plmeSetAttributeConfirmCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Plme\+Set\+Attribute\+Confirm\+Callback} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+plme\+Set\+Attribute\+Confirm\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a174646782f62d874a5c92f4cfbbb8922}{}\label{classns3_1_1LrWpanPhy_a174646782f62d874a5c92f4cfbbb8922}
This callback is used to report attribute set results back to the M\+AC. See I\+E\+EE 802.\+15.\+4-\/2006, section 6.\+2.\+2.\+10. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+plme\+Set\+T\+R\+X\+State\+Confirm\+Callback@{m\+\_\+plme\+Set\+T\+R\+X\+State\+Confirm\+Callback}}
\index{m\+\_\+plme\+Set\+T\+R\+X\+State\+Confirm\+Callback@{m\+\_\+plme\+Set\+T\+R\+X\+State\+Confirm\+Callback}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+plme\+Set\+T\+R\+X\+State\+Confirm\+Callback}{m_plmeSetTRXStateConfirmCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Plme\+Set\+T\+R\+X\+State\+Confirm\+Callback} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+plme\+Set\+T\+R\+X\+State\+Confirm\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}{}\label{classns3_1_1LrWpanPhy_ab3fed0e994f9e51e765c704f1a7b666f}
This callback is used to report transceiver state change status to the M\+AC. See I\+E\+EE 802.\+15.\+4-\/2006, section 6.\+2.\+2.\+8. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+random@{m\+\_\+random}}
\index{m\+\_\+random@{m\+\_\+random}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+random}{m_random}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Uniform\+Random\+Variable}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+random\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a307453e07b607f6ec19530c1042f1eba}{}\label{classns3_1_1LrWpanPhy_a307453e07b607f6ec19530c1042f1eba}
Uniform random variable stream. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+rx\+Last\+Update@{m\+\_\+rx\+Last\+Update}}
\index{m\+\_\+rx\+Last\+Update@{m\+\_\+rx\+Last\+Update}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+Last\+Update}{m_rxLastUpdate}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+rx\+Last\+Update\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_ada4772165b76d85314ecbc3c19a404ab}{}\label{classns3_1_1LrWpanPhy_ada4772165b76d85314ecbc3c19a404ab}
Timestamp of the last calculation of the P\+ER of a packet currently received. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+rx\+Sensitivity@{m\+\_\+rx\+Sensitivity}}
\index{m\+\_\+rx\+Sensitivity@{m\+\_\+rx\+Sensitivity}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+Sensitivity}{m_rxSensitivity}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+rx\+Sensitivity\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a8150b66561c973e8d0f9ef77bac739b8}{}\label{classns3_1_1LrWpanPhy_a8150b66561c973e8d0f9ef77bac739b8}
The receiver sensitivity. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+set\+T\+R\+X\+State@{m\+\_\+set\+T\+R\+X\+State}}
\index{m\+\_\+set\+T\+R\+X\+State@{m\+\_\+set\+T\+R\+X\+State}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+set\+T\+R\+X\+State}{m_setTRXState}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+set\+T\+R\+X\+State\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}{}\label{classns3_1_1LrWpanPhy_a0b82e7f96d0225c83489cf3dfb6058ce}
\hyperlink{classns3_1_1Scheduler}{Scheduler} event of a currently running deferred transceiver state switch. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+signal@{m\+\_\+signal}}
\index{m\+\_\+signal@{m\+\_\+signal}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+signal}{m_signal}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Lr\+Wpan\+Interference\+Helper}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+signal\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}{}\label{classns3_1_1LrWpanPhy_a923130b0bacef678012bcc8fdc68fd10}
The accumulated signals currently received by the transceiver, including the signal of a possibly received packet, as well as all signals considered noise. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+trx\+State@{m\+\_\+trx\+State}}
\index{m\+\_\+trx\+State@{m\+\_\+trx\+State}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+trx\+State}{m_trxState}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Value}$<${\bf Lr\+Wpan\+Phy\+Enumeration}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+trx\+State\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}{}\label{classns3_1_1LrWpanPhy_a316704a4eb96e04f4b960ba3577fe0ce}
The current transceiver state. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+trx\+State\+Logger@{m\+\_\+trx\+State\+Logger}}
\index{m\+\_\+trx\+State\+Logger@{m\+\_\+trx\+State\+Logger}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+trx\+State\+Logger}{m_trxStateLogger}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Time}, {\bf Lr\+Wpan\+Phy\+Enumeration}, {\bf Lr\+Wpan\+Phy\+Enumeration}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+trx\+State\+Logger\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_ae48d12b3f7dd9ebc93ae1a7e0d570f52}{}\label{classns3_1_1LrWpanPhy_ae48d12b3f7dd9ebc93ae1a7e0d570f52}
The trace source fired when the phy layer changes the transceiver state.

\begin{DoxySeeAlso}{See also}
class Call\+Back\+Trace\+Source 
\end{DoxySeeAlso}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000019}{Deprecated}]The Lr\+Wpan\+Phy\+Enumeration state is now accessible as the \hyperlink{classns3_1_1TracedValue}{Traced\+Value} {\ttfamily Trx\+State\+Value}. This \hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} will be removed in a future release. \end{DoxyRefDesc}
\index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+trx\+State\+Pending@{m\+\_\+trx\+State\+Pending}}
\index{m\+\_\+trx\+State\+Pending@{m\+\_\+trx\+State\+Pending}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+trx\+State\+Pending}{m_trxStatePending}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lr\+Wpan\+Phy\+Enumeration} ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+trx\+State\+Pending\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}{}\label{classns3_1_1LrWpanPhy_a84647014f5242767e3358a6a851c81a7}
The next pending state to applied after the current action of the P\+HY is completed. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!m\+\_\+tx\+Psd@{m\+\_\+tx\+Psd}}
\index{m\+\_\+tx\+Psd@{m\+\_\+tx\+Psd}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+Psd}{m_txPsd}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Spectrum\+Value}$>$ ns3\+::\+Lr\+Wpan\+Phy\+::m\+\_\+tx\+Psd\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}{}\label{classns3_1_1LrWpanPhy_a136f3eddb97dc50b4689df6a36df1f76}
The transmit power spectral density. \index{ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}!ppdu\+Header\+Symbol\+Numbers@{ppdu\+Header\+Symbol\+Numbers}}
\index{ppdu\+Header\+Symbol\+Numbers@{ppdu\+Header\+Symbol\+Numbers}!ns3\+::\+Lr\+Wpan\+Phy@{ns3\+::\+Lr\+Wpan\+Phy}}
\subsubsection[{\texorpdfstring{ppdu\+Header\+Symbol\+Numbers}{ppduHeaderSymbolNumbers}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Lr\+Wpan\+Phy\+Ppdu\+Header\+Symbol\+Number} ns3\+::\+Lr\+Wpan\+Phy\+::ppdu\+Header\+Symbol\+Numbers\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}\hypertarget{classns3_1_1LrWpanPhy_add389321606b4a809e3f889ef7e97173}{}\label{classns3_1_1LrWpanPhy_add389321606b4a809e3f889ef7e97173}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{ \{ 32.0, 8.0, 8.0\},
                                          \{ 32.0, 8.0, 8.0\},
                                          \{ 2.0, 1.0, 0.4\},
                                          \{ 6.0, 1.0, 1.6\},
                                          \{ 8.0, 2.0, 2.0\},
                                          \{ 8.0, 2.0, 2.0\},
                                          \{ 8.0, 2.0, 2.0\}\}
\end{DoxyCode}
The preamble, S\+FD, and P\+HR lengths in symbols for the different P\+HY options. See Table 19 and Table 20 in section 6.\+3 I\+E\+EE 802.\+15.\+4-\/2006 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lr-\/wpan/model/\hyperlink{lr-wpan-phy_8h}{lr-\/wpan-\/phy.\+h}\item 
lr-\/wpan/model/\hyperlink{lr-wpan-phy_8cc}{lr-\/wpan-\/phy.\+cc}\end{DoxyCompactItemize}
