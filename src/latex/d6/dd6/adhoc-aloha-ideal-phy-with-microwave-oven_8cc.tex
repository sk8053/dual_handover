\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc}{}\section{spectrum/examples/adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.cc File Reference}
\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc}\index{spectrum/examples/adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{spectrum/examples/adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$ns3/core-\/module.\+h$>$}\\*
{\ttfamily \#include $<$ns3/network-\/module.\+h$>$}\\*
{\ttfamily \#include $<$ns3/spectrum-\/model-\/ism2400\+M\+Hz-\/res1\+M\+Hz.\+h$>$}\\*
{\ttfamily \#include $<$ns3/spectrum-\/model-\/300k\+Hz-\/300\+G\+Hz-\/log.\+h$>$}\\*
{\ttfamily \#include $<$ns3/wifi-\/spectrum-\/value-\/helper.\+h$>$}\\*
{\ttfamily \#include $<$ns3/multi-\/model-\/spectrum-\/channel.\+h$>$}\\*
{\ttfamily \#include $<$ns3/waveform-\/generator.\+h$>$}\\*
{\ttfamily \#include $<$ns3/spectrum-\/analyzer.\+h$>$}\\*
{\ttfamily \#include $<$ns3/log.\+h$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$ns3/friis-\/spectrum-\/propagation-\/loss.\+h$>$}\\*
{\ttfamily \#include $<$ns3/propagation-\/delay-\/model.\+h$>$}\\*
{\ttfamily \#include $<$ns3/mobility-\/module.\+h$>$}\\*
{\ttfamily \#include $<$ns3/spectrum-\/helper.\+h$>$}\\*
{\ttfamily \#include $<$ns3/applications-\/module.\+h$>$}\\*
{\ttfamily \#include $<$ns3/adhoc-\/aloha-\/noack-\/ideal-\/phy-\/helper.\+h$>$}\\*
{\ttfamily \#include $<$ns3/waveform-\/generator-\/helper.\+h$>$}\\*
{\ttfamily \#include $<$ns3/spectrum-\/analyzer-\/helper.\+h$>$}\\*
{\ttfamily \#include $<$ns3/non-\/communicating-\/net-\/device.\+h$>$}\\*
{\ttfamily \#include $<$ns3/microwave-\/oven-\/spectrum-\/value-\/helper.\+h$>$}\\*
Include dependency graph for adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.cc\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a371e3a58f159f591da5ddb77d6a3cb78}{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE} (\char`\"{}Ofdm\+With\+Waveform\+Generator\char`\"{})
\item 
void \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_aef85126bd85f29842c7db47da7ab881a}{Phy\+Tx\+Start\+Trace} (std\+::string context, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
void \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a1b644fd41107149725fc7c3af0f3ccdf}{Phy\+Tx\+End\+Trace} (std\+::string context, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
void \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a51ce42e0529cf922b9fa1274522f0894}{Phy\+Rx\+Start\+Trace} (std\+::string context, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
void \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_abe11a97645f01a1213944fb2cbabeb1a}{Phy\+Rx\+End\+Ok\+Trace} (std\+::string context, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
void \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a515d5357cc68bf748507f70c86651488}{Phy\+Rx\+End\+Error\+Trace} (std\+::string context, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
void \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a80dc0d980be124d8d5c4ee0b7943bfae}{Receive\+Packet} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a3858f39b0c1d0e52120fef78a82673cb}{Setup\+Packet\+Receive} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Node}{Node} $>$ node)
\item 
int \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static bool \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a817b47f52eeb5f98e32ce7d19a86aa7e}{g\+\_\+verbose} = \hyperlink{lte__cqi__generation_8m_ab1bef239d413c4da139c4bac92cd657a}{false}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}!main@{main}}
\index{main@{main}!adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$$\ast$argv)}{main(int argc, char **argv)}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a3c04138a5bfe5d72780bb7e82a18e627}{}\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a3c04138a5bfe5d72780bb7e82a18e627}

\begin{DoxyCode}
126 \{
127   \hyperlink{classns3_1_1CommandLine}{CommandLine} cmd;
128   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"verbose"}, \textcolor{stringliteral}{"Print trace information if true"}, \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a817b47f52eeb5f98e32ce7d19a86aa7e}{g\_verbose});
129   cmd.\hyperlink{classns3_1_1CommandLine_a5c10b85b3207e5ecb48d907966923156}{Parse} (argc, argv);
130 
131   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ofdmNodes;
132   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} waveformGeneratorNodes;
133   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} spectrumAnalyzerNodes;
134   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} allNodes;
135 
136   ofdmNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (2);
137   waveformGeneratorNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
138   spectrumAnalyzerNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
139   allNodes.\hyperlink{classns3_1_1NodeContainer_aa60b3a0e70f2fb324e16ffcf8bf31fcb}{Add} (ofdmNodes);
140   allNodes.\hyperlink{classns3_1_1NodeContainer_aa60b3a0e70f2fb324e16ffcf8bf31fcb}{Add} (waveformGeneratorNodes);
141   allNodes.\hyperlink{classns3_1_1NodeContainer_aa60b3a0e70f2fb324e16ffcf8bf31fcb}{Add} (spectrumAnalyzerNodes);
142 
143   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
144   \hyperlink{classns3_1_1Ptr}{Ptr<ListPositionAllocator>} nodePositionList = 
      CreateObject<ListPositionAllocator> ();
145   nodePositionList->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (\hyperlink{classns3_1_1Vector3D_a7e59b47bc94c9cb1dadff68c1d0112d8}{Vector} (5.0, 0.0, 0.0));  \textcolor{comment}{// TX node}
146   nodePositionList->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (\hyperlink{classns3_1_1Vector3D_a7e59b47bc94c9cb1dadff68c1d0112d8}{Vector} (0.0, 0.0, 0.0));  \textcolor{comment}{// RX node}
147   nodePositionList->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (\hyperlink{classns3_1_1Vector3D_a7e59b47bc94c9cb1dadff68c1d0112d8}{Vector} (30.0, 0.0, 0.0)); \textcolor{comment}{// Microwave Oven}
148   nodePositionList->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (\hyperlink{classns3_1_1Vector3D_a7e59b47bc94c9cb1dadff68c1d0112d8}{Vector} (0.0, 0.0, 0.0));  \textcolor{comment}{// Spectrum Analyzer}
149   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (nodePositionList);
150   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
151 
152   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (allNodes);
153 
154 
155   \hyperlink{classns3_1_1SpectrumChannelHelper}{SpectrumChannelHelper} channelHelper = SpectrumChannelHelper::Default ();
156   channelHelper.\hyperlink{classns3_1_1SpectrumChannelHelper_a11ffe86edea8cdd30f181e41c0e3e29f}{SetChannel} (\textcolor{stringliteral}{"ns3::MultiModelSpectrumChannel"});
157   \hyperlink{classns3_1_1Ptr}{Ptr<SpectrumChannel>} channel = channelHelper.\hyperlink{classns3_1_1SpectrumChannelHelper_a419ea84f5046763085f94f38af319fb9}{Create} ();
158 
159 
161   \textcolor{comment}{// Configure ofdm nodes}
163 \textcolor{comment}{}
164   \hyperlink{classns3_1_1WifiSpectrumValue5MhzFactory}{WifiSpectrumValue5MhzFactory} sf;
165 
166   \textcolor{keywordtype}{double} txPower = 0.1; \textcolor{comment}{// Watts}
167   uint32\_t channelNumber = 4;
168   \hyperlink{classns3_1_1Ptr}{Ptr<SpectrumValue>} \hyperlink{lte__link__budget_8m_a684fe3101a5e48a5fcc57cab8dbcd1aa}{txPsd} =  sf.
      \hyperlink{classns3_1_1WifiSpectrumValue5MhzFactory_aa3045151889d535e6e7bf40e0855a92f}{CreateTxPowerSpectralDensity} (txPower, channelNumber);
169 
170   \textcolor{comment}{// for the noise, we use the Power Spectral Density of thermal noise}
171   \textcolor{comment}{// at room temperature. The value of the PSD will be constant over the band of interest.}
172   \textcolor{keyword}{const} \textcolor{keywordtype}{double} k = 1.381e-23; \textcolor{comment}{//Boltzmann's constant}
173   \textcolor{keyword}{const} \textcolor{keywordtype}{double} T = 290; \textcolor{comment}{// temperature in Kelvin}
174   \textcolor{keywordtype}{double} noisePsdValue = k * T; \textcolor{comment}{// watts per hertz}
175   \hyperlink{classns3_1_1Ptr}{Ptr<SpectrumValue>} noisePsd = sf.\hyperlink{classns3_1_1WifiSpectrumValue5MhzFactory_a32a04dc83a836da0fcfcc387cabc097f}{CreateConstant} (noisePsdValue);
176 
177 
178   \hyperlink{classns3_1_1AdhocAlohaNoackIdealPhyHelper}{AdhocAlohaNoackIdealPhyHelper} adhocAlohaOfdmHelper;
179   adhocAlohaOfdmHelper.\hyperlink{classns3_1_1AdhocAlohaNoackIdealPhyHelper_a9d2c05e23d722e63dafa2d083313ecdb}{SetChannel} (channel);
180   adhocAlohaOfdmHelper.\hyperlink{classns3_1_1AdhocAlohaNoackIdealPhyHelper_a3acada700018db8e04a7a209e4cdf94e}{SetTxPowerSpectralDensity} (txPsd);
181   adhocAlohaOfdmHelper.\hyperlink{classns3_1_1AdhocAlohaNoackIdealPhyHelper_a6a5f5df28a9bddbe04e8e4815bdce244}{SetNoisePowerSpectralDensity} (noisePsd);
182   adhocAlohaOfdmHelper.\hyperlink{classns3_1_1AdhocAlohaNoackIdealPhyHelper_a073f6728abd6e3880475b29cbc415792}{SetPhyAttribute} (\textcolor{stringliteral}{"Rate"}, DataRateValue (
      \hyperlink{classns3_1_1DataRate}{DataRate} (\textcolor{stringliteral}{"1Mbps"})));
183   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ofdmDevices = adhocAlohaOfdmHelper.
      \hyperlink{classns3_1_1AdhocAlohaNoackIdealPhyHelper_a0b9cb9d602fd1027f7f39a776e745abe}{Install} (ofdmNodes);
184 
185   \hyperlink{classns3_1_1PacketSocketHelper}{PacketSocketHelper} packetSocket;
186   packetSocket.\hyperlink{classns3_1_1PacketSocketHelper_a33f449fee7fd10411949d17feba6d33e}{Install} (ofdmNodes);
187 
188   \hyperlink{classns3_1_1PacketSocketAddress}{PacketSocketAddress} socket;
189   socket.\hyperlink{classns3_1_1PacketSocketAddress_ad1caa016f4d27c9d5f2c06dbfc53f8a3}{SetSingleDevice} (ofdmDevices.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetIfIndex ());
190   socket.\hyperlink{classns3_1_1PacketSocketAddress_a9452f9410a97e57344e464e25c2ab0f3}{SetPhysicalAddress} (ofdmDevices.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1)->GetAddress ());
191   socket.\hyperlink{classns3_1_1PacketSocketAddress_a9020962e39c238277f3b2f0de605647a}{SetProtocol} (1);
192 
193   \hyperlink{classns3_1_1OnOffHelper}{OnOffHelper} onoff (\textcolor{stringliteral}{"ns3::PacketSocketFactory"}, \hyperlink{classns3_1_1Address}{Address} (socket));
194   onoff.SetAttribute (\textcolor{stringliteral}{"OnTime"}, StringValue (\textcolor{stringliteral}{"ns3::ExponentialRandomVariable[Mean=0.04]"}));
195   onoff.SetAttribute (\textcolor{stringliteral}{"OffTime"}, StringValue (\textcolor{stringliteral}{"ns3::ExponentialRandomVariable[Mean=0.01]"}));
196   onoff.SetAttribute (\textcolor{stringliteral}{"DataRate"}, DataRateValue (\hyperlink{classns3_1_1DataRate}{DataRate} (\textcolor{stringliteral}{"0.4Mbps"})));
197   onoff.SetAttribute (\textcolor{stringliteral}{"PacketSize"}, UintegerValue (1500));
198 
199   \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} apps = onoff.Install (ofdmNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0));
200   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0));
201   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1));
202 
203   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} recvSink = \hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a3858f39b0c1d0e52120fef78a82673cb}{SetupPacketReceive} (ofdmNodes.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1));
204 
205 
206 
207 
208 
210   \textcolor{comment}{// Configure waveform generator}
212 \textcolor{comment}{}
213   \hyperlink{classns3_1_1Ptr}{Ptr<SpectrumValue>} mwoPsd =  
      MicrowaveOvenSpectrumValueHelper::CreatePowerSpectralDensityMwo1 ();
214   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"mwoPsd : "} << *mwoPsd);
215 
216   \hyperlink{classns3_1_1WaveformGeneratorHelper}{WaveformGeneratorHelper} waveformGeneratorHelper;
217   waveformGeneratorHelper.\hyperlink{classns3_1_1WaveformGeneratorHelper_a5342430dda9bf0c11725010f09124a56}{SetChannel} (channel);
218   waveformGeneratorHelper.\hyperlink{classns3_1_1WaveformGeneratorHelper_a1c76759d1f262edec838f1475893ce70}{SetTxPowerSpectralDensity} (mwoPsd);
219 
220   waveformGeneratorHelper.\hyperlink{classns3_1_1WaveformGeneratorHelper_a93eae78a254e7d32651c7c50e055b1bb}{SetPhyAttribute} (\textcolor{stringliteral}{"Period"}, TimeValue (
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0 / 60)));   \textcolor{comment}{// corresponds to 60 Hz}
221   waveformGeneratorHelper.\hyperlink{classns3_1_1WaveformGeneratorHelper_a93eae78a254e7d32651c7c50e055b1bb}{SetPhyAttribute} (\textcolor{stringliteral}{"DutyCycle"}, DoubleValue (0.5));
222   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} waveformGeneratorDevices = waveformGeneratorHelper.
      \hyperlink{classns3_1_1WaveformGeneratorHelper_a61d491cf9b6488bf5ff1b7ae2f245eb0}{Install} (waveformGeneratorNodes);
223 
224   Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.1), &WaveformGenerator::Start,
225                        waveformGeneratorDevices.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1NonCommunicatingNetDevice}{NonCommunicatingNetDevice}> ()->GetPhy ()->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1WaveformGenerator}{WaveformGenerator}> ());
226   
227 
228 
230   \textcolor{comment}{// Configure spectrum analyzer}
232 \textcolor{comment}{}
233 
234   \hyperlink{classns3_1_1SpectrumAnalyzerHelper}{SpectrumAnalyzerHelper} spectrumAnalyzerHelper;
235   spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_a7fb7b79c0706c9aecd427af6c4148031}{SetChannel} (channel);
236   spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_afcfa897fb4c298b02e39ec87717b0b54}{SetRxSpectrumModel} (
      \hyperlink{namespacens3_abc4832a3e0215c64830c831ea89da6c4}{SpectrumModelIsm2400MhzRes1Mhz});
237   spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_a535a79dd9e2fb4293eb9e9e5fcb111ae}{SetPhyAttribute} (\textcolor{stringliteral}{"Resolution"}, TimeValue (
      \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (2)));
238   spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_a535a79dd9e2fb4293eb9e9e5fcb111ae}{SetPhyAttribute} (\textcolor{stringliteral}{"NoisePowerSpectralDensity"}, DoubleValue (1e-15));
        \textcolor{comment}{// -120 dBm/Hz}
239   spectrumAnalyzerHelper.\hyperlink{classns3_1_1SpectrumAnalyzerHelper_ad1bb3c14843583ce1227e00758d8ba51}{EnableAsciiAll} (\textcolor{stringliteral}{"spectrum-analyzer-output"});
240   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} spectrumAnalyzerDevices = spectrumAnalyzerHelper.
      \hyperlink{classns3_1_1SpectrumAnalyzerHelper_a64479eb63eb6b5ad5536ee8ecf2c717a}{Install} (spectrumAnalyzerNodes);
241 
242   \textcolor{comment}{/*}
243 \textcolor{comment}{    you can get a nice plot of the output of SpectrumAnalyzer with this gnuplot script:}
244 \textcolor{comment}{}
245 \textcolor{comment}{    unset surface}
246 \textcolor{comment}{    set pm3d at s }
247 \textcolor{comment}{    set palette}
248 \textcolor{comment}{    set key off}
249 \textcolor{comment}{    set view 50,50}
250 \textcolor{comment}{    set xlabel "time (ms)"}
251 \textcolor{comment}{    set ylabel "freq (MHz)"}
252 \textcolor{comment}{    set zlabel "PSD (dBW/Hz)" offset 15,0,0}
253 \textcolor{comment}{    splot "./spectrum-analyzer-output-3-0.tr" using ($1*1000.0):($2/1e6):(10*log10($3))}
254 \textcolor{comment}{  */}
255 
256 
257 
258 
259 
260   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/DeviceList/*/Phy/TxStart"}, 
      \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_aef85126bd85f29842c7db47da7ab881a}{PhyTxStartTrace}));
261   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/DeviceList/*/Phy/TxEnd"}, 
      \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a1b644fd41107149725fc7c3af0f3ccdf}{PhyTxEndTrace}));
262   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/DeviceList/*/Phy/RxStart"}, 
      \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a51ce42e0529cf922b9fa1274522f0894}{PhyRxStartTrace}));
263   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/DeviceList/*/Phy/RxEndOk"}, 
      \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_abe11a97645f01a1213944fb2cbabeb1a}{PhyRxEndOkTrace}));
264   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/DeviceList/*/Phy/RxEndError"}, 
      \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a515d5357cc68bf748507f70c86651488}{PhyRxEndErrorTrace}));
265 
266 
267 
268 
269   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.3));
270 
271   Simulator::Run ();
272 
273   Simulator::Destroy ();
274 
275 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1


\index{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}!N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE@{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE}}
\index{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE@{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE}!adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
\subsubsection[{\texorpdfstring{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+N\+E(""Ofdm\+With\+Waveform\+Generator"")}{NS_LOG_COMPONENT_DEFINE("OfdmWithWaveformGenerator")}}]{\setlength{\rightskip}{0pt plus 5cm}N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE (
\begin{DoxyParamCaption}
\item[{\char`\"{}Ofdm\+With\+Waveform\+Generator\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a371e3a58f159f591da5ddb77d6a3cb78}{}\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a371e3a58f159f591da5ddb77d6a3cb78}
\index{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}!Phy\+Rx\+End\+Error\+Trace@{Phy\+Rx\+End\+Error\+Trace}}
\index{Phy\+Rx\+End\+Error\+Trace@{Phy\+Rx\+End\+Error\+Trace}!adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
\subsubsection[{\texorpdfstring{Phy\+Rx\+End\+Error\+Trace(std\+::string context, Ptr$<$ const Packet $>$ p)}{PhyRxEndErrorTrace(std::string context, Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void Phy\+Rx\+End\+Error\+Trace (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a515d5357cc68bf748507f70c86651488}{}\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a515d5357cc68bf748507f70c86651488}

\begin{DoxyCode}
92 \{
93   \textcolor{keywordflow}{if} (\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a817b47f52eeb5f98e32ce7d19a86aa7e}{g\_verbose})
94     \{
95       std::cout << context << \textcolor{stringliteral}{" PHY RX END ERROR p:"} << p << std::endl;
96     \}
97 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}!Phy\+Rx\+End\+Ok\+Trace@{Phy\+Rx\+End\+Ok\+Trace}}
\index{Phy\+Rx\+End\+Ok\+Trace@{Phy\+Rx\+End\+Ok\+Trace}!adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
\subsubsection[{\texorpdfstring{Phy\+Rx\+End\+Ok\+Trace(std\+::string context, Ptr$<$ const Packet $>$ p)}{PhyRxEndOkTrace(std::string context, Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void Phy\+Rx\+End\+Ok\+Trace (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_abe11a97645f01a1213944fb2cbabeb1a}{}\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_abe11a97645f01a1213944fb2cbabeb1a}

\begin{DoxyCode}
83 \{
84   \textcolor{keywordflow}{if} (\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a817b47f52eeb5f98e32ce7d19a86aa7e}{g\_verbose})
85     \{
86       std::cout << context << \textcolor{stringliteral}{" PHY RX END OK p:"} << p << std::endl;
87     \}
88 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 3


\index{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}!Phy\+Rx\+Start\+Trace@{Phy\+Rx\+Start\+Trace}}
\index{Phy\+Rx\+Start\+Trace@{Phy\+Rx\+Start\+Trace}!adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
\subsubsection[{\texorpdfstring{Phy\+Rx\+Start\+Trace(std\+::string context, Ptr$<$ const Packet $>$ p)}{PhyRxStartTrace(std::string context, Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void Phy\+Rx\+Start\+Trace (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a51ce42e0529cf922b9fa1274522f0894}{}\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a51ce42e0529cf922b9fa1274522f0894}

\begin{DoxyCode}
74 \{
75   \textcolor{keywordflow}{if} (\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a817b47f52eeb5f98e32ce7d19a86aa7e}{g\_verbose})
76     \{
77       std::cout << context << \textcolor{stringliteral}{" PHY RX START p:"} << p << std::endl;
78     \}
79 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 4


\index{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}!Phy\+Tx\+End\+Trace@{Phy\+Tx\+End\+Trace}}
\index{Phy\+Tx\+End\+Trace@{Phy\+Tx\+End\+Trace}!adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
\subsubsection[{\texorpdfstring{Phy\+Tx\+End\+Trace(std\+::string context, Ptr$<$ const Packet $>$ p)}{PhyTxEndTrace(std::string context, Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void Phy\+Tx\+End\+Trace (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a1b644fd41107149725fc7c3af0f3ccdf}{}\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a1b644fd41107149725fc7c3af0f3ccdf}

\begin{DoxyCode}
65 \{
66   \textcolor{keywordflow}{if} (\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a817b47f52eeb5f98e32ce7d19a86aa7e}{g\_verbose})
67     \{
68       std::cout << context << \textcolor{stringliteral}{" PHY TX END p: "} << p << std::endl;
69     \}
70 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5


\index{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}!Phy\+Tx\+Start\+Trace@{Phy\+Tx\+Start\+Trace}}
\index{Phy\+Tx\+Start\+Trace@{Phy\+Tx\+Start\+Trace}!adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
\subsubsection[{\texorpdfstring{Phy\+Tx\+Start\+Trace(std\+::string context, Ptr$<$ const Packet $>$ p)}{PhyTxStartTrace(std::string context, Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void Phy\+Tx\+Start\+Trace (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_aef85126bd85f29842c7db47da7ab881a}{}\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_aef85126bd85f29842c7db47da7ab881a}

\begin{DoxyCode}
55 \{
56   \textcolor{keywordflow}{if} (\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a817b47f52eeb5f98e32ce7d19a86aa7e}{g\_verbose})
57     \{
58       std::cout << context << \textcolor{stringliteral}{" PHY TX START p: "} << p << std::endl;
59     \}
60 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}!Receive\+Packet@{Receive\+Packet}}
\index{Receive\+Packet@{Receive\+Packet}!adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
\subsubsection[{\texorpdfstring{Receive\+Packet(\+Ptr$<$ Socket $>$ socket)}{ReceivePacket(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Receive\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a80dc0d980be124d8d5c4ee0b7943bfae}{}\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a80dc0d980be124d8d5c4ee0b7943bfae}

\begin{DoxyCode}
102 \{
103   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} packet;
104   uint64\_t bytes = 0;
105   \textcolor{keywordflow}{while} ((packet = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} ()))
106     \{
107       bytes += packet->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ();
108     \}
109   \textcolor{keywordflow}{if} (\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a817b47f52eeb5f98e32ce7d19a86aa7e}{g\_verbose})
110     \{
111       std::cout << \textcolor{stringliteral}{"SOCKET received "} << bytes << \textcolor{stringliteral}{" bytes"} << std::endl;
112     \}
113 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}!Setup\+Packet\+Receive@{Setup\+Packet\+Receive}}
\index{Setup\+Packet\+Receive@{Setup\+Packet\+Receive}!adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
\subsubsection[{\texorpdfstring{Setup\+Packet\+Receive(\+Ptr$<$ Node $>$ node)}{SetupPacketReceive(Ptr< Node > node)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Socket}$>$ Setup\+Packet\+Receive (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Node} $>$}]{node}
\end{DoxyParamCaption}
)}\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a3858f39b0c1d0e52120fef78a82673cb}{}\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a3858f39b0c1d0e52120fef78a82673cb}

\begin{DoxyCode}
117 \{
118   \hyperlink{classns3_1_1TypeId}{TypeId} tid = TypeId::LookupByName (\textcolor{stringliteral}{"ns3::PacketSocketFactory"});
119   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} sink = Socket::CreateSocket (node, tid);
120   sink->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} ();
121   sink->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a80dc0d980be124d8d5c4ee0b7943bfae}{ReceivePacket}));
122   \textcolor{keywordflow}{return} sink;
123 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10




\subsection{Variable Documentation}
\index{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}!g\+\_\+verbose@{g\+\_\+verbose}}
\index{g\+\_\+verbose@{g\+\_\+verbose}!adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc@{adhoc-\/aloha-\/ideal-\/phy-\/with-\/microwave-\/oven.\+cc}}
\subsubsection[{\texorpdfstring{g\+\_\+verbose}{g_verbose}}]{\setlength{\rightskip}{0pt plus 5cm}bool g\+\_\+verbose = {\bf false}\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a817b47f52eeb5f98e32ce7d19a86aa7e}{}\label{adhoc-aloha-ideal-phy-with-microwave-oven_8cc_a817b47f52eeb5f98e32ce7d19a86aa7e}
