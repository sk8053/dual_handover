\hypertarget{classNs3TcpCwndTestCase2}{}\section{Ns3\+Tcp\+Cwnd\+Test\+Case2 Class Reference}
\label{classNs3TcpCwndTestCase2}\index{Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}}


Inheritance diagram for Ns3\+Tcp\+Cwnd\+Test\+Case2\+:
% FIG 0


Collaboration diagram for Ns3\+Tcp\+Cwnd\+Test\+Case2\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classNs3TcpCwndTestCase2_1_1CwndEvent}{Cwnd\+Event}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classNs3TcpCwndTestCase2_a065b54bbc8921bf0d93b97c40ec525c9}{Ns3\+Tcp\+Cwnd\+Test\+Case2} ()
\item 
virtual \hyperlink{classNs3TcpCwndTestCase2_a0ca39c2ee286a9f75068355c6842649b}{$\sim$\+Ns3\+Tcp\+Cwnd\+Test\+Case2} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classNs3TcpCwndTestCase2_a861689d2e951548eacc10b7f5c24540d}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classNs3TcpCwndTestCase2_af24f479c923a480f751187f05bda69d1}{Verify\+Cwnd\+Run} (uint32\+\_\+t begin\+Idx, uint32\+\_\+t end\+Idx, uint32\+\_\+t initial\+Cwnd, uint32\+\_\+t mss)
\item 
void \hyperlink{classNs3TcpCwndTestCase2_a1e9ae03c6f411d674199824234aefc1a}{Cwnd\+Change} (uint32\+\_\+t old\+Cwnd, uint32\+\_\+t new\+Cwnd)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classNs3TcpCwndTestCase2_a93541c9850b39d47ad1d2ebfd640d722}{m\+\_\+write\+Results}
\item 
\hyperlink{classns3_1_1TestVectors}{Test\+Vectors}$<$ \hyperlink{classNs3TcpCwndTestCase2_1_1CwndEvent}{Cwnd\+Event} $>$ \hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\+\_\+responses}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}!Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}}
\index{Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}!Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Ns3\+Tcp\+Cwnd\+Test\+Case2()}{Ns3TcpCwndTestCase2()}}]{\setlength{\rightskip}{0pt plus 5cm}Ns3\+Tcp\+Cwnd\+Test\+Case2\+::\+Ns3\+Tcp\+Cwnd\+Test\+Case2 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classNs3TcpCwndTestCase2_a065b54bbc8921bf0d93b97c40ec525c9}{}\label{classNs3TcpCwndTestCase2_a065b54bbc8921bf0d93b97c40ec525c9}

\begin{DoxyCode}
412   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Check to see that the ns-3 TCP congestion window works as expected for out-of-order
       packet delivery"}),
413     \hyperlink{classNs3TcpCwndTestCase2_a93541c9850b39d47ad1d2ebfd640d722}{m\_writeResults} (\textcolor{keyword}{false})
414 \{
415 \}
\end{DoxyCode}
\index{Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}!````~Ns3\+Tcp\+Cwnd\+Test\+Case2@{$\sim$\+Ns3\+Tcp\+Cwnd\+Test\+Case2}}
\index{````~Ns3\+Tcp\+Cwnd\+Test\+Case2@{$\sim$\+Ns3\+Tcp\+Cwnd\+Test\+Case2}!Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}}
\subsubsection[{\texorpdfstring{$\sim$\+Ns3\+Tcp\+Cwnd\+Test\+Case2()}{~Ns3TcpCwndTestCase2()}}]{\setlength{\rightskip}{0pt plus 5cm}Ns3\+Tcp\+Cwnd\+Test\+Case2\+::$\sim$\+Ns3\+Tcp\+Cwnd\+Test\+Case2 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classNs3TcpCwndTestCase2_a0ca39c2ee286a9f75068355c6842649b}{}\label{classNs3TcpCwndTestCase2_a0ca39c2ee286a9f75068355c6842649b}

\begin{DoxyCode}
418 \{
419 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}!Cwnd\+Change@{Cwnd\+Change}}
\index{Cwnd\+Change@{Cwnd\+Change}!Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Cwnd\+Change(uint32\+\_\+t old\+Cwnd, uint32\+\_\+t new\+Cwnd)}{CwndChange(uint32_t oldCwnd, uint32_t newCwnd)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns3\+Tcp\+Cwnd\+Test\+Case2\+::\+Cwnd\+Change (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{old\+Cwnd, }
\item[{uint32\+\_\+t}]{new\+Cwnd}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classNs3TcpCwndTestCase2_a1e9ae03c6f411d674199824234aefc1a}{}\label{classNs3TcpCwndTestCase2_a1e9ae03c6f411d674199824234aefc1a}

\begin{DoxyCode}
423 \{
424   CwndEvent event;
425 
426   \textcolor{keyword}{event}.m\_oldCwnd = oldCwnd;
427   \textcolor{keyword}{event}.m\_newCwnd = newCwnd;
428 
429   \hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Add (event);
430   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Cwnd change event "} << \hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.GetN () << \textcolor{stringliteral}{" at "} << 
      \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Now} ().\hyperlink{classns3_1_1Time_a0bb1110638ce9938248bd07865a328ab}{As} (Time::S) << \textcolor{stringliteral}{" "} << oldCwnd << \textcolor{stringliteral}{" "} << newCwnd);
431 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns3\+Tcp\+Cwnd\+Test\+Case2\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classNs3TcpCwndTestCase2_a861689d2e951548eacc10b7f5c24540d}{}\label{classNs3TcpCwndTestCase2_a861689d2e951548eacc10b7f5c24540d}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
435 \{ 
436   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Starting test case 2"});
437   \textcolor{comment}{// Set up some default values for the simulation.}
438   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::Queue::MaxPackets"}, UintegerValue (4));
439 
440   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} n0n1;
441   n0n1.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (2);
442 
443   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{adaptive-red-tests_8cc_a68f69f65725cbe7529e8b594708b8fc0}{n1n2};
444   n1n2.\hyperlink{classns3_1_1NodeContainer_aa60b3a0e70f2fb324e16ffcf8bf31fcb}{Add} (n0n1.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1));
445   n1n2.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
446 
447   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{adaptive-red-tests_8cc_a4bc708159d3ec761080f4639c1c8f409}{n2n3};
448   n2n3.\hyperlink{classns3_1_1NodeContainer_aa60b3a0e70f2fb324e16ffcf8bf31fcb}{Add} (n1n2.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1));
449   n2n3.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
450 
451   \hyperlink{classns3_1_1PointToPointHelper}{PointToPointHelper} p2p1;
452   p2p1.\hyperlink{classns3_1_1PointToPointHelper_a4577f5ab8c387e5528af2e0fbab1152e}{SetDeviceAttribute} (\textcolor{stringliteral}{"DataRate"}, DataRateValue (\hyperlink{classns3_1_1DataRate}{DataRate} (1000000)));
453   p2p1.\hyperlink{classns3_1_1PointToPointHelper_a6b5317fd17fb61e5a53f8d66a90b63b9}{SetChannelAttribute} (\textcolor{stringliteral}{"Delay"}, TimeValue (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (10)));
454   \hyperlink{classns3_1_1PointToPointHelper}{PointToPointHelper} p2p2;
455   p2p2.\hyperlink{classns3_1_1PointToPointHelper_a4577f5ab8c387e5528af2e0fbab1152e}{SetDeviceAttribute} (\textcolor{stringliteral}{"DataRate"}, DataRateValue (\hyperlink{classns3_1_1DataRate}{DataRate} (100000)));
456   p2p2.\hyperlink{classns3_1_1PointToPointHelper_a6b5317fd17fb61e5a53f8d66a90b63b9}{SetChannelAttribute} (\textcolor{stringliteral}{"Delay"}, TimeValue (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (10)));
457 
458   \textcolor{comment}{// And then install devices and channels connecting our topology.}
459   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} dev0 = p2p1.\hyperlink{classns3_1_1PointToPointHelper_ab9162fea3e88722666fed1106df1f9ec}{Install} (n0n1);
460   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} dev1 = p2p2.\hyperlink{classns3_1_1PointToPointHelper_ab9162fea3e88722666fed1106df1f9ec}{Install} (n1n2);
461   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} dev2 = p2p1.\hyperlink{classns3_1_1PointToPointHelper_ab9162fea3e88722666fed1106df1f9ec}{Install} (n2n3);
462 
463   \textcolor{comment}{// Now add ip/tcp stack to all nodes.}
464   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
465   internet.\hyperlink{classns3_1_1InternetStackHelper_a6cfa73782fd4071c4cfbd73ebf1bbb44}{InstallAll} ();
466 
467   \textcolor{comment}{// Later, we add IP addresses.}
468   \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} ipv4;
469   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.3.0"}, \textcolor{stringliteral}{"255.255.255.0"});
470   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (dev0);
471   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.2.0"}, \textcolor{stringliteral}{"255.255.255.0"});
472   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (dev1);
473   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.1.0"}, \textcolor{stringliteral}{"255.255.255.0"});
474   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} ipInterfs = ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (dev2);
475 
476   \textcolor{comment}{// and setup ip routing tables to get total ip-level connectivity.}
477   Ipv4GlobalRoutingHelper::PopulateRoutingTables ();
478 
479   \textcolor{comment}{// Disable traffic control layer so that drops occur}
480   \hyperlink{classns3_1_1TrafficControlHelper}{TrafficControlHelper} tch;
481   tch.\hyperlink{classns3_1_1TrafficControlHelper_a84a2d6a074daccf9373e17b876420aae}{Uninstall} (dev0);
482   tch.\hyperlink{classns3_1_1TrafficControlHelper_a84a2d6a074daccf9373e17b876420aae}{Uninstall} (dev1);
483   tch.\hyperlink{classns3_1_1TrafficControlHelper_a84a2d6a074daccf9373e17b876420aae}{Uninstall} (dev2);
484 
485   \textcolor{comment}{// Set up the apps}
486   uint16\_t servPort = 50000;
487 
488   \textcolor{comment}{// Create a packet sink to receive these packets on n3}
489   \hyperlink{classns3_1_1PacketSinkHelper}{PacketSinkHelper} sink (\textcolor{stringliteral}{"ns3::TcpSocketFactory"},
490                          \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (Ipv4Address::GetAny (), servPort));
491 
492   \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} apps = sink.Install (n2n3.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1));
493   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0));
494   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (5.4));
495 
496   \textcolor{comment}{// Create the socket for n0}
497   \hyperlink{classns3_1_1Address}{Address} sinkAddress (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (ipInterfs.
      \hyperlink{classns3_1_1Ipv4InterfaceContainer_ae63208dcd222be986822937ee4aa828c}{GetAddress} (1), servPort));
498   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} ns3TcpSocket = Socket::CreateSocket (n0n1.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0), TcpSocketFactory::GetTypeId 
      ());
499   \textcolor{comment}{// Disable SACK because this test is testing NewReno behavior}
500   ns3TcpSocket->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Sack"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
501   ns3TcpSocket->\hyperlink{classns3_1_1ObjectBase_a1be45f6fd561e75dcac9dfa81b2b81e4}{TraceConnectWithoutContext} (\textcolor{stringliteral}{"CongestionWindow"}, 
      \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{classNs3TcpCwndTestCase2_a1e9ae03c6f411d674199824234aefc1a}{Ns3TcpCwndTestCase2::CwndChange}, \textcolor{keyword}{this}));
502 
503   \textcolor{comment}{// Create and start the app for n0}
504   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleSource>} app = CreateObject<SimpleSource> ();
505   app->\hyperlink{classSimpleSource_aa6ca35f5717073eccd278f9afa3d41d5}{Setup} (ns3TcpSocket, sinkAddress, 1040, 1000, \hyperlink{classns3_1_1DataRate}{DataRate} (\textcolor{stringliteral}{"1Mbps"}));
506   n0n1.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)->\hyperlink{classns3_1_1Node_ab98b4fdc4aadc86366b80e8a79a53f47}{AddApplication} (app);
507   app->\hyperlink{classns3_1_1Application_a8360a49748e30c52ffdcc7a305c3cd48}{SetStartTime} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0));
508   app->\hyperlink{classns3_1_1Application_a732c1fdadf0be176c753a2ce6e27dff9}{SetStopTime} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (4.1));
509 
510   \textcolor{keywordflow}{if} (\hyperlink{classNs3TcpCwndTestCase2_a93541c9850b39d47ad1d2ebfd640d722}{m\_writeResults})
511     \{
512       \textcolor{comment}{// Write a pcap for tcp cwnd testcase with out-of-order delivery}
513       \hyperlink{classns3_1_1PointToPointHelper}{PointToPointHelper} pointToPoint;
514       pointToPoint.\hyperlink{classns3_1_1PcapHelperForDevice_a4ab183a2512120200d4a0e5d8ececd49}{EnablePcapAll} (\textcolor{stringliteral}{"tcp-cwnd-ood"});
515     \}
516 
517   \textcolor{comment}{// Finally, set up the simulator to run.}
518   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (4.1));
519   Simulator::Run ();
520   Simulator::Destroy ();
521 
522   \textcolor{comment}{//}
523   \textcolor{comment}{// As new acks are received by the TCP under test, the congestion window }
524   \textcolor{comment}{// should be opened up by one segment (MSS bytes) each time.  This should}
525   \textcolor{comment}{// trigger a congestion window change event which we hooked and saved above.}
526   \textcolor{comment}{// We should now be able to look through the saved response vectors and follow}
527   \textcolor{comment}{// the congestion window as it opens up when the ns-3 TCP under test }
528   \textcolor{comment}{// transmits its bits}
529   \textcolor{comment}{//}
530   \textcolor{comment}{// From inspecting the results, we know that we should see N\_EVENTS congestion}
531   \textcolor{comment}{// window change events. On the tenth change event, the window should }
532   \textcolor{comment}{// be cut from 5360 to 4288 due to 3 dup acks (NewReno behavior is to}
533   \textcolor{comment}{// cut in half, and then add 3 segments (5360/2 + 3*536 = 4288)}
534   \textcolor{comment}{//}
535   
536   \textcolor{keyword}{const} uint32\_t MSS = 536;
537   \textcolor{keyword}{const} uint32\_t N\_EVENTS = 40;
538 
539   CwndEvent event;
540 
541   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Number of response events: "} << \hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.GetN ());
542   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.GetN (), N\_EVENTS, \textcolor{stringliteral}{"Unexpected number
       of cwnd change events"});
543 
544   \textcolor{comment}{// Ignore the first event logged (i=0) when m\_cWnd goes from 0 to MSS bytes}
545   \hyperlink{classNs3TcpCwndTestCase2_af24f479c923a480f751187f05bda69d1}{VerifyCwndRun} (1, 10, 2 * MSS, MSS);
546   
547   \textcolor{comment}{// At the point of loss, sndNxt = 15545; sndUna = 9113.  FlightSize is 4824, }
548   \textcolor{comment}{// so there are 9 segments outstanding.  Cut ssthresh to 9/2 (2412) and }
549   \textcolor{comment}{// cwnd to (9/2 + 3) = 4020}
550   \textcolor{keyword}{event} = \hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Get (10);
551   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (event.m\_newCwnd, (MSS * 15)/2, \textcolor{stringliteral}{"Wrong new cwnd value in cwnd
       change event "} << 10);
552 
553   \textcolor{comment}{// Verify that cwnd increments by one for a few segments}
554   \textcolor{comment}{// from 8.5 at index 11 to 12.5 at index 15}
555   \hyperlink{classNs3TcpCwndTestCase2_af24f479c923a480f751187f05bda69d1}{VerifyCwndRun} (11, 15, (MSS * 17)/2, MSS);
556 
557   \textcolor{comment}{// partial ack at event 16, cwnd reset from 6700 (12.5*MSS) to 5092 (9.5*MSS)}
558   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Get (16).m\_newCwnd, (MSS * 19)/2, \textcolor{stringliteral}{"
      Wrong new cwnd value in cwnd change event "} << 16);
559 
560   \textcolor{comment}{// partial ack again of 3 segments after one more acks, cwnd reset to 7.5 }
561   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Get (18).m\_newCwnd, (MSS * 15)/2, \textcolor{stringliteral}{"
      Wrong new cwnd value in cwnd change event "} << 18);
562 
563   \textcolor{comment}{//DUP ACKS in remaining fast recovery}
564   \hyperlink{classNs3TcpCwndTestCase2_af24f479c923a480f751187f05bda69d1}{VerifyCwndRun} (18, 20, (MSS * 15)/2, MSS);
565 
566   \textcolor{comment}{// Process another partial ack}
567   \hyperlink{classNs3TcpCwndTestCase2_af24f479c923a480f751187f05bda69d1}{VerifyCwndRun} (21, 24, (MSS * 13)/2, MSS);
568  
569   \textcolor{comment}{//Leaving fast recovery at event 25; set cwnd to 3 segments}
570   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Get (25).m\_newCwnd,  (MSS * 3), \textcolor{stringliteral}{"Wrong
       new cwnd value in cwnd change event "} << 25);  
571   
572   \textcolor{comment}{// Until ssthresh, each event will increase cwnd by MSS}
573   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Get (26).m\_newCwnd, (4 * MSS), \textcolor{stringliteral}{"Wrong
       new cwnd value in cwnd change event "} << 26); 
574   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Get (27).m\_newCwnd, (5 * MSS), \textcolor{stringliteral}{"Wrong
       new cwnd value in cwnd change event "} << 27); 
575   \textcolor{comment}{//In CongAvoid each event will increase cwnd by (MSS * MSS / cwnd)}
576   uint32\_t cwnd = 5 * MSS;
577   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 28; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < N\_EVENTS; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
578     \{
579       \textcolor{keywordtype}{double} adder = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>} (MSS * MSS) / cwnd;
580       adder = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (1.0, adder);
581       cwnd += \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>} (adder);    
582       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Get (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_newCwnd, cwnd, \textcolor{stringliteral}{"Wrong
       new cwnd value in cwnd change event "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}); 
583     \}
584   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Reading out the cwnd event log"});  
585   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < N\_EVENTS; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
586   \{
587     \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"i: "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" newCwnd: "} << \hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Get(
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_newCwnd << \textcolor{stringliteral}{" newCwnd segments "} << \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>} (\hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Get(
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_newCwnd)/MSS);
588   \}
589 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}!Verify\+Cwnd\+Run@{Verify\+Cwnd\+Run}}
\index{Verify\+Cwnd\+Run@{Verify\+Cwnd\+Run}!Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}}
\subsubsection[{\texorpdfstring{Verify\+Cwnd\+Run(uint32\+\_\+t begin\+Idx, uint32\+\_\+t end\+Idx, uint32\+\_\+t initial\+Cwnd, uint32\+\_\+t mss)}{VerifyCwndRun(uint32_t beginIdx, uint32_t endIdx, uint32_t initialCwnd, uint32_t mss)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns3\+Tcp\+Cwnd\+Test\+Case2\+::\+Verify\+Cwnd\+Run (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{begin\+Idx, }
\item[{uint32\+\_\+t}]{end\+Idx, }
\item[{uint32\+\_\+t}]{initial\+Cwnd, }
\item[{uint32\+\_\+t}]{mss}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classNs3TcpCwndTestCase2_af24f479c923a480f751187f05bda69d1}{}\label{classNs3TcpCwndTestCase2_af24f479c923a480f751187f05bda69d1}

\begin{DoxyCode}
593 \{
594 
595   CwndEvent event;
596   
597   \textcolor{keywordflow}{for}(uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = beginIdx, to = initialCwnd; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < endIdx; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}, to += mss)
598     \{
599       \textcolor{keyword}{event} = \hyperlink{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{m\_responses}.Get (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
600       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (event.m\_newCwnd, to, \textcolor{stringliteral}{"Wrong new cwnd value in cwnd change
       event "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});      
601     \}
602 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5




\subsection{Member Data Documentation}
\index{Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}!m\+\_\+responses@{m\+\_\+responses}}
\index{m\+\_\+responses@{m\+\_\+responses}!Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+responses}{m_responses}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Test\+Vectors}$<${\bf Cwnd\+Event}$>$ Ns3\+Tcp\+Cwnd\+Test\+Case2\+::m\+\_\+responses\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}{}\label{classNs3TcpCwndTestCase2_ab2e45e18596ca237cd979daccdcf65b2}
\index{Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}!m\+\_\+write\+Results@{m\+\_\+write\+Results}}
\index{m\+\_\+write\+Results@{m\+\_\+write\+Results}!Ns3\+Tcp\+Cwnd\+Test\+Case2@{Ns3\+Tcp\+Cwnd\+Test\+Case2}}
\subsubsection[{\texorpdfstring{m\+\_\+write\+Results}{m_writeResults}}]{\setlength{\rightskip}{0pt plus 5cm}bool Ns3\+Tcp\+Cwnd\+Test\+Case2\+::m\+\_\+write\+Results\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classNs3TcpCwndTestCase2_a93541c9850b39d47ad1d2ebfd640d722}{}\label{classNs3TcpCwndTestCase2_a93541c9850b39d47ad1d2ebfd640d722}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
test/ns3tcp/\hyperlink{ns3tcp-cwnd-test-suite_8cc}{ns3tcp-\/cwnd-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
