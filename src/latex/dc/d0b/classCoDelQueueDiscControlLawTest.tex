\hypertarget{classCoDelQueueDiscControlLawTest}{}\section{Co\+Del\+Queue\+Disc\+Control\+Law\+Test Class Reference}
\label{classCoDelQueueDiscControlLawTest}\index{Co\+Del\+Queue\+Disc\+Control\+Law\+Test@{Co\+Del\+Queue\+Disc\+Control\+Law\+Test}}


Test 4\+: Control\+Law unit test -\/ test against explicit port of Linux implementation.  




Inheritance diagram for Co\+Del\+Queue\+Disc\+Control\+Law\+Test\+:
% FIG 0


Collaboration diagram for Co\+Del\+Queue\+Disc\+Control\+Law\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCoDelQueueDiscControlLawTest_a98f3d5e4d80586dfef0f26c956a267cd}{Co\+Del\+Queue\+Disc\+Control\+Law\+Test} ()
\item 
virtual void \hyperlink{classCoDelQueueDiscControlLawTest_a9c38e39f5749875e5a0898aedbd4f2b3}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classCoDelQueueDiscControlLawTest_aa22c6432dec88a53567674c55c29f216}{\+\_\+codel\+\_\+control\+\_\+law} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1CoDelQueueDisc}{Co\+Del\+Queue\+Disc} $>$ queue, uint32\+\_\+t t)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Test 4\+: Control\+Law unit test -\/ test against explicit port of Linux implementation. 

\subsection{Constructor \& Destructor Documentation}
\index{Co\+Del\+Queue\+Disc\+Control\+Law\+Test@{Co\+Del\+Queue\+Disc\+Control\+Law\+Test}!Co\+Del\+Queue\+Disc\+Control\+Law\+Test@{Co\+Del\+Queue\+Disc\+Control\+Law\+Test}}
\index{Co\+Del\+Queue\+Disc\+Control\+Law\+Test@{Co\+Del\+Queue\+Disc\+Control\+Law\+Test}!Co\+Del\+Queue\+Disc\+Control\+Law\+Test@{Co\+Del\+Queue\+Disc\+Control\+Law\+Test}}
\subsubsection[{\texorpdfstring{Co\+Del\+Queue\+Disc\+Control\+Law\+Test()}{CoDelQueueDiscControlLawTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Co\+Del\+Queue\+Disc\+Control\+Law\+Test\+::\+Co\+Del\+Queue\+Disc\+Control\+Law\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classCoDelQueueDiscControlLawTest_a98f3d5e4d80586dfef0f26c956a267cd}{}\label{classCoDelQueueDiscControlLawTest_a98f3d5e4d80586dfef0f26c956a267cd}

\begin{DoxyCode}
427   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"ControlLaw arithmetic unit test"})
428 \{
429 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Co\+Del\+Queue\+Disc\+Control\+Law\+Test@{Co\+Del\+Queue\+Disc\+Control\+Law\+Test}!\+\_\+codel\+\_\+control\+\_\+law@{\+\_\+codel\+\_\+control\+\_\+law}}
\index{\+\_\+codel\+\_\+control\+\_\+law@{\+\_\+codel\+\_\+control\+\_\+law}!Co\+Del\+Queue\+Disc\+Control\+Law\+Test@{Co\+Del\+Queue\+Disc\+Control\+Law\+Test}}
\subsubsection[{\texorpdfstring{\+\_\+codel\+\_\+control\+\_\+law(\+Ptr$<$ Co\+Del\+Queue\+Disc $>$ queue, uint32\+\_\+t t)}{_codel_control_law(Ptr< CoDelQueueDisc > queue, uint32_t t)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Co\+Del\+Queue\+Disc\+Control\+Law\+Test\+::\+\_\+codel\+\_\+control\+\_\+law (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Co\+Del\+Queue\+Disc} $>$}]{queue, }
\item[{uint32\+\_\+t}]{t}
\end{DoxyParamCaption}
)}\hypertarget{classCoDelQueueDiscControlLawTest_aa22c6432dec88a53567674c55c29f216}{}\label{classCoDelQueueDiscControlLawTest_aa22c6432dec88a53567674c55c29f216}
Codel control law function 
\begin{DoxyParams}{Parameters}
{\em queue} & the queue disc \\
\hline
{\em t} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the codel control law 
\end{DoxyReturn}

\begin{DoxyCode}
435 \{
436   \textcolor{keywordflow}{return} t + \hyperlink{codel-queue-disc-test-suite_8cc_ab016a47fbb0ada145810883fd09bd138}{\_reciprocal\_scale} (queue->\hyperlink{classns3_1_1CoDelQueueDisc_aba2aa3ab9d1adecc1b60023512656972}{Time2CoDel} (queue->
      \hyperlink{classns3_1_1CoDelQueueDisc_af347ae81576ce27b3f06d015f9422ec1}{m\_interval}), queue->\hyperlink{classns3_1_1CoDelQueueDisc_a348cfedf39aedbc10137a50c991df6fa}{m\_recInvSqrt} << \hyperlink{codel-queue-disc-test-suite_8cc_a1760008e31152c2cec84f74585b5a509}{REC\_INV\_SQRT\_SHIFT\_ns3});
437 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{Co\+Del\+Queue\+Disc\+Control\+Law\+Test@{Co\+Del\+Queue\+Disc\+Control\+Law\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Co\+Del\+Queue\+Disc\+Control\+Law\+Test@{Co\+Del\+Queue\+Disc\+Control\+Law\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Co\+Del\+Queue\+Disc\+Control\+Law\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classCoDelQueueDiscControlLawTest_a9c38e39f5749875e5a0898aedbd4f2b3}{}\label{classCoDelQueueDiscControlLawTest_a9c38e39f5749875e5a0898aedbd4f2b3}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
442 \{
443   \hyperlink{classns3_1_1Ptr}{Ptr<CoDelQueueDisc>} queue = CreateObject<CoDelQueueDisc> ();
444 
445   \textcolor{comment}{/* Spot check a few points of m\_dropNext}
446 \textcolor{comment}{   The integer approximations in Linux should be within}
447 \textcolor{comment}{   2% of the true floating point value obtained in ns-3}
448 \textcolor{comment}{   */}
449   uint32\_t dropNextTestVals [4] = \{292299, 341128, 9804717, 55885007\};
450 
451   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 4; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
452     \{
453       uint32\_t ns3Result = queue->\hyperlink{classns3_1_1CoDelQueueDisc_adff5ff4ecef4f9bbe51cde7ab0642af3}{ControlLaw} (dropNextTestVals[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}]);
454       uint32\_t upperBound = ns3Result + 0.02 * ns3Result;
455       uint32\_t lowerBound = ns3Result - 0.02 * ns3Result;
456       uint32\_t linuxResult = \hyperlink{classCoDelQueueDiscControlLawTest_aa22c6432dec88a53567674c55c29f216}{\_codel\_control\_law} (queue, dropNextTestVals[i]);
457       \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((lowerBound < linuxResult || linuxResult < upperBound), \textcolor{keyword}{
      true},
458                              \textcolor{stringliteral}{"Linux result should stay within 2% of ns-3 result"});
459     \}
460 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
traffic-\/control/test/\hyperlink{codel-queue-disc-test-suite_8cc}{codel-\/queue-\/disc-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
