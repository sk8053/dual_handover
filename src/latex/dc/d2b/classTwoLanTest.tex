\hypertarget{classTwoLanTest}{}\section{Two\+Lan\+Test Class Reference}
\label{classTwoLanTest}\index{Two\+Lan\+Test@{Two\+Lan\+Test}}


I\+Pv4 Global\+Routing Two L\+AN test.  




Inheritance diagram for Two\+Lan\+Test\+:
% FIG 0


Collaboration diagram for Two\+Lan\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classTwoLanTest_acfc905a31b5767f6d74747593127dfe4}{Do\+Setup} (void)
\begin{DoxyCompactList}\small\item\em Implementation to do any local setup required for this Test\+Case. \end{DoxyCompactList}\item 
virtual void \hyperlink{classTwoLanTest_a1bca3b0b7ce5e1592dffe64835b602b2}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
\hyperlink{classTwoLanTest_a1f9318a3615c094af89567ea4b1714b7}{Two\+Lan\+Test} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1NodeContainer}{Node\+Container} \hyperlink{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{m\+\_\+nodes}
\begin{DoxyCompactList}\small\item\em Nodes used in the test. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
I\+Pv4 Global\+Routing Two L\+AN test. 

\subsection{Constructor \& Destructor Documentation}
\index{Two\+Lan\+Test@{Two\+Lan\+Test}!Two\+Lan\+Test@{Two\+Lan\+Test}}
\index{Two\+Lan\+Test@{Two\+Lan\+Test}!Two\+Lan\+Test@{Two\+Lan\+Test}}
\subsubsection[{\texorpdfstring{Two\+Lan\+Test()}{TwoLanTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Two\+Lan\+Test\+::\+Two\+Lan\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classTwoLanTest_a1f9318a3615c094af89567ea4b1714b7}{}\label{classTwoLanTest_a1f9318a3615c094af89567ea4b1714b7}

\begin{DoxyCode}
421   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Global routing across two hops (broadcast links)"})
422 \{
423 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Two\+Lan\+Test@{Two\+Lan\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Two\+Lan\+Test@{Two\+Lan\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Two\+Lan\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classTwoLanTest_a1bca3b0b7ce5e1592dffe64835b602b2}{}\label{classTwoLanTest_a1bca3b0b7ce5e1592dffe64835b602b2}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
456 \{
457   Ipv4GlobalRoutingHelper::PopulateRoutingTables ();
458 
459   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4L3Protocol>} ip0 = \hyperlink{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4L3Protocol}{Ipv4L3Protocol}> ();
460   \hyperlink{group__testing_ga73d66fb0050a5111453fd144e767b91a}{NS\_TEST\_ASSERT\_MSG\_NE} (ip0, 0, \textcolor{stringliteral}{"Error-- no Ipv4 object"});  
461   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4L3Protocol>} ip1 = \hyperlink{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1)->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4L3Protocol}{Ipv4L3Protocol}> ();
462   \hyperlink{group__testing_ga73d66fb0050a5111453fd144e767b91a}{NS\_TEST\_ASSERT\_MSG\_NE} (ip1, 0, \textcolor{stringliteral}{"Error-- no Ipv4 object"});  
463   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4L3Protocol>} ip2 = \hyperlink{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (2)->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4L3Protocol}{Ipv4L3Protocol}> ();
464   \hyperlink{group__testing_ga73d66fb0050a5111453fd144e767b91a}{NS\_TEST\_ASSERT\_MSG\_NE} (ip2, 0, \textcolor{stringliteral}{"Error-- no Ipv4 object"});  
465   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4RoutingProtocol>} routing0 = ip0->
      \hyperlink{classns3_1_1Ipv4L3Protocol_aa1e4efbf4978299e47406895c3f4b41d}{GetRoutingProtocol} ();
466   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4GlobalRouting>} globalRouting0 = routing0->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject} <\hyperlink{classns3_1_1Ipv4GlobalRouting}{Ipv4GlobalRouting}> ();
467   \hyperlink{group__testing_ga73d66fb0050a5111453fd144e767b91a}{NS\_TEST\_ASSERT\_MSG\_NE} (globalRouting0, 0, \textcolor{stringliteral}{"Error-- no Ipv4GlobalRouting object"});  
468   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4RoutingProtocol>} routing1 = ip1->
      \hyperlink{classns3_1_1Ipv4L3Protocol_aa1e4efbf4978299e47406895c3f4b41d}{GetRoutingProtocol} ();
469   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4GlobalRouting>} globalRouting1 = routing1->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject} <\hyperlink{classns3_1_1Ipv4GlobalRouting}{Ipv4GlobalRouting}> ();
470   \hyperlink{group__testing_ga73d66fb0050a5111453fd144e767b91a}{NS\_TEST\_ASSERT\_MSG\_NE} (globalRouting1, 0, \textcolor{stringliteral}{"Error-- no Ipv4GlobalRouting object"});  
471   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4RoutingProtocol>} routing2 = ip2->
      \hyperlink{classns3_1_1Ipv4L3Protocol_aa1e4efbf4978299e47406895c3f4b41d}{GetRoutingProtocol} ();
472   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4GlobalRouting>} globalRouting2 = routing2->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject} <\hyperlink{classns3_1_1Ipv4GlobalRouting}{Ipv4GlobalRouting}> ();
473   \hyperlink{group__testing_ga73d66fb0050a5111453fd144e767b91a}{NS\_TEST\_ASSERT\_MSG\_NE} (globalRouting2, 0, \textcolor{stringliteral}{"Error-- no Ipv4GlobalRouting object"});  
474 
475   \textcolor{comment}{// Test that the right number of routes found}
476   uint32\_t nRoutes0 = globalRouting0->\hyperlink{classns3_1_1Ipv4GlobalRouting_abb9d2b3642272b9bd2697a5699922fa7}{GetNRoutes} ();
477   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"TwoLanTest nRoutes0 "} << nRoutes0);
478   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (nRoutes0, 2, \textcolor{stringliteral}{"Error-- not two entries"});
479   \hyperlink{classns3_1_1Ipv4RoutingTableEntry}{Ipv4RoutingTableEntry}* route = globalRouting0->\hyperlink{classns3_1_1Ipv4GlobalRouting_accd518b9888908dbea189c1d1c73dcf1}{GetRoute} (0);
480   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"entry dest "} << route->\hyperlink{classns3_1_1Ipv4RoutingTableEntry_adcd2084c5f0261c43c059c2b981e91fa}{GetDest} () << \textcolor{stringliteral}{" gw "} << route->
      \hyperlink{classns3_1_1Ipv4RoutingTableEntry_a49dda51e0ba3c78bc969a9378bd15893}{GetGateway} ());
481   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (route->\hyperlink{classns3_1_1Ipv4RoutingTableEntry_adcd2084c5f0261c43c059c2b981e91fa}{GetDest} (), 
      \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.1.1.0"}), \textcolor{stringliteral}{"Error-- wrong destination"});
482   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (route->\hyperlink{classns3_1_1Ipv4RoutingTableEntry_a49dda51e0ba3c78bc969a9378bd15893}{GetGateway} (), 
      \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"0.0.0.0"}), \textcolor{stringliteral}{"Error-- wrong gateway"});
483   route = globalRouting0->\hyperlink{classns3_1_1Ipv4GlobalRouting_accd518b9888908dbea189c1d1c73dcf1}{GetRoute} (1);
484   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"entry dest "} << route->GetDest () << \textcolor{stringliteral}{" gw "} << route->GetGateway ());
485   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (route->GetDest (), \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.1.2.0"}), \textcolor{stringliteral}{"
      Error-- wrong destination"});
486   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (route->GetGateway (), \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.1.1.2"}), \textcolor{stringliteral}{"
      Error-- wrong gateway"});
487 
488   \textcolor{comment}{// Test that the right number of routes found}
489   uint32\_t nRoutes1 = globalRouting1->\hyperlink{classns3_1_1Ipv4GlobalRouting_abb9d2b3642272b9bd2697a5699922fa7}{GetNRoutes} ();
490   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"TwoLanTest nRoutes1 "} << nRoutes1);
491   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (nRoutes1, 2, \textcolor{stringliteral}{"Error-- not two entries"});
492   route = globalRouting1->\hyperlink{classns3_1_1Ipv4GlobalRouting_accd518b9888908dbea189c1d1c73dcf1}{GetRoute} (0);
493   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"TwoLanTest entry dest "} << route->GetDest () << \textcolor{stringliteral}{" gw "} << route->GetGateway ()
      );
494   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (route->GetDest (), \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.1.1.0"}), \textcolor{stringliteral}{"
      Error-- wrong destination"});
495   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (route->GetGateway (), \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"0.0.0.0"}), \textcolor{stringliteral}{"
      Error-- wrong gateway"});
496   route = globalRouting1->\hyperlink{classns3_1_1Ipv4GlobalRouting_accd518b9888908dbea189c1d1c73dcf1}{GetRoute} (1);
497   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"TwoLanTest entry dest "} << route->GetDest () << \textcolor{stringliteral}{" gw "} << route->GetGateway ()
      );
498   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (route->GetDest (), \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.1.2.0"}), \textcolor{stringliteral}{"
      Error-- wrong destination"});
499   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (route->GetGateway (), \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"0.0.0.0"}), \textcolor{stringliteral}{"
      Error-- wrong gateway"});
500 
501   Simulator::Destroy ();
502 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Two\+Lan\+Test@{Two\+Lan\+Test}!Do\+Setup@{Do\+Setup}}
\index{Do\+Setup@{Do\+Setup}!Two\+Lan\+Test@{Two\+Lan\+Test}}
\subsubsection[{\texorpdfstring{Do\+Setup(void)}{DoSetup(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Two\+Lan\+Test\+::\+Do\+Setup (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classTwoLanTest_acfc905a31b5767f6d74747593127dfe4}{}\label{classTwoLanTest_acfc905a31b5767f6d74747593127dfe4}


Implementation to do any local setup required for this Test\+Case. 

Subclasses should override this method to perform any costly per-\/test setup before Do\+Run is invoked. 

Reimplemented from \hyperlink{classns3_1_1TestCase_a4a7e32ad32a10a508910815cd38e9177}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
427 \{
428   \hyperlink{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (3);
429 
430   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleChannel>} channel = CreateObject <SimpleChannel> ();
431   \hyperlink{classns3_1_1SimpleNetDeviceHelper}{SimpleNetDeviceHelper} simpleHelper;
432   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} net = simpleHelper.Install (\hyperlink{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{m\_nodes}.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0), channel);
433   net.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (simpleHelper.Install (\hyperlink{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1), channel));
434 
435   \hyperlink{classns3_1_1Ptr}{Ptr<SimpleChannel>} channel2 = CreateObject <SimpleChannel> ();
436   \hyperlink{classns3_1_1SimpleNetDeviceHelper}{SimpleNetDeviceHelper} simpleHelper2;
437   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} net2 = simpleHelper.Install (\hyperlink{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{m\_nodes}.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1), channel2);
438   net2.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (simpleHelper2.Install (\hyperlink{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{m\_nodes}.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (2), channel2));
439 
440   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
441   \textcolor{comment}{// By default, InternetStackHelper adds a static and global routing}
442   \textcolor{comment}{// implementation.  We just want the global for this test.}
443   \hyperlink{classns3_1_1Ipv4GlobalRoutingHelper}{Ipv4GlobalRoutingHelper} ipv4RoutingHelper;
444   internet.\hyperlink{classns3_1_1InternetStackHelper_a3e382c02df022dec79952a7eca8cd5ba}{SetRoutingHelper} (ipv4RoutingHelper);
445   internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (\hyperlink{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{m\_nodes});
446 
447   \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} ipv4;
448   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.1.0"}, \textcolor{stringliteral}{"255.255.255.0"});
449   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (net);
450   ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.2.0"}, \textcolor{stringliteral}{"255.255.255.0"});
451   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} \hyperlink{generate__test__data__lte__sinr_8m_a2fce890a7c411f1fe7c0c55ec9eb4106}{i2} = ipv4.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (net2);
452 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




\subsection{Member Data Documentation}
\index{Two\+Lan\+Test@{Two\+Lan\+Test}!m\+\_\+nodes@{m\+\_\+nodes}}
\index{m\+\_\+nodes@{m\+\_\+nodes}!Two\+Lan\+Test@{Two\+Lan\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+nodes}{m_nodes}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Node\+Container} Two\+Lan\+Test\+::m\+\_\+nodes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}{}\label{classTwoLanTest_a6f71e9cc2b2a77a02f031abe9467b74c}


Nodes used in the test. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{ipv4-global-routing-test-suite_8cc}{ipv4-\/global-\/routing-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
