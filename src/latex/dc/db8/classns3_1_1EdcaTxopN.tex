\hypertarget{classns3_1_1EdcaTxopN}{}\section{ns3\+:\+:Edca\+TxopN Class Reference}
\label{classns3_1_1EdcaTxopN}\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}


{\ttfamily \#include $<$edca-\/txop-\/n.\+h$>$}



Inheritance diagram for ns3\+:\+:Edca\+TxopN\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Edca\+TxopN\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1EdcaTxopN_a82d5148017f018117867977e682940ae}{Edca\+TxopN} ()
\item 
virtual \hyperlink{classns3_1_1EdcaTxopN_a6a09b7ccaaf7ac82cc3a4527d71700cf}{$\sim$\+Edca\+TxopN} ()
\item 
bool \hyperlink{classns3_1_1EdcaTxopN_a24cf3adc4d818065d4571ca4162c65d6}{Is\+Edca} ()
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a970b9c67fab2744466283724064cc6fa}{Set\+Wifi\+Remote\+Station\+Manager} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} $>$ remote\+Manager)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a44f5b0b6cbe32e15b5c983a8ab8c06b4}{Set\+Type\+Of\+Station} (\hyperlink{namespacens3_a21fd18ff410cecc971a0c27634830445}{Type\+Of\+Station} \hyperlink{visualizer-ideas_8txt_add98db9e15e2a58cf2b57623e7aa893a}{type})
\item 
\hyperlink{namespacens3_a21fd18ff410cecc971a0c27634830445}{Type\+Of\+Station} \hyperlink{classns3_1_1EdcaTxopN_a6a0659df3e1baa6c39b403009eb234b2}{Get\+Type\+Of\+Station} (void) const 
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MsduAggregator}{Msdu\+Aggregator} $>$ \hyperlink{classns3_1_1EdcaTxopN_a77aeb47db8b8c53351cfb3b5bc2fc771}{Get\+Msdu\+Aggregator} (void) const 
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MpduAggregator}{Mpdu\+Aggregator} $>$ \hyperlink{classns3_1_1EdcaTxopN_aa8beff92afb46fd336cdf35cb0f451c9}{Get\+Mpdu\+Aggregator} (void) const 
\item 
bool \hyperlink{classns3_1_1EdcaTxopN_abf17485d78cd742b9319cb31f658cbd2}{Get\+Ba\+Agreement\+Exists} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} address, uint8\+\_\+t tid) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_ac6c32c54e56d0422e23526b30c9287ff}{Get\+N\+Outstanding\+Packets\+In\+Ba} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} address, uint8\+\_\+t tid) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_a76552b251742d17a29440dbef5c07f64}{Get\+N\+Retry\+Needed\+Packets} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} recipient, uint8\+\_\+t tid) const 
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a98274aa9d1577b6f74b8a47149326eff}{Complete\+Ampdu\+Transfer} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} recipient, uint8\+\_\+t tid)
\item 
bool \hyperlink{classns3_1_1EdcaTxopN_a251053902891cd35ff8c98cf145078f9}{Needs\+Access} (void) const 
\item 
void \hyperlink{classns3_1_1EdcaTxopN_afeba080a6bf7d6074227e10321d1683d}{Notify\+Access\+Granted} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a900ab43f62b74939c62121562d1969e2}{Notify\+Internal\+Collision} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_aa9dd10b3b7236f93d7461b174888e2a8}{Notify\+Collision} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_ab6f7016d503472174ce9fef2fd45de8e}{Missed\+Cts} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_acd117ddd03aa1b3abac3bca9830ee895}{Got\+Ack} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a36c24d5a9717893466eaadda6bd66cc5}{Got\+Block\+Ack} (const \hyperlink{classns3_1_1CtrlBAckResponseHeader}{Ctrl\+B\+Ack\+Response\+Header} $\ast$block\+Ack, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} recipient, double rx\+Snr, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} tx\+Mode, double data\+Snr)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a91aae2c1ab764e8e4cb857ef97fa235b}{Missed\+Block\+Ack} (uint8\+\_\+t n\+Mpdus)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_ac3089ca4272d45b23293a7481e0922e0}{Got\+Add\+Ba\+Response} (const \hyperlink{classns3_1_1MgtAddBaResponseHeader}{Mgt\+Add\+Ba\+Response\+Header} $\ast$resp\+Hdr, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} recipient)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_af597de5434ff4a0a7cb18722ae945408}{Got\+Del\+Ba\+Frame} (const \hyperlink{classns3_1_1MgtDelBaHeader}{Mgt\+Del\+Ba\+Header} $\ast$del\+Ba\+Hdr, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} recipient)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_ad16ece50ac2937e5cdfeae010d4b5c88}{Missed\+Ack} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a86df91f79cf79fbb677bd53fddafdae0}{Start\+Next\+Packet} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a380e84736ede287cc8d26c1012828412}{End\+Tx\+No\+Ack} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{Restart\+Access\+If\+Needed} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a28a7052f217ed15058697197350d9801}{Start\+Access\+If\+Needed} (void)
\item 
bool \hyperlink{classns3_1_1EdcaTxopN_a704abf5e2a9cd43f9546f8a0181a0619}{Need\+Bar\+Retransmission} (void)
\item 
bool \hyperlink{classns3_1_1EdcaTxopN_a60daff47931c6501e47778c99c7e7a3c}{Need\+Fragmentation} (void) const 
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1EdcaTxopN_a512c6b82feb4d0caa1f79b98072bca91}{Get\+Fragment\+Packet} (\hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_ae7203b449d7865a1730fdc7006090b83}{Set\+Access\+Category} (\hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{Ac\+Index} ac)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a4430d3d755a2a08920c8df0a6e2a7ce6}{Set\+Msdu\+Aggregator} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MsduAggregator}{Msdu\+Aggregator} $>$ aggr)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a7e7515c14b633de6c10087f02864b793}{Set\+Mpdu\+Aggregator} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MpduAggregator}{Mpdu\+Aggregator} $>$ aggr)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a4ff1922de0b92b5f6a9104b714d82c0b}{Push\+Front} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&hdr)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_aeca53fddb95468e9e56ee452adf8b263}{Complete\+Config} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a092b5466cdec7451630131c6b27be6a2}{Set\+Block\+Ack\+Threshold} (uint8\+\_\+t threshold)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_ab89d2b3264e7bf282c671851fad79ef2}{Get\+Block\+Ack\+Threshold} (void) const 
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a95f781c129cf00191fb7eb4fc215e774}{Set\+Block\+Ack\+Inactivity\+Timeout} (uint16\+\_\+t \hyperlink{openflow-switch_8cc_a386d174ae121d1cfa279074b7e209714}{timeout})
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a3a14d846328f0d5447f44d7c2f3c607e}{Send\+Delba\+Frame} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} addr, uint8\+\_\+t tid, bool by\+Originator)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a75e799923353480f29baf91ea1d43e9f}{Complete\+Mpdu\+Tx} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} hdr, \hyperlink{classns3_1_1Time}{Time} tstamp)
\item 
bool \hyperlink{classns3_1_1EdcaTxopN_ac58af0b7a2b0d0849b13db6ec3d12939}{Get\+Ampdu\+Exist} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} dest) const 
\item 
void \hyperlink{classns3_1_1EdcaTxopN_ace47465ff464e597066b36678587154c}{Set\+Ampdu\+Exist} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} dest, bool enable\+Ampdu)
\item 
uint16\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_a809758d4c7fe1c7663305c8a0df16e55}{Get\+Next\+Sequence\+Number\+For} (\hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr)
\item 
uint16\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_a2498de1dde0c880d25b25844f24c0c81}{Peek\+Next\+Sequence\+Number\+For} (\hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_ac6cda0f8d80f47bcb1d8ee3f30b8de7e}{Remove\+Retransmit\+Packet} (uint8\+\_\+t tid, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} recipient, uint16\+\_\+t seqnumber)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1EdcaTxopN_a97913133d458fe438bab74807be602aa}{Peek\+Next\+Retransmit\+Packet} (\hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&header, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} recipient, uint8\+\_\+t tid, \hyperlink{classns3_1_1Time}{Time} $\ast$timestamp)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a0bed35930ef1832e8f922d937b54c2cb}{Ba\+Tx\+Ok} (const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&hdr)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a9fd11cc1ac518f7bfef44591e4d711b4}{Ba\+Tx\+Failed} (const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&hdr)
\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1EdcaTxopN_adddb74b3fd751b59f79e2405ecbd513c}{Map\+Src\+Address\+For\+Aggregation} (const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&hdr)
\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1EdcaTxopN_a766951341864967a984075e33b0606c4}{Map\+Dest\+Address\+For\+Aggregation} (const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&hdr)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1EdcaTxopN_a390cb5e9d1b2040a48e468da28f4cd43}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::map$<$ \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}, bool $>$ \hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\+\_\+a\+Mpdu\+Enabled}
\begin{DoxyCompactList}\small\item\em list containing flags whether A-\/\+M\+P\+DU is enabled for a given destination address \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classns3_1_1EdcaTxopN_ae5ab3e06174d86eabaaa6ccd64cde42d}{Setup\+Block\+Ack\+If\+Needed} ()
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a5d000df80bfe3211aed2fee7c08b85d2}{Send\+Add\+Ba\+Request} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} recipient, uint8\+\_\+t tid, uint16\+\_\+t start\+Seq, uint16\+\_\+t \hyperlink{openflow-switch_8cc_a386d174ae121d1cfa279074b7e209714}{timeout}, bool immediate\+B\+Ack)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a620d3677a73927b708ba85d2f2a794e0}{Send\+Block\+Ack\+Request} (const \hyperlink{structns3_1_1Bar}{Bar} \&bar)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a39fb84b5e465de80209af523e9a500cf}{Complete\+Tx} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a17b4025d63961a9f54cd9686d79a4709}{Verify\+Block\+Ack} (void)
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1EdcaTxopN_a63c6254bc64d16c3e6ebe2b9320795a4}{Get\+Txop\+Remaining} (void) const 
\item 
bool \hyperlink{classns3_1_1EdcaTxopN_ad377cd7fb454ea77a7f7583393ff449a}{Has\+Txop} (void) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_a06163c06ebe2b11e164a171ff51f56a2}{Get\+Next\+Fragment\+Size} (void) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_afd4cef33e466d71740f40e94783cd0de}{Get\+Fragment\+Size} (void) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_afd235d222dc849f965706362ce15fcc3}{Get\+Fragment\+Offset} (void) const 
\item 
bool \hyperlink{classns3_1_1EdcaTxopN_aa4a1fb9ce28746fa0dc7d47dde40f2fa}{Is\+Last\+Fragment} (void) const 
\item 
bool \hyperlink{classns3_1_1EdcaTxopN_a8112c980e053b401d71b2031a17ec2b3}{Is\+Txop\+Fragmentation} () const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_af20974348cb05b0e936b0f4204bca5c8}{Get\+Txop\+Fragment\+Size} () const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_a58be060e7f5a3b0f25404df841b9a293}{Get\+N\+Txop\+Fragment} () const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_a66393612be0215b17eb12e65d6c58cb4}{Get\+Next\+Txop\+Fragment\+Size} (uint32\+\_\+t fragment\+Number) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_affa7b4379fca13e2f24a04bdf2a4ae05}{Get\+Txop\+Fragment\+Offset} (uint32\+\_\+t fragment\+Number) const 
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a8d460247e058990e567c5d753fda2f01}{Do\+Dispose} (void)
\item 
void \hyperlink{classns3_1_1EdcaTxopN_a5ad9bb946de25a8eae306b14a9f0ffe3}{Do\+Initialize} (void)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{Ac\+Index} \hyperlink{classns3_1_1EdcaTxopN_ae385fb8b4514a4fb866739c9a0d2a772}{m\+\_\+ac}
\begin{DoxyCompactList}\small\item\em the access category \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MsduAggregator}{Msdu\+Aggregator} $>$ \hyperlink{classns3_1_1EdcaTxopN_ab4ec029e40b068965e1c7e80b1750027}{m\+\_\+msdu\+Aggregator}
\begin{DoxyCompactList}\small\item\em A-\/\+M\+S\+DU aggregator. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MpduAggregator}{Mpdu\+Aggregator} $>$ \hyperlink{classns3_1_1EdcaTxopN_abdec6101737b07b2c816c22910d60f53}{m\+\_\+mpdu\+Aggregator}
\begin{DoxyCompactList}\small\item\em A-\/\+M\+P\+DU aggregator. \end{DoxyCompactList}\item 
\hyperlink{namespacens3_a21fd18ff410cecc971a0c27634830445}{Type\+Of\+Station} \hyperlink{classns3_1_1EdcaTxopN_a2c8e52226f121e25a17e176a3a1594bb}{m\+\_\+type\+Of\+Station}
\begin{DoxyCompactList}\small\item\em the type of station \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1QosBlockedDestinations}{Qos\+Blocked\+Destinations} $\ast$ \hyperlink{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{m\+\_\+qos\+Blocked\+Destinations}
\begin{DoxyCompactList}\small\item\em Q\+OS blocked destinations. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1BlockAckManager}{Block\+Ack\+Manager} $\ast$ \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\+\_\+ba\+Manager}
\begin{DoxyCompactList}\small\item\em the Block A\+CK manager \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_a158bbee5ed109f1e17927188053ea05a}{m\+\_\+block\+Ack\+Threshold}
\begin{DoxyCompactList}\small\item\em the Block A\+CK threshold \end{DoxyCompactList}\item 
\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7}{Block\+Ack\+Type} \hyperlink{classns3_1_1EdcaTxopN_a40f224c6cb6c7470553d28b2f04c429d}{m\+\_\+block\+Ack\+Type}
\begin{DoxyCompactList}\small\item\em the Block A\+CK type \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1EdcaTxopN_ad93008b9d802a1c1b007744f0d4f1a73}{m\+\_\+current\+Packet\+Timestamp}
\begin{DoxyCompactList}\small\item\em the current packet timestamp \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1EdcaTxopN_a0f4087f940a73110911420a41ded5ce5}{m\+\_\+block\+Ack\+Inactivity\+Timeout}
\begin{DoxyCompactList}\small\item\em the Block A\+CK inactivity timeout \end{DoxyCompactList}\item 
\hyperlink{structns3_1_1Bar}{Bar} \hyperlink{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}{m\+\_\+current\+Bar}
\begin{DoxyCompactList}\small\item\em the current B\+AR \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\+\_\+start\+Txop}
\begin{DoxyCompactList}\small\item\em the start T\+X\+OP time \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1EdcaTxopN_a2dbb9cad85e4871b031dc1169c88bb08}{m\+\_\+is\+Access\+Requested\+For\+Rts}
\begin{DoxyCompactList}\small\item\em flag whether access is requested to transmit a R\+TS frame \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1EdcaTxopN_af17d826141cb2e87903a268e5f9f57ad}{m\+\_\+current\+Is\+Fragmented}
\begin{DoxyCompactList}\small\item\em flag whether current packet is fragmented \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1TracedValue}{Traced\+Value}$<$ uint32\+\_\+t $>$ \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\+\_\+backoff\+Trace}
\begin{DoxyCompactList}\small\item\em backoff trace value \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1TracedValue}{Traced\+Value}$<$ uint32\+\_\+t $>$ \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\+\_\+cw\+Trace}
\begin{DoxyCompactList}\small\item\em CW trace value. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Time}{Time}, \hyperlink{classns3_1_1Time}{Time} $>$ \hyperlink{classns3_1_1EdcaTxopN_a451e4a459e0cf4946cc57cc4fe4e64cc}{m\+\_\+txop\+Trace}
\begin{DoxyCompactList}\small\item\em T\+X\+OP trace callback. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1EdcaTxopN_ac40416d983d6f5074b1f4d2d84900b75}{\+::\+Ampdu\+Aggregation\+Test}
\item 
class \hyperlink{classns3_1_1EdcaTxopN_a8cc48b082c4f0c3cb2a41f8dfd138405}{Aggregation\+Capable\+Transmission\+Listener}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This queue contains packets for a particular access class. possibles access classes are\+:

-\/\+A\+C\+\_\+\+VO \+: voice, tid = 6,7 $^\wedge$ -\/\+A\+C\+\_\+\+VI \+: video, tid = 4,5 $\vert$ -\/\+A\+C\+\_\+\+BE \+: best-\/effort, tid = 0,3 $\vert$ priority -\/\+A\+C\+\_\+\+BK \+: background, tid = 1,2 $\vert$

For more details see section 9.\+1.\+3.\+1 in 802.\+11 standard. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Edca\+TxopN@{Edca\+TxopN}}
\index{Edca\+TxopN@{Edca\+TxopN}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Edca\+Txop\+N()}{EdcaTxopN()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Edca\+Txop\+N\+::\+Edca\+TxopN (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a82d5148017f018117867977e682940ae}{}\label{classns3_1_1EdcaTxopN_a82d5148017f018117867977e682940ae}

\begin{DoxyCode}
68   : \hyperlink{classns3_1_1EdcaTxopN_ab4ec029e40b068965e1c7e80b1750027}{m\_msduAggregator} (0),
69     \hyperlink{classns3_1_1EdcaTxopN_abdec6101737b07b2c816c22910d60f53}{m\_mpduAggregator} (0),
70     \hyperlink{classns3_1_1EdcaTxopN_a2c8e52226f121e25a17e176a3a1594bb}{m\_typeOfStation} (\hyperlink{namespacens3_a21fd18ff410cecc971a0c27634830445aa1fe7589cc1205354fcb2e99e3b74edf}{STA}),
71     \hyperlink{classns3_1_1EdcaTxopN_a40f224c6cb6c7470553d28b2f04c429d}{m\_blockAckType} (\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK}),
72     \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0)),
73     \hyperlink{classns3_1_1EdcaTxopN_a2dbb9cad85e4871b031dc1169c88bb08}{m\_isAccessRequestedForRts} (\textcolor{keyword}{false}),
74     \hyperlink{classns3_1_1EdcaTxopN_af17d826141cb2e87903a268e5f9f57ad}{m\_currentIsFragmented} (\textcolor{keyword}{false})
75 \{
76   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
77   \hyperlink{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{m\_qosBlockedDestinations} = \textcolor{keyword}{new} QosBlockedDestinations ();
78   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager} = \textcolor{keyword}{new} BlockAckManager ();
79   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a220aecfc19f84b497b1ee8781641e2a1}{SetQueue} (\hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue});
80   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_ab281f28839a128021bf1a7369d75d502}{SetBlockAckType} (\hyperlink{classns3_1_1EdcaTxopN_a40f224c6cb6c7470553d28b2f04c429d}{m\_blockAckType});
81   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a9ff02e52af689aa218f43e871a43503d}{SetBlockDestinationCallback} (
      \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{classns3_1_1QosBlockedDestinations_a8a419ab1d6732344d06c278de8e1cfd1}{QosBlockedDestinations::Block}, 
      \hyperlink{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{m\_qosBlockedDestinations}));
82   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a591b2a7853ffdd524a1e952cd44820eb}{SetUnblockDestinationCallback} (
      \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{classns3_1_1QosBlockedDestinations_a7f99916eabf1921bfbf14ca9f2ee24aa}{QosBlockedDestinations::Unblock}, 
      \hyperlink{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{m\_qosBlockedDestinations}));
83   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_abf175ea3603c1ef5cd1edd21a5911da2}{SetMaxPacketDelay} (\hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->GetMaxDelay ());
84   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a2007df06d972c94c7e2b35b7b0bce555}{SetTxOkCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1EdcaTxopN_a0bed35930ef1832e8f922d937b54c2cb}{EdcaTxopN::BaTxOk}, \textcolor{keyword}{this}));
85   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a0ee71617a29e7e00ab9c62194b4501a7}{SetTxFailedCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1EdcaTxopN_a9fd11cc1ac518f7bfef44591e4d711b4}{EdcaTxopN::BaTxFailed}, \textcolor{keyword}{this}));
86 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!````~Edca\+TxopN@{$\sim$\+Edca\+TxopN}}
\index{````~Edca\+TxopN@{$\sim$\+Edca\+TxopN}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{$\sim$\+Edca\+Txop\+N()}{~EdcaTxopN()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Edca\+Txop\+N\+::$\sim$\+Edca\+TxopN (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a6a09b7ccaaf7ac82cc3a4527d71700cf}{}\label{classns3_1_1EdcaTxopN_a6a09b7ccaaf7ac82cc3a4527d71700cf}

\begin{DoxyCode}
89 \{
90   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
91 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Ba\+Tx\+Failed@{Ba\+Tx\+Failed}}
\index{Ba\+Tx\+Failed@{Ba\+Tx\+Failed}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Ba\+Tx\+Failed(const Wifi\+Mac\+Header \&hdr)}{BaTxFailed(const WifiMacHeader &hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Ba\+Tx\+Failed (
\begin{DoxyParamCaption}
\item[{const {\bf Wifi\+Mac\+Header} \&}]{hdr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a9fd11cc1ac518f7bfef44591e4d711b4}{}\label{classns3_1_1EdcaTxopN_a9fd11cc1ac518f7bfef44591e4d711b4}
The packet we sent was successfully received by the receiver.


\begin{DoxyParams}{Parameters}
{\em hdr} & the header of the packet that we failed to sent. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1589 \{
1590   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << hdr);
1591   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_a3d58ad498059e9751312a7ee5b364678}{m\_txFailedCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
1592     \{
1593       \hyperlink{classns3_1_1DcaTxop_a3d58ad498059e9751312a7ee5b364678}{m\_txFailedCallback} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
1594     \}
1595 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Ba\+Tx\+Ok@{Ba\+Tx\+Ok}}
\index{Ba\+Tx\+Ok@{Ba\+Tx\+Ok}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Ba\+Tx\+Ok(const Wifi\+Mac\+Header \&hdr)}{BaTxOk(const WifiMacHeader &hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Ba\+Tx\+Ok (
\begin{DoxyParamCaption}
\item[{const {\bf Wifi\+Mac\+Header} \&}]{hdr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a0bed35930ef1832e8f922d937b54c2cb}{}\label{classns3_1_1EdcaTxopN_a0bed35930ef1832e8f922d937b54c2cb}
The packet we sent was successfully received by the receiver.


\begin{DoxyParams}{Parameters}
{\em hdr} & the header of the packet that we successfully sent. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1579 \{
1580   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << hdr);
1581   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_a0d37805f9e520da7a15dee3f66c2bfd5}{m\_txOkCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
1582     \{
1583       \hyperlink{classns3_1_1DcaTxop_a0d37805f9e520da7a15dee3f66c2bfd5}{m\_txOkCallback} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
1584     \}
1585 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Complete\+Ampdu\+Transfer@{Complete\+Ampdu\+Transfer}}
\index{Complete\+Ampdu\+Transfer@{Complete\+Ampdu\+Transfer}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Complete\+Ampdu\+Transfer(\+Mac48\+Address recipient, uint8\+\_\+t tid)}{CompleteAmpduTransfer(Mac48Address recipient, uint8_t tid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Complete\+Ampdu\+Transfer (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{recipient, }
\item[{uint8\+\_\+t}]{tid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a98274aa9d1577b6f74b8a47149326eff}{}\label{classns3_1_1EdcaTxopN_a98274aa9d1577b6f74b8a47149326eff}

\begin{DoxyParams}{Parameters}
{\em recipient} & address of peer station involved in block ack mechanism. \\
\hline
{\em tid} & Ttraffic ID of transmitted packet.\\
\hline
\end{DoxyParams}
This function resets the status of \hyperlink{classns3_1_1OriginatorBlockAckAgreement}{Originator\+Block\+Ack\+Agreement} after the transfer of an A-\/\+M\+P\+DU with Immediate\+Block\+Ack policy (i.\+e. no B\+AR is scheduled). 
\begin{DoxyCode}
126 \{
127   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a3f42c74e86fa537d4f99353768ce3bb2}{CompleteAmpduExchange} (recipient, tid);
128 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Complete\+Config@{Complete\+Config}}
\index{Complete\+Config@{Complete\+Config}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Complete\+Config(void)}{CompleteConfig(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Complete\+Config (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_aeca53fddb95468e9e56ee452adf8b263}{}\label{classns3_1_1EdcaTxopN_aeca53fddb95468e9e56ee452adf8b263}
Complete block A\+CK configuration. 
\begin{DoxyCode}
1441 \{
1442   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1443   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a76ee2237b1d65a04f96806fa25d30d24}{SetTxMiddle} (\hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle});
1444   \hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_ad991474873a0ddb28e8a61a1b766958f}{RegisterEdcaForAc} (\hyperlink{classns3_1_1EdcaTxopN_ae385fb8b4514a4fb866739c9a0d2a772}{m\_ac}, \textcolor{keyword}{this});
1445   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_aba54a7f80dad49b371ebdc5ffe11d651}{SetBlockAckInactivityCallback} (
      \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{classns3_1_1EdcaTxopN_a3a14d846328f0d5447f44d7c2f3c607e}{EdcaTxopN::SendDelbaFrame}, \textcolor{keyword}{this}));
1446 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Complete\+Mpdu\+Tx@{Complete\+Mpdu\+Tx}}
\index{Complete\+Mpdu\+Tx@{Complete\+Mpdu\+Tx}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Complete\+Mpdu\+Tx(\+Ptr$<$ const Packet $>$ packet, Wifi\+Mac\+Header hdr, Time tstamp)}{CompleteMpduTx(Ptr< const Packet > packet, WifiMacHeader hdr, Time tstamp)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Complete\+Mpdu\+Tx (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{{\bf Wifi\+Mac\+Header}}]{hdr, }
\item[{{\bf Time}}]{tstamp}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a75e799923353480f29baf91ea1d43e9f}{}\label{classns3_1_1EdcaTxopN_a75e799923353480f29baf91ea1d43e9f}
Stores an M\+P\+DU (part of an A-\/\+M\+P\+DU) in blockackagreement (i.\+e. the sender is waiting for a blockack containing the sequence number of this M\+P\+DU). It also calls Notify\+Mpdu transmission that updates the status of \hyperlink{classns3_1_1OriginatorBlockAckAgreement}{Originator\+Block\+Ack\+Agreement}.


\begin{DoxyParams}{Parameters}
{\em packet} & received packet. \\
\hline
{\em hdr} & received Wi-\/\+Fi header. \\
\hline
{\em tstamp} & timestamp. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1368 \{
1369   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (hdr.IsQosData ());
1370   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a0d30c0aa10a79c5cc7b06b19e956c5cc}{StorePacket} (packet, hdr, tstamp);
1371   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a24ba0bcf0be39d8927e8c04c7dac0f1a}{NotifyMpduTransmission} (hdr.GetAddr1 (), hdr.GetQosTid (),
1372                                        \hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle}->
      \hyperlink{classns3_1_1MacTxMiddle_ae25a26b35efc9a8f29f27d1348f8514c}{GetNextSeqNumberByTidAndAddress} (hdr.GetQosTid (),
1373                                                                                     hdr.GetAddr1 ()), 
      \hyperlink{classns3_1_1WifiMacHeader_ae3a382482f357972019f5e1b3162adc4a9f52b9c6ca65d046ce2be9d70bce28cf}{WifiMacHeader::NORMAL\_ACK});
1374 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Complete\+Tx@{Complete\+Tx}}
\index{Complete\+Tx@{Complete\+Tx}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Complete\+Tx(void)}{CompleteTx(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Complete\+Tx (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a39fb84b5e465de80209af523e9a500cf}{}\label{classns3_1_1EdcaTxopN_a39fb84b5e465de80209af523e9a500cf}
For now is typically invoked to complete transmission of a packets sent with ack policy Block Ack\+: the packet is buffered and dcf is reset. 
\begin{DoxyCode}
1352 \{
1353   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1354   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_aaa152fcd66b795ee978cf48264b2c57e}{IsQosBlockAck} ())
1355     \{
1356       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_af8da93935be1b55289003fbb29f81d64}{IsRetry} ())
1357         \{
1358           \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a0d30c0aa10a79c5cc7b06b19e956c5cc}{StorePacket} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, 
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1EdcaTxopN_ad93008b9d802a1c1b007744f0d4f1a73}{m\_currentPacketTimestamp});
1359         \}
1360       \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a24ba0bcf0be39d8927e8c04c7dac0f1a}{NotifyMpduTransmission} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} (),
1361                                            \hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle}->
      \hyperlink{classns3_1_1MacTxMiddle_ae25a26b35efc9a8f29f27d1348f8514c}{GetNextSeqNumberByTidAndAddress} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} (),
1362                                                                                         
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ()), \hyperlink{classns3_1_1WifiMacHeader_ae3a382482f357972019f5e1b3162adc4a8d2763ea0083f1265fbf7dda6fdcf9fd}{WifiMacHeader::BLOCK\_ACK});
1363     \}
1364 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a8d460247e058990e567c5d753fda2f01}{}\label{classns3_1_1EdcaTxopN_a8d460247e058990e567c5d753fda2f01}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1EdcaTxopN_a8d460247e058990e567c5d753fda2f01}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_aec098be399c62ab23c509483429f96fb}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
95 \{
96   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
97   \textcolor{keyword}{delete} \hyperlink{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{m\_qosBlockedDestinations};
98   \textcolor{keyword}{delete} \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager};
99   \hyperlink{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{m\_qosBlockedDestinations} = 0;
100   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager} = 0;
101   \hyperlink{classns3_1_1EdcaTxopN_ab4ec029e40b068965e1c7e80b1750027}{m\_msduAggregator} = 0;
102   \hyperlink{classns3_1_1EdcaTxopN_abdec6101737b07b2c816c22910d60f53}{m\_mpduAggregator} = 0;
103   \hyperlink{classns3_1_1DcaTxop_aec098be399c62ab23c509483429f96fb}{DcaTxop::DoDispose} ();
104 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Do\+Initialize@{Do\+Initialize}}
\index{Do\+Initialize@{Do\+Initialize}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Do\+Initialize(void)}{DoInitialize(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Do\+Initialize (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a5ad9bb946de25a8eae306b14a9f0ffe3}{}\label{classns3_1_1EdcaTxopN_a5ad9bb946de25a8eae306b14a9f0ffe3}
\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} implementation.

This method is called only once by \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()}. If the user calls \hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize()} multiple times, \hyperlink{classns3_1_1EdcaTxopN_a5ad9bb946de25a8eae306b14a9f0ffe3}{Do\+Initialize()} is called only the first time.

Subclasses are expected to override this method and chain up to their parent\textquotesingle{}s implementation once they are done. It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} and \hyperlink{classns3_1_1Object_a79dd435d300f3deca814553f561a2922}{Aggregate\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_a397e2a4e1badd6447c3eb423a028a676}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
1569 \{
1570   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1571   \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ad40c89a598811d9dc88d6270b9d21e4f}{ResetCw} ();
1572   \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
1573   \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace} = \hyperlink{classns3_1_1DcaTxop_a9044b173b448e6c40b730740621cb238}{m\_rng}->\hyperlink{classns3_1_1RandomStream_a29375dd4bbb99a20fb297ca355d5811a}{GetNext} (0, \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->
      \hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ());
1574   \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a687e3238b35778b630557bf0e1636dba}{StartBackoffNow} (\hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace});
1575 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!End\+Tx\+No\+Ack@{End\+Tx\+No\+Ack}}
\index{End\+Tx\+No\+Ack@{End\+Tx\+No\+Ack}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{End\+Tx\+No\+Ack(void)}{EndTxNoAck(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+End\+Tx\+No\+Ack (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a380e84736ede287cc8d26c1012828412}{}\label{classns3_1_1EdcaTxopN_a380e84736ede287cc8d26c1012828412}
Event handler when a transmission that does not require an A\+CK has completed. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_a49f0531900461b87bd1065780ae4caae}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
963 \{
964   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
965   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"a transmission that did not require an ACK just finished"});
966   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_aaa152fcd66b795ee978cf48264b2c57e}{IsQosBlockAck} () && \hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ().\hyperlink{classns3_1_1Time_a725fcbc267127acfac451f9026c190c6}{IsStrictlyPositive} ())
967     \{
968       \hyperlink{classns3_1_1EdcaTxopN_a451e4a459e0cf4946cc57cc4fe4e64cc}{m\_txopTrace} (\hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop}, \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - 
      \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop});
969     \}
970   \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = 0;
971   \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ad40c89a598811d9dc88d6270b9d21e4f}{ResetCw} ();
972   \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
973   \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace} = \hyperlink{classns3_1_1DcaTxop_a9044b173b448e6c40b730740621cb238}{m\_rng}->\hyperlink{classns3_1_1RandomStream_a29375dd4bbb99a20fb297ca355d5811a}{GetNext} (0, \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->
      \hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ());
974   \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a687e3238b35778b630557bf0e1636dba}{StartBackoffNow} (\hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace});
975   \hyperlink{classns3_1_1EdcaTxopN_a28a7052f217ed15058697197350d9801}{StartAccessIfNeeded} ();
976 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Ampdu\+Exist@{Get\+Ampdu\+Exist}}
\index{Get\+Ampdu\+Exist@{Get\+Ampdu\+Exist}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Ampdu\+Exist(\+Mac48\+Address dest) const }{GetAmpduExist(Mac48Address dest) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::\+Get\+Ampdu\+Exist (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{dest}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1EdcaTxopN_ac58af0b7a2b0d0849b13db6ec3d12939}{}\label{classns3_1_1EdcaTxopN_ac58af0b7a2b0d0849b13db6ec3d12939}
Return whether A-\/\+M\+P\+DU is used to transmit data to a peer station.


\begin{DoxyParams}{Parameters}
{\em dest} & address of peer station \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if A-\/\+M\+P\+DU is used by the peer station 
\end{DoxyReturn}

\begin{DoxyCode}
1328 \{
1329   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << dest);
1330   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.find (dest) != \hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.end ())
1331     \{
1332       \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.find (dest)->second;
1333     \}
1334   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1335 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Ba\+Agreement\+Exists@{Get\+Ba\+Agreement\+Exists}}
\index{Get\+Ba\+Agreement\+Exists@{Get\+Ba\+Agreement\+Exists}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Ba\+Agreement\+Exists(\+Mac48\+Address address, uint8\+\_\+t tid) const }{GetBaAgreementExists(Mac48Address address, uint8_t tid) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::\+Get\+Ba\+Agreement\+Exists (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{address, }
\item[{uint8\+\_\+t}]{tid}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1EdcaTxopN_abf17485d78cd742b9319cb31f658cbd2}{}\label{classns3_1_1EdcaTxopN_abf17485d78cd742b9319cb31f658cbd2}

\begin{DoxyParams}{Parameters}
{\em address} & recipient address of the peer station \\
\hline
{\em tid} & traffic ID.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if a block ack agreement exists, false otherwise.
\end{DoxyReturn}
Checks if a block ack agreement exists with station addressed by {\itshape recipient} for tid {\itshape tid}. 
\begin{DoxyCode}
108 \{
109   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a4712688bb7764d576c87fd627d3d3aba}{ExistsAgreement} (address, tid);
110 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Block\+Ack\+Threshold@{Get\+Block\+Ack\+Threshold}}
\index{Get\+Block\+Ack\+Threshold@{Get\+Block\+Ack\+Threshold}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Block\+Ack\+Threshold(void) const }{GetBlockAckThreshold(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+Block\+Ack\+Threshold (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1EdcaTxopN_ab89d2b3264e7bf282c671851fad79ef2}{}\label{classns3_1_1EdcaTxopN_ab89d2b3264e7bf282c671851fad79ef2}
Return the current threshold for block A\+CK mechanism.

\begin{DoxyReturn}{Returns}
the current threshold for block A\+CK mechanism. 
\end{DoxyReturn}

\begin{DoxyCode}
1465 \{
1466   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1467   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EdcaTxopN_a158bbee5ed109f1e17927188053ea05a}{m\_blockAckThreshold};
1468 \}
\end{DoxyCode}
\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Fragment\+Offset@{Get\+Fragment\+Offset}}
\index{Get\+Fragment\+Offset@{Get\+Fragment\+Offset}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Fragment\+Offset(void) const }{GetFragmentOffset(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+Fragment\+Offset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_afd235d222dc849f965706362ce15fcc3}{}\label{classns3_1_1EdcaTxopN_afd235d222dc849f965706362ce15fcc3}
Calculate the offset for the current fragment.

\begin{DoxyReturn}{Returns}
the offset for the current fragment. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_a75f82c1a790623d85d950f873103bc31}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
1140 \{
1141   uint32\_t offset;
1142   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a8112c980e053b401d71b2031a17ec2b3}{IsTxopFragmentation} ())
1143     \{
1144       offset = \hyperlink{classns3_1_1EdcaTxopN_affa7b4379fca13e2f24a04bdf2a4ae05}{GetTxopFragmentOffset} (\hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber});
1145     \}
1146   \textcolor{keywordflow}{else}
1147     \{
1148       offset = \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a3bc4865736b8b3a8f593325bb2bdb655}{GetFragmentOffset} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr},
1149                                                     \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, 
      \hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber});
1150     \}
1151   \textcolor{keywordflow}{return} offset;
1152 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19




Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Fragment\+Packet@{Get\+Fragment\+Packet}}
\index{Get\+Fragment\+Packet@{Get\+Fragment\+Packet}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Fragment\+Packet(\+Wifi\+Mac\+Header $\ast$hdr)}{GetFragmentPacket(WifiMacHeader *hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Packet} $>$ ns3\+::\+Edca\+Txop\+N\+::\+Get\+Fragment\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Mac\+Header} $\ast$}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a512c6b82feb4d0caa1f79b98072bca91}{}\label{classns3_1_1EdcaTxopN_a512c6b82feb4d0caa1f79b98072bca91}
Get the next fragment from the packet with appropriate Wifi header for the fragment.


\begin{DoxyParams}{Parameters}
{\em hdr} & Wi-\/\+Fi header.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the fragment with the current fragment number. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_ade05dd2b4ce5d127e90fb1b01bcd663f}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
1172 \{
1173   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << hdr);
1174   *hdr = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr};
1175   hdr->\hyperlink{classns3_1_1WifiMacHeader_ad11306bd3a2edf81346a14a9c4fe7388}{SetFragmentNumber} (\hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber});
1176   uint32\_t startOffset = \hyperlink{classns3_1_1EdcaTxopN_afd235d222dc849f965706362ce15fcc3}{GetFragmentOffset} ();
1177   Ptr<Packet> fragment;
1178   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_aa4a1fb9ce28746fa0dc7d47dde40f2fa}{IsLastFragment} ())
1179     \{
1180       hdr->SetNoMoreFragments ();
1181     \}
1182   \textcolor{keywordflow}{else}
1183     \{
1184       hdr->SetMoreFragments ();
1185     \}
1186   fragment = \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->CreateFragment (startOffset,
1187                                               \hyperlink{classns3_1_1EdcaTxopN_afd4cef33e466d71740f40e94783cd0de}{GetFragmentSize} ());
1188   \textcolor{keywordflow}{return} fragment;
1189 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 21




Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Fragment\+Size@{Get\+Fragment\+Size}}
\index{Get\+Fragment\+Size@{Get\+Fragment\+Size}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Fragment\+Size(void) const }{GetFragmentSize(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+Fragment\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_afd4cef33e466d71740f40e94783cd0de}{}\label{classns3_1_1EdcaTxopN_afd4cef33e466d71740f40e94783cd0de}
Calculate the size of the current fragment.

\begin{DoxyReturn}{Returns}
the size of the current fragment. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_a9f06adfbc1bcec831b1bcd2d70a5e1be}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
1110 \{
1111   uint32\_t size;
1112   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a8112c980e053b401d71b2031a17ec2b3}{IsTxopFragmentation} ())
1113     \{
1114       size = \hyperlink{classns3_1_1EdcaTxopN_a66393612be0215b17eb12e65d6c58cb4}{GetNextTxopFragmentSize} (\hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber});
1115     \}
1116   \textcolor{keywordflow}{else}
1117     \{
1118       size = \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ae646308621e90ca3ae6ca6de3540cff2}{GetFragmentSize} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr},
      \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, \hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber});
1119     \}
1120   \textcolor{keywordflow}{return} size;
1121 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23




Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Mpdu\+Aggregator@{Get\+Mpdu\+Aggregator}}
\index{Get\+Mpdu\+Aggregator@{Get\+Mpdu\+Aggregator}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Mpdu\+Aggregator(void) const }{GetMpduAggregator(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Mpdu\+Aggregator} $>$ ns3\+::\+Edca\+Txop\+N\+::\+Get\+Mpdu\+Aggregator (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1EdcaTxopN_aa8beff92afb46fd336cdf35cb0f451c9}{}\label{classns3_1_1EdcaTxopN_aa8beff92afb46fd336cdf35cb0f451c9}
Returns the aggregator used to construct A-\/\+M\+P\+DU subframes.

\begin{DoxyReturn}{Returns}
the aggregator used to construct A-\/\+M\+P\+DU subframes. 
\end{DoxyReturn}

\begin{DoxyCode}
723 \{
724   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EdcaTxopN_abdec6101737b07b2c816c22910d60f53}{m\_mpduAggregator};
725 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 25


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Msdu\+Aggregator@{Get\+Msdu\+Aggregator}}
\index{Get\+Msdu\+Aggregator@{Get\+Msdu\+Aggregator}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Msdu\+Aggregator(void) const }{GetMsduAggregator(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Msdu\+Aggregator} $>$ ns3\+::\+Edca\+Txop\+N\+::\+Get\+Msdu\+Aggregator (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1EdcaTxopN_a77aeb47db8b8c53351cfb3b5bc2fc771}{}\label{classns3_1_1EdcaTxopN_a77aeb47db8b8c53351cfb3b5bc2fc771}
Returns the aggregator used to construct A-\/\+M\+S\+DU subframes.

\begin{DoxyReturn}{Returns}
the aggregator used to construct A-\/\+M\+S\+DU subframes. 
\end{DoxyReturn}

\begin{DoxyCode}
717 \{
718   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EdcaTxopN_ab4ec029e40b068965e1c7e80b1750027}{m\_msduAggregator};
719 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Next\+Fragment\+Size@{Get\+Next\+Fragment\+Size}}
\index{Get\+Next\+Fragment\+Size@{Get\+Next\+Fragment\+Size}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Next\+Fragment\+Size(void) const }{GetNextFragmentSize(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+Next\+Fragment\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a06163c06ebe2b11e164a171ff51f56a2}{}\label{classns3_1_1EdcaTxopN_a06163c06ebe2b11e164a171ff51f56a2}
Calculate the size of the next fragment.

\begin{DoxyReturn}{Returns}
the size of the next fragment. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_a2e785096e541316ddf8cab4852a5e950}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
1125 \{
1126   uint32\_t size;
1127   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a8112c980e053b401d71b2031a17ec2b3}{IsTxopFragmentation} ())
1128     \{
1129       size = \hyperlink{classns3_1_1EdcaTxopN_a66393612be0215b17eb12e65d6c58cb4}{GetNextTxopFragmentSize} (\hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber} + 1);
1130     \}
1131   \textcolor{keywordflow}{else}
1132     \{
1133       size = \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ae646308621e90ca3ae6ca6de3540cff2}{GetFragmentSize} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr},
      \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, \hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber} + 1);
1134     \}
1135   \textcolor{keywordflow}{return} size;
1136 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 27




Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Next\+Sequence\+Number\+For@{Get\+Next\+Sequence\+Number\+For}}
\index{Get\+Next\+Sequence\+Number\+For@{Get\+Next\+Sequence\+Number\+For}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Next\+Sequence\+Number\+For(\+Wifi\+Mac\+Header $\ast$hdr)}{GetNextSequenceNumberFor(WifiMacHeader *hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+Next\+Sequence\+Number\+For (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Mac\+Header} $\ast$}]{hdr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a809758d4c7fe1c7663305c8a0df16e55}{}\label{classns3_1_1EdcaTxopN_a809758d4c7fe1c7663305c8a0df16e55}
Return the next sequence number for the given header.


\begin{DoxyParams}{Parameters}
{\em hdr} & Wi-\/\+Fi header.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the next sequence number. 
\end{DoxyReturn}

\begin{DoxyCode}
160 \{
161   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle}->\hyperlink{classns3_1_1MacTxMiddle_a791d277bf45e2b45b57b2fdb9417cc25}{GetNextSequenceNumberFor} (hdr);
162 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 29


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Next\+Txop\+Fragment\+Size@{Get\+Next\+Txop\+Fragment\+Size}}
\index{Get\+Next\+Txop\+Fragment\+Size@{Get\+Next\+Txop\+Fragment\+Size}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Next\+Txop\+Fragment\+Size(uint32\+\_\+t fragment\+Number) const }{GetNextTxopFragmentSize(uint32_t fragmentNumber) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+Next\+Txop\+Fragment\+Size (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{fragment\+Number}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a66393612be0215b17eb12e65d6c58cb4}{}\label{classns3_1_1EdcaTxopN_a66393612be0215b17eb12e65d6c58cb4}
Calculate the size of the next T\+X\+OP fragment.


\begin{DoxyParams}{Parameters}
{\em fragment\+Number} & number of the next fragment \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the next T\+X\+OP fragment size 
\end{DoxyReturn}

\begin{DoxyCode}
1091 \{
1092   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << fragmentNumber);
1093   uint32\_t fragmentSize = \hyperlink{classns3_1_1EdcaTxopN_af20974348cb05b0e936b0f4204bca5c8}{GetTxopFragmentSize} ();
1094   uint32\_t nFragments = \hyperlink{classns3_1_1EdcaTxopN_a58be060e7f5a3b0f25404df841b9a293}{GetNTxopFragment} ();
1095   \textcolor{keywordflow}{if} (fragmentNumber >= nFragments)
1096     \{
1097       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"GetNextTxopFragmentSize returning 0"});
1098       \textcolor{keywordflow}{return} 0;
1099     \}
1100   \textcolor{keywordflow}{if} (fragmentNumber == nFragments - 1)
1101     \{
1102       fragmentSize = (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->GetSize () - ((nFragments - 1) * fragmentSize));
1103     \}
1104   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"GetNextTxopFragmentSize returning "} << fragmentSize);
1105   \textcolor{keywordflow}{return} fragmentSize;
1106 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 30




Here is the caller graph for this function\+:
% FIG 31


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+N\+Outstanding\+Packets\+In\+Ba@{Get\+N\+Outstanding\+Packets\+In\+Ba}}
\index{Get\+N\+Outstanding\+Packets\+In\+Ba@{Get\+N\+Outstanding\+Packets\+In\+Ba}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+N\+Outstanding\+Packets\+In\+Ba(\+Mac48\+Address address, uint8\+\_\+t tid) const }{GetNOutstandingPacketsInBa(Mac48Address address, uint8_t tid) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+N\+Outstanding\+Packets\+In\+Ba (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{address, }
\item[{uint8\+\_\+t}]{tid}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1EdcaTxopN_ac6c32c54e56d0422e23526b30c9287ff}{}\label{classns3_1_1EdcaTxopN_ac6c32c54e56d0422e23526b30c9287ff}

\begin{DoxyParams}{Parameters}
{\em address} & recipient address of peer station involved in block ack mechanism. \\
\hline
{\em tid} & traffic ID.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of packets buffered for a specified agreement.
\end{DoxyReturn}
Returns number of packets buffered for a specified agreement. 
\begin{DoxyCode}
114 \{
115   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_af1da67d0de14b53997fbeedaa93f7380}{GetNBufferedPackets} (address, tid);
116 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 32


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+N\+Retry\+Needed\+Packets@{Get\+N\+Retry\+Needed\+Packets}}
\index{Get\+N\+Retry\+Needed\+Packets@{Get\+N\+Retry\+Needed\+Packets}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+N\+Retry\+Needed\+Packets(\+Mac48\+Address recipient, uint8\+\_\+t tid) const }{GetNRetryNeededPackets(Mac48Address recipient, uint8_t tid) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+N\+Retry\+Needed\+Packets (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{recipient, }
\item[{uint8\+\_\+t}]{tid}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1EdcaTxopN_a76552b251742d17a29440dbef5c07f64}{}\label{classns3_1_1EdcaTxopN_a76552b251742d17a29440dbef5c07f64}

\begin{DoxyParams}{Parameters}
{\em recipient} & address of peer station involved in block ack mechanism. \\
\hline
{\em tid} & traffic ID.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of packets for a specific agreement that need retransmission.
\end{DoxyReturn}
Returns number of packets for a specific agreement that need retransmission. 
\begin{DoxyCode}
120 \{
121   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a324cd181a4aedaff46eed34f92055591}{GetNRetryNeededPackets} (recipient, tid);
122 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 33


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+N\+Txop\+Fragment@{Get\+N\+Txop\+Fragment}}
\index{Get\+N\+Txop\+Fragment@{Get\+N\+Txop\+Fragment}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+N\+Txop\+Fragment() const }{GetNTxopFragment() const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+N\+Txop\+Fragment (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a58be060e7f5a3b0f25404df841b9a293}{}\label{classns3_1_1EdcaTxopN_a58be060e7f5a3b0f25404df841b9a293}
Calculate the number of T\+X\+OP fragments needed for the transmission of the current packet.

\begin{DoxyReturn}{Returns}
the number of T\+X\+OP fragments needed for the transmission of the current packet 
\end{DoxyReturn}

\begin{DoxyCode}
1052 \{
1053   uint32\_t fragmentSize = \hyperlink{classns3_1_1EdcaTxopN_af20974348cb05b0e936b0f4204bca5c8}{GetTxopFragmentSize} ();
1054   uint32\_t nFragments = (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->GetSize () / fragmentSize);
1055   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->GetSize () % fragmentSize) > 0)
1056     \{
1057       nFragments++;
1058     \}
1059   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"GetNTxopFragment returning "} << nFragments);
1060   \textcolor{keywordflow}{return} nFragments;
1061 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 34




Here is the caller graph for this function\+:
% FIG 35


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Txop\+Fragment\+Offset@{Get\+Txop\+Fragment\+Offset}}
\index{Get\+Txop\+Fragment\+Offset@{Get\+Txop\+Fragment\+Offset}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Txop\+Fragment\+Offset(uint32\+\_\+t fragment\+Number) const }{GetTxopFragmentOffset(uint32_t fragmentNumber) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+Txop\+Fragment\+Offset (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{fragment\+Number}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_affa7b4379fca13e2f24a04bdf2a4ae05}{}\label{classns3_1_1EdcaTxopN_affa7b4379fca13e2f24a04bdf2a4ae05}
Calculate the offset for the fragment.


\begin{DoxyParams}{Parameters}
{\em fragment\+Number} & number of the fragment \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the T\+X\+OP fragment offset 
\end{DoxyReturn}

\begin{DoxyCode}
1065 \{
1066   \textcolor{keywordflow}{if} (fragmentNumber == 0)
1067     \{
1068       \textcolor{keywordflow}{return} 0;
1069     \}
1070   uint32\_t offset = 0;
1071   uint32\_t fragmentSize = \hyperlink{classns3_1_1EdcaTxopN_af20974348cb05b0e936b0f4204bca5c8}{GetTxopFragmentSize} ();
1072   uint32\_t nFragments = (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->GetSize () / fragmentSize);
1073   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->GetSize () % fragmentSize) > 0)
1074     \{
1075       nFragments++;
1076     \}
1077   \textcolor{keywordflow}{if} (fragmentNumber < nFragments)
1078     \{
1079       offset = (fragmentNumber * fragmentSize);
1080     \}
1081   \textcolor{keywordflow}{else}
1082     \{
1083       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\textcolor{keyword}{false});
1084     \}
1085   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"GetTxopFragmentOffset returning "} << offset);
1086   \textcolor{keywordflow}{return} offset;
1087 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 36




Here is the caller graph for this function\+:
% FIG 37


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Txop\+Fragment\+Size@{Get\+Txop\+Fragment\+Size}}
\index{Get\+Txop\+Fragment\+Size@{Get\+Txop\+Fragment\+Size}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Txop\+Fragment\+Size() const }{GetTxopFragmentSize() const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Get\+Txop\+Fragment\+Size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_af20974348cb05b0e936b0f4204bca5c8}{}\label{classns3_1_1EdcaTxopN_af20974348cb05b0e936b0f4204bca5c8}
Calculate the size of the current T\+X\+OP fragment.

\begin{DoxyReturn}{Returns}
the size of the current T\+X\+OP fragment 
\end{DoxyReturn}

\begin{DoxyCode}
1019 \{
1020   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txopDuration = \hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ();
1021   \textcolor{keywordflow}{if} (txopDuration.IsZero ())
1022     \{
1023       \textcolor{keywordflow}{return} 0;
1024     \}
1025   uint32\_t maxSize = \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->GetSize ();
1026   uint32\_t minSize = 0;
1027   uint32\_t size = 0;
1028   \textcolor{keywordtype}{bool} found = \textcolor{keyword}{false};
1029   \textcolor{keywordflow}{while} (!found)
1030     \{
1031       size = (minSize + ((maxSize - minSize) / 2));
1032       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae69735f4f2861cd143192c1072cbae79}{GetLow} ()->\hyperlink{classns3_1_1MacLow_a9d374976855269a4ee89e2369afff3d0}{CalculateOverallTxFragmentTime} (
      \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}, size) > 
      txopDuration)
1033         \{
1034           maxSize = size;
1035         \}
1036       \textcolor{keywordflow}{else}
1037         \{
1038           minSize = size;
1039         \}
1040       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae69735f4f2861cd143192c1072cbae79}{GetLow} ()->\hyperlink{classns3_1_1MacLow_a9d374976855269a4ee89e2369afff3d0}{CalculateOverallTxFragmentTime} (
      \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}, size) <= 
      txopDuration
1041           && \hyperlink{classns3_1_1DcaTxop_ae69735f4f2861cd143192c1072cbae79}{GetLow} ()->\hyperlink{classns3_1_1MacLow_a9d374976855269a4ee89e2369afff3d0}{CalculateOverallTxFragmentTime} (
      \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}, size + 1) > 
      txopDuration)
1042         \{
1043           found = \textcolor{keyword}{true};
1044         \}
1045     \}
1046   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (size != 0);
1047   \textcolor{keywordflow}{return} size;
1048 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 38




Here is the caller graph for this function\+:
% FIG 39


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Txop\+Remaining@{Get\+Txop\+Remaining}}
\index{Get\+Txop\+Remaining@{Get\+Txop\+Remaining}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Txop\+Remaining(void) const }{GetTxopRemaining(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Edca\+Txop\+N\+::\+Get\+Txop\+Remaining (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a63c6254bc64d16c3e6ebe2b9320795a4}{}\label{classns3_1_1EdcaTxopN_a63c6254bc64d16c3e6ebe2b9320795a4}
Return the remaining duration in the current T\+X\+OP.

\begin{DoxyReturn}{Returns}
the remaining duration in the current T\+X\+OP. 
\end{DoxyReturn}

\begin{DoxyCode}
911 \{
912   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} remainingTxop = \hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ();
913   remainingTxop -= (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop});
914   \textcolor{keywordflow}{if} (remainingTxop.IsStrictlyNegative ())
915     \{
916       remainingTxop = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
917     \}
918   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << remainingTxop);
919   \textcolor{keywordflow}{return} remainingTxop;
920 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 40




Here is the caller graph for this function\+:
% FIG 41


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Edca\+Txop\+N\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1EdcaTxopN_a390cb5e9d1b2040a48e468da28f4cd43}{}\label{classns3_1_1EdcaTxopN_a390cb5e9d1b2040a48e468da28f4cd43}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
46 \{
47   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::EdcaTxopN"})
48     .SetParent<\hyperlink{classns3_1_1DcaTxop}{ns3::DcaTxop}> ()
49     .SetGroupName (\textcolor{stringliteral}{"Wifi"})
50     .AddConstructor<\hyperlink{classns3_1_1EdcaTxopN_a82d5148017f018117867977e682940ae}{EdcaTxopN}> ()
51     .AddTraceSource (\textcolor{stringliteral}{"BackoffTrace"},
52                      \textcolor{stringliteral}{"Trace source for backoff values"},
53                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{EdcaTxopN::m\_backoffTrace}),
54                      \textcolor{stringliteral}{"ns3::TracedValue::Uint32Callback"})
55     .AddTraceSource (\textcolor{stringliteral}{"CwTrace"},
56                      \textcolor{stringliteral}{"Trace source for contention window values"},
57                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{EdcaTxopN::m\_cwTrace}),
58                      \textcolor{stringliteral}{"ns3::TracedValue::Uint32Callback"})
59     .AddTraceSource (\textcolor{stringliteral}{"TxopTrace"},
60                      \textcolor{stringliteral}{"Trace source for txop start and duration times"},
61                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1EdcaTxopN_a451e4a459e0cf4946cc57cc4fe4e64cc}{EdcaTxopN::m\_txopTrace}),
62                      \textcolor{stringliteral}{"ns3::TracedValueCallback::Time"})
63   ;
64   \textcolor{keywordflow}{return} tid;
65 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 42


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Get\+Type\+Of\+Station@{Get\+Type\+Of\+Station}}
\index{Get\+Type\+Of\+Station@{Get\+Type\+Of\+Station}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Get\+Type\+Of\+Station(void) const }{GetTypeOfStation(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Of\+Station} ns3\+::\+Edca\+Txop\+N\+::\+Get\+Type\+Of\+Station (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1EdcaTxopN_a6a0659df3e1baa6c39b403009eb234b2}{}\label{classns3_1_1EdcaTxopN_a6a0659df3e1baa6c39b403009eb234b2}
Return type of station.

\begin{DoxyReturn}{Returns}
type of station. 
\end{DoxyReturn}

\begin{DoxyCode}
147 \{
148   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
149   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EdcaTxopN_a2c8e52226f121e25a17e176a3a1594bb}{m\_typeOfStation};
150 \}
\end{DoxyCode}
\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Got\+Ack@{Got\+Ack}}
\index{Got\+Ack@{Got\+Ack}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Got\+Ack(void)}{GotAck(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Got\+Ack (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_acd117ddd03aa1b3abac3bca9830ee895}{}\label{classns3_1_1EdcaTxopN_acd117ddd03aa1b3abac3bca9830ee895}
Event handler when an A\+CK is received. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_ae886b71f06cb39fd4affb03576fd3701}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
512 \{
513   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
514   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1EdcaTxopN_af17d826141cb2e87903a268e5f9f57ad}{m\_currentIsFragmented}
515       || !\hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa77eff21861b910ba0e82cf642df6f5e}{HasNextPacket} ()
516       || \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ae640dc1677df83cba71b9ad61e2931b4}{IsQosAmsdu} ())
517     \{
518       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"got ack. tx done."});
519       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_a0d37805f9e520da7a15dee3f66c2bfd5}{m\_txOkCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
520         \{
521           \hyperlink{classns3_1_1DcaTxop_a0d37805f9e520da7a15dee3f66c2bfd5}{m\_txOkCallback} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
522         \}
523 
524       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a4f0f1dc289f21d3840bd782ff309d33a}{IsAction} ())
525         \{
526           WifiActionHeader actionHdr;
527           Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->Copy ();
528           p->RemoveHeader (actionHdr);
529           \textcolor{keywordflow}{if} (actionHdr.GetCategory () == \hyperlink{classns3_1_1WifiActionHeader_a5402becd11b4077f22d76c4d0d923358ae1954449580715d3d737a12739923ef2}{WifiActionHeader::BLOCK\_ACK}
530               && actionHdr.GetAction ().blockAck == 
      \hyperlink{classns3_1_1WifiActionHeader_a575d216d28074b8e5fc25d17692f6962a31c45aded50eec5db8f12da960e3d239}{WifiActionHeader::BLOCK\_ACK\_DELBA})
531             \{
532               MgtDelBaHeader delBa;
533               p->PeekHeader (delBa);
534               \textcolor{keywordflow}{if} (delBa.IsByOriginator ())
535                 \{
536                   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_ac18cb8344ca8061c116df54064aee5e4}{TearDownBlockAck} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), delBa.GetTid ());
537                 \}
538               \textcolor{keywordflow}{else}
539                 \{
540                   \hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_ada8f9b5da9cbfb2a63b1d740ab88216d}{DestroyBlockAckAgreement} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), delBa.GetTid ());
541                 \}
542             \}
543         \}
544       \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = 0;
545       \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ad40c89a598811d9dc88d6270b9d21e4f}{ResetCw} ();
546       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1EdcaTxopN_ad377cd7fb454ea77a7f7583393ff449a}{HasTxop} ())
547         \{
548           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ().
      \hyperlink{classns3_1_1Time_a725fcbc267127acfac451f9026c190c6}{IsStrictlyPositive} ())
549             \{
550               \hyperlink{classns3_1_1EdcaTxopN_a451e4a459e0cf4946cc57cc4fe4e64cc}{m\_txopTrace} (\hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop}, \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - 
      \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop});
551             \}
552           \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
553           \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace} = \hyperlink{classns3_1_1DcaTxop_a9044b173b448e6c40b730740621cb238}{m\_rng}->\hyperlink{classns3_1_1RandomStream_a29375dd4bbb99a20fb297ca355d5811a}{GetNext} (0, \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->
      \hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ());
554           \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a687e3238b35778b630557bf0e1636dba}{StartBackoffNow} (\hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace});
555           \hyperlink{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{RestartAccessIfNeeded} ();
556         \}
557     \}
558   \textcolor{keywordflow}{else}
559     \{
560       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"got ack. tx not done, size="} << \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->GetSize ()
      );
561       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1EdcaTxopN_ad377cd7fb454ea77a7f7583393ff449a}{HasTxop} ())
562         \{
563           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ().
      \hyperlink{classns3_1_1Time_a725fcbc267127acfac451f9026c190c6}{IsStrictlyPositive} ())
564             \{
565               \hyperlink{classns3_1_1EdcaTxopN_a451e4a459e0cf4946cc57cc4fe4e64cc}{m\_txopTrace} (\hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop}, \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - 
      \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop});
566               \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
567               \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace} = \hyperlink{classns3_1_1DcaTxop_a9044b173b448e6c40b730740621cb238}{m\_rng}->\hyperlink{classns3_1_1RandomStream_a29375dd4bbb99a20fb297ca355d5811a}{GetNext} (0, 
      \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ());
568               \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a687e3238b35778b630557bf0e1636dba}{StartBackoffNow} (\hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace});
569               \hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber}++;
570               \hyperlink{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{RestartAccessIfNeeded} ();
571             \}
572         \}
573     \}
574 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 43


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Got\+Add\+Ba\+Response@{Got\+Add\+Ba\+Response}}
\index{Got\+Add\+Ba\+Response@{Got\+Add\+Ba\+Response}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Got\+Add\+Ba\+Response(const Mgt\+Add\+Ba\+Response\+Header $\ast$resp\+Hdr, Mac48\+Address recipient)}{GotAddBaResponse(const MgtAddBaResponseHeader *respHdr, Mac48Address recipient)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Got\+Add\+Ba\+Response (
\begin{DoxyParamCaption}
\item[{const {\bf Mgt\+Add\+Ba\+Response\+Header} $\ast$}]{resp\+Hdr, }
\item[{{\bf Mac48\+Address}}]{recipient}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_ac3089ca4272d45b23293a7481e0922e0}{}\label{classns3_1_1EdcaTxopN_ac3089ca4272d45b23293a7481e0922e0}
Event handler when an A\+D\+D\+BA response is received.


\begin{DoxyParams}{Parameters}
{\em resp\+Hdr} & A\+D\+D\+BA response header. \\
\hline
{\em recipient} & address of the recipient. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1256 \{
1257   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << respHdr << recipient);
1258   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"received ADDBA response from "} << recipient);
1259   uint8\_t tid = respHdr->GetTid ();
1260   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_ae13c4678f75ebfda7f63d0521878662b}{ExistsAgreementInState} (recipient, tid, 
      \hyperlink{classns3_1_1OriginatorBlockAckAgreement_ab33ae8af8c458aca7437a472778e4761a0f8c3879c3167ef79a0d4c57ac6015ff}{OriginatorBlockAckAgreement::PENDING}))
1261     \{
1262       \textcolor{keywordflow}{if} (respHdr->GetStatusCode ().IsSuccess ())
1263         \{
1264           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"block ack agreement established with "} << recipient);
1265           \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_ac5b719210486783186579641e599d362}{UpdateAgreement} (respHdr, recipient);
1266         \}
1267       \textcolor{keywordflow}{else}
1268         \{
1269           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"discard ADDBA response"} << recipient);
1270           \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a1bc61922d4b8fbca906162e1f5a908af}{NotifyAgreementUnsuccessful} (recipient, tid);
1271         \}
1272     \}
1273   \hyperlink{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{RestartAccessIfNeeded} ();
1274 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 44


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Got\+Block\+Ack@{Got\+Block\+Ack}}
\index{Got\+Block\+Ack@{Got\+Block\+Ack}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Got\+Block\+Ack(const Ctrl\+B\+Ack\+Response\+Header $\ast$block\+Ack, Mac48\+Address recipient, double rx\+Snr, Wifi\+Mode tx\+Mode, double data\+Snr)}{GotBlockAck(const CtrlBAckResponseHeader *blockAck, Mac48Address recipient, double rxSnr, WifiMode txMode, double dataSnr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Got\+Block\+Ack (
\begin{DoxyParamCaption}
\item[{const {\bf Ctrl\+B\+Ack\+Response\+Header} $\ast$}]{block\+Ack, }
\item[{{\bf Mac48\+Address}}]{recipient, }
\item[{double}]{rx\+Snr, }
\item[{{\bf Wifi\+Mode}}]{tx\+Mode, }
\item[{double}]{data\+Snr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a36c24d5a9717893466eaadda6bd66cc5}{}\label{classns3_1_1EdcaTxopN_a36c24d5a9717893466eaadda6bd66cc5}
Event handler when a Block A\+CK is received.


\begin{DoxyParams}{Parameters}
{\em block\+Ack} & block ack. \\
\hline
{\em recipient} & address of the recipient. \\
\hline
{\em rx\+Snr} & S\+NR of the block ack itself. \\
\hline
{\em tx\+Mode} & wifi mode. \\
\hline
{\em data\+Snr} & reported data S\+NR from the peer. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_ab0ee6641943fe3d12058c538e4f57a70}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
1286 \{
1287   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << blockAck << recipient << rxSnr << txMode.GetUniqueName () << 
      dataSnr);
1288   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"got block ack from="} << recipient);
1289   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a9b24f21a11eb094fa683943b7fc3c747}{NotifyGotBlockAck} (blockAck, recipient, rxSnr, txMode, dataSnr);
1290   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_a0d37805f9e520da7a15dee3f66c2bfd5}{m\_txOkCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
1291     \{
1292       \hyperlink{classns3_1_1DcaTxop_a0d37805f9e520da7a15dee3f66c2bfd5}{m\_txOkCallback} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
1293     \}
1294   \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = 0;
1295   \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ad40c89a598811d9dc88d6270b9d21e4f}{ResetCw} ();
1296   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1EdcaTxopN_ad377cd7fb454ea77a7f7583393ff449a}{HasTxop} ())
1297     \{
1298       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ().
      \hyperlink{classns3_1_1Time_a725fcbc267127acfac451f9026c190c6}{IsStrictlyPositive} ())
1299         \{
1300           \hyperlink{classns3_1_1EdcaTxopN_a451e4a459e0cf4946cc57cc4fe4e64cc}{m\_txopTrace} (\hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop}, \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - 
      \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop});
1301         \}
1302       \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
1303       \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace} = \hyperlink{classns3_1_1DcaTxop_a9044b173b448e6c40b730740621cb238}{m\_rng}->\hyperlink{classns3_1_1RandomStream_a29375dd4bbb99a20fb297ca355d5811a}{GetNext} (0, \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->
      \hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ());
1304       \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a687e3238b35778b630557bf0e1636dba}{StartBackoffNow} (\hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace});
1305       \hyperlink{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{RestartAccessIfNeeded} ();
1306     \}
1307 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 45


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Got\+Del\+Ba\+Frame@{Got\+Del\+Ba\+Frame}}
\index{Got\+Del\+Ba\+Frame@{Got\+Del\+Ba\+Frame}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Got\+Del\+Ba\+Frame(const Mgt\+Del\+Ba\+Header $\ast$del\+Ba\+Hdr, Mac48\+Address recipient)}{GotDelBaFrame(const MgtDelBaHeader *delBaHdr, Mac48Address recipient)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Got\+Del\+Ba\+Frame (
\begin{DoxyParamCaption}
\item[{const {\bf Mgt\+Del\+Ba\+Header} $\ast$}]{del\+Ba\+Hdr, }
\item[{{\bf Mac48\+Address}}]{recipient}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_af597de5434ff4a0a7cb18722ae945408}{}\label{classns3_1_1EdcaTxopN_af597de5434ff4a0a7cb18722ae945408}
Event handler when a D\+E\+L\+BA frame is received.


\begin{DoxyParams}{Parameters}
{\em del\+Ba\+Hdr} & D\+E\+L\+BA header. \\
\hline
{\em recipient} & address of the recipient. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1278 \{
1279   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << delBaHdr << recipient);
1280   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"received DELBA frame from="} << recipient);
1281   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_ac18cb8344ca8061c116df54064aee5e4}{TearDownBlockAck} (recipient, delBaHdr->GetTid ());
1282 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 46


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Has\+Txop@{Has\+Txop}}
\index{Has\+Txop@{Has\+Txop}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Has\+Txop(void) const }{HasTxop(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::\+Has\+Txop (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_ad377cd7fb454ea77a7f7583393ff449a}{}\label{classns3_1_1EdcaTxopN_ad377cd7fb454ea77a7f7583393ff449a}
Check if the station has T\+X\+OP granted for the next M\+P\+DU.

\begin{DoxyReturn}{Returns}
true if the station has T\+X\+OP granted for the next M\+P\+DU, false otherwise. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_a90d763c1c16a5223d5cab486e6f1654e}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
924 \{
925   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
926   WifiMacHeader hdr;
927   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () || \hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ().
      \hyperlink{classns3_1_1Time_ae47420e5c8a04d222b18ee13c2a95799}{IsZero} ())
928     \{
929       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
930     \}
931 
932   Ptr<const WifiMacQueueItem> peekedItem = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->PeekByTidAndAddress (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} (),
933                                                                          
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1},
934                                                                          
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ());
935   \textcolor{keywordflow}{if} (peekedItem == 0)
936     \{
937       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
938     \}
939 
940   Ptr<const Packet> peekedPacket = peekedItem->GetPacket ();
941   hdr = peekedItem->GetHeader ();
942   MacLowTransmissionParameters params = \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams};
943   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_aaa152fcd66b795ee978cf48264b2c57e}{IsQosBlockAck} ())
944     \{
945       params.\hyperlink{classns3_1_1MacLowTransmissionParameters_ae09e5316ed859ddca19bfbaec3b07704}{DisableAck} ();
946     \}
947   \textcolor{keywordflow}{else}
948     \{
949       params.EnableAck ();
950     \}
951 
952   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} duration = \hyperlink{classns3_1_1DcaTxop_ae69735f4f2861cd143192c1072cbae79}{GetLow} ()->\hyperlink{classns3_1_1MacLow_a8fa9fc428371d4fc899d114d67a6f895}{CalculateOverallTxTime} (peekedPacket, &hdr, 
      params);
953   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} != 0)
954     \{
955       \textcolor{comment}{//take into account current transmission in duration}
956       duration += \hyperlink{classns3_1_1DcaTxop_ae69735f4f2861cd143192c1072cbae79}{GetLow} ()->\hyperlink{classns3_1_1MacLow_a8fa9fc428371d4fc899d114d67a6f895}{CalculateOverallTxTime} (
      \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, params);
957     \}
958   \textcolor{keywordflow}{return} (\hyperlink{classns3_1_1EdcaTxopN_a63c6254bc64d16c3e6ebe2b9320795a4}{GetTxopRemaining} () >= duration);
959 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 47




Here is the caller graph for this function\+:
% FIG 48


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Is\+Edca@{Is\+Edca}}
\index{Is\+Edca@{Is\+Edca}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Is\+Edca()}{IsEdca()}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::\+Is\+Edca (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a24cf3adc4d818065d4571ca4162c65d6}{}\label{classns3_1_1EdcaTxopN_a24cf3adc4d818065d4571ca4162c65d6}
Check for E\+D\+CA.

\begin{DoxyReturn}{Returns}
true if E\+D\+CA. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_ae8633b9209116b70be9d8b2511239dc0}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
1599 \{
1600   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1601 \}
\end{DoxyCode}
\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Is\+Last\+Fragment@{Is\+Last\+Fragment}}
\index{Is\+Last\+Fragment@{Is\+Last\+Fragment}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Is\+Last\+Fragment(void) const }{IsLastFragment(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::\+Is\+Last\+Fragment (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_aa4a1fb9ce28746fa0dc7d47dde40f2fa}{}\label{classns3_1_1EdcaTxopN_aa4a1fb9ce28746fa0dc7d47dde40f2fa}
Check if the current fragment is the last fragment.

\begin{DoxyReturn}{Returns}
true if the current fragment is the last fragment, false otherwise. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_a85e61c81197f366aaafe5b2f554f3ed9}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
1156 \{
1157   \textcolor{keywordtype}{bool} isLastFragment;
1158   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a8112c980e053b401d71b2031a17ec2b3}{IsTxopFragmentation} ())
1159     \{
1160       isLastFragment = (\hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber} == \hyperlink{classns3_1_1EdcaTxopN_a58be060e7f5a3b0f25404df841b9a293}{GetNTxopFragment} () - 1);
1161     \}
1162   \textcolor{keywordflow}{else}
1163     \{
1164       isLastFragment = \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_af88757b4d170e2aa444f8922c3b90503}{IsLastFragment} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr},
1165                                                          \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, 
      \hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber});
1166     \}
1167   \textcolor{keywordflow}{return} isLastFragment;
1168 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 49




Here is the caller graph for this function\+:
% FIG 50


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Is\+Txop\+Fragmentation@{Is\+Txop\+Fragmentation}}
\index{Is\+Txop\+Fragmentation@{Is\+Txop\+Fragmentation}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Is\+Txop\+Fragmentation() const }{IsTxopFragmentation() const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::\+Is\+Txop\+Fragmentation (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a8112c980e053b401d71b2031a17ec2b3}{}\label{classns3_1_1EdcaTxopN_a8112c980e053b401d71b2031a17ec2b3}
Check if the current packet is fragmented because of an exceeded T\+X\+OP duration.

\begin{DoxyReturn}{Returns}
true if the current packet is fragmented because of an exceeded T\+X\+OP duration, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
1004 \{
1005   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ().IsZero ())
1006     \{
1007       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1008     \}
1009   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a42ff3d9a0bf8c3e612271a317aa052be}{NeedFragmentation} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, 
      \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket})
1010       || (\hyperlink{classns3_1_1EdcaTxopN_af20974348cb05b0e936b0f4204bca5c8}{GetTxopFragmentSize} () < \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_ae646308621e90ca3ae6ca6de3540cff2}{GetFragmentSize} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr},\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, 0)))
1011     \{
1012       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1013     \}
1014   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1015 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 51




Here is the caller graph for this function\+:
% FIG 52


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Map\+Dest\+Address\+For\+Aggregation@{Map\+Dest\+Address\+For\+Aggregation}}
\index{Map\+Dest\+Address\+For\+Aggregation@{Map\+Dest\+Address\+For\+Aggregation}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Map\+Dest\+Address\+For\+Aggregation(const Wifi\+Mac\+Header \&hdr)}{MapDestAddressForAggregation(const WifiMacHeader &hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::\+Edca\+Txop\+N\+::\+Map\+Dest\+Address\+For\+Aggregation (
\begin{DoxyParamCaption}
\item[{const {\bf Wifi\+Mac\+Header} \&}]{hdr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a766951341864967a984075e33b0606c4}{}\label{classns3_1_1EdcaTxopN_a766951341864967a984075e33b0606c4}
This functions are used only to correctly set destination address in A-\/\+M\+S\+DU subframes. If aggregating sta is a S\+TA (in an infrastructured network)\+: DA = Address3 If aggregating sta is an AP DA = Address1


\begin{DoxyParams}{Parameters}
{\em hdr} & Wi-\/\+Fi header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} 
\end{DoxyReturn}

\begin{DoxyCode}
1216 \{
1217   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &hdr);
1218   Mac48Address retval;
1219   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a2c8e52226f121e25a17e176a3a1594bb}{m\_typeOfStation} == \hyperlink{namespacens3_a21fd18ff410cecc971a0c27634830445aed6b16257135c44d936ad7cc56f2336f}{AP} || \hyperlink{classns3_1_1EdcaTxopN_a2c8e52226f121e25a17e176a3a1594bb}{m\_typeOfStation} == 
      \hyperlink{namespacens3_a21fd18ff410cecc971a0c27634830445a255dea8136dbcf713e232f83d81204a9}{ADHOC\_STA})
1220     \{
1221       retval = hdr.GetAddr1 ();
1222     \}
1223   \textcolor{keywordflow}{else}
1224     \{
1225       retval = hdr.GetAddr3 ();
1226     \}
1227   \textcolor{keywordflow}{return} retval;
1228 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 53




Here is the caller graph for this function\+:
% FIG 54


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Map\+Src\+Address\+For\+Aggregation@{Map\+Src\+Address\+For\+Aggregation}}
\index{Map\+Src\+Address\+For\+Aggregation@{Map\+Src\+Address\+For\+Aggregation}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Map\+Src\+Address\+For\+Aggregation(const Wifi\+Mac\+Header \&hdr)}{MapSrcAddressForAggregation(const WifiMacHeader &hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::\+Edca\+Txop\+N\+::\+Map\+Src\+Address\+For\+Aggregation (
\begin{DoxyParamCaption}
\item[{const {\bf Wifi\+Mac\+Header} \&}]{hdr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_adddb74b3fd751b59f79e2405ecbd513c}{}\label{classns3_1_1EdcaTxopN_adddb74b3fd751b59f79e2405ecbd513c}
This functions are used only to correctly set source address in A-\/\+M\+S\+DU subframes. If aggregating sta is a S\+TA (in an infrastructured network)\+: SA = Address2 If aggregating sta is an AP SA = Address3


\begin{DoxyParams}{Parameters}
{\em hdr} & Wi-\/\+Fi header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} 
\end{DoxyReturn}

\begin{DoxyCode}
1200 \{
1201   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &hdr);
1202   Mac48Address retval;
1203   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a2c8e52226f121e25a17e176a3a1594bb}{m\_typeOfStation} == \hyperlink{namespacens3_a21fd18ff410cecc971a0c27634830445aa1fe7589cc1205354fcb2e99e3b74edf}{STA} || \hyperlink{classns3_1_1EdcaTxopN_a2c8e52226f121e25a17e176a3a1594bb}{m\_typeOfStation} == 
      \hyperlink{namespacens3_a21fd18ff410cecc971a0c27634830445a255dea8136dbcf713e232f83d81204a9}{ADHOC\_STA})
1204     \{
1205       retval = hdr.GetAddr2 ();
1206     \}
1207   \textcolor{keywordflow}{else}
1208     \{
1209       retval = hdr.GetAddr3 ();
1210     \}
1211   \textcolor{keywordflow}{return} retval;
1212 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 55




Here is the caller graph for this function\+:
% FIG 56


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Missed\+Ack@{Missed\+Ack}}
\index{Missed\+Ack@{Missed\+Ack}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Missed\+Ack(void)}{MissedAck(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Missed\+Ack (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_ad16ece50ac2937e5cdfeae010d4b5c88}{}\label{classns3_1_1EdcaTxopN_ad16ece50ac2937e5cdfeae010d4b5c88}
Event handler when an A\+CK is missed. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_ad3e81e84ae17a53ba12407f5954ca96a}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
578 \{
579   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
580   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"missed ack"});
581   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_abc2385deb3c362e0c2db7e7131032a0a}{NeedDataRetransmission} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, 
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}))
582     \{
583       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Ack Fail"});
584       \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a816830f6f7c76615b6f0066f3c5809bd}{ReportFinalDataFailed} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
585       \textcolor{keywordtype}{bool} resetCurrentPacket = \textcolor{keyword}{true};
586       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_a3d58ad498059e9751312a7ee5b364678}{m\_txFailedCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
587         \{
588           \hyperlink{classns3_1_1DcaTxop_a3d58ad498059e9751312a7ee5b364678}{m\_txFailedCallback} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
589         \}
590       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_ac58af0b7a2b0d0849b13db6ec3d12939}{GetAmpduExist} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ()) || 
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ())
591         \{
592           uint8\_t tid = \hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, 
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
593 
594           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_abf17485d78cd742b9319cb31f658cbd2}{GetBaAgreementExists} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), tid))
595             \{
596               \textcolor{comment}{//send Block ACK Request in order to shift WinStart at the receiver}
597               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Transmit Block Ack Request"});
598               CtrlBAckRequestHeader reqHdr;
599               reqHdr.SetType (\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
600               reqHdr.SetStartingSequence (\hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle}->
      \hyperlink{classns3_1_1MacTxMiddle_a9ae98e7d98efae080431b7fe3b0a9a2d}{PeekNextSequenceNumberFor} (&\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}));
601               reqHdr.SetTidInfo (tid);
602               reqHdr.SetHtImmediateAck (\textcolor{keyword}{true});
603               Ptr<Packet> bar = Create<Packet> ();
604               bar->AddHeader (reqHdr);
605               Bar request (bar, \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), tid, reqHdr.
      MustSendHtImmediateAck ());
606               \hyperlink{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}{m\_currentBar} = request;
607               WifiMacHeader hdr;
608               hdr.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa1b3c29e4b46847a71ad8f3b45c747456}{WIFI\_MAC\_CTL\_BACKREQ});
609               hdr.SetAddr1 (request.recipient);
610               hdr.SetAddr2 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{GetAddress} ());
611               hdr.SetAddr3 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a4d11b37c976a0bac9d123fcc4b1fb9e6}{GetBssid} ());
612               hdr.SetDsNotTo ();
613               hdr.SetDsNotFrom ();
614               hdr.SetNoRetry ();
615               hdr.SetNoMoreFragments ();
616               \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = request.bar;
617               \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr} = hdr;
618               resetCurrentPacket = \textcolor{keyword}{false};
619             \}
620         \}
621       \textcolor{comment}{//to reset the dcf.}
622       \textcolor{keywordflow}{if} (resetCurrentPacket == \textcolor{keyword}{true})
623         \{
624           \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = 0;
625         \}
626       \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ad40c89a598811d9dc88d6270b9d21e4f}{ResetCw} ();
627       \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
628     \}
629   \textcolor{keywordflow}{else}
630     \{
631       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Retransmit"});
632       \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a885db0be16b199a3e40388c0a70f2f99}{SetRetry} ();
633       \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ac8c3e07b4e1e33badb18642f489b712e}{UpdateFailedCw} ();
634       \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
635     \}
636   \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace} = \hyperlink{classns3_1_1DcaTxop_a9044b173b448e6c40b730740621cb238}{m\_rng}->\hyperlink{classns3_1_1RandomStream_a29375dd4bbb99a20fb297ca355d5811a}{GetNext} (0, \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->
      \hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ());
637   \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a687e3238b35778b630557bf0e1636dba}{StartBackoffNow} (\hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace});
638   \hyperlink{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{RestartAccessIfNeeded} ();
639 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 57




Here is the caller graph for this function\+:
% FIG 58


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Missed\+Block\+Ack@{Missed\+Block\+Ack}}
\index{Missed\+Block\+Ack@{Missed\+Block\+Ack}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Missed\+Block\+Ack(uint8\+\_\+t n\+Mpdus)}{MissedBlockAck(uint8_t nMpdus)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Missed\+Block\+Ack (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{n\+Mpdus}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a91aae2c1ab764e8e4cb857ef97fa235b}{}\label{classns3_1_1EdcaTxopN_a91aae2c1ab764e8e4cb857ef97fa235b}
Event handler when a Block A\+CK timeout has occurred. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_ad04891e7b45d073a36d937468a51334f}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
643 \{
644   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint16\_t)nMpdus);
645   uint8\_t tid = \hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
646   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_ac58af0b7a2b0d0849b13db6ec3d12939}{GetAmpduExist} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ()))
647     \{
648       \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a9630acb259fe192dfd7606fd459c9cdc}{ReportAmpduTxStatus} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), tid, 0, nMpdus, 0, 0);
649     \}
650   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a704abf5e2a9cd43f9546f8a0181a0619}{NeedBarRetransmission} ())
651     \{
652       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1EdcaTxopN_ac58af0b7a2b0d0849b13db6ec3d12939}{GetAmpduExist} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ()))
653         \{
654           \textcolor{comment}{//should i report this to station addressed by ADDR1?}
655           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Retransmit block ack request"});
656           \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a885db0be16b199a3e40388c0a70f2f99}{SetRetry} ();
657         \}
658       \textcolor{keywordflow}{else}
659         \{
660           \textcolor{comment}{//standard says when loosing a BlockAck originator may send a BAR page 139}
661           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Transmit Block Ack Request"});
662           CtrlBAckRequestHeader reqHdr;
663           reqHdr.SetType (\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
664           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ())
665             \{
666               reqHdr.SetStartingSequence (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_aa202a29c2d6aebe9b3d589e58cbd17bb}{GetSequenceNumber} ());
667             \}
668           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a44f012384009b131d21512459c727f02}{IsBlockAckReq} ())
669             \{
670               CtrlBAckRequestHeader baReqHdr;
671               \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->PeekHeader (baReqHdr);
672               reqHdr.SetStartingSequence (baReqHdr.GetStartingSequence ());
673             \}
674           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a273fb5273dcb6c690ac66a7caf72d305}{IsBlockAck} ())
675             \{
676               CtrlBAckResponseHeader baRespHdr;
677               \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->PeekHeader (baRespHdr);
678               reqHdr.SetStartingSequence (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_aa202a29c2d6aebe9b3d589e58cbd17bb}{GetSequenceNumber} ());
679             \}
680           reqHdr.SetTidInfo (tid);
681           reqHdr.SetHtImmediateAck (\textcolor{keyword}{true});
682           Ptr<Packet> bar = Create<Packet> ();
683           bar->AddHeader (reqHdr);
684           Bar request (bar, \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), tid, reqHdr.
      MustSendHtImmediateAck ());
685           \hyperlink{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}{m\_currentBar} = request;
686           WifiMacHeader hdr;
687           hdr.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa1b3c29e4b46847a71ad8f3b45c747456}{WIFI\_MAC\_CTL\_BACKREQ});
688           hdr.SetAddr1 (request.recipient);
689           hdr.SetAddr2 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{GetAddress} ());
690           hdr.SetAddr3 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a4d11b37c976a0bac9d123fcc4b1fb9e6}{GetBssid} ());
691           hdr.SetDsNotTo ();
692           hdr.SetDsNotFrom ();
693           hdr.SetNoRetry ();
694           hdr.SetNoMoreFragments ();
695 
696           \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = request.bar;
697           \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr} = hdr;
698         \}
699       \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ac8c3e07b4e1e33badb18642f489b712e}{UpdateFailedCw} ();
700       \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
701     \}
702   \textcolor{keywordflow}{else}
703     \{
704       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Block Ack Request Fail"});
705       \textcolor{comment}{//to reset the dcf.}
706       \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = 0;
707       \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ad40c89a598811d9dc88d6270b9d21e4f}{ResetCw} ();
708       \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
709     \}
710   \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace} = \hyperlink{classns3_1_1DcaTxop_a9044b173b448e6c40b730740621cb238}{m\_rng}->\hyperlink{classns3_1_1RandomStream_a29375dd4bbb99a20fb297ca355d5811a}{GetNext} (0, \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->
      \hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ());
711   \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a687e3238b35778b630557bf0e1636dba}{StartBackoffNow} (\hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace});
712   \hyperlink{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{RestartAccessIfNeeded} ();
713 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 59


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Missed\+Cts@{Missed\+Cts}}
\index{Missed\+Cts@{Missed\+Cts}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Missed\+Cts(void)}{MissedCts(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Missed\+Cts (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_ab6f7016d503472174ce9fef2fd45de8e}{}\label{classns3_1_1EdcaTxopN_ab6f7016d503472174ce9fef2fd45de8e}
Event handler when a C\+TS timeout has occurred. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_af27914f05cda12aa0fc6245f054c45bd}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
449 \{
450   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
451   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"missed cts"});
452   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_a91e4d3ef666784684ecad9bd4b229333}{NeedRtsRetransmission} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, 
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}))
453     \{
454       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Cts Fail"});
455       \textcolor{keywordtype}{bool} resetCurrentPacket = \textcolor{keyword}{true};
456       \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ab47024978076386cbfe3f0235bba742b}{ReportFinalRtsFailed} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
457       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_a3d58ad498059e9751312a7ee5b364678}{m\_txFailedCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
458         \{
459           \hyperlink{classns3_1_1DcaTxop_a3d58ad498059e9751312a7ee5b364678}{m\_txFailedCallback} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
460         \}
461       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_ac58af0b7a2b0d0849b13db6ec3d12939}{GetAmpduExist} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ()) || 
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ())
462         \{
463           uint8\_t tid = \hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, 
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
464           \hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_ab143d3691846b2638a6f089c96169ee2}{FlushAggregateQueue} (tid);
465 
466           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_abf17485d78cd742b9319cb31f658cbd2}{GetBaAgreementExists} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), tid))
467             \{
468               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Transmit Block Ack Request"});
469               CtrlBAckRequestHeader reqHdr;
470               reqHdr.SetType (\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
471               reqHdr.SetStartingSequence (\hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle}->
      \hyperlink{classns3_1_1MacTxMiddle_a9ae98e7d98efae080431b7fe3b0a9a2d}{PeekNextSequenceNumberFor} (&\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}));
472               reqHdr.SetTidInfo (tid);
473               reqHdr.SetHtImmediateAck (\textcolor{keyword}{true});
474               Ptr<Packet> bar = Create<Packet> ();
475               bar->AddHeader (reqHdr);
476               Bar request (bar, \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), tid, reqHdr.
      MustSendHtImmediateAck ());
477               \hyperlink{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}{m\_currentBar} = request;
478               WifiMacHeader hdr;
479               hdr.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa1b3c29e4b46847a71ad8f3b45c747456}{WIFI\_MAC\_CTL\_BACKREQ});
480               hdr.SetAddr1 (request.recipient);
481               hdr.SetAddr2 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{GetAddress} ());
482               hdr.SetAddr3 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a4d11b37c976a0bac9d123fcc4b1fb9e6}{GetBssid} ());
483               hdr.SetDsNotTo ();
484               hdr.SetDsNotFrom ();
485               hdr.SetNoRetry ();
486               hdr.SetNoMoreFragments ();
487               \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = request.bar;
488               \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr} = hdr;
489               resetCurrentPacket = \textcolor{keyword}{false};
490             \}
491         \}
492       \textcolor{comment}{//to reset the dcf.}
493       \textcolor{keywordflow}{if} (resetCurrentPacket == \textcolor{keyword}{true})
494         \{
495           \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = 0;
496         \}
497       \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ad40c89a598811d9dc88d6270b9d21e4f}{ResetCw} ();
498       \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
499     \}
500   \textcolor{keywordflow}{else}
501     \{
502       \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ac8c3e07b4e1e33badb18642f489b712e}{UpdateFailedCw} ();
503       \hyperlink{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{m\_cwTrace} = \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ();
504     \}
505   \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace} = \hyperlink{classns3_1_1DcaTxop_a9044b173b448e6c40b730740621cb238}{m\_rng}->\hyperlink{classns3_1_1RandomStream_a29375dd4bbb99a20fb297ca355d5811a}{GetNext} (0, \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->
      \hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ());
506   \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a687e3238b35778b630557bf0e1636dba}{StartBackoffNow} (\hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace});
507   \hyperlink{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{RestartAccessIfNeeded} ();
508 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 60


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Need\+Bar\+Retransmission@{Need\+Bar\+Retransmission}}
\index{Need\+Bar\+Retransmission@{Need\+Bar\+Retransmission}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Need\+Bar\+Retransmission(void)}{NeedBarRetransmission(void)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::\+Need\+Bar\+Retransmission (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a704abf5e2a9cd43f9546f8a0181a0619}{}\label{classns3_1_1EdcaTxopN_a704abf5e2a9cd43f9546f8a0181a0619}
Check if Block A\+CK Request should be re-\/transmitted.

\begin{DoxyReturn}{Returns}
true if B\+AR should be re-\/transmitted, false otherwise. 
\end{DoxyReturn}

\begin{DoxyCode}
811 \{
812   uint8\_t tid = 0;
813   uint16\_t seqNumber = 0;
814   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ())
815     \{
816       tid = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} ();
817       seqNumber = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_aa202a29c2d6aebe9b3d589e58cbd17bb}{GetSequenceNumber} ();
818     \}
819   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a44f012384009b131d21512459c727f02}{IsBlockAckReq} ())
820     \{
821       CtrlBAckRequestHeader baReqHdr;
822       \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->PeekHeader (baReqHdr);
823       tid = baReqHdr.GetTidInfo ();
824       seqNumber = baReqHdr.GetStartingSequence ();
825     \}
826   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a273fb5273dcb6c690ac66a7caf72d305}{IsBlockAck} ())
827     \{
828       CtrlBAckResponseHeader baRespHdr;
829       \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->PeekHeader (baRespHdr);
830       tid = baRespHdr.GetTidInfo ();
831       seqNumber = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_aa202a29c2d6aebe9b3d589e58cbd17bb}{GetSequenceNumber} ();
832     \}
833   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a8be3e6dc77c96e4cbc317302ad79a5ac}{NeedBarRetransmission} (tid, seqNumber, 
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ());
834 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 61




Here is the caller graph for this function\+:
% FIG 62


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Need\+Fragmentation@{Need\+Fragmentation}}
\index{Need\+Fragmentation@{Need\+Fragmentation}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Need\+Fragmentation(void) const }{NeedFragmentation(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::\+Need\+Fragmentation (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a60daff47931c6501e47778c99c7e7a3c}{}\label{classns3_1_1EdcaTxopN_a60daff47931c6501e47778c99c7e7a3c}
Check if the current packet should be fragmented.

\begin{DoxyReturn}{Returns}
true if the current packet should be fragmented, false otherwise. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_a43db6d7eafff8c65cf41f55026e0218d}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
980 \{
981   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
982   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_afae2836c7785854272d73bf33e58c95a}{HasVhtSupported} ()
983       || \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a5c442e5a306eab9a69b7cd2dcead57dc}{HasHeSupported} ()
984       || \hyperlink{classns3_1_1EdcaTxopN_ac58af0b7a2b0d0849b13db6ec3d12939}{GetAmpduExist} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ())
985       || (\hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ac792dc8f3c77d507d25de0b87b52608c}{HasHtSupported} ()
986           && \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ()
987           && \hyperlink{classns3_1_1EdcaTxopN_abf17485d78cd742b9319cb31f658cbd2}{GetBaAgreementExists} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}))
988           && \hyperlink{classns3_1_1EdcaTxopN_aa8beff92afb46fd336cdf35cb0f451c9}{GetMpduAggregator} ()->\hyperlink{classns3_1_1MpduAggregator_a781ed153a388bbc8a5ac231cfd9218c8}{GetMaxAmpduSize} () >= 
      \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->GetSize ()))
989     \{
990       \textcolor{comment}{//MSDU is not fragmented when it is transmitted using an HT-immediate or}
991       \textcolor{comment}{//HT-delayed Block Ack agreement or when it is carried in an A-MPDU.}
992       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
993     \}
994   \textcolor{keywordtype}{bool} needTxopFragmentation = \textcolor{keyword}{false};
995   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ().\hyperlink{classns3_1_1Time_a725fcbc267127acfac451f9026c190c6}{IsStrictlyPositive} () && 
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac40b6a967f6bcca6f29ea21c6c27b696}{IsData} ())
996     \{
997       needTxopFragmentation = (\hyperlink{classns3_1_1DcaTxop_ae69735f4f2861cd143192c1072cbae79}{GetLow} ()->\hyperlink{classns3_1_1MacLow_a8fa9fc428371d4fc899d114d67a6f895}{CalculateOverallTxTime} (
      \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, &\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}) > 
      \hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ());
998     \}
999   \textcolor{keywordflow}{return} (needTxopFragmentation || \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a42ff3d9a0bf8c3e612271a317aa052be}{NeedFragmentation} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}));
1000 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 63




Here is the caller graph for this function\+:
% FIG 64


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Needs\+Access@{Needs\+Access}}
\index{Needs\+Access@{Needs\+Access}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Needs\+Access(void) const }{NeedsAccess(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::\+Needs\+Access (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a251053902891cd35ff8c98cf145078f9}{}\label{classns3_1_1EdcaTxopN_a251053902891cd35ff8c98cf145078f9}
Check if the E\+D\+C\+AF requires access.

\begin{DoxyReturn}{Returns}
true if the E\+D\+C\+AF requires access, false otherwise. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_ab63b199039406a132817862cc2881928}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
154 \{
155   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
156   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->HasPackets () || \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} != 0 || 
      \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_aa4d33e4f453efea9967dc2ebb7142210}{HasPackets} ();
157 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 65


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Notify\+Access\+Granted@{Notify\+Access\+Granted}}
\index{Notify\+Access\+Granted@{Notify\+Access\+Granted}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Notify\+Access\+Granted(void)}{NotifyAccessGranted(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Notify\+Access\+Granted (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_afeba080a6bf7d6074227e10321d1683d}{}\label{classns3_1_1EdcaTxopN_afeba080a6bf7d6074227e10321d1683d}
Notify the E\+D\+C\+AF that access has been granted. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_a1760d5870d8d96153165960172ba31d5}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
183 \{
184   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
185   \hyperlink{classns3_1_1EdcaTxopN_a2dbb9cad85e4871b031dc1169c88bb08}{m\_isAccessRequestedForRts} = \textcolor{keyword}{false};
186   \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
187   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} == 0)
188     \{
189       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->HasPackets () && !\hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_aa4d33e4f453efea9967dc2ebb7142210}{HasPackets} ())
190         \{
191           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"queue is empty"});
192           \textcolor{keywordflow}{return};
193         \}
194       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a361d518c0824a4b353336475cda25978}{HasBar} (\hyperlink{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}{m\_currentBar}))
195         \{
196           \hyperlink{classns3_1_1EdcaTxopN_a620d3677a73927b708ba85d2f2a794e0}{SendBlockAckRequest} (\hyperlink{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}{m\_currentBar});
197           \textcolor{keywordflow}{return};
198         \}
199       \textcolor{comment}{/* check if packets need retransmission are stored in BlockAckManager */}
200       \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a11266152bf97c5ed1a06410d6fda4cc9}{GetNextPacket} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
201       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} == 0)
202         \{
203           Ptr<const WifiMacQueueItem> item = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->PeekFirstAvailable (
      \hyperlink{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{m\_qosBlockedDestinations});
204           \textcolor{keywordflow}{if} (item == 0)
205             \{
206               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"no available packets in the queue"});
207               \textcolor{keywordflow}{return};
208             \}
209           \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr} = item->GetHeader ();
210           \hyperlink{classns3_1_1EdcaTxopN_ad93008b9d802a1c1b007744f0d4f1a73}{m\_currentPacketTimestamp} = item->GetTimeStamp ();
211           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && !\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ().\hyperlink{classns3_1_1Mac48Address_ad9909ad21bac501799fb8810bfc58c1e}{IsBroadcast} ()
212               && \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_aee39e3617762c83709a7a88a7bfad318}{GetQosSupported} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ())
213               && !\hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a4712688bb7764d576c87fd627d3d3aba}{ExistsAgreement} (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} ())
214               && \hyperlink{classns3_1_1EdcaTxopN_ae5ab3e06174d86eabaaa6ccd64cde42d}{SetupBlockAckIfNeeded} ())
215             \{
216               \textcolor{keywordflow}{return};
217             \}
218           item = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->DequeueFirstAvailable (\hyperlink{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{m\_qosBlockedDestinations});
219           \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = item->GetPacket ();
220           \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr} = item->GetHeader ();
221           \hyperlink{classns3_1_1EdcaTxopN_ad93008b9d802a1c1b007744f0d4f1a73}{m\_currentPacketTimestamp} = item->GetTimeStamp ();
222           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} != 0);
223 
224           uint16\_t sequence = \hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle}->\hyperlink{classns3_1_1MacTxMiddle_a791d277bf45e2b45b57b2fdb9417cc25}{GetNextSequenceNumberFor} (&
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
225           \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a51634924960a25606596916eabdcc12e}{SetSequenceNumber} (sequence);
226           \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a7418b5958ff90c62a88539443dfc90dc}{UpdateFragmentationThreshold} ();
227           \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ad11306bd3a2edf81346a14a9c4fe7388}{SetFragmentNumber} (0);
228           \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a3898df5358df4247926b74175f2789c3}{SetNoMoreFragments} ();
229           \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2dbe5e569e783f6d975c13daf3015f12}{SetNoRetry} ();
230           \hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber} = 0;
231           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"dequeued size="} << \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}->GetSize () <<
232                         \textcolor{stringliteral}{", to="} << \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} () <<
233                         \textcolor{stringliteral}{", seq="} << \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a9d6c7e809271331e5271d29e58800593}{GetSequenceControl} ());
234           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && !\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ().\hyperlink{classns3_1_1Mac48Address_ad9909ad21bac501799fb8810bfc58c1e}{IsBroadcast} ())
235             \{
236               \hyperlink{classns3_1_1EdcaTxopN_a17b4025d63961a9f54cd9686d79a4709}{VerifyBlockAck} ();
237             \}
238         \}
239     \}
240   \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a87d54f760f2a012e29e7b4ed7c07aacf}{DisableOverrideDurationId} ();
241   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ().\hyperlink{classns3_1_1Mac48Address_ae191b13b8ecd9d138c2301483ab826e8}{IsGroup} ())
242     \{
243       \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a18b2f706b138952bc351538e59b723f4}{DisableRts} ();
244       \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_ae09e5316ed859ddca19bfbaec3b07704}{DisableAck} ();
245       \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a6944fa0c62fd004c94b845ba1b474b87}{DisableNextData} ();
246       \hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a3d13643c758e213041f8389c1041074b}{StartTransmission} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, &
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}, \textcolor{keyword}{this});
247       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"tx broadcast"});
248     \}
249   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a393067652a2b6c06d645366912ddf748}{GetType} () == \hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa1b3c29e4b46847a71ad8f3b45c747456}{WIFI\_MAC\_CTL\_BACKREQ})
250     \{
251       \hyperlink{classns3_1_1EdcaTxopN_a620d3677a73927b708ba85d2f2a794e0}{SendBlockAckRequest} (\hyperlink{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}{m\_currentBar});
252     \}
253   \textcolor{keywordflow}{else}
254     \{
255       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_aaa152fcd66b795ee978cf48264b2c57e}{IsQosBlockAck} ())
256         \{
257           \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_ae09e5316ed859ddca19bfbaec3b07704}{DisableAck} ();
258         \}
259       \textcolor{keywordflow}{else}
260         \{
261           \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa2db70f6786b7d0b9d9cc453b2292f2b}{EnableAck} ();
262         \}
263       \textcolor{comment}{//With COMPRESSED\_BLOCK\_ACK fragmentation must be avoided.}
264       \textcolor{keywordflow}{if} (((\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && !\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_ae640dc1677df83cba71b9ad61e2931b4}{IsQosAmsdu} ())
265            || (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac40b6a967f6bcca6f29ea21c6c27b696}{IsData} () && !\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ()))
266           && (\hyperlink{classns3_1_1EdcaTxopN_a158bbee5ed109f1e17927188053ea05a}{m\_blockAckThreshold} == 0 || \hyperlink{classns3_1_1EdcaTxopN_a40f224c6cb6c7470553d28b2f04c429d}{m\_blockAckType} == 
      \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf}{BASIC\_BLOCK\_ACK})
267           && \hyperlink{classns3_1_1EdcaTxopN_a60daff47931c6501e47778c99c7e7a3c}{NeedFragmentation} ())
268         \{
269           \hyperlink{classns3_1_1EdcaTxopN_af17d826141cb2e87903a268e5f9f57ad}{m\_currentIsFragmented} = \textcolor{keyword}{true};
270           \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a18b2f706b138952bc351538e59b723f4}{DisableRts} ();
271           WifiMacHeader hdr;
272           Ptr<Packet> fragment = \hyperlink{classns3_1_1EdcaTxopN_a512c6b82feb4d0caa1f79b98072bca91}{GetFragmentPacket} (&hdr);
273           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_aa4a1fb9ce28746fa0dc7d47dde40f2fa}{IsLastFragment} ())
274             \{
275               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"fragmenting last fragment size="} << fragment->GetSize ());
276               \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a6944fa0c62fd004c94b845ba1b474b87}{DisableNextData} ();
277             \}
278           \textcolor{keywordflow}{else}
279             \{
280               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"fragmenting size="} << fragment->GetSize ());
281               \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a33fc05383c3f611ca1be7d33a01a1774}{EnableNextData} (
      \hyperlink{classns3_1_1EdcaTxopN_a06163c06ebe2b11e164a171ff51f56a2}{GetNextFragmentSize} ());
282             \}
283           \hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a3d13643c758e213041f8389c1041074b}{StartTransmission} (fragment, &hdr, 
      \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}, \textcolor{keyword}{this});
284         \}
285       \textcolor{keywordflow}{else}
286         \{
287           \hyperlink{classns3_1_1EdcaTxopN_af17d826141cb2e87903a268e5f9f57ad}{m\_currentIsFragmented} = \textcolor{keyword}{false};
288           WifiMacHeader peekedHdr;
289           Ptr<const WifiMacQueueItem> item;
290           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ()
291               && (item = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->PeekByTidAndAddress (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} (),
292                                                        \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1}, 
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ()))
293               && !\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ().\hyperlink{classns3_1_1Mac48Address_ad9909ad21bac501799fb8810bfc58c1e}{IsBroadcast} ()
294               && \hyperlink{classns3_1_1EdcaTxopN_ab4ec029e40b068965e1c7e80b1750027}{m\_msduAggregator} != 0 && !\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_af8da93935be1b55289003fbb29f81d64}{IsRetry} ())
295             \{
296               peekedHdr = item->GetHeader ();
297               \textcolor{comment}{/* here is performed aggregation */}
298               Ptr<Packet> currentAggregatedPacket = Create<Packet> ();
299               \hyperlink{classns3_1_1EdcaTxopN_ab4ec029e40b068965e1c7e80b1750027}{m\_msduAggregator}->\hyperlink{classns3_1_1MsduAggregator_a7eb8e17d5852eeb1d1499795a4696f19}{Aggregate} (
      \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, currentAggregatedPacket,
300                                            \hyperlink{classns3_1_1EdcaTxopN_adddb74b3fd751b59f79e2405ecbd513c}{MapSrcAddressForAggregation} (
      peekedHdr),
301                                            \hyperlink{classns3_1_1EdcaTxopN_a766951341864967a984075e33b0606c4}{MapDestAddressForAggregation} (
      peekedHdr));
302               \textcolor{keywordtype}{bool} aggregated = \textcolor{keyword}{false};
303               \textcolor{keywordtype}{bool} isAmsdu = \textcolor{keyword}{false};
304               Ptr<const WifiMacQueueItem> peekedItem = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->PeekByTidAndAddress (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} (),
305                                                                                      
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1},
306                                                                                      
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ());
307               \textcolor{keywordflow}{while} (peekedItem != 0)
308                 \{
309                   peekedHdr = peekedItem->GetHeader ();
310                   aggregated = \hyperlink{classns3_1_1EdcaTxopN_ab4ec029e40b068965e1c7e80b1750027}{m\_msduAggregator}->\hyperlink{classns3_1_1MsduAggregator_a7eb8e17d5852eeb1d1499795a4696f19}{Aggregate} (peekedItem->GetPacket 
      (), currentAggregatedPacket,
311                                                             
      \hyperlink{classns3_1_1EdcaTxopN_adddb74b3fd751b59f79e2405ecbd513c}{MapSrcAddressForAggregation} (peekedHdr),
312                                                             
      \hyperlink{classns3_1_1EdcaTxopN_a766951341864967a984075e33b0606c4}{MapDestAddressForAggregation} (peekedHdr));
313                   \textcolor{keywordflow}{if} (aggregated)
314                     \{
315                       isAmsdu = \textcolor{keyword}{true};
316                       \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->Remove (peekedItem->GetPacket ());
317                     \}
318                   \textcolor{keywordflow}{else}
319                     \{
320                       \textcolor{keywordflow}{break};
321                     \}
322                   peekedItem = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->PeekByTidAndAddress (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} (),
323                                                              
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1}, \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ());
324                 \}
325               \textcolor{keywordflow}{if} (isAmsdu)
326                 \{
327                   \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a26c1f793b7cc33ba615c5766022fce00}{SetQosAmsdu} ();
328                   \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ace2fd1624db247bd42cbe9182996bb0e}{SetAddr3} (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->
      \hyperlink{classns3_1_1MacLow_a4d11b37c976a0bac9d123fcc4b1fb9e6}{GetBssid} ());
329                   \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = currentAggregatedPacket;
330                   currentAggregatedPacket = 0;
331                   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"tx unicast A-MSDU"});
332                 \}
333             \}
334           \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a6944fa0c62fd004c94b845ba1b474b87}{DisableNextData} ();
335           \hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a3d13643c758e213041f8389c1041074b}{StartTransmission} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, &
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}, \textcolor{keyword}{this});
336           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1EdcaTxopN_ac58af0b7a2b0d0849b13db6ec3d12939}{GetAmpduExist} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ()))
337             \{
338               \hyperlink{classns3_1_1EdcaTxopN_a39fb84b5e465de80209af523e9a500cf}{CompleteTx} ();
339             \}
340         \}
341     \}
342 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 66


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Notify\+Collision@{Notify\+Collision}}
\index{Notify\+Collision@{Notify\+Collision}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Notify\+Collision(void)}{NotifyCollision(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Notify\+Collision (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_aa9dd10b3b7236f93d7461b174888e2a8}{}\label{classns3_1_1EdcaTxopN_aa9dd10b3b7236f93d7461b174888e2a8}
Notify the E\+D\+C\+AF that collision has occurred. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_a852bfd27ace4922eb7437749a4b6ea0f}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
440 \{
441   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
442   \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace} = \hyperlink{classns3_1_1DcaTxop_a9044b173b448e6c40b730740621cb238}{m\_rng}->\hyperlink{classns3_1_1RandomStream_a29375dd4bbb99a20fb297ca355d5811a}{GetNext} (0, \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->
      \hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ());
443   \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a687e3238b35778b630557bf0e1636dba}{StartBackoffNow} (\hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace});
444   \hyperlink{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{RestartAccessIfNeeded} ();
445 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 67


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Notify\+Internal\+Collision@{Notify\+Internal\+Collision}}
\index{Notify\+Internal\+Collision@{Notify\+Internal\+Collision}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Notify\+Internal\+Collision(void)}{NotifyInternalCollision(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Notify\+Internal\+Collision (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a900ab43f62b74939c62121562d1969e2}{}\label{classns3_1_1EdcaTxopN_a900ab43f62b74939c62121562d1969e2}
Notify the E\+D\+C\+AF that internal collision has occurred. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_aad188df940ef1f1efe9ea0685b67a35d}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
345 \{
346   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
347   \textcolor{keywordtype}{bool} resetDcf = \textcolor{keyword}{false};
348   \textcolor{comment}{// If an internal collision is experienced, the frame involved may still}
349   \textcolor{comment}{// be sitting in the queue, and m\_currentPacket may still be null.}
350   Ptr<const Packet> packet;
351   WifiMacHeader header;
352   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} == 0)
353     \{
354       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_aa4d33e4f453efea9967dc2ebb7142210}{HasPackets} ())
355         \{
356           packet = \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a27160e30a1652c3a2cf4c0fca44f4166}{PeekNextPacket} (header);
357         \}
358       \textcolor{keywordflow}{else}
359         \{
360           Ptr<const WifiMacQueueItem> item = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->Peek ();
361           \textcolor{keywordflow}{if} (item)
362             \{
363               packet = item->GetPacket ();
364               header = item->GetHeader ();
365             \}
366         \}
367     \}
368   \textcolor{keywordflow}{else}
369     \{
370       packet = \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket};
371       header = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr};
372     \}
373   \textcolor{keywordflow}{if} (packet != 0)
374     \{
375       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a2dbb9cad85e4871b031dc1169c88bb08}{m\_isAccessRequestedForRts})
376         \{
377           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_a91e4d3ef666784684ecad9bd4b229333}{NeedRtsRetransmission} (packet, header))
378             \{
379               resetDcf = \textcolor{keyword}{true};
380               \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ab47024978076386cbfe3f0235bba742b}{ReportFinalRtsFailed} (header.GetAddr1 (
      ), &header);
381             \}
382           \textcolor{keywordflow}{else}
383             \{
384               \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ad3844da681fd76f907293f5ff45187ec}{ReportRtsFailed} (header.GetAddr1 (), &header
      );
385             \}
386         \}
387       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (header.GetAddr1 () == \hyperlink{classns3_1_1Mac48Address_a55156e302c6bf950c0b558365adbde84}{Mac48Address::GetBroadcast} ())
388         \{
389           resetDcf = \textcolor{keyword}{false};
390         \}
391       \textcolor{keywordflow}{else}
392         \{
393           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_abc2385deb3c362e0c2db7e7131032a0a}{NeedDataRetransmission} (packet, header))
394             \{
395               resetDcf = \textcolor{keyword}{true};
396               \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a816830f6f7c76615b6f0066f3c5809bd}{ReportFinalDataFailed} (header.GetAddr1
       (), &header);
397             \}
398           \textcolor{keywordflow}{else}
399             \{
400               \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a36ca84ae0bbcd9b95cc353a568023e8b}{ReportDataFailed} (header.GetAddr1 (), &
      header);
401             \}
402         \}
403       \textcolor{keywordflow}{if} (resetDcf)
404         \{
405           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"reset DCF"});
406           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1DcaTxop_a3d58ad498059e9751312a7ee5b364678}{m\_txFailedCallback}.\hyperlink{classns3_1_1Callback_aa8e27826badbf37f84763f36f70d9b54}{IsNull} ())
407             \{
408               \hyperlink{classns3_1_1DcaTxop_a3d58ad498059e9751312a7ee5b364678}{m\_txFailedCallback} (header);
409             \}
410           \textcolor{comment}{//to reset the dcf.}
411           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket})
412             \{
413               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Discarding m\_currentPacket"});
414               \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = 0;
415             \}
416           \textcolor{keywordflow}{else}
417             \{
418               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Dequeueing and discarding head of queue"});
419               Ptr<const WifiMacQueueItem> item = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->Peek ();
420               \textcolor{keywordflow}{if} (item)
421                 \{
422                   packet = item->GetPacket ();
423                   header = item->GetHeader ();
424                 \}
425             \}
426           \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ad40c89a598811d9dc88d6270b9d21e4f}{ResetCw} ();
427         \}
428       \textcolor{keywordflow}{else}
429         \{
430           \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_ac8c3e07b4e1e33badb18642f489b712e}{UpdateFailedCw} ();
431         \}
432     \}
433   \hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace} = \hyperlink{classns3_1_1DcaTxop_a9044b173b448e6c40b730740621cb238}{m\_rng}->\hyperlink{classns3_1_1RandomStream_a29375dd4bbb99a20fb297ca355d5811a}{GetNext} (0, \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->
      \hyperlink{classns3_1_1DcfState_a52aa14ed91f6ea7b137c4cd6cc2cd6ee}{GetCw} ());
434   \hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a687e3238b35778b630557bf0e1636dba}{StartBackoffNow} (\hyperlink{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{m\_backoffTrace});
435   \hyperlink{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{RestartAccessIfNeeded} ();
436 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 68


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Peek\+Next\+Retransmit\+Packet@{Peek\+Next\+Retransmit\+Packet}}
\index{Peek\+Next\+Retransmit\+Packet@{Peek\+Next\+Retransmit\+Packet}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Peek\+Next\+Retransmit\+Packet(\+Wifi\+Mac\+Header \&header, Mac48\+Address recipient, uint8\+\_\+t tid, Time $\ast$timestamp)}{PeekNextRetransmitPacket(WifiMacHeader &header, Mac48Address recipient, uint8_t tid, Time *timestamp)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ const {\bf Packet} $>$ ns3\+::\+Edca\+Txop\+N\+::\+Peek\+Next\+Retransmit\+Packet (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Mac\+Header} \&}]{header, }
\item[{{\bf Mac48\+Address}}]{recipient, }
\item[{uint8\+\_\+t}]{tid, }
\item[{{\bf Time} $\ast$}]{timestamp}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a97913133d458fe438bab74807be602aa}{}\label{classns3_1_1EdcaTxopN_a97913133d458fe438bab74807be602aa}
Peek in retransmit queue and get the next packet without removing it from the queue.


\begin{DoxyParams}{Parameters}
{\em header} & Wi-\/\+Fi header. \\
\hline
{\em recipient} & address of the recipient. \\
\hline
{\em tid} & traffic ID. \\
\hline
{\em timestamp} & the timestamp. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the packet. 
\end{DoxyReturn}

\begin{DoxyCode}
171 \{
172   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a7a235987d23102bd1e0bf0b73cb671b5}{PeekNextPacketByTidAndAddress} (header,
      recipient,tid, timestamp);
173 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 69


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Peek\+Next\+Sequence\+Number\+For@{Peek\+Next\+Sequence\+Number\+For}}
\index{Peek\+Next\+Sequence\+Number\+For@{Peek\+Next\+Sequence\+Number\+For}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Peek\+Next\+Sequence\+Number\+For(\+Wifi\+Mac\+Header $\ast$hdr)}{PeekNextSequenceNumberFor(WifiMacHeader *hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Edca\+Txop\+N\+::\+Peek\+Next\+Sequence\+Number\+For (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Mac\+Header} $\ast$}]{hdr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a2498de1dde0c880d25b25844f24c0c81}{}\label{classns3_1_1EdcaTxopN_a2498de1dde0c880d25b25844f24c0c81}
Return the next sequence number for the Traffic ID and destination, but do not pick it (i.\+e. the current sequence number remains unchanged).


\begin{DoxyParams}{Parameters}
{\em hdr} & Wi-\/\+Fi header.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the next sequence number. 
\end{DoxyReturn}

\begin{DoxyCode}
165 \{
166   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle}->\hyperlink{classns3_1_1MacTxMiddle_a9ae98e7d98efae080431b7fe3b0a9a2d}{PeekNextSequenceNumberFor} (hdr);
167 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 70


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Push\+Front@{Push\+Front}}
\index{Push\+Front@{Push\+Front}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Push\+Front(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header \&hdr)}{PushFront(Ptr< const Packet > packet, const WifiMacHeader &hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Push\+Front (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} \&}]{hdr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a4ff1922de0b92b5f6a9104b714d82c0b}{}\label{classns3_1_1EdcaTxopN_a4ff1922de0b92b5f6a9104b714d82c0b}

\begin{DoxyParams}{Parameters}
{\em packet} & packet to send. \\
\hline
{\em hdr} & header of packet to send.\\
\hline
\end{DoxyParams}
Store the packet in the front of the internal queue until it can be sent safely. 
\begin{DoxyCode}
1246 \{
1247   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << &hdr);
1248   WifiMacTrailer fcs;
1249   \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a4812b9abae368de05cbd1393b7053f90}{PrepareForQueue} (hdr.GetAddr1 (), &hdr, packet);
1250   \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->PushFront (Create<WifiMacQueueItem> (packet, hdr));
1251   \hyperlink{classns3_1_1EdcaTxopN_a28a7052f217ed15058697197350d9801}{StartAccessIfNeeded} ();
1252 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 71




Here is the caller graph for this function\+:
% FIG 72


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Remove\+Retransmit\+Packet@{Remove\+Retransmit\+Packet}}
\index{Remove\+Retransmit\+Packet@{Remove\+Retransmit\+Packet}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Remove\+Retransmit\+Packet(uint8\+\_\+t tid, Mac48\+Address recipient, uint16\+\_\+t seqnumber)}{RemoveRetransmitPacket(uint8_t tid, Mac48Address recipient, uint16_t seqnumber)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Remove\+Retransmit\+Packet (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{tid, }
\item[{{\bf Mac48\+Address}}]{recipient, }
\item[{uint16\+\_\+t}]{seqnumber}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_ac6cda0f8d80f47bcb1d8ee3f30b8de7e}{}\label{classns3_1_1EdcaTxopN_ac6cda0f8d80f47bcb1d8ee3f30b8de7e}
Remove a packet after you peek in the retransmit queue and get it.


\begin{DoxyParams}{Parameters}
{\em tid} & traffic ID of the packet to be removed. \\
\hline
{\em recipient} & address of the recipient the packet was intended for. \\
\hline
{\em seqnumber} & sequence number of the packet to be removed. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
177 \{
178   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a182b0fff297640c289affb334a61f544}{RemovePacket} (tid, recipient, seqnumber);
179 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 73


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Restart\+Access\+If\+Needed@{Restart\+Access\+If\+Needed}}
\index{Restart\+Access\+If\+Needed@{Restart\+Access\+If\+Needed}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Restart\+Access\+If\+Needed(void)}{RestartAccessIfNeeded(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Restart\+Access\+If\+Needed (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}{}\label{classns3_1_1EdcaTxopN_a83b65be22340dc3f27d08a453cf3831f}
Restart access request if needed. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_a65407479debe7f98691c133c6e325c19}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
729 \{
730   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
731   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} != 0
732        || \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->HasPackets () || \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_aa4d33e4f453efea9967dc2ebb7142210}{HasPackets} ())
733       && !\hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a1a9959645698b0f3d65902b0e382cfa2}{IsAccessRequested} ())
734     \{
735       Ptr<const Packet> packet;
736       WifiMacHeader hdr;
737       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} != 0)
738         \{
739           packet = \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket};
740           hdr = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr};
741         \}
742       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_aa4d33e4f453efea9967dc2ebb7142210}{HasPackets} ())
743         \{
744           packet = \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a27160e30a1652c3a2cf4c0fca44f4166}{PeekNextPacket} (hdr);
745         \}
746       \textcolor{keywordflow}{else}
747         \{
748           Ptr<const WifiMacQueueItem> item = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->PeekFirstAvailable (
      \hyperlink{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{m\_qosBlockedDestinations});
749           \textcolor{keywordflow}{if} (item)
750             \{
751               packet = item->GetPacket ();
752               hdr = item->GetHeader ();
753               \hyperlink{classns3_1_1EdcaTxopN_ad93008b9d802a1c1b007744f0d4f1a73}{m\_currentPacketTimestamp} = item->GetTimeStamp ();
754             \}
755         \}
756       \textcolor{keywordflow}{if} (packet != 0)
757         \{
758           \hyperlink{classns3_1_1EdcaTxopN_a2dbb9cad85e4871b031dc1169c88bb08}{m\_isAccessRequestedForRts} = \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a1552c041e2344e355e9a28859054db27}{NeedRts} (hdr.GetAddr1 (), &hdr, packet, \hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{GetDataTxVector} (packet, &hdr));
759         \}
760       \textcolor{keywordflow}{else}
761         \{
762           \hyperlink{classns3_1_1EdcaTxopN_a2dbb9cad85e4871b031dc1169c88bb08}{m\_isAccessRequestedForRts} = \textcolor{keyword}{false};
763         \}
764       \hyperlink{classns3_1_1DcaTxop_a7a58a717ab864b5d87e4392c69257dcf}{m\_manager}->\hyperlink{classns3_1_1DcfManager_a34f321cc7651b9bc9ac254af83521363}{RequestAccess} (\hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf});
765     \}
766 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 74




Here is the caller graph for this function\+:
% FIG 75


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Send\+Add\+Ba\+Request@{Send\+Add\+Ba\+Request}}
\index{Send\+Add\+Ba\+Request@{Send\+Add\+Ba\+Request}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Send\+Add\+Ba\+Request(\+Mac48\+Address recipient, uint8\+\_\+t tid, uint16\+\_\+t start\+Seq, uint16\+\_\+t timeout, bool immediate\+B\+Ack)}{SendAddBaRequest(Mac48Address recipient, uint8_t tid, uint16_t startSeq, uint16_t timeout, bool immediateBAck)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Send\+Add\+Ba\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{recipient, }
\item[{uint8\+\_\+t}]{tid, }
\item[{uint16\+\_\+t}]{start\+Seq, }
\item[{uint16\+\_\+t}]{timeout, }
\item[{bool}]{immediate\+B\+Ack}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a5d000df80bfe3211aed2fee7c08b85d2}{}\label{classns3_1_1EdcaTxopN_a5d000df80bfe3211aed2fee7c08b85d2}
Sends an A\+D\+D\+BA Request to establish a block ack agreement with sta addressed by {\itshape recipient} for tid {\itshape tid}.


\begin{DoxyParams}{Parameters}
{\em recipient} & address of the recipient. \\
\hline
{\em tid} & traffic ID. \\
\hline
{\em start\+Seq} & starting sequence. \\
\hline
{\em timeout} & timeout value. \\
\hline
{\em immediate\+B\+Ack} & flag to indicate whether immediate block ack is used. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1473 \{
1474   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << dest << (uint16\_t)tid << startSeq << 
      \hyperlink{openflow-switch_8cc_a386d174ae121d1cfa279074b7e209714}{timeout} << immediateBAck);
1475   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"sent ADDBA request to "} << dest);
1476   WifiMacHeader hdr;
1477   hdr.SetAction ();
1478   hdr.SetAddr1 (dest);
1479   hdr.SetAddr2 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{GetAddress} ());
1480   hdr.SetAddr3 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{GetAddress} ());
1481   hdr.SetDsNotTo ();
1482   hdr.SetDsNotFrom ();
1483 
1484   WifiActionHeader actionHdr;
1485   WifiActionHeader::ActionValue action;
1486   action.blockAck = \hyperlink{classns3_1_1WifiActionHeader_a575d216d28074b8e5fc25d17692f6962aae76baa0c4e02e79e3d69f7d926cc27d}{WifiActionHeader::BLOCK\_ACK\_ADDBA\_REQUEST};
1487   actionHdr.SetAction (\hyperlink{classns3_1_1WifiActionHeader_a5402becd11b4077f22d76c4d0d923358ae1954449580715d3d737a12739923ef2}{WifiActionHeader::BLOCK\_ACK}, action);
1488 
1489   Ptr<Packet> packet = Create<Packet> ();
1490   \textcolor{comment}{/*Setting ADDBARequest header*/}
1491   MgtAddBaRequestHeader reqHdr;
1492   reqHdr.SetAmsduSupport (\textcolor{keyword}{true});
1493   \textcolor{keywordflow}{if} (immediateBAck)
1494     \{
1495       reqHdr.SetImmediateBlockAck ();
1496     \}
1497   \textcolor{keywordflow}{else}
1498     \{
1499       reqHdr.SetDelayedBlockAck ();
1500     \}
1501   reqHdr.SetTid (tid);
1502   \textcolor{comment}{/* For now we don't use buffer size field in the ADDBA request frame. The recipient}
1503 \textcolor{comment}{   * will choose how many packets it can receive under block ack.}
1504 \textcolor{comment}{   */}
1505   reqHdr.SetBufferSize (0);
1506   reqHdr.SetTimeout (\hyperlink{openflow-switch_8cc_a386d174ae121d1cfa279074b7e209714}{timeout});
1507   reqHdr.SetStartingSequence (startSeq);
1508 
1509   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a44483ff8e6011faf1190dc0f178e66b7}{CreateAgreement} (&reqHdr, dest);
1510 
1511   packet->AddHeader (reqHdr);
1512   packet->AddHeader (actionHdr);
1513 
1514   \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = packet;
1515   \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr} = hdr;
1516 
1517   uint16\_t sequence = \hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle}->\hyperlink{classns3_1_1MacTxMiddle_a791d277bf45e2b45b57b2fdb9417cc25}{GetNextSequenceNumberFor} (&
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
1518   \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a51634924960a25606596916eabdcc12e}{SetSequenceNumber} (sequence);
1519   \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a7418b5958ff90c62a88539443dfc90dc}{UpdateFragmentationThreshold} ();
1520   \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ad11306bd3a2edf81346a14a9c4fe7388}{SetFragmentNumber} (0);
1521   \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a3898df5358df4247926b74175f2789c3}{SetNoMoreFragments} ();
1522   \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2dbe5e569e783f6d975c13daf3015f12}{SetNoRetry} ();
1523 
1524   \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa2db70f6786b7d0b9d9cc453b2292f2b}{EnableAck} ();
1525   \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a18b2f706b138952bc351538e59b723f4}{DisableRts} ();
1526   \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a6944fa0c62fd004c94b845ba1b474b87}{DisableNextData} ();
1527   \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a87d54f760f2a012e29e7b4ed7c07aacf}{DisableOverrideDurationId} ();
1528 
1529   \hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a3d13643c758e213041f8389c1041074b}{StartTransmission} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, &
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}, \textcolor{keyword}{this});
1530 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 76




Here is the caller graph for this function\+:
% FIG 77


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Send\+Block\+Ack\+Request@{Send\+Block\+Ack\+Request}}
\index{Send\+Block\+Ack\+Request@{Send\+Block\+Ack\+Request}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Send\+Block\+Ack\+Request(const Bar \&bar)}{SendBlockAckRequest(const Bar &bar)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Send\+Block\+Ack\+Request (
\begin{DoxyParamCaption}
\item[{const {\bf Bar} \&}]{bar}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a620d3677a73927b708ba85d2f2a794e0}{}\label{classns3_1_1EdcaTxopN_a620d3677a73927b708ba85d2f2a794e0}
After that all packets, for which a block ack agreement was established, have been transmitted, we have to send a block ack request.


\begin{DoxyParams}{Parameters}
{\em bar} & the block ack request. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1398 \{
1399   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &bar);
1400   WifiMacHeader hdr;
1401   hdr.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa1b3c29e4b46847a71ad8f3b45c747456}{WIFI\_MAC\_CTL\_BACKREQ});
1402   hdr.SetAddr1 (bar.recipient);
1403   hdr.SetAddr2 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{GetAddress} ());
1404   hdr.SetAddr3 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a4d11b37c976a0bac9d123fcc4b1fb9e6}{GetBssid} ());
1405   hdr.SetDsNotTo ();
1406   hdr.SetDsNotFrom ();
1407   hdr.SetNoRetry ();
1408   hdr.SetNoMoreFragments ();
1409 
1410   \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = bar.bar;
1411   \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr} = hdr;
1412 
1413   \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a18b2f706b138952bc351538e59b723f4}{DisableRts} ();
1414   \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a6944fa0c62fd004c94b845ba1b474b87}{DisableNextData} ();
1415   \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a87d54f760f2a012e29e7b4ed7c07aacf}{DisableOverrideDurationId} ();
1416   \textcolor{keywordflow}{if} (bar.immediate)
1417     \{
1418       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a40f224c6cb6c7470553d28b2f04c429d}{m\_blockAckType} == \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf}{BASIC\_BLOCK\_ACK})
1419         \{
1420           \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a69435eb15eee75dc6f5fc24c92f05f81}{EnableBasicBlockAck} ();
1421         \}
1422       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a40f224c6cb6c7470553d28b2f04c429d}{m\_blockAckType} == \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK})
1423         \{
1424           \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_af936390c4e2ee33eb55cfc36cec20bf4}{EnableCompressedBlockAck} ();
1425         \}
1426       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a40f224c6cb6c7470553d28b2f04c429d}{m\_blockAckType} == \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a2b0db78cd77aa4769690b7b6aac6f017}{MULTI\_TID\_BLOCK\_ACK})
1427         \{
1428           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Multi-tid block ack is not supported"});
1429         \}
1430     \}
1431   \textcolor{keywordflow}{else}
1432     \{
1433       \textcolor{comment}{//Delayed block ack}
1434       \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa2db70f6786b7d0b9d9cc453b2292f2b}{EnableAck} ();
1435     \}
1436   \hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a3d13643c758e213041f8389c1041074b}{StartTransmission} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, &
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}, \textcolor{keyword}{this});
1437 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 78




Here is the caller graph for this function\+:
% FIG 79


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Send\+Delba\+Frame@{Send\+Delba\+Frame}}
\index{Send\+Delba\+Frame@{Send\+Delba\+Frame}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Send\+Delba\+Frame(\+Mac48\+Address addr, uint8\+\_\+t tid, bool by\+Originator)}{SendDelbaFrame(Mac48Address addr, uint8_t tid, bool byOriginator)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Send\+Delba\+Frame (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{addr, }
\item[{uint8\+\_\+t}]{tid, }
\item[{bool}]{by\+Originator}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a3a14d846328f0d5447f44d7c2f3c607e}{}\label{classns3_1_1EdcaTxopN_a3a14d846328f0d5447f44d7c2f3c607e}
Sends D\+E\+L\+BA frame to cancel a block ack agreement with sta addressed by {\itshape addr} for tid {\itshape tid}.


\begin{DoxyParams}{Parameters}
{\em addr} & address of the recipient. \\
\hline
{\em tid} & traffic ID. \\
\hline
{\em by\+Originator} & flag to indicate whether this is set by the originator. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1534 \{
1535   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << addr << (uint16\_t)tid << byOriginator);
1536   WifiMacHeader hdr;
1537   hdr.SetAction ();
1538   hdr.SetAddr1 (addr);
1539   hdr.SetAddr2 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{GetAddress} ());
1540   hdr.SetAddr3 (\hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{GetAddress} ());
1541   hdr.SetDsNotTo ();
1542   hdr.SetDsNotFrom ();
1543 
1544   MgtDelBaHeader delbaHdr;
1545   delbaHdr.SetTid (tid);
1546   \textcolor{keywordflow}{if} (byOriginator)
1547     \{
1548       delbaHdr.SetByOriginator ();
1549     \}
1550   \textcolor{keywordflow}{else}
1551     \{
1552       delbaHdr.SetByRecipient ();
1553     \}
1554 
1555   WifiActionHeader actionHdr;
1556   WifiActionHeader::ActionValue action;
1557   action.blockAck = \hyperlink{classns3_1_1WifiActionHeader_a575d216d28074b8e5fc25d17692f6962a31c45aded50eec5db8f12da960e3d239}{WifiActionHeader::BLOCK\_ACK\_DELBA};
1558   actionHdr.SetAction (\hyperlink{classns3_1_1WifiActionHeader_a5402becd11b4077f22d76c4d0d923358ae1954449580715d3d737a12739923ef2}{WifiActionHeader::BLOCK\_ACK}, action);
1559 
1560   Ptr<Packet> packet = Create<Packet> ();
1561   packet->AddHeader (delbaHdr);
1562   packet->AddHeader (actionHdr);
1563 
1564   \hyperlink{classns3_1_1EdcaTxopN_a4ff1922de0b92b5f6a9104b714d82c0b}{PushFront} (packet, hdr);
1565 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 80




Here is the caller graph for this function\+:
% FIG 81


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Set\+Access\+Category@{Set\+Access\+Category}}
\index{Set\+Access\+Category@{Set\+Access\+Category}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Set\+Access\+Category(\+Ac\+Index ac)}{SetAccessCategory(AcIndex ac)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Set\+Access\+Category (
\begin{DoxyParamCaption}
\item[{{\bf Ac\+Index}}]{ac}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_ae7203b449d7865a1730fdc7006090b83}{}\label{classns3_1_1EdcaTxopN_ae7203b449d7865a1730fdc7006090b83}
Set the access category of this E\+D\+C\+AF.


\begin{DoxyParams}{Parameters}
{\em ac} & access category. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1193 \{
1194   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint16\_t)ac);
1195   \hyperlink{classns3_1_1EdcaTxopN_ae385fb8b4514a4fb866739c9a0d2a772}{m\_ac} = ac;
1196 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 82


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Set\+Ampdu\+Exist@{Set\+Ampdu\+Exist}}
\index{Set\+Ampdu\+Exist@{Set\+Ampdu\+Exist}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Set\+Ampdu\+Exist(\+Mac48\+Address dest, bool enable\+Ampdu)}{SetAmpduExist(Mac48Address dest, bool enableAmpdu)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Set\+Ampdu\+Exist (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{dest, }
\item[{bool}]{enable\+Ampdu}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_ace47465ff464e597066b36678587154c}{}\label{classns3_1_1EdcaTxopN_ace47465ff464e597066b36678587154c}
Set indication whether A-\/\+M\+P\+DU is used to transmit data to a peer station.


\begin{DoxyParams}{Parameters}
{\em dest} & address of peer station. \\
\hline
{\em enable\+Ampdu} & flag whether A-\/\+M\+P\+DU is used or not. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1338 \{
1339   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << dest << enableAmpdu);
1340   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.find (dest) != \hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.end () && 
      \hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.find (dest)->second != enableAmpdu)
1341     \{
1342       \hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.erase (\hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.find (dest));
1343     \}
1344   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.find (dest) == \hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.end ())
1345     \{
1346       \hyperlink{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{m\_aMpduEnabled}.insert (std::make\_pair (dest, enableAmpdu));
1347     \}
1348 \}
\end{DoxyCode}
\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Set\+Block\+Ack\+Inactivity\+Timeout@{Set\+Block\+Ack\+Inactivity\+Timeout}}
\index{Set\+Block\+Ack\+Inactivity\+Timeout@{Set\+Block\+Ack\+Inactivity\+Timeout}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Set\+Block\+Ack\+Inactivity\+Timeout(uint16\+\_\+t timeout)}{SetBlockAckInactivityTimeout(uint16_t timeout)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Set\+Block\+Ack\+Inactivity\+Timeout (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{timeout}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a95f781c129cf00191fb7eb4fc215e774}{}\label{classns3_1_1EdcaTxopN_a95f781c129cf00191fb7eb4fc215e774}
Set the Block Ack inactivity timeout.


\begin{DoxyParams}{Parameters}
{\em timeout} & the Block Ack inactivity timeout. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1458 \{
1459   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{openflow-switch_8cc_a386d174ae121d1cfa279074b7e209714}{timeout});
1460   \hyperlink{classns3_1_1EdcaTxopN_a0f4087f940a73110911420a41ded5ce5}{m\_blockAckInactivityTimeout} = \hyperlink{openflow-switch_8cc_a386d174ae121d1cfa279074b7e209714}{timeout};
1461 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 83


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Set\+Block\+Ack\+Threshold@{Set\+Block\+Ack\+Threshold}}
\index{Set\+Block\+Ack\+Threshold@{Set\+Block\+Ack\+Threshold}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Set\+Block\+Ack\+Threshold(uint8\+\_\+t threshold)}{SetBlockAckThreshold(uint8_t threshold)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Set\+Block\+Ack\+Threshold (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{threshold}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a092b5466cdec7451630131c6b27be6a2}{}\label{classns3_1_1EdcaTxopN_a092b5466cdec7451630131c6b27be6a2}
Set threshold for block A\+CK mechanism. If number of packets in the queue reaches the threshold, block A\+CK mechanism is used.


\begin{DoxyParams}{Parameters}
{\em threshold} & block ack threshold value. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1450 \{
1451   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint16\_t)threshold);
1452   \hyperlink{classns3_1_1EdcaTxopN_a158bbee5ed109f1e17927188053ea05a}{m\_blockAckThreshold} = threshold;
1453   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a3d6ba0be51a232044d8373ada7f4d0e2}{SetBlockAckThreshold} (threshold);
1454 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 84




Here is the caller graph for this function\+:
% FIG 85


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Set\+Mpdu\+Aggregator@{Set\+Mpdu\+Aggregator}}
\index{Set\+Mpdu\+Aggregator@{Set\+Mpdu\+Aggregator}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Set\+Mpdu\+Aggregator(\+Ptr$<$ Mpdu\+Aggregator $>$ aggr)}{SetMpduAggregator(Ptr< MpduAggregator > aggr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Set\+Mpdu\+Aggregator (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mpdu\+Aggregator} $>$}]{aggr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a7e7515c14b633de6c10087f02864b793}{}\label{classns3_1_1EdcaTxopN_a7e7515c14b633de6c10087f02864b793}
Set the aggregator used to construct A-\/\+M\+P\+DU subframes.


\begin{DoxyParams}{Parameters}
{\em aggr} & pointer to the M\+P\+DU aggregator. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1239 \{
1240   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << aggr);
1241   \hyperlink{classns3_1_1EdcaTxopN_abdec6101737b07b2c816c22910d60f53}{m\_mpduAggregator} = aggr;
1242 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 86


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Set\+Msdu\+Aggregator@{Set\+Msdu\+Aggregator}}
\index{Set\+Msdu\+Aggregator@{Set\+Msdu\+Aggregator}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Set\+Msdu\+Aggregator(\+Ptr$<$ Msdu\+Aggregator $>$ aggr)}{SetMsduAggregator(Ptr< MsduAggregator > aggr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Set\+Msdu\+Aggregator (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Msdu\+Aggregator} $>$}]{aggr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a4430d3d755a2a08920c8df0a6e2a7ce6}{}\label{classns3_1_1EdcaTxopN_a4430d3d755a2a08920c8df0a6e2a7ce6}
Set the aggregator used to construct A-\/\+M\+S\+DU subframes.


\begin{DoxyParams}{Parameters}
{\em aggr} & pointer to the M\+S\+DU aggregator. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1232 \{
1233   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << aggr);
1234   \hyperlink{classns3_1_1EdcaTxopN_ab4ec029e40b068965e1c7e80b1750027}{m\_msduAggregator} = aggr;
1235 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 87


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Set\+Type\+Of\+Station@{Set\+Type\+Of\+Station}}
\index{Set\+Type\+Of\+Station@{Set\+Type\+Of\+Station}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Set\+Type\+Of\+Station(\+Type\+Of\+Station type)}{SetTypeOfStation(TypeOfStation type)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Set\+Type\+Of\+Station (
\begin{DoxyParamCaption}
\item[{{\bf Type\+Of\+Station}}]{type}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EdcaTxopN_a44f5b0b6cbe32e15b5c983a8ab8c06b4}{}\label{classns3_1_1EdcaTxopN_a44f5b0b6cbe32e15b5c983a8ab8c06b4}
Set type of station with the given type.


\begin{DoxyParams}{Parameters}
{\em type} & the type of station. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
140 \{
141   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint16\_t)\hyperlink{visualizer-ideas_8txt_add98db9e15e2a58cf2b57623e7aa893a}{type});
142   \hyperlink{classns3_1_1EdcaTxopN_a2c8e52226f121e25a17e176a3a1594bb}{m\_typeOfStation} = \hyperlink{visualizer-ideas_8txt_add98db9e15e2a58cf2b57623e7aa893a}{type};
143 \}
\end{DoxyCode}
\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Setup\+Block\+Ack\+If\+Needed@{Setup\+Block\+Ack\+If\+Needed}}
\index{Setup\+Block\+Ack\+If\+Needed@{Setup\+Block\+Ack\+If\+Needed}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Setup\+Block\+Ack\+If\+Needed()}{SetupBlockAckIfNeeded()}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::\+Setup\+Block\+Ack\+If\+Needed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_ae5ab3e06174d86eabaaa6ccd64cde42d}{}\label{classns3_1_1EdcaTxopN_ae5ab3e06174d86eabaaa6ccd64cde42d}
If number of packets in the queue reaches m\+\_\+block\+Ack\+Threshold value, an A\+D\+D\+BA Request frame is sent to destination in order to setup a block ack.

\begin{DoxyReturn}{Returns}
true if we tried to set up block A\+CK, false otherwise. 
\end{DoxyReturn}

\begin{DoxyCode}
1378 \{
1379   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1380   uint8\_t tid = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} ();
1381   Mac48Address recipient = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ();
1382   uint32\_t packets = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->GetNPacketsByTidAndAddress (tid, 
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1}, recipient);
1383   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1EdcaTxopN_a158bbee5ed109f1e17927188053ea05a}{m\_blockAckThreshold} > 0 && packets >= 
      \hyperlink{classns3_1_1EdcaTxopN_a158bbee5ed109f1e17927188053ea05a}{m\_blockAckThreshold})
1384       || (\hyperlink{classns3_1_1EdcaTxopN_abdec6101737b07b2c816c22910d60f53}{m\_mpduAggregator} != 0 && \hyperlink{classns3_1_1EdcaTxopN_abdec6101737b07b2c816c22910d60f53}{m\_mpduAggregator}->
      \hyperlink{classns3_1_1MpduAggregator_a781ed153a388bbc8a5ac231cfd9218c8}{GetMaxAmpduSize} () > 0 && packets > 1)
1385       || \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_afae2836c7785854272d73bf33e58c95a}{HasVhtSupported} ()
1386       || \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a5c442e5a306eab9a69b7cd2dcead57dc}{HasHeSupported} ())
1387     \{
1388       \textcolor{comment}{/* Block ack setup */}
1389       uint16\_t startingSequence = \hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle}->
      \hyperlink{classns3_1_1MacTxMiddle_ae25a26b35efc9a8f29f27d1348f8514c}{GetNextSeqNumberByTidAndAddress} (tid, recipient);
1390       \hyperlink{classns3_1_1EdcaTxopN_a5d000df80bfe3211aed2fee7c08b85d2}{SendAddBaRequest} (recipient, tid, startingSequence, 
      \hyperlink{classns3_1_1EdcaTxopN_a0f4087f940a73110911420a41ded5ce5}{m\_blockAckInactivityTimeout}, \textcolor{keyword}{true});
1391       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1392     \}
1393   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1394 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 88




Here is the caller graph for this function\+:
% FIG 89


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Set\+Wifi\+Remote\+Station\+Manager@{Set\+Wifi\+Remote\+Station\+Manager}}
\index{Set\+Wifi\+Remote\+Station\+Manager@{Set\+Wifi\+Remote\+Station\+Manager}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Set\+Wifi\+Remote\+Station\+Manager(\+Ptr$<$ Wifi\+Remote\+Station\+Manager $>$ remote\+Manager)}{SetWifiRemoteStationManager(Ptr< WifiRemoteStationManager > remoteManager)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Set\+Wifi\+Remote\+Station\+Manager (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Wifi\+Remote\+Station\+Manager} $>$}]{remote\+Manager}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a970b9c67fab2744466283724064cc6fa}{}\label{classns3_1_1EdcaTxopN_a970b9c67fab2744466283724064cc6fa}
Set Wifi\+Remote\+Stations\+Manager this \hyperlink{classns3_1_1EdcaTxopN}{Edca\+TxopN} is associated to.


\begin{DoxyParams}{Parameters}
{\em remote\+Manager} & \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager}. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classns3_1_1DcaTxop_a697ca989666ad76b1886f2b20e39b7a4}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
132 \{
133   \hyperlink{classns3_1_1DcaTxop_a697ca989666ad76b1886f2b20e39b7a4}{DcaTxop::SetWifiRemoteStationManager} (remoteManager);
134   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << remoteManager);
135   \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a7f1b2bae83d50eb0999ed609075571a8}{SetWifiRemoteStationManager} (
      \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager});
136 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 90




Here is the caller graph for this function\+:
% FIG 91


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Start\+Access\+If\+Needed@{Start\+Access\+If\+Needed}}
\index{Start\+Access\+If\+Needed@{Start\+Access\+If\+Needed}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Start\+Access\+If\+Needed(void)}{StartAccessIfNeeded(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Start\+Access\+If\+Needed (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a28a7052f217ed15058697197350d9801}{}\label{classns3_1_1EdcaTxopN_a28a7052f217ed15058697197350d9801}
Request access from D\+CF manager if needed. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_a85315ad3ea316cc583603e4be29abefc}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
770 \{
771   \textcolor{comment}{//NS\_LOG\_FUNCTION (this);}
772   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} == 0
773       && (\hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->HasPackets () || \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_aa4d33e4f453efea9967dc2ebb7142210}{HasPackets} ())
774       && !\hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf}->\hyperlink{classns3_1_1DcfState_a1a9959645698b0f3d65902b0e382cfa2}{IsAccessRequested} ())
775     \{
776       Ptr<const Packet> packet;
777       WifiMacHeader hdr;
778       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} != 0)
779         \{
780           packet = \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket};
781           hdr = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr};
782         \}
783       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_aa4d33e4f453efea9967dc2ebb7142210}{HasPackets} ())
784         \{
785           packet = \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a27160e30a1652c3a2cf4c0fca44f4166}{PeekNextPacket} (hdr);
786         \}
787       \textcolor{keywordflow}{else}
788         \{
789           Ptr<const WifiMacQueueItem> item = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->PeekFirstAvailable (
      \hyperlink{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{m\_qosBlockedDestinations});
790           \textcolor{keywordflow}{if} (item)
791             \{
792               packet = item->GetPacket ();
793               hdr = item->GetHeader ();
794               \hyperlink{classns3_1_1EdcaTxopN_ad93008b9d802a1c1b007744f0d4f1a73}{m\_currentPacketTimestamp} = item->GetTimeStamp ();
795             \}
796         \}
797       \textcolor{keywordflow}{if} (packet != 0)
798         \{
799           \hyperlink{classns3_1_1EdcaTxopN_a2dbb9cad85e4871b031dc1169c88bb08}{m\_isAccessRequestedForRts} = \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a1552c041e2344e355e9a28859054db27}{NeedRts} (hdr.GetAddr1 (), &hdr, packet, \hyperlink{classns3_1_1DcaTxop_a76de11e512290acc37c9863f7ab17758}{m\_low}->\hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{GetDataTxVector} (packet, &hdr));
800         \}
801       \textcolor{keywordflow}{else}
802         \{
803           \hyperlink{classns3_1_1EdcaTxopN_a2dbb9cad85e4871b031dc1169c88bb08}{m\_isAccessRequestedForRts} = \textcolor{keyword}{false};
804         \}
805       \hyperlink{classns3_1_1DcaTxop_a7a58a717ab864b5d87e4392c69257dcf}{m\_manager}->\hyperlink{classns3_1_1DcfManager_a34f321cc7651b9bc9ac254af83521363}{RequestAccess} (\hyperlink{classns3_1_1DcaTxop_a16cc1f168ff78aabcf938e42996121c4}{m\_dcf});
806     \}
807 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 92




Here is the caller graph for this function\+:
% FIG 93


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Start\+Next\+Packet@{Start\+Next\+Packet}}
\index{Start\+Next\+Packet@{Start\+Next\+Packet}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Start\+Next\+Packet(void)}{StartNextPacket(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Start\+Next\+Packet (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EdcaTxopN_a86df91f79cf79fbb677bd53fddafdae0}{}\label{classns3_1_1EdcaTxopN_a86df91f79cf79fbb677bd53fddafdae0}
Start transmission for the next packet if allowed by the Txop\+Limit. 

Reimplemented from \hyperlink{classns3_1_1DcaTxop_ab97797d4b9869abb9a0bfcb4c90b4f71}{ns3\+::\+Dca\+Txop}.


\begin{DoxyCode}
838 \{
839   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
840   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txopLimit = \hyperlink{classns3_1_1DcaTxop_a0ccd95b29f66c25d0c1baf5437f90fcf}{GetTxopLimit} ();
841   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (txopLimit.IsZero () || \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - 
      \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop} <= txopLimit);
842   WifiMacHeader hdr = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr};
843   Ptr<const Packet> peekedPacket = \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a11266152bf97c5ed1a06410d6fda4cc9}{GetNextPacket} (hdr);
844   \textcolor{keywordflow}{if} (peekedPacket == 0)
845     \{
846       Ptr<const WifiMacQueueItem> peekedItem = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->PeekByTidAndAddress (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} (),
847                                                                              
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1},
848                                                                              
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ());
849       \textcolor{keywordflow}{if} (peekedItem)
850         \{
851           peekedPacket = peekedItem->GetPacket ();
852           hdr = peekedItem->GetHeader ();
853         \}
854     \}
855   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_aaa152fcd66b795ee978cf48264b2c57e}{IsQosBlockAck} () && peekedPacket == 0) || 
      \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a361d518c0824a4b353336475cda25978}{HasBar} (\hyperlink{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}{m\_currentBar}))
856     \{
857       \hyperlink{classns3_1_1EdcaTxopN_a620d3677a73927b708ba85d2f2a794e0}{SendBlockAckRequest} (\hyperlink{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}{m\_currentBar});
858       \textcolor{keywordflow}{return};
859     \}
860   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (peekedPacket == 0)
861     \{
862       \textcolor{keywordflow}{if} (txopLimit.IsStrictlyPositive ())
863         \{
864           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop} <= txopLimit);
865           \hyperlink{classns3_1_1EdcaTxopN_a451e4a459e0cf4946cc57cc4fe4e64cc}{m\_txopTrace} (\hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop}, \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - 
      \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop});
866         \}
867       \textcolor{keywordflow}{return};
868     \}
869   \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a87d54f760f2a012e29e7b4ed7c07aacf}{DisableOverrideDurationId} ();
870   \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a6944fa0c62fd004c94b845ba1b474b87}{DisableNextData} ();
871   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_aaa152fcd66b795ee978cf48264b2c57e}{IsQosBlockAck} ())
872     \{
873       \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_ae09e5316ed859ddca19bfbaec3b07704}{DisableAck} ();
874     \}
875   \textcolor{keywordflow}{else}
876     \{
877       \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa2db70f6786b7d0b9d9cc453b2292f2b}{EnableAck} ();
878     \}
879   \textcolor{keywordflow}{if} (txopLimit >= \hyperlink{classns3_1_1DcaTxop_ae69735f4f2861cd143192c1072cbae79}{GetLow} ()->CalculateOverallTxTime (peekedPacket, &hdr, 
      \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}))
880     \{
881       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"start next packet"});
882       Ptr<WifiMacQueueItem> item = \hyperlink{classns3_1_1DcaTxop_a7f42500857237f6f18aee436ef22ef62}{m\_queue}->DequeueByTidAndAddress (
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} (),
883                                                                     
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1},
884                                                                     \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ());
885       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (item != 0);
886       \hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} = item->GetPacket ();
887       \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr} = item->GetHeader ();
888       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket} != 0);
889       uint16\_t sequence = \hyperlink{classns3_1_1DcaTxop_a605ac1de505d652e229d14a9e75c7b1a}{m\_txMiddle}->\hyperlink{classns3_1_1MacTxMiddle_a791d277bf45e2b45b57b2fdb9417cc25}{GetNextSequenceNumberFor} (&
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr});
890       \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a51634924960a25606596916eabdcc12e}{SetSequenceNumber} (sequence);
891       \hyperlink{classns3_1_1DcaTxop_af78d36622900e857d31315038946d8f6}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a7418b5958ff90c62a88539443dfc90dc}{UpdateFragmentationThreshold} ();
892       \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ad11306bd3a2edf81346a14a9c4fe7388}{SetFragmentNumber} (0);
893       \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a3898df5358df4247926b74175f2789c3}{SetNoMoreFragments} ();
894       \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2dbe5e569e783f6d975c13daf3015f12}{SetNoRetry} ();
895       \hyperlink{classns3_1_1DcaTxop_a2ce18e9e092b3e606bb4feb7e5dd39fc}{m\_fragmentNumber} = 0;
896       \hyperlink{classns3_1_1EdcaTxopN_a17b4025d63961a9f54cd9686d79a4709}{VerifyBlockAck} ();
897       \hyperlink{classns3_1_1DcaTxop_ae69735f4f2861cd143192c1072cbae79}{GetLow} ()->\hyperlink{classns3_1_1MacLow_a3d13643c758e213041f8389c1041074b}{StartTransmission} (\hyperlink{classns3_1_1DcaTxop_a3c454c21337aac0944f86caad8b7a719}{m\_currentPacket}, &
      \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}, \hyperlink{classns3_1_1DcaTxop_a4b7bf5601dc39d1f1828856276893ced}{m\_currentParams}, \textcolor{keyword}{this});
898       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1EdcaTxopN_ac58af0b7a2b0d0849b13db6ec3d12939}{GetAmpduExist} (\hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ()))
899         \{
900           \hyperlink{classns3_1_1EdcaTxopN_a39fb84b5e465de80209af523e9a500cf}{CompleteTx} ();
901         \}
902     \}
903   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (txopLimit.IsStrictlyPositive ())
904     \{
905       \hyperlink{classns3_1_1EdcaTxopN_a451e4a459e0cf4946cc57cc4fe4e64cc}{m\_txopTrace} (\hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop}, \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - 
      \hyperlink{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{m\_startTxop});
906     \}
907 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 94


\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Verify\+Block\+Ack@{Verify\+Block\+Ack}}
\index{Verify\+Block\+Ack@{Verify\+Block\+Ack}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Verify\+Block\+Ack(void)}{VerifyBlockAck(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Edca\+Txop\+N\+::\+Verify\+Block\+Ack (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a17b4025d63961a9f54cd9686d79a4709}{}\label{classns3_1_1EdcaTxopN_a17b4025d63961a9f54cd9686d79a4709}
Verifies if dequeued packet has to be transmitted with ack policy Block Ack. This happens if an established block ack agreement exists with the receiver. 
\begin{DoxyCode}
1311 \{
1312   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1313   uint8\_t tid = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} ();
1314   Mac48Address recipient = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ();
1315   uint16\_t sequence = \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_aa202a29c2d6aebe9b3d589e58cbd17bb}{GetSequenceNumber} ();
1316   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_ae13c4678f75ebfda7f63d0521878662b}{ExistsAgreementInState} (recipient, tid, 
      \hyperlink{classns3_1_1OriginatorBlockAckAgreement_ab33ae8af8c458aca7437a472778e4761a57155e6fa589ec94dcd8be08ef6dd837}{OriginatorBlockAckAgreement::INACTIVE}))
1317     \{
1318       \hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_a20324b49d01312f731087f7f707a596a}{SwitchToBlockAckIfNeeded} (recipient, tid, sequence);
1319     \}
1320   \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{m\_baManager}->\hyperlink{classns3_1_1BlockAckManager_ae13c4678f75ebfda7f63d0521878662b}{ExistsAgreementInState} (recipient, tid, 
      \hyperlink{classns3_1_1OriginatorBlockAckAgreement_ab33ae8af8c458aca7437a472778e4761a341f78e1e094b88dea42e94b32871067}{OriginatorBlockAckAgreement::ESTABLISHED}))
1321       && (\hyperlink{classns3_1_1EdcaTxopN_aa8beff92afb46fd336cdf35cb0f451c9}{GetMpduAggregator} () == 0 || \hyperlink{classns3_1_1EdcaTxopN_aa8beff92afb46fd336cdf35cb0f451c9}{GetMpduAggregator} ()->
      \hyperlink{classns3_1_1MpduAggregator_a781ed153a388bbc8a5ac231cfd9218c8}{GetMaxAmpduSize} () == 0))
1322     \{
1323       \hyperlink{classns3_1_1DcaTxop_ae965eb2f4d504e00526e751cd1dab3a6}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a0f884f7997eaf10238ad3c2367332e82}{SetQosAckPolicy} (
      \hyperlink{classns3_1_1WifiMacHeader_ae3a382482f357972019f5e1b3162adc4a8d2763ea0083f1265fbf7dda6fdcf9fd}{WifiMacHeader::BLOCK\_ACK});
1324     \}
1325 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 95




Here is the caller graph for this function\+:
% FIG 96




\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!\+::\+Ampdu\+Aggregation\+Test@{\+::\+Ampdu\+Aggregation\+Test}}
\index{\+::\+Ampdu\+Aggregation\+Test@{\+::\+Ampdu\+Aggregation\+Test}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{\+::\+Ampdu\+Aggregation\+Test}{::AmpduAggregationTest}}]{\setlength{\rightskip}{0pt plus 5cm}friend class \+::{\bf Ampdu\+Aggregation\+Test}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1EdcaTxopN_ac40416d983d6f5074b1f4d2d84900b75}{}\label{classns3_1_1EdcaTxopN_ac40416d983d6f5074b1f4d2d84900b75}
\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!Aggregation\+Capable\+Transmission\+Listener@{Aggregation\+Capable\+Transmission\+Listener}}
\index{Aggregation\+Capable\+Transmission\+Listener@{Aggregation\+Capable\+Transmission\+Listener}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{Aggregation\+Capable\+Transmission\+Listener}{AggregationCapableTransmissionListener}}]{\setlength{\rightskip}{0pt plus 5cm}friend class Aggregation\+Capable\+Transmission\+Listener\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1EdcaTxopN_a8cc48b082c4f0c3cb2a41f8dfd138405}{}\label{classns3_1_1EdcaTxopN_a8cc48b082c4f0c3cb2a41f8dfd138405}


\subsection{Member Data Documentation}
\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+ac@{m\+\_\+ac}}
\index{m\+\_\+ac@{m\+\_\+ac}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+ac}{m_ac}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ac\+Index} ns3\+::\+Edca\+Txop\+N\+::m\+\_\+ac\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_ae385fb8b4514a4fb866739c9a0d2a772}{}\label{classns3_1_1EdcaTxopN_ae385fb8b4514a4fb866739c9a0d2a772}


the access category 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+a\+Mpdu\+Enabled@{m\+\_\+a\+Mpdu\+Enabled}}
\index{m\+\_\+a\+Mpdu\+Enabled@{m\+\_\+a\+Mpdu\+Enabled}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+a\+Mpdu\+Enabled}{m_aMpduEnabled}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<${\bf Mac48\+Address}, bool$>$ ns3\+::\+Edca\+Txop\+N\+::m\+\_\+a\+Mpdu\+Enabled}\hypertarget{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}{}\label{classns3_1_1EdcaTxopN_aacbbbb0f23485401937e97a93bbbfe37}


list containing flags whether A-\/\+M\+P\+DU is enabled for a given destination address 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+backoff\+Trace@{m\+\_\+backoff\+Trace}}
\index{m\+\_\+backoff\+Trace@{m\+\_\+backoff\+Trace}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+backoff\+Trace}{m_backoffTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Value}$<$uint32\+\_\+t$>$ ns3\+::\+Edca\+Txop\+N\+::m\+\_\+backoff\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}{}\label{classns3_1_1EdcaTxopN_a3a10f51712278eab1cb3ab744fc7da6f}


backoff trace value 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+ba\+Manager@{m\+\_\+ba\+Manager}}
\index{m\+\_\+ba\+Manager@{m\+\_\+ba\+Manager}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+ba\+Manager}{m_baManager}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Block\+Ack\+Manager}$\ast$ ns3\+::\+Edca\+Txop\+N\+::m\+\_\+ba\+Manager\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}{}\label{classns3_1_1EdcaTxopN_a7a79eaafe03995bb274451aa752b83b2}


the Block A\+CK manager 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+block\+Ack\+Inactivity\+Timeout@{m\+\_\+block\+Ack\+Inactivity\+Timeout}}
\index{m\+\_\+block\+Ack\+Inactivity\+Timeout@{m\+\_\+block\+Ack\+Inactivity\+Timeout}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+block\+Ack\+Inactivity\+Timeout}{m_blockAckInactivityTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Edca\+Txop\+N\+::m\+\_\+block\+Ack\+Inactivity\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a0f4087f940a73110911420a41ded5ce5}{}\label{classns3_1_1EdcaTxopN_a0f4087f940a73110911420a41ded5ce5}


the Block A\+CK inactivity timeout 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+block\+Ack\+Threshold@{m\+\_\+block\+Ack\+Threshold}}
\index{m\+\_\+block\+Ack\+Threshold@{m\+\_\+block\+Ack\+Threshold}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+block\+Ack\+Threshold}{m_blockAckThreshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Edca\+Txop\+N\+::m\+\_\+block\+Ack\+Threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a158bbee5ed109f1e17927188053ea05a}{}\label{classns3_1_1EdcaTxopN_a158bbee5ed109f1e17927188053ea05a}


the Block A\+CK threshold 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+block\+Ack\+Type@{m\+\_\+block\+Ack\+Type}}
\index{m\+\_\+block\+Ack\+Type@{m\+\_\+block\+Ack\+Type}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+block\+Ack\+Type}{m_blockAckType}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Block\+Ack\+Type} ns3\+::\+Edca\+Txop\+N\+::m\+\_\+block\+Ack\+Type\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a40f224c6cb6c7470553d28b2f04c429d}{}\label{classns3_1_1EdcaTxopN_a40f224c6cb6c7470553d28b2f04c429d}


the Block A\+CK type 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+current\+Bar@{m\+\_\+current\+Bar}}
\index{m\+\_\+current\+Bar@{m\+\_\+current\+Bar}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Bar}{m_currentBar}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Bar} ns3\+::\+Edca\+Txop\+N\+::m\+\_\+current\+Bar\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}{}\label{classns3_1_1EdcaTxopN_a8500ea69876682da40eab4222b7066c5}


the current B\+AR 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+current\+Is\+Fragmented@{m\+\_\+current\+Is\+Fragmented}}
\index{m\+\_\+current\+Is\+Fragmented@{m\+\_\+current\+Is\+Fragmented}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Is\+Fragmented}{m_currentIsFragmented}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::m\+\_\+current\+Is\+Fragmented\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_af17d826141cb2e87903a268e5f9f57ad}{}\label{classns3_1_1EdcaTxopN_af17d826141cb2e87903a268e5f9f57ad}


flag whether current packet is fragmented 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+current\+Packet\+Timestamp@{m\+\_\+current\+Packet\+Timestamp}}
\index{m\+\_\+current\+Packet\+Timestamp@{m\+\_\+current\+Packet\+Timestamp}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Packet\+Timestamp}{m_currentPacketTimestamp}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Edca\+Txop\+N\+::m\+\_\+current\+Packet\+Timestamp\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_ad93008b9d802a1c1b007744f0d4f1a73}{}\label{classns3_1_1EdcaTxopN_ad93008b9d802a1c1b007744f0d4f1a73}


the current packet timestamp 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+cw\+Trace@{m\+\_\+cw\+Trace}}
\index{m\+\_\+cw\+Trace@{m\+\_\+cw\+Trace}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+cw\+Trace}{m_cwTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Value}$<$uint32\+\_\+t$>$ ns3\+::\+Edca\+Txop\+N\+::m\+\_\+cw\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}{}\label{classns3_1_1EdcaTxopN_ad55746ea4042e254b2267905e6ecfe66}


CW trace value. 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+is\+Access\+Requested\+For\+Rts@{m\+\_\+is\+Access\+Requested\+For\+Rts}}
\index{m\+\_\+is\+Access\+Requested\+For\+Rts@{m\+\_\+is\+Access\+Requested\+For\+Rts}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+is\+Access\+Requested\+For\+Rts}{m_isAccessRequestedForRts}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Edca\+Txop\+N\+::m\+\_\+is\+Access\+Requested\+For\+Rts\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a2dbb9cad85e4871b031dc1169c88bb08}{}\label{classns3_1_1EdcaTxopN_a2dbb9cad85e4871b031dc1169c88bb08}


flag whether access is requested to transmit a R\+TS frame 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+mpdu\+Aggregator@{m\+\_\+mpdu\+Aggregator}}
\index{m\+\_\+mpdu\+Aggregator@{m\+\_\+mpdu\+Aggregator}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+mpdu\+Aggregator}{m_mpduAggregator}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Mpdu\+Aggregator}$>$ ns3\+::\+Edca\+Txop\+N\+::m\+\_\+mpdu\+Aggregator\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_abdec6101737b07b2c816c22910d60f53}{}\label{classns3_1_1EdcaTxopN_abdec6101737b07b2c816c22910d60f53}


A-\/\+M\+P\+DU aggregator. 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+msdu\+Aggregator@{m\+\_\+msdu\+Aggregator}}
\index{m\+\_\+msdu\+Aggregator@{m\+\_\+msdu\+Aggregator}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+msdu\+Aggregator}{m_msduAggregator}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Msdu\+Aggregator}$>$ ns3\+::\+Edca\+Txop\+N\+::m\+\_\+msdu\+Aggregator\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_ab4ec029e40b068965e1c7e80b1750027}{}\label{classns3_1_1EdcaTxopN_ab4ec029e40b068965e1c7e80b1750027}


A-\/\+M\+S\+DU aggregator. 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+qos\+Blocked\+Destinations@{m\+\_\+qos\+Blocked\+Destinations}}
\index{m\+\_\+qos\+Blocked\+Destinations@{m\+\_\+qos\+Blocked\+Destinations}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+qos\+Blocked\+Destinations}{m_qosBlockedDestinations}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Qos\+Blocked\+Destinations}$\ast$ ns3\+::\+Edca\+Txop\+N\+::m\+\_\+qos\+Blocked\+Destinations\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}{}\label{classns3_1_1EdcaTxopN_a11581df9860f137e60b71cefd399e8b8}


Q\+OS blocked destinations. 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+start\+Txop@{m\+\_\+start\+Txop}}
\index{m\+\_\+start\+Txop@{m\+\_\+start\+Txop}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+start\+Txop}{m_startTxop}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Edca\+Txop\+N\+::m\+\_\+start\+Txop\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}{}\label{classns3_1_1EdcaTxopN_a09db5c98febe1b5ecd67574518c67b2a}


the start T\+X\+OP time 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+txop\+Trace@{m\+\_\+txop\+Trace}}
\index{m\+\_\+txop\+Trace@{m\+\_\+txop\+Trace}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+txop\+Trace}{m_txopTrace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Time}, {\bf Time}$>$ ns3\+::\+Edca\+Txop\+N\+::m\+\_\+txop\+Trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a451e4a459e0cf4946cc57cc4fe4e64cc}{}\label{classns3_1_1EdcaTxopN_a451e4a459e0cf4946cc57cc4fe4e64cc}


T\+X\+OP trace callback. 

\index{ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}!m\+\_\+type\+Of\+Station@{m\+\_\+type\+Of\+Station}}
\index{m\+\_\+type\+Of\+Station@{m\+\_\+type\+Of\+Station}!ns3\+::\+Edca\+TxopN@{ns3\+::\+Edca\+TxopN}}
\subsubsection[{\texorpdfstring{m\+\_\+type\+Of\+Station}{m_typeOfStation}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Of\+Station} ns3\+::\+Edca\+Txop\+N\+::m\+\_\+type\+Of\+Station\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EdcaTxopN_a2c8e52226f121e25a17e176a3a1594bb}{}\label{classns3_1_1EdcaTxopN_a2c8e52226f121e25a17e176a3a1594bb}


the type of station 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wifi/model/\hyperlink{edca-txop-n_8h}{edca-\/txop-\/n.\+h}\item 
wifi/model/\hyperlink{edca-txop-n_8cc}{edca-\/txop-\/n.\+cc}\end{DoxyCompactItemize}
