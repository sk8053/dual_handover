\hypertarget{classns3_1_1ShannonSpectrumErrorModel}{}\section{ns3\+:\+:Shannon\+Spectrum\+Error\+Model Class Reference}
\label{classns3_1_1ShannonSpectrumErrorModel}\index{ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}}


{\ttfamily \#include $<$spectrum-\/error-\/model.\+h$>$}



Inheritance diagram for ns3\+:\+:Shannon\+Spectrum\+Error\+Model\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Shannon\+Spectrum\+Error\+Model\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1ShannonSpectrumErrorModel_a5c54736ef0634549ef07ac050736f81f}{Start\+Rx} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\item 
void \hyperlink{classns3_1_1ShannonSpectrumErrorModel_aef33d9188f5a6b43f908bf72401fe549}{Evaluate\+Chunk} (const \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} \&sinr, \hyperlink{classns3_1_1Time}{Time} duration)
\item 
bool \hyperlink{classns3_1_1ShannonSpectrumErrorModel_ad609e2ec5ba586332acd810c2d86fd2f}{Is\+Rx\+Correct} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1ShannonSpectrumErrorModel_aaa594b0d5aafb93d9af86f6f0cf60875}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1ShannonSpectrumErrorModel_a9c30a519b88ca97ec90f5214cbe51ddd}{Do\+Dispose} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1ShannonSpectrumErrorModel_a91dbccfbc33146987fdf141aaddbf9dd}{m\+\_\+bytes}
\begin{DoxyCompactList}\small\item\em Length of the packet being received. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1ShannonSpectrumErrorModel_ab853a4be32cc3b07c30c4cd3182de48f}{m\+\_\+deliverable\+Bytes}
\begin{DoxyCompactList}\small\item\em Bytes that can be received according to the Shnanon\textquotesingle{}s formula. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This class implements the error model described in this paper\+: N. Baldo and M. Miozzo, \char`\"{}\+Spectrum-\/aware Channel and P\+H\+Y layer modeling
for ns3\char`\"{}, in Proceedings of International Workshop on Network Simulation Tools (N\+S\+T\+O\+O\+LS 2009), 19 October 2009, Pisa (Italy). 

\subsection{Member Function Documentation}
\index{ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Shannon\+Spectrum\+Error\+Model\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ShannonSpectrumErrorModel_a9c30a519b88ca97ec90f5214cbe51ddd}{}\label{classns3_1_1ShannonSpectrumErrorModel_a9c30a519b88ca97ec90f5214cbe51ddd}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1ShannonSpectrumErrorModel_a9c30a519b88ca97ec90f5214cbe51ddd}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
64 \{
65   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
66   \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{SpectrumErrorModel::DoDispose} ();
67 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}!Evaluate\+Chunk@{Evaluate\+Chunk}}
\index{Evaluate\+Chunk@{Evaluate\+Chunk}!ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}}
\subsubsection[{\texorpdfstring{Evaluate\+Chunk(const Spectrum\+Value \&sinr, Time duration)}{EvaluateChunk(const SpectrumValue &sinr, Time duration)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Shannon\+Spectrum\+Error\+Model\+::\+Evaluate\+Chunk (
\begin{DoxyParamCaption}
\item[{const {\bf Spectrum\+Value} \&}]{sinr, }
\item[{{\bf Time}}]{duration}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ShannonSpectrumErrorModel_aef33d9188f5a6b43f908bf72401fe549}{}\label{classns3_1_1ShannonSpectrumErrorModel_aef33d9188f5a6b43f908bf72401fe549}
Evaluates a chunk 
\begin{DoxyParams}{Parameters}
{\em sinr} & the \hyperlink{classns3_1_1SpectrumValue}{Spectrum\+Value} experienced by the \hyperlink{classns3_1_1Chunk}{Chunk} \\
\hline
{\em duration} & the \hyperlink{classns3_1_1Chunk}{Chunk} length \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1SpectrumErrorModel_ae067d4343114dadc13bc4570f1aeb588}{ns3\+::\+Spectrum\+Error\+Model}.


\begin{DoxyCode}
80 \{
81   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << sinr << duration);
82   SpectrumValue CapacityPerHertz = \hyperlink{namespacens3_a7f903df44671c49879b8d6284024ffd3}{Log2} (1 + sinr);
83   \textcolor{keywordtype}{double} capacity = 0;
84 
85   Bands::const\_iterator bi = CapacityPerHertz.ConstBandsBegin ();
86   Values::const\_iterator vi = CapacityPerHertz.ConstValuesBegin ();
87 
88   \textcolor{keywordflow}{while} (bi != CapacityPerHertz.ConstBandsEnd ())
89     \{
90       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (vi != CapacityPerHertz.ConstValuesEnd ());
91       capacity += (bi->fh - bi->fl) * (*vi);
92       ++bi;
93       ++vi;
94     \}
95   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (vi == CapacityPerHertz.ConstValuesEnd ());
96   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"ChunkCapacity = "} << capacity);
97   \hyperlink{classns3_1_1ShannonSpectrumErrorModel_ab853a4be32cc3b07c30c4cd3182de48f}{m\_deliverableBytes} += \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>} (capacity * duration.GetSeconds () / 8);
98   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"DeliverableBytes = "} << \hyperlink{classns3_1_1ShannonSpectrumErrorModel_ab853a4be32cc3b07c30c4cd3182de48f}{m\_deliverableBytes});
99 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Shannon\+Spectrum\+Error\+Model\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1ShannonSpectrumErrorModel_aaa594b0d5aafb93d9af86f6f0cf60875}{}\label{classns3_1_1ShannonSpectrumErrorModel_aaa594b0d5aafb93d9af86f6f0cf60875}
Register this type. \begin{DoxyReturn}{Returns}
The \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
53 \{
54   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::ShannonSpectrumErrorModel"})
55     .SetParent<SpectrumErrorModel> ()
56     .SetGroupName (\textcolor{stringliteral}{"Spectrum"})
57     .AddConstructor<ShannonSpectrumErrorModel> ()
58     ;
59   \textcolor{keywordflow}{return} tid;
60 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}!Is\+Rx\+Correct@{Is\+Rx\+Correct}}
\index{Is\+Rx\+Correct@{Is\+Rx\+Correct}!ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}}
\subsubsection[{\texorpdfstring{Is\+Rx\+Correct()}{IsRxCorrect()}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Shannon\+Spectrum\+Error\+Model\+::\+Is\+Rx\+Correct (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ShannonSpectrumErrorModel_ad609e2ec5ba586332acd810c2d86fd2f}{}\label{classns3_1_1ShannonSpectrumErrorModel_ad609e2ec5ba586332acd810c2d86fd2f}
Checks if the packet being received is correct \begin{DoxyReturn}{Returns}
true if the packet is correct. 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1SpectrumErrorModel_a8a553ca7b47fc83507c8d56423473329}{ns3\+::\+Spectrum\+Error\+Model}.


\begin{DoxyCode}
104 \{
105   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
106   \textcolor{keywordflow}{return} (\hyperlink{classns3_1_1ShannonSpectrumErrorModel_ab853a4be32cc3b07c30c4cd3182de48f}{m\_deliverableBytes} > \hyperlink{classns3_1_1ShannonSpectrumErrorModel_a91dbccfbc33146987fdf141aaddbf9dd}{m\_bytes});
107 \}
\end{DoxyCode}
\index{ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}!Start\+Rx@{Start\+Rx}}
\index{Start\+Rx@{Start\+Rx}!ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}}
\subsubsection[{\texorpdfstring{Start\+Rx(\+Ptr$<$ const Packet $>$ p)}{StartRx(Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Shannon\+Spectrum\+Error\+Model\+::\+Start\+Rx (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ShannonSpectrumErrorModel_a5c54736ef0634549ef07ac050736f81f}{}\label{classns3_1_1ShannonSpectrumErrorModel_a5c54736ef0634549ef07ac050736f81f}
Start a packet reception 
\begin{DoxyParams}{Parameters}
{\em p} & the packet \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1SpectrumErrorModel_a49aad41fa0c38b66c6ca094bcce5dee7}{ns3\+::\+Spectrum\+Error\+Model}.


\begin{DoxyCode}
71 \{
72   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
73   \hyperlink{classns3_1_1ShannonSpectrumErrorModel_a91dbccfbc33146987fdf141aaddbf9dd}{m\_bytes} = \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p}->GetSize ();
74   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"bytes to deliver: "} << \hyperlink{classns3_1_1ShannonSpectrumErrorModel_a91dbccfbc33146987fdf141aaddbf9dd}{m\_bytes});
75   \hyperlink{classns3_1_1ShannonSpectrumErrorModel_ab853a4be32cc3b07c30c4cd3182de48f}{m\_deliverableBytes} = 0;
76 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}!m\+\_\+bytes@{m\+\_\+bytes}}
\index{m\+\_\+bytes@{m\+\_\+bytes}!ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+bytes}{m_bytes}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Shannon\+Spectrum\+Error\+Model\+::m\+\_\+bytes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ShannonSpectrumErrorModel_a91dbccfbc33146987fdf141aaddbf9dd}{}\label{classns3_1_1ShannonSpectrumErrorModel_a91dbccfbc33146987fdf141aaddbf9dd}


Length of the packet being received. 

\index{ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}!m\+\_\+deliverable\+Bytes@{m\+\_\+deliverable\+Bytes}}
\index{m\+\_\+deliverable\+Bytes@{m\+\_\+deliverable\+Bytes}!ns3\+::\+Shannon\+Spectrum\+Error\+Model@{ns3\+::\+Shannon\+Spectrum\+Error\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+deliverable\+Bytes}{m_deliverableBytes}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Shannon\+Spectrum\+Error\+Model\+::m\+\_\+deliverable\+Bytes\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ShannonSpectrumErrorModel_ab853a4be32cc3b07c30c4cd3182de48f}{}\label{classns3_1_1ShannonSpectrumErrorModel_ab853a4be32cc3b07c30c4cd3182de48f}


Bytes that can be received according to the Shnanon\textquotesingle{}s formula. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
spectrum/model/\hyperlink{spectrum-error-model_8h}{spectrum-\/error-\/model.\+h}\item 
spectrum/model/\hyperlink{spectrum-error-model_8cc}{spectrum-\/error-\/model.\+cc}\end{DoxyCompactItemize}
