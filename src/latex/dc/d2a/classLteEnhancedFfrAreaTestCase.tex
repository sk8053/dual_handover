\hypertarget{classLteEnhancedFfrAreaTestCase}{}\section{Lte\+Enhanced\+Ffr\+Area\+Test\+Case Class Reference}
\label{classLteEnhancedFfrAreaTestCase}\index{Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{Lte\+Enhanced\+Ffr\+Area\+Test\+Case}}


{\ttfamily \#include $<$lte-\/test-\/frequency-\/reuse.\+h$>$}



Inheritance diagram for Lte\+Enhanced\+Ffr\+Area\+Test\+Case\+:
% FIG 0


Collaboration diagram for Lte\+Enhanced\+Ffr\+Area\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLteEnhancedFfrAreaTestCase_aaa1718519bbbbbb0d63fa35bab7d7f41}{Lte\+Enhanced\+Ffr\+Area\+Test\+Case} (std\+::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, std\+::string scheduler\+Type)
\item 
virtual \hyperlink{classLteEnhancedFfrAreaTestCase_a7dabfbbdde52c183827a0992454984f5}{$\sim$\+Lte\+Enhanced\+Ffr\+Area\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classLteEnhancedFfrAreaTestCase_aa242a1923952a50df92c3e291f1ca8a6}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{Lte\+Enhanced\+Ffr\+Area\+Test\+Case}!Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{Lte\+Enhanced\+Ffr\+Area\+Test\+Case}}
\index{Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{Lte\+Enhanced\+Ffr\+Area\+Test\+Case}!Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{Lte\+Enhanced\+Ffr\+Area\+Test\+Case}}
\subsubsection[{\texorpdfstring{Lte\+Enhanced\+Ffr\+Area\+Test\+Case(std\+::string name, std\+::string scheduler\+Type)}{LteEnhancedFfrAreaTestCase(std::string name, std::string schedulerType)}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Enhanced\+Ffr\+Area\+Test\+Case\+::\+Lte\+Enhanced\+Ffr\+Area\+Test\+Case (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name, }
\item[{std\+::string}]{scheduler\+Type}
\end{DoxyParamCaption}
)}\hypertarget{classLteEnhancedFfrAreaTestCase_aaa1718519bbbbbb0d63fa35bab7d7f41}{}\label{classLteEnhancedFfrAreaTestCase_aaa1718519bbbbbb0d63fa35bab7d7f41}

\begin{DoxyCode}
1176   : \hyperlink{classLteFrAreaTestCase_a0687abbf4a200d2392f56d8433f754b3}{LteFrAreaTestCase} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, schedulerType)
1177 \{
1178   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Creating LteEnhancedFfrAreaTestCase"});
1179 \}
\end{DoxyCode}
\index{Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{Lte\+Enhanced\+Ffr\+Area\+Test\+Case}!````~Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{$\sim$\+Lte\+Enhanced\+Ffr\+Area\+Test\+Case}}
\index{````~Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{$\sim$\+Lte\+Enhanced\+Ffr\+Area\+Test\+Case}!Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{Lte\+Enhanced\+Ffr\+Area\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Lte\+Enhanced\+Ffr\+Area\+Test\+Case()}{~LteEnhancedFfrAreaTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Enhanced\+Ffr\+Area\+Test\+Case\+::$\sim$\+Lte\+Enhanced\+Ffr\+Area\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classLteEnhancedFfrAreaTestCase_a7dabfbbdde52c183827a0992454984f5}{}\label{classLteEnhancedFfrAreaTestCase_a7dabfbbdde52c183827a0992454984f5}

\begin{DoxyCode}
1182 \{
1183 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{Lte\+Enhanced\+Ffr\+Area\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Lte\+Enhanced\+Ffr\+Area\+Test\+Case@{Lte\+Enhanced\+Ffr\+Area\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Enhanced\+Ffr\+Area\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLteEnhancedFfrAreaTestCase_aa242a1923952a50df92c3e291f1ca8a6}{}\label{classLteEnhancedFfrAreaTestCase_aa242a1923952a50df92c3e291f1ca8a6}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Reimplemented from \hyperlink{classLteFrAreaTestCase_a238d20569ef61122d065243d3c3860f3}{Lte\+Fr\+Area\+Test\+Case}.


\begin{DoxyCode}
1187 \{
1188   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"LteEnhancedFfrAreaTestCase"});
1189 
1190   \hyperlink{group__config_ga2c1b65724f42f8c72276d7e7ad6df6db}{Config::Reset} ();
1191   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteHelper::UseIdealRrc"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
1192   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteHelper::UsePdschForCqiGeneration"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
1193   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::CtrlErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
1194   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::DataErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
1195 
1196   \textcolor{keywordtype}{double} eNbTxPower = 30;
1197   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteEnbPhy::TxPower"}, DoubleValue (eNbTxPower));
1198   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::TxPower"}, DoubleValue (10.0));
1199   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::EnableUplinkPowerControl"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
1200 
1201   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::ClosedLoop"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
1202   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::AccumulationEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
1203 
1204 
1205   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
1206 
1207   \textcolor{comment}{// Create Nodes: eNodeB and UE}
1208   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
1209   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes1;
1210   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes2;
1211   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (2);
1212   ueNodes1.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
1213   ueNodes2.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
1214   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} allNodes = \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ( enbNodes, ueNodes1, ueNodes2);
1215 
1216   \textcolor{comment}{/*}
1217 \textcolor{comment}{   * The topology is the following:}
1218 \textcolor{comment}{   *}
1219 \textcolor{comment}{   *  eNB1            UE1                                      eNB2}
1220 \textcolor{comment}{   *    |              |                                         |}
1221 \textcolor{comment}{   *    x ------------ x ------------------------ x ------------ x----UE2}
1222 \textcolor{comment}{   *         200 m               600 m                  200 m      20 m}
1223 \textcolor{comment}{   *}
1224 \textcolor{comment}{   */}
1225 
1226   \hyperlink{classns3_1_1Ptr}{Ptr<ListPositionAllocator>} positionAlloc = CreateObject<ListPositionAllocator> 
      ();
1227   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (0.0, 0.0, 0.0));   \textcolor{comment}{// eNB1}
1228   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (1000, 0.0, 0.0)); \textcolor{comment}{// eNB2}
1229   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (0.0, 0.0, 0.0));  \textcolor{comment}{// UE1}
1230   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (1020, 0.0, 0.0));  \textcolor{comment}{// UE2}
1231   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
1232   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
1233   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (positionAlloc);
1234   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (allNodes);
1235   \hyperlink{classLteFrAreaTestCase_ae2f235fc4d87154ef9f32bc0d92ef2ca}{m\_ueMobility} = ueNodes1.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ();
1236 
1237   \textcolor{comment}{// Disable layer-3 filtering}
1238   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteEnbRrc::RsrpFilterCoefficient"},
1239                       UintegerValue (0));
1240   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteEnbRrc::RsrqFilterCoefficient"},
1241                       UintegerValue (0));
1242 
1243   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
1244   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
1245   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs1;
1246   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs2;
1247   lteHelper->\hyperlink{classns3_1_1LteHelper_a8f86e55b8b80a81732c4b2df00fb25d5}{SetSchedulerType} (\hyperlink{classLteFrAreaTestCase_aa093fda7c4b63732d547c87952f52f05}{m\_schedulerType});
1248   lteHelper->\hyperlink{classns3_1_1LteHelper_a38f8c7f4592b31c0f3dedb53e7909742}{SetSchedulerAttribute} (\textcolor{stringliteral}{"HarqEnabled"},  
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
1249 
1250   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"DlBandwidth"}, UintegerValue (
      \hyperlink{classLteFrAreaTestCase_a645fc2cea287afbd373f6d702152cf47}{m\_dlBandwidth}));
1251   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"UlBandwidth"}, UintegerValue (
      \hyperlink{classLteFrAreaTestCase_afa54487d9f12658bbead39e1272f4d8c}{m\_ulBandwidth}));
1252 
1253   lteHelper->\hyperlink{classns3_1_1LteHelper_a035c6b03305c1511975362f80425b5fc}{SetFfrAlgorithmType} (\textcolor{stringliteral}{"ns3::LteFfrEnhancedAlgorithm"});
1254   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"RsrqThreshold"}, UintegerValue (25));
1255   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"DlCqiThreshold"}, UintegerValue (10));
1256   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"UlCqiThreshold"}, UintegerValue (15));
1257   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"CenterAreaPowerOffset"},
1258                                        UintegerValue (LteRrcSap::PdschConfigDedicated::dB\_6));
1259   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"EdgeAreaPowerOffset"},
1260                                        UintegerValue (LteRrcSap::PdschConfigDedicated::dB0));
1261 
1262   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"UlSubBandOffset"}, UintegerValue (0));
1263   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"UlReuse3SubBandwidth"}, UintegerValue (4));
1264   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"UlReuse1SubBandwidth"}, UintegerValue (4));
1265 
1266   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"DlSubBandOffset"}, UintegerValue (0));
1267   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"DlReuse3SubBandwidth"}, UintegerValue (4));
1268   lteHelper->\hyperlink{classns3_1_1LteHelper_a793d56e843a844428851e90752c5f130}{SetFfrAlgorithmAttribute} (\textcolor{stringliteral}{"DlReuse1SubBandwidth"}, UintegerValue (4));
1269 
1270   enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes.Get (0)));
1271 
1272   lteHelper->\hyperlink{classns3_1_1LteHelper_a035c6b03305c1511975362f80425b5fc}{SetFfrAlgorithmType} (\textcolor{stringliteral}{"ns3::LteFrNoOpAlgorithm"});
1273   enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes.Get (1)));
1274 
1275   ueDevs1 = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes1);
1276   ueDevs2 = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes2);
1277 
1278   \textcolor{comment}{// Attach a UE to a eNB}
1279   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs1, enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
1280   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs2, enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1));
1281 
1282   \textcolor{comment}{// Activate an EPS bearer}
1283   \textcolor{keyword}{enum} \hyperlink{structns3_1_1EpsBearer_aecf0c67109c5eb4ec0b07226fff5885e}{EpsBearer::Qci} q = EpsBearer::GBR\_CONV\_VOICE;
1284   \hyperlink{structns3_1_1EpsBearer}{EpsBearer} bearer (q);
1285   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs1, bearer);
1286   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs2, bearer);
1287 
1288   \textcolor{comment}{//Test SpectrumPhy to get signals form DL channel}
1289   \hyperlink{classns3_1_1Ptr}{Ptr<LteSpectrumPhy>} enbDlSpectrumPhy = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ()->GetPhy ()->GetDownlinkSpectrumPhy ()->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1LteSpectrumPhy}{LteSpectrumPhy}> ();
1290   \hyperlink{classns3_1_1Ptr}{Ptr<SpectrumChannel>} dlChannel = enbDlSpectrumPhy->
      \hyperlink{classns3_1_1LteSpectrumPhy_a50f13e43568687ee32c5d63e5bf639c2}{GetChannel} ();
1291 
1292   \hyperlink{classns3_1_1Ptr}{Ptr<LteSimpleSpectrumPhy>} testDlSpectrumPhy = CreateObject<LteSimpleSpectrumPhy>
       ();
1293   \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbNetDevice>} eNbDev = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ();
1294   testDlSpectrumPhy->\hyperlink{classns3_1_1LteSimpleSpectrumPhy_a1cbc14b5951a6c9360d3b180760429d9}{SetRxSpectrumModel} (LteSpectrumValueHelper::GetSpectrumModel (eNbDev
      ->GetDlEarfcn (), \hyperlink{classLteFrAreaTestCase_a645fc2cea287afbd373f6d702152cf47}{m\_dlBandwidth}));
1295   dlChannel->AddRx (testDlSpectrumPhy);
1296 
1297   testDlSpectrumPhy->\hyperlink{classns3_1_1LteSimpleSpectrumPhy_aed3e4883b1f03358a744746b08fbd5d8}{SetCellId} (1);
1298 
1299   testDlSpectrumPhy->\hyperlink{classns3_1_1ObjectBase_a1be45f6fd561e75dcac9dfa81b2b81e4}{TraceConnectWithoutContext} (\textcolor{stringliteral}{"RxStart"},
1300                                                  \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-frequency-reuse_8cc_a39fd51e5983e3a2105d2862729ad91e0}{DlDataRxStartNofiticationArea}, \textcolor{keyword}{this}));
1301 
1302   \textcolor{comment}{//Test SpectrumPhy to get signals form UL channel}
1303   \hyperlink{classns3_1_1Ptr}{Ptr<LteSpectrumPhy>} ueUlSpectrumPhy = ueDevs1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ()->GetPhy ()->GetUplinkSpectrumPhy ()->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1LteSpectrumPhy}{LteSpectrumPhy}> ();
1304   \hyperlink{classns3_1_1Ptr}{Ptr<SpectrumChannel>} ulChannel = ueUlSpectrumPhy->
      \hyperlink{classns3_1_1LteSpectrumPhy_a50f13e43568687ee32c5d63e5bf639c2}{GetChannel} ();
1305 
1306   \hyperlink{classns3_1_1Ptr}{Ptr<LteSimpleSpectrumPhy>} testUlSpectrumPhy = CreateObject<LteSimpleSpectrumPhy>
       ();
1307   testUlSpectrumPhy->\hyperlink{classns3_1_1LteSimpleSpectrumPhy_a1cbc14b5951a6c9360d3b180760429d9}{SetRxSpectrumModel} (LteSpectrumValueHelper::GetSpectrumModel (eNbDev
      ->GetUlEarfcn (), \hyperlink{classLteFrAreaTestCase_afa54487d9f12658bbead39e1272f4d8c}{m\_ulBandwidth}));
1308   ulChannel->AddRx (testUlSpectrumPhy);
1309 
1310   testUlSpectrumPhy->\hyperlink{classns3_1_1LteSimpleSpectrumPhy_aed3e4883b1f03358a744746b08fbd5d8}{SetCellId} (1);
1311 
1312   testUlSpectrumPhy->\hyperlink{classns3_1_1ObjectBase_a1be45f6fd561e75dcac9dfa81b2b81e4}{TraceConnectWithoutContext} (\textcolor{stringliteral}{"RxStart"},
1313                                                  \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-frequency-reuse_8cc_a1011b9d239710e3f627e9aada5d64778}{UlDataRxStartNofiticationArea}, \textcolor{keyword}{this}));
1314 
1315   \textcolor{keywordtype}{double} expectedDlPowerCenterArea = 0.251189;
1316   std::vector<bool> expectedDlRbCenterArea;
1317   expectedDlRbCenterArea.resize (\hyperlink{classLteFrAreaTestCase_a645fc2cea287afbd373f6d702152cf47}{m\_dlBandwidth}, \textcolor{keyword}{false});
1318   std::vector<bool> expectedUlRbCenterArea;
1319   expectedUlRbCenterArea.resize (\hyperlink{classLteFrAreaTestCase_afa54487d9f12658bbead39e1272f4d8c}{m\_ulBandwidth}, \textcolor{keyword}{false});
1320   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 8; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1321     \{
1322       expectedDlRbCenterArea[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \textcolor{keyword}{true};
1323       expectedUlRbCenterArea[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \textcolor{keyword}{true};
1324     \}
1325   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 12; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 16; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1326     \{
1327       expectedDlRbCenterArea[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \textcolor{keyword}{true};
1328       expectedUlRbCenterArea[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \textcolor{keyword}{true};
1329     \}
1330   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 20; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 24; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1331     \{
1332       expectedDlRbCenterArea[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \textcolor{keyword}{true};
1333       expectedUlRbCenterArea[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \textcolor{keyword}{true};
1334     \}
1335 
1336   \textcolor{keywordtype}{double} expectedDlPowerMiddleArea = 0.251189;
1337   std::vector<bool> expectedDlRbMiddleArea;
1338   expectedDlRbMiddleArea.resize (\hyperlink{classLteFrAreaTestCase_a645fc2cea287afbd373f6d702152cf47}{m\_dlBandwidth}, \textcolor{keyword}{false});
1339   std::vector<bool> expectedUlRbMiddleArea;
1340   expectedUlRbMiddleArea.resize (\hyperlink{classLteFrAreaTestCase_afa54487d9f12658bbead39e1272f4d8c}{m\_ulBandwidth}, \textcolor{keyword}{false});
1341   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 4; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 8; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1342     \{
1343       expectedDlRbMiddleArea[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \textcolor{keyword}{true};
1344       expectedUlRbMiddleArea[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \textcolor{keyword}{true};
1345     \}
1346 
1347   \textcolor{keywordtype}{double} expectedDlPowerEdgeArea = 1.0;
1348   std::vector<bool> expectedDlRbEdgeArea;
1349   expectedDlRbEdgeArea.resize (\hyperlink{classLteFrAreaTestCase_a645fc2cea287afbd373f6d702152cf47}{m\_dlBandwidth}, \textcolor{keyword}{false});
1350   std::vector<bool> expectedUlRbEdgeArea;
1351   expectedUlRbEdgeArea.resize (\hyperlink{classLteFrAreaTestCase_afa54487d9f12658bbead39e1272f4d8c}{m\_ulBandwidth}, \textcolor{keyword}{false});
1352   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 4; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1353     \{
1354       expectedDlRbEdgeArea[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \textcolor{keyword}{true};
1355       expectedUlRbEdgeArea[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = \textcolor{keyword}{true};
1356     \}
1357 
1358   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1),
1359                        &\hyperlink{classLteFrAreaTestCase_ad644210c338d4e34da3c5d7f0c511269}{LteEnhancedFfrAreaTestCase::TeleportUe}, \textcolor{keyword}{this},
       100, 0,
1360                        expectedDlPowerCenterArea, expectedDlRbCenterArea );
1361   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1),
1362                        &\hyperlink{classLteFrAreaTestCase_aac2718dc3703d2ad389f88ffa20d035e}{LteFrAreaTestCase::SetUlExpectedValues}, \textcolor{keyword}{this},
       0.00250905, expectedUlRbCenterArea );
1363 
1364   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (501),
1365                        &\hyperlink{classLteFrAreaTestCase_ad644210c338d4e34da3c5d7f0c511269}{LteEnhancedFfrAreaTestCase::TeleportUe}, \textcolor{keyword}{this},
       300, 0,
1366                        expectedDlPowerMiddleArea, expectedDlRbMiddleArea );
1367   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (501),
1368                        &\hyperlink{classLteFrAreaTestCase_aac2718dc3703d2ad389f88ffa20d035e}{LteFrAreaTestCase::SetUlExpectedValues}, \textcolor{keyword}{this},
       0.0225815, expectedUlRbMiddleArea );
1369 
1370   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1001),
1371                        &\hyperlink{classLteFrAreaTestCase_ad644210c338d4e34da3c5d7f0c511269}{LteEnhancedFfrAreaTestCase::TeleportUe}, \textcolor{keyword}{this},
       600, 0,
1372                        expectedDlPowerEdgeArea, expectedDlRbEdgeArea );
1373   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1001),
1374                        &\hyperlink{classLteFrAreaTestCase_aac2718dc3703d2ad389f88ffa20d035e}{LteFrAreaTestCase::SetUlExpectedValues}, \textcolor{keyword}{this},
       0.0903259, expectedUlRbEdgeArea );
1375 
1376   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1501),
1377                        &\hyperlink{classLteFrAreaTestCase_ad644210c338d4e34da3c5d7f0c511269}{LteEnhancedFfrAreaTestCase::TeleportUe}, \textcolor{keyword}{this},
       100, 0,
1378                        expectedDlPowerCenterArea, expectedDlRbCenterArea );
1379   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (1501),
1380                        &\hyperlink{classLteFrAreaTestCase_aac2718dc3703d2ad389f88ffa20d035e}{LteFrAreaTestCase::SetUlExpectedValues}, \textcolor{keyword}{this},
       0.00250905, expectedUlRbCenterArea );
1381 
1382   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (2001),
1383                        &\hyperlink{classLteFrAreaTestCase_ad644210c338d4e34da3c5d7f0c511269}{LteEnhancedFfrAreaTestCase::TeleportUe}, \textcolor{keyword}{this},
       300, 0,
1384                        expectedDlPowerMiddleArea, expectedDlRbMiddleArea );
1385   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (2001),
1386                        &\hyperlink{classLteFrAreaTestCase_aac2718dc3703d2ad389f88ffa20d035e}{LteFrAreaTestCase::SetUlExpectedValues}, \textcolor{keyword}{this},
       0.0225815, expectedUlRbCenterArea );
1387 
1388   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.500));
1389   Simulator::Run ();
1390 
1391   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classLteFrAreaTestCase_acf1b825c0fc50c57ac990d11ea1529c0}{m\_usedWrongDlRbg}, \textcolor{keyword}{false},
1392                          \textcolor{stringliteral}{"Scheduler used DL RBG muted by FFR Algorithm"});
1393 
1394   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classLteFrAreaTestCase_a11e401119f17b78d6693ef29f82b8895}{m\_usedWrongUlRbg}, \textcolor{keyword}{false},
1395                          \textcolor{stringliteral}{"Scheduler used UL RB muted by FFR Algorithm"});
1396 
1397   Simulator::Destroy ();
1398 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/test/\hyperlink{lte-test-frequency-reuse_8h}{lte-\/test-\/frequency-\/reuse.\+h}\item 
lte/test/\hyperlink{lte-test-frequency-reuse_8cc}{lte-\/test-\/frequency-\/reuse.\+cc}\end{DoxyCompactItemize}
