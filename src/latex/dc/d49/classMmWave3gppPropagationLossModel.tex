\hypertarget{classMmWave3gppPropagationLossModel}{}\section{Mm\+Wave3gpp\+Propagation\+Loss\+Model Class Reference}
\label{classMmWave3gppPropagationLossModel}\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}


{\ttfamily \#include $<$mmwave-\/3gpp-\/propagation-\/loss-\/model.\+h$>$}



Inheritance diagram for Mm\+Wave3gpp\+Propagation\+Loss\+Model\+:
% FIG 0


Collaboration diagram for Mm\+Wave3gpp\+Propagation\+Loss\+Model\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMmWave3gppPropagationLossModel_ac9ec567e21cdb76918617e903e9f0f60}{Mm\+Wave3gpp\+Propagation\+Loss\+Model} ()
\item 
void \hyperlink{classMmWave3gppPropagationLossModel_a48c59beb5e2a7eb457165b54558430ce}{Set\+Configuration\+Parameters} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWavePhyMacCommon}{Mm\+Wave\+Phy\+Mac\+Common} $>$ ptr\+Config)
\item 
void \hyperlink{classMmWave3gppPropagationLossModel_a1431e2e95ebb21292fbd8732868fe8ef}{Set\+Min\+Loss} (double min\+Loss)
\item 
double \hyperlink{classMmWave3gppPropagationLossModel_a13f78fefa8ddd09862e9b39ae5e3eabd}{Get\+Min\+Loss} (void) const 
\item 
double \hyperlink{classMmWave3gppPropagationLossModel_a40f8951a1d321f12f2d0f13eed13eb20}{Get\+Frequency} (void) const 
\item 
char \hyperlink{classMmWave3gppPropagationLossModel_aacc2e4ef3751ea067ccb9eb9d0bb8dbf}{Get\+Channel\+Condition} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b})
\item 
std\+::string \hyperlink{classMmWave3gppPropagationLossModel_ae092a58d42801c732956d64e0fe250eb}{Get\+Scenario} ()
\item 
double \hyperlink{classMmWave3gppPropagationLossModel_ae389c108155d92774975e8a8d0de9c6a}{Get\+Loss} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classMmWave3gppPropagationLossModel_a1a8589a60905d335ac0d21da030c36fa}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMmWave3gppPropagationLossModel_acb92e7979a8623363836b25569787598}{Mm\+Wave3gpp\+Propagation\+Loss\+Model} (const \hyperlink{classMmWave3gppPropagationLossModel}{Mm\+Wave3gpp\+Propagation\+Loss\+Model} \&o)
\item 
\hyperlink{classMmWave3gppPropagationLossModel}{Mm\+Wave3gpp\+Propagation\+Loss\+Model} \& \hyperlink{classMmWave3gppPropagationLossModel_aacd58ca47645b4fcccd4573b359c9655}{operator=} (const \hyperlink{classMmWave3gppPropagationLossModel}{Mm\+Wave3gpp\+Propagation\+Loss\+Model} \&o)
\item 
virtual double \hyperlink{classMmWave3gppPropagationLossModel_a7dd70e11f63fe41504f7954240c184a4}{Do\+Calc\+Rx\+Power} (double tx\+Power\+Dbm, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const 
\item 
virtual int64\+\_\+t \hyperlink{classMmWave3gppPropagationLossModel_aff84f9c1916e003f8624f22b35ef9354}{Do\+Assign\+Streams} (int64\+\_\+t stream)
\item 
void \hyperlink{classMmWave3gppPropagationLossModel_afe6cc723227bc7bb2f6b8cfd1cd08e6a}{Update\+Condition\+Map} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}, \hyperlink{structchannelCondition}{channel\+Condition} cond) const 
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classMmWave3gppPropagationLossModel_af93c26bcd20ec903b0c70afa4c59cde2}{m\+\_\+lambda}
\item 
double \hyperlink{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}{m\+\_\+frequency}
\item 
double \hyperlink{classMmWave3gppPropagationLossModel_a77d24e66b9afc8afd0a7e52d3735d557}{m\+\_\+min\+Loss}
\item 
\hyperlink{mmwave-3gpp-propagation-loss-model_8h_a76b21036afebb8764ee4bfe0aa80e806}{channel\+Condition\+Map\+\_\+t} \hyperlink{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{m\+\_\+channel\+Condition\+Map}
\item 
std\+::string \hyperlink{classMmWave3gppPropagationLossModel_a416f5b42f67f2d950344b4746885230d}{m\+\_\+channel\+Conditions}
\item 
std\+::string \hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\+\_\+scenario}
\item 
bool \hyperlink{classMmWave3gppPropagationLossModel_a5029858358d3c4dac793ebf3c8c6cc09}{m\+\_\+option\+Nlos\+Enabled}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1NormalRandomVariable}{Normal\+Random\+Variable} $>$ \hyperlink{classMmWave3gppPropagationLossModel_a513eea17719ec9c16c3f4e215b018ce9}{m\+\_\+nor\+Var}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1UniformRandomVariable}{Uniform\+Random\+Variable} $>$ \hyperlink{classMmWave3gppPropagationLossModel_a03532a0deaf28490552b0ba27bae9afa}{m\+\_\+uniform\+Var}
\item 
bool \hyperlink{classMmWave3gppPropagationLossModel_ac5ba12ef57c52196b6434d801d2e22af}{m\+\_\+shadowing\+Enabled}
\item 
bool \hyperlink{classMmWave3gppPropagationLossModel_a2d089e3f89e3cc67c7ea6499a6eca943}{m\+\_\+in\+Car}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MmWavePhyMacCommon}{Mm\+Wave\+Phy\+Mac\+Common} $>$ \hyperlink{classMmWave3gppPropagationLossModel_adae341d51b71d1cb4b9f9650e0f90aff}{m\+\_\+phy\+Mac\+Config}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Mm\+Wave3gpp\+Propagation\+Loss\+Model()}{MmWave3gppPropagationLossModel()}}]{\setlength{\rightskip}{0pt plus 5cm}Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Mm\+Wave3gpp\+Propagation\+Loss\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classMmWave3gppPropagationLossModel_ac9ec567e21cdb76918617e903e9f0f60}{}\label{classMmWave3gppPropagationLossModel_ac9ec567e21cdb76918617e903e9f0f60}

\begin{DoxyCode}
89 \{
90   \hyperlink{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{m\_channelConditionMap}.clear ();
91   \hyperlink{classMmWave3gppPropagationLossModel_a513eea17719ec9c16c3f4e215b018ce9}{m\_norVar} = CreateObject<NormalRandomVariable> ();
92   \hyperlink{classMmWave3gppPropagationLossModel_a513eea17719ec9c16c3f4e215b018ce9}{m\_norVar}->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Mean"}, DoubleValue (0));
93   \hyperlink{classMmWave3gppPropagationLossModel_a513eea17719ec9c16c3f4e215b018ce9}{m\_norVar}->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Variance"}, DoubleValue (1));
94 
95   \hyperlink{classMmWave3gppPropagationLossModel_a03532a0deaf28490552b0ba27bae9afa}{m\_uniformVar} = CreateObject<UniformRandomVariable> ();
96   \hyperlink{classMmWave3gppPropagationLossModel_a03532a0deaf28490552b0ba27bae9afa}{m\_uniformVar}->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Min"}, DoubleValue (0));
97   \hyperlink{classMmWave3gppPropagationLossModel_a03532a0deaf28490552b0ba27bae9afa}{m\_uniformVar}->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Max"}, DoubleValue (1));
98 
99 \}
\end{DoxyCode}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Mm\+Wave3gpp\+Propagation\+Loss\+Model(const Mm\+Wave3gpp\+Propagation\+Loss\+Model \&o)}{MmWave3gppPropagationLossModel(const MmWave3gppPropagationLossModel &o)}}]{\setlength{\rightskip}{0pt plus 5cm}Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Mm\+Wave3gpp\+Propagation\+Loss\+Model (
\begin{DoxyParamCaption}
\item[{const {\bf Mm\+Wave3gpp\+Propagation\+Loss\+Model} \&}]{o}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_acb92e7979a8623363836b25569787598}{}\label{classMmWave3gppPropagationLossModel_acb92e7979a8623363836b25569787598}


\subsection{Member Function Documentation}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Do\+Assign\+Streams@{Do\+Assign\+Streams}}
\index{Do\+Assign\+Streams@{Do\+Assign\+Streams}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Do\+Assign\+Streams(int64\+\_\+t stream)}{DoAssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Do\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classMmWave3gppPropagationLossModel_aff84f9c1916e003f8624f22b35ef9354}{}\label{classMmWave3gppPropagationLossModel_aff84f9c1916e003f8624f22b35ef9354}
Subclasses must implement this; those not using random variables can return zero 

Implements \hyperlink{classns3_1_1PropagationLossModel_a1af4724c8961a86455fa381f00d7be11}{ns3\+::\+Propagation\+Loss\+Model}.


\begin{DoxyCode}
653 \{
654   \textcolor{keywordflow}{return} 0;
655 \}
\end{DoxyCode}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Do\+Calc\+Rx\+Power@{Do\+Calc\+Rx\+Power}}
\index{Do\+Calc\+Rx\+Power@{Do\+Calc\+Rx\+Power}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Do\+Calc\+Rx\+Power(double tx\+Power\+Dbm, Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b) const }{DoCalcRxPower(double txPowerDbm, Ptr< MobilityModel > a, Ptr< MobilityModel > b) const }}]{\setlength{\rightskip}{0pt plus 5cm}double Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Do\+Calc\+Rx\+Power (
\begin{DoxyParamCaption}
\item[{double}]{tx\+Power\+Dbm, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classMmWave3gppPropagationLossModel_a7dd70e11f63fe41504f7954240c184a4}{}\label{classMmWave3gppPropagationLossModel_a7dd70e11f63fe41504f7954240c184a4}
Returns the Rx Power taking into account only the particular Propagatin\+Loss\+Model.


\begin{DoxyParams}{Parameters}
{\em tx\+Power\+Dbm} & current transmission power (in d\+Bm) \\
\hline
{\em a} & the mobility model of the source \\
\hline
{\em b} & the mobility model of the destination \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the reception power after adding/multiplying propagation loss (in d\+Bm) 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1PropagationLossModel_aa6bb73e4132dc5d8e1b49750955838bb}{ns3\+::\+Propagation\+Loss\+Model}.


\begin{DoxyCode}
123 \{
124           \textcolor{keywordflow}{return} (txPowerDbm - \hyperlink{classMmWave3gppPropagationLossModel_ae389c108155d92774975e8a8d0de9c6a}{GetLoss} (a, b));
125 \}
\end{DoxyCode}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Get\+Channel\+Condition@{Get\+Channel\+Condition}}
\index{Get\+Channel\+Condition@{Get\+Channel\+Condition}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Channel\+Condition(\+Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b)}{GetChannelCondition(Ptr< MobilityModel > a, Ptr< MobilityModel > b)}}]{\setlength{\rightskip}{0pt plus 5cm}char Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Get\+Channel\+Condition (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
)}\hypertarget{classMmWave3gppPropagationLossModel_aacc2e4ef3751ea067ccb9eb9d0bb8dbf}{}\label{classMmWave3gppPropagationLossModel_aacc2e4ef3751ea067ccb9eb9d0bb8dbf}

\begin{DoxyCode}
667 \{
668         channelConditionMap\_t::const\_iterator it;
669         it = \hyperlink{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{m\_channelConditionMap}.find(std::make\_pair(a,b));
670         \textcolor{keywordflow}{if} (it == \hyperlink{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{m\_channelConditionMap}.end ())
671         \{
672                 \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Cannot find the link in the map"});
673         \}
674         \textcolor{keywordflow}{return} (*it).second.m\_channelCondition;
675 
676 \}
\end{DoxyCode}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Get\+Frequency@{Get\+Frequency}}
\index{Get\+Frequency@{Get\+Frequency}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Frequency(void) const }{GetFrequency(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}double Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Get\+Frequency (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classMmWave3gppPropagationLossModel_a40f8951a1d321f12f2d0f13eed13eb20}{}\label{classMmWave3gppPropagationLossModel_a40f8951a1d321f12f2d0f13eed13eb20}
\begin{DoxyReturn}{Returns}
the current frequency (Hz) 
\end{DoxyReturn}

\begin{DoxyCode}
114 \{
115   \textcolor{keywordflow}{return} \hyperlink{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}{m\_frequency};
116 \}
\end{DoxyCode}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Get\+Loss@{Get\+Loss}}
\index{Get\+Loss@{Get\+Loss}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Loss(\+Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b) const }{GetLoss(Ptr< MobilityModel > a, Ptr< MobilityModel > b) const }}]{\setlength{\rightskip}{0pt plus 5cm}double Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Get\+Loss (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
) const}\hypertarget{classMmWave3gppPropagationLossModel_ae389c108155d92774975e8a8d0de9c6a}{}\label{classMmWave3gppPropagationLossModel_ae389c108155d92774975e8a8d0de9c6a}

\begin{DoxyCode}
129 \{
130         \hyperlink{classns3_1_1Ptr}{Ptr<MobilityModel>} ueMob, enbMob;
131         \textcolor{keywordflow}{if}((DynamicCast<MmWaveUeNetDevice> (a->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Node}{Node}> ()->
      \hyperlink{classns3_1_1Node_a5918dfd24ef632efc9a83a5f6561c76e}{GetDevice} (0)) !=0)
132                 || (DynamicCast<McUeNetDevice> (a->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Node}{Node}> ()->GetDevice (0)) !=0))
133         \{
134                 \textcolor{keywordflow}{if}(DynamicCast<MmWaveEnbNetDevice> (b->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Node}{Node}> ()->
      \hyperlink{classns3_1_1Node_a5918dfd24ef632efc9a83a5f6561c76e}{GetDevice} (0)) !=0)
135                 \{
136                         ueMob = a;
137                         enbMob = \hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b};
138                 \}
139                 \textcolor{keywordflow}{else}
140                 \{
141                         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"UE->UE Link, skip Pathloss computation"});
142                         \textcolor{keywordflow}{return} 0;
143                 \}
144         \}
145         \textcolor{keywordflow}{else}
146         \{
147                 \textcolor{keywordflow}{if}(DynamicCast<MmWaveEnbNetDevice> (b->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Node}{Node}> ()->
      \hyperlink{classns3_1_1Node_a5918dfd24ef632efc9a83a5f6561c76e}{GetDevice} (0)) !=0)
148                 \{
149                         \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"ENB->ENB Link, skip Pathloss computation"});
150                         \textcolor{keywordflow}{return} 0;
151                 \}
152                 \textcolor{keywordflow}{else}
153                 \{
154                         ueMob = \hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b};
155                         enbMob = a;
156                 \}
157         \}
158 
159 
160         Vector uePos = ueMob->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition}();
161         Vector enbPos = enbMob->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition}();
162         \textcolor{keywordtype}{double} \hyperlink{lte__link__budget__x2__handover__measures_8m_a9336ebf25087d91c818ee6e9ec29f8c1}{x} = uePos.x-enbPos.x;
163         \textcolor{keywordtype}{double} y = uePos.y-enbPos.y;
164         \textcolor{keywordtype}{double} distance2D = sqrt (x*x +y*y);
165         \textcolor{keywordtype}{double} hBs = enbPos.z;
166         \textcolor{keywordtype}{double} hUt = uePos.z;
167 
168         \textcolor{keywordtype}{double} distance3D = a->\hyperlink{classns3_1_1MobilityModel_afa16c20b3c5fd135be075000f0272f31}{GetDistanceFrom} (b);
169 
170         \textcolor{keywordflow}{if} (distance3D < 3*\hyperlink{classMmWave3gppPropagationLossModel_af93c26bcd20ec903b0c70afa4c59cde2}{m\_lambda})
171         \{
172                 \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND} (\textcolor{stringliteral}{"distance not within the far field region => inaccurate
       propagation loss value"});
173         \}
174         \textcolor{keywordflow}{if} (distance3D <= 0)
175         \{
176                 \textcolor{keywordflow}{return}  \hyperlink{classMmWave3gppPropagationLossModel_a77d24e66b9afc8afd0a7e52d3735d557}{m\_minLoss};
177         \}
178 
179 
180         channelConditionMap\_t::const\_iterator it;
181         it = \hyperlink{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{m\_channelConditionMap}.find(std::make\_pair(a,b));
182         \textcolor{keywordflow}{if} (it == \hyperlink{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{m\_channelConditionMap}.end ())
183         \{
184                 \hyperlink{structchannelCondition}{channelCondition} condition;
185 
186                 \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a416f5b42f67f2d950344b4746885230d}{m\_channelConditions}.compare(\textcolor{stringliteral}{"l"})==0 )
187                 \{
188                         condition.\hyperlink{structchannelCondition_a1fbbec1a89c5da0961efaca304ade4d1}{m\_channelCondition} = \textcolor{charliteral}{'l'};
189                         \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} << \textcolor{stringliteral}{" scenario, channel condition
       is fixed to be "} << condition.\hyperlink{structchannelCondition_a1fbbec1a89c5da0961efaca304ade4d1}{m\_channelCondition}<<\textcolor{stringliteral}{", h\_BS="}<<hBs<<\textcolor{stringliteral}{",h\_UT="}<<hUt);
190                 \}
191                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a416f5b42f67f2d950344b4746885230d}{m\_channelConditions}.compare(\textcolor{stringliteral}{"n"})==0)
192                 \{
193                         condition.\hyperlink{structchannelCondition_a1fbbec1a89c5da0961efaca304ade4d1}{m\_channelCondition} = \textcolor{charliteral}{'n'};
194                         \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} << \textcolor{stringliteral}{" scenario, channel condition
       is fixed to be "} << condition.\hyperlink{structchannelCondition_a1fbbec1a89c5da0961efaca304ade4d1}{m\_channelCondition}<<\textcolor{stringliteral}{", h\_BS="}<<hBs<<\textcolor{stringliteral}{",h\_UT="}<<hUt);
195                 \}
196                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a416f5b42f67f2d950344b4746885230d}{m\_channelConditions}.compare(\textcolor{stringliteral}{"a"})==0)
197                 \{
198                         \textcolor{keywordtype}{double} PRef = \hyperlink{classMmWave3gppPropagationLossModel_a03532a0deaf28490552b0ba27bae9afa}{m\_uniformVar}->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue}();
199                         \textcolor{keywordtype}{double} probLos;
200                         \textcolor{comment}{//Note: The LOS probability is derived with assuming antenna heights of 3m for
       indoor, 10m for UMi, and 25m for UMa.}
201                         \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"RMa"})
202                         \{
203                                 \textcolor{keywordflow}{if}(distance2D <= 10)
204                                 \{
205                                         probLos = 1;
206                                 \}
207                                 \textcolor{keywordflow}{else}
208                                 \{
209                                         probLos = exp(-(distance2D-10)/1000);
210                                 \}
211                         \}
212                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"UMa"})
213                         \{
214                                 \textcolor{keywordflow}{if}(distance2D <= 18)
215                                 \{
216                                         probLos = 1;
217                                 \}
218                                 \textcolor{keywordflow}{else}
219                                 \{
220                                         \textcolor{keywordtype}{double} C\_hUt;
221                                         \textcolor{keywordflow}{if} (hUt <= 13)
222                                         \{
223                                                 C\_hUt = 0;
224                                         \}
225                                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(hUt <=23)
226                                         \{
227                                                 C\_hUt = pow((hUt-13)/10,1.5);
228                                         \}
229                                         \textcolor{keywordflow}{else}
230                                         \{
231                                                 \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"From Table 7.4.2-1, UMa
       scenario hUT cannot be larger than 23 m"});
232                                         \}
233                                         probLos = (18/distance2D+exp(-distance2D/63)*(1-18/distance2D))*(1+
      C\_hUt*5/4*pow(distance2D/100,3)*exp(-distance2D/150));
234                                 \}
235                         \}
236                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"UMi-StreetCanyon"})
237                         \{
238                                 \textcolor{keywordflow}{if}(distance2D <= 18)
239                                 \{
240                                         probLos = 1;
241                                 \}
242                                 \textcolor{keywordflow}{else}
243                                 \{
244                                         probLos = 18/distance2D+exp(-distance2D/36)*(1-18/distance2D);
245                                 \}
246                         \}
247                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"InH-OfficeMixed"})
248                         \{
249                                 \textcolor{keywordflow}{if}(distance2D <= 1.2)
250                                 \{
251                                         probLos = 1;
252                                 \}
253                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (distance2D <= 6.5)
254                                 \{
255                                         probLos = exp(-(distance2D-1.2)/4.7);
256                                 \}
257                                 \textcolor{keywordflow}{else}
258                                 \{
259                                         probLos = exp(-(distance2D-6.5)/32.6)*0.32;
260                                 \}
261                         \}
262                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"InH-OfficeOpen"})
263                         \{
264                                 \textcolor{keywordflow}{if}(distance2D <= 5)
265                                 \{
266                                         probLos = 1;
267                                 \}
268                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (distance2D <= 49)
269                                 \{
270                                         probLos = exp(-(distance2D-5)/70.8);
271                                 \}
272                                 \textcolor{keywordflow}{else}
273                                 \{
274                                         probLos = exp(-(distance2D-49)/211.7)*0.54;
275                                 \}
276                         \}
277                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"InH-ShoppingMall"})
278                         \{
279                                 probLos = 1;
280 
281                         \}
282                         \textcolor{keywordflow}{else}
283                         \{
284                                 \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown scenario"});
285                         \}
286 
287                         \textcolor{keywordflow}{if} (PRef <= probLos)
288                         \{
289                                 condition.\hyperlink{structchannelCondition_a1fbbec1a89c5da0961efaca304ade4d1}{m\_channelCondition} = \textcolor{charliteral}{'l'};
290                         \}
291                         \textcolor{keywordflow}{else}
292                         \{
293                                 condition.\hyperlink{structchannelCondition_a1fbbec1a89c5da0961efaca304ade4d1}{m\_channelCondition} = \textcolor{charliteral}{'n'};
294                         \}
295                         \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} << \textcolor{stringliteral}{" scenario, 2D distance = "} << 
      distance2D <<\textcolor{stringliteral}{"m, Prob\_LOS = "} << probLos
296                                         << \textcolor{stringliteral}{", Prob\_REF = "} << PRef << \textcolor{stringliteral}{", the channel condition is "} << 
      condition.\hyperlink{structchannelCondition_a1fbbec1a89c5da0961efaca304ade4d1}{m\_channelCondition}<<\textcolor{stringliteral}{", h\_BS="}<<hBs<<\textcolor{stringliteral}{",h\_UT="}<<hUt);
297 
298                 \}
299                 \textcolor{keywordflow}{else}
300                 \{
301                         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Wrong channel condition configuration"});
302                 \}
303                 \textcolor{comment}{// assign a large negative value to identify initial transmission.}
304                 condition.\hyperlink{structchannelCondition_abf42a510bc41e8eb84c96f9b47cc8f47}{m\_shadowing} = -1e6;
305                 condition.\hyperlink{structchannelCondition_a6d2cc3deb0ce073a2b9a4d213e869985}{m\_hE} = 0;
306                 \textcolor{comment}{//condition.m\_carPenetrationLoss = 9+m\_norVar->GetValue()*5;}
307                 condition.\hyperlink{structchannelCondition_a3e9edf8d18ffacdfb4237471a6419627}{m\_carPenetrationLoss} = 10;
308                 std::pair<channelConditionMap\_t::const\_iterator, bool> ret;
309                 ret = \hyperlink{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{m\_channelConditionMap}.insert (std::make\_pair(std::make\_pair (a,b
      ), condition));
310                 \hyperlink{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{m\_channelConditionMap}.insert (std::make\_pair(std::make\_pair (b,a), 
      condition));
311                 it = ret.first;
312         \}
313 
314         \textcolor{comment}{/* Reminder.}
315 \textcolor{comment}{         * The The LOS NLOS state transition will be implemented in the future as mentioned in secction
       7.6.3.3}
316 \textcolor{comment}{         * */}
317 
318         \textcolor{keywordtype}{double} lossDb = 0;
319         \textcolor{keywordtype}{double} freqGHz = \hyperlink{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}{m\_frequency}/1e9;
320 
321         \textcolor{keywordtype}{double} shadowingStd = 0;
322         \textcolor{keywordtype}{double} shadowingCorDistance = 0;
323         \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"RMa"})
324         \{
325                 \textcolor{keywordflow}{if}(distance2D < 10)
326                 \{
327                         \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND} (\textcolor{stringliteral}{"The 2D distance is smaller than 10 meters, the 3GPP
       RMa model may not be accurate"});
328                 \}
329 
330                 \textcolor{keywordflow}{if} (hBs < 10 || hBs > 150 )
331                 \{
332                         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"According to table 7.4.1-1, the RMa scenario need to
       satisfy the following condition, 10 m <= hBS <= 150 m"});
333                 \}
334 
335                 \textcolor{keywordflow}{if} (hUt < 1 || hUt > 10 )
336                 \{
337                         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"According to table 7.4.1-1, the RMa scenario need to
       satisfy the following condition, 1 m <= hUT <= 10 m"});
338                 \}
339                 \textcolor{comment}{//default base station antenna height is 35 m}
340                 \textcolor{comment}{//hBs = 35;}
341                 \textcolor{comment}{//default user antenna height is 1.5 m}
342                 \textcolor{comment}{//hUt = 1.5;}
343                 \textcolor{keywordtype}{double} W = 20; \textcolor{comment}{//average street height}
344                 \textcolor{keywordtype}{double} h = 5; \textcolor{comment}{//average building height}
345 
346                 \textcolor{keywordtype}{double} dBP = 2*M\_PI*hBs*hUt*\hyperlink{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}{m\_frequency}/3e8; \textcolor{comment}{//break point distance}
347                 \textcolor{keywordtype}{double} PL1 = 20*log10(40*M\_PI*distance3D*freqGHz/3) + \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min}(0.03*pow(h,1.72),10.
      0)*log10(distance3D) - \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min}(0.044*pow(h,1.72),14.77) + 0.002*log10(h)*distance3D;
348 
349                 \textcolor{keywordflow}{if}(distance2D <= dBP)
350                 \{
351                         lossDb = PL1;
352                         shadowingStd = 4;
353 
354                 \}
355                 \textcolor{keywordflow}{else}
356                 \{
357                         \textcolor{comment}{//PL2}
358                         lossDb = PL1 + 40*log10(distance3D/dBP);
359                         shadowingStd= 6;
360                 \}
361 
362                 \textcolor{keywordflow}{switch} ((*it).second.m\_channelCondition)
363                 \{
364                         \textcolor{keywordflow}{case} \textcolor{charliteral}{'l'}:
365                         \{
366                                 shadowingCorDistance = 37;
367                                 \textcolor{keywordflow}{break};
368                         \}
369                         \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:
370                         \{
371                                 shadowingCorDistance = 120;
372                                 \textcolor{keywordtype}{double} PLNlos = 161.04-7.1*log10(W)+7.5*log10(h)-(24.37-3.7*pow((h/hBs),2))
      *log10(hBs)+(43.42-3.1*log10(hBs))*(log10(distance3D)-3)+20*log10(freqGHz)-(3.2*pow(log10(11.75*hUt),2)-4.97
      );
373                                 lossDb = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max}(PLNlos, lossDb);
374                                 shadowingStd = 8;
375                                 \textcolor{keywordflow}{break};
376                         \}
377                         \textcolor{keywordflow}{default}:
378                                 \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Programming Error."});
379                 \}
380 
381         \}
382         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"UMa"})
383         \{
384                 \textcolor{keywordflow}{if}(distance2D < 10)
385                 \{
386                         \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND} (\textcolor{stringliteral}{"The 2D distance is smaller than 10 meters, the 3GPP
       UMa model may not be accurate"});
387                 \}
388 
389                 \textcolor{comment}{//default base station value is 25 m}
390                 \textcolor{comment}{//hBs = 25;}
391 
392                 \textcolor{keywordflow}{if} (hUt < 1.5 || hUt > 22.5 )
393                 \{
394                         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"According to table 7.4.1-1, the UMa scenario need to
       satisfy the following condition, 1.5 m <= hUT <= 22.5 m"});
395                 \}
396                 \textcolor{comment}{//For UMa, the effective environment height should be computed follow Table7.4.1-1.}
397                 \textcolor{keywordflow}{if}((*it).second.m\_hE == 0)
398                 \{
399                         \hyperlink{structchannelCondition}{channelCondition} condition;
400                         condition = (*it).second;
401                         \textcolor{keywordflow}{if} (hUt <= 18)
402                         \{
403                                 condition.\hyperlink{structchannelCondition_a6d2cc3deb0ce073a2b9a4d213e869985}{m\_hE} = 1;
404                         \}
405                         \textcolor{keywordflow}{else}
406                         \{
407                                 \textcolor{keywordtype}{double} g\_d2D = 1.25*pow(distance2D/100,3)*exp(-1*distance2D/150);
408                                 \textcolor{keywordtype}{double} C\_d2D\_hUT = pow((hUt-13)/10,1.5)*g\_d2D;
409                                 \textcolor{keywordtype}{double} prob = 1/(1+C\_d2D\_hUT);
410 
411                                 \textcolor{keywordflow}{if}(\hyperlink{classMmWave3gppPropagationLossModel_a03532a0deaf28490552b0ba27bae9afa}{m\_uniformVar}->\hyperlink{classns3_1_1UniformRandomVariable_a03822d8c86ac51e9aa83bbc73041386b}{GetValue}() < prob)
412                                 \{
413                                         condition.\hyperlink{structchannelCondition_a6d2cc3deb0ce073a2b9a4d213e869985}{m\_hE} = 1;
414                                 \}
415                                 \textcolor{keywordflow}{else}
416                                 \{
417                                         \textcolor{keywordtype}{int} random = \hyperlink{classMmWave3gppPropagationLossModel_a03532a0deaf28490552b0ba27bae9afa}{m\_uniformVar}->
      \hyperlink{classns3_1_1RandomVariableStream_a66cd94e6305ce7f000f1a9ff0fcb9aef}{GetInteger}(12, (\textcolor{keywordtype}{int})(hUt-1.5));
418                                         condition.\hyperlink{structchannelCondition_a6d2cc3deb0ce073a2b9a4d213e869985}{m\_hE} = (double)floor(random/3)*3;
419                                 \}
420                         \}
421                         \hyperlink{classMmWave3gppPropagationLossModel_afe6cc723227bc7bb2f6b8cfd1cd08e6a}{UpdateConditionMap}(a,b,condition);
422                 \}
423                 \textcolor{keywordtype}{double} dBP = 4*(hBs-(*it).second.m\_hE)*(hUt-(*it).second.m\_hE)*
      \hyperlink{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}{m\_frequency}/3e8;
424                 \textcolor{keywordflow}{if}(distance2D <= dBP)
425                 \{
426                         \textcolor{comment}{//PL1}
427                         lossDb = 32.4+20*log10(distance3D)+20*log10(freqGHz);
428                 \}
429                 \textcolor{keywordflow}{else}
430                 \{
431                         \textcolor{comment}{//PL2}
432                         lossDb = 32.4+40*log10(distance3D)+20*log10(freqGHz)-10*log10(pow(dBP,2)+pow(hBs-
      hUt,2));
433                 \}
434 
435 
436                 \textcolor{keywordflow}{switch} ((*it).second.m\_channelCondition)
437                 \{
438                         \textcolor{keywordflow}{case} \textcolor{charliteral}{'l'}:
439                         \{
440                                 shadowingStd = 4;
441                                 shadowingCorDistance = 37;
442                                 \textcolor{keywordflow}{break};
443                         \}
444                         \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:
445                         \{
446                                 shadowingCorDistance = 50;
447                                 \textcolor{keywordflow}{if}(\hyperlink{classMmWave3gppPropagationLossModel_a5029858358d3c4dac793ebf3c8c6cc09}{m\_optionNlosEnabled})
448                                 \{
449                                         \textcolor{comment}{//optional propagation loss}
450                                         lossDb = 32.4+20*log10(freqGHz)+30*log10(distance3D);
451                                         shadowingStd = 7.8;
452                                 \}
453                                 \textcolor{keywordflow}{else}
454                                 \{
455                                         \textcolor{keywordtype}{double} PLNlos = 13.54+39.08*log10(distance3D)+20*log10(freqGHz)-0.6
      *(hUt-1.5);
456                                         shadowingStd = 6;
457                                         lossDb = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max}(PLNlos, lossDb);
458                                 \}
459 
460 
461                                 \textcolor{keywordflow}{break};
462                         \}
463                         \textcolor{keywordflow}{default}:
464                                 \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Programming Error."});
465                 \}
466         \}
467         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"UMi-StreetCanyon"})
468         \{
469 
470                 \textcolor{keywordflow}{if}(distance2D < 10)
471                 \{
472                         \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND} (\textcolor{stringliteral}{"The 2D distance is smaller than 10 meters, the 3GPP
       UMi-StreetCanyon model may not be accurate"});
473                 \}
474 
475                 \textcolor{comment}{//default base station value is 10 m}
476                 \textcolor{comment}{//hBs = 10;}
477 
478                 \textcolor{keywordflow}{if} (hUt < 1.5 || hUt > 22.5 )
479                 \{
480                         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"According to table 7.4.1-1, the UMi-StreetCanyon
       scenario need to satisfy the following condition, 1.5 m <= hUT <= 22.5 m"});
481                 \}
482                 \textcolor{keywordtype}{double} dBP = 4*(hBs-1)*(hUt-1)*\hyperlink{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}{m\_frequency}/3e8;
483                 \textcolor{keywordflow}{if}(distance2D <= dBP)
484                 \{
485                         \textcolor{comment}{//PL1}
486                         lossDb = 32.4+21*log10(distance3D)+20*log10(freqGHz);
487                 \}
488                 \textcolor{keywordflow}{else}
489                 \{
490                         \textcolor{comment}{//PL2}
491                         lossDb = 32.4+40*log10(distance3D)+20*log10(freqGHz)-9.5*log10(pow(dBP,2)+pow(hBs-
      hUt,2));
492                 \}
493 
494 
495                 \textcolor{keywordflow}{switch} ((*it).second.m\_channelCondition)
496                 \{
497                         \textcolor{keywordflow}{case} \textcolor{charliteral}{'l'}:
498                         \{
499                                 shadowingStd = 4;
500                                 shadowingCorDistance = 10;
501                                 \textcolor{keywordflow}{break};
502                         \}
503                         \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:
504                         \{
505                                 shadowingCorDistance = 13;
506                                 \textcolor{keywordflow}{if}(\hyperlink{classMmWave3gppPropagationLossModel_a5029858358d3c4dac793ebf3c8c6cc09}{m\_optionNlosEnabled})
507                                 \{
508                                         \textcolor{comment}{//optional propagation loss}
509                                         lossDb = 32.4+20*log10(freqGHz)+31.9*log10(distance3D);
510                                         shadowingStd = 8.2;
511                                 \}
512                                 \textcolor{keywordflow}{else}
513                                 \{
514                                         \textcolor{keywordtype}{double} PLNlos = 35.3*log10(distance3D)+22.4+21.3*log10(freqGHz)-0.3
      *(hUt-1.5);
515                                         shadowingStd = 7.82;
516                                         lossDb = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max}(PLNlos, lossDb);
517                                 \}
518 
519                                 \textcolor{keywordflow}{break};
520                         \}
521                         \textcolor{keywordflow}{default}:
522                                 \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Programming Error."});
523                 \}
524         \}
525         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"InH-OfficeMixed"} || \hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"InH-OfficeOpen"})
526         \{
527                 \textcolor{keywordflow}{if}(distance3D < 1 || distance3D > 100)
528                 \{
529                         \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND} (\textcolor{stringliteral}{"The pathloss might not be accurate since 3GPP
       InH-Office model LoS condition is accurate only within 3D distance between 1 m and 100 m"});
530                 \}
531 
532                 lossDb = 32.4+17.3*log10(distance3D)+20*log10(freqGHz);
533 
534 
535                 \textcolor{keywordflow}{switch} ((*it).second.m\_channelCondition)
536                 \{
537                         \textcolor{keywordflow}{case} \textcolor{charliteral}{'l'}:
538                         \{
539                                 shadowingStd = 3;
540                                 shadowingCorDistance = 10;
541                                 \textcolor{keywordflow}{break};
542                         \}
543                         \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:
544                         \{
545                                 shadowingCorDistance = 6;
546                                 \textcolor{keywordflow}{if}(distance3D > 86)
547                                 \{
548                                         \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND} (\textcolor{stringliteral}{"The pathloss might not be accurate
       since 3GPP InH-Office model NLoS condition only supports 3D distance between 1 m and 86 m"});
549                                 \}
550 
551                                 \textcolor{keywordflow}{if}(\hyperlink{classMmWave3gppPropagationLossModel_a5029858358d3c4dac793ebf3c8c6cc09}{m\_optionNlosEnabled})
552                                 \{
553                                         \textcolor{comment}{//optional propagation loss}
554                                         \textcolor{keywordtype}{double} PLNlos = 32.4+20*log10(freqGHz)+31.9*log10(distance3D);
555                                         shadowingStd = 8.29;
556                                         lossDb = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max}(PLNlos, lossDb);
557 
558                                 \}
559                                 \textcolor{keywordflow}{else}
560                                 \{
561                                         \textcolor{keywordtype}{double} PLNlos = 38.3*log10(distance3D)+17.3+24.9*log10(freqGHz);
562                                         shadowingStd = 8.03;
563                                         lossDb = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max}(PLNlos, lossDb);
564                                 \}
565                                 \textcolor{keywordflow}{break};
566                         \}
567                         \textcolor{keywordflow}{default}:
568                                 \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Programming Error."});
569                 \}
570         \}
571 
572         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario} == \textcolor{stringliteral}{"InH-ShoppingMall"})
573         \{
574                 shadowingCorDistance = 10; \textcolor{comment}{//I use the office correlation distance since shopping mall is
       not in the table.}
575 
576                 \textcolor{keywordflow}{if}(distance3D < 1 || distance3D > 150)
577                 \{
578                         \hyperlink{log-macros-disabled_8h_a0b36e5e182b37194f85ef1c5e979fb2e}{NS\_LOG\_UNCOND} (\textcolor{stringliteral}{"The pathloss might not be accurate since 3GPP
       InH-Shopping mall model only supports 3D distance between 1 m and 150 m"});\(\backslash\)
579                 \}
580                 lossDb = 32.4+17.3*log10(distance3D)+20*log10(freqGHz);
581                 shadowingStd = 2;
582         \}
583         \textcolor{keywordflow}{else}
584         \{
585                 \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown channel condition"});
586         \}
587 
588         \textcolor{keywordflow}{if}(\hyperlink{classMmWave3gppPropagationLossModel_ac5ba12ef57c52196b6434d801d2e22af}{m\_shadowingEnabled})
589         \{
590                 \hyperlink{structchannelCondition}{channelCondition} cond;
591                 cond = (*it).second;
592                 \textcolor{comment}{//The first transmission the shadowing is initialed as -1e6,}
593                 \textcolor{comment}{//we perform this if check the identify first  transmission.}
594                 \textcolor{keywordflow}{if}((*it).second.m\_shadowing < -1e5)
595                 \{
596                         cond.\hyperlink{structchannelCondition_abf42a510bc41e8eb84c96f9b47cc8f47}{m\_shadowing} = \hyperlink{classMmWave3gppPropagationLossModel_a513eea17719ec9c16c3f4e215b018ce9}{m\_norVar}->\hyperlink{classns3_1_1NormalRandomVariable_a0134d131477bc439cc6ff7cbe84b03a9}{GetValue}()*shadowingStd;
597                 \}
598                 \textcolor{keywordflow}{else}
599                 \{
600                         \textcolor{keywordtype}{double} deltaX = uePos.x-(*it).second.m\_position.x;
601                         \textcolor{keywordtype}{double} deltaY = uePos.y-(*it).second.m\_position.y;
602                         \textcolor{keywordtype}{double} disDiff = sqrt (deltaX*deltaX +deltaY*deltaY);
603                         \textcolor{comment}{//NS\_LOG\_UNCOND (shadowingStd <<"  "<<disDiff <<"  "<<shadowingCorDistance);}
604                         \textcolor{keywordtype}{double} R = exp(-1*disDiff/shadowingCorDistance); \textcolor{comment}{// from equation 7.4-5.}
605                         cond.\hyperlink{structchannelCondition_abf42a510bc41e8eb84c96f9b47cc8f47}{m\_shadowing} = R*(*it).second.m\_shadowing + sqrt(1-R*R)*
      \hyperlink{classMmWave3gppPropagationLossModel_a513eea17719ec9c16c3f4e215b018ce9}{m\_norVar}->\hyperlink{classns3_1_1NormalRandomVariable_a0134d131477bc439cc6ff7cbe84b03a9}{GetValue}()*shadowingStd;
606                 \}
607 
608                 lossDb += cond.\hyperlink{structchannelCondition_abf42a510bc41e8eb84c96f9b47cc8f47}{m\_shadowing};
609                 cond.\hyperlink{structchannelCondition_a24eb519106a6796f4f2bebcd9ea2fc40}{m\_position} = ueMob->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition}();
610                 \hyperlink{classMmWave3gppPropagationLossModel_afe6cc723227bc7bb2f6b8cfd1cd08e6a}{UpdateConditionMap}(a,b,cond);
611         \}
612 
613 
614          \textcolor{comment}{/*FILE* log\_file;}
615 \textcolor{comment}{}
616 \textcolor{comment}{          char* fname = (char*)malloc(sizeof(char) * 255);}
617 \textcolor{comment}{}
618 \textcolor{comment}{          memset(fname, 0, sizeof(char) * 255);}
619 \textcolor{comment}{          std::string temp;}
620 \textcolor{comment}{          if(m\_optionNlosEnabled)}
621 \textcolor{comment}{          \{}
622 \textcolor{comment}{                  temp = m\_scenario+"-"+(*it).second.m\_channelCondition+"-opt.txt";}
623 \textcolor{comment}{          \}}
624 \textcolor{comment}{          else}
625 \textcolor{comment}{          \{}
626 \textcolor{comment}{                  temp = m\_scenario+"-"+(*it).second.m\_channelCondition+".txt";}
627 \textcolor{comment}{          \}}
628 \textcolor{comment}{}
629 \textcolor{comment}{          log\_file = fopen(temp.c\_str(), "a");}
630 \textcolor{comment}{}
631 \textcolor{comment}{          fprintf(log\_file, "%f \(\backslash\)t  %f\(\backslash\)n", distance3D, lossDb);}
632 \textcolor{comment}{}
633 \textcolor{comment}{          fflush(log\_file);}
634 \textcolor{comment}{}
635 \textcolor{comment}{          fclose(log\_file);}
636 \textcolor{comment}{}
637 \textcolor{comment}{          if(fname)}
638 \textcolor{comment}{}
639 \textcolor{comment}{          free(fname);}
640 \textcolor{comment}{}
641 \textcolor{comment}{          fname = 0;*/}
642 
643         \textcolor{keywordflow}{if}(\hyperlink{classMmWave3gppPropagationLossModel_a2d089e3f89e3cc67c7ea6499a6eca943}{m\_inCar})
644         \{
645                 lossDb += (*it).second.m\_carPenetrationLoss;
646         \}
647 
648         \textcolor{keywordflow}{return} \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (lossDb, \hyperlink{classMmWave3gppPropagationLossModel_a77d24e66b9afc8afd0a7e52d3735d557}{m\_minLoss});
649 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Get\+Min\+Loss@{Get\+Min\+Loss}}
\index{Get\+Min\+Loss@{Get\+Min\+Loss}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Min\+Loss(void) const }{GetMinLoss(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}double Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Get\+Min\+Loss (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classMmWave3gppPropagationLossModel_a13f78fefa8ddd09862e9b39ae5e3eabd}{}\label{classMmWave3gppPropagationLossModel_a13f78fefa8ddd09862e9b39ae5e3eabd}
\begin{DoxyReturn}{Returns}
the minimum loss. 
\end{DoxyReturn}

\begin{DoxyCode}
108 \{
109   \textcolor{keywordflow}{return} \hyperlink{classMmWave3gppPropagationLossModel_a77d24e66b9afc8afd0a7e52d3735d557}{m\_minLoss};
110 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 4


\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Get\+Scenario@{Get\+Scenario}}
\index{Get\+Scenario@{Get\+Scenario}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Scenario()}{GetScenario()}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Get\+Scenario (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classMmWave3gppPropagationLossModel_ae092a58d42801c732956d64e0fe250eb}{}\label{classMmWave3gppPropagationLossModel_ae092a58d42801c732956d64e0fe250eb}

\begin{DoxyCode}
680 \{
681         \textcolor{keywordflow}{return} \hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{m\_scenario};
682 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5


\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classMmWave3gppPropagationLossModel_a1a8589a60905d335ac0d21da030c36fa}{}\label{classMmWave3gppPropagationLossModel_a1a8589a60905d335ac0d21da030c36fa}

\begin{DoxyCode}
49 \{
50   \textcolor{keyword}{static} \hyperlink{classns3_1_1TypeId}{TypeId} tid = \hyperlink{classns3_1_1TypeId}{TypeId} (\textcolor{stringliteral}{"ns3::MmWave3gppPropagationLossModel"})
51     .\hyperlink{classns3_1_1TypeId_abaaca67ab7d2471067e7c275df0f7309}{SetParent}<\hyperlink{classns3_1_1PropagationLossModel}{PropagationLossModel}> ()
52     .AddConstructor<MmWave3gppPropagationLossModel> ()
53     .AddAttribute (\textcolor{stringliteral}{"MinLoss"},
54                    \textcolor{stringliteral}{"The minimum value (dB) of the total loss, used at short ranges."},
55                    DoubleValue (0.0),
56                    MakeDoubleAccessor (&
      \hyperlink{classMmWave3gppPropagationLossModel_a1431e2e95ebb21292fbd8732868fe8ef}{MmWave3gppPropagationLossModel::SetMinLoss},
57                                        &
      \hyperlink{classMmWave3gppPropagationLossModel_a13f78fefa8ddd09862e9b39ae5e3eabd}{MmWave3gppPropagationLossModel::GetMinLoss}),
58                    MakeDoubleChecker<double> ())
59     .AddAttribute (\textcolor{stringliteral}{"ChannelCondition"},
60                                         \textcolor{stringliteral}{"'l' for LOS, 'n' for NLOS, 'a' for all"},
61                                         StringValue (\textcolor{stringliteral}{"a"}),
62                                         MakeStringAccessor (&
      \hyperlink{classMmWave3gppPropagationLossModel_a416f5b42f67f2d950344b4746885230d}{MmWave3gppPropagationLossModel::m\_channelConditions}),
63                                         MakeStringChecker ())
64         .AddAttribute (\textcolor{stringliteral}{"Scenario"},
65                                 \textcolor{stringliteral}{"The available channel scenarios are 'RMa', 'UMa', 'UMi-StreetCanyon',
       'InH-OfficeMixed', 'InH-OfficeOpen', 'InH-ShoppingMall'"},
66                                 StringValue (\textcolor{stringliteral}{"RMa"}),
67                                 MakeStringAccessor (&
      \hyperlink{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{MmWave3gppPropagationLossModel::m\_scenario}),
68                                 MakeStringChecker ())
69         .AddAttribute (\textcolor{stringliteral}{"OptionalNlos"},
70                                 \textcolor{stringliteral}{"Use the optional NLoS propagation loss model"},
71                                 \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}),
72                                 MakeBooleanAccessor (&
      \hyperlink{classMmWave3gppPropagationLossModel_a5029858358d3c4dac793ebf3c8c6cc09}{MmWave3gppPropagationLossModel::m\_optionNlosEnabled}),
73                                 MakeBooleanChecker ())
74         .AddAttribute (\textcolor{stringliteral}{"Shadowing"},
75                                 \textcolor{stringliteral}{"Enable shadowing effect"},
76                                 \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}),
77                                 MakeBooleanAccessor (&
      \hyperlink{classMmWave3gppPropagationLossModel_ac5ba12ef57c52196b6434d801d2e22af}{MmWave3gppPropagationLossModel::m\_shadowingEnabled}),
78                                 MakeBooleanChecker ())
79         .AddAttribute (\textcolor{stringliteral}{"InCar"},
80                                 \textcolor{stringliteral}{"If inside a vehicle, car penetration loss should be added to propagation
       loss"},
81                                 \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}),
82                                 MakeBooleanAccessor (&
      \hyperlink{classMmWave3gppPropagationLossModel_a2d089e3f89e3cc67c7ea6499a6eca943}{MmWave3gppPropagationLossModel::m\_inCar}),
83                                 MakeBooleanChecker ())
84   ;
85   \textcolor{keywordflow}{return} tid;
86 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!operator=@{operator=}}
\index{operator=@{operator=}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{operator=(const Mm\+Wave3gpp\+Propagation\+Loss\+Model \&o)}{operator=(const MmWave3gppPropagationLossModel &o)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mm\+Wave3gpp\+Propagation\+Loss\+Model}\& Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::operator= (
\begin{DoxyParamCaption}
\item[{const {\bf Mm\+Wave3gpp\+Propagation\+Loss\+Model} \&}]{o}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_aacd58ca47645b4fcccd4573b359c9655}{}\label{classMmWave3gppPropagationLossModel_aacd58ca47645b4fcccd4573b359c9655}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Set\+Configuration\+Parameters@{Set\+Configuration\+Parameters}}
\index{Set\+Configuration\+Parameters@{Set\+Configuration\+Parameters}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Set\+Configuration\+Parameters(\+Ptr$<$ Mm\+Wave\+Phy\+Mac\+Common $>$ ptr\+Config)}{SetConfigurationParameters(Ptr< MmWavePhyMacCommon > ptrConfig)}}]{\setlength{\rightskip}{0pt plus 5cm}void Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Set\+Configuration\+Parameters (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mm\+Wave\+Phy\+Mac\+Common} $>$}]{ptr\+Config}
\end{DoxyParamCaption}
)}\hypertarget{classMmWave3gppPropagationLossModel_a48c59beb5e2a7eb457165b54558430ce}{}\label{classMmWave3gppPropagationLossModel_a48c59beb5e2a7eb457165b54558430ce}

\begin{DoxyCode}
686 \{
687         \hyperlink{classMmWave3gppPropagationLossModel_adae341d51b71d1cb4b9f9650e0f90aff}{m\_phyMacConfig} = ptrConfig;
688         \hyperlink{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}{m\_frequency} = \hyperlink{classMmWave3gppPropagationLossModel_adae341d51b71d1cb4b9f9650e0f90aff}{m\_phyMacConfig}->
      \hyperlink{classns3_1_1MmWavePhyMacCommon_a0850d2e37c7075b9bce242723b722019}{GetCenterFrequency}();
689     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{generate__test__data__lte__sinr_8m_ae24bb667d5023e5aaa1e71c3a15e447e}{C} = 299792458.0; \textcolor{comment}{// speed of light in vacuum}
690     \hyperlink{classMmWave3gppPropagationLossModel_af93c26bcd20ec903b0c70afa4c59cde2}{m\_lambda} = C / \hyperlink{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}{m\_frequency};
691 
692     \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Frequency "} << \hyperlink{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}{m\_frequency});
693 \}\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Set\+Min\+Loss@{Set\+Min\+Loss}}
\index{Set\+Min\+Loss@{Set\+Min\+Loss}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Set\+Min\+Loss(double min\+Loss)}{SetMinLoss(double minLoss)}}]{\setlength{\rightskip}{0pt plus 5cm}void Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Set\+Min\+Loss (
\begin{DoxyParamCaption}
\item[{double}]{min\+Loss}
\end{DoxyParamCaption}
)}\hypertarget{classMmWave3gppPropagationLossModel_a1431e2e95ebb21292fbd8732868fe8ef}{}\label{classMmWave3gppPropagationLossModel_a1431e2e95ebb21292fbd8732868fe8ef}

\begin{DoxyParams}{Parameters}
{\em min\+Loss} & the minimum loss (dB)\\
\hline
\end{DoxyParams}
no matter how short the distance, the total propagation loss (in dB) will always be greater or equal than this value 
\begin{DoxyCode}
103 \{
104   \hyperlink{classMmWave3gppPropagationLossModel_a77d24e66b9afc8afd0a7e52d3735d557}{m\_minLoss} = minLoss;
105 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!Update\+Condition\+Map@{Update\+Condition\+Map}}
\index{Update\+Condition\+Map@{Update\+Condition\+Map}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Update\+Condition\+Map(\+Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b, channel\+Condition cond) const }{UpdateConditionMap(Ptr< MobilityModel > a, Ptr< MobilityModel > b, channelCondition cond) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::\+Update\+Condition\+Map (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b, }
\item[{{\bf channel\+Condition}}]{cond}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_afe6cc723227bc7bb2f6b8cfd1cd08e6a}{}\label{classMmWave3gppPropagationLossModel_afe6cc723227bc7bb2f6b8cfd1cd08e6a}

\begin{DoxyCode}
659 \{
660         \hyperlink{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{m\_channelConditionMap}[std::make\_pair (a,b)] = cond;
661         \hyperlink{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{m\_channelConditionMap}[std::make\_pair (b,a)] = cond;
662 
663 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+channel\+Condition\+Map@{m\+\_\+channel\+Condition\+Map}}
\index{m\+\_\+channel\+Condition\+Map@{m\+\_\+channel\+Condition\+Map}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+channel\+Condition\+Map}{m_channelConditionMap}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf channel\+Condition\+Map\+\_\+t} Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+channel\+Condition\+Map\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}{}\label{classMmWave3gppPropagationLossModel_a47c60c0cfcc0545dd3039393d21de5ac}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+channel\+Conditions@{m\+\_\+channel\+Conditions}}
\index{m\+\_\+channel\+Conditions@{m\+\_\+channel\+Conditions}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+channel\+Conditions}{m_channelConditions}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+channel\+Conditions\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_a416f5b42f67f2d950344b4746885230d}{}\label{classMmWave3gppPropagationLossModel_a416f5b42f67f2d950344b4746885230d}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+frequency@{m\+\_\+frequency}}
\index{m\+\_\+frequency@{m\+\_\+frequency}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+frequency}{m_frequency}}]{\setlength{\rightskip}{0pt plus 5cm}double Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+frequency\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}{}\label{classMmWave3gppPropagationLossModel_a2e61a4ea86089b9f974dbbb5180f9c86}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+in\+Car@{m\+\_\+in\+Car}}
\index{m\+\_\+in\+Car@{m\+\_\+in\+Car}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+in\+Car}{m_inCar}}]{\setlength{\rightskip}{0pt plus 5cm}bool Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+in\+Car\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_a2d089e3f89e3cc67c7ea6499a6eca943}{}\label{classMmWave3gppPropagationLossModel_a2d089e3f89e3cc67c7ea6499a6eca943}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+lambda@{m\+\_\+lambda}}
\index{m\+\_\+lambda@{m\+\_\+lambda}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+lambda}{m_lambda}}]{\setlength{\rightskip}{0pt plus 5cm}double Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+lambda\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_af93c26bcd20ec903b0c70afa4c59cde2}{}\label{classMmWave3gppPropagationLossModel_af93c26bcd20ec903b0c70afa4c59cde2}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+min\+Loss@{m\+\_\+min\+Loss}}
\index{m\+\_\+min\+Loss@{m\+\_\+min\+Loss}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+min\+Loss}{m_minLoss}}]{\setlength{\rightskip}{0pt plus 5cm}double Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+min\+Loss\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_a77d24e66b9afc8afd0a7e52d3735d557}{}\label{classMmWave3gppPropagationLossModel_a77d24e66b9afc8afd0a7e52d3735d557}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+nor\+Var@{m\+\_\+nor\+Var}}
\index{m\+\_\+nor\+Var@{m\+\_\+nor\+Var}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+nor\+Var}{m_norVar}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Normal\+Random\+Variable}$>$ Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+nor\+Var\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_a513eea17719ec9c16c3f4e215b018ce9}{}\label{classMmWave3gppPropagationLossModel_a513eea17719ec9c16c3f4e215b018ce9}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+option\+Nlos\+Enabled@{m\+\_\+option\+Nlos\+Enabled}}
\index{m\+\_\+option\+Nlos\+Enabled@{m\+\_\+option\+Nlos\+Enabled}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+option\+Nlos\+Enabled}{m_optionNlosEnabled}}]{\setlength{\rightskip}{0pt plus 5cm}bool Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+option\+Nlos\+Enabled\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_a5029858358d3c4dac793ebf3c8c6cc09}{}\label{classMmWave3gppPropagationLossModel_a5029858358d3c4dac793ebf3c8c6cc09}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+phy\+Mac\+Config@{m\+\_\+phy\+Mac\+Config}}
\index{m\+\_\+phy\+Mac\+Config@{m\+\_\+phy\+Mac\+Config}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Mac\+Config}{m_phyMacConfig}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Mm\+Wave\+Phy\+Mac\+Common}$>$ Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+phy\+Mac\+Config\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_adae341d51b71d1cb4b9f9650e0f90aff}{}\label{classMmWave3gppPropagationLossModel_adae341d51b71d1cb4b9f9650e0f90aff}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+scenario@{m\+\_\+scenario}}
\index{m\+\_\+scenario@{m\+\_\+scenario}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+scenario}{m_scenario}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+scenario\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}{}\label{classMmWave3gppPropagationLossModel_a3ba2b9e45f4d02e49620faf03f97e898}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+shadowing\+Enabled@{m\+\_\+shadowing\+Enabled}}
\index{m\+\_\+shadowing\+Enabled@{m\+\_\+shadowing\+Enabled}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+shadowing\+Enabled}{m_shadowingEnabled}}]{\setlength{\rightskip}{0pt plus 5cm}bool Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+shadowing\+Enabled\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_ac5ba12ef57c52196b6434d801d2e22af}{}\label{classMmWave3gppPropagationLossModel_ac5ba12ef57c52196b6434d801d2e22af}
\index{Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}!m\+\_\+uniform\+Var@{m\+\_\+uniform\+Var}}
\index{m\+\_\+uniform\+Var@{m\+\_\+uniform\+Var}!Mm\+Wave3gpp\+Propagation\+Loss\+Model@{Mm\+Wave3gpp\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+uniform\+Var}{m_uniformVar}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Uniform\+Random\+Variable}$>$ Mm\+Wave3gpp\+Propagation\+Loss\+Model\+::m\+\_\+uniform\+Var\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classMmWave3gppPropagationLossModel_a03532a0deaf28490552b0ba27bae9afa}{}\label{classMmWave3gppPropagationLossModel_a03532a0deaf28490552b0ba27bae9afa}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
mmwave/model/\hyperlink{mmwave-3gpp-propagation-loss-model_8h}{mmwave-\/3gpp-\/propagation-\/loss-\/model.\+h}\item 
mmwave/model/\hyperlink{mmwave-3gpp-propagation-loss-model_8cc}{mmwave-\/3gpp-\/propagation-\/loss-\/model.\+cc}\end{DoxyCompactItemize}
