\hypertarget{classns3_1_1MacLow}{}\section{ns3\+:\+:Mac\+Low Class Reference}
\label{classns3_1_1MacLow}\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}


handle R\+T\+S/\+C\+T\+S/\+D\+A\+T\+A/\+A\+CK transactions.  




{\ttfamily \#include $<$mac-\/low.\+h$>$}



Inheritance diagram for ns3\+:\+:Mac\+Low\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Mac\+Low\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1MacLow_1_1Item}{Item}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$ $>$ \hyperlink{classns3_1_1MacLow_a1b2eb70255904d5aad88c6a6adbf6224}{Mac\+Low\+Rx\+Callback}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1MacLow_a7deab25806e5aef977c36151acb116c5}{Mac\+Low} ()
\item 
virtual \hyperlink{classns3_1_1MacLow_ac9e686b5f1c0ed26829b8eff1f8e60d2}{$\sim$\+Mac\+Low} ()
\item 
void \hyperlink{classns3_1_1MacLow_a1f2c6e12277422c081fa92f8edfe66e8}{Set\+Phy} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} $>$ phy)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} $>$ \hyperlink{classns3_1_1MacLow_a61da57dca75dee4cdd76f0950598ceb0}{Get\+Phy} (void) const 
\item 
void \hyperlink{classns3_1_1MacLow_a4158eb64f54ae53935769cdf0b12aafb}{Reset\+Phy} (void)
\item 
void \hyperlink{classns3_1_1MacLow_a8151fd0fa31a7034f86aa65b3e4973fa}{Set\+Wifi\+Remote\+Station\+Manager} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} $>$ manager)
\item 
void \hyperlink{classns3_1_1MacLow_a399290b378df4e041b9c4f7cc7b9b465}{Set\+Address} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} ad)
\item 
void \hyperlink{classns3_1_1MacLow_a602bb522f4cddf49eb8c577884c3fe31}{Set\+Ack\+Timeout} (\hyperlink{classns3_1_1Time}{Time} ack\+Timeout)
\item 
void \hyperlink{classns3_1_1MacLow_a3f9121a1c2608442164419550ffa8ea5}{Set\+Basic\+Block\+Ack\+Timeout} (\hyperlink{classns3_1_1Time}{Time} block\+Ack\+Timeout)
\item 
void \hyperlink{classns3_1_1MacLow_af756b3e62a77278698fb4fafc042b42b}{Set\+Compressed\+Block\+Ack\+Timeout} (\hyperlink{classns3_1_1Time}{Time} block\+Ack\+Timeout)
\item 
void \hyperlink{classns3_1_1MacLow_a5607ecee6bb1d6a26e1a373e85b2f3d3}{Set\+Cts\+To\+Self\+Supported} (bool enable)
\item 
void \hyperlink{classns3_1_1MacLow_a8f1a145762c6390aa236252dfa4dcd5f}{Set\+Cts\+Timeout} (\hyperlink{classns3_1_1Time}{Time} cts\+Timeout)
\item 
void \hyperlink{classns3_1_1MacLow_a105b29449995514e14ec554dfa499dbd}{Set\+Sifs} (\hyperlink{classns3_1_1Time}{Time} sifs)
\item 
void \hyperlink{classns3_1_1MacLow_a6ef95dfa5571e843bd91d5b26c658c82}{Set\+Rifs} (\hyperlink{classns3_1_1Time}{Time} rifs)
\item 
void \hyperlink{classns3_1_1MacLow_a4ee65e0fe3be7f52b42ea555ac8402b3}{Set\+Slot\+Time} (\hyperlink{classns3_1_1Time}{Time} slot\+Time)
\item 
void \hyperlink{classns3_1_1MacLow_aa8a6853ba185a9a5c1fddc2a8e6c91ad}{Set\+Pifs} (\hyperlink{classns3_1_1Time}{Time} pifs)
\item 
void \hyperlink{classns3_1_1MacLow_a92532da5f910843337b8bbb51f551c03}{Set\+Bssid} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} ad)
\item 
void \hyperlink{classns3_1_1MacLow_a3d6785cf29b733798a17c84036d42adf}{Set\+Promisc} (void)
\item 
bool \hyperlink{classns3_1_1MacLow_adc40feae5d8e06391308e136aa3beff3}{Get\+Cts\+To\+Self\+Supported} () const 
\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{Get\+Address} (void) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a41936a9436518d2fe881c9606dcef19e}{Get\+Ack\+Timeout} (void) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a5092888d73e7d32ac6172922f2469846}{Get\+Basic\+Block\+Ack\+Timeout} () const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a57e8e9f643fe85b1c04812de618efbee}{Get\+Compressed\+Block\+Ack\+Timeout} () const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_aba3db8af06fbd9e80a0d6c35dc1f3cf4}{Get\+Cts\+Timeout} (void) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{Get\+Sifs} (void) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a8a1429d2aba218b4a4e2e5ad37dce6c8}{Get\+Slot\+Time} (void) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a77f1f7d4ee6eb16b0fed4975000cb3bc}{Get\+Pifs} (void) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_add308ae9aa7b74b3132cd270c5dbfb22}{Get\+Rifs} (void) const 
\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1MacLow_a4d11b37c976a0bac9d123fcc4b1fb9e6}{Get\+Bssid} (void) const 
\item 
bool \hyperlink{classns3_1_1MacLow_ad26bc9cc267fbdc079792efdbc6b7c10}{Is\+Promisc} (void) const 
\item 
void \hyperlink{classns3_1_1MacLow_abc6afc705f9a59bd53ebc08bd8afd90f}{Set\+Rx\+Callback} (\hyperlink{classns3_1_1Callback}{Callback}$<$ void, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$ $>$ callback)
\item 
void \hyperlink{classns3_1_1MacLow_af68ad85663b5dac711213b900bc0bdb2}{Register\+Dcf} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1DcfManager}{Dcf\+Manager} $>$ dcf)
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a7773963a988ffddaa862246e1798b2d1}{Calculate\+Transmission\+Time} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr, const \hyperlink{classns3_1_1MacLowTransmissionParameters}{Mac\+Low\+Transmission\+Parameters} \&\hyperlink{design_8txt_a61257d1df1c87e8bd4ba94cacb4982cf}{parameters}) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a8fa9fc428371d4fc899d114d67a6f895}{Calculate\+Overall\+Tx\+Time} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr, const \hyperlink{classns3_1_1MacLowTransmissionParameters}{Mac\+Low\+Transmission\+Parameters} \&params) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a9d374976855269a4ee89e2369afff3d0}{Calculate\+Overall\+Tx\+Fragment\+Time} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr, const \hyperlink{classns3_1_1MacLowTransmissionParameters}{Mac\+Low\+Transmission\+Parameters} \&params, uint32\+\_\+t fragment\+Size) const 
\item 
virtual void \hyperlink{classns3_1_1MacLow_a3d13643c758e213041f8389c1041074b}{Start\+Transmission} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr, \hyperlink{classns3_1_1MacLowTransmissionParameters}{Mac\+Low\+Transmission\+Parameters} \hyperlink{design_8txt_a61257d1df1c87e8bd4ba94cacb4982cf}{parameters}, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1DcaTxop}{Dca\+Txop} $>$ dca)
\item 
void \hyperlink{classns3_1_1MacLow_ade59e3a5e41c6ccbafd93501d7e9fbc0}{Receive\+Ok} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, double rx\+Snr, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} tx\+Vector, bool ampdu\+Subframe)
\item 
void \hyperlink{classns3_1_1MacLow_a657ff8ed7c720eaaa77ee77a674b6289}{Receive\+Error} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, double rx\+Snr)
\item 
void \hyperlink{classns3_1_1MacLow_a1952eb06064aac3eca3cd3edd426831b}{Notify\+Switching\+Start\+Now} (\hyperlink{classns3_1_1Time}{Time} duration)
\item 
void \hyperlink{classns3_1_1MacLow_ae772476fce0b730d2e5949bfa0287965}{Notify\+Sleep\+Now} (void)
\item 
void \hyperlink{classns3_1_1MacLow_ab70f7f727b5f9e1e1357a73e29ba7f82}{Create\+Block\+Ack\+Agreement} (const \hyperlink{classns3_1_1MgtAddBaResponseHeader}{Mgt\+Add\+Ba\+Response\+Header} $\ast$resp\+Hdr, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} originator, uint16\+\_\+t starting\+Seq)
\item 
void \hyperlink{classns3_1_1MacLow_ada8f9b5da9cbfb2a63b1d740ab88216d}{Destroy\+Block\+Ack\+Agreement} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} originator, uint8\+\_\+t tid)
\item 
void \hyperlink{classns3_1_1MacLow_ad991474873a0ddb28e8a61a1b766958f}{Register\+Edca\+For\+Ac} (\hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{Ac\+Index} ac, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1EdcaTxopN}{Edca\+TxopN} $>$ edca)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1MacLow_a10d347ccf6a1e3868ee1470767ed38a6}{Aggregate\+To\+Ampdu} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} hdr)
\item 
void \hyperlink{classns3_1_1MacLow_a7380c5a3adcd88beda938bfa8447d7c5}{Deaggregate\+Ampdu\+And\+Receive} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ aggregated\+Packet, double rx\+Snr, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} tx\+Vector)
\item 
bool \hyperlink{classns3_1_1MacLow_aead5c738f9be3650b2b55a1a307029db}{Stop\+Mpdu\+Aggregation} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ peeked\+Packet, \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} peeked\+Hdr, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ aggregated\+Packet, uint16\+\_\+t size) const 
\item 
void \hyperlink{classns3_1_1MacLow_ab143d3691846b2638a6f089c96169ee2}{Flush\+Aggregate\+Queue} (uint8\+\_\+t tid)
\item 
virtual \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{Get\+Data\+Tx\+Vector} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr) const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1MacLow_abacc68f094246209f7d4d69d1c75aa31}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1DcfManager}{Dcf\+Manager} $>$ $>$\+::const\+\_\+iterator \hyperlink{classns3_1_1MacLow_abf949b68f435e702d6d30c9a1515b35d}{Dcf\+Managers\+CI}
\item 
typedef std\+::vector$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1DcfManager}{Dcf\+Manager} $>$ $>$ \hyperlink{classns3_1_1MacLow_a22c50ed96b7e6b6cebe789abf1ce006b}{Dcf\+Managers}
\item 
typedef std\+::pair$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$, \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $>$ \hyperlink{classns3_1_1MacLow_ae78fc9611b47a682c09e6ffc9f798be3}{Buffered\+Packet}
\begin{DoxyCompactList}\small\item\em buffered packet typedef \end{DoxyCompactList}\item 
typedef \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1MacLow_ae78fc9611b47a682c09e6ffc9f798be3}{Buffered\+Packet} $>$\+::iterator \hyperlink{classns3_1_1MacLow_ac5da0e8293b372fee7df425d9584c0b6}{Buffered\+PacketI}
\begin{DoxyCompactList}\small\item\em buffered packet iterator typedef \end{DoxyCompactList}\item 
typedef std\+::pair$<$ \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}, uint8\+\_\+t $>$ \hyperlink{classns3_1_1MacLow_a8d666357756bbc5ea2d1b7fac3a5e938}{Agreement\+Key}
\begin{DoxyCompactList}\small\item\em agreement key typedef \end{DoxyCompactList}\item 
typedef std\+::pair$<$ \hyperlink{classns3_1_1BlockAckAgreement}{Block\+Ack\+Agreement}, \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1MacLow_ae78fc9611b47a682c09e6ffc9f798be3}{Buffered\+Packet} $>$ $>$ \hyperlink{classns3_1_1MacLow_a68fcd01fab733ead22d9655640258a6a}{Agreement\+Value}
\begin{DoxyCompactList}\small\item\em agreement value typedef \end{DoxyCompactList}\item 
typedef std\+::map$<$ \hyperlink{classns3_1_1MacLow_a8d666357756bbc5ea2d1b7fac3a5e938}{Agreement\+Key}, \hyperlink{classns3_1_1MacLow_a68fcd01fab733ead22d9655640258a6a}{Agreement\+Value} $>$ \hyperlink{classns3_1_1MacLow_ad19858356831469ee643891fca0ef6a3}{Agreements}
\begin{DoxyCompactList}\small\item\em agreements \end{DoxyCompactList}\item 
typedef std\+::map$<$ \hyperlink{classns3_1_1MacLow_a8d666357756bbc5ea2d1b7fac3a5e938}{Agreement\+Key}, \hyperlink{classns3_1_1MacLow_a68fcd01fab733ead22d9655640258a6a}{Agreement\+Value} $>$\+::iterator \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI}
\begin{DoxyCompactList}\small\item\em agreements iterator \end{DoxyCompactList}\item 
typedef std\+::map$<$ \hyperlink{classns3_1_1MacLow_a8d666357756bbc5ea2d1b7fac3a5e938}{Agreement\+Key}, \hyperlink{classns3_1_1BlockAckCache}{Block\+Ack\+Cache} $>$ \hyperlink{classns3_1_1MacLow_a9e628f9b15e0fd3eaf7b5eeb586ea968}{Block\+Ack\+Caches}
\begin{DoxyCompactList}\small\item\em block ack caches typedef \end{DoxyCompactList}\item 
typedef std\+::map$<$ \hyperlink{classns3_1_1MacLow_a8d666357756bbc5ea2d1b7fac3a5e938}{Agreement\+Key}, \hyperlink{classns3_1_1BlockAckCache}{Block\+Ack\+Cache} $>$\+::iterator \hyperlink{classns3_1_1MacLow_ae0b0abf84b6078031fabd4e85e1cb1bf}{Block\+Ack\+CachesI}
\begin{DoxyCompactList}\small\item\em block ack caches iterator typedef \end{DoxyCompactList}\item 
typedef std\+::map$<$ \hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{Ac\+Index}, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1EdcaTxopN}{Edca\+TxopN} $>$ $>$ \hyperlink{classns3_1_1MacLow_aa79c94ba0439ea9fc9d91dc65f48fd8a}{Queue\+Edcas}
\begin{DoxyCompactList}\small\item\em E\+D\+CA queues typedef. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1MacLow_afecf8a67fd2052dc23f94e77b9768d6b}{Cancel\+All\+Events} (void)
\item 
uint32\+\_\+t \hyperlink{classns3_1_1MacLow_a87ec7765a9299e0a3997a972e146171f}{Get\+Ack\+Size} (void) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1MacLow_a2a57939c6cb34116ae21763bf9505fbf}{Get\+Block\+Ack\+Size} (\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7}{Block\+Ack\+Type} \hyperlink{visualizer-ideas_8txt_add98db9e15e2a58cf2b57623e7aa893a}{type}) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1MacLow_a2eca2a2e6be1438bedbe85034acf5a2c}{Get\+Rts\+Size} (void) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1MacLow_a43e590838afbd8a9a01cc2936837b091}{Get\+Cts\+Size} (void) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1MacLow_a19511f9a1fc507cab3e16c85d2249f7e}{Get\+Size} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr) const 
\item 
void \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{Add\+Wifi\+Mac\+Trailer} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet) const 
\item 
void \hyperlink{classns3_1_1MacLow_a4eefbfa3d57539dadf0224cc7fcf952d}{Forward\+Down} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} tx\+Vector)
\item 
void \hyperlink{classns3_1_1MacLow_a0ec344c3a1200d8d66273614949c6b35}{Send\+Mpdu} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} tx\+Vector, \hyperlink{namespacens3_ae617d41bbd0c07fa58ee2306f687b055}{Mpdu\+Type} mpdutype)
\item 
\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1MacLow_ac6133f8084d7d290687da468665e36a0}{Get\+Rts\+Tx\+Vector} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr) const 
\item 
\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1MacLow_a7e8fb3caf4751fa39bc437cab3ac94f1}{Get\+Cts\+Tx\+Vector} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} rts\+Tx\+Mode) const 
\item 
\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1MacLow_aacb6b94de35df106b76d93b05d145d13}{Get\+Ack\+Tx\+Vector} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} data\+Tx\+Mode) const 
\item 
\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{Get\+Block\+Ack\+Tx\+Vector} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} data\+Tx\+Mode) const 
\item 
\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1MacLow_a9602e7c5294878230767654b61e76e42}{Get\+Cts\+To\+Self\+Tx\+Vector} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr) const 
\item 
\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1MacLow_a48d2394e5fab14a60af30b3d0a145d43}{Get\+Cts\+Tx\+Vector\+For\+Rts} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} rts\+Tx\+Mode) const 
\item 
\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1MacLow_ad023756670d1e2e69b9832968e4b7029}{Get\+Ack\+Tx\+Vector\+For\+Data} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} data\+Tx\+Mode) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a51008d8954b33afd5ec805cda1a3c297}{Get\+Cts\+Duration} (\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} cts\+Tx\+Vector) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a97137ac7e59a3637e5f71c38e36691ab}{Get\+Cts\+Duration} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} rts\+Tx\+Vector) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{Get\+Ack\+Duration} (\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} ack\+Tx\+Vector) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a014e154f9f037102d3c7662a83479bbb}{Get\+Ack\+Duration} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} data\+Tx\+Vector) const 
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{Get\+Block\+Ack\+Duration} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} to, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} block\+Ack\+Req\+Tx\+Vector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7}{Block\+Ack\+Type} \hyperlink{visualizer-ideas_8txt_add98db9e15e2a58cf2b57623e7aa893a}{type}) const 
\item 
bool \hyperlink{classns3_1_1MacLow_abb03703a2f28b39d0cff52ce8488f7b3}{Need\+Rts} (void) const 
\item 
bool \hyperlink{classns3_1_1MacLow_a8522fde99dc6efe05a667a3e3ebd9b5a}{Need\+Cts\+To\+Self} (void) const 
\item 
void \hyperlink{classns3_1_1MacLow_a6ff5bbb311cf902d961bf6871f2929d0}{Notify\+Nav} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&hdr, \hyperlink{group__wifi_ga5e94a56cb338a14ffbbb19c6a41251eb}{Wifi\+Preamble} preamble)
\item 
void \hyperlink{classns3_1_1MacLow_abcc34d5e7e18f1f9df32adb248efccea}{Do\+Nav\+Reset\+Now} (\hyperlink{classns3_1_1Time}{Time} duration)
\item 
bool \hyperlink{classns3_1_1MacLow_ab35a898f608bb1103394e56a77c01343}{Do\+Nav\+Start\+Now} (\hyperlink{classns3_1_1Time}{Time} duration)
\item 
bool \hyperlink{classns3_1_1MacLow_a41988b43a8e4d1805c5bee02e88f7811}{Is\+Nav\+Zero} (void) const 
\item 
void \hyperlink{classns3_1_1MacLow_acde3a1447ef79fa1bc3456b3d0473757}{Notify\+Ack\+Timeout\+Start\+Now} (\hyperlink{classns3_1_1Time}{Time} duration)
\item 
void \hyperlink{classns3_1_1MacLow_a6efebdcb2cfbfb98f184587e0ffac4a8}{Notify\+Ack\+Timeout\+Reset\+Now} ()
\item 
void \hyperlink{classns3_1_1MacLow_ad4e0eee50d12b8b7e22ad6b68ffb82ef}{Notify\+Cts\+Timeout\+Start\+Now} (\hyperlink{classns3_1_1Time}{Time} duration)
\item 
void \hyperlink{classns3_1_1MacLow_a4a5811d6177046db69e71af9dfc5cb0f}{Notify\+Cts\+Timeout\+Reset\+Now} ()
\item 
void \hyperlink{classns3_1_1MacLow_af0f8457a65c1870cbba6289da87f96d6}{Nav\+Counter\+Reset\+Cts\+Missed} (\hyperlink{classns3_1_1Time}{Time} rts\+End\+Rx\+Time)
\item 
void \hyperlink{classns3_1_1MacLow_a4d730ac2acea66982b4d257e06e22387}{Normal\+Ack\+Timeout} (void)
\item 
void \hyperlink{classns3_1_1MacLow_aa893a4401552fa384df6195578013b45}{Fast\+Ack\+Timeout} (void)
\item 
void \hyperlink{classns3_1_1MacLow_ac1b528bbd4c14f0a7c4575c0fee242ee}{Super\+Fast\+Ack\+Timeout} (void)
\item 
void \hyperlink{classns3_1_1MacLow_a6d34fa0fc66def64bcad964b5483605c}{Fast\+Ack\+Failed\+Timeout} (void)
\item 
void \hyperlink{classns3_1_1MacLow_ace1131b4f6ea4f1d74a7c0ba470c84ac}{Block\+Ack\+Timeout} (void)
\item 
void \hyperlink{classns3_1_1MacLow_a35adb9b4c7f1035da2cb080289ba9cf7}{Cts\+Timeout} (void)
\item 
void \hyperlink{classns3_1_1MacLow_a209c346576d367ef16cfa1cfdefff909}{Send\+Cts\+To\+Self} (void)
\item 
void \hyperlink{classns3_1_1MacLow_aebcd4c3e8d64fb53af1f8a862c766e33}{Send\+Cts\+After\+Rts} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} source, \hyperlink{classns3_1_1Time}{Time} duration, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} rts\+Tx\+Vector, double rts\+Snr)
\item 
void \hyperlink{classns3_1_1MacLow_a8db1635644b89072dfcb5fbc2330031b}{Send\+Ack\+After\+Data} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} source, \hyperlink{classns3_1_1Time}{Time} duration, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} data\+Tx\+Mode, double data\+Snr)
\item 
void \hyperlink{classns3_1_1MacLow_a063bab2ef4e7320a3f8cfa9890090ab6}{Send\+Data\+After\+Cts} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} source, \hyperlink{classns3_1_1Time}{Time} duration)
\item 
void \hyperlink{classns3_1_1MacLow_a3087bf08c1005df5654ede7311173e4f}{Wait\+Ifs\+After\+End\+Tx\+Fragment} (void)
\item 
void \hyperlink{classns3_1_1MacLow_a17e509f5f61f862d9a49d01d7cf3a821}{Wait\+Ifs\+After\+End\+Tx\+Packet} (void)
\item 
void \hyperlink{classns3_1_1MacLow_ab27ec174aebeec55b0fd44e872c0e777}{End\+Tx\+No\+Ack} (void)
\item 
void \hyperlink{classns3_1_1MacLow_ac472702b866a51ea2dfb7637381897aa}{Send\+Rts\+For\+Packet} (void)
\item 
void \hyperlink{classns3_1_1MacLow_ab177d7c7ba53c56f91612114412914bf}{Send\+Data\+Packet} (void)
\item 
void \hyperlink{classns3_1_1MacLow_ae7e8072b7d1f8b775000f6f07ee5a3c1}{Start\+Data\+Tx\+Timers} (\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} data\+Tx\+Vector)
\item 
void \hyperlink{classns3_1_1MacLow_a5b5f194e54b33b969b9cf8a05728d9fe}{Do\+Dispose} (void)
\item 
void \hyperlink{classns3_1_1MacLow_aaed81a6cbf94baf2b2f17b9f96b8474d}{Rx\+Complete\+Buffered\+Packets\+With\+Smaller\+Sequence} (uint16\+\_\+t seq, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} originator, uint8\+\_\+t tid)
\item 
void \hyperlink{classns3_1_1MacLow_aeadf392d37d323fb81f0ef0766f2359a}{Rx\+Complete\+Buffered\+Packets\+Until\+First\+Lost} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} originator, uint8\+\_\+t tid)
\item 
bool \hyperlink{classns3_1_1MacLow_a442078ddeb869fa7e76f35f32e0533c2}{Is\+In\+Window} (uint16\+\_\+t seq, uint16\+\_\+t winstart, uint16\+\_\+t winsize) const 
\item 
bool \hyperlink{classns3_1_1MacLow_a372fe3a76617f1aefa4918f4b1541e88}{Receive\+Mpdu} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} hdr)
\item 
bool \hyperlink{classns3_1_1MacLow_aeada564fc806b1e258a3ef24dd867fdf}{Store\+Mpdu\+If\+Needed} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} hdr)
\item 
void \hyperlink{classns3_1_1MacLow_a84b96c0cc6f32fca28576ec4df6a0853}{Send\+Block\+Ack\+After\+Block\+Ack\+Request} (const \hyperlink{classns3_1_1CtrlBAckRequestHeader}{Ctrl\+B\+Ack\+Request\+Header} req\+Hdr, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} originator, \hyperlink{classns3_1_1Time}{Time} duration, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} block\+Ack\+Req\+Tx\+Mode, double rx\+Snr)
\item 
void \hyperlink{classns3_1_1MacLow_af6e2acc771d188c0959871f142912296}{Send\+Block\+Ack\+After\+Ampdu} (uint8\+\_\+t tid, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} originator, \hyperlink{classns3_1_1Time}{Time} duration, \hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} block\+Ack\+Req\+Tx\+Vector, double rx\+Snr)
\item 
void \hyperlink{classns3_1_1MacLow_a85c374be43ba3bd52fd1ad6efdfef6c6}{Send\+Block\+Ack\+Response} (const \hyperlink{classns3_1_1CtrlBAckResponseHeader}{Ctrl\+B\+Ack\+Response\+Header} $\ast$block\+Ack, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} originator, bool immediate, \hyperlink{classns3_1_1Time}{Time} duration, \hyperlink{classns3_1_1WifiMode}{Wifi\+Mode} block\+Ack\+Req\+Tx\+Mode, double rx\+Snr)
\item 
void \hyperlink{classns3_1_1MacLow_aafa012c5d2dde80484d6546c802f02f8}{Reset\+Block\+Ack\+Inactivity\+Timer\+If\+Needed} (\hyperlink{classns3_1_1BlockAckAgreement}{Block\+Ack\+Agreement} \&agreement)
\item 
void \hyperlink{classns3_1_1MacLow_afc8981535d8f7e161bf58d4d86b7f15f}{Setup\+Phy\+Mac\+Low\+Listener} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} $>$ phy)
\item 
void \hyperlink{classns3_1_1MacLow_afc60cdc4693e2fb6b2257aa015b9ec30}{Remove\+Phy\+Mac\+Low\+Listener} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} $>$ phy)
\item 
bool \hyperlink{classns3_1_1MacLow_a228f675a7db0df0e39edb611167861cc}{Is\+Ampdu} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} hdr)
\item 
void \hyperlink{classns3_1_1MacLow_a4b03d2fed3abc0e1acc14b3b1ef808a1}{Insert\+In\+Tx\+Queue} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, const \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \&hdr, \hyperlink{classns3_1_1Time}{Time} t\+Stamp, uint8\+\_\+t tid)
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1MacLow_aabd112b43fd3be901c743b21d41f787f}{Perform\+Msdu\+Aggregation} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} $\ast$hdr, \hyperlink{classns3_1_1Time}{Time} $\ast$tstamp, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ current\+Ampdu\+Packet, uint16\+\_\+t block\+Ack\+Size)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} $>$ \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\+\_\+phy}
\begin{DoxyCompactList}\small\item\em Pointer to \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} (actually send/receives frames) \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} $>$ \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\+\_\+station\+Manager}
\begin{DoxyCompactList}\small\item\em Pointer to \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} (rate control) \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1MacLow_a1b2eb70255904d5aad88c6a6adbf6224}{Mac\+Low\+Rx\+Callback} \hyperlink{classns3_1_1MacLow_ac5f2b06b6151c99816c66b7bf946a4d8}{m\+\_\+rx\+Callback}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Callback}{Callback} to pass packet up. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1MacLow_a22c50ed96b7e6b6cebe789abf1ce006b}{Dcf\+Managers} \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\+\_\+dcf\+Managers}
\begin{DoxyCompactList}\small\item\em List of \hyperlink{classns3_1_1DcfManager}{Dcf\+Manager}. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{m\+\_\+normal\+Ack\+Timeout\+Event}
\begin{DoxyCompactList}\small\item\em Normal A\+CK timeout event. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{m\+\_\+fast\+Ack\+Timeout\+Event}
\begin{DoxyCompactList}\small\item\em Fast A\+CK timeout event. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_ae2473406a32bcd2bd581a57da4683b18}{m\+\_\+super\+Fast\+Ack\+Timeout\+Event}
\begin{DoxyCompactList}\small\item\em Super fast A\+CK timeout event. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_af34b1f498e3b5a25a62fd4bf5f6f943a}{m\+\_\+fast\+Ack\+Failed\+Timeout\+Event}
\begin{DoxyCompactList}\small\item\em Fast A\+CK failed timeout event. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\+\_\+block\+Ack\+Timeout\+Event}
\begin{DoxyCompactList}\small\item\em Block A\+CK timeout event. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}{m\+\_\+cts\+Timeout\+Event}
\begin{DoxyCompactList}\small\item\em C\+TS timeout event. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_ade35698702b1353f2eff6b97653f8b0e}{m\+\_\+send\+Cts\+Event}
\begin{DoxyCompactList}\small\item\em Event to send C\+TS. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{m\+\_\+send\+Ack\+Event}
\begin{DoxyCompactList}\small\item\em Event to send A\+CK. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}{m\+\_\+send\+Data\+Event}
\begin{DoxyCompactList}\small\item\em Event to send D\+A\+TA. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\+\_\+wait\+Ifs\+Event}
\begin{DoxyCompactList}\small\item\em Wait for I\+FS event. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_a25990734c06d4df0d75276f52e103f8a}{m\+\_\+end\+Tx\+No\+Ack\+Event}
\begin{DoxyCompactList}\small\item\em Event for finishing transmission that does not require A\+CK. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1MacLow_a5aef4547e2a6ddad9c85d55bf77e43b1}{m\+\_\+nav\+Counter\+Reset\+Cts\+Missed}
\begin{DoxyCompactList}\small\item\em Event to reset N\+AV when C\+TS is not received. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\+\_\+current\+Packet}
\begin{DoxyCompactList}\small\item\em Current packet transmitted/to be transmitted. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\+\_\+current\+Hdr}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Header}{Header} of the current transmitted packet. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1DcaTxop}{Dca\+Txop} $>$ \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\+\_\+current\+Dca}
\begin{DoxyCompactList}\small\item\em Current D\+CA. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \hyperlink{classns3_1_1MacLow_aa085c0d48ba7c17138b8027666d85bb5}{m\+\_\+last\+Received\+Hdr}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Header}{Header} of the last received packet. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1MacLowTransmissionParameters}{Mac\+Low\+Transmission\+Parameters} \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\+\_\+tx\+Params}
\begin{DoxyCompactList}\small\item\em Transmission parameters of the current packet. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\+\_\+self}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Address}{Address} of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}) \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1MacLow_a36761d1d6c972817b9e2361952180923}{m\+\_\+bssid}
\begin{DoxyCompactList}\small\item\em B\+S\+S\+ID address (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}) \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a5889cbf3ea77554b9eb0cf1a618a2db8}{m\+\_\+ack\+Timeout}
\begin{DoxyCompactList}\small\item\em A\+CK timeout duration. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a3bc501e96dd54acfcfec0dbbfeb487e7}{m\+\_\+basic\+Block\+Ack\+Timeout}
\begin{DoxyCompactList}\small\item\em Basic block A\+CK timeout duration. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_af859368621713602f22944a1a00f9aab}{m\+\_\+compressed\+Block\+Ack\+Timeout}
\begin{DoxyCompactList}\small\item\em Compressed block A\+CK timeout duration. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_ab6dd76e9ab50582171a60074ff759b51}{m\+\_\+cts\+Timeout}
\begin{DoxyCompactList}\small\item\em C\+TS timeout duration. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_ad8abf26b1e85563b8e9b2cfd1849226c}{m\+\_\+sifs}
\begin{DoxyCompactList}\small\item\em Short Interframe Space (S\+I\+FS) duration. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a76eff59c8a4983b9830edf3c6ef5e76e}{m\+\_\+slot\+Time}
\begin{DoxyCompactList}\small\item\em Slot duration. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a115cd42f0f4a32f94c7cf80f3ad8efe9}{m\+\_\+pifs}
\begin{DoxyCompactList}\small\item\em P\+CF Interframe Space (P\+I\+FS) duration. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_afb4a9a2b443271b3dab4091c3e7190c7}{m\+\_\+rifs}
\begin{DoxyCompactList}\small\item\em Reduced Interframe Space (R\+I\+FS) duration. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}{m\+\_\+last\+Nav\+Start}
\begin{DoxyCompactList}\small\item\em The time when the latest N\+AV started. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1MacLow_a939a71bf7296a87bfc5bf2eb8b026b4b}{m\+\_\+last\+Nav\+Duration}
\begin{DoxyCompactList}\small\item\em The duration of the latest N\+AV. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1MacLow_ad13beb74b1519291ee00d14f1d532fdb}{m\+\_\+promisc}
\begin{DoxyCompactList}\small\item\em Flag if the device is operating in promiscuous mode. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\+\_\+ampdu}
\begin{DoxyCompactList}\small\item\em Flag if the current transmission involves an A-\/\+M\+P\+DU. \end{DoxyCompactList}\item 
class \hyperlink{classns3_1_1PhyMacLowListener}{Phy\+Mac\+Low\+Listener} $\ast$ \hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\+\_\+phy\+Mac\+Low\+Listener}
\begin{DoxyCompactList}\small\item\em Listener needed to monitor when a channel switching occurs. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1MacLow_ad19858356831469ee643891fca0ef6a3}{Agreements} \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\+\_\+b\+Ack\+Agreements}
\begin{DoxyCompactList}\small\item\em block ack agreements \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1MacLow_a9e628f9b15e0fd3eaf7b5eeb586ea968}{Block\+Ack\+Caches} \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\+\_\+b\+Ack\+Caches}
\begin{DoxyCompactList}\small\item\em block ack caches \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1MacLow_aa79c94ba0439ea9fc9d91dc65f48fd8a}{Queue\+Edcas} \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\+\_\+edca}
\begin{DoxyCompactList}\small\item\em E\+D\+CA queues. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1MacLow_a3f4e1bf0128e68f6d2b708d66357ac5e}{m\+\_\+cts\+To\+Self\+Supported}
\begin{DoxyCompactList}\small\item\em Flag whether C\+T\+S-\/to-\/self is supported. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{namespacens3_a3ca96bcdf02c0e7cacea08ca62ead54c}{Wifi\+Mac\+Queue} $>$ \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\+\_\+aggregate\+Queue} \mbox{[}8\mbox{]}
\begin{DoxyCompactList}\small\item\em Queues per T\+ID used for M\+P\+DU aggregation. \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{structns3_1_1MacLow_1_1Item}{Item} $>$ \hyperlink{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{m\+\_\+tx\+Packets} \mbox{[}8\mbox{]}
\begin{DoxyCompactList}\small\item\em Contain temporary items to be sent with the next A-\/\+M\+P\+DU transmission for a given T\+ID, once R\+T\+S/\+C\+TS exchange has succeeded. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1WifiTxVector}{Wifi\+Tx\+Vector} \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\+\_\+current\+Tx\+Vector}
\begin{DoxyCompactList}\small\item\em T\+X\+V\+E\+C\+T\+OR used for the current packet transmission. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1MacLow_a59c458327e669c30a9ba73441c96c03e}{\+::\+Two\+Level\+Aggregation\+Test}
\item 
class \hyperlink{classns3_1_1MacLow_ac40416d983d6f5074b1f4d2d84900b75}{\+::\+Ampdu\+Aggregation\+Test}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
handle R\+T\+S/\+C\+T\+S/\+D\+A\+T\+A/\+A\+CK transactions. 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Agreement\+Key@{Agreement\+Key}}
\index{Agreement\+Key@{Agreement\+Key}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Agreement\+Key}{AgreementKey}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::pair$<${\bf Mac48\+Address}, uint8\+\_\+t$>$ {\bf ns3\+::\+Mac\+Low\+::\+Agreement\+Key}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a8d666357756bbc5ea2d1b7fac3a5e938}{}\label{classns3_1_1MacLow_a8d666357756bbc5ea2d1b7fac3a5e938}


agreement key typedef 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Agreements@{Agreements}}
\index{Agreements@{Agreements}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Agreements}{Agreements}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<${\bf Agreement\+Key}, {\bf Agreement\+Value}$>$ {\bf ns3\+::\+Mac\+Low\+::\+Agreements}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ad19858356831469ee643891fca0ef6a3}{}\label{classns3_1_1MacLow_ad19858356831469ee643891fca0ef6a3}


agreements 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!AgreementsI@{AgreementsI}}
\index{AgreementsI@{AgreementsI}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{AgreementsI}{AgreementsI}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<${\bf Agreement\+Key}, {\bf Agreement\+Value}$>$\+::iterator {\bf ns3\+::\+Mac\+Low\+::\+AgreementsI}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{}\label{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}


agreements iterator 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Agreement\+Value@{Agreement\+Value}}
\index{Agreement\+Value@{Agreement\+Value}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Agreement\+Value}{AgreementValue}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::pair$<${\bf Block\+Ack\+Agreement}, {\bf std\+::list}$<${\bf Buffered\+Packet}$>$ $>$ {\bf ns3\+::\+Mac\+Low\+::\+Agreement\+Value}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a68fcd01fab733ead22d9655640258a6a}{}\label{classns3_1_1MacLow_a68fcd01fab733ead22d9655640258a6a}


agreement value typedef 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Block\+Ack\+Caches@{Block\+Ack\+Caches}}
\index{Block\+Ack\+Caches@{Block\+Ack\+Caches}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Block\+Ack\+Caches}{BlockAckCaches}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<${\bf Agreement\+Key}, {\bf Block\+Ack\+Cache}$>$ {\bf ns3\+::\+Mac\+Low\+::\+Block\+Ack\+Caches}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a9e628f9b15e0fd3eaf7b5eeb586ea968}{}\label{classns3_1_1MacLow_a9e628f9b15e0fd3eaf7b5eeb586ea968}


block ack caches typedef 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Block\+Ack\+CachesI@{Block\+Ack\+CachesI}}
\index{Block\+Ack\+CachesI@{Block\+Ack\+CachesI}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Block\+Ack\+CachesI}{BlockAckCachesI}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<${\bf Agreement\+Key}, {\bf Block\+Ack\+Cache}$>$\+::iterator {\bf ns3\+::\+Mac\+Low\+::\+Block\+Ack\+CachesI}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ae0b0abf84b6078031fabd4e85e1cb1bf}{}\label{classns3_1_1MacLow_ae0b0abf84b6078031fabd4e85e1cb1bf}


block ack caches iterator typedef 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Buffered\+Packet@{Buffered\+Packet}}
\index{Buffered\+Packet@{Buffered\+Packet}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Buffered\+Packet}{BufferedPacket}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::pair$<${\bf Ptr}$<${\bf Packet}$>$, {\bf Wifi\+Mac\+Header}$>$ {\bf ns3\+::\+Mac\+Low\+::\+Buffered\+Packet}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ae78fc9611b47a682c09e6ffc9f798be3}{}\label{classns3_1_1MacLow_ae78fc9611b47a682c09e6ffc9f798be3}


buffered packet typedef 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Buffered\+PacketI@{Buffered\+PacketI}}
\index{Buffered\+PacketI@{Buffered\+PacketI}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Buffered\+PacketI}{BufferedPacketI}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf std\+::list}$<${\bf Buffered\+Packet}$>$\+::iterator {\bf ns3\+::\+Mac\+Low\+::\+Buffered\+PacketI}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ac5da0e8293b372fee7df425d9584c0b6}{}\label{classns3_1_1MacLow_ac5da0e8293b372fee7df425d9584c0b6}


buffered packet iterator typedef 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Dcf\+Managers@{Dcf\+Managers}}
\index{Dcf\+Managers@{Dcf\+Managers}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Dcf\+Managers}{DcfManagers}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::vector$<${\bf Ptr}$<${\bf Dcf\+Manager}$>$ $>$ {\bf ns3\+::\+Mac\+Low\+::\+Dcf\+Managers}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a22c50ed96b7e6b6cebe789abf1ce006b}{}\label{classns3_1_1MacLow_a22c50ed96b7e6b6cebe789abf1ce006b}
typedef for a list of \hyperlink{classns3_1_1DcfManager}{Dcf\+Manager}. \index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Dcf\+Managers\+CI@{Dcf\+Managers\+CI}}
\index{Dcf\+Managers\+CI@{Dcf\+Managers\+CI}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Dcf\+Managers\+CI}{DcfManagersCI}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::vector$<${\bf Ptr}$<${\bf Dcf\+Manager}$>$ $>$\+::const\+\_\+iterator {\bf ns3\+::\+Mac\+Low\+::\+Dcf\+Managers\+CI}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_abf949b68f435e702d6d30c9a1515b35d}{}\label{classns3_1_1MacLow_abf949b68f435e702d6d30c9a1515b35d}
typedef for an iterator for a list of \hyperlink{classns3_1_1DcfManager}{Dcf\+Manager}. \index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Mac\+Low\+Rx\+Callback@{Mac\+Low\+Rx\+Callback}}
\index{Mac\+Low\+Rx\+Callback@{Mac\+Low\+Rx\+Callback}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Mac\+Low\+Rx\+Callback}{MacLowRxCallback}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Callback}$<$void, {\bf Ptr}$<${\bf Packet}$>$, const {\bf Wifi\+Mac\+Header}$\ast$$>$ {\bf ns3\+::\+Mac\+Low\+::\+Mac\+Low\+Rx\+Callback}}\hypertarget{classns3_1_1MacLow_a1b2eb70255904d5aad88c6a6adbf6224}{}\label{classns3_1_1MacLow_a1b2eb70255904d5aad88c6a6adbf6224}
typedef for a callback for Mac\+Low\+Rx \index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Queue\+Edcas@{Queue\+Edcas}}
\index{Queue\+Edcas@{Queue\+Edcas}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Queue\+Edcas}{QueueEdcas}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<${\bf Ac\+Index}, {\bf Ptr}$<${\bf Edca\+TxopN}$>$ $>$ {\bf ns3\+::\+Mac\+Low\+::\+Queue\+Edcas}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aa79c94ba0439ea9fc9d91dc65f48fd8a}{}\label{classns3_1_1MacLow_aa79c94ba0439ea9fc9d91dc65f48fd8a}


E\+D\+CA queues typedef. 



\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Mac\+Low@{Mac\+Low}}
\index{Mac\+Low@{Mac\+Low}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Mac\+Low()}{MacLow()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Mac\+Low\+::\+Mac\+Low (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a7deab25806e5aef977c36151acb116c5}{}\label{classns3_1_1MacLow_a7deab25806e5aef977c36151acb116c5}

\begin{DoxyCode}
262   : \hyperlink{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{m\_normalAckTimeoutEvent} (),
263     \hyperlink{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{m\_fastAckTimeoutEvent} (),
264     \hyperlink{classns3_1_1MacLow_ae2473406a32bcd2bd581a57da4683b18}{m\_superFastAckTimeoutEvent} (),
265     \hyperlink{classns3_1_1MacLow_af34b1f498e3b5a25a62fd4bf5f6f943a}{m\_fastAckFailedTimeoutEvent} (),
266     \hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\_blockAckTimeoutEvent} (),
267     \hyperlink{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}{m\_ctsTimeoutEvent} (),
268     \hyperlink{classns3_1_1MacLow_ade35698702b1353f2eff6b97653f8b0e}{m\_sendCtsEvent} (),
269     \hyperlink{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{m\_sendAckEvent} (),
270     \hyperlink{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}{m\_sendDataEvent} (),
271     \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent} (),
272     \hyperlink{classns3_1_1MacLow_a25990734c06d4df0d75276f52e103f8a}{m\_endTxNoAckEvent} (),
273     \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket} (0),
274     \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} (0),
275     \hyperlink{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}{m\_lastNavStart} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0)),
276     \hyperlink{classns3_1_1MacLow_a939a71bf7296a87bfc5bf2eb8b026b4b}{m\_lastNavDuration} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0)),
277     \hyperlink{classns3_1_1MacLow_ad13beb74b1519291ee00d14f1d532fdb}{m\_promisc} (\textcolor{keyword}{false}),
278     \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} (\textcolor{keyword}{false}),
279     \hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\_phyMacLowListener} (0),
280     \hyperlink{classns3_1_1MacLow_a3f4e1bf0128e68f6d2b708d66357ac5e}{m\_ctsToSelfSupported} (\textcolor{keyword}{false})
281 \{
282   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
283   \textcolor{keywordflow}{for} (uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 8; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
284     \{
285       \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = CreateObject<WifiMacQueue> ();
286     \}
287 \}
\end{DoxyCode}
\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!````~Mac\+Low@{$\sim$\+Mac\+Low}}
\index{````~Mac\+Low@{$\sim$\+Mac\+Low}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{$\sim$\+Mac\+Low()}{~MacLow()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Mac\+Low\+::$\sim$\+Mac\+Low (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1MacLow_ac9e686b5f1c0ed26829b8eff1f8e60d2}{}\label{classns3_1_1MacLow_ac9e686b5f1c0ed26829b8eff1f8e60d2}

\begin{DoxyCode}
290 \{
291   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
292 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Add\+Wifi\+Mac\+Trailer@{Add\+Wifi\+Mac\+Trailer}}
\index{Add\+Wifi\+Mac\+Trailer@{Add\+Wifi\+Mac\+Trailer}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Add\+Wifi\+Mac\+Trailer(\+Ptr$<$ Packet $>$ packet) const }{AddWifiMacTrailer(Ptr< Packet > packet) const }}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Add\+Wifi\+Mac\+Trailer (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{}\label{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}
Add F\+CS trailer to a packet.


\begin{DoxyParams}{Parameters}
{\em packet} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
3094 \{
3095   WifiMacTrailer fcs;
3096   packet->\hyperlink{classns3_1_1Packet_ae26b490c30ae5bc98be5181ec6e06db8}{AddTrailer} (fcs);
3097 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Aggregate\+To\+Ampdu@{Aggregate\+To\+Ampdu}}
\index{Aggregate\+To\+Ampdu@{Aggregate\+To\+Ampdu}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Aggregate\+To\+Ampdu(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header hdr)}{AggregateToAmpdu(Ptr< const Packet > packet, const WifiMacHeader hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Packet} $>$ ns3\+::\+Mac\+Low\+::\+Aggregate\+To\+Ampdu (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header}}]{hdr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a10d347ccf6a1e3868ee1470767ed38a6}{}\label{classns3_1_1MacLow_a10d347ccf6a1e3868ee1470767ed38a6}

\begin{DoxyParams}{Parameters}
{\em packet} & the packet to be aggregated. If the aggregation is succesfull, it corresponds either to the first data packet that will be aggregated or to the B\+AR that will be piggybacked at the end of the A-\/\+M\+P\+DU. \\
\hline
{\em hdr} & the \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} for the packet. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the A-\/\+M\+P\+DU packet if aggregation is successfull, the input packet otherwise
\end{DoxyReturn}
This function adds the packets that will be added to an A-\/\+M\+P\+DU to an aggregate queue \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000174}{Todo}]We should also handle Ack and Block\+Ack \end{DoxyRefDesc}

\begin{DoxyCode}
2699 \{
2700   \textcolor{keywordtype}{bool} isAmpdu = \textcolor{keyword}{false};
2701   Ptr<Packet> newPacket, tempPacket;
2702   WifiMacHeader peekedHdr;
2703   newPacket = packet->Copy ();
2704   Ptr<Packet> currentAggregatedPacket;
2705   CtrlBAckRequestHeader blockAckReq;
2706 
2707   \textcolor{keywordflow}{if} (hdr.IsBlockAckReq ())
2708     \{
2709       \textcolor{comment}{//Workaround to avoid BlockAckReq to be part of an A-MPDU. The standard says that}
2710       \textcolor{comment}{//BlockAckReq is not present in A-MPDU if any QoS data frames for that TID are present.}
2711       \textcolor{comment}{//Since an A-MPDU in non-PSMP frame exchanges aggregates MPDUs from one TID, this means}
2712       \textcolor{comment}{//we should stop aggregation here for single-TID A-MPDUs. Once PSMP and multi-TID A-MPDUs}
2713       \textcolor{comment}{//are supported, the condition of entering here should be changed.}
2714       \textcolor{keywordflow}{return} newPacket;
2715     \}
2716 
2717   \textcolor{comment}{//missing hdr.IsAck() since we have no means of knowing the Tid of the Ack yet}
2718   \textcolor{keywordflow}{if} (hdr.IsQosData () || hdr.IsBlockAck ()|| hdr.IsBlockAckReq ())
2719     \{
2720       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} tstamp;
2721       uint8\_t tid = \hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, hdr);
2722       Ptr<WifiMacQueue> queue;
2723       \hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{AcIndex} ac = \hyperlink{group__wifi_ga4e36efcff6dd83eaee42e1af0de43d48}{QosUtilsMapTidToAc} (tid);
2724       std::map<AcIndex, Ptr<EdcaTxopN> >::const\_iterator edcaIt = \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}.find (ac);
2725       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (edcaIt != \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}.end ());
2726       queue = edcaIt->second->GetQueue ();
2727 
2728       \textcolor{keywordflow}{if} (!hdr.GetAddr1 ().IsBroadcast () && edcaIt->second->GetMpduAggregator () != 0)
2729         \{
2730           \textcolor{comment}{//Have to make sure that their exist a block Ack agreement before sending an AMPDU (BlockAck
       Manager)}
2731           \textcolor{keywordflow}{if} (edcaIt->second->GetBaAgreementExists (hdr.GetAddr1 (), tid))
2732             \{
2733               \textcolor{comment}{/* here is performed mpdu aggregation */}
2734               \textcolor{comment}{/* MSDU aggregation happened in edca if the user asked for it so m\_currentPacket may contains
       a normal packet or a A-MSDU*/}
2735               currentAggregatedPacket = Create<Packet> ();
2736               peekedHdr = hdr;
2737               uint16\_t startingSequenceNumber = 0;
2738               uint16\_t currentSequenceNumber = 0;
2739               uint8\_t qosPolicy = 0;
2740               uint16\_t blockAckSize = 0;
2741               \textcolor{keywordtype}{bool} aggregated = \textcolor{keyword}{false};
2742               \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0;
2743               Ptr<Packet> aggPacket = newPacket->Copy ();
2744 
2745               \textcolor{keywordflow}{if} (!hdr.IsBlockAckReq ())
2746                 \{
2747                   \textcolor{keywordflow}{if} (!hdr.IsBlockAck ())
2748                     \{
2749                       startingSequenceNumber = peekedHdr.GetSequenceNumber ();
2750                       peekedHdr.SetQosAckPolicy (\hyperlink{classns3_1_1WifiMacHeader_ae3a382482f357972019f5e1b3162adc4a9f52b9c6ca65d046ce2be9d70bce28cf}{WifiMacHeader::NORMAL\_ACK});
2751                     \}
2752                   currentSequenceNumber = peekedHdr.GetSequenceNumber ();
2753                   newPacket->AddHeader (peekedHdr);
2754                   \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (newPacket);
2755 
2756                   aggregated = edcaIt->second->GetMpduAggregator ()->Aggregate (newPacket, 
      currentAggregatedPacket);
2757 
2758                   \textcolor{keywordflow}{if} (aggregated)
2759                     \{
2760                       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Adding packet with Sequence number "} << 
      currentSequenceNumber << \textcolor{stringliteral}{" to A-MPDU, packet size = "} << newPacket->GetSize () << \textcolor{stringliteral}{", A-MPDU size = "} << 
      currentAggregatedPacket->GetSize ());
2761                       i++;
2762                       \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[tid]->Enqueue (Create<WifiMacQueueItem> (aggPacket, 
      peekedHdr));
2763                     \}
2764                 \}
2765               \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.IsBlockAckReq ())
2766                 \{
2767                   blockAckSize = packet->GetSize () + hdr.GetSize () + 
      \hyperlink{namespacens3_a29f18a113e117817e22278a743437c08}{WIFI\_MAC\_FCS\_LENGTH};
2768                   qosPolicy = 3; \textcolor{comment}{//if the last subrame is block ack req then set ack policy of all frames
       to blockack}
2769                   packet->PeekHeader (blockAckReq);
2770                   startingSequenceNumber = blockAckReq.GetStartingSequence ();
2771                 \}
2773               \textcolor{keywordtype}{bool} retry = \textcolor{keyword}{false};
2774               \textcolor{comment}{//looks for other packets to the same destination with the same Tid need to extend that to
       include MSDUs}
2775               Ptr<const Packet> peekedPacket = edcaIt->second->PeekNextRetransmitPacket (peekedHdr, 
      peekedHdr.GetAddr1 (), tid, &tstamp);
2776               \textcolor{keywordflow}{if} (peekedPacket == 0)
2777                 \{
2778                   Ptr<const WifiMacQueueItem> item = queue->PeekByTidAndAddress (tid,
2779                                                                                  
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1},
2780                                                                                  hdr.GetAddr1 ());
2781                   \textcolor{keywordflow}{if} (item)
2782                     \{
2783                       peekedPacket = item->GetPacket ();
2784                       peekedHdr = item->GetHeader ();
2785                       tstamp = item->GetTimeStamp ();
2786                     \}
2787                   currentSequenceNumber = edcaIt->second->PeekNextSequenceNumberFor (&peekedHdr);
2788 
2789                   \textcolor{comment}{/* here is performed MSDU aggregation (two-level aggregation) */}
2790                   \textcolor{keywordflow}{if} (peekedPacket != 0 && edcaIt->second->GetMsduAggregator () != 0)
2791                     \{
2792                       tempPacket = \hyperlink{classns3_1_1MacLow_aabd112b43fd3be901c743b21d41f787f}{PerformMsduAggregation} (peekedPacket, &peekedHdr, 
      &tstamp, currentAggregatedPacket, blockAckSize);
2793                       \textcolor{keywordflow}{if} (tempPacket != 0)  \textcolor{comment}{//MSDU aggregation}
2794                         \{
2795                           peekedPacket = tempPacket->Copy ();
2796                         \}
2797                     \}
2798                 \}
2799               \textcolor{keywordflow}{else}
2800                 \{
2801                   retry = \textcolor{keyword}{true};
2802                   currentSequenceNumber = peekedHdr.GetSequenceNumber ();
2803                 \}
2804 
2805               \textcolor{keywordflow}{while} (\hyperlink{classns3_1_1MacLow_a442078ddeb869fa7e76f35f32e0533c2}{IsInWindow} (currentSequenceNumber, startingSequenceNumber, 64) && !
      \hyperlink{classns3_1_1MacLow_aead5c738f9be3650b2b55a1a307029db}{StopMpduAggregation} (peekedPacket, peekedHdr, currentAggregatedPacket, blockAckSize))
2806                 \{
2807                   \textcolor{comment}{//for now always send AMPDU with normal ACK}
2808                   \textcolor{keywordflow}{if} (retry == \textcolor{keyword}{false})
2809                     \{
2810                       currentSequenceNumber = edcaIt->second->GetNextSequenceNumberFor (&peekedHdr);
2811                       peekedHdr.SetSequenceNumber (currentSequenceNumber);
2812                       peekedHdr.SetFragmentNumber (0);
2813                       peekedHdr.SetNoMoreFragments ();
2814                       peekedHdr.SetNoRetry ();
2815                     \}
2816                   \textcolor{keywordflow}{if} (qosPolicy == 0)
2817                     \{
2818                       peekedHdr.SetQosAckPolicy (\hyperlink{classns3_1_1WifiMacHeader_ae3a382482f357972019f5e1b3162adc4a9f52b9c6ca65d046ce2be9d70bce28cf}{WifiMacHeader::NORMAL\_ACK});
2819                     \}
2820                   \textcolor{keywordflow}{else}
2821                     \{
2822                       peekedHdr.SetQosAckPolicy (\hyperlink{classns3_1_1WifiMacHeader_ae3a382482f357972019f5e1b3162adc4a8d2763ea0083f1265fbf7dda6fdcf9fd}{WifiMacHeader::BLOCK\_ACK});
2823                     \}
2824 
2825                   newPacket = peekedPacket->Copy ();
2826                   Ptr<Packet> aggPacket = newPacket->Copy ();
2827 
2828                   newPacket->AddHeader (peekedHdr);
2829                   \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (newPacket);
2830                   aggregated = edcaIt->second->GetMpduAggregator ()->Aggregate (newPacket, 
      currentAggregatedPacket);
2831                   \textcolor{keywordflow}{if} (aggregated)
2832                     \{
2833                       \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[tid]->Enqueue (Create<WifiMacQueueItem> (aggPacket, 
      peekedHdr));
2834                       \textcolor{keywordflow}{if} (i == 1 && hdr.IsQosData ())
2835                         \{
2836                           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a84f6c50f9cbd717e5191e178ae05b331}{MustSendRts} ())
2837                             \{
2838                               edcaIt->second->CompleteMpduTx (packet, hdr, tstamp);
2839                             \}
2840                           \textcolor{keywordflow}{else}
2841                             \{
2842                               \hyperlink{classns3_1_1MacLow_a4b03d2fed3abc0e1acc14b3b1ef808a1}{InsertInTxQueue} (packet, hdr, tstamp, tid);
2843                             \}
2844                         \}
2845                       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Adding packet with Sequence number "} << peekedHdr.
      GetSequenceNumber () << \textcolor{stringliteral}{" to A-MPDU, packet size = "} << newPacket->GetSize () << \textcolor{stringliteral}{", A-MPDU size = "} << 
      currentAggregatedPacket->GetSize ());
2846                       i++;
2847                       isAmpdu = \textcolor{keyword}{true};
2848                       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a84f6c50f9cbd717e5191e178ae05b331}{MustSendRts} ())
2849                         \{
2850                           edcaIt->second->CompleteMpduTx (peekedPacket, peekedHdr, tstamp);
2851                         \}
2852                       \textcolor{keywordflow}{else}
2853                         \{
2854                           \hyperlink{classns3_1_1MacLow_a4b03d2fed3abc0e1acc14b3b1ef808a1}{InsertInTxQueue} (peekedPacket, peekedHdr, tstamp, tid);
2855                         \}
2856                       \textcolor{keywordflow}{if} (retry)
2857                         \{
2858                           edcaIt->second->RemoveRetransmitPacket (tid, hdr.GetAddr1 (), peekedHdr.
      GetSequenceNumber ());
2859                         \}
2860                       \textcolor{keywordflow}{else}
2861                         \{
2862                           queue->Remove (peekedPacket);
2863                         \}
2864                       newPacket = 0;
2865                     \}
2866                   \textcolor{keywordflow}{else}
2867                     \{
2868                       \textcolor{keywordflow}{break};
2869                     \}
2870                   \textcolor{keywordflow}{if} (retry == \textcolor{keyword}{true})
2871                     \{
2872                       peekedPacket = edcaIt->second->PeekNextRetransmitPacket (peekedHdr, hdr.GetAddr1 (), 
      tid, &tstamp);
2873                       \textcolor{keywordflow}{if} (peekedPacket == 0)
2874                         \{
2875                           \textcolor{comment}{//I reached the first packet that I added to this A-MPDU}
2876                           retry = \textcolor{keyword}{false};
2877                           Ptr<const WifiMacQueueItem> item = queue->PeekByTidAndAddress (tid,
2878                                                                                          
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1},
2879                                                                                          hdr.GetAddr1 ());
2880                           \textcolor{keywordflow}{if} (item != 0)
2881                             \{
2882                               peekedPacket = item->GetPacket ();
2883                               peekedHdr = item->GetHeader ();
2884                               tstamp = item->GetTimeStamp ();
2885                               \textcolor{comment}{//find what will the sequence number be so that we don't send more than 64
       packets apart}
2886                               currentSequenceNumber = edcaIt->second->PeekNextSequenceNumberFor (&peekedHdr
      );
2887 
2888                               \textcolor{keywordflow}{if} (edcaIt->second->GetMsduAggregator () != 0)
2889                                 \{
2890                                   tempPacket = \hyperlink{classns3_1_1MacLow_aabd112b43fd3be901c743b21d41f787f}{PerformMsduAggregation} (peekedPacket, 
      &peekedHdr, &tstamp, currentAggregatedPacket, blockAckSize);
2891                                   \textcolor{keywordflow}{if} (tempPacket != 0) \textcolor{comment}{//MSDU aggregation}
2892                                     \{
2893                                       peekedPacket = tempPacket->Copy ();
2894                                     \}
2895                                 \}
2896                             \}
2897                         \}
2898                       \textcolor{keywordflow}{else}
2899                         \{
2900                           currentSequenceNumber = peekedHdr.GetSequenceNumber ();
2901                         \}
2902                     \}
2903                   \textcolor{keywordflow}{else}
2904                     \{
2905                       Ptr<const WifiMacQueueItem> item = queue->PeekByTidAndAddress (tid,
2906                                                                  
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1}, hdr.GetAddr1 ());
2907                       \textcolor{keywordflow}{if} (item != 0)
2908                         \{
2909                           peekedPacket = item->GetPacket ();
2910                           peekedHdr = item->GetHeader ();
2911                           tstamp = item->GetTimeStamp ();
2912                           \textcolor{comment}{//find what will the sequence number be so that we don't send more than 64
       packets apart}
2913                           currentSequenceNumber = edcaIt->second->PeekNextSequenceNumberFor (&peekedHdr);
2914 
2915                           \textcolor{keywordflow}{if} (edcaIt->second->GetMsduAggregator () != 0 && 
      \hyperlink{classns3_1_1MacLow_a442078ddeb869fa7e76f35f32e0533c2}{IsInWindow} (currentSequenceNumber, startingSequenceNumber, 64))
2916                             \{
2917                               tempPacket = \hyperlink{classns3_1_1MacLow_aabd112b43fd3be901c743b21d41f787f}{PerformMsduAggregation} (peekedPacket, &
      peekedHdr, &tstamp, currentAggregatedPacket, blockAckSize);
2918                               \textcolor{keywordflow}{if} (tempPacket != 0) \textcolor{comment}{//MSDU aggregation}
2919                                 \{
2920                                   peekedPacket = tempPacket->Copy ();
2921                                 \}
2922                             \}
2923                         \}
2924                       \textcolor{keywordflow}{else}
2925                         \{
2926                           peekedPacket = 0;
2927                         \}
2928                     \}
2929                 \}
2930 
2931               \textcolor{keywordflow}{if} (isAmpdu)
2932                 \{
2933                   \textcolor{keywordflow}{if} (hdr.IsBlockAckReq ())
2934                     \{
2935                       newPacket = packet->Copy ();
2936                       peekedHdr = hdr;
2937                       Ptr<Packet> aggPacket = newPacket->Copy ();
2938                       \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[tid]->Enqueue (Create<WifiMacQueueItem> (aggPacket, 
      peekedHdr));
2939                       newPacket->AddHeader (peekedHdr);
2940                       \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (newPacket);
2941                       edcaIt->second->GetMpduAggregator ()->Aggregate (newPacket, currentAggregatedPacket);
2942                       currentAggregatedPacket->AddHeader (blockAckReq);
2943                     \}
2944 
2945                   \textcolor{keywordflow}{if} (qosPolicy == 0)
2946                     \{
2947                       edcaIt->second->CompleteAmpduTransfer (hdr.GetAddr1 (), tid);
2948                     \}
2949 
2950                   \textcolor{comment}{//Add packet tag}
2951                   AmpduTag ampdutag;
2952                   ampdutag.SetAmpdu (\textcolor{keyword}{true});
2953                   ampdutag.SetRemainingNbOfMpdus (i - 1);
2954                   newPacket = currentAggregatedPacket;
2955                   newPacket->AddPacketTag (ampdutag);
2956 
2957                   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"tx unicast A-MPDU"});
2958                   edcaIt->second->SetAmpduExist (hdr.GetAddr1 (), \textcolor{keyword}{true});
2959                 \}
2960               \textcolor{keywordflow}{else}
2961                 \{
2962                   uint8\_t queueSize = \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[tid]->GetNPackets ();
2963                   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (queueSize <= 2); \textcolor{comment}{//since it is not an A-MPDU then only 2 packets
       should have been added to the queue no more}
2964                   \textcolor{keywordflow}{if} (queueSize >= 1)
2965                     \{
2966                       \textcolor{comment}{//remove any packets that we added to the aggregate queue}
2967                       \hyperlink{classns3_1_1MacLow_ab143d3691846b2638a6f089c96169ee2}{FlushAggregateQueue} (tid);
2968                     \}
2969                 \}
2970             \}
2971           \textcolor{comment}{// VHT/HE single MPDU operation}
2972           WifiTxVector dataTxVector = \hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{GetDataTxVector} (
      \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
2973           \textcolor{keywordflow}{if} (!isAmpdu
2974               && hdr.IsQosData ()
2975               && (dataTxVector.GetMode ().GetModulationClass () == 
      \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a9863e4342bf5c238c74dddfc4d96c67e}{WIFI\_MOD\_CLASS\_VHT}
2976                   || dataTxVector.GetMode ().GetModulationClass () == 
      \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217abfa4f7272510045a9b43e8ac27ac13b0}{WIFI\_MOD\_CLASS\_HE}))
2977             \{
2978               peekedHdr = hdr;
2979               peekedHdr.SetQosAckPolicy (\hyperlink{classns3_1_1WifiMacHeader_ae3a382482f357972019f5e1b3162adc4a9f52b9c6ca65d046ce2be9d70bce28cf}{WifiMacHeader::NORMAL\_ACK});
2980 
2981               currentAggregatedPacket = Create<Packet> ();
2982               edcaIt->second->GetMpduAggregator ()->AggregateSingleMpdu (packet, currentAggregatedPacket);
2983               \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[tid]->Enqueue (Create<WifiMacQueueItem> (packet, peekedHdr))
      ;
2984 
2985               \textcolor{keywordflow}{if} (edcaIt->second->GetBaAgreementExists (hdr.GetAddr1 (), tid))
2986                 \{
2987                   edcaIt->second->CompleteAmpduTransfer (peekedHdr.GetAddr1 (), tid);
2988                 \}
2989 
2990               \textcolor{comment}{//Add packet tag}
2991               AmpduTag ampdutag;
2992               ampdutag.SetAmpdu (\textcolor{keyword}{true});
2993               newPacket = currentAggregatedPacket;
2994               newPacket->AddHeader (peekedHdr);
2995               \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (newPacket);
2996               newPacket->AddPacketTag (ampdutag);
2997 
2998               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"tx unicast S-MPDU with sequence number "} << hdr.GetSequenceNumber 
      ());
2999               edcaIt->second->SetAmpduExist (hdr.GetAddr1 (), \textcolor{keyword}{true});
3000             \}
3001         \}
3002     \}
3003   \textcolor{keywordflow}{return} newPacket;
3004 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Block\+Ack\+Timeout@{Block\+Ack\+Timeout}}
\index{Block\+Ack\+Timeout@{Block\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Block\+Ack\+Timeout(void)}{BlockAckTimeout(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Block\+Ack\+Timeout (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ace1131b4f6ea4f1d74a7c0ba470c84ac}{}\label{classns3_1_1MacLow_ace1131b4f6ea4f1d74a7c0ba470c84ac}
Event handler when block A\+CK timeout occurs. 
\begin{DoxyCode}
1654 \{
1655   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1656   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"block ack timeout"});
1657   Ptr<DcaTxop> dca = \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca};
1658   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = 0;
1659   \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} = \textcolor{keyword}{false};
1660   uint8\_t tid = \hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
1661   uint8\_t nTxMpdus = \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[tid]->GetNPackets ();
1662   \hyperlink{classns3_1_1MacLow_ab143d3691846b2638a6f089c96169ee2}{FlushAggregateQueue} (tid);
1663   dca->MissedBlockAck (nTxMpdus);
1664 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Calculate\+Overall\+Tx\+Fragment\+Time@{Calculate\+Overall\+Tx\+Fragment\+Time}}
\index{Calculate\+Overall\+Tx\+Fragment\+Time@{Calculate\+Overall\+Tx\+Fragment\+Time}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Calculate\+Overall\+Tx\+Fragment\+Time(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header $\ast$hdr, const Mac\+Low\+Transmission\+Parameters \&params, uint32\+\_\+t fragment\+Size) const }{CalculateOverallTxFragmentTime(Ptr< const Packet > packet, const WifiMacHeader *hdr, const MacLowTransmissionParameters &params, uint32_t fragmentSize) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Calculate\+Overall\+Tx\+Fragment\+Time (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr, }
\item[{const {\bf Mac\+Low\+Transmission\+Parameters} \&}]{params, }
\item[{uint32\+\_\+t}]{fragment\+Size}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a9d374976855269a4ee89e2369afff3d0}{}\label{classns3_1_1MacLow_a9d374976855269a4ee89e2369afff3d0}

\begin{DoxyParams}{Parameters}
{\em packet} & to send (does not include the 802.\+11 M\+AC header and checksum) \\
\hline
{\em hdr} & header associated to the packet to send. \\
\hline
{\em params} & transmission parameters of packet. \\
\hline
{\em fragment\+Size} & the packet fragment size \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the transmission time that includes the time for the next packet transmission
\end{DoxyReturn}
This transmission time includes the time required for the next packet fragment transmission if one was selected. 
\begin{DoxyCode}
1335 \{
1336   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
1337   \textcolor{keywordflow}{if} (params.MustSendRts ())
1338     \{
1339       WifiTxVector rtsTxVector = \hyperlink{classns3_1_1MacLow_ac6133f8084d7d290687da468665e36a0}{GetRtsTxVector} (packet, hdr);
1340       txTime += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (\hyperlink{classns3_1_1MacLow_a2eca2a2e6be1438bedbe85034acf5a2c}{GetRtsSize} (), rtsTxVector, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1341       txTime += \hyperlink{classns3_1_1MacLow_a51008d8954b33afd5ec805cda1a3c297}{GetCtsDuration} (hdr->GetAddr1 (), rtsTxVector);
1342       txTime += \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} (\hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} () * 2);
1343     \}
1344   WifiTxVector dataTxVector = \hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{GetDataTxVector} (packet, hdr);
1345   Ptr<const Packet> fragment = Create<Packet> (fragmentSize);
1346   uint32\_t dataSize = \hyperlink{classns3_1_1MacLow_a19511f9a1fc507cab3e16c85d2249f7e}{GetSize} (fragment, hdr);
1347   txTime += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (dataSize, dataTxVector, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1348   txTime += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1349   \textcolor{keywordflow}{if} (params.MustWaitAck ())
1350     \{
1351       txTime += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (hdr->GetAddr1 (), dataTxVector);
1352     \}
1353   \textcolor{keywordflow}{return} txTime;
1354 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8




Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Calculate\+Overall\+Tx\+Time@{Calculate\+Overall\+Tx\+Time}}
\index{Calculate\+Overall\+Tx\+Time@{Calculate\+Overall\+Tx\+Time}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Calculate\+Overall\+Tx\+Time(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header $\ast$hdr, const Mac\+Low\+Transmission\+Parameters \&params) const }{CalculateOverallTxTime(Ptr< const Packet > packet, const WifiMacHeader *hdr, const MacLowTransmissionParameters &params) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Calculate\+Overall\+Tx\+Time (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr, }
\item[{const {\bf Mac\+Low\+Transmission\+Parameters} \&}]{params}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a8fa9fc428371d4fc899d114d67a6f895}{}\label{classns3_1_1MacLow_a8fa9fc428371d4fc899d114d67a6f895}

\begin{DoxyParams}{Parameters}
{\em packet} & to send (does not include the 802.\+11 M\+AC header and checksum) \\
\hline
{\em hdr} & header associated to the packet to send. \\
\hline
{\em params} & transmission parameters of packet. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the transmission time that includes the time for the next packet transmission
\end{DoxyReturn}
This transmission time includes the time required for the next packet transmission if one was selected. 
\begin{DoxyCode}
1310 \{
1311   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txTime = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
1312   \textcolor{keywordflow}{if} (params.MustSendRts ())
1313     \{
1314       WifiTxVector rtsTxVector = \hyperlink{classns3_1_1MacLow_ac6133f8084d7d290687da468665e36a0}{GetRtsTxVector} (packet, hdr);
1315       txTime += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (\hyperlink{classns3_1_1MacLow_a2eca2a2e6be1438bedbe85034acf5a2c}{GetRtsSize} (), rtsTxVector, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1316       txTime += \hyperlink{classns3_1_1MacLow_a51008d8954b33afd5ec805cda1a3c297}{GetCtsDuration} (hdr->GetAddr1 (), rtsTxVector);
1317       txTime += \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} (\hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} () * 2);
1318     \}
1319   WifiTxVector dataTxVector = \hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{GetDataTxVector} (packet, hdr);
1320   uint32\_t dataSize = \hyperlink{classns3_1_1MacLow_a19511f9a1fc507cab3e16c85d2249f7e}{GetSize} (packet, hdr);
1321   txTime += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (dataSize, dataTxVector, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1322   txTime += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1323   \textcolor{keywordflow}{if} (params.MustWaitAck ())
1324     \{
1325       txTime += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (hdr->GetAddr1 (), dataTxVector);
1326     \}
1327   \textcolor{keywordflow}{return} txTime;
1328 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Calculate\+Transmission\+Time@{Calculate\+Transmission\+Time}}
\index{Calculate\+Transmission\+Time@{Calculate\+Transmission\+Time}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Calculate\+Transmission\+Time(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header $\ast$hdr, const Mac\+Low\+Transmission\+Parameters \&parameters) const }{CalculateTransmissionTime(Ptr< const Packet > packet, const WifiMacHeader *hdr, const MacLowTransmissionParameters &parameters) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Calculate\+Transmission\+Time (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr, }
\item[{const {\bf Mac\+Low\+Transmission\+Parameters} \&}]{parameters}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a7773963a988ffddaa862246e1798b2d1}{}\label{classns3_1_1MacLow_a7773963a988ffddaa862246e1798b2d1}

\begin{DoxyParams}{Parameters}
{\em packet} & to send (does not include the 802.\+11 M\+AC header and checksum) \\
\hline
{\em hdr} & header associated to the packet to send. \\
\hline
{\em parameters} & transmission parameters of packet. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the transmission time that includes the time for the next packet transmission
\end{DoxyReturn}
This transmission time includes the time required for the next packet transmission if one was selected. 
\begin{DoxyCode}
1360 \{
1361   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txTime = \hyperlink{classns3_1_1MacLow_a8fa9fc428371d4fc899d114d67a6f895}{CalculateOverallTxTime} (packet, hdr, params);
1362   \textcolor{keywordflow}{if} (params.HasNextPacket ())
1363     \{
1364       WifiTxVector dataTxVector = \hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{GetDataTxVector} (packet, hdr);
1365       txTime += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1366       txTime += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (params.GetNextPacketSize (), 
      dataTxVector, \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1367     \}
1368   \textcolor{keywordflow}{return} txTime;
1369 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12




Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Cancel\+All\+Events@{Cancel\+All\+Events}}
\index{Cancel\+All\+Events@{Cancel\+All\+Events}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Cancel\+All\+Events(void)}{CancelAllEvents(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Cancel\+All\+Events (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_afecf8a67fd2052dc23f94e77b9768d6b}{}\label{classns3_1_1MacLow_afecf8a67fd2052dc23f94e77b9768d6b}
Cancel all scheduled events. Called before beginning a transmission or switching channel. 
\begin{DoxyCode}
355 \{
356   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
357   \textcolor{keywordtype}{bool} oneRunning = \textcolor{keyword}{false};
358   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{m\_normalAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
359     \{
360       \hyperlink{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{m\_normalAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
361       oneRunning = \textcolor{keyword}{true};
362     \}
363   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{m\_fastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
364     \{
365       \hyperlink{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{m\_fastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
366       oneRunning = \textcolor{keyword}{true};
367     \}
368   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_ae2473406a32bcd2bd581a57da4683b18}{m\_superFastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
369     \{
370       \hyperlink{classns3_1_1MacLow_ae2473406a32bcd2bd581a57da4683b18}{m\_superFastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
371       oneRunning = \textcolor{keyword}{true};
372     \}
373   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_af34b1f498e3b5a25a62fd4bf5f6f943a}{m\_fastAckFailedTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
374     \{
375       \hyperlink{classns3_1_1MacLow_af34b1f498e3b5a25a62fd4bf5f6f943a}{m\_fastAckFailedTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
376       oneRunning = \textcolor{keyword}{true};
377     \}
378   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\_blockAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
379     \{
380       \hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\_blockAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
381       oneRunning = \textcolor{keyword}{true};
382     \}
383   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}{m\_ctsTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
384     \{
385       \hyperlink{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}{m\_ctsTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
386       oneRunning = \textcolor{keyword}{true};
387     \}
388   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_ade35698702b1353f2eff6b97653f8b0e}{m\_sendCtsEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
389     \{
390       \hyperlink{classns3_1_1MacLow_ade35698702b1353f2eff6b97653f8b0e}{m\_sendCtsEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
391       oneRunning = \textcolor{keyword}{true};
392     \}
393   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{m\_sendAckEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
394     \{
395       \hyperlink{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{m\_sendAckEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
396       oneRunning = \textcolor{keyword}{true};
397     \}
398   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}{m\_sendDataEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
399     \{
400       \hyperlink{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}{m\_sendDataEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
401       oneRunning = \textcolor{keyword}{true};
402     \}
403   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
404     \{
405       \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
406       oneRunning = \textcolor{keyword}{true};
407     \}
408   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a25990734c06d4df0d75276f52e103f8a}{m\_endTxNoAckEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
409     \{
410       \hyperlink{classns3_1_1MacLow_a25990734c06d4df0d75276f52e103f8a}{m\_endTxNoAckEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
411       oneRunning = \textcolor{keyword}{true};
412     \}
413   \textcolor{keywordflow}{if} (oneRunning && \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} != 0)
414     \{
415       \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca}->Cancel ();
416       \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = 0;
417     \}
418 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Create\+Block\+Ack\+Agreement@{Create\+Block\+Ack\+Agreement}}
\index{Create\+Block\+Ack\+Agreement@{Create\+Block\+Ack\+Agreement}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Create\+Block\+Ack\+Agreement(const Mgt\+Add\+Ba\+Response\+Header $\ast$resp\+Hdr, Mac48\+Address originator, uint16\+\_\+t starting\+Seq)}{CreateBlockAckAgreement(const MgtAddBaResponseHeader *respHdr, Mac48Address originator, uint16_t startingSeq)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Create\+Block\+Ack\+Agreement (
\begin{DoxyParamCaption}
\item[{const {\bf Mgt\+Add\+Ba\+Response\+Header} $\ast$}]{resp\+Hdr, }
\item[{{\bf Mac48\+Address}}]{originator, }
\item[{uint16\+\_\+t}]{starting\+Seq}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_ab70f7f727b5f9e1e1357a73e29ba7f82}{}\label{classns3_1_1MacLow_ab70f7f727b5f9e1e1357a73e29ba7f82}

\begin{DoxyParams}{Parameters}
{\em resp\+Hdr} & Add block ack response from originator (action frame). \\
\hline
{\em originator} & \hyperlink{classns3_1_1Address}{Address} of peer station involved in block ack mechanism. \\
\hline
{\em starting\+Seq} & Sequence number of the first M\+P\+DU of all packets for which block ack was negotiated.\\
\hline
\end{DoxyParams}
This function is typically invoked only by \hyperlink{classns3_1_1RegularWifiMac}{ns3\+::\+Regular\+Wifi\+Mac} when the S\+TA (which may be non-\/\+AP in E\+SS, or in an I\+B\+SS) has received an A\+D\+D\+BA Request frame and is transmitting an A\+D\+D\+BA Response frame. At this point \hyperlink{classns3_1_1MacLow}{Mac\+Low} must allocate buffers to collect all correctly received packets belonging to the category for which Block Ack was negotiated. 
\begin{DoxyCode}
2248 \{
2249   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2250   uint8\_t tid = respHdr->GetTid ();
2251   BlockAckAgreement agreement (originator, tid);
2252   \textcolor{keywordflow}{if} (respHdr->IsImmediateBlockAck ())
2253     \{
2254       agreement.SetImmediateBlockAck ();
2255     \}
2256   \textcolor{keywordflow}{else}
2257     \{
2258       agreement.SetDelayedBlockAck ();
2259     \}
2260   agreement.SetAmsduSupport (respHdr->IsAmsduSupported ());
2261   agreement.SetBufferSize (respHdr->GetBufferSize () + 1);
2262   agreement.SetTimeout (respHdr->GetTimeout ());
2263   agreement.SetStartingSequence (startingSeq);
2264 
2265   std::list<BufferedPacket> buffer (0);
2266   \hyperlink{classns3_1_1MacLow_a8d666357756bbc5ea2d1b7fac3a5e938}{AgreementKey} key (originator, respHdr->GetTid ());
2267   \hyperlink{classns3_1_1MacLow_a68fcd01fab733ead22d9655640258a6a}{AgreementValue} value (agreement, buffer);
2268   \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.insert (std::make\_pair (key, value));
2269 
2270   BlockAckCache cache;
2271   cache.Init (startingSeq, respHdr->GetBufferSize () + 1);
2272   \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.insert (std::make\_pair (key, cache));
2273 
2274   \textcolor{keywordflow}{if} (respHdr->GetTimeout () != 0)
2275     \{
2276       \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (originator, 
      respHdr->GetTid ()));
2277       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} \hyperlink{openflow-switch_8cc_a386d174ae121d1cfa279074b7e209714}{timeout} = \hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (1024 * agreement.GetTimeout ());
2278 
2279       \hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{AcIndex} ac = \hyperlink{group__wifi_ga4e36efcff6dd83eaee42e1af0de43d48}{QosUtilsMapTidToAc} (agreement.GetTid ());
2280 
2281       it->second.first.m\_inactivityEvent = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (timeout,
2282                                                                 &
      \hyperlink{classns3_1_1EdcaTxopN_a3a14d846328f0d5447f44d7c2f3c607e}{EdcaTxopN::SendDelbaFrame},
2283                                                                 \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}[ac], originator, tid, \textcolor{keyword}{false});
2284     \}
2285 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 16




Here is the caller graph for this function\+:
% FIG 17


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Cts\+Timeout@{Cts\+Timeout}}
\index{Cts\+Timeout@{Cts\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Cts\+Timeout(void)}{CtsTimeout(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Cts\+Timeout (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a35adb9b4c7f1035da2cb080289ba9cf7}{}\label{classns3_1_1MacLow_a35adb9b4c7f1035da2cb080289ba9cf7}
Event handler when C\+TS timeout occurs. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000172}{Todo}]should check that there was no rx start before now. we should restart a new cts timeout now until the expected end of rx if there was a rx start before now. \end{DoxyRefDesc}

\begin{DoxyCode}
1602 \{
1603   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1604   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"cts timeout"});
1608   \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ad3844da681fd76f907293f5ff45187ec}{ReportRtsFailed} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
1609   Ptr<DcaTxop> dca = \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca};
1610   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = 0;
1611   \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} = \textcolor{keyword}{false};
1612   dca->MissedCts ();
1613 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 18




Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Deaggregate\+Ampdu\+And\+Receive@{Deaggregate\+Ampdu\+And\+Receive}}
\index{Deaggregate\+Ampdu\+And\+Receive@{Deaggregate\+Ampdu\+And\+Receive}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Deaggregate\+Ampdu\+And\+Receive(\+Ptr$<$ Packet $>$ aggregated\+Packet, double rx\+Snr, Wifi\+Tx\+Vector tx\+Vector)}{DeaggregateAmpduAndReceive(Ptr< Packet > aggregatedPacket, double rxSnr, WifiTxVector txVector)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Deaggregate\+Ampdu\+And\+Receive (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{aggregated\+Packet, }
\item[{double}]{rx\+Snr, }
\item[{{\bf Wifi\+Tx\+Vector}}]{tx\+Vector}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a7380c5a3adcd88beda938bfa8447d7c5}{}\label{classns3_1_1MacLow_a7380c5a3adcd88beda938bfa8447d7c5}

\begin{DoxyParams}{Parameters}
{\em aggregated\+Packet} & which is the current A-\/\+M\+P\+DU \\
\hline
{\em rx\+Snr} & snr of packet received \\
\hline
{\em tx\+Vector} & T\+X\+V\+E\+C\+T\+OR of packet received\\
\hline
\end{DoxyParams}
This function de-\/aggregates an A-\/\+M\+P\+DU and decide if each M\+P\+DU is received correctly or not 
\begin{DoxyCode}
2574 \{
2575   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2576   AmpduTag ampdu;
2577   \textcolor{keywordtype}{bool} normalAck = \textcolor{keyword}{false};
2578   \textcolor{keywordtype}{bool} ampduSubframe = \textcolor{keyword}{false}; \textcolor{comment}{//flag indicating the packet belongs to an A-MPDU and is not a VHT/HE single
       MPDU}
2579   \textcolor{keywordflow}{if} (aggregatedPacket->\hyperlink{classns3_1_1Packet_a078fe922d976a417ab25ba2f3c2fd667}{RemovePacketTag} (ampdu))
2580     \{
2581       ampduSubframe = \textcolor{keyword}{true};
2582       \hyperlink{classns3_1_1MpduAggregator_a09f3b03cb988045c381fad4ba4dce371}{MpduAggregator::DeaggregatedMpdus} packets = 
      \hyperlink{classns3_1_1MpduAggregator_a4c5daf1c185ea5e4b82ea028327ba202}{MpduAggregator::Deaggregate} (aggregatedPacket);
2583       \hyperlink{classns3_1_1MpduAggregator_a14d8750e18f3104d3c87930f3bcb10a3}{MpduAggregator::DeaggregatedMpdusCI} \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} = packets.begin ();
2584 
2585       WifiMacHeader firsthdr;
2586       (*n).first->PeekHeader (firsthdr);
2587       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"duration/id="} << firsthdr.GetDuration ());
2588       \hyperlink{group__wifi_ga5e94a56cb338a14ffbbb19c6a41251eb}{WifiPreamble} preamble = txVector.GetPreambleType ();
2589       \hyperlink{classns3_1_1MacLow_a6ff5bbb311cf902d961bf6871f2929d0}{NotifyNav} ((*n).first, firsthdr, preamble);
2590 
2591       \textcolor{keywordflow}{if} (firsthdr.GetAddr1 () == \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self})
2592         \{
2593           \textcolor{keywordtype}{bool} singleMpdu = (*n).second.GetEof ();
2594           \textcolor{keywordflow}{if} (singleMpdu)
2595             \{
2596               \textcolor{comment}{//If the MPDU is sent as a VHT/HE single MPDU (EOF=1 in A-MPDU subframe header), then the
       responder sends an ACK.}
2597               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Receive S-MPDU"});
2598               ampduSubframe = \textcolor{keyword}{false};
2599             \}
2600           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (preamble != \hyperlink{group__wifi_gga5e94a56cb338a14ffbbb19c6a41251eba97c5c71995de5f28931200e6d5a38a66}{WIFI\_PREAMBLE\_NONE} || !
      \hyperlink{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{m\_sendAckEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
2601             \{
2602               \hyperlink{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{m\_sendAckEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (ampdu.
      GetRemainingAmpduDuration () + \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} (),
2603                                                     &
      \hyperlink{classns3_1_1MacLow_af6e2acc771d188c0959871f142912296}{MacLow::SendBlockAckAfterAmpdu}, \textcolor{keyword}{this},
2604                                                     firsthdr.GetQosTid (),
2605                                                     firsthdr.GetAddr2 (),
2606                                                     firsthdr.GetDuration (),
2607                                                     txVector,
2608                                                     rxSnr);
2609             \}
2610 
2611           \textcolor{keywordflow}{if} (firsthdr.IsAck () || firsthdr.IsBlockAck () || firsthdr.IsBlockAckReq ())
2612             \{
2613               \hyperlink{classns3_1_1MacLow_ade59e3a5e41c6ccbafd93501d7e9fbc0}{ReceiveOk} ((*n).first, rxSnr, txVector, ampduSubframe);
2614             \}
2615           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (firsthdr.IsData () || firsthdr.IsQosData ())
2616             \{
2617               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Deaggregate packet from "} << firsthdr.GetAddr2 () << \textcolor{stringliteral}{" with
       sequence="} << firsthdr.GetSequenceNumber ());
2618               \hyperlink{classns3_1_1MacLow_ade59e3a5e41c6ccbafd93501d7e9fbc0}{ReceiveOk} ((*n).first, rxSnr, txVector, ampduSubframe);
2619               \textcolor{keywordflow}{if} (firsthdr.IsQosAck ())
2620                 \{
2621                   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Normal Ack"});
2622                   normalAck = \textcolor{keyword}{true};
2623                 \}
2624             \}
2625           \textcolor{keywordflow}{else}
2626             \{
2627               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Received A-MPDU with invalid first MPDU type"});
2628             \}
2629 
2630           \textcolor{keywordflow}{if} (ampdu.GetRemainingNbOfMpdus () == 0 && !singleMpdu)
2631             \{
2632               \textcolor{keywordflow}{if} (normalAck)
2633                 \{
2634                   \textcolor{comment}{//send block Ack}
2635                   \textcolor{keywordflow}{if} (firsthdr.IsBlockAckReq ())
2636                     \{
2637                       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Sending a BlockAckReq with QosPolicy equal to Normal
       Ack"});
2638                     \}
2639                   uint8\_t tid = firsthdr.GetQosTid ();
2640                   \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (
      firsthdr.GetAddr2 (), tid));
2641                   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.end ())
2642                     \{
2643                       \textcolor{comment}{/* See section 11.5.3 in IEEE 802.11 for mean of this timer */}
2644                       \hyperlink{classns3_1_1MacLow_aafa012c5d2dde80484d6546c802f02f8}{ResetBlockAckInactivityTimerIfNeeded} (it->second.
      first);
2645                       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx A-MPDU/sendImmediateBlockAck from="} << firsthdr.
      GetAddr2 ());
2646                       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{m\_sendAckEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ());
2647                     \}
2648                   \textcolor{keywordflow}{else}
2649                     \{
2650                       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"There's not a valid agreement for this block ack request."}
      );
2651                     \}
2652                 \}
2653             \}
2654         \}
2655     \}
2656   \textcolor{keywordflow}{else}
2657     \{
2658       \hyperlink{classns3_1_1MacLow_ade59e3a5e41c6ccbafd93501d7e9fbc0}{ReceiveOk} (aggregatedPacket, rxSnr, txVector, ampduSubframe);
2659     \}
2660 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 20




Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Destroy\+Block\+Ack\+Agreement@{Destroy\+Block\+Ack\+Agreement}}
\index{Destroy\+Block\+Ack\+Agreement@{Destroy\+Block\+Ack\+Agreement}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Destroy\+Block\+Ack\+Agreement(\+Mac48\+Address originator, uint8\+\_\+t tid)}{DestroyBlockAckAgreement(Mac48Address originator, uint8_t tid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Destroy\+Block\+Ack\+Agreement (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{originator, }
\item[{uint8\+\_\+t}]{tid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_ada8f9b5da9cbfb2a63b1d740ab88216d}{}\label{classns3_1_1MacLow_ada8f9b5da9cbfb2a63b1d740ab88216d}

\begin{DoxyParams}{Parameters}
{\em originator} & \hyperlink{classns3_1_1Address}{Address} of peer participating in Block Ack mechanism. \\
\hline
{\em tid} & T\+ID for which Block Ack was created.\\
\hline
\end{DoxyParams}
Checks if exists an established block ack agreement with {\itshape originator} for tid {\itshape tid}. If the agreement exists, tears down it. This function is typically invoked when a D\+E\+L\+BA frame is received from {\itshape originator}. 
\begin{DoxyCode}
2289 \{
2290   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2291   \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (originator, tid));
2292   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.end ())
2293     \{
2294       \hyperlink{classns3_1_1MacLow_aaed81a6cbf94baf2b2f17b9f96b8474d}{RxCompleteBufferedPacketsWithSmallerSequence} (it->second.
      first.GetStartingSequenceControl (), originator, tid);
2295       \hyperlink{classns3_1_1MacLow_aeadf392d37d323fb81f0ef0766f2359a}{RxCompleteBufferedPacketsUntilFirstLost} (originator, tid);
2296       \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.erase (it);
2297 
2298       \hyperlink{classns3_1_1MacLow_ae0b0abf84b6078031fabd4e85e1cb1bf}{BlockAckCachesI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.find (std::make\_pair (originator, tid));
2299       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (i != \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.end ());
2300       \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.erase (i);
2301     \}
2302 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 22




Here is the caller graph for this function\+:
% FIG 23


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1MacLow_a5b5f194e54b33b969b9cf8a05728d9fe}{}\label{classns3_1_1MacLow_a5b5f194e54b33b969b9cf8a05728d9fe}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1MacLow_a5b5f194e54b33b969b9cf8a05728d9fe}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
326 \{
327   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
328   \hyperlink{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{m\_normalAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
329   \hyperlink{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{m\_fastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
330   \hyperlink{classns3_1_1MacLow_ae2473406a32bcd2bd581a57da4683b18}{m\_superFastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
331   \hyperlink{classns3_1_1MacLow_af34b1f498e3b5a25a62fd4bf5f6f943a}{m\_fastAckFailedTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
332   \hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\_blockAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
333   \hyperlink{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}{m\_ctsTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
334   \hyperlink{classns3_1_1MacLow_ade35698702b1353f2eff6b97653f8b0e}{m\_sendCtsEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
335   \hyperlink{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{m\_sendAckEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
336   \hyperlink{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}{m\_sendDataEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
337   \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
338   \hyperlink{classns3_1_1MacLow_a25990734c06d4df0d75276f52e103f8a}{m\_endTxNoAckEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
339   \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy} = 0;
340   \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager} = 0;
341   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\_phyMacLowListener} != 0)
342     \{
343       \textcolor{keyword}{delete} \hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\_phyMacLowListener};
344       \hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\_phyMacLowListener} = 0;
345     \}
346   \textcolor{keywordflow}{for} (uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 8; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
347     \{
348       \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
349     \}
350   \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} = \textcolor{keyword}{false};
351 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 24


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Do\+Nav\+Reset\+Now@{Do\+Nav\+Reset\+Now}}
\index{Do\+Nav\+Reset\+Now@{Do\+Nav\+Reset\+Now}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Do\+Nav\+Reset\+Now(\+Time duration)}{DoNavResetNow(Time duration)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Do\+Nav\+Reset\+Now (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{duration}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_abcc34d5e7e18f1f9df32adb248efccea}{}\label{classns3_1_1MacLow_abcc34d5e7e18f1f9df32adb248efccea}
Reset N\+AV with the given duration.


\begin{DoxyParams}{Parameters}
{\em duration} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1424 \{
1425   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1MacLow_abf949b68f435e702d6d30c9a1515b35d}{DcfManagersCI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1426     \{
1427       (*i)->NotifyNavResetNow (duration);
1428     \}
1429   \hyperlink{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}{m\_lastNavStart} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
1430   \hyperlink{classns3_1_1MacLow_a939a71bf7296a87bfc5bf2eb8b026b4b}{m\_lastNavDuration} = duration;
1431 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 25




Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Do\+Nav\+Start\+Now@{Do\+Nav\+Start\+Now}}
\index{Do\+Nav\+Start\+Now@{Do\+Nav\+Start\+Now}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Do\+Nav\+Start\+Now(\+Time duration)}{DoNavStartNow(Time duration)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Do\+Nav\+Start\+Now (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{duration}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ab35a898f608bb1103394e56a77c01343}{}\label{classns3_1_1MacLow_ab35a898f608bb1103394e56a77c01343}
Start N\+AV with the given duration.


\begin{DoxyParams}{Parameters}
{\em duration} & the duration \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if N\+AV is resetted 
\end{DoxyReturn}

\begin{DoxyCode}
1435 \{
1436   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1MacLow_abf949b68f435e702d6d30c9a1515b35d}{DcfManagersCI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1437     \{
1438       (*i)->NotifyNavStartNow (duration);
1439     \}
1440   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} newNavEnd = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () + duration;
1441   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} oldNavEnd = \hyperlink{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}{m\_lastNavStart} + \hyperlink{classns3_1_1MacLow_a939a71bf7296a87bfc5bf2eb8b026b4b}{m\_lastNavDuration};
1442   \textcolor{keywordflow}{if} (newNavEnd > oldNavEnd)
1443     \{
1444       \hyperlink{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}{m\_lastNavStart} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
1445       m\_lastNavDuration = duration;
1446       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1447     \}
1448   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1449 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 27




Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!End\+Tx\+No\+Ack@{End\+Tx\+No\+Ack}}
\index{End\+Tx\+No\+Ack@{End\+Tx\+No\+Ack}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{End\+Tx\+No\+Ack(void)}{EndTxNoAck(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+End\+Tx\+No\+Ack (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ab27ec174aebeec55b0fd44e872c0e777}{}\label{classns3_1_1MacLow_ab27ec174aebeec55b0fd44e872c0e777}
A transmission that does not require an A\+CK has completed. 
\begin{DoxyCode}
2117 \{
2118   Ptr<DcaTxop> dca = \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca};
2119   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = 0;
2120   dca->EndTxNoAck ();
2121 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 29


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Fast\+Ack\+Failed\+Timeout@{Fast\+Ack\+Failed\+Timeout}}
\index{Fast\+Ack\+Failed\+Timeout@{Fast\+Ack\+Failed\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Fast\+Ack\+Failed\+Timeout(void)}{FastAckFailedTimeout(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Fast\+Ack\+Failed\+Timeout (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a6d34fa0fc66def64bcad964b5483605c}{}\label{classns3_1_1MacLow_a6d34fa0fc66def64bcad964b5483605c}
Event handler when fast A\+CK timeout occurs (busy). 
\begin{DoxyCode}
2125 \{
2126   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2127   Ptr<DcaTxop> dca = \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca};
2128   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = 0;
2129   dca->MissedAck ();
2130   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"fast Ack busy but missed"});
2131 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Fast\+Ack\+Timeout@{Fast\+Ack\+Timeout}}
\index{Fast\+Ack\+Timeout@{Fast\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Fast\+Ack\+Timeout(void)}{FastAckTimeout(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Fast\+Ack\+Timeout (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aa893a4401552fa384df6195578013b45}{}\label{classns3_1_1MacLow_aa893a4401552fa384df6195578013b45}
Event handler when fast A\+CK timeout occurs (idle). 
\begin{DoxyCode}
1636 \{
1637   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1638   \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a36ca84ae0bbcd9b95cc353a568023e8b}{ReportDataFailed} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
1639   Ptr<DcaTxop> dca = \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca};
1640   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = 0;
1641   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ae7f8f4befd54e3a32c382758e9adbe3a}{IsStateIdle} ())
1642     \{
1643       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"fast Ack idle missed"});
1644       dca->MissedAck ();
1645     \}
1646   \textcolor{keywordflow}{else}
1647     \{
1648       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"fast Ack ok"});
1649     \}
1650 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 31




Here is the caller graph for this function\+:
% FIG 32


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Flush\+Aggregate\+Queue@{Flush\+Aggregate\+Queue}}
\index{Flush\+Aggregate\+Queue@{Flush\+Aggregate\+Queue}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Flush\+Aggregate\+Queue(uint8\+\_\+t tid)}{FlushAggregateQueue(uint8_t tid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Flush\+Aggregate\+Queue (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{tid}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_ab143d3691846b2638a6f089c96169ee2}{}\label{classns3_1_1MacLow_ab143d3691846b2638a6f089c96169ee2}
This function is called to flush the aggregate queue, which is used for A-\/\+M\+P\+DU 
\begin{DoxyParams}{Parameters}
{\em tid} & the Traffic ID \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
3008 \{
3009   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[tid]->GetNPackets () > 0)
3010     \{
3011       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Flush aggregate queue"});
3012       \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[tid]->Flush ();
3013     \}
3014   \hyperlink{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{m\_txPackets}[tid].clear ();
3015 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 33


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Forward\+Down@{Forward\+Down}}
\index{Forward\+Down@{Forward\+Down}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Forward\+Down(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header $\ast$hdr, Wifi\+Tx\+Vector tx\+Vector)}{ForwardDown(Ptr< const Packet > packet, const WifiMacHeader *hdr, WifiTxVector txVector)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Forward\+Down (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr, }
\item[{{\bf Wifi\+Tx\+Vector}}]{tx\+Vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a4eefbfa3d57539dadf0224cc7fcf952d}{}\label{classns3_1_1MacLow_a4eefbfa3d57539dadf0224cc7fcf952d}
Forward the packet down to \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} for transmission. This is called for the entire A-\/\+M\+P\+Du when M\+P\+DU aggregation is used.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet \\
\hline
{\em hdr} & the header \\
\hline
{\em tx\+Vector} & the transmit vector \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1489 \{
1490   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << hdr << txVector);
1491   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"send "} << hdr->GetTypeString () <<
1492                 \textcolor{stringliteral}{", to="} << hdr->GetAddr1 () <<
1493                 \textcolor{stringliteral}{", size="} << packet->GetSize () <<
1494                 \textcolor{stringliteral}{", mode="} << txVector.GetMode  () <<
1495                 \textcolor{stringliteral}{", preamble="} << txVector.GetPreambleType () <<
1496                 \textcolor{stringliteral}{", duration="} << hdr->GetDuration () <<
1497                 \textcolor{stringliteral}{", seq=0x"} << std::hex << \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a9d6c7e809271331e5271d29e58800593}{GetSequenceControl} () << std::dec);
1498   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} || hdr->IsAck () || hdr->IsRts () || hdr->IsBlockAck () || hdr->IsMgt ())
1499     \{
1500       \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a4caf22eb334a9caca21ec37d90a74ce2}{SendPacket} (packet, txVector);
1501     \}
1502   \textcolor{keywordflow}{else}
1503     \{
1504       Ptr<Packet> newPacket;
1505       Ptr <WifiMacQueueItem> dequeuedItem;
1506       WifiMacHeader newHdr;
1507       WifiMacTrailer fcs;
1508       uint8\_t queueSize = \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, *hdr)]->GetNPackets ();
1509       \textcolor{keywordtype}{bool} singleMpdu = \textcolor{keyword}{false};
1510       \textcolor{keywordtype}{bool} last = \textcolor{keyword}{false};
1511       \hyperlink{namespacens3_ae617d41bbd0c07fa58ee2306f687b055}{MpduType} mpdutype = \hyperlink{namespacens3_ae617d41bbd0c07fa58ee2306f687b055a1fa7c2077d3b19b000b35004914f50eb}{NORMAL\_MPDU};
1512 
1513       uint8\_t tid = \hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, *hdr);
1514       \hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{AcIndex} ac = \hyperlink{group__wifi_ga4e36efcff6dd83eaee42e1af0de43d48}{QosUtilsMapTidToAc} (tid);
1515       std::map<AcIndex, Ptr<EdcaTxopN> >::const\_iterator edcaIt = \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}.find (ac);
1516 
1517       \textcolor{keywordflow}{if} (queueSize == 1)
1518         \{
1519           singleMpdu = \textcolor{keyword}{true};
1520         \}
1521 
1522       \textcolor{comment}{//Add packet tag}
1523       AmpduTag ampdutag;
1524       ampdutag.SetAmpdu (\textcolor{keyword}{true});
1525       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_a7964e6aa8f61a9d28973c8267a606ad8}{delay} = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
1526       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} remainingAmpduDuration = \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (packet->GetSize
       (), txVector, \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1527       \textcolor{keywordflow}{if} (queueSize > 1 || singleMpdu)
1528         \{
1529           txVector.SetAggregation (\textcolor{keyword}{true});
1530         \}
1531       \textcolor{keywordflow}{for} (; queueSize > 0; queueSize--)
1532         \{
1533           dequeuedItem = \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, *hdr)]->Dequeue ();
1534           newHdr = dequeuedItem->GetHeader ();
1535           newPacket = dequeuedItem->GetPacket ()->Copy ();
1536           newHdr.SetDuration (hdr->GetDuration ());
1537           newPacket->AddHeader (newHdr);
1538           \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (newPacket);
1539           \textcolor{keywordflow}{if} (queueSize == 1)
1540             \{
1541               last = \textcolor{keyword}{true};
1542               mpdutype = \hyperlink{namespacens3_ae617d41bbd0c07fa58ee2306f687b055a00f5645550d1d4766ba10c4ac229b276}{LAST\_MPDU\_IN\_AGGREGATE};
1543             \}
1544 
1545           edcaIt->second->GetMpduAggregator ()->AddHeaderAndPad (newPacket, last, singleMpdu);
1546 
1547           \textcolor{keywordflow}{if} (delay.IsZero ())
1548             \{
1549               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Sending MPDU as part of A-MPDU"});
1550               \textcolor{keywordflow}{if} (!singleMpdu)
1551                 \{
1552                   mpdutype = \hyperlink{namespacens3_ae617d41bbd0c07fa58ee2306f687b055ac78adeb4fa20b2eefca65601b0b38625}{MPDU\_IN\_AGGREGATE};
1553                 \}
1554               \textcolor{keywordflow}{else}
1555                 \{
1556                   mpdutype = \hyperlink{namespacens3_ae617d41bbd0c07fa58ee2306f687b055a1fa7c2077d3b19b000b35004914f50eb}{NORMAL\_MPDU};
1557                 \}
1558             \}
1559 
1560           \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} mpduDuration = \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (newPacket->GetSize ()
      , txVector, \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} (), mpdutype, 0);
1561           remainingAmpduDuration -= mpduDuration;
1562 
1563           ampdutag.SetRemainingNbOfMpdus (queueSize - 1);
1564           \textcolor{keywordflow}{if} (queueSize > 1)
1565             \{
1566               ampdutag.SetRemainingAmpduDuration (remainingAmpduDuration);
1567             \}
1568           \textcolor{keywordflow}{else}
1569             \{
1570               ampdutag.SetRemainingAmpduDuration (\hyperlink{group__timecivil_ga281d64bcb4dad96267d83c7688ec433f}{NanoSeconds} (0));
1571             \}
1572           newPacket->AddPacketTag (ampdutag);
1573 
1574           \textcolor{keywordflow}{if} (delay.IsZero ())
1575             \{
1576               \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a4caf22eb334a9caca21ec37d90a74ce2}{SendPacket} (newPacket, txVector, mpdutype);
1577             \}
1578           \textcolor{keywordflow}{else}
1579             \{
1580               \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (delay, &\hyperlink{classns3_1_1MacLow_a0ec344c3a1200d8d66273614949c6b35}{MacLow::SendMpdu}, \textcolor{keyword}{this}, 
      newPacket, txVector, mpdutype);
1581             \}
1582           \textcolor{keywordflow}{if} (queueSize > 1)
1583             \{
1584               \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (remainingAmpduDuration > 0);
1585               delay = delay + mpduDuration;
1586             \}
1587 
1588           txVector.SetPreambleType (\hyperlink{group__wifi_gga5e94a56cb338a14ffbbb19c6a41251eba97c5c71995de5f28931200e6d5a38a66}{WIFI\_PREAMBLE\_NONE});
1589         \}
1590     \}
1591 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 34




Here is the caller graph for this function\+:
% FIG 35


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Ack\+Duration@{Get\+Ack\+Duration}}
\index{Get\+Ack\+Duration@{Get\+Ack\+Duration}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Ack\+Duration(\+Wifi\+Tx\+Vector ack\+Tx\+Vector) const }{GetAckDuration(WifiTxVector ackTxVector) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Ack\+Duration (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Tx\+Vector}}]{ack\+Tx\+Vector}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{}\label{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}
Return the time required to transmit the A\+CK (including preamble and F\+CS).


\begin{DoxyParams}{Parameters}
{\em ack\+Tx\+Vector} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the time required to transmit the A\+CK (including preamble and F\+CS) 
\end{DoxyReturn}

\begin{DoxyCode}
1203 \{
1204   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (ackTxVector.GetMode ().GetModulationClass () != 
      \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a6ac45cac36cc4454649435d24ebf349c}{WIFI\_MOD\_CLASS\_HT}); \textcolor{comment}{//ACK should always use non-HT PPDU (HT PPDU cases not supported yet)}
1205   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (\hyperlink{classns3_1_1MacLow_a87ec7765a9299e0a3997a972e146171f}{GetAckSize} (), ackTxVector, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1206 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 36




Here is the caller graph for this function\+:
% FIG 37


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Ack\+Duration@{Get\+Ack\+Duration}}
\index{Get\+Ack\+Duration@{Get\+Ack\+Duration}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Ack\+Duration(\+Mac48\+Address to, Wifi\+Tx\+Vector data\+Tx\+Vector) const }{GetAckDuration(Mac48Address to, WifiTxVector dataTxVector) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Ack\+Duration (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{to, }
\item[{{\bf Wifi\+Tx\+Vector}}]{data\+Tx\+Vector}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a014e154f9f037102d3c7662a83479bbb}{}\label{classns3_1_1MacLow_a014e154f9f037102d3c7662a83479bbb}
Return the time required to transmit the A\+CK to the specified address given the T\+X\+V\+E\+C\+T\+OR of the D\+A\+TA (including preamble and F\+CS).


\begin{DoxyParams}{Parameters}
{\em to} & \\
\hline
{\em data\+Tx\+Vector} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the time required to transmit the A\+CK (including preamble and F\+CS) 
\end{DoxyReturn}

\begin{DoxyCode}
1196 \{
1197   WifiTxVector ackTxVector = \hyperlink{classns3_1_1MacLow_ad023756670d1e2e69b9832968e4b7029}{GetAckTxVectorForData} (to, dataTxVector.GetMode ());
1198   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (ackTxVector);
1199 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 38


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Ack\+Size@{Get\+Ack\+Size}}
\index{Get\+Ack\+Size@{Get\+Ack\+Size}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Ack\+Size(void) const }{GetAckSize(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Mac\+Low\+::\+Get\+Ack\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a87ec7765a9299e0a3997a972e146171f}{}\label{classns3_1_1MacLow_a87ec7765a9299e0a3997a972e146171f}
Return the total A\+CK size (including F\+CS trailer).

\begin{DoxyReturn}{Returns}
the total A\+CK size 
\end{DoxyReturn}

\begin{DoxyCode}
1158 \{
1159   WifiMacHeader ack;
1160   ack.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa94b81d2741a3a2ab30de5df6e04fc850}{WIFI\_MAC\_CTL\_ACK});
1161   \textcolor{keywordflow}{return} ack.GetSize () + 4;
1162 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 39




Here is the caller graph for this function\+:
% FIG 40


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Ack\+Timeout@{Get\+Ack\+Timeout}}
\index{Get\+Ack\+Timeout@{Get\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Ack\+Timeout(void) const }{GetAckTimeout(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Ack\+Timeout (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a41936a9436518d2fe881c9606dcef19e}{}\label{classns3_1_1MacLow_a41936a9436518d2fe881c9606dcef19e}
Return A\+CK timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.

\begin{DoxyReturn}{Returns}
A\+CK timeout 
\end{DoxyReturn}

\begin{DoxyCode}
536 \{
537   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a5889cbf3ea77554b9eb0cf1a618a2db8}{m\_ackTimeout};
538 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 41


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Ack\+Tx\+Vector@{Get\+Ack\+Tx\+Vector}}
\index{Get\+Ack\+Tx\+Vector@{Get\+Ack\+Tx\+Vector}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Ack\+Tx\+Vector(\+Mac48\+Address to, Wifi\+Mode data\+Tx\+Mode) const }{GetAckTxVector(Mac48Address to, WifiMode dataTxMode) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Mac\+Low\+::\+Get\+Ack\+Tx\+Vector (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{to, }
\item[{{\bf Wifi\+Mode}}]{data\+Tx\+Mode}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aacb6b94de35df106b76d93b05d145d13}{}\label{classns3_1_1MacLow_aacb6b94de35df106b76d93b05d145d13}
Return a T\+X\+V\+E\+C\+T\+OR for the A\+CK frame given the destination and the mode of the D\+A\+TA used by the sender. The function consults \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager}, which controls the rate to different destinations.


\begin{DoxyParams}{Parameters}
{\em to} & the M\+AC address of the A\+CK receiver \\
\hline
{\em data\+Tx\+Mode} & the mode of the D\+A\+TA used by the sender \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+X\+V\+E\+C\+T\+OR for the A\+CK 
\end{DoxyReturn}

\begin{DoxyCode}
1284 \{
1285   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ab04252f5a7892bfe9c1b690e2869ca9d}{GetAckTxVector} (to, dataTxMode);
1286 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 42




Here is the caller graph for this function\+:
% FIG 43


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Ack\+Tx\+Vector\+For\+Data@{Get\+Ack\+Tx\+Vector\+For\+Data}}
\index{Get\+Ack\+Tx\+Vector\+For\+Data@{Get\+Ack\+Tx\+Vector\+For\+Data}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Ack\+Tx\+Vector\+For\+Data(\+Mac48\+Address to, Wifi\+Mode data\+Tx\+Mode) const }{GetAckTxVectorForData(Mac48Address to, WifiMode dataTxMode) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Mac\+Low\+::\+Get\+Ack\+Tx\+Vector\+For\+Data (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{to, }
\item[{{\bf Wifi\+Mode}}]{data\+Tx\+Mode}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ad023756670d1e2e69b9832968e4b7029}{}\label{classns3_1_1MacLow_ad023756670d1e2e69b9832968e4b7029}
Return a T\+X\+V\+E\+C\+T\+OR for the Block A\+CK frame given the destination and the mode of the D\+A\+TA used by the sender. The function consults \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager}, which controls the rate to different destinations.


\begin{DoxyParams}{Parameters}
{\em to} & the M\+AC address of the Block A\+CK receiver \\
\hline
{\em data\+Tx\+Mode} & the mode of the D\+A\+TA used by the sender \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+X\+V\+E\+C\+T\+OR for the Block A\+CK 
\end{DoxyReturn}

\begin{DoxyCode}
1302 \{
1303   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_aacb6b94de35df106b76d93b05d145d13}{GetAckTxVector} (to, dataTxMode);
1304 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 44




Here is the caller graph for this function\+:
% FIG 45


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Address@{Get\+Address}}
\index{Get\+Address@{Get\+Address}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Address(void) const }{GetAddress(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::\+Mac\+Low\+::\+Get\+Address (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{}\label{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}
Return the M\+AC address of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.

\begin{DoxyReturn}{Returns}
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} 
\end{DoxyReturn}

\begin{DoxyCode}
530 \{
531   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self};
532 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 46


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Basic\+Block\+Ack\+Timeout@{Get\+Basic\+Block\+Ack\+Timeout}}
\index{Get\+Basic\+Block\+Ack\+Timeout@{Get\+Basic\+Block\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Basic\+Block\+Ack\+Timeout() const }{GetBasicBlockAckTimeout() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Basic\+Block\+Ack\+Timeout (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a5092888d73e7d32ac6172922f2469846}{}\label{classns3_1_1MacLow_a5092888d73e7d32ac6172922f2469846}
Return Basic Block A\+CK timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.

\begin{DoxyReturn}{Returns}
Basic Block A\+CK timeout 
\end{DoxyReturn}

\begin{DoxyCode}
542 \{
543   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a3bc501e96dd54acfcfec0dbbfeb487e7}{m\_basicBlockAckTimeout};
544 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 47


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Block\+Ack\+Duration@{Get\+Block\+Ack\+Duration}}
\index{Get\+Block\+Ack\+Duration@{Get\+Block\+Ack\+Duration}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Block\+Ack\+Duration(\+Mac48\+Address to, Wifi\+Tx\+Vector block\+Ack\+Req\+Tx\+Vector, Block\+Ack\+Type type) const }{GetBlockAckDuration(Mac48Address to, WifiTxVector blockAckReqTxVector, BlockAckType type) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Block\+Ack\+Duration (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{to, }
\item[{{\bf Wifi\+Tx\+Vector}}]{block\+Ack\+Req\+Tx\+Vector, }
\item[{{\bf Block\+Ack\+Type}}]{type}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{}\label{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}
Return the time required to transmit the Block A\+CK to the specified address given the T\+X\+V\+E\+C\+T\+OR of the B\+AR (including preamble and F\+CS).


\begin{DoxyParams}{Parameters}
{\em to} & \\
\hline
{\em block\+Ack\+Req\+Tx\+Vector} & \\
\hline
{\em type} & the Block A\+CK type \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the time required to transmit the Block A\+CK (including preamble and F\+CS) 
\end{DoxyReturn}

\begin{DoxyCode}
1210 \{
1211   \textcolor{comment}{/*}
1212 \textcolor{comment}{   * For immediate Basic BlockAck we should transmit the frame with the same WifiMode}
1213 \textcolor{comment}{   * as the BlockAckReq.}
1214 \textcolor{comment}{   */}
1215   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (\hyperlink{classns3_1_1MacLow_a2a57939c6cb34116ae21763bf9505fbf}{GetBlockAckSize} (
      \hyperlink{visualizer-ideas_8txt_add98db9e15e2a58cf2b57623e7aa893a}{type}), blockAckReqTxVector, \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1216 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 48




Here is the caller graph for this function\+:
% FIG 49


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Block\+Ack\+Size@{Get\+Block\+Ack\+Size}}
\index{Get\+Block\+Ack\+Size@{Get\+Block\+Ack\+Size}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Block\+Ack\+Size(\+Block\+Ack\+Type type) const }{GetBlockAckSize(BlockAckType type) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Mac\+Low\+::\+Get\+Block\+Ack\+Size (
\begin{DoxyParamCaption}
\item[{{\bf Block\+Ack\+Type}}]{type}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a2a57939c6cb34116ae21763bf9505fbf}{}\label{classns3_1_1MacLow_a2a57939c6cb34116ae21763bf9505fbf}
Return the total Block A\+CK size (including F\+CS trailer).


\begin{DoxyParams}{Parameters}
{\em type} & the Block A\+CK type \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the total Block A\+CK size 
\end{DoxyReturn}

\begin{DoxyCode}
1166 \{
1167   WifiMacHeader hdr;
1168   hdr.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aaabd6e2bca4aa9279211a5e7d0c5c5afa}{WIFI\_MAC\_CTL\_BACKRESP});
1169   CtrlBAckResponseHeader blockAck;
1170   \textcolor{keywordflow}{if} (\hyperlink{visualizer-ideas_8txt_add98db9e15e2a58cf2b57623e7aa893a}{type} == \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf}{BASIC\_BLOCK\_ACK})
1171     \{
1172       blockAck.SetType (\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf}{BASIC\_BLOCK\_ACK});
1173     \}
1174   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{visualizer-ideas_8txt_add98db9e15e2a58cf2b57623e7aa893a}{type} == \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK})
1175     \{
1176       blockAck.SetType (\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
1177     \}
1178   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{visualizer-ideas_8txt_add98db9e15e2a58cf2b57623e7aa893a}{type} == \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a2b0db78cd77aa4769690b7b6aac6f017}{MULTI\_TID\_BLOCK\_ACK})
1179     \{
1180       \textcolor{comment}{//Not implemented}
1181       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\textcolor{keyword}{false});
1182     \}
1183   \textcolor{keywordflow}{return} hdr.GetSize () + blockAck.GetSerializedSize () + 4;
1184 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 50




Here is the caller graph for this function\+:
% FIG 51


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Block\+Ack\+Tx\+Vector@{Get\+Block\+Ack\+Tx\+Vector}}
\index{Get\+Block\+Ack\+Tx\+Vector@{Get\+Block\+Ack\+Tx\+Vector}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Block\+Ack\+Tx\+Vector(\+Mac48\+Address to, Wifi\+Mode data\+Tx\+Mode) const }{GetBlockAckTxVector(Mac48Address to, WifiMode dataTxMode) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Mac\+Low\+::\+Get\+Block\+Ack\+Tx\+Vector (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{to, }
\item[{{\bf Wifi\+Mode}}]{data\+Tx\+Mode}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{}\label{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}
Return a T\+X\+V\+E\+C\+T\+OR for the Block A\+CK frame given the destination and the mode of the D\+A\+TA used by the sender. The function consults \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager}, which controls the rate to different destinations.


\begin{DoxyParams}{Parameters}
{\em to} & the M\+AC address of the Block A\+CK receiver \\
\hline
{\em data\+Tx\+Mode} & the mode of the D\+A\+TA used by the sender \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+X\+V\+E\+C\+T\+OR for the Block A\+CK 
\end{DoxyReturn}

\begin{DoxyCode}
1290 \{
1291   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a178c4ab0c61a9e3b6072c1339c9880b3}{GetBlockAckTxVector} (to, dataTxMode);
1292 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 52




Here is the caller graph for this function\+:
% FIG 53


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Bssid@{Get\+Bssid}}
\index{Get\+Bssid@{Get\+Bssid}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Bssid(void) const }{GetBssid(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::\+Mac\+Low\+::\+Get\+Bssid (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a4d11b37c976a0bac9d123fcc4b1fb9e6}{}\label{classns3_1_1MacLow_a4d11b37c976a0bac9d123fcc4b1fb9e6}
Return the Basic Service Set Identification.

\begin{DoxyReturn}{Returns}
B\+S\+S\+ID 
\end{DoxyReturn}

\begin{DoxyCode}
586 \{
587   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a36761d1d6c972817b9e2361952180923}{m\_bssid};
588 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 54


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Compressed\+Block\+Ack\+Timeout@{Get\+Compressed\+Block\+Ack\+Timeout}}
\index{Get\+Compressed\+Block\+Ack\+Timeout@{Get\+Compressed\+Block\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Compressed\+Block\+Ack\+Timeout() const }{GetCompressedBlockAckTimeout() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Compressed\+Block\+Ack\+Timeout (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a57e8e9f643fe85b1c04812de618efbee}{}\label{classns3_1_1MacLow_a57e8e9f643fe85b1c04812de618efbee}
Return Compressed Block A\+CK timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.

\begin{DoxyReturn}{Returns}
Compressed Block A\+CK timeout 
\end{DoxyReturn}

\begin{DoxyCode}
548 \{
549   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_af859368621713602f22944a1a00f9aab}{m\_compressedBlockAckTimeout};
550 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 55


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Cts\+Duration@{Get\+Cts\+Duration}}
\index{Get\+Cts\+Duration@{Get\+Cts\+Duration}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Cts\+Duration(\+Wifi\+Tx\+Vector cts\+Tx\+Vector) const }{GetCtsDuration(WifiTxVector ctsTxVector) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Cts\+Duration (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Tx\+Vector}}]{cts\+Tx\+Vector}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a51008d8954b33afd5ec805cda1a3c297}{}\label{classns3_1_1MacLow_a51008d8954b33afd5ec805cda1a3c297}
Return the time required to transmit the C\+TS (including preamble and F\+CS).


\begin{DoxyParams}{Parameters}
{\em cts\+Tx\+Vector} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the time required to transmit the C\+TS (including preamble and F\+CS) 
\end{DoxyReturn}

\begin{DoxyCode}
1227 \{
1228   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (ctsTxVector.GetMode ().GetModulationClass () != 
      \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a6ac45cac36cc4454649435d24ebf349c}{WIFI\_MOD\_CLASS\_HT}); \textcolor{comment}{//CTS should always use non-HT PPDU (HT PPDU cases not supported yet)}
1229   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (\hyperlink{classns3_1_1MacLow_a43e590838afbd8a9a01cc2936837b091}{GetCtsSize} (), ctsTxVector, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1230 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 56




Here is the caller graph for this function\+:
% FIG 57


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Cts\+Duration@{Get\+Cts\+Duration}}
\index{Get\+Cts\+Duration@{Get\+Cts\+Duration}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Cts\+Duration(\+Mac48\+Address to, Wifi\+Tx\+Vector rts\+Tx\+Vector) const }{GetCtsDuration(Mac48Address to, WifiTxVector rtsTxVector) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Cts\+Duration (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{to, }
\item[{{\bf Wifi\+Tx\+Vector}}]{rts\+Tx\+Vector}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a97137ac7e59a3637e5f71c38e36691ab}{}\label{classns3_1_1MacLow_a97137ac7e59a3637e5f71c38e36691ab}
Return the time required to transmit the C\+TS to the specified address given the T\+X\+V\+E\+C\+T\+OR of the R\+TS (including preamble and F\+CS).


\begin{DoxyParams}{Parameters}
{\em to} & \\
\hline
{\em rts\+Tx\+Vector} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the time required to transmit the C\+TS (including preamble and F\+CS) 
\end{DoxyReturn}

\begin{DoxyCode}
1220 \{
1221   WifiTxVector ctsTxVector = \hyperlink{classns3_1_1MacLow_a48d2394e5fab14a60af30b3d0a145d43}{GetCtsTxVectorForRts} (to, rtsTxVector.GetMode ());
1222   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a51008d8954b33afd5ec805cda1a3c297}{GetCtsDuration} (ctsTxVector);
1223 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 58


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Cts\+Size@{Get\+Cts\+Size}}
\index{Get\+Cts\+Size@{Get\+Cts\+Size}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Cts\+Size(void) const }{GetCtsSize(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Mac\+Low\+::\+Get\+Cts\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a43e590838afbd8a9a01cc2936837b091}{}\label{classns3_1_1MacLow_a43e590838afbd8a9a01cc2936837b091}
Return the total C\+TS size (including F\+CS trailer).

\begin{DoxyReturn}{Returns}
the total C\+TS size 
\end{DoxyReturn}

\begin{DoxyCode}
1234 \{
1235   WifiMacHeader cts;
1236   cts.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa529299bd6c8159e0dc3f56acb749eff4}{WIFI\_MAC\_CTL\_CTS});
1237   \textcolor{keywordflow}{return} cts.GetSize () + 4;
1238 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 59




Here is the caller graph for this function\+:
% FIG 60


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Cts\+Timeout@{Get\+Cts\+Timeout}}
\index{Get\+Cts\+Timeout@{Get\+Cts\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Cts\+Timeout(void) const }{GetCtsTimeout(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Cts\+Timeout (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_aba3db8af06fbd9e80a0d6c35dc1f3cf4}{}\label{classns3_1_1MacLow_aba3db8af06fbd9e80a0d6c35dc1f3cf4}
Return C\+TS timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.

\begin{DoxyReturn}{Returns}
C\+TS timeout 
\end{DoxyReturn}

\begin{DoxyCode}
554 \{
555   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_ab6dd76e9ab50582171a60074ff759b51}{m\_ctsTimeout};
556 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 61


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Cts\+To\+Self\+Supported@{Get\+Cts\+To\+Self\+Supported}}
\index{Get\+Cts\+To\+Self\+Supported@{Get\+Cts\+To\+Self\+Supported}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Cts\+To\+Self\+Supported() const }{GetCtsToSelfSupported() const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Get\+Cts\+To\+Self\+Supported (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_adc40feae5d8e06391308e136aa3beff3}{}\label{classns3_1_1MacLow_adc40feae5d8e06391308e136aa3beff3}
Return whether C\+T\+S-\/to-\/self capability is supported.

\begin{DoxyReturn}{Returns}
true if C\+T\+S-\/to-\/self is supported, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
482 \{
483   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a3f4e1bf0128e68f6d2b708d66357ac5e}{m\_ctsToSelfSupported};
484 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 62


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Cts\+To\+Self\+Tx\+Vector@{Get\+Cts\+To\+Self\+Tx\+Vector}}
\index{Get\+Cts\+To\+Self\+Tx\+Vector@{Get\+Cts\+To\+Self\+Tx\+Vector}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Cts\+To\+Self\+Tx\+Vector(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header $\ast$hdr) const }{GetCtsToSelfTxVector(Ptr< const Packet > packet, const WifiMacHeader *hdr) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Mac\+Low\+::\+Get\+Cts\+To\+Self\+Tx\+Vector (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a9602e7c5294878230767654b61e76e42}{}\label{classns3_1_1MacLow_a9602e7c5294878230767654b61e76e42}
Return a T\+X\+V\+E\+C\+T\+OR for the C\+T\+S-\/to-\/self frame. The function consults \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager}, which controls the rate to different destinations.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet that requires C\+T\+S-\/to-\/self \\
\hline
{\em hdr} & the Wifi header of the packet \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+X\+V\+E\+C\+T\+OR for the C\+T\+S-\/to-\/self operation 
\end{DoxyReturn}

\begin{DoxyCode}
1258 \{
1259   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a927bcc3d3c01646eed7a5e9d741c243b}{GetCtsToSelfTxVector} (hdr, packet);
1260 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 63


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Cts\+Tx\+Vector@{Get\+Cts\+Tx\+Vector}}
\index{Get\+Cts\+Tx\+Vector@{Get\+Cts\+Tx\+Vector}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Cts\+Tx\+Vector(\+Mac48\+Address to, Wifi\+Mode rts\+Tx\+Mode) const }{GetCtsTxVector(Mac48Address to, WifiMode rtsTxMode) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Mac\+Low\+::\+Get\+Cts\+Tx\+Vector (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{to, }
\item[{{\bf Wifi\+Mode}}]{rts\+Tx\+Mode}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a7e8fb3caf4751fa39bc437cab3ac94f1}{}\label{classns3_1_1MacLow_a7e8fb3caf4751fa39bc437cab3ac94f1}
Return a T\+X\+V\+E\+C\+T\+OR for the C\+TS frame given the destination and the mode of the R\+TS used by the sender. The function consults \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager}, which controls the rate to different destinations.


\begin{DoxyParams}{Parameters}
{\em to} & the M\+AC address of the C\+TS receiver \\
\hline
{\em rts\+Tx\+Mode} & the mode of the R\+TS used by the sender \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+X\+V\+E\+C\+T\+OR for the C\+TS 
\end{DoxyReturn}

\begin{DoxyCode}
1278 \{
1279   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ab19cddba368c52aae1b48cd7db0ddd61}{GetCtsTxVector} (to, rtsTxMode);
1280 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 64




Here is the caller graph for this function\+:
% FIG 65


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Cts\+Tx\+Vector\+For\+Rts@{Get\+Cts\+Tx\+Vector\+For\+Rts}}
\index{Get\+Cts\+Tx\+Vector\+For\+Rts@{Get\+Cts\+Tx\+Vector\+For\+Rts}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Cts\+Tx\+Vector\+For\+Rts(\+Mac48\+Address to, Wifi\+Mode rts\+Tx\+Mode) const }{GetCtsTxVectorForRts(Mac48Address to, WifiMode rtsTxMode) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Mac\+Low\+::\+Get\+Cts\+Tx\+Vector\+For\+Rts (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{to, }
\item[{{\bf Wifi\+Mode}}]{rts\+Tx\+Mode}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a48d2394e5fab14a60af30b3d0a145d43}{}\label{classns3_1_1MacLow_a48d2394e5fab14a60af30b3d0a145d43}
Return a T\+X\+V\+E\+C\+T\+OR for the C\+TS frame given the destination and the mode of the R\+TS used by the sender. The function consults \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager}, which controls the rate to different destinations.


\begin{DoxyParams}{Parameters}
{\em to} & the M\+AC address of the C\+TS receiver \\
\hline
{\em rts\+Tx\+Mode} & the mode of the R\+TS used by the sender \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+X\+V\+E\+C\+T\+OR for the C\+TS 
\end{DoxyReturn}

\begin{DoxyCode}
1296 \{
1297   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a7e8fb3caf4751fa39bc437cab3ac94f1}{GetCtsTxVector} (to, rtsTxMode);
1298 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 66




Here is the caller graph for this function\+:
% FIG 67


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Data\+Tx\+Vector@{Get\+Data\+Tx\+Vector}}
\index{Get\+Data\+Tx\+Vector@{Get\+Data\+Tx\+Vector}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Data\+Tx\+Vector(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header $\ast$hdr) const }{GetDataTxVector(Ptr< const Packet > packet, const WifiMacHeader *hdr) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Mac\+Low\+::\+Get\+Data\+Tx\+Vector (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{}\label{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}
Return a T\+X\+V\+E\+C\+T\+OR for the D\+A\+TA frame given the destination. The function consults \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager}, which controls the rate to different destinations.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet being asked for T\+X\+V\+E\+C\+T\+OR \\
\hline
{\em hdr} & the \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+X\+V\+E\+C\+T\+OR for the given packet 
\end{DoxyReturn}


Reimplemented in \hyperlink{classns3_1_1WaveMacLow_a9f176c853a633679d23d71ac1d5aa908}{ns3\+::\+Wave\+Mac\+Low}.


\begin{DoxyCode}
1271 \{
1272   Mac48Address to = hdr->GetAddr1 ();
1273   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ad81efbe48611977c8cea482721fd823b}{GetDataTxVector} (to, hdr, packet);
1274 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 68




Here is the caller graph for this function\+:
% FIG 69


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Phy@{Get\+Phy}}
\index{Get\+Phy@{Get\+Phy}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Phy(void) const }{GetPhy(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Wifi\+Phy} $>$ ns3\+::\+Mac\+Low\+::\+Get\+Phy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a61da57dca75dee4cdd76f0950598ceb0}{}\label{classns3_1_1MacLow_a61da57dca75dee4cdd76f0950598ceb0}
\begin{DoxyReturn}{Returns}
current attached P\+HY device 
\end{DoxyReturn}

\begin{DoxyCode}
431 \{
432   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy};
433 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 70


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Pifs@{Get\+Pifs}}
\index{Get\+Pifs@{Get\+Pifs}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Pifs(void) const }{GetPifs(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Pifs (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a77f1f7d4ee6eb16b0fed4975000cb3bc}{}\label{classns3_1_1MacLow_a77f1f7d4ee6eb16b0fed4975000cb3bc}
Return P\+CF Interframe Space (P\+I\+FS) of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.

\begin{DoxyReturn}{Returns}
P\+I\+FS 
\end{DoxyReturn}

\begin{DoxyCode}
580 \{
581   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a115cd42f0f4a32f94c7cf80f3ad8efe9}{m\_pifs};
582 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 71


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Rifs@{Get\+Rifs}}
\index{Get\+Rifs@{Get\+Rifs}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Rifs(void) const }{GetRifs(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Rifs (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_add308ae9aa7b74b3132cd270c5dbfb22}{}\label{classns3_1_1MacLow_add308ae9aa7b74b3132cd270c5dbfb22}
Return Reduced Interframe Space (R\+I\+FS) of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.

\begin{DoxyReturn}{Returns}
R\+I\+FS 
\end{DoxyReturn}

\begin{DoxyCode}
567 \{
568   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
569   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_afb4a9a2b443271b3dab4091c3e7190c7}{m\_rifs};
570 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 72


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Rts\+Size@{Get\+Rts\+Size}}
\index{Get\+Rts\+Size@{Get\+Rts\+Size}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Rts\+Size(void) const }{GetRtsSize(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Mac\+Low\+::\+Get\+Rts\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a2eca2a2e6be1438bedbe85034acf5a2c}{}\label{classns3_1_1MacLow_a2eca2a2e6be1438bedbe85034acf5a2c}
Return the total R\+TS size (including F\+CS trailer).

\begin{DoxyReturn}{Returns}
the total R\+TS size 
\end{DoxyReturn}

\begin{DoxyCode}
1188 \{
1189   WifiMacHeader rts;
1190   rts.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa43ed89d21958665f84711a6b6d0fb75f}{WIFI\_MAC\_CTL\_RTS});
1191   \textcolor{keywordflow}{return} rts.GetSize () + 4;
1192 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 73




Here is the caller graph for this function\+:
% FIG 74


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Rts\+Tx\+Vector@{Get\+Rts\+Tx\+Vector}}
\index{Get\+Rts\+Tx\+Vector@{Get\+Rts\+Tx\+Vector}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Rts\+Tx\+Vector(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header $\ast$hdr) const }{GetRtsTxVector(Ptr< const Packet > packet, const WifiMacHeader *hdr) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Mac\+Low\+::\+Get\+Rts\+Tx\+Vector (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ac6133f8084d7d290687da468665e36a0}{}\label{classns3_1_1MacLow_ac6133f8084d7d290687da468665e36a0}
Return a T\+X\+V\+E\+C\+T\+OR for the R\+TS frame given the destination. The function consults \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager}, which controls the rate to different destinations.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet being asked for R\+TS T\+X\+V\+E\+C\+T\+OR \\
\hline
{\em hdr} & the \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+X\+V\+E\+C\+T\+OR for the R\+TS of the given packet 
\end{DoxyReturn}

\begin{DoxyCode}
1264 \{
1265   Mac48Address to = hdr->GetAddr1 ();
1266   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a0f4f6984f11037508c46a1af90508a34}{GetRtsTxVector} (to, hdr, packet);
1267 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 75




Here is the caller graph for this function\+:
% FIG 76


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Sifs@{Get\+Sifs}}
\index{Get\+Sifs@{Get\+Sifs}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Sifs(void) const }{GetSifs(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Sifs (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{}\label{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}
Return Short Interframe Space (S\+I\+FS) of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.

\begin{DoxyReturn}{Returns}
S\+I\+FS 
\end{DoxyReturn}

\begin{DoxyCode}
560 \{
561   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
562   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_ad8abf26b1e85563b8e9b2cfd1849226c}{m\_sifs};
563 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 77


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Size@{Get\+Size}}
\index{Get\+Size@{Get\+Size}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Size(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header $\ast$hdr) const }{GetSize(Ptr< const Packet > packet, const WifiMacHeader *hdr) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Mac\+Low\+::\+Get\+Size (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a19511f9a1fc507cab3e16c85d2249f7e}{}\label{classns3_1_1MacLow_a19511f9a1fc507cab3e16c85d2249f7e}
Return the total size of the packet after \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} and F\+CS trailer have been added.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet to be encapsulated with \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} and F\+CS trailer \\
\hline
{\em hdr} & the \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the total packet size 
\end{DoxyReturn}

\begin{DoxyCode}
1242 \{
1243   uint32\_t size;
1244   WifiMacTrailer fcs;
1245   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu})
1246     \{
1247       size = packet->GetSize ();
1248     \}
1249   \textcolor{keywordflow}{else}
1250     \{
1251       size = packet->GetSize () + hdr->GetSize () + fcs.GetSerializedSize ();
1252     \}
1253   \textcolor{keywordflow}{return} size;
1254 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 78




Here is the caller graph for this function\+:
% FIG 79


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Slot\+Time@{Get\+Slot\+Time}}
\index{Get\+Slot\+Time@{Get\+Slot\+Time}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Slot\+Time(void) const }{GetSlotTime(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::\+Get\+Slot\+Time (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_a8a1429d2aba218b4a4e2e5ad37dce6c8}{}\label{classns3_1_1MacLow_a8a1429d2aba218b4a4e2e5ad37dce6c8}
Return slot duration of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.

\begin{DoxyReturn}{Returns}
slot duration 
\end{DoxyReturn}

\begin{DoxyCode}
574 \{
575   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a76eff59c8a4983b9830edf3c6ef5e76e}{m\_slotTime};
576 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 80


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Mac\+Low\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1MacLow_abacc68f094246209f7d4d69d1c75aa31}{}\label{classns3_1_1MacLow_abacc68f094246209f7d4d69d1c75aa31}
Register this type. \begin{DoxyReturn}{Returns}
The \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
297 \{
298   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::MacLow"})
299     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
300     .SetGroupName (\textcolor{stringliteral}{"Wifi"})
301     .AddConstructor<\hyperlink{classns3_1_1MacLow_a7deab25806e5aef977c36151acb116c5}{MacLow}> ()
302   ;
303   \textcolor{keywordflow}{return} tid;
304 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 81


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Insert\+In\+Tx\+Queue@{Insert\+In\+Tx\+Queue}}
\index{Insert\+In\+Tx\+Queue@{Insert\+In\+Tx\+Queue}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Insert\+In\+Tx\+Queue(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header \&hdr, Time t\+Stamp, uint8\+\_\+t tid)}{InsertInTxQueue(Ptr< const Packet > packet, const WifiMacHeader &hdr, Time tStamp, uint8_t tid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Insert\+In\+Tx\+Queue (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} \&}]{hdr, }
\item[{{\bf Time}}]{t\+Stamp, }
\item[{uint8\+\_\+t}]{tid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a4b03d2fed3abc0e1acc14b3b1ef808a1}{}\label{classns3_1_1MacLow_a4b03d2fed3abc0e1acc14b3b1ef808a1}
Insert in a temporary queue. It is only used with a R\+T\+S/\+C\+TS exchange for an A-\/\+M\+P\+DU transmission.


\begin{DoxyParams}{Parameters}
{\em packet} & packet to be inserted in the A-\/\+M\+P\+DU tx queue \\
\hline
{\em hdr} & 802.\+11 header for the packet to be inserted in the A-\/\+M\+P\+DU tx queue \\
\hline
{\em t\+Stamp} & timestamp of the packet to be inserted in the A-\/\+M\+P\+DU tx queue \\
\hline
{\em tid} & the Traffic ID of the packet to be inserted in the A-\/\+M\+P\+DU tx queue \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
3019 \{
3020   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
3021   Item item;
3022   item.packet = packet;
3023   item.hdr = hdr;
3024   item.timestamp = tStamp;
3025   \hyperlink{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{m\_txPackets}[tid].push\_back (item);
3026 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 82


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Is\+Ampdu@{Is\+Ampdu}}
\index{Is\+Ampdu@{Is\+Ampdu}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Is\+Ampdu(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header hdr)}{IsAmpdu(Ptr< const Packet > packet, const WifiMacHeader hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Is\+Ampdu (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header}}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a228f675a7db0df0e39edb611167861cc}{}\label{classns3_1_1MacLow_a228f675a7db0df0e39edb611167861cc}
Checks if the given packet will be aggregated to an A-\/\+M\+P\+DU or not


\begin{DoxyParams}{Parameters}
{\em packet} & packet to check whether it can be aggregated in an A-\/\+M\+P\+DU \\
\hline
{\em hdr} & 802.\+11 header for packet to check whether it can be aggregated in an A-\/\+M\+P\+DU \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if is A-\/\+M\+P\+DU 
\end{DoxyReturn}

\begin{DoxyCode}
610 \{
611   uint32\_t size, actualSize;
612   WifiMacTrailer fcs;
613   size = packet->GetSize () + hdr.GetSize () + fcs.GetSerializedSize ();
614   Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = \hyperlink{classns3_1_1MacLow_a10d347ccf6a1e3868ee1470767ed38a6}{AggregateToAmpdu} (packet, hdr);
615   actualSize = p->GetSize ();
616   \textcolor{keywordflow}{if} (actualSize > size)
617     \{
618       \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket} = \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
619       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
620     \}
621   \textcolor{keywordflow}{else}
622     \{
623       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
624     \}
625 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 83




Here is the caller graph for this function\+:
% FIG 84


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Is\+In\+Window@{Is\+In\+Window}}
\index{Is\+In\+Window@{Is\+In\+Window}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Is\+In\+Window(uint16\+\_\+t seq, uint16\+\_\+t winstart, uint16\+\_\+t winsize) const }{IsInWindow(uint16_t seq, uint16_t winstart, uint16_t winsize) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Is\+In\+Window (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{seq, }
\item[{uint16\+\_\+t}]{winstart, }
\item[{uint16\+\_\+t}]{winsize}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a442078ddeb869fa7e76f35f32e0533c2}{}\label{classns3_1_1MacLow_a442078ddeb869fa7e76f35f32e0533c2}

\begin{DoxyParams}{Parameters}
{\em seq} & M\+P\+DU sequence number \\
\hline
{\em winstart} & sequence number window start \\
\hline
{\em winsize} & the size of the sequence number window (currently default is 64) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if in the window
\end{DoxyReturn}
This method checks if the M\+P\+DU\textquotesingle{}s sequence number is inside the scoreboard boundaries or not 
\begin{DoxyCode}
2167 \{
2168   \textcolor{keywordflow}{return} ((seq - winstart + 4096) % 4096) < winsize;
2169 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 85


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Is\+Nav\+Zero@{Is\+Nav\+Zero}}
\index{Is\+Nav\+Zero@{Is\+Nav\+Zero}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Is\+Nav\+Zero(void) const }{IsNavZero(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Is\+Nav\+Zero (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a41988b43a8e4d1805c5bee02e88f7811}{}\label{classns3_1_1MacLow_a41988b43a8e4d1805c5bee02e88f7811}
Check if N\+AV is zero.

\begin{DoxyReturn}{Returns}
true if N\+AV is zero, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
1895 \{
1896   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}{m\_lastNavStart} + \hyperlink{classns3_1_1MacLow_a939a71bf7296a87bfc5bf2eb8b026b4b}{m\_lastNavDuration} < 
      \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ())
1897     \{
1898       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1899     \}
1900   \textcolor{keywordflow}{else}
1901     \{
1902       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1903     \}
1904 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 86




Here is the caller graph for this function\+:
% FIG 87


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Is\+Promisc@{Is\+Promisc}}
\index{Is\+Promisc@{Is\+Promisc}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Is\+Promisc(void) const }{IsPromisc(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Is\+Promisc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_ad26bc9cc267fbdc079792efdbc6b7c10}{}\label{classns3_1_1MacLow_ad26bc9cc267fbdc079792efdbc6b7c10}
Check if \hyperlink{classns3_1_1MacLow}{Mac\+Low} is operating in promiscuous mode.

\begin{DoxyReturn}{Returns}
true if \hyperlink{classns3_1_1MacLow}{Mac\+Low} is operating in promiscuous mode, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
592 \{
593   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_ad13beb74b1519291ee00d14f1d532fdb}{m\_promisc};
594 \}
\end{DoxyCode}
\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Nav\+Counter\+Reset\+Cts\+Missed@{Nav\+Counter\+Reset\+Cts\+Missed}}
\index{Nav\+Counter\+Reset\+Cts\+Missed@{Nav\+Counter\+Reset\+Cts\+Missed}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Nav\+Counter\+Reset\+Cts\+Missed(\+Time rts\+End\+Rx\+Time)}{NavCounterResetCtsMissed(Time rtsEndRxTime)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Nav\+Counter\+Reset\+Cts\+Missed (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{rts\+End\+Rx\+Time}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_af0f8457a65c1870cbba6289da87f96d6}{}\label{classns3_1_1MacLow_af0f8457a65c1870cbba6289da87f96d6}
Reset N\+AV after C\+TS was missed when the N\+AV was setted with R\+TS.


\begin{DoxyParams}{Parameters}
{\em rts\+End\+Rx\+Time} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1415 \{
1416   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_add9d9f1db60400addf4117e645862421}{GetLastRxStartTime} () < rtsEndRxTime)
1417     \{
1418       \hyperlink{classns3_1_1MacLow_abcc34d5e7e18f1f9df32adb248efccea}{DoNavResetNow} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0));
1419     \}
1420 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 88




Here is the caller graph for this function\+:
% FIG 89


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Need\+Cts\+To\+Self@{Need\+Cts\+To\+Self}}
\index{Need\+Cts\+To\+Self@{Need\+Cts\+To\+Self}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Need\+Cts\+To\+Self(void) const }{NeedCtsToSelf(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Need\+Cts\+To\+Self (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a8522fde99dc6efe05a667a3e3ebd9b5a}{}\label{classns3_1_1MacLow_a8522fde99dc6efe05a667a3e3ebd9b5a}
Check if C\+T\+S-\/to-\/self mechanism should be used for the current packet.

\begin{DoxyReturn}{Returns}
true if C\+T\+S-\/to-\/self mechanism should be used for the current packet, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
760 \{
761   WifiTxVector dataTxVector = \hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{GetDataTxVector} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
762   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_aa3179e61b1a06ff2d0cb0bdbc518e5a2}{NeedCtsToSelf} (dataTxVector);
763 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 90




Here is the caller graph for this function\+:
% FIG 91


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Need\+Rts@{Need\+Rts}}
\index{Need\+Rts@{Need\+Rts}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Need\+Rts(void) const }{NeedRts(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Need\+Rts (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_abb03703a2f28b39d0cff52ce8488f7b3}{}\label{classns3_1_1MacLow_abb03703a2f28b39d0cff52ce8488f7b3}
Check if the current packet should be sent with a R\+TS protection.

\begin{DoxyReturn}{Returns}
true if R\+TS protection should be used, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
752 \{
753   WifiTxVector dataTxVector = \hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{GetDataTxVector} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
754   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a1552c041e2344e355e9a28859054db27}{NeedRts} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr},
755                                     \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, dataTxVector);
756 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 92




Here is the caller graph for this function\+:
% FIG 93


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Normal\+Ack\+Timeout@{Normal\+Ack\+Timeout}}
\index{Normal\+Ack\+Timeout@{Normal\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Normal\+Ack\+Timeout(void)}{NormalAckTimeout(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Normal\+Ack\+Timeout (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a4d730ac2acea66982b4d257e06e22387}{}\label{classns3_1_1MacLow_a4d730ac2acea66982b4d257e06e22387}
Event handler when normal A\+CK timeout occurs. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000173}{Todo}]should check that there was no rx start before now. we should restart a new ack timeout now until the expected end of rx if there was a rx start before now. \end{DoxyRefDesc}

\begin{DoxyCode}
1617 \{
1618   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1619   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"normal ack timeout"});
1623   \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a36ca84ae0bbcd9b95cc353a568023e8b}{ReportDataFailed} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
1624   Ptr<DcaTxop> dca = \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca};
1625   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = 0;
1626   \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} = \textcolor{keyword}{false};
1627   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ())
1628     \{
1629       \hyperlink{classns3_1_1MacLow_ab143d3691846b2638a6f089c96169ee2}{FlushAggregateQueue} (\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, 
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}));
1630     \}
1631   dca->MissedAck ();
1632 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 94




Here is the caller graph for this function\+:
% FIG 95


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Notify\+Ack\+Timeout\+Reset\+Now@{Notify\+Ack\+Timeout\+Reset\+Now}}
\index{Notify\+Ack\+Timeout\+Reset\+Now@{Notify\+Ack\+Timeout\+Reset\+Now}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Notify\+Ack\+Timeout\+Reset\+Now()}{NotifyAckTimeoutResetNow()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Notify\+Ack\+Timeout\+Reset\+Now (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a6efebdcb2cfbfb98f184587e0ffac4a8}{}\label{classns3_1_1MacLow_a6efebdcb2cfbfb98f184587e0ffac4a8}
Notify \hyperlink{classns3_1_1DcfManager}{Dcf\+Manager} that A\+CK timer should be resetted. 
\begin{DoxyCode}
1462 \{
1463   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1MacLow_abf949b68f435e702d6d30c9a1515b35d}{DcfManagersCI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1464     \{
1465       (*i)->NotifyAckTimeoutResetNow ();
1466     \}
1467 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 96


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Notify\+Ack\+Timeout\+Start\+Now@{Notify\+Ack\+Timeout\+Start\+Now}}
\index{Notify\+Ack\+Timeout\+Start\+Now@{Notify\+Ack\+Timeout\+Start\+Now}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Notify\+Ack\+Timeout\+Start\+Now(\+Time duration)}{NotifyAckTimeoutStartNow(Time duration)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Notify\+Ack\+Timeout\+Start\+Now (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{duration}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_acde3a1447ef79fa1bc3456b3d0473757}{}\label{classns3_1_1MacLow_acde3a1447ef79fa1bc3456b3d0473757}
Notify \hyperlink{classns3_1_1DcfManager}{Dcf\+Manager} that A\+CK timer should be started for the given duration.


\begin{DoxyParams}{Parameters}
{\em duration} & the duration \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1453 \{
1454   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1MacLow_abf949b68f435e702d6d30c9a1515b35d}{DcfManagersCI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1455     \{
1456       (*i)->NotifyAckTimeoutStartNow (duration);
1457     \}
1458 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 97


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Notify\+Cts\+Timeout\+Reset\+Now@{Notify\+Cts\+Timeout\+Reset\+Now}}
\index{Notify\+Cts\+Timeout\+Reset\+Now@{Notify\+Cts\+Timeout\+Reset\+Now}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Notify\+Cts\+Timeout\+Reset\+Now()}{NotifyCtsTimeoutResetNow()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Notify\+Cts\+Timeout\+Reset\+Now (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a4a5811d6177046db69e71af9dfc5cb0f}{}\label{classns3_1_1MacLow_a4a5811d6177046db69e71af9dfc5cb0f}
Notify \hyperlink{classns3_1_1DcfManager}{Dcf\+Manager} that C\+TS timer should be resetted. 
\begin{DoxyCode}
1480 \{
1481   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1MacLow_abf949b68f435e702d6d30c9a1515b35d}{DcfManagersCI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1482     \{
1483       (*i)->NotifyCtsTimeoutResetNow ();
1484     \}
1485 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 98


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Notify\+Cts\+Timeout\+Start\+Now@{Notify\+Cts\+Timeout\+Start\+Now}}
\index{Notify\+Cts\+Timeout\+Start\+Now@{Notify\+Cts\+Timeout\+Start\+Now}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Notify\+Cts\+Timeout\+Start\+Now(\+Time duration)}{NotifyCtsTimeoutStartNow(Time duration)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Notify\+Cts\+Timeout\+Start\+Now (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{duration}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ad4e0eee50d12b8b7e22ad6b68ffb82ef}{}\label{classns3_1_1MacLow_ad4e0eee50d12b8b7e22ad6b68ffb82ef}
Notify Dcf\+Managerthat C\+TS timer should be started for the given duration.


\begin{DoxyParams}{Parameters}
{\em duration} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1471 \{
1472   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1MacLow_abf949b68f435e702d6d30c9a1515b35d}{DcfManagersCI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1473     \{
1474       (*i)->NotifyCtsTimeoutStartNow (duration);
1475     \}
1476 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 99


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Notify\+Nav@{Notify\+Nav}}
\index{Notify\+Nav@{Notify\+Nav}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Notify\+Nav(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header \&hdr, Wifi\+Preamble preamble)}{NotifyNav(Ptr< const Packet > packet, const WifiMacHeader &hdr, WifiPreamble preamble)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Notify\+Nav (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} \&}]{hdr, }
\item[{{\bf Wifi\+Preamble}}]{preamble}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a6ff5bbb311cf902d961bf6871f2929d0}{}\label{classns3_1_1MacLow_a6ff5bbb311cf902d961bf6871f2929d0}
Notify N\+AV function.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet \\
\hline
{\em hdr} & the header \\
\hline
{\em preamble} & the preamble \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000171}{Todo}]We should also handle C\+F\+\_\+\+E\+ND specially here but we don\textquotesingle{}t for now because we do not generate them. \end{DoxyRefDesc}


A S\+TA that used information from an R\+TS frame as the most recent basis to update its N\+AV setting is permitted to reset its N\+AV if no P\+H\+Y-\/\+R\+X\+S\+T\+A\+R\+T.\+indication is detected from the P\+HY during a period with a duration of (2 $\ast$ a\+S\+I\+F\+S\+Time) + (C\+T\+S\+\_\+\+Time) + (2 $\ast$ a\+Slot\+Time) starting at the P\+H\+Y-\/\+R\+X\+E\+N\+D.\+indication corresponding to the detection of the R\+TS frame. The “\+C\+T\+S\+\_\+\+Time” shall be calculated using the length of the C\+TS frame and the data rate at which the R\+TS frame used for the most recent N\+AV update was received.
\begin{DoxyCode}
1373 \{
1374   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}{m\_lastNavStart} <= \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ());
1375   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} duration = hdr.GetDuration ();
1376 
1377   \textcolor{keywordflow}{if} (hdr.IsCfpoll ()
1378       && hdr.GetAddr2 () == \hyperlink{classns3_1_1MacLow_a36761d1d6c972817b9e2361952180923}{m\_bssid})
1379     \{
1380       \textcolor{comment}{//see section 9.3.2.2 802.11-1999}
1381       \hyperlink{classns3_1_1MacLow_abcc34d5e7e18f1f9df32adb248efccea}{DoNavResetNow} (duration);
1382       \textcolor{keywordflow}{return};
1383     \}
1386   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.GetAddr1 () != \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self})
1387     \{
1388       \textcolor{comment}{// see section 9.2.5.4 802.11-1999}
1389       \textcolor{keywordtype}{bool} navUpdated = \hyperlink{classns3_1_1MacLow_ab35a898f608bb1103394e56a77c01343}{DoNavStartNow} (duration);
1390       \textcolor{keywordflow}{if} (hdr.IsRts () && navUpdated)
1391         \{
1400           WifiMacHeader cts;
1401           cts.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa529299bd6c8159e0dc3f56acb749eff4}{WIFI\_MAC\_CTL\_CTS});
1402           WifiTxVector txVector = \hyperlink{classns3_1_1MacLow_ac6133f8084d7d290687da468665e36a0}{GetRtsTxVector} (packet, &hdr);
1403           \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} navCounterResetCtsMissedDelay =
1404             \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (cts.GetSerializedSize (), txVector, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ()) +
1405             \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} (2 * \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ()) + \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} (2 * \hyperlink{classns3_1_1MacLow_a8a1429d2aba218b4a4e2e5ad37dce6c8}{GetSlotTime} ());
1406           \hyperlink{classns3_1_1MacLow_a5aef4547e2a6ddad9c85d55bf77e43b1}{m\_navCounterResetCtsMissed} = 
      \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (navCounterResetCtsMissedDelay,
1407                                                             &
      \hyperlink{classns3_1_1MacLow_af0f8457a65c1870cbba6289da87f96d6}{MacLow::NavCounterResetCtsMissed}, \textcolor{keyword}{this},
1408                                                             \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ());
1409         \}
1410     \}
1411 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 100




Here is the caller graph for this function\+:
% FIG 101


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Notify\+Sleep\+Now@{Notify\+Sleep\+Now}}
\index{Notify\+Sleep\+Now@{Notify\+Sleep\+Now}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Notify\+Sleep\+Now(void)}{NotifySleepNow(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Notify\+Sleep\+Now (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_ae772476fce0b730d2e5949bfa0287965}{}\label{classns3_1_1MacLow_ae772476fce0b730d2e5949bfa0287965}
This method is typically invoked by the \hyperlink{classns3_1_1PhyMacLowListener}{Phy\+Mac\+Low\+Listener} to notify the M\+AC layer that the device has been put into sleep mode. When the device is put into sleep mode, pending M\+AC transmissions (R\+TS, C\+TS, D\+A\+TA and A\+CK) are cancelled. 
\begin{DoxyCode}
797 \{
798   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Device in sleep mode. Cancelling MAC pending events"});
799   \hyperlink{classns3_1_1MacLow_afecf8a67fd2052dc23f94e77b9768d6b}{CancelAllEvents} ();
800   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a5aef4547e2a6ddad9c85d55bf77e43b1}{m\_navCounterResetCtsMissed}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
801     \{
802       \hyperlink{classns3_1_1MacLow_a5aef4547e2a6ddad9c85d55bf77e43b1}{m\_navCounterResetCtsMissed}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
803     \}
804   \hyperlink{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}{m\_lastNavStart} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
805   \hyperlink{classns3_1_1MacLow_a939a71bf7296a87bfc5bf2eb8b026b4b}{m\_lastNavDuration} = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
806   \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket} = 0;
807   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = 0;
808 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 102




Here is the caller graph for this function\+:
% FIG 103


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Notify\+Switching\+Start\+Now@{Notify\+Switching\+Start\+Now}}
\index{Notify\+Switching\+Start\+Now@{Notify\+Switching\+Start\+Now}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Notify\+Switching\+Start\+Now(\+Time duration)}{NotifySwitchingStartNow(Time duration)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Notify\+Switching\+Start\+Now (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{duration}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a1952eb06064aac3eca3cd3edd426831b}{}\label{classns3_1_1MacLow_a1952eb06064aac3eca3cd3edd426831b}

\begin{DoxyParams}{Parameters}
{\em duration} & switching delay duration.\\
\hline
\end{DoxyParams}
This method is typically invoked by the \hyperlink{classns3_1_1PhyMacLowListener}{Phy\+Mac\+Low\+Listener} to notify the M\+AC layer that a channel switching occured. When a channel switching occurs, pending M\+AC transmissions (R\+TS, C\+TS, D\+A\+TA and A\+CK) are cancelled. 
\begin{DoxyCode}
781 \{
782   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"switching channel. Cancelling MAC pending events"});
783   \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_aced390304611226a99f37dcfefd45f33}{Reset} ();
784   \hyperlink{classns3_1_1MacLow_afecf8a67fd2052dc23f94e77b9768d6b}{CancelAllEvents} ();
785   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a5aef4547e2a6ddad9c85d55bf77e43b1}{m\_navCounterResetCtsMissed}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
786     \{
787       \hyperlink{classns3_1_1MacLow_a5aef4547e2a6ddad9c85d55bf77e43b1}{m\_navCounterResetCtsMissed}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
788     \}
789   \hyperlink{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}{m\_lastNavStart} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
790   \hyperlink{classns3_1_1MacLow_a939a71bf7296a87bfc5bf2eb8b026b4b}{m\_lastNavDuration} = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
791   \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket} = 0;
792   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = 0;
793 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 104




Here is the caller graph for this function\+:
% FIG 105


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Perform\+Msdu\+Aggregation@{Perform\+Msdu\+Aggregation}}
\index{Perform\+Msdu\+Aggregation@{Perform\+Msdu\+Aggregation}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Perform\+Msdu\+Aggregation(\+Ptr$<$ const Packet $>$ packet, Wifi\+Mac\+Header $\ast$hdr, Time $\ast$tstamp, Ptr$<$ Packet $>$ current\+Ampdu\+Packet, uint16\+\_\+t block\+Ack\+Size)}{PerformMsduAggregation(Ptr< const Packet > packet, WifiMacHeader *hdr, Time *tstamp, Ptr< Packet > currentAmpduPacket, uint16_t blockAckSize)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Packet} $>$ ns3\+::\+Mac\+Low\+::\+Perform\+Msdu\+Aggregation (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{{\bf Wifi\+Mac\+Header} $\ast$}]{hdr, }
\item[{{\bf Time} $\ast$}]{tstamp, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{current\+Ampdu\+Packet, }
\item[{uint16\+\_\+t}]{block\+Ack\+Size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aabd112b43fd3be901c743b21d41f787f}{}\label{classns3_1_1MacLow_aabd112b43fd3be901c743b21d41f787f}
Perform M\+S\+DU aggregation for a given M\+P\+DU in an A-\/\+M\+P\+DU


\begin{DoxyParams}{Parameters}
{\em packet} & packet picked for aggregation \\
\hline
{\em hdr} & 802.\+11 header for packet picked for aggregation \\
\hline
{\em tstamp} & timestamp \\
\hline
{\em current\+Ampdu\+Packet} & current A-\/\+M\+P\+DU packet \\
\hline
{\em block\+Ack\+Size} & size of the piggybacked block ack request\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the aggregate if M\+S\+DU aggregation succeeded, 0 otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
3030 \{
3031   \textcolor{keywordtype}{bool} msduAggregation = \textcolor{keyword}{false};
3032   \textcolor{keywordtype}{bool} isAmsdu = \textcolor{keyword}{false};
3033   Ptr<Packet> currentAmsduPacket = Create<Packet> ();
3034   Ptr<Packet> tempPacket = Create<Packet> ();
3035 
3036   Ptr<WifiMacQueue> queue;
3037   \hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{AcIndex} ac = \hyperlink{group__wifi_ga4e36efcff6dd83eaee42e1af0de43d48}{QosUtilsMapTidToAc} (\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, *hdr));
3038   std::map<AcIndex, Ptr<EdcaTxopN> >::const\_iterator edcaIt = \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}.find (ac);
3039   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (edcaIt != \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}.end ());
3040   queue = edcaIt->second->GetQueue ();
3041 
3042   Ptr<const WifiMacQueueItem> peekedItem = queue->DequeueByTidAndAddress (hdr->GetQosTid (),
3043                                                                           
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1},
3044                                                                           hdr->GetAddr1 ());
3045   \textcolor{keywordflow}{if} (peekedItem)
3046     \{
3047       *hdr = peekedItem->GetHeader ();
3048     \}
3049 
3050   edcaIt->second->GetMsduAggregator ()->Aggregate (packet, currentAmsduPacket,
3051                                                    edcaIt->second->MapSrcAddressForAggregation (*hdr),
3052                                                    edcaIt->second->MapDestAddressForAggregation (*hdr));
3053 
3054   peekedItem = queue->PeekByTidAndAddress (hdr->GetQosTid (), 
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1}, hdr->GetAddr1 ());
3055   \textcolor{keywordflow}{while} (peekedItem != 0)
3056     \{
3057       *hdr = peekedItem->GetHeader ();
3058       *tstamp = peekedItem->GetTimeStamp ();
3059       tempPacket = currentAmsduPacket;
3060 
3061       msduAggregation = edcaIt->second->GetMsduAggregator ()->Aggregate (peekedItem->GetPacket (), 
      tempPacket,
3062                                                                          edcaIt->second->
      MapSrcAddressForAggregation (*hdr),
3063                                                                          edcaIt->second->
      MapDestAddressForAggregation (*hdr));
3064 
3065       \textcolor{keywordflow}{if} (msduAggregation && !\hyperlink{classns3_1_1MacLow_aead5c738f9be3650b2b55a1a307029db}{StopMpduAggregation} (tempPacket, *hdr, currentAmpduPacket,
       blockAckSize))
3066         \{
3067           isAmsdu = \textcolor{keyword}{true};
3068           currentAmsduPacket = tempPacket;
3069           queue->Remove (peekedItem->GetPacket ());
3070         \}
3071       \textcolor{keywordflow}{else}
3072         \{
3073           \textcolor{keywordflow}{break};
3074         \}
3075       peekedItem = queue->PeekByTidAndAddress (hdr->GetQosTid (), 
      \hyperlink{classns3_1_1WifiMacHeader_a17406db48973a8e8fb6d961dd35154fea8ff9765c77ab96f3bbc7385ece3d00bf}{WifiMacHeader::ADDR1}, hdr->GetAddr1 ());
3076     \}
3077 
3078   \textcolor{keywordflow}{if} (isAmsdu)
3079     \{
3080       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"A-MSDU with size = "} << currentAmsduPacket->GetSize ());
3081       hdr->SetQosAmsdu ();
3082       hdr->SetAddr3 (\hyperlink{classns3_1_1MacLow_a4d11b37c976a0bac9d123fcc4b1fb9e6}{GetBssid} ());
3083       \textcolor{keywordflow}{return} currentAmsduPacket;
3084     \}
3085   \textcolor{keywordflow}{else}
3086     \{
3087       queue->PushFront (Create<WifiMacQueueItem> (packet, *hdr));
3088       \textcolor{keywordflow}{return} 0;
3089     \}
3090 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 106




Here is the caller graph for this function\+:
% FIG 107


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Receive\+Error@{Receive\+Error}}
\index{Receive\+Error@{Receive\+Error}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Receive\+Error(\+Ptr$<$ Packet $>$ packet, double rx\+Snr)}{ReceiveError(Ptr< Packet > packet, double rxSnr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Receive\+Error (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{double}]{rx\+Snr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a657ff8ed7c720eaaa77ee77a674b6289}{}\label{classns3_1_1MacLow_a657ff8ed7c720eaaa77ee77a674b6289}

\begin{DoxyParams}{Parameters}
{\em packet} & packet received. \\
\hline
{\em rx\+Snr} & snr of packet received.\\
\hline
\end{DoxyParams}
This method is typically invoked by the lower P\+HY layer to notify the M\+AC layer that a packet was unsuccessfully received. 
\begin{DoxyCode}
767 \{
768   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << rxSnr);
769   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx failed"});
770   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a556e680aab416b0de270d487f94e236f}{MustWaitFastAck} ())
771     \{
772       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_af34b1f498e3b5a25a62fd4bf5f6f943a}{m\_fastAckFailedTimeoutEvent}.
      \hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
773       \hyperlink{classns3_1_1MacLow_af34b1f498e3b5a25a62fd4bf5f6f943a}{m\_fastAckFailedTimeoutEvent} = 
      \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (\hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} (),
774                                                          &
      \hyperlink{classns3_1_1MacLow_a6d34fa0fc66def64bcad964b5483605c}{MacLow::FastAckFailedTimeout}, \textcolor{keyword}{this});
775     \}
776   \textcolor{keywordflow}{return};
777 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 108




Here is the caller graph for this function\+:
% FIG 109


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Receive\+Mpdu@{Receive\+Mpdu}}
\index{Receive\+Mpdu@{Receive\+Mpdu}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Receive\+Mpdu(\+Ptr$<$ Packet $>$ packet, Wifi\+Mac\+Header hdr)}{ReceiveMpdu(Ptr< Packet > packet, WifiMacHeader hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Receive\+Mpdu (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{{\bf Wifi\+Mac\+Header}}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a372fe3a76617f1aefa4918f4b1541e88}{}\label{classns3_1_1MacLow_a372fe3a76617f1aefa4918f4b1541e88}

\begin{DoxyParams}{Parameters}
{\em packet} & the packet \\
\hline
{\em hdr} & the header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if M\+P\+DU received
\end{DoxyReturn}
This method updates the reorder buffer and the scoreboard when an M\+P\+DU is received in an HT station and stores the M\+P\+DU if needed when an M\+P\+DU is received in an non-\/\+HT Station (implements HT immediate block Ack) 
\begin{DoxyCode}
2173 \{
2174   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ac792dc8f3c77d507d25de0b87b52608c}{HasHtSupported} () || 
      \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_afae2836c7785854272d73bf33e58c95a}{HasVhtSupported} ())
2175     \{
2176       Mac48Address originator = hdr.GetAddr2 ();
2177       uint8\_t tid = 0;
2178       \textcolor{keywordflow}{if} (hdr.IsQosData ())
2179         \{
2180           tid = hdr.GetQosTid ();
2181         \}
2182       uint16\_t seqNumber = hdr.GetSequenceNumber ();
2183       \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (originator, tid));
2184       \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.end ())
2185         \{
2186           \textcolor{comment}{//Implement HT immediate Block Ack support for HT Delayed Block Ack is not added yet}
2187           \textcolor{keywordflow}{if} (!\hyperlink{group__wifi_ga5cb9ea723837c5a036e622612f2d0bb0}{QosUtilsIsOldPacket} ((*it).second.first.GetStartingSequence (), seqNumber
      ))
2188             \{
2189               \hyperlink{classns3_1_1MacLow_aeada564fc806b1e258a3ef24dd867fdf}{StoreMpduIfNeeded} (packet, hdr);
2190               \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1MacLow_a442078ddeb869fa7e76f35f32e0533c2}{IsInWindow} (hdr.GetSequenceNumber (), (*it).second.first.GetStartingSequence (
      ), (*it).second.first.GetBufferSize ()))
2191                 \{
2192                   uint16\_t delta = (seqNumber - (*it).second.first.GetWinEnd () + 4096) % 4096;
2193                   \textcolor{keywordflow}{if} (delta > 1)
2194                     \{
2195                       (*it).second.first.SetWinEnd (seqNumber);
2196                       int16\_t winEnd = (*it).second.first.GetWinEnd ();
2197                       int16\_t bufferSize = (*it).second.first.GetBufferSize ();
2198                       uint16\_t sum = ((uint16\_t)(std::abs (winEnd - bufferSize + 1))) % 4096;
2199                       (*it).second.first.SetStartingSequence (sum);
2200                       \hyperlink{classns3_1_1MacLow_aaed81a6cbf94baf2b2f17b9f96b8474d}{RxCompleteBufferedPacketsWithSmallerSequence}
       ((*it).second.first.GetStartingSequenceControl (), originator, tid);
2201                     \}
2202                 \}
2203               \hyperlink{classns3_1_1MacLow_aeadf392d37d323fb81f0ef0766f2359a}{RxCompleteBufferedPacketsUntilFirstLost} (originator, 
      tid); \textcolor{comment}{//forwards up packets starting from winstart and set winstart to last +1}
2204               (*it).second.first.SetWinEnd (((*it).second.first.GetStartingSequence () + (*it).second.first
      .GetBufferSize () - 1) % 4096);
2205             \}
2206           \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2207         \}
2208       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2209     \}
2210   \textcolor{keywordflow}{else}
2211     \{
2212       \textcolor{keywordflow}{return} \hyperlink{classns3_1_1MacLow_aeada564fc806b1e258a3ef24dd867fdf}{StoreMpduIfNeeded} (packet, hdr);
2213     \}
2214 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 110




Here is the caller graph for this function\+:
% FIG 111


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Receive\+Ok@{Receive\+Ok}}
\index{Receive\+Ok@{Receive\+Ok}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Receive\+Ok(\+Ptr$<$ Packet $>$ packet, double rx\+Snr, Wifi\+Tx\+Vector tx\+Vector, bool ampdu\+Subframe)}{ReceiveOk(Ptr< Packet > packet, double rxSnr, WifiTxVector txVector, bool ampduSubframe)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Receive\+Ok (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{double}]{rx\+Snr, }
\item[{{\bf Wifi\+Tx\+Vector}}]{tx\+Vector, }
\item[{bool}]{ampdu\+Subframe}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_ade59e3a5e41c6ccbafd93501d7e9fbc0}{}\label{classns3_1_1MacLow_ade59e3a5e41c6ccbafd93501d7e9fbc0}

\begin{DoxyParams}{Parameters}
{\em packet} & packet received \\
\hline
{\em rx\+Snr} & snr of packet received \\
\hline
{\em tx\+Vector} & T\+X\+V\+E\+C\+T\+OR of packet received \\
\hline
{\em ampdu\+Subframe} & true if this M\+P\+DU is part of an A-\/\+M\+P\+DU\\
\hline
\end{DoxyParams}
This method is typically invoked by the lower P\+HY layer to notify the M\+AC layer that a packet was successfully received. 
\begin{DoxyCode}
812 \{
813   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << rxSnr << txVector.GetMode () << txVector.
      GetPreambleType ());
814   \textcolor{comment}{/* A packet is received from the PHY.}
815 \textcolor{comment}{   * When we have handled this packet,}
816 \textcolor{comment}{   * we handle any packet present in the}
817 \textcolor{comment}{   * packet queue.}
818 \textcolor{comment}{   */}
819   WifiMacHeader hdr;
820   packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (hdr);
821   \hyperlink{classns3_1_1MacLow_aa085c0d48ba7c17138b8027666d85bb5}{m\_lastReceivedHdr} = hdr;
822 
823   \textcolor{keywordtype}{bool} isPrevNavZero = \hyperlink{classns3_1_1MacLow_a41988b43a8e4d1805c5bee02e88f7811}{IsNavZero} ();
824   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"duration/id="} << hdr.GetDuration ());
825   \hyperlink{classns3_1_1MacLow_a6ff5bbb311cf902d961bf6871f2929d0}{NotifyNav} (packet, hdr, txVector.GetPreambleType ());
826   \textcolor{keywordflow}{if} (hdr.IsRts ())
827     \{
828       \textcolor{comment}{/* see section 9.2.5.7 802.11-1999}
829 \textcolor{comment}{       * A STA that is addressed by an RTS frame shall transmit a CTS frame after a SIFS}
830 \textcolor{comment}{       * period if the NAV at the STA receiving the RTS frame indicates that the medium is}
831 \textcolor{comment}{       * idle. If the NAV at the STA receiving the RTS indicates the medium is not idle,}
832 \textcolor{comment}{       * that STA shall not respond to the RTS frame.}
833 \textcolor{comment}{       */}
834       \textcolor{keywordflow}{if} (ampduSubframe)
835         \{
836           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Received RTS as part of an A-MPDU"});
837         \}
838       \textcolor{keywordflow}{else}
839         \{
840           \textcolor{keywordflow}{if} (isPrevNavZero
841               && hdr.GetAddr1 () == \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self})
842             \{
843               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx RTS from="} << hdr.GetAddr2 () << \textcolor{stringliteral}{", schedule CTS"});
844               \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_ade35698702b1353f2eff6b97653f8b0e}{m\_sendCtsEvent}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
845               \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a58e79dd3960c03fdd28ee8c0dde03d8f}{ReportRxOk} (hdr.GetAddr2 (), &hdr,
846                                             rxSnr, txVector.GetMode ());
847               \hyperlink{classns3_1_1MacLow_ade35698702b1353f2eff6b97653f8b0e}{m\_sendCtsEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} (),
848                                                     &\hyperlink{classns3_1_1MacLow_aebcd4c3e8d64fb53af1f8a862c766e33}{MacLow::SendCtsAfterRts}, \textcolor{keyword}{this},
849                                                     hdr.GetAddr2 (),
850                                                     hdr.GetDuration (),
851                                                     txVector,
852                                                     rxSnr);
853             \}
854           \textcolor{keywordflow}{else}
855             \{
856               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx RTS from="} << hdr.GetAddr2 () << \textcolor{stringliteral}{", cannot schedule CTS"});
857             \}
858         \}
859     \}
860   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.IsCts ()
861            && hdr.GetAddr1 () == \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self}
862            && \hyperlink{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}{m\_ctsTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ()
863            && \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket} != 0)
864     \{
865       \textcolor{keywordflow}{if} (ampduSubframe)
866         \{
867           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Received CTS as part of an A-MPDU"});
868         \}
869 
870       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"received cts from="} << \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ());
871 
872       SnrTag tag;
873       packet->\hyperlink{classns3_1_1Packet_a078fe922d976a417ab25ba2f3c2fd667}{RemovePacketTag} (tag);
874       \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a58e79dd3960c03fdd28ee8c0dde03d8f}{ReportRxOk} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr},
875                                     rxSnr, txVector.GetMode ());
876       \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a2425bdf15c98334f1714c75111725fa3}{ReportRtsOk} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr},
877                                      rxSnr, txVector.GetMode (), tag.Get ());
878 
879       \hyperlink{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}{m\_ctsTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
880       \hyperlink{classns3_1_1MacLow_a4a5811d6177046db69e71af9dfc5cb0f}{NotifyCtsTimeoutResetNow} ();
881       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}{m\_sendDataEvent}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
882       \hyperlink{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}{m\_sendDataEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} (),
883                                              &\hyperlink{classns3_1_1MacLow_a063bab2ef4e7320a3f8cfa9890090ab6}{MacLow::SendDataAfterCts}, \textcolor{keyword}{this},
884                                              hdr.GetAddr1 (),
885                                              hdr.GetDuration ());
886     \}
887   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.IsAck ()
888            && hdr.GetAddr1 () == \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self}
889            && (\hyperlink{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{m\_normalAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ()
890                || \hyperlink{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{m\_fastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ()
891                || \hyperlink{classns3_1_1MacLow_ae2473406a32bcd2bd581a57da4683b18}{m\_superFastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
892            && \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa7d49e04e12fbc04d1d0fa4f256a0c88}{MustWaitAck} ())
893     \{
894       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"receive ack from="} << \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ());
895       SnrTag tag;
896       packet->\hyperlink{classns3_1_1Packet_a078fe922d976a417ab25ba2f3c2fd667}{RemovePacketTag} (tag);
897       \textcolor{comment}{//When fragmentation is used, only update manager when the last fragment is acknowledged}
898       \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa77eff21861b910ba0e82cf642df6f5e}{HasNextPacket} ())
899         \{
900           \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a58e79dd3960c03fdd28ee8c0dde03d8f}{ReportRxOk} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr},
901                                         rxSnr, txVector.GetMode ());
902           \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a38c1f44b154a85d4989efa5791aeac04}{ReportDataOk} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr},
903                                           rxSnr, txVector.GetMode (), tag.Get ());
904         \}
905       \textcolor{keywordtype}{bool} gotAck = \textcolor{keyword}{false};
906       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a39fb4df4ce039751fedc06e52af0f281}{MustWaitNormalAck} ()
907           && \hyperlink{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{m\_normalAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
908         \{
909           \hyperlink{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{m\_normalAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
910           \hyperlink{classns3_1_1MacLow_a6efebdcb2cfbfb98f184587e0ffac4a8}{NotifyAckTimeoutResetNow} ();
911           gotAck = \textcolor{keyword}{true};
912         \}
913       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a556e680aab416b0de270d487f94e236f}{MustWaitFastAck} ()
914           && \hyperlink{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{m\_fastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
915         \{
916           \hyperlink{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{m\_fastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
917           \hyperlink{classns3_1_1MacLow_a6efebdcb2cfbfb98f184587e0ffac4a8}{NotifyAckTimeoutResetNow} ();
918           gotAck = \textcolor{keyword}{true};
919         \}
920       \textcolor{keywordflow}{if} (gotAck)
921         \{
922           \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca}->GotAck ();
923         \}
924       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa77eff21861b910ba0e82cf642df6f5e}{HasNextPacket} () && (!\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () || \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca}->GetTxopLimit ().IsZero () || 
      \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca}->HasTxop ()))
925         \{
926           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a19e2cd8b8c0a6d39ec014a27c2f817f2}{GetRifsPermitted} ())
927             \{
928               \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1MacLow_add308ae9aa7b74b3132cd270c5dbfb22}{GetRifs} (), &\hyperlink{classns3_1_1MacLow_a3087bf08c1005df5654ede7311173e4f}{MacLow::WaitIfsAfterEndTxFragment}, \textcolor{keyword}{this});
929             \}
930           \textcolor{keywordflow}{else}
931             \{
932               \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} (), &\hyperlink{classns3_1_1MacLow_a3087bf08c1005df5654ede7311173e4f}{MacLow::WaitIfsAfterEndTxFragment}, \textcolor{keyword}{this});
933             \}
934         \}
935       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca}->HasTxop ())
936         \{
937           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a19e2cd8b8c0a6d39ec014a27c2f817f2}{GetRifsPermitted} ())
938             \{
939               \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1MacLow_add308ae9aa7b74b3132cd270c5dbfb22}{GetRifs} (), &\hyperlink{classns3_1_1MacLow_a17e509f5f61f862d9a49d01d7cf3a821}{MacLow::WaitIfsAfterEndTxPacket}, \textcolor{keyword}{this});
940             \}
941           \textcolor{keywordflow}{else}
942             \{
943               \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} (), &\hyperlink{classns3_1_1MacLow_a17e509f5f61f862d9a49d01d7cf3a821}{MacLow::WaitIfsAfterEndTxPacket}, \textcolor{keyword}{this});
944             \}
945         \}
946       \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} = \textcolor{keyword}{false};
947       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ())
948         \{
949           \hyperlink{classns3_1_1MacLow_ab143d3691846b2638a6f089c96169ee2}{FlushAggregateQueue} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a2b3faf14ac0d16a29729a2336afd7662}{GetQosTid} ());
950         \}
951     \}
952   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.IsBlockAck () && hdr.GetAddr1 () == \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self}
953            && (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aea99b66ee9ebcb0f4429bb98be411023}{MustWaitBasicBlockAck} () || 
      \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aac6b2115c70ccf5fa73e265855790a5d}{MustWaitCompressedBlockAck} ())
954            && \hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\_blockAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
955     \{
956       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"got block ack from "} << hdr.GetAddr2 ());
957       SnrTag tag;
958       packet->\hyperlink{classns3_1_1Packet_a078fe922d976a417ab25ba2f3c2fd667}{RemovePacketTag} (tag);
959       \hyperlink{classns3_1_1MacLow_ab143d3691846b2638a6f089c96169ee2}{FlushAggregateQueue} (\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, hdr));
960       CtrlBAckResponseHeader blockAck;
961       packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (blockAck);
962       \hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\_blockAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
963       \hyperlink{classns3_1_1MacLow_a6efebdcb2cfbfb98f184587e0ffac4a8}{NotifyAckTimeoutResetNow} ();
964       \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca}->GotBlockAck (&blockAck, hdr.GetAddr2 (), rxSnr, txVector.GetMode (), tag.
      Get ());
965       \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} = \textcolor{keyword}{false};
966       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca}->HasTxop ())
967         \{
968           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a19e2cd8b8c0a6d39ec014a27c2f817f2}{GetRifsPermitted} ())
969             \{
970               \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1MacLow_add308ae9aa7b74b3132cd270c5dbfb22}{GetRifs} (), &\hyperlink{classns3_1_1MacLow_a17e509f5f61f862d9a49d01d7cf3a821}{MacLow::WaitIfsAfterEndTxPacket}, \textcolor{keyword}{this});
971             \}
972           \textcolor{keywordflow}{else}
973             \{
974               \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} (), &\hyperlink{classns3_1_1MacLow_a17e509f5f61f862d9a49d01d7cf3a821}{MacLow::WaitIfsAfterEndTxPacket}, \textcolor{keyword}{this});
975             \}
976         \}
977     \}
978   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.IsBlockAckReq () && hdr.GetAddr1 () == \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self})
979     \{
980       CtrlBAckRequestHeader blockAckReq;
981       packet->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (blockAckReq);
982       \textcolor{keywordflow}{if} (!blockAckReq.IsMultiTid ())
983         \{
984           uint8\_t tid = blockAckReq.GetTidInfo ();
985           \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (hdr.GetAddr2 (
      ), tid));
986           \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.end ())
987             \{
988               \textcolor{comment}{//Update block ack cache}
989               \hyperlink{classns3_1_1MacLow_ae0b0abf84b6078031fabd4e85e1cb1bf}{BlockAckCachesI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.find (std::make\_pair (hdr.
      GetAddr2 (), tid));
990               \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (i != \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.end ());
991               (*i).second.UpdateWithBlockAckReq (blockAckReq.GetStartingSequence ());
992 
993               \textcolor{comment}{//NS\_ASSERT (m\_sendAckEvent.IsExpired ());}
994               \hyperlink{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{m\_sendAckEvent}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
995               \textcolor{comment}{/* See section 11.5.3 in IEEE 802.11 for mean of this timer */}
996               \hyperlink{classns3_1_1MacLow_aafa012c5d2dde80484d6546c802f02f8}{ResetBlockAckInactivityTimerIfNeeded} (it->second.first);
997               \textcolor{keywordflow}{if} ((*it).second.first.IsImmediateBlockAck ())
998                 \{
999                   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx blockAckRequest/sendImmediateBlockAck from="} << hdr.
      GetAddr2 ());
1000                   \hyperlink{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{m\_sendAckEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} (),
1001                                                         &
      \hyperlink{classns3_1_1MacLow_a84b96c0cc6f32fca28576ec4df6a0853}{MacLow::SendBlockAckAfterBlockAckRequest}, \textcolor{keyword}{this},
1002                                                         blockAckReq,
1003                                                         hdr.GetAddr2 (),
1004                                                         hdr.GetDuration (),
1005                                                         txVector.GetMode (),
1006                                                         rxSnr);
1007                 \}
1008               \textcolor{keywordflow}{else}
1009                 \{
1010                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Delayed block ack not supported."});
1011                 \}
1012             \}
1013           \textcolor{keywordflow}{else}
1014             \{
1015               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"There's not a valid agreement for this block ack request."});
1016             \}
1017         \}
1018       \textcolor{keywordflow}{else}
1019         \{
1020           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Multi-tid block ack is not supported."});
1021         \}
1022     \}
1023   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.IsCtl ())
1024     \{
1025       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx drop "} << hdr.GetTypeString ());
1026     \}
1027   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.GetAddr1 () == \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self})
1028     \{
1029       \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a58e79dd3960c03fdd28ee8c0dde03d8f}{ReportRxOk} (hdr.GetAddr2 (), &hdr,
1030                                     rxSnr, txVector.GetMode ());
1031       \textcolor{keywordflow}{if} (hdr.IsQosData () && \hyperlink{classns3_1_1MacLow_a372fe3a76617f1aefa4918f4b1541e88}{ReceiveMpdu} (packet, hdr))
1032         \{
1033           \textcolor{comment}{/* From section 9.10.4 in IEEE 802.11:}
1034 \textcolor{comment}{             Upon the receipt of a QoS data frame from the originator for which}
1035 \textcolor{comment}{             the Block Ack agreement exists, the recipient shall buffer the MSDU}
1036 \textcolor{comment}{             regardless of the value of the Ack Policy subfield within the}
1037 \textcolor{comment}{             QoS Control field of the QoS data frame. */}
1038           \textcolor{keywordflow}{if} (hdr.IsQosAck () && !ampduSubframe)
1039             \{
1040               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx QoS unicast/sendAck from="} << hdr.GetAddr2 ());
1041               \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (hdr.
      GetAddr2 (), hdr.GetQosTid ()));
1042 
1043               \hyperlink{classns3_1_1MacLow_aaed81a6cbf94baf2b2f17b9f96b8474d}{RxCompleteBufferedPacketsWithSmallerSequence} (it
      ->second.first.GetStartingSequenceControl (),
1044                                                             hdr.GetAddr2 (), hdr.GetQosTid ());
1045               \hyperlink{classns3_1_1MacLow_aeadf392d37d323fb81f0ef0766f2359a}{RxCompleteBufferedPacketsUntilFirstLost} (hdr.GetAddr2 
      (), hdr.GetQosTid ());
1046               \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (m\_sendAckEvent.IsExpired ());
1047               m\_sendAckEvent = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (\hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} (),
1048                                                     &\hyperlink{classns3_1_1MacLow_a8db1635644b89072dfcb5fbc2330031b}{MacLow::SendAckAfterData}, \textcolor{keyword}{this}
      ,
1049                                                     hdr.GetAddr2 (),
1050                                                     hdr.GetDuration (),
1051                                                     txVector.GetMode (),
1052                                                     rxSnr);
1053             \}
1054           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.IsQosBlockAck ())
1055             \{
1056               \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (hdr.
      GetAddr2 (), hdr.GetQosTid ()));
1057               \textcolor{comment}{/* See section 11.5.3 in IEEE 802.11 for mean of this timer */}
1058               \hyperlink{classns3_1_1MacLow_aafa012c5d2dde80484d6546c802f02f8}{ResetBlockAckInactivityTimerIfNeeded} (it->second.first);
1059             \}
1060           \textcolor{keywordflow}{return};
1061         \}
1062       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.IsQosData () && hdr.IsQosBlockAck ())
1063         \{
1064           \textcolor{comment}{/* This happens if a packet with ack policy Block Ack is received and a block ack}
1065 \textcolor{comment}{             agreement for that packet doesn't exist.}
1066 \textcolor{comment}{}
1067 \textcolor{comment}{             From section 11.5.3 in IEEE 802.11e:}
1068 \textcolor{comment}{             When a recipient does not have an active Block ack for a TID, but receives}
1069 \textcolor{comment}{             data MPDUs with the Ack Policy subfield set to Block Ack, it shall discard}
1070 \textcolor{comment}{             them and shall send a DELBA frame using the normal access}
1071 \textcolor{comment}{             mechanisms. */}
1072           \hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{AcIndex} ac = \hyperlink{group__wifi_ga4e36efcff6dd83eaee42e1af0de43d48}{QosUtilsMapTidToAc} (hdr.GetQosTid ());
1073           \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}[ac]->SendDelbaFrame (hdr.GetAddr2 (), hdr.GetQosTid (), \textcolor{keyword}{false});
1074           \textcolor{keywordflow}{return};
1075         \}
1076       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.IsQosData () && hdr.IsQosNoAck ())
1077         \{
1078           \textcolor{keywordflow}{if} (ampduSubframe)
1079             \{
1080               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx Ampdu with No Ack Policy from="} << hdr.GetAddr2 ());
1081             \}
1082           \textcolor{keywordflow}{else}
1083             \{
1084               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx unicast/noAck from="} << hdr.GetAddr2 ());
1085             \}
1086         \}
1087       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.IsData () || hdr.IsMgt ())
1088         \{
1089           \textcolor{keywordflow}{if} (hdr.IsProbeResp ())
1090             \{
1091               \textcolor{comment}{// Apply SNR tag for probe response quality measurements}
1092               SnrTag tag;
1093               tag.Set (rxSnr);
1094               packet->\hyperlink{classns3_1_1Packet_a7400b8655852f5271c5957250d0141af}{AddPacketTag} (tag);
1095             \}
1096           \textcolor{keywordflow}{if} (hdr.IsMgt () && ampduSubframe)
1097             \{
1098               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Received management packet as part of an A-MPDU"});
1099             \}
1100           \textcolor{keywordflow}{else}
1101             \{
1102               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx unicast/sendAck from="} << hdr.GetAddr2 ());
1103               \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (m\_sendAckEvent.IsExpired ());
1104               m\_sendAckEvent = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (\hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} (),
1105                                                     &\hyperlink{classns3_1_1MacLow_a8db1635644b89072dfcb5fbc2330031b}{MacLow::SendAckAfterData}, \textcolor{keyword}{this}
      ,
1106                                                     hdr.GetAddr2 (),
1107                                                     hdr.GetDuration (),
1108                                                     txVector.GetMode (),
1109                                                     rxSnr);
1110             \}
1111         \}
1112       \textcolor{keywordflow}{goto} rxPacket;
1113     \}
1114   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (hdr.GetAddr1 ().IsGroup ())
1115     \{
1116       \textcolor{keywordflow}{if} (ampduSubframe)
1117         \{
1118           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Received group addressed packet as part of an A-MPDU"});
1119         \}
1120       \textcolor{keywordflow}{else}
1121         \{
1122           \textcolor{keywordflow}{if} (hdr.IsData () || hdr.IsMgt ())
1123             \{
1124               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx group from="} << hdr.GetAddr2 ());
1125               \textcolor{keywordflow}{if} (hdr.IsBeacon ())
1126                 \{
1127                   \textcolor{comment}{// Apply SNR tag for beacon quality measurements}
1128                   SnrTag tag;
1129                   tag.Set (rxSnr);
1130                   packet->\hyperlink{classns3_1_1Packet_a7400b8655852f5271c5957250d0141af}{AddPacketTag} (tag);
1131                 \}
1132               \textcolor{keywordflow}{goto} rxPacket;
1133             \}
1134         \}
1135     \}
1136   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_ad13beb74b1519291ee00d14f1d532fdb}{m\_promisc})
1137     \{
1138       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (hdr.GetAddr1 () != \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self});
1139       \textcolor{keywordflow}{if} (hdr.IsData ())
1140         \{
1141           \textcolor{keywordflow}{goto} rxPacket;
1142         \}
1143     \}
1144   \textcolor{keywordflow}{else}
1145     \{
1146       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"rx not for me from="} << hdr.GetAddr2 ());
1147     \}
1148   \textcolor{keywordflow}{return};
1149 rxPacket:
1150   WifiMacTrailer fcs;
1151   packet->\hyperlink{classns3_1_1Packet_a2155e042083e9a17ad3b33f9fecb4be4}{RemoveTrailer} (fcs);
1152   \hyperlink{classns3_1_1MacLow_ac5f2b06b6151c99816c66b7bf946a4d8}{m\_rxCallback} (packet, &hdr);
1153   \textcolor{keywordflow}{return};
1154 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 112




Here is the caller graph for this function\+:
% FIG 113


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Register\+Dcf@{Register\+Dcf}}
\index{Register\+Dcf@{Register\+Dcf}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Register\+Dcf(\+Ptr$<$ Dcf\+Manager $>$ dcf)}{RegisterDcf(Ptr< DcfManager > dcf)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Register\+Dcf (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Dcf\+Manager} $>$}]{dcf}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_af68ad85663b5dac711213b900bc0bdb2}{}\label{classns3_1_1MacLow_af68ad85663b5dac711213b900bc0bdb2}

\begin{DoxyParams}{Parameters}
{\em dcf} & listen to N\+AV events for every incoming and outgoing packet. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
604 \{
605   \hyperlink{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{m\_dcfManagers}.push\_back (dcf);
606 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 114


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Register\+Edca\+For\+Ac@{Register\+Edca\+For\+Ac}}
\index{Register\+Edca\+For\+Ac@{Register\+Edca\+For\+Ac}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Register\+Edca\+For\+Ac(\+Ac\+Index ac, Ptr$<$ Edca\+Txop\+N $>$ edca)}{RegisterEdcaForAc(AcIndex ac, Ptr< EdcaTxopN > edca)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Register\+Edca\+For\+Ac (
\begin{DoxyParamCaption}
\item[{{\bf Ac\+Index}}]{ac, }
\item[{{\bf Ptr}$<$ {\bf Edca\+TxopN} $>$}]{edca}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_ad991474873a0ddb28e8a61a1b766958f}{}\label{classns3_1_1MacLow_ad991474873a0ddb28e8a61a1b766958f}

\begin{DoxyParams}{Parameters}
{\em ac} & Access class managed by the queue. \\
\hline
{\em edca} & the \hyperlink{classns3_1_1EdcaTxopN}{Edca\+TxopN} for the queue.\\
\hline
\end{DoxyParams}
The lifetime of the registered \hyperlink{classns3_1_1EdcaTxopN}{Edca\+TxopN} is typically equal to the lifetime of the queue associated to this AC. 
\begin{DoxyCode}
2568 \{
2569   \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}.insert (std::make\_pair (ac, edca));
2570 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 115


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Remove\+Phy\+Mac\+Low\+Listener@{Remove\+Phy\+Mac\+Low\+Listener}}
\index{Remove\+Phy\+Mac\+Low\+Listener@{Remove\+Phy\+Mac\+Low\+Listener}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Remove\+Phy\+Mac\+Low\+Listener(\+Ptr$<$ Wifi\+Phy $>$ phy)}{RemovePhyMacLowListener(Ptr< WifiPhy > phy)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Remove\+Phy\+Mac\+Low\+Listener (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Wifi\+Phy} $>$}]{phy}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_afc60cdc4693e2fb6b2257aa015b9ec30}{}\label{classns3_1_1MacLow_afc60cdc4693e2fb6b2257aa015b9ec30}
Remove current \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} listener for this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em phy} & the \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} this \hyperlink{classns3_1_1MacLow}{Mac\+Low} is connected to \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
315 \{
316   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\_phyMacLowListener} != 0 )
317     \{
318       phy->\hyperlink{classns3_1_1WifiPhy_ab46c39e0c4b9f27dea418d6a34ce6606}{UnregisterListener} (\hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\_phyMacLowListener});
319       \textcolor{keyword}{delete} \hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\_phyMacLowListener};
320       \hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\_phyMacLowListener} = 0;
321     \}
322 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 116




Here is the caller graph for this function\+:
% FIG 117


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Reset\+Block\+Ack\+Inactivity\+Timer\+If\+Needed@{Reset\+Block\+Ack\+Inactivity\+Timer\+If\+Needed}}
\index{Reset\+Block\+Ack\+Inactivity\+Timer\+If\+Needed@{Reset\+Block\+Ack\+Inactivity\+Timer\+If\+Needed}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Reset\+Block\+Ack\+Inactivity\+Timer\+If\+Needed(\+Block\+Ack\+Agreement \&agreement)}{ResetBlockAckInactivityTimerIfNeeded(BlockAckAgreement &agreement)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Reset\+Block\+Ack\+Inactivity\+Timer\+If\+Needed (
\begin{DoxyParamCaption}
\item[{{\bf Block\+Ack\+Agreement} \&}]{agreement}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aafa012c5d2dde80484d6546c802f02f8}{}\label{classns3_1_1MacLow_aafa012c5d2dde80484d6546c802f02f8}
Every time that a block ack request or a packet with ack policy equals to {\itshape block ack} are received, if a relative block ack agreement exists and the value of inactivity timeout is not 0, the timer is reset. see section 11.\+5.\+3 in I\+E\+EE 802.\+11e for more details.


\begin{DoxyParams}{Parameters}
{\em agreement} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2552 \{
2553   \textcolor{keywordflow}{if} (agreement.GetTimeout () != 0)
2554     \{
2555       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (agreement.m\_inactivityEvent.IsRunning ());
2556       agreement.m\_inactivityEvent.Cancel ();
2557       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} \hyperlink{openflow-switch_8cc_a386d174ae121d1cfa279074b7e209714}{timeout} = \hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (1024 * agreement.GetTimeout ());
2558       \hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{AcIndex} ac = \hyperlink{group__wifi_ga4e36efcff6dd83eaee42e1af0de43d48}{QosUtilsMapTidToAc} (agreement.GetTid ());
2559       agreement.m\_inactivityEvent = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (timeout,
2560                                                          &
      \hyperlink{classns3_1_1EdcaTxopN_a3a14d846328f0d5447f44d7c2f3c607e}{EdcaTxopN::SendDelbaFrame},
2561                                                          \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}[ac], agreement.GetPeer (),
2562                                                          agreement.GetTid (), \textcolor{keyword}{false});
2563     \}
2564 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 118




Here is the caller graph for this function\+:
% FIG 119


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Reset\+Phy@{Reset\+Phy}}
\index{Reset\+Phy@{Reset\+Phy}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Reset\+Phy(void)}{ResetPhy(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Reset\+Phy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a4158eb64f54ae53935769cdf0b12aafb}{}\label{classns3_1_1MacLow_a4158eb64f54ae53935769cdf0b12aafb}
Remove \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} associated with this \hyperlink{classns3_1_1MacLow}{Mac\+Low}. 
\begin{DoxyCode}
437 \{
438   \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_adc3aa3a59f36e5c84f8d759bb15a5bf0}{SetReceiveOkCallback} (\hyperlink{group__makenullcallback_ga7e3cd6816f63ea9112c04b0086c2c65a}{MakeNullCallback}<\textcolor{keywordtype}{void}, Ptr<Packet>,
       \textcolor{keywordtype}{double}, WifiTxVector> ());
439   \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a50d71b88c866ecfc18cd4006f1a9d2ae}{SetReceiveErrorCallback} (\hyperlink{group__makenullcallback_ga7e3cd6816f63ea9112c04b0086c2c65a}{MakeNullCallback}<\textcolor{keywordtype}{void}, 
      Ptr<Packet>, \textcolor{keywordtype}{double}> ());
440   \hyperlink{classns3_1_1MacLow_afc60cdc4693e2fb6b2257aa015b9ec30}{RemovePhyMacLowListener} (\hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy});
441   \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy} = 0;
442 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 120




Here is the caller graph for this function\+:
% FIG 121


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Rx\+Complete\+Buffered\+Packets\+Until\+First\+Lost@{Rx\+Complete\+Buffered\+Packets\+Until\+First\+Lost}}
\index{Rx\+Complete\+Buffered\+Packets\+Until\+First\+Lost@{Rx\+Complete\+Buffered\+Packets\+Until\+First\+Lost}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Rx\+Complete\+Buffered\+Packets\+Until\+First\+Lost(\+Mac48\+Address originator, uint8\+\_\+t tid)}{RxCompleteBufferedPacketsUntilFirstLost(Mac48Address originator, uint8_t tid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Rx\+Complete\+Buffered\+Packets\+Until\+First\+Lost (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{originator, }
\item[{uint8\+\_\+t}]{tid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aeadf392d37d323fb81f0ef0766f2359a}{}\label{classns3_1_1MacLow_aeadf392d37d323fb81f0ef0766f2359a}

\begin{DoxyParams}{Parameters}
{\em originator} & \hyperlink{classns3_1_1Address}{Address} of peer participating in Block Ack mechanism. \\
\hline
{\em tid} & T\+ID for which Block Ack was created.\\
\hline
\end{DoxyParams}
This method is typically invoked when a M\+P\+DU with ack policy subfield set to Normal Ack is received and a block ack agreement for that packet exists. This happens when the originator of block ack has only few M\+P\+D\+Us to send. All completed M\+S\+D\+Us starting with starting sequence number of block ack agreement are forward up to \hyperlink{classns3_1_1WifiMac}{Wifi\+Mac} until there is an incomplete or missing M\+S\+DU. See section 9.\+10.\+4 in I\+E\+EE 802.\+11 standard for more details. 
\begin{DoxyCode}
2369 \{
2370   \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (originator, tid));
2371   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.end ())
2372     \{
2373       uint16\_t guard = (*it).second.first.GetStartingSequenceControl ();
2374       \hyperlink{classns3_1_1MacLow_ac5da0e8293b372fee7df425d9584c0b6}{BufferedPacketI} lastComplete = (*it).second.second.begin ();
2375       \hyperlink{classns3_1_1MacLow_ac5da0e8293b372fee7df425d9584c0b6}{BufferedPacketI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second.second.begin ();
2376       \textcolor{keywordflow}{for} (; i != (*it).second.second.end () && guard == (*i).second.GetSequenceControl (); i++)
2377         \{
2378           \textcolor{keywordflow}{if} (!(*i).second.IsMoreFragments ())
2379             \{
2380               \textcolor{keywordflow}{while} (lastComplete != i)
2381                 \{
2382                   \hyperlink{classns3_1_1MacLow_ac5f2b06b6151c99816c66b7bf946a4d8}{m\_rxCallback} ((*lastComplete).first, &(*lastComplete).second);
2383                   lastComplete++;
2384                 \}
2385               \hyperlink{classns3_1_1MacLow_ac5f2b06b6151c99816c66b7bf946a4d8}{m\_rxCallback} ((*lastComplete).first, &(*lastComplete).second);
2386               lastComplete++;
2387             \}
2388           guard = (*i).second.IsMoreFragments () ? (guard + 1) : ((guard + 16) & 0xfff0);
2389         \}
2390       (*it).second.first.SetStartingSequenceControl (guard);
2391       \textcolor{comment}{/* All packets already forwarded to WifiMac must be removed from buffer:}
2392 \textcolor{comment}{      [begin (), lastComplete) */}
2393       (*it).second.second.erase ((*it).second.second.begin (), lastComplete);
2394     \}
2395 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 122


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Rx\+Complete\+Buffered\+Packets\+With\+Smaller\+Sequence@{Rx\+Complete\+Buffered\+Packets\+With\+Smaller\+Sequence}}
\index{Rx\+Complete\+Buffered\+Packets\+With\+Smaller\+Sequence@{Rx\+Complete\+Buffered\+Packets\+With\+Smaller\+Sequence}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Rx\+Complete\+Buffered\+Packets\+With\+Smaller\+Sequence(uint16\+\_\+t seq, Mac48\+Address originator, uint8\+\_\+t tid)}{RxCompleteBufferedPacketsWithSmallerSequence(uint16_t seq, Mac48Address originator, uint8_t tid)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Rx\+Complete\+Buffered\+Packets\+With\+Smaller\+Sequence (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{seq, }
\item[{{\bf Mac48\+Address}}]{originator, }
\item[{uint8\+\_\+t}]{tid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aaed81a6cbf94baf2b2f17b9f96b8474d}{}\label{classns3_1_1MacLow_aaed81a6cbf94baf2b2f17b9f96b8474d}

\begin{DoxyParams}{Parameters}
{\em originator} & \hyperlink{classns3_1_1Address}{Address} of peer participating in Block Ack mechanism. \\
\hline
{\em tid} & T\+ID for which Block Ack was created. \\
\hline
{\em seq} & Starting sequence control\\
\hline
\end{DoxyParams}
This function forward up all completed \char`\"{}old\char`\"{} packets with sequence number smaller than {\itshape seq}. All comparison are performed circularly mod 4096. 
\begin{DoxyCode}
2306 \{
2307   \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (originator, tid));
2308   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.end ())
2309     \{
2310       uint16\_t endSequence = ((*it).second.first.GetStartingSequence () + 2047) % 4096;
2311       uint16\_t mappedStart = \hyperlink{group__wifi_ga841296fae895cac77a0e14183b8134e0}{QosUtilsMapSeqControlToUniqueInteger} (seq,
       endSequence);
2312       \hyperlink{classns3_1_1MacLow_ac5da0e8293b372fee7df425d9584c0b6}{BufferedPacketI} last = (*it).second.second.begin ();
2313       uint16\_t guard = 0;
2314       \textcolor{keywordflow}{if} (last != (*it).second.second.end ())
2315         \{
2316           guard = (*it).second.second.begin ()->second.GetSequenceControl ();
2317         \}
2318       \hyperlink{classns3_1_1MacLow_ac5da0e8293b372fee7df425d9584c0b6}{BufferedPacketI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second.second.begin ();
2319       \textcolor{keywordflow}{for} (; i != (*it).second.second.end ()
2320            && \hyperlink{group__wifi_ga841296fae895cac77a0e14183b8134e0}{QosUtilsMapSeqControlToUniqueInteger} ((*i).second.
      GetSequenceControl (), endSequence) < mappedStart; )
2321         \{
2322           \textcolor{keywordflow}{if} (guard == (*i).second.GetSequenceControl ())
2323             \{
2324               \textcolor{keywordflow}{if} (!(*i).second.IsMoreFragments ())
2325                 \{
2326                   \textcolor{keywordflow}{while} (last != i)
2327                     \{
2328                       \hyperlink{classns3_1_1MacLow_ac5f2b06b6151c99816c66b7bf946a4d8}{m\_rxCallback} ((*last).first, &(*last).second);
2329                       last++;
2330                     \}
2331                   \hyperlink{classns3_1_1MacLow_ac5f2b06b6151c99816c66b7bf946a4d8}{m\_rxCallback} ((*last).first, &(*last).second);
2332                   last++;
2333                   \textcolor{comment}{/* go to next packet */}
2334                   \textcolor{keywordflow}{while} (i != (*it).second.second.end () && guard == (*i).second.GetSequenceControl ())
2335                     \{
2336                       i++;
2337                     \}
2338                   \textcolor{keywordflow}{if} (i != (*it).second.second.end ())
2339                     \{
2340                       guard = (*i).second.GetSequenceControl ();
2341                       last = \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
2342                     \}
2343                 \}
2344               \textcolor{keywordflow}{else}
2345                 \{
2346                   guard++;
2347                 \}
2348             \}
2349           \textcolor{keywordflow}{else}
2350             \{
2351               \textcolor{comment}{/* go to next packet */}
2352               \textcolor{keywordflow}{while} (i != (*it).second.second.end () && guard == (*i).second.GetSequenceControl ())
2353                 \{
2354                   i++;
2355                 \}
2356               \textcolor{keywordflow}{if} (i != (*it).second.second.end ())
2357                 \{
2358                   guard = (*i).second.GetSequenceControl ();
2359                   last = \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
2360                 \}
2361             \}
2362         \}
2363       (*it).second.second.erase ((*it).second.second.begin (), \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
2364     \}
2365 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 123




Here is the caller graph for this function\+:
% FIG 124


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Send\+Ack\+After\+Data@{Send\+Ack\+After\+Data}}
\index{Send\+Ack\+After\+Data@{Send\+Ack\+After\+Data}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Send\+Ack\+After\+Data(\+Mac48\+Address source, Time duration, Wifi\+Mode data\+Tx\+Mode, double data\+Snr)}{SendAckAfterData(Mac48Address source, Time duration, WifiMode dataTxMode, double dataSnr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Send\+Ack\+After\+Data (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{source, }
\item[{{\bf Time}}]{duration, }
\item[{{\bf Wifi\+Mode}}]{data\+Tx\+Mode, }
\item[{double}]{data\+Snr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a8db1635644b89072dfcb5fbc2330031b}{}\label{classns3_1_1MacLow_a8db1635644b89072dfcb5fbc2330031b}
Send A\+CK after receiving D\+A\+TA.


\begin{DoxyParams}{Parameters}
{\em source} & \\
\hline
{\em duration} & \\
\hline
{\em data\+Tx\+Mode} & \\
\hline
{\em data\+Snr} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2135 \{
2136   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2137   \textcolor{comment}{// send an ACK, after SIFS, when you receive a packet}
2138   WifiTxVector ackTxVector = \hyperlink{classns3_1_1MacLow_aacb6b94de35df106b76d93b05d145d13}{GetAckTxVector} (source, dataTxMode);
2139   WifiMacHeader ack;
2140   ack.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa94b81d2741a3a2ab30de5df6e04fc850}{WIFI\_MAC\_CTL\_ACK});
2141   ack.SetDsNotFrom ();
2142   ack.SetDsNotTo ();
2143   ack.SetNoRetry ();
2144   ack.SetNoMoreFragments ();
2145   ack.SetAddr1 (source);
2146   \textcolor{comment}{// 802.11-2012, Section 8.3.1.4:  Duration/ID is received duration value}
2147   \textcolor{comment}{// minus the time to transmit the ACK frame and its SIFS interval}
2148   duration -= \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (ackTxVector);
2149   duration -= \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2150   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (duration.IsPositive (), \textcolor{stringliteral}{"Please provide test case to maintainers if this
       assert is hit."});
2151   ack.SetDuration (duration);
2152 
2153   Ptr<Packet> packet = Create<Packet> ();
2154   packet->AddHeader (ack);
2155   \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (packet);
2156 
2157   SnrTag tag;
2158   tag.Set (dataSnr);
2159   packet->AddPacketTag (tag);
2160 
2161   \textcolor{comment}{//ACK should always use non-HT PPDU (HT PPDU cases not supported yet)}
2162   \hyperlink{classns3_1_1MacLow_a4eefbfa3d57539dadf0224cc7fcf952d}{ForwardDown} (packet, &ack, ackTxVector);
2163 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 125




Here is the caller graph for this function\+:
% FIG 126


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Send\+Block\+Ack\+After\+Ampdu@{Send\+Block\+Ack\+After\+Ampdu}}
\index{Send\+Block\+Ack\+After\+Ampdu@{Send\+Block\+Ack\+After\+Ampdu}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Send\+Block\+Ack\+After\+Ampdu(uint8\+\_\+t tid, Mac48\+Address originator, Time duration, Wifi\+Tx\+Vector block\+Ack\+Req\+Tx\+Vector, double rx\+Snr)}{SendBlockAckAfterAmpdu(uint8_t tid, Mac48Address originator, Time duration, WifiTxVector blockAckReqTxVector, double rxSnr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Send\+Block\+Ack\+After\+Ampdu (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{tid, }
\item[{{\bf Mac48\+Address}}]{originator, }
\item[{{\bf Time}}]{duration, }
\item[{{\bf Wifi\+Tx\+Vector}}]{block\+Ack\+Req\+Tx\+Vector, }
\item[{double}]{rx\+Snr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_af6e2acc771d188c0959871f142912296}{}\label{classns3_1_1MacLow_af6e2acc771d188c0959871f142912296}
Invoked after an A-\/\+M\+P\+DU has been received. Looks for corresponding block ack agreement and creates block ack bitmap on a received packets basis.


\begin{DoxyParams}{Parameters}
{\em tid} & the Traffic ID \\
\hline
{\em originator} & the originator M\+AC address \\
\hline
{\em duration} & the remaining N\+AV duration \\
\hline
{\em block\+Ack\+Req\+Tx\+Vector} & the transmit vector \\
\hline
{\em rx\+Snr} & the receive S\+NR \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2459 \{
2460   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2461   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a2bc2591a68dbea15f9ff95fc6722e6c1}{IsStateTx} () && !\hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a754ce070e2635c324a0b818b56eb0a4c}{IsStateRx} ())
2462     \{
2463       \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (uint16\_t) tid << originator << duration.As (
      \hyperlink{classns3_1_1Time_a87a7f4d29c68b047a72d291ad660295aade8622b06524a328cd3a59db6ccf76af}{Time::S}) << blockAckReqTxVector << rxSnr);
2464       CtrlBAckResponseHeader blockAck;
2465       uint16\_t seqNumber = 0;
2466       \hyperlink{classns3_1_1MacLow_ae0b0abf84b6078031fabd4e85e1cb1bf}{BlockAckCachesI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.find (std::make\_pair (originator, tid));
2467       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (i != \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.end ());
2468       seqNumber = (*i).second.GetWinStart ();
2469 
2470       \textcolor{keywordtype}{bool} immediate = \textcolor{keyword}{true};
2471       \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (originator, tid));
2472       blockAck.SetStartingSequence (seqNumber);
2473       blockAck.SetTidInfo (tid);
2474       immediate = (*it).second.first.IsImmediateBlockAck ();
2475       blockAck.SetType (\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
2476       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Got Implicit block Ack Req with seq "} << seqNumber);
2477       (*i).second.FillBlockAckBitmap (&blockAck);
2478 
2479       \hyperlink{classns3_1_1MacLow_a85c374be43ba3bd52fd1ad6efdfef6c6}{SendBlockAckResponse} (&blockAck, originator, immediate, duration, 
      blockAckReqTxVector.GetMode (), rxSnr);
2480     \}
2481   \textcolor{keywordflow}{else}
2482     \{
2483       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Skip block ack response!"});
2484     \}
2485 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 127




Here is the caller graph for this function\+:
% FIG 128


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Send\+Block\+Ack\+After\+Block\+Ack\+Request@{Send\+Block\+Ack\+After\+Block\+Ack\+Request}}
\index{Send\+Block\+Ack\+After\+Block\+Ack\+Request@{Send\+Block\+Ack\+After\+Block\+Ack\+Request}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Send\+Block\+Ack\+After\+Block\+Ack\+Request(const Ctrl\+B\+Ack\+Request\+Header req\+Hdr, Mac48\+Address originator, Time duration, Wifi\+Mode block\+Ack\+Req\+Tx\+Mode, double rx\+Snr)}{SendBlockAckAfterBlockAckRequest(const CtrlBAckRequestHeader reqHdr, Mac48Address originator, Time duration, WifiMode blockAckReqTxMode, double rxSnr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Send\+Block\+Ack\+After\+Block\+Ack\+Request (
\begin{DoxyParamCaption}
\item[{const {\bf Ctrl\+B\+Ack\+Request\+Header}}]{req\+Hdr, }
\item[{{\bf Mac48\+Address}}]{originator, }
\item[{{\bf Time}}]{duration, }
\item[{{\bf Wifi\+Mode}}]{block\+Ack\+Req\+Tx\+Mode, }
\item[{double}]{rx\+Snr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a84b96c0cc6f32fca28576ec4df6a0853}{}\label{classns3_1_1MacLow_a84b96c0cc6f32fca28576ec4df6a0853}
Invoked after that a block ack request has been received. Looks for corresponding block ack agreement and creates block ack bitmap on a received packets basis.


\begin{DoxyParams}{Parameters}
{\em req\+Hdr} & \\
\hline
{\em originator} & \\
\hline
{\em duration} & \\
\hline
{\em block\+Ack\+Req\+Tx\+Mode} & \\
\hline
{\em rx\+Snr} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2490 \{
2491   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2492   CtrlBAckResponseHeader blockAck;
2493   uint8\_t tid = 0;
2494   \textcolor{keywordtype}{bool} immediate = \textcolor{keyword}{false};
2495   \textcolor{keywordflow}{if} (!reqHdr.IsMultiTid ())
2496     \{
2497       tid = reqHdr.GetTidInfo ();
2498       \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (originator, tid));
2499       \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.end ())
2500         \{
2501           blockAck.SetStartingSequence (reqHdr.GetStartingSequence ());
2502           blockAck.SetTidInfo (tid);
2503           immediate = (*it).second.first.IsImmediateBlockAck ();
2504           \textcolor{keywordflow}{if} (reqHdr.IsBasic ())
2505             \{
2506               blockAck.SetType (\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf}{BASIC\_BLOCK\_ACK});
2507             \}
2508           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (reqHdr.IsCompressed ())
2509             \{
2510               blockAck.SetType (\hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
2511             \}
2512           \hyperlink{classns3_1_1MacLow_ae0b0abf84b6078031fabd4e85e1cb1bf}{BlockAckCachesI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.find (std::make\_pair (originator, 
      tid));
2513           \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (i != \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.end ());
2514           (*i).second.FillBlockAckBitmap (&blockAck);
2515           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Got block Ack Req with seq "} << reqHdr.GetStartingSequence ());
2516 
2517           \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_ac792dc8f3c77d507d25de0b87b52608c}{HasHtSupported} () && !
      \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_afae2836c7785854272d73bf33e58c95a}{HasVhtSupported} ())
2518             \{
2519               \textcolor{comment}{/* All packets with smaller sequence than starting sequence control must be passed up to
       Wifimac}
2520 \textcolor{comment}{               * See 9.10.3 in IEEE 802.11e standard.}
2521 \textcolor{comment}{               */}
2522               \hyperlink{classns3_1_1MacLow_aaed81a6cbf94baf2b2f17b9f96b8474d}{RxCompleteBufferedPacketsWithSmallerSequence} (
      reqHdr.GetStartingSequenceControl (), originator, tid);
2523               \hyperlink{classns3_1_1MacLow_aeadf392d37d323fb81f0ef0766f2359a}{RxCompleteBufferedPacketsUntilFirstLost} (originator, 
      tid);
2524             \}
2525           \textcolor{keywordflow}{else}
2526             \{
2527               \textcolor{keywordflow}{if} (!\hyperlink{group__wifi_ga5cb9ea723837c5a036e622612f2d0bb0}{QosUtilsIsOldPacket} ((*it).second.first.GetStartingSequence (), 
      reqHdr.GetStartingSequence ()))
2528                 \{
2529                   (*it).second.first.SetStartingSequence (reqHdr.GetStartingSequence ());
2530                   (*it).second.first.SetWinEnd (((*it).second.first.GetStartingSequence () + (*it).second.
      first.GetBufferSize () - 1) % 4096);
2531                   \hyperlink{classns3_1_1MacLow_aaed81a6cbf94baf2b2f17b9f96b8474d}{RxCompleteBufferedPacketsWithSmallerSequence} 
      (reqHdr.GetStartingSequenceControl (), originator, tid);
2532                   \hyperlink{classns3_1_1MacLow_aeadf392d37d323fb81f0ef0766f2359a}{RxCompleteBufferedPacketsUntilFirstLost} (
      originator, tid);
2533                   (*it).second.first.SetWinEnd (((*it).second.first.GetStartingSequence () + (*it).second.
      first.GetBufferSize () - 1) % 4096);
2534                 \}
2535             \}
2536         \}
2537       \textcolor{keywordflow}{else}
2538         \{
2539           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"there's not a valid block ack agreement with "} << originator);
2540         \}
2541     \}
2542   \textcolor{keywordflow}{else}
2543     \{
2544       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Multi-tid block ack is not supported."});
2545     \}
2546 
2547   \hyperlink{classns3_1_1MacLow_a85c374be43ba3bd52fd1ad6efdfef6c6}{SendBlockAckResponse} (&blockAck, originator, immediate, duration, blockAckReqTxMode, 
      rxSnr);
2548 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 129




Here is the caller graph for this function\+:
% FIG 130


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Send\+Block\+Ack\+Response@{Send\+Block\+Ack\+Response}}
\index{Send\+Block\+Ack\+Response@{Send\+Block\+Ack\+Response}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Send\+Block\+Ack\+Response(const Ctrl\+B\+Ack\+Response\+Header $\ast$block\+Ack, Mac48\+Address originator, bool immediate, Time duration, Wifi\+Mode block\+Ack\+Req\+Tx\+Mode, double rx\+Snr)}{SendBlockAckResponse(const CtrlBAckResponseHeader *blockAck, Mac48Address originator, bool immediate, Time duration, WifiMode blockAckReqTxMode, double rxSnr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Send\+Block\+Ack\+Response (
\begin{DoxyParamCaption}
\item[{const {\bf Ctrl\+B\+Ack\+Response\+Header} $\ast$}]{block\+Ack, }
\item[{{\bf Mac48\+Address}}]{originator, }
\item[{bool}]{immediate, }
\item[{{\bf Time}}]{duration, }
\item[{{\bf Wifi\+Mode}}]{block\+Ack\+Req\+Tx\+Mode, }
\item[{double}]{rx\+Snr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a85c374be43ba3bd52fd1ad6efdfef6c6}{}\label{classns3_1_1MacLow_a85c374be43ba3bd52fd1ad6efdfef6c6}
This method creates block ack frame with header equals to {\itshape block\+Ack} and start its transmission.


\begin{DoxyParams}{Parameters}
{\em block\+Ack} & \\
\hline
{\em originator} & \\
\hline
{\em immediate} & \\
\hline
{\em duration} & \\
\hline
{\em block\+Ack\+Req\+Tx\+Mode} & \\
\hline
{\em rx\+Snr} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2399 \{
2400   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2401   Ptr<Packet> packet = Create<Packet> ();
2402   packet->AddHeader (*blockAck);
2403 
2404   WifiMacHeader hdr;
2405   hdr.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aaabd6e2bca4aa9279211a5e7d0c5c5afa}{WIFI\_MAC\_CTL\_BACKRESP});
2406   hdr.SetAddr1 (originator);
2407   hdr.SetAddr2 (\hyperlink{classns3_1_1MacLow_a109922d4f2bb1ee0b2a66aa3bcc48e2f}{GetAddress} ());
2408   hdr.SetDsNotFrom ();
2409   hdr.SetDsNotTo ();
2410   hdr.SetNoRetry ();
2411   hdr.SetNoMoreFragments ();
2412 
2413   WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (originator, blockAckReqTxMode)
      ;
2414 
2415   \textcolor{keywordflow}{if} (immediate)
2416     \{
2417       \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_ae09e5316ed859ddca19bfbaec3b07704}{DisableAck} ();
2418       duration -= \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2419       \textcolor{keywordflow}{if} (blockAck->IsBasic ())
2420         \{
2421           duration -= \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (originator, blockAckReqTxVector, 
      \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf}{BASIC\_BLOCK\_ACK});
2422         \}
2423       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (blockAck->IsCompressed ())
2424         \{
2425           duration -= \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (originator, blockAckReqTxVector, 
      \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
2426         \}
2427       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (blockAck->IsMultiTid ())
2428         \{
2429           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Multi-tid block ack is not supported."});
2430         \}
2431     \}
2432   \textcolor{keywordflow}{else}
2433     \{
2434       \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa2db70f6786b7d0b9d9cc453b2292f2b}{EnableAck} ();
2435       duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2436       duration += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (originator, blockAckReqTxVector);
2437     \}
2438   \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a6944fa0c62fd004c94b845ba1b474b87}{DisableNextData} ();
2439 
2440   \textcolor{keywordflow}{if} (!immediate)
2441     \{
2442       \hyperlink{classns3_1_1MacLow_ae7e8072b7d1f8b775000f6f07ee5a3c1}{StartDataTxTimers} (blockAckReqTxVector);
2443     \}
2444 
2445   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (duration.IsPositive ());
2446   hdr.SetDuration (duration);
2447   \textcolor{comment}{//here should be present a control about immediate or delayed block ack}
2448   \textcolor{comment}{//for now we assume immediate}
2449   packet->AddHeader (hdr);
2450   \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (packet);
2451   SnrTag tag;
2452   tag.Set (rxSnr);
2453   packet->AddPacketTag (tag);
2454   \hyperlink{classns3_1_1MacLow_a4eefbfa3d57539dadf0224cc7fcf952d}{ForwardDown} (packet, &hdr, blockAckReqTxVector);
2455 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 131




Here is the caller graph for this function\+:
% FIG 132


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Send\+Cts\+After\+Rts@{Send\+Cts\+After\+Rts}}
\index{Send\+Cts\+After\+Rts@{Send\+Cts\+After\+Rts}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Send\+Cts\+After\+Rts(\+Mac48\+Address source, Time duration, Wifi\+Tx\+Vector rts\+Tx\+Vector, double rts\+Snr)}{SendCtsAfterRts(Mac48Address source, Time duration, WifiTxVector rtsTxVector, double rtsSnr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Send\+Cts\+After\+Rts (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{source, }
\item[{{\bf Time}}]{duration, }
\item[{{\bf Wifi\+Tx\+Vector}}]{rts\+Tx\+Vector, }
\item[{double}]{rts\+Snr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aebcd4c3e8d64fb53af1f8a862c766e33}{}\label{classns3_1_1MacLow_aebcd4c3e8d64fb53af1f8a862c766e33}
Send C\+TS after receiving R\+TS.


\begin{DoxyParams}{Parameters}
{\em source} & \\
\hline
{\em duration} & \\
\hline
{\em rts\+Tx\+Vector} & \\
\hline
{\em rts\+Snr} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1987 \{
1988   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << source << duration << rtsTxVector.GetMode () << rtsSnr);
1989   \textcolor{comment}{/* send a CTS when you receive a RTS}
1990 \textcolor{comment}{   * right after SIFS.}
1991 \textcolor{comment}{   */}
1992   WifiTxVector ctsTxVector = \hyperlink{classns3_1_1MacLow_a7e8fb3caf4751fa39bc437cab3ac94f1}{GetCtsTxVector} (source, rtsTxVector.GetMode ());
1993   WifiMacHeader cts;
1994   cts.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa529299bd6c8159e0dc3f56acb749eff4}{WIFI\_MAC\_CTL\_CTS});
1995   cts.SetDsNotFrom ();
1996   cts.SetDsNotTo ();
1997   cts.SetNoMoreFragments ();
1998   cts.SetNoRetry ();
1999   cts.SetAddr1 (source);
2000   duration -= \hyperlink{classns3_1_1MacLow_a51008d8954b33afd5ec805cda1a3c297}{GetCtsDuration} (source, rtsTxVector);
2001   duration -= \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2002   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (duration.IsPositive ());
2003   cts.SetDuration (duration);
2004 
2005   Ptr<Packet> packet = Create<Packet> ();
2006   packet->AddHeader (cts);
2007   \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (packet);
2008 
2009   SnrTag tag;
2010   tag.Set (rtsSnr);
2011   packet->AddPacketTag (tag);
2012 
2013   \textcolor{comment}{//CTS should always use non-HT PPDU (HT PPDU cases not supported yet)}
2014   \hyperlink{classns3_1_1MacLow_a4eefbfa3d57539dadf0224cc7fcf952d}{ForwardDown} (packet, &cts, ctsTxVector);
2015 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 133




Here is the caller graph for this function\+:
% FIG 134


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Send\+Cts\+To\+Self@{Send\+Cts\+To\+Self}}
\index{Send\+Cts\+To\+Self@{Send\+Cts\+To\+Self}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Send\+Cts\+To\+Self(void)}{SendCtsToSelf(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Send\+Cts\+To\+Self (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a209c346576d367ef16cfa1cfdefff909}{}\label{classns3_1_1MacLow_a209c346576d367ef16cfa1cfdefff909}
Send C\+TS for a C\+T\+S-\/to-\/self mechanism. 
\begin{DoxyCode}
1908 \{
1909   WifiMacHeader cts;
1910   cts.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa529299bd6c8159e0dc3f56acb749eff4}{WIFI\_MAC\_CTL\_CTS});
1911   cts.SetDsNotFrom ();
1912   cts.SetDsNotTo ();
1913   cts.SetNoMoreFragments ();
1914   cts.SetNoRetry ();
1915   cts.SetAddr1 (\hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self});
1916 
1917   WifiTxVector ctsTxVector = \hyperlink{classns3_1_1MacLow_ac6133f8084d7d290687da468665e36a0}{GetRtsTxVector} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
1918   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} duration = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
1919 
1920   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a6579f7c9f95c2467fbf6ec7e1c954e88}{HasDurationId} ())
1921     \{
1922       duration += \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aeca7edbe326d741af92b8ce38bf5e1e1}{GetDurationId} ();
1923     \}
1924   \textcolor{keywordflow}{else}
1925     \{
1926       duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1927       duration += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (\hyperlink{classns3_1_1MacLow_a19511f9a1fc507cab3e16c85d2249f7e}{GetSize} (
      \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket},&\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}),
1928                                               \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1929       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aea99b66ee9ebcb0f4429bb98be411023}{MustWaitBasicBlockAck} ())
1930         \{
1931 
1932           duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1933           WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac1fa908f4fb46931e5b33e3f4daa54d2}{GetAddr2} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.
      \hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ());
1934           duration += \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), blockAckReqTxVector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf}{BASIC\_BLOCK\_ACK});
1935         \}
1936       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aac6b2115c70ccf5fa73e265855790a5d}{MustWaitCompressedBlockAck} ())
1937         \{
1938           duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1939           WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac1fa908f4fb46931e5b33e3f4daa54d2}{GetAddr2} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.
      \hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ());
1940           duration += \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), blockAckReqTxVector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
1941         \}
1942       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa7d49e04e12fbc04d1d0fa4f256a0c88}{MustWaitAck} ())
1943         \{
1944           duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1945           duration += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
1946         \}
1947       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa77eff21861b910ba0e82cf642df6f5e}{HasNextPacket} ())
1948         \{
1949           duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1950           duration += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (
      \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a2fa1d7ed585e00cc56a2968da9cef7dd}{GetNextPacketSize} (),
1951                                                   \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1952           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aac6b2115c70ccf5fa73e265855790a5d}{MustWaitCompressedBlockAck} ())
1953             \{
1954               duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1955               WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac1fa908f4fb46931e5b33e3f4daa54d2}{GetAddr2} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.
      \hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ());
1956               duration += \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), blockAckReqTxVector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
1957             \}
1958           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa7d49e04e12fbc04d1d0fa4f256a0c88}{MustWaitAck} ())
1959             \{
1960               duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1961               duration += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
1962             \}
1963         \}
1964     \}
1965 
1966   cts.SetDuration (duration);
1967 
1968   Ptr<Packet> packet = Create<Packet> ();
1969   packet->AddHeader (cts);
1970   \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (packet);
1971 
1972   \hyperlink{classns3_1_1MacLow_a4eefbfa3d57539dadf0224cc7fcf952d}{ForwardDown} (packet, &cts, ctsTxVector);
1973 
1974   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txDuration = \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (
      \hyperlink{classns3_1_1MacLow_a43e590838afbd8a9a01cc2936837b091}{GetCtsSize} (), ctsTxVector, \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1975   txDuration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1976   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}{m\_sendDataEvent}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
1977 
1978   \hyperlink{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}{m\_sendDataEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (txDuration,
1979                                          &\hyperlink{classns3_1_1MacLow_a063bab2ef4e7320a3f8cfa9890090ab6}{MacLow::SendDataAfterCts}, \textcolor{keyword}{this},
1980                                          cts.GetAddr1 (),
1981                                          duration);
1982 
1983 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 135




Here is the caller graph for this function\+:
% FIG 136


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Send\+Data\+After\+Cts@{Send\+Data\+After\+Cts}}
\index{Send\+Data\+After\+Cts@{Send\+Data\+After\+Cts}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Send\+Data\+After\+Cts(\+Mac48\+Address source, Time duration)}{SendDataAfterCts(Mac48Address source, Time duration)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Send\+Data\+After\+Cts (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{source, }
\item[{{\bf Time}}]{duration}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a063bab2ef4e7320a3f8cfa9890090ab6}{}\label{classns3_1_1MacLow_a063bab2ef4e7320a3f8cfa9890090ab6}
Send D\+A\+TA after receiving C\+TS.


\begin{DoxyParams}{Parameters}
{\em source} & \\
\hline
{\em duration} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
2019 \{
2020   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
2021   \textcolor{comment}{/* send the third step in a}
2022 \textcolor{comment}{   * RTS/CTS/DATA/ACK hanshake}
2023 \textcolor{comment}{   */}
2024   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket} != 0);
2025 
2026   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ())
2027     \{
2028       uint8\_t tid = \hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
2029       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, 
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr})]->GetNPackets () != 0)
2030         \{
2031           \textcolor{keywordflow}{for} (std::vector<Item>::size\_type \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != \hyperlink{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{m\_txPackets}[tid].size (); 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
2032             \{
2033               \hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{AcIndex} ac = \hyperlink{group__wifi_ga4e36efcff6dd83eaee42e1af0de43d48}{QosUtilsMapTidToAc} (tid);
2034               std::map<AcIndex, Ptr<EdcaTxopN> >::const\_iterator edcaIt = \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}.find (ac);
2035               edcaIt->second->CompleteMpduTx (\hyperlink{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{m\_txPackets}[tid].at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).packet, 
      \hyperlink{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{m\_txPackets}[tid].at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).hdr, \hyperlink{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{m\_txPackets}[tid].at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).timestamp);
2036             \}
2037         \}
2038     \}
2039 
2040   \hyperlink{classns3_1_1MacLow_ae7e8072b7d1f8b775000f6f07ee5a3c1}{StartDataTxTimers} (\hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
2041   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} newDuration = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
2042   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aea99b66ee9ebcb0f4429bb98be411023}{MustWaitBasicBlockAck} ())
2043     \{
2044       newDuration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2045       WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac1fa908f4fb46931e5b33e3f4daa54d2}{GetAddr2} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.
      \hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ());
2046       newDuration += \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), blockAckReqTxVector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf}{BASIC\_BLOCK\_ACK});
2047     \}
2048   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aac6b2115c70ccf5fa73e265855790a5d}{MustWaitCompressedBlockAck} ())
2049     \{
2050       newDuration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2051       WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac1fa908f4fb46931e5b33e3f4daa54d2}{GetAddr2} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.
      \hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ());
2052       newDuration += \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), blockAckReqTxVector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
2053     \}
2054   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa7d49e04e12fbc04d1d0fa4f256a0c88}{MustWaitAck} ())
2055     \{
2056       newDuration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2057       newDuration += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
2058     \}
2059   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa77eff21861b910ba0e82cf642df6f5e}{HasNextPacket} ())
2060     \{
2061       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a19e2cd8b8c0a6d39ec014a27c2f817f2}{GetRifsPermitted} ())
2062         \{
2063           newDuration += \hyperlink{classns3_1_1MacLow_add308ae9aa7b74b3132cd270c5dbfb22}{GetRifs} ();
2064         \}
2065       \textcolor{keywordflow}{else}
2066         \{
2067           newDuration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2068         \}      newDuration += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (
      \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a2fa1d7ed585e00cc56a2968da9cef7dd}{GetNextPacketSize} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
2069       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aac6b2115c70ccf5fa73e265855790a5d}{MustWaitCompressedBlockAck} ())
2070         \{
2071           newDuration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2072           WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac1fa908f4fb46931e5b33e3f4daa54d2}{GetAddr2} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.
      \hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ());
2073           newDuration += \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), blockAckReqTxVector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
2074         \}
2075       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa7d49e04e12fbc04d1d0fa4f256a0c88}{MustWaitAck} ())
2076         \{
2077           newDuration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2078           newDuration += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
2079         \}
2080     \}
2081 
2082   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txDuration = \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (
      \hyperlink{classns3_1_1MacLow_a19511f9a1fc507cab3e16c85d2249f7e}{GetSize} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}), 
      \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}, \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
2083   duration -= txDuration;
2084   duration -= \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
2085 
2086   duration = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (duration, newDuration);
2087   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (duration.IsPositive ());
2088   \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a8c0936e7d1a0d1e43ccfcd21f43830fb}{SetDuration} (duration);
2089   Ptr <Packet> packet = \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} ();
2090   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu})
2091     \{
2092       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ());
2093     \}
2094   \textcolor{keywordflow}{else}
2095     \{
2096       packet->AddHeader (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
2097       \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (packet);
2098     \}
2099 
2100   \hyperlink{classns3_1_1MacLow_a4eefbfa3d57539dadf0224cc7fcf952d}{ForwardDown} (packet, &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}, \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
2101 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 137




Here is the caller graph for this function\+:
% FIG 138


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Send\+Data\+Packet@{Send\+Data\+Packet}}
\index{Send\+Data\+Packet@{Send\+Data\+Packet}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Send\+Data\+Packet(void)}{SendDataPacket(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Send\+Data\+Packet (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ab177d7c7ba53c56f91612114412914bf}{}\label{classns3_1_1MacLow_ab177d7c7ba53c56f91612114412914bf}
Send D\+A\+TA packet, which can be D\+A\+T\+A-\/\+A\+CK or R\+T\+S-\/\+C\+T\+S-\/\+D\+A\+T\+A-\/\+A\+CK transaction. 
\begin{DoxyCode}
1830 \{
1831   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1832   \textcolor{comment}{/* send this packet directly. No RTS is needed. */}
1833   \hyperlink{classns3_1_1MacLow_ae7e8072b7d1f8b775000f6f07ee5a3c1}{StartDataTxTimers} (\hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
1834 
1835   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} duration = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0);
1836   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a6579f7c9f95c2467fbf6ec7e1c954e88}{HasDurationId} ())
1837     \{
1838       duration += \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aeca7edbe326d741af92b8ce38bf5e1e1}{GetDurationId} ();
1839     \}
1840   \textcolor{keywordflow}{else}
1841     \{
1842       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aea99b66ee9ebcb0f4429bb98be411023}{MustWaitBasicBlockAck} ())
1843         \{
1844           duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1845           WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac1fa908f4fb46931e5b33e3f4daa54d2}{GetAddr2} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.
      \hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ());
1846           duration += \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), blockAckReqTxVector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf}{BASIC\_BLOCK\_ACK});
1847         \}
1848       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aac6b2115c70ccf5fa73e265855790a5d}{MustWaitCompressedBlockAck} ())
1849         \{
1850           duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1851           WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac1fa908f4fb46931e5b33e3f4daa54d2}{GetAddr2} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.
      \hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ());
1852           duration += \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), blockAckReqTxVector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
1853         \}
1854       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa7d49e04e12fbc04d1d0fa4f256a0c88}{MustWaitAck} ())
1855         \{
1856           duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1857           duration += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
1858         \}
1859       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa77eff21861b910ba0e82cf642df6f5e}{HasNextPacket} ())
1860         \{
1861           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a19e2cd8b8c0a6d39ec014a27c2f817f2}{GetRifsPermitted} ())
1862             \{
1863               duration += \hyperlink{classns3_1_1MacLow_add308ae9aa7b74b3132cd270c5dbfb22}{GetRifs} ();
1864             \}
1865           \textcolor{keywordflow}{else}
1866             \{
1867               duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1868             \}
1869           duration += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (
      \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a2fa1d7ed585e00cc56a2968da9cef7dd}{GetNextPacketSize} (),
1870                                                   \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1871           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa7d49e04e12fbc04d1d0fa4f256a0c88}{MustWaitAck} ())
1872             \{
1873               duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1874               duration += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
1875             \}
1876         \}
1877     \}
1878   \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a8c0936e7d1a0d1e43ccfcd21f43830fb}{SetDuration} (duration);
1879   Ptr <Packet> packet = \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} ();
1880   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu})
1881     \{
1882       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ());
1883     \}
1884   \textcolor{keywordflow}{else}
1885     \{
1886       packet->AddHeader (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
1887       \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (packet);
1888     \}
1889 
1890   \hyperlink{classns3_1_1MacLow_a4eefbfa3d57539dadf0224cc7fcf952d}{ForwardDown} (packet, &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}, \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
1891 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 139




Here is the caller graph for this function\+:
% FIG 140


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Send\+Mpdu@{Send\+Mpdu}}
\index{Send\+Mpdu@{Send\+Mpdu}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Send\+Mpdu(\+Ptr$<$ const Packet $>$ packet, Wifi\+Tx\+Vector tx\+Vector, Mpdu\+Type mpdutype)}{SendMpdu(Ptr< const Packet > packet, WifiTxVector txVector, MpduType mpdutype)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Send\+Mpdu (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{{\bf Wifi\+Tx\+Vector}}]{tx\+Vector, }
\item[{{\bf Mpdu\+Type}}]{mpdutype}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a0ec344c3a1200d8d66273614949c6b35}{}\label{classns3_1_1MacLow_a0ec344c3a1200d8d66273614949c6b35}
Forward the M\+P\+DU down to \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} for transmission. This is called for each M\+P\+DU when M\+P\+DU aggregation is used.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet \\
\hline
{\em tx\+Vector} & the transmit vector \\
\hline
{\em mpdutype} & the M\+P\+DU type \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1595 \{
1596   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Sending MPDU as part of A-MPDU"});
1597   \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a4caf22eb334a9caca21ec37d90a74ce2}{SendPacket} (packet, txVector, mpdutype);
1598 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 141




Here is the caller graph for this function\+:
% FIG 142


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Send\+Rts\+For\+Packet@{Send\+Rts\+For\+Packet}}
\index{Send\+Rts\+For\+Packet@{Send\+Rts\+For\+Packet}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Send\+Rts\+For\+Packet(void)}{SendRtsForPacket(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Send\+Rts\+For\+Packet (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ac472702b866a51ea2dfb7637381897aa}{}\label{classns3_1_1MacLow_ac472702b866a51ea2dfb7637381897aa}
Send R\+TS to begin R\+T\+S-\/\+C\+T\+S-\/\+D\+A\+T\+A-\/\+A\+CK transaction. 
\begin{DoxyCode}
1687 \{
1688   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1689   \textcolor{comment}{/* send an RTS for this packet. */}
1690   WifiMacHeader rts;
1691   rts.SetType (\hyperlink{namespacens3_a9318472db39b35b2092de5c721e6ab0aa43ed89d21958665f84711a6b6d0fb75f}{WIFI\_MAC\_CTL\_RTS});
1692   rts.SetDsNotFrom ();
1693   rts.SetDsNotTo ();
1694   rts.SetNoRetry ();
1695   rts.SetNoMoreFragments ();
1696   rts.SetAddr1 (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} ());
1697   rts.SetAddr2 (\hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self});
1698   WifiTxVector rtsTxVector = \hyperlink{classns3_1_1MacLow_ac6133f8084d7d290687da468665e36a0}{GetRtsTxVector} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
1699   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} duration = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0);
1700 
1701   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a6579f7c9f95c2467fbf6ec7e1c954e88}{HasDurationId} ())
1702     \{
1703       duration += \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aeca7edbe326d741af92b8ce38bf5e1e1}{GetDurationId} ();
1704     \}
1705   \textcolor{keywordflow}{else}
1706     \{
1707       duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1708       duration += \hyperlink{classns3_1_1MacLow_a51008d8954b33afd5ec805cda1a3c297}{GetCtsDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), rtsTxVector);
1709       duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1710       duration += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (\hyperlink{classns3_1_1MacLow_a19511f9a1fc507cab3e16c85d2249f7e}{GetSize} (
      \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}),
1711                                               \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1712       duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1713       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aea99b66ee9ebcb0f4429bb98be411023}{MustWaitBasicBlockAck} ())
1714         \{
1715           WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac1fa908f4fb46931e5b33e3f4daa54d2}{GetAddr2} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.
      \hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ());
1716           duration += \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), blockAckReqTxVector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7a118b16b614e89a911b77a167632f89bf}{BASIC\_BLOCK\_ACK});
1717         \}
1718       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aac6b2115c70ccf5fa73e265855790a5d}{MustWaitCompressedBlockAck} ())
1719         \{
1720           WifiTxVector blockAckReqTxVector = \hyperlink{classns3_1_1MacLow_a6274c3c4a5b90a6f448cc45e89950255}{GetBlockAckTxVector} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_ac1fa908f4fb46931e5b33e3f4daa54d2}{GetAddr2} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.
      \hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ());
1721           duration += \hyperlink{classns3_1_1MacLow_a53da988c70ab1519958159aea9c969c3}{GetBlockAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), blockAckReqTxVector, \hyperlink{namespacens3_a90f436472d19d7d7f37cbf0b8c288ff7ad325114ff6e0d84c1d4cea5bd810a48c}{COMPRESSED\_BLOCK\_ACK});
1722         \}
1723       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa7d49e04e12fbc04d1d0fa4f256a0c88}{MustWaitAck} ())
1724         \{
1725           duration += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
1726         \}
1727       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa77eff21861b910ba0e82cf642df6f5e}{HasNextPacket} ())
1728         \{
1729           duration += \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (
      \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a2fa1d7ed585e00cc56a2968da9cef7dd}{GetNextPacketSize} (),
1730                                                   \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1731           \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa7d49e04e12fbc04d1d0fa4f256a0c88}{MustWaitAck} ())
1732             \{
1733               duration += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1734               duration += \hyperlink{classns3_1_1MacLow_afb6684c2fedc5d0595a80b0f6e959065}{GetAckDuration} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector});
1735             \}
1736         \}
1737     \}
1738   rts.SetDuration (duration);
1739 
1740   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txDuration = \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (
      \hyperlink{classns3_1_1MacLow_a2eca2a2e6be1438bedbe85034acf5a2c}{GetRtsSize} (), rtsTxVector, \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1741   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} timerDelay = txDuration + \hyperlink{classns3_1_1MacLow_aba3db8af06fbd9e80a0d6c35dc1f3cf4}{GetCtsTimeout} ();
1742 
1743   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}{m\_ctsTimeoutEvent}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
1744   \hyperlink{classns3_1_1MacLow_ad4e0eee50d12b8b7e22ad6b68ffb82ef}{NotifyCtsTimeoutStartNow} (timerDelay);
1745   \hyperlink{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}{m\_ctsTimeoutEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (timerDelay, &
      \hyperlink{classns3_1_1MacLow_a35adb9b4c7f1035da2cb080289ba9cf7}{MacLow::CtsTimeout}, \textcolor{keyword}{this});
1746 
1747   Ptr<Packet> packet = Create<Packet> ();
1748   packet->AddHeader (rts);
1749   \hyperlink{classns3_1_1MacLow_acaafc67755f16f347e9161310d71e3ef}{AddWifiMacTrailer} (packet);
1750 
1751   \hyperlink{classns3_1_1MacLow_a4eefbfa3d57539dadf0224cc7fcf952d}{ForwardDown} (packet, &rts, rtsTxVector);
1752 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 143




Here is the caller graph for this function\+:
% FIG 144


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Ack\+Timeout@{Set\+Ack\+Timeout}}
\index{Set\+Ack\+Timeout@{Set\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Ack\+Timeout(\+Time ack\+Timeout)}{SetAckTimeout(Time ackTimeout)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Ack\+Timeout (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{ack\+Timeout}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a602bb522f4cddf49eb8c577884c3fe31}{}\label{classns3_1_1MacLow_a602bb522f4cddf49eb8c577884c3fe31}
Set A\+CK timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em ack\+Timeout} & A\+CK timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
458 \{
459   \hyperlink{classns3_1_1MacLow_a5889cbf3ea77554b9eb0cf1a618a2db8}{m\_ackTimeout} = ackTimeout;
460 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 145


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Address@{Set\+Address}}
\index{Set\+Address@{Set\+Address}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Address(\+Mac48\+Address ad)}{SetAddress(Mac48Address ad)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Address (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{ad}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a399290b378df4e041b9c4f7cc7b9b465}{}\label{classns3_1_1MacLow_a399290b378df4e041b9c4f7cc7b9b465}
Set M\+AC address of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em ad} & \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
452 \{
453   \hyperlink{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{m\_self} = ad;
454 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 146


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Basic\+Block\+Ack\+Timeout@{Set\+Basic\+Block\+Ack\+Timeout}}
\index{Set\+Basic\+Block\+Ack\+Timeout@{Set\+Basic\+Block\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Basic\+Block\+Ack\+Timeout(\+Time block\+Ack\+Timeout)}{SetBasicBlockAckTimeout(Time blockAckTimeout)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Basic\+Block\+Ack\+Timeout (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{block\+Ack\+Timeout}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a3f9121a1c2608442164419550ffa8ea5}{}\label{classns3_1_1MacLow_a3f9121a1c2608442164419550ffa8ea5}
Set Basic Block A\+CK timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em block\+Ack\+Timeout} & Basic Block A\+CK timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
464 \{
465   \hyperlink{classns3_1_1MacLow_a3bc501e96dd54acfcfec0dbbfeb487e7}{m\_basicBlockAckTimeout} = blockAckTimeout;
466 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 147


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Bssid@{Set\+Bssid}}
\index{Set\+Bssid@{Set\+Bssid}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Bssid(\+Mac48\+Address ad)}{SetBssid(Mac48Address ad)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Bssid (
\begin{DoxyParamCaption}
\item[{{\bf Mac48\+Address}}]{ad}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a92532da5f910843337b8bbb51f551c03}{}\label{classns3_1_1MacLow_a92532da5f910843337b8bbb51f551c03}
Set the Basic Service Set Identification.


\begin{DoxyParams}{Parameters}
{\em ad} & the B\+S\+S\+ID \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
518 \{
519   \hyperlink{classns3_1_1MacLow_a36761d1d6c972817b9e2361952180923}{m\_bssid} = bssid;
520 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 148


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Compressed\+Block\+Ack\+Timeout@{Set\+Compressed\+Block\+Ack\+Timeout}}
\index{Set\+Compressed\+Block\+Ack\+Timeout@{Set\+Compressed\+Block\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Compressed\+Block\+Ack\+Timeout(\+Time block\+Ack\+Timeout)}{SetCompressedBlockAckTimeout(Time blockAckTimeout)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Compressed\+Block\+Ack\+Timeout (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{block\+Ack\+Timeout}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_af756b3e62a77278698fb4fafc042b42b}{}\label{classns3_1_1MacLow_af756b3e62a77278698fb4fafc042b42b}
Set Compressed Block A\+CK timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em block\+Ack\+Timeout} & Compressed Block A\+CK timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
470 \{
471   \hyperlink{classns3_1_1MacLow_af859368621713602f22944a1a00f9aab}{m\_compressedBlockAckTimeout} = blockAckTimeout;
472 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 149


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Cts\+Timeout@{Set\+Cts\+Timeout}}
\index{Set\+Cts\+Timeout@{Set\+Cts\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Cts\+Timeout(\+Time cts\+Timeout)}{SetCtsTimeout(Time ctsTimeout)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Cts\+Timeout (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{cts\+Timeout}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a8f1a145762c6390aa236252dfa4dcd5f}{}\label{classns3_1_1MacLow_a8f1a145762c6390aa236252dfa4dcd5f}
Set C\+TS timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em cts\+Timeout} & C\+TS timeout of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
488 \{
489   \hyperlink{classns3_1_1MacLow_ab6dd76e9ab50582171a60074ff759b51}{m\_ctsTimeout} = ctsTimeout;
490 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 150


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Cts\+To\+Self\+Supported@{Set\+Cts\+To\+Self\+Supported}}
\index{Set\+Cts\+To\+Self\+Supported@{Set\+Cts\+To\+Self\+Supported}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Cts\+To\+Self\+Supported(bool enable)}{SetCtsToSelfSupported(bool enable)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Cts\+To\+Self\+Supported (
\begin{DoxyParamCaption}
\item[{bool}]{enable}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a5607ecee6bb1d6a26e1a373e85b2f3d3}{}\label{classns3_1_1MacLow_a5607ecee6bb1d6a26e1a373e85b2f3d3}
Enable or disable C\+T\+S-\/to-\/self capability.


\begin{DoxyParams}{Parameters}
{\em enable} & Enable or disable C\+T\+S-\/to-\/self capability \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
476 \{
477   \hyperlink{classns3_1_1MacLow_a3f4e1bf0128e68f6d2b708d66357ac5e}{m\_ctsToSelfSupported} = enable;
478 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 151


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Phy@{Set\+Phy}}
\index{Set\+Phy@{Set\+Phy}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Phy(\+Ptr$<$ Wifi\+Phy $>$ phy)}{SetPhy(Ptr< WifiPhy > phy)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Phy (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Wifi\+Phy} $>$}]{phy}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a1f2c6e12277422c081fa92f8edfe66e8}{}\label{classns3_1_1MacLow_a1f2c6e12277422c081fa92f8edfe66e8}
Set up \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} associated with this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em phy} & \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} associated with this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
422 \{
423   \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy} = phy;
424   \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_adc3aa3a59f36e5c84f8d759bb15a5bf0}{SetReceiveOkCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1MacLow_a7380c5a3adcd88beda938bfa8447d7c5}{MacLow::DeaggregateAmpduAndReceive}, \textcolor{keyword}{this}));
425   \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a50d71b88c866ecfc18cd4006f1a9d2ae}{SetReceiveErrorCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1MacLow_a657ff8ed7c720eaaa77ee77a674b6289}{MacLow::ReceiveError}, \textcolor{keyword}{this}));
426   \hyperlink{classns3_1_1MacLow_afc8981535d8f7e161bf58d4d86b7f15f}{SetupPhyMacLowListener} (phy);
427 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 152




Here is the caller graph for this function\+:
% FIG 153


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Pifs@{Set\+Pifs}}
\index{Set\+Pifs@{Set\+Pifs}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Pifs(\+Time pifs)}{SetPifs(Time pifs)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Pifs (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{pifs}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_aa8a6853ba185a9a5c1fddc2a8e6c91ad}{}\label{classns3_1_1MacLow_aa8a6853ba185a9a5c1fddc2a8e6c91ad}
Set P\+CF Interframe Space (P\+I\+FS) of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em pifs} & P\+I\+FS of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
506 \{
507   \hyperlink{classns3_1_1MacLow_a115cd42f0f4a32f94c7cf80f3ad8efe9}{m\_pifs} = pifs;
508 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 154


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Promisc@{Set\+Promisc}}
\index{Set\+Promisc@{Set\+Promisc}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Promisc(void)}{SetPromisc(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Promisc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a3d6785cf29b733798a17c84036d42adf}{}\label{classns3_1_1MacLow_a3d6785cf29b733798a17c84036d42adf}
Enable promiscuous mode. 
\begin{DoxyCode}
524 \{
525   \hyperlink{classns3_1_1MacLow_ad13beb74b1519291ee00d14f1d532fdb}{m\_promisc} = \textcolor{keyword}{true};
526 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 155


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Rifs@{Set\+Rifs}}
\index{Set\+Rifs@{Set\+Rifs}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Rifs(\+Time rifs)}{SetRifs(Time rifs)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Rifs (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{rifs}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a6ef95dfa5571e843bd91d5b26c658c82}{}\label{classns3_1_1MacLow_a6ef95dfa5571e843bd91d5b26c658c82}
Set Reduced Interframe Space (R\+I\+FS) of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em rifs} & R\+I\+FS of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
512 \{
513   \hyperlink{classns3_1_1MacLow_afb4a9a2b443271b3dab4091c3e7190c7}{m\_rifs} = rifs;
514 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 156


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Rx\+Callback@{Set\+Rx\+Callback}}
\index{Set\+Rx\+Callback@{Set\+Rx\+Callback}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Rx\+Callback(\+Callback$<$ void, Ptr$<$ Packet $>$, const Wifi\+Mac\+Header $\ast$ $>$ callback)}{SetRxCallback(Callback< void, Ptr< Packet >, const WifiMacHeader * > callback)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Rx\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Callback}$<$ void, {\bf Ptr}$<$ {\bf Packet} $>$, const {\bf Wifi\+Mac\+Header} $\ast$ $>$}]{callback}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_abc6afc705f9a59bd53ebc08bd8afd90f}{}\label{classns3_1_1MacLow_abc6afc705f9a59bd53ebc08bd8afd90f}

\begin{DoxyParams}{Parameters}
{\em callback} & the callback which receives every incoming packet.\\
\hline
\end{DoxyParams}
This callback typically forwards incoming packets to an instance of \hyperlink{classns3_1_1MacRxMiddle}{ns3\+::\+Mac\+Rx\+Middle}. 
\begin{DoxyCode}
598 \{
599   \hyperlink{classns3_1_1MacLow_ac5f2b06b6151c99816c66b7bf946a4d8}{m\_rxCallback} = callback;
600 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 157


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Sifs@{Set\+Sifs}}
\index{Set\+Sifs@{Set\+Sifs}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Sifs(\+Time sifs)}{SetSifs(Time sifs)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Sifs (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{sifs}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a105b29449995514e14ec554dfa499dbd}{}\label{classns3_1_1MacLow_a105b29449995514e14ec554dfa499dbd}
Set Short Interframe Space (S\+I\+FS) of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em sifs} & S\+I\+FS of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
494 \{
495   \hyperlink{classns3_1_1MacLow_ad8abf26b1e85563b8e9b2cfd1849226c}{m\_sifs} = sifs;
496 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 158


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Slot\+Time@{Set\+Slot\+Time}}
\index{Set\+Slot\+Time@{Set\+Slot\+Time}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Slot\+Time(\+Time slot\+Time)}{SetSlotTime(Time slotTime)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Slot\+Time (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{slot\+Time}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a4ee65e0fe3be7f52b42ea555ac8402b3}{}\label{classns3_1_1MacLow_a4ee65e0fe3be7f52b42ea555ac8402b3}
Set slot duration of this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em slot\+Time} & slot duration of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
500 \{
501   \hyperlink{classns3_1_1MacLow_a76eff59c8a4983b9830edf3c6ef5e76e}{m\_slotTime} = slotTime;
502 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 159


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Setup\+Phy\+Mac\+Low\+Listener@{Setup\+Phy\+Mac\+Low\+Listener}}
\index{Setup\+Phy\+Mac\+Low\+Listener@{Setup\+Phy\+Mac\+Low\+Listener}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Setup\+Phy\+Mac\+Low\+Listener(\+Ptr$<$ Wifi\+Phy $>$ phy)}{SetupPhyMacLowListener(Ptr< WifiPhy > phy)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Setup\+Phy\+Mac\+Low\+Listener (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Wifi\+Phy} $>$}]{phy}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_afc8981535d8f7e161bf58d4d86b7f15f}{}\label{classns3_1_1MacLow_afc8981535d8f7e161bf58d4d86b7f15f}
Set up \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} listener for this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em phy} & the \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} this \hyperlink{classns3_1_1MacLow}{Mac\+Low} is connected to \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
308 \{
309   \hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\_phyMacLowListener} = \textcolor{keyword}{new} PhyMacLowListener (\textcolor{keyword}{this});
310   phy->\hyperlink{classns3_1_1WifiPhy_accee79baeb6d9dbf80cf5711d81fc035}{RegisterListener} (\hyperlink{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{m\_phyMacLowListener});
311 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 160




Here is the caller graph for this function\+:
% FIG 161


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Set\+Wifi\+Remote\+Station\+Manager@{Set\+Wifi\+Remote\+Station\+Manager}}
\index{Set\+Wifi\+Remote\+Station\+Manager@{Set\+Wifi\+Remote\+Station\+Manager}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Set\+Wifi\+Remote\+Station\+Manager(\+Ptr$<$ Wifi\+Remote\+Station\+Manager $>$ manager)}{SetWifiRemoteStationManager(Ptr< WifiRemoteStationManager > manager)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Set\+Wifi\+Remote\+Station\+Manager (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Wifi\+Remote\+Station\+Manager} $>$}]{manager}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1MacLow_a8151fd0fa31a7034f86aa65b3e4973fa}{}\label{classns3_1_1MacLow_a8151fd0fa31a7034f86aa65b3e4973fa}
Set up \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} associated with this \hyperlink{classns3_1_1MacLow}{Mac\+Low}.


\begin{DoxyParams}{Parameters}
{\em manager} & \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} associated with this \hyperlink{classns3_1_1MacLow}{Mac\+Low} \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
446 \{
447   \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager} = manager;
448 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 162


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Start\+Data\+Tx\+Timers@{Start\+Data\+Tx\+Timers}}
\index{Start\+Data\+Tx\+Timers@{Start\+Data\+Tx\+Timers}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Start\+Data\+Tx\+Timers(\+Wifi\+Tx\+Vector data\+Tx\+Vector)}{StartDataTxTimers(WifiTxVector dataTxVector)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Start\+Data\+Tx\+Timers (
\begin{DoxyParamCaption}
\item[{{\bf Wifi\+Tx\+Vector}}]{data\+Tx\+Vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ae7e8072b7d1f8b775000f6f07ee5a3c1}{}\label{classns3_1_1MacLow_ae7e8072b7d1f8b775000f6f07ee5a3c1}
Start a D\+A\+TA timer by scheduling appropriate A\+CK timeout.


\begin{DoxyParams}{Parameters}
{\em data\+Tx\+Vector} & \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1756 \{
1757   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} txDuration = \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (
      \hyperlink{classns3_1_1MacLow_a19511f9a1fc507cab3e16c85d2249f7e}{GetSize} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}), dataTxVector, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ());
1758   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a39fb4df4ce039751fedc06e52af0f281}{MustWaitNormalAck} ())
1759     \{
1760       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} timerDelay = txDuration + \hyperlink{classns3_1_1MacLow_a41936a9436518d2fe881c9606dcef19e}{GetAckTimeout} ();
1761       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{m\_normalAckTimeoutEvent}.
      \hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
1762       \hyperlink{classns3_1_1MacLow_acde3a1447ef79fa1bc3456b3d0473757}{NotifyAckTimeoutStartNow} (timerDelay);
1763       \hyperlink{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{m\_normalAckTimeoutEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (timerDelay, 
      &\hyperlink{classns3_1_1MacLow_a4d730ac2acea66982b4d257e06e22387}{MacLow::NormalAckTimeout}, \textcolor{keyword}{this});
1764     \}
1765   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a556e680aab416b0de270d487f94e236f}{MustWaitFastAck} ())
1766     \{
1767       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} timerDelay = txDuration + \hyperlink{classns3_1_1MacLow_a77f1f7d4ee6eb16b0fed4975000cb3bc}{GetPifs} ();
1768       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{m\_fastAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
1769       \hyperlink{classns3_1_1MacLow_acde3a1447ef79fa1bc3456b3d0473757}{NotifyAckTimeoutStartNow} (timerDelay);
1770       \hyperlink{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{m\_fastAckTimeoutEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (timerDelay, &
      \hyperlink{classns3_1_1MacLow_aa893a4401552fa384df6195578013b45}{MacLow::FastAckTimeout}, \textcolor{keyword}{this});
1771     \}
1772   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a2e1f3f65427d04009a84e52168594a4b}{MustWaitSuperFastAck} ())
1773     \{
1774       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} timerDelay = txDuration + \hyperlink{classns3_1_1MacLow_a77f1f7d4ee6eb16b0fed4975000cb3bc}{GetPifs} ();
1775       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_ae2473406a32bcd2bd581a57da4683b18}{m\_superFastAckTimeoutEvent}.
      \hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
1776       \hyperlink{classns3_1_1MacLow_acde3a1447ef79fa1bc3456b3d0473757}{NotifyAckTimeoutStartNow} (timerDelay);
1777       \hyperlink{classns3_1_1MacLow_ae2473406a32bcd2bd581a57da4683b18}{m\_superFastAckTimeoutEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (
      timerDelay,
1778                                                         &
      \hyperlink{classns3_1_1MacLow_ac1b528bbd4c14f0a7c4575c0fee242ee}{MacLow::SuperFastAckTimeout}, \textcolor{keyword}{this});
1779     \}
1780   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aea99b66ee9ebcb0f4429bb98be411023}{MustWaitBasicBlockAck} ())
1781     \{
1782       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} timerDelay = txDuration + \hyperlink{classns3_1_1MacLow_a5092888d73e7d32ac6172922f2469846}{GetBasicBlockAckTimeout} ();
1783       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\_blockAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
1784       \hyperlink{classns3_1_1MacLow_acde3a1447ef79fa1bc3456b3d0473757}{NotifyAckTimeoutStartNow} (timerDelay);
1785       \hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\_blockAckTimeoutEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (timerDelay, &
      \hyperlink{classns3_1_1MacLow_ace1131b4f6ea4f1d74a7c0ba470c84ac}{MacLow::BlockAckTimeout}, \textcolor{keyword}{this});
1786     \}
1787   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aac6b2115c70ccf5fa73e265855790a5d}{MustWaitCompressedBlockAck} ())
1788     \{
1789       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} timerDelay = txDuration + \hyperlink{classns3_1_1MacLow_a57e8e9f643fe85b1c04812de618efbee}{GetCompressedBlockAckTimeout} ();
1790       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\_blockAckTimeoutEvent}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
1791       \hyperlink{classns3_1_1MacLow_acde3a1447ef79fa1bc3456b3d0473757}{NotifyAckTimeoutStartNow} (timerDelay);
1792       \hyperlink{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{m\_blockAckTimeoutEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (timerDelay, &
      \hyperlink{classns3_1_1MacLow_ace1131b4f6ea4f1d74a7c0ba470c84ac}{MacLow::BlockAckTimeout}, \textcolor{keyword}{this});
1793     \}
1794   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa77eff21861b910ba0e82cf642df6f5e}{HasNextPacket} ())
1795     \{
1796       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent}.\hyperlink{classns3_1_1EventId_a5c30c92e7c1c34b4e8505cc07ed71b02}{IsExpired} ());
1797       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_a7964e6aa8f61a9d28973c8267a606ad8}{delay} = txDuration;
1798       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a19e2cd8b8c0a6d39ec014a27c2f817f2}{GetRifsPermitted} ())
1799         \{
1800           delay += \hyperlink{classns3_1_1MacLow_add308ae9aa7b74b3132cd270c5dbfb22}{GetRifs} ();
1801         \}
1802       \textcolor{keywordflow}{else}
1803         \{
1804           delay += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1805         \}
1806       \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (delay, &
      \hyperlink{classns3_1_1MacLow_a3087bf08c1005df5654ede7311173e4f}{MacLow::WaitIfsAfterEndTxFragment}, \textcolor{keyword}{this});
1807     \}
1808   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.
      \hyperlink{classns3_1_1WifiMacHeader_aaa152fcd66b795ee978cf48264b2c57e}{IsQosBlockAck} () && \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca}->HasTxop ())
1809     \{
1810       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} delay = txDuration;
1811       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a19e2cd8b8c0a6d39ec014a27c2f817f2}{GetRifsPermitted} ())
1812         \{
1813           delay += \hyperlink{classns3_1_1MacLow_add308ae9aa7b74b3132cd270c5dbfb22}{GetRifs} ();
1814         \}
1815       \textcolor{keywordflow}{else}
1816         \{
1817           delay += \hyperlink{classns3_1_1MacLow_a9107421b7ed9f291d60b8344b4918e56}{GetSifs} ();
1818         \}
1819       \hyperlink{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{m\_waitIfsEvent} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (delay, &
      \hyperlink{classns3_1_1MacLow_a17e509f5f61f862d9a49d01d7cf3a821}{MacLow::WaitIfsAfterEndTxPacket}, \textcolor{keyword}{this});
1820     \}
1821   \textcolor{keywordflow}{else}
1822     \{
1823       \textcolor{comment}{// since we do not expect any timer to be triggered.}
1824       \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (txDuration, &\hyperlink{classns3_1_1MacLow_ab27ec174aebeec55b0fd44e872c0e777}{MacLow::EndTxNoAck}, \textcolor{keyword}{this});
1825     \}
1826 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 163




Here is the caller graph for this function\+:
% FIG 164


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Start\+Transmission@{Start\+Transmission}}
\index{Start\+Transmission@{Start\+Transmission}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Start\+Transmission(\+Ptr$<$ const Packet $>$ packet, const Wifi\+Mac\+Header $\ast$hdr, Mac\+Low\+Transmission\+Parameters parameters, Ptr$<$ Dca\+Txop $>$ dca)}{StartTransmission(Ptr< const Packet > packet, const WifiMacHeader *hdr, MacLowTransmissionParameters parameters, Ptr< DcaTxop > dca)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Start\+Transmission (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{const {\bf Wifi\+Mac\+Header} $\ast$}]{hdr, }
\item[{{\bf Mac\+Low\+Transmission\+Parameters}}]{parameters, }
\item[{{\bf Ptr}$<$ {\bf Dca\+Txop} $>$}]{dca}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1MacLow_a3d13643c758e213041f8389c1041074b}{}\label{classns3_1_1MacLow_a3d13643c758e213041f8389c1041074b}

\begin{DoxyParams}{Parameters}
{\em packet} & packet to send \\
\hline
{\em hdr} & 802.\+11 header for packet to send \\
\hline
{\em parameters} & the transmission parameters to use for this packet. \\
\hline
{\em dca} & pointer to the calling \hyperlink{classns3_1_1DcaTxop}{Dca\+Txop}.\\
\hline
\end{DoxyParams}
Start the transmission of the input packet and notify the listener of transmission events. 

Reimplemented in \hyperlink{classns3_1_1WaveMacLow_a8ed4704fbcd3d5888aa8ee5abcfb9cc8}{ns3\+::\+Wave\+Mac\+Low}.


\begin{DoxyCode}
632 \{
633   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << packet << hdr << params << dca);
634   \textcolor{comment}{/* m\_currentPacket is not NULL because someone started}
635 \textcolor{comment}{   * a transmission and was interrupted before one of:}
636 \textcolor{comment}{   *   - ctsTimeout}
637 \textcolor{comment}{   *   - sendDataAfterCTS}
638 \textcolor{comment}{   * expired. This means that one of these timers is still}
639 \textcolor{comment}{   * running. They are all cancelled below anyway by the}
640 \textcolor{comment}{   * call to CancelAllEvents (because of at least one}
641 \textcolor{comment}{   * of these two timers) which will trigger a call to the}
642 \textcolor{comment}{   * previous listener's cancel method.}
643 \textcolor{comment}{   *}
644 \textcolor{comment}{   * This typically happens because the high-priority}
645 \textcolor{comment}{   * QapScheduler has taken access to the channel from}
646 \textcolor{comment}{   * one of the Edca of the QAP.}
647 \textcolor{comment}{   */}
648   \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket} = packet->\hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} ();
649   \textcolor{comment}{// remove the priority tag attached, if any}
650   SocketPriorityTag priorityTag;
651   \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}->\hyperlink{classns3_1_1Packet_a078fe922d976a417ab25ba2f3c2fd667}{RemovePacketTag} (priorityTag);
652   \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr} = *hdr;
653   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = dca;
654   \hyperlink{classns3_1_1MacLow_afecf8a67fd2052dc23f94e77b9768d6b}{CancelAllEvents} ();
655   \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams} = params;
656   \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector} = \hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{GetDataTxVector} (
      \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
657 
658   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_abb03703a2f28b39d0cff52ce8488f7b3}{NeedRts} ())
659     \{
660       \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a119d03769cf51e528d03f686c6bd8ed5}{EnableRts} ();
661     \}
662   \textcolor{keywordflow}{else}
663     \{
664       \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a18b2f706b138952bc351538e59b723f4}{DisableRts} ();
665     \}
666 
667   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a2b62ae36cdfcba18d588da756aee4f61}{IsMgt} ()
668       || (!\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ()
669           && !\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a273fb5273dcb6c690ac66a7caf72d305}{IsBlockAck} ()
670           && !\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a44f012384009b131d21512459c727f02}{IsBlockAckReq} ()))
671     \{
672       \textcolor{comment}{//This is mainly encountered when a higher priority control or management frame is}
673       \textcolor{comment}{//sent between A-MPDU transmissions. It avoids to unexpectedly flush the aggregate}
674       \textcolor{comment}{//queue when previous RTS request has failed.}
675       \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} = \textcolor{keyword}{false};
676     \}
677   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} () && \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[
      \hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, *hdr)]->GetNPackets () > 0)
678     \{
679       \textcolor{comment}{//m\_aggregateQueue > 0 occurs when a RTS/CTS exchange failed before an A-MPDU transmission.}
680       \textcolor{comment}{//In that case, we transmit the same A-MPDU as previously.}
681       uint8\_t sentMpdus = \hyperlink{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{m\_aggregateQueue}[\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, *hdr)]->GetNPackets ();
682       \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} = \textcolor{keyword}{true};
683       \textcolor{keywordflow}{if} (sentMpdus > 1)
684         \{
685           \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_af936390c4e2ee33eb55cfc36cec20bf4}{EnableCompressedBlockAck} ();
686         \}
687       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ())
688         \{
689           \textcolor{comment}{//VHT/HE single MPDUs are followed by normal ACKs}
690           \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa2db70f6786b7d0b9d9cc453b2292f2b}{EnableAck} ();
691         \}
692       \hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{AcIndex} ac = \hyperlink{group__wifi_ga4e36efcff6dd83eaee42e1af0de43d48}{QosUtilsMapTidToAc} (\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, *hdr));
693       std::map<AcIndex, Ptr<EdcaTxopN> >::const\_iterator edcaIt = \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}.find (ac);
694       Ptr<Packet> aggregatedPacket = Create<Packet> ();
695       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < sentMpdus; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
696         \{
697           Ptr<Packet> newPacket = (\hyperlink{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{m\_txPackets}[\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, *hdr)].at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).packet)->\hyperlink{namespacens3_a952d99f6d759fee74dda19f308451bc1}{Copy} ();
698           newPacket->AddHeader (\hyperlink{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{m\_txPackets}[\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, *hdr)].at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).hdr);
699           WifiMacTrailer fcs;
700           newPacket->AddTrailer (fcs);
701           edcaIt->second->GetMpduAggregator ()->Aggregate (newPacket, aggregatedPacket);
702         \}
703       \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket} = aggregatedPacket;
704       \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr} = (\hyperlink{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{m\_txPackets}[\hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (packet, *hdr)].at (0).hdr);
705       \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector} = \hyperlink{classns3_1_1MacLow_a04bad04eade9ff1de0940b01c5bcf514}{GetDataTxVector} (
      \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
706     \}
707   \textcolor{keywordflow}{else}
708     \{
709       \textcolor{comment}{//Perform MPDU aggregation if possible}
710       \hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu} = \hyperlink{classns3_1_1MacLow_a228f675a7db0df0e39edb611167861cc}{IsAmpdu} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, 
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
711       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{m\_ampdu})
712         \{
713           AmpduTag ampdu;
714           \hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}->\hyperlink{classns3_1_1Packet_a1734de11f2ca1e78a7872461a0625168}{PeekPacketTag} (ampdu);
715           \textcolor{keywordflow}{if} (ampdu.GetRemainingNbOfMpdus () > 0)
716             \{
717               \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_af936390c4e2ee33eb55cfc36cec20bf4}{EnableCompressedBlockAck} ();
718             \}
719           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a922e8c2b26023f2627ea19d9c4f4738b}{IsQosData} ())
720             \{
721               \textcolor{comment}{//VHT/HE single MPDUs are followed by normal ACKs}
722               \hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_aa2db70f6786b7d0b9d9cc453b2292f2b}{EnableAck} ();
723             \}
724         \}
725     \}
726 
727   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"startTx size="} << \hyperlink{classns3_1_1MacLow_a19511f9a1fc507cab3e16c85d2249f7e}{GetSize} (\hyperlink{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{m\_currentPacket}, &
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}) <<
728                 \textcolor{stringliteral}{", to="} << \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} () << \textcolor{stringliteral}{", dca="} << 
      \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca});
729 
730   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{m\_txParams}.\hyperlink{classns3_1_1MacLowTransmissionParameters_a84f6c50f9cbd717e5191e178ae05b331}{MustSendRts} ())
731     \{
732       \hyperlink{classns3_1_1MacLow_ac472702b866a51ea2dfb7637381897aa}{SendRtsForPacket} ();
733     \}
734   \textcolor{keywordflow}{else}
735     \{
736       \textcolor{keywordflow}{if} ((\hyperlink{classns3_1_1MacLow_a3f4e1bf0128e68f6d2b708d66357ac5e}{m\_ctsToSelfSupported} || \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->
      \hyperlink{classns3_1_1WifiRemoteStationManager_a2d3d93f08995e554960a177a52f90f2f}{GetUseNonErpProtection} ()) && \hyperlink{classns3_1_1MacLow_a8522fde99dc6efe05a667a3e3ebd9b5a}{NeedCtsToSelf} ())
737         \{
738           \hyperlink{classns3_1_1MacLow_a209c346576d367ef16cfa1cfdefff909}{SendCtsToSelf} ();
739         \}
740       \textcolor{keywordflow}{else}
741         \{
742           \hyperlink{classns3_1_1MacLow_ab177d7c7ba53c56f91612114412914bf}{SendDataPacket} ();
743         \}
744     \}
745 
746   \textcolor{comment}{/* When this method completes, we have taken ownership of the medium. */}
747   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_a2bc2591a68dbea15f9ff95fc6722e6c1}{IsStateTx} ());
748 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 165




Here is the caller graph for this function\+:
% FIG 166


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Stop\+Mpdu\+Aggregation@{Stop\+Mpdu\+Aggregation}}
\index{Stop\+Mpdu\+Aggregation@{Stop\+Mpdu\+Aggregation}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Stop\+Mpdu\+Aggregation(\+Ptr$<$ const Packet $>$ peeked\+Packet, Wifi\+Mac\+Header peeked\+Hdr, Ptr$<$ Packet $>$ aggregated\+Packet, uint16\+\_\+t size) const }{StopMpduAggregation(Ptr< const Packet > peekedPacket, WifiMacHeader peekedHdr, Ptr< Packet > aggregatedPacket, uint16_t size) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Stop\+Mpdu\+Aggregation (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{peeked\+Packet, }
\item[{{\bf Wifi\+Mac\+Header}}]{peeked\+Hdr, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{aggregated\+Packet, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1MacLow_aead5c738f9be3650b2b55a1a307029db}{}\label{classns3_1_1MacLow_aead5c738f9be3650b2b55a1a307029db}

\begin{DoxyParams}{Parameters}
{\em peeked\+Packet} & the packet to be aggregated \\
\hline
{\em peeked\+Hdr} & the \hyperlink{classns3_1_1WifiMacHeader}{Wifi\+Mac\+Header} for the packet. \\
\hline
{\em aggregated\+Packet} & the current A-\/\+M\+P\+DU \\
\hline
{\em size} & the size of a piggybacked block ack request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
false if the given packet can be added to an A-\/\+M\+P\+DU, true otherwise
\end{DoxyReturn}
This function decides if a given packet can be added to an A-\/\+M\+P\+DU or not 
\begin{DoxyCode}
2664 \{
2665   \textcolor{keywordflow}{if} (peekedPacket == 0)
2666     \{
2667       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"no more packets in queue"});
2668       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2669     \}
2670 
2671   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} aPPDUMaxTime = \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (10);
2672   uint8\_t tid = \hyperlink{group__wifi_ga92cc18e2c5aa6bed3728860bbad76ff8}{GetTid} (peekedPacket, peekedHdr);
2673   \hyperlink{group__wifi_gab422b4562ba272b39a9b6bca3513f3ac}{AcIndex} ac = \hyperlink{group__wifi_ga4e36efcff6dd83eaee42e1af0de43d48}{QosUtilsMapTidToAc} (tid);
2674   std::map<AcIndex, Ptr<EdcaTxopN> >::const\_iterator edcaIt = \hyperlink{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{m\_edca}.find (ac);
2675 
2676   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}.\hyperlink{classns3_1_1WifiTxVector_a497b1f11cad4b8b26251dfa07c9ad1d6}{GetMode} ().\hyperlink{classns3_1_1WifiMode_a7941cd2a0bc8d2ba68ba6a12c7e2c42a}{GetModulationClass} () == 
      \hyperlink{namespacens3_aa999e1221606a2b21b1eb33c2007c217a9863e4342bf5c238c74dddfc4d96c67e}{WIFI\_MOD\_CLASS\_VHT})
2677     \{
2678       aPPDUMaxTime = \hyperlink{group__timecivil_ga17465a639c8d1464e76538afdd78a9f0}{MicroSeconds} (5484);
2679     \}
2680 
2681   \textcolor{comment}{//A STA shall not transmit a PPDU that has a duration that is greater than aPPDUMaxTime}
2682   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_aee98c7241bb4f0bb8e6d90f5771dacc7}{CalculateTxDuration} (aggregatedPacket->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} () + peekedPacket->GetSize () + peekedHdr.GetSize () + 
      \hyperlink{namespacens3_a29f18a113e117817e22278a743437c08}{WIFI\_MAC\_FCS\_LENGTH}, \hyperlink{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{m\_currentTxVector}, 
      \hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ad2508d94faf22d690d6b8b4367934fd1}{GetFrequency} ()) > aPPDUMaxTime)
2683     \{
2684       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"no more packets can be aggregated to satisfy PPDU <= aPPDUMaxTime"});
2685       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2686     \}
2687 
2688   \textcolor{keywordflow}{if} (!edcaIt->second->GetMpduAggregator ()->CanBeAggregated (peekedPacket->GetSize () + peekedHdr.GetSize 
      () + \hyperlink{namespacens3_a29f18a113e117817e22278a743437c08}{WIFI\_MAC\_FCS\_LENGTH}, aggregatedPacket, size))
2689     \{
2690       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"no more packets can be aggregated because the maximum A-MPDU size has been
       reached"});
2691       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2692     \}
2693 
2694   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2695 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 167




Here is the caller graph for this function\+:
% FIG 168


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Store\+Mpdu\+If\+Needed@{Store\+Mpdu\+If\+Needed}}
\index{Store\+Mpdu\+If\+Needed@{Store\+Mpdu\+If\+Needed}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Store\+Mpdu\+If\+Needed(\+Ptr$<$ Packet $>$ packet, Wifi\+Mac\+Header hdr)}{StoreMpduIfNeeded(Ptr< Packet > packet, WifiMacHeader hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::\+Store\+Mpdu\+If\+Needed (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{packet, }
\item[{{\bf Wifi\+Mac\+Header}}]{hdr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aeada564fc806b1e258a3ef24dd867fdf}{}\label{classns3_1_1MacLow_aeada564fc806b1e258a3ef24dd867fdf}

\begin{DoxyParams}{Parameters}
{\em packet} & the packet \\
\hline
{\em hdr} & the header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the M\+P\+DU stored
\end{DoxyReturn}
This method checks if exists a valid established block ack agreement. If there is, store the packet without pass it up to \hyperlink{classns3_1_1WifiMac}{Wifi\+Mac}. The packet is buffered in order of increasing sequence control field. All comparison are performed circularly modulo 2$^\wedge$12. 
\begin{DoxyCode}
2218 \{
2219   \hyperlink{classns3_1_1MacLow_a7876cc9b328cdb0508f2a7b7647eab10}{AgreementsI} it = \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.find (std::make\_pair (hdr.GetAddr2 (), hdr.
      GetQosTid ()));
2220   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{m\_bAckAgreements}.end ())
2221     \{
2222       WifiMacTrailer fcs;
2223       packet->\hyperlink{classns3_1_1Packet_a2155e042083e9a17ad3b33f9fecb4be4}{RemoveTrailer} (fcs);
2224       \hyperlink{classns3_1_1MacLow_ae78fc9611b47a682c09e6ffc9f798be3}{BufferedPacket} bufferedPacket (packet, hdr);
2225 
2226       uint16\_t endSequence = ((*it).second.first.GetStartingSequence () + 2047) % 4096;
2227       uint16\_t mappedSeqControl = \hyperlink{group__wifi_ga841296fae895cac77a0e14183b8134e0}{QosUtilsMapSeqControlToUniqueInteger} 
      (hdr.GetSequenceControl (), endSequence);
2228 
2229       \hyperlink{classns3_1_1MacLow_ac5da0e8293b372fee7df425d9584c0b6}{BufferedPacketI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second.second.begin ();
2230       \textcolor{keywordflow}{for} (; i != (*it).second.second.end ()
2231            && \hyperlink{group__wifi_ga841296fae895cac77a0e14183b8134e0}{QosUtilsMapSeqControlToUniqueInteger} ((*i).second.
      GetSequenceControl (), endSequence) < mappedSeqControl; i++)
2232         \{
2233         \}
2234       (*it).second.second.insert (i, bufferedPacket);
2235 
2236       \textcolor{comment}{//Update block ack cache}
2237       \hyperlink{classns3_1_1MacLow_ae0b0abf84b6078031fabd4e85e1cb1bf}{BlockAckCachesI} j = \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.find (std::make\_pair (hdr.GetAddr2 (), 
      hdr.GetQosTid ()));
2238       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (j != \hyperlink{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{m\_bAckCaches}.end ());
2239       (*j).second.UpdateWithMpdu (&hdr);
2240       \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2241     \}
2242   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2243 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 169




Here is the caller graph for this function\+:
% FIG 170


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Super\+Fast\+Ack\+Timeout@{Super\+Fast\+Ack\+Timeout}}
\index{Super\+Fast\+Ack\+Timeout@{Super\+Fast\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Super\+Fast\+Ack\+Timeout(void)}{SuperFastAckTimeout(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Super\+Fast\+Ack\+Timeout (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ac1b528bbd4c14f0a7c4575c0fee242ee}{}\label{classns3_1_1MacLow_ac1b528bbd4c14f0a7c4575c0fee242ee}
Event handler when super fast A\+CK timeout occurs. 
\begin{DoxyCode}
1668 \{
1669   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1670   \hyperlink{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{m\_stationManager}->\hyperlink{classns3_1_1WifiRemoteStationManager_a36ca84ae0bbcd9b95cc353a568023e8b}{ReportDataFailed} (
      \hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr}.\hyperlink{classns3_1_1WifiMacHeader_a5ddcfd82e7c5a17ffea5be9246544530}{GetAddr1} (), &\hyperlink{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{m\_currentHdr});
1671   Ptr<DcaTxop> dca = \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca};
1672   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca} = 0;
1673   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{m\_phy}->\hyperlink{classns3_1_1WifiPhy_ae7f8f4befd54e3a32c382758e9adbe3a}{IsStateIdle} ())
1674     \{
1675       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"super fast Ack failed"});
1676       dca->MissedAck ();
1677     \}
1678   \textcolor{keywordflow}{else}
1679     \{
1680       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"super fast Ack ok"});
1681       dca->GotAck ();
1682     \}
1683 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 171




Here is the caller graph for this function\+:
% FIG 172


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Wait\+Ifs\+After\+End\+Tx\+Fragment@{Wait\+Ifs\+After\+End\+Tx\+Fragment}}
\index{Wait\+Ifs\+After\+End\+Tx\+Fragment@{Wait\+Ifs\+After\+End\+Tx\+Fragment}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Wait\+Ifs\+After\+End\+Tx\+Fragment(void)}{WaitIfsAfterEndTxFragment(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Wait\+Ifs\+After\+End\+Tx\+Fragment (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a3087bf08c1005df5654ede7311173e4f}{}\label{classns3_1_1MacLow_a3087bf08c1005df5654ede7311173e4f}
Event handler that is usually scheduled to fired at the appropriate time after completing transmissions. 
\begin{DoxyCode}
2105 \{
2106   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca}->StartNextFragment ();
2107 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 173


\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!Wait\+Ifs\+After\+End\+Tx\+Packet@{Wait\+Ifs\+After\+End\+Tx\+Packet}}
\index{Wait\+Ifs\+After\+End\+Tx\+Packet@{Wait\+Ifs\+After\+End\+Tx\+Packet}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{Wait\+Ifs\+After\+End\+Tx\+Packet(void)}{WaitIfsAfterEndTxPacket(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Mac\+Low\+::\+Wait\+Ifs\+After\+End\+Tx\+Packet (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a17e509f5f61f862d9a49d01d7cf3a821}{}\label{classns3_1_1MacLow_a17e509f5f61f862d9a49d01d7cf3a821}
Event handler that is usually scheduled to fired at the appropriate time after sending a packet. 
\begin{DoxyCode}
2111 \{
2112   \hyperlink{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{m\_currentDca}->StartNextPacket ();
2113 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 174




\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!\+::\+Ampdu\+Aggregation\+Test@{\+::\+Ampdu\+Aggregation\+Test}}
\index{\+::\+Ampdu\+Aggregation\+Test@{\+::\+Ampdu\+Aggregation\+Test}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{\+::\+Ampdu\+Aggregation\+Test}{::AmpduAggregationTest}}]{\setlength{\rightskip}{0pt plus 5cm}friend class \+::{\bf Ampdu\+Aggregation\+Test}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1MacLow_ac40416d983d6f5074b1f4d2d84900b75}{}\label{classns3_1_1MacLow_ac40416d983d6f5074b1f4d2d84900b75}
\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!\+::\+Two\+Level\+Aggregation\+Test@{\+::\+Two\+Level\+Aggregation\+Test}}
\index{\+::\+Two\+Level\+Aggregation\+Test@{\+::\+Two\+Level\+Aggregation\+Test}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{\+::\+Two\+Level\+Aggregation\+Test}{::TwoLevelAggregationTest}}]{\setlength{\rightskip}{0pt plus 5cm}friend class \+::{\bf Two\+Level\+Aggregation\+Test}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1MacLow_a59c458327e669c30a9ba73441c96c03e}{}\label{classns3_1_1MacLow_a59c458327e669c30a9ba73441c96c03e}


\subsection{Member Data Documentation}
\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+ack\+Timeout@{m\+\_\+ack\+Timeout}}
\index{m\+\_\+ack\+Timeout@{m\+\_\+ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+ack\+Timeout}{m_ackTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::m\+\_\+ack\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a5889cbf3ea77554b9eb0cf1a618a2db8}{}\label{classns3_1_1MacLow_a5889cbf3ea77554b9eb0cf1a618a2db8}


A\+CK timeout duration. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+aggregate\+Queue@{m\+\_\+aggregate\+Queue}}
\index{m\+\_\+aggregate\+Queue@{m\+\_\+aggregate\+Queue}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+aggregate\+Queue}{m_aggregateQueue}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Wifi\+Mac\+Queue}$>$ ns3\+::\+Mac\+Low\+::m\+\_\+aggregate\+Queue\mbox{[}8\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}{}\label{classns3_1_1MacLow_a50ea30f5dff00a3ef2683b9275717c6f}


Queues per T\+ID used for M\+P\+DU aggregation. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+ampdu@{m\+\_\+ampdu}}
\index{m\+\_\+ampdu@{m\+\_\+ampdu}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+ampdu}{m_ampdu}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::m\+\_\+ampdu\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}{}\label{classns3_1_1MacLow_a59c50cdd4a959f8dfc629d6df2e3cc00}


Flag if the current transmission involves an A-\/\+M\+P\+DU. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+b\+Ack\+Agreements@{m\+\_\+b\+Ack\+Agreements}}
\index{m\+\_\+b\+Ack\+Agreements@{m\+\_\+b\+Ack\+Agreements}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+b\+Ack\+Agreements}{m_bAckAgreements}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Agreements} ns3\+::\+Mac\+Low\+::m\+\_\+b\+Ack\+Agreements\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}{}\label{classns3_1_1MacLow_a53482df1a7e6f136cfa8ce50fa10adc2}


block ack agreements 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+b\+Ack\+Caches@{m\+\_\+b\+Ack\+Caches}}
\index{m\+\_\+b\+Ack\+Caches@{m\+\_\+b\+Ack\+Caches}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+b\+Ack\+Caches}{m_bAckCaches}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Block\+Ack\+Caches} ns3\+::\+Mac\+Low\+::m\+\_\+b\+Ack\+Caches\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}{}\label{classns3_1_1MacLow_a1a2b5d95cae95e9b99e6508d7d350b47}


block ack caches 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+basic\+Block\+Ack\+Timeout@{m\+\_\+basic\+Block\+Ack\+Timeout}}
\index{m\+\_\+basic\+Block\+Ack\+Timeout@{m\+\_\+basic\+Block\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+basic\+Block\+Ack\+Timeout}{m_basicBlockAckTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::m\+\_\+basic\+Block\+Ack\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a3bc501e96dd54acfcfec0dbbfeb487e7}{}\label{classns3_1_1MacLow_a3bc501e96dd54acfcfec0dbbfeb487e7}


Basic block A\+CK timeout duration. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+block\+Ack\+Timeout\+Event@{m\+\_\+block\+Ack\+Timeout\+Event}}
\index{m\+\_\+block\+Ack\+Timeout\+Event@{m\+\_\+block\+Ack\+Timeout\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+block\+Ack\+Timeout\+Event}{m_blockAckTimeoutEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+block\+Ack\+Timeout\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}{}\label{classns3_1_1MacLow_ab45f8207ce750633a91b40aa3227f436}


Block A\+CK timeout event. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+bssid@{m\+\_\+bssid}}
\index{m\+\_\+bssid@{m\+\_\+bssid}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+bssid}{m_bssid}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::\+Mac\+Low\+::m\+\_\+bssid\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a36761d1d6c972817b9e2361952180923}{}\label{classns3_1_1MacLow_a36761d1d6c972817b9e2361952180923}


B\+S\+S\+ID address (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}) 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+compressed\+Block\+Ack\+Timeout@{m\+\_\+compressed\+Block\+Ack\+Timeout}}
\index{m\+\_\+compressed\+Block\+Ack\+Timeout@{m\+\_\+compressed\+Block\+Ack\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+compressed\+Block\+Ack\+Timeout}{m_compressedBlockAckTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::m\+\_\+compressed\+Block\+Ack\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_af859368621713602f22944a1a00f9aab}{}\label{classns3_1_1MacLow_af859368621713602f22944a1a00f9aab}


Compressed block A\+CK timeout duration. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+cts\+Timeout@{m\+\_\+cts\+Timeout}}
\index{m\+\_\+cts\+Timeout@{m\+\_\+cts\+Timeout}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+cts\+Timeout}{m_ctsTimeout}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::m\+\_\+cts\+Timeout\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ab6dd76e9ab50582171a60074ff759b51}{}\label{classns3_1_1MacLow_ab6dd76e9ab50582171a60074ff759b51}


C\+TS timeout duration. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+cts\+Timeout\+Event@{m\+\_\+cts\+Timeout\+Event}}
\index{m\+\_\+cts\+Timeout\+Event@{m\+\_\+cts\+Timeout\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+cts\+Timeout\+Event}{m_ctsTimeoutEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+cts\+Timeout\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}{}\label{classns3_1_1MacLow_a1de3cc66dcaa9f318fb1b2cffb108b01}


C\+TS timeout event. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+cts\+To\+Self\+Supported@{m\+\_\+cts\+To\+Self\+Supported}}
\index{m\+\_\+cts\+To\+Self\+Supported@{m\+\_\+cts\+To\+Self\+Supported}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+cts\+To\+Self\+Supported}{m_ctsToSelfSupported}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::m\+\_\+cts\+To\+Self\+Supported\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a3f4e1bf0128e68f6d2b708d66357ac5e}{}\label{classns3_1_1MacLow_a3f4e1bf0128e68f6d2b708d66357ac5e}


Flag whether C\+T\+S-\/to-\/self is supported. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+current\+Dca@{m\+\_\+current\+Dca}}
\index{m\+\_\+current\+Dca@{m\+\_\+current\+Dca}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Dca}{m_currentDca}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Dca\+Txop}$>$ ns3\+::\+Mac\+Low\+::m\+\_\+current\+Dca\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}{}\label{classns3_1_1MacLow_a18945fbeea3c48c6bb8abd2d46429eeb}


Current D\+CA. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+current\+Hdr@{m\+\_\+current\+Hdr}}
\index{m\+\_\+current\+Hdr@{m\+\_\+current\+Hdr}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Hdr}{m_currentHdr}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Mac\+Header} ns3\+::\+Mac\+Low\+::m\+\_\+current\+Hdr\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}{}\label{classns3_1_1MacLow_aec9902bc8026338baf261d2de8fcd83b}


\hyperlink{classns3_1_1Header}{Header} of the current transmitted packet. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+current\+Packet@{m\+\_\+current\+Packet}}
\index{m\+\_\+current\+Packet@{m\+\_\+current\+Packet}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Packet}{m_currentPacket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ ns3\+::\+Mac\+Low\+::m\+\_\+current\+Packet\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}{}\label{classns3_1_1MacLow_aa4f81bb523ceed1bbf5a84851b25e29c}


Current packet transmitted/to be transmitted. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+current\+Tx\+Vector@{m\+\_\+current\+Tx\+Vector}}
\index{m\+\_\+current\+Tx\+Vector@{m\+\_\+current\+Tx\+Vector}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+current\+Tx\+Vector}{m_currentTxVector}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Tx\+Vector} ns3\+::\+Mac\+Low\+::m\+\_\+current\+Tx\+Vector\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}{}\label{classns3_1_1MacLow_af87bd81ded4d362f9f1dc89dbbee65a3}


T\+X\+V\+E\+C\+T\+OR used for the current packet transmission. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+dcf\+Managers@{m\+\_\+dcf\+Managers}}
\index{m\+\_\+dcf\+Managers@{m\+\_\+dcf\+Managers}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+dcf\+Managers}{m_dcfManagers}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Dcf\+Managers} ns3\+::\+Mac\+Low\+::m\+\_\+dcf\+Managers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}{}\label{classns3_1_1MacLow_adf307ef209557c58594aeaa3679187bc}


List of \hyperlink{classns3_1_1DcfManager}{Dcf\+Manager}. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+edca@{m\+\_\+edca}}
\index{m\+\_\+edca@{m\+\_\+edca}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+edca}{m_edca}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Queue\+Edcas} ns3\+::\+Mac\+Low\+::m\+\_\+edca\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}{}\label{classns3_1_1MacLow_a754751ba4152c9337611a5f015045a44}


E\+D\+CA queues. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+end\+Tx\+No\+Ack\+Event@{m\+\_\+end\+Tx\+No\+Ack\+Event}}
\index{m\+\_\+end\+Tx\+No\+Ack\+Event@{m\+\_\+end\+Tx\+No\+Ack\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+end\+Tx\+No\+Ack\+Event}{m_endTxNoAckEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+end\+Tx\+No\+Ack\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a25990734c06d4df0d75276f52e103f8a}{}\label{classns3_1_1MacLow_a25990734c06d4df0d75276f52e103f8a}


Event for finishing transmission that does not require A\+CK. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+fast\+Ack\+Failed\+Timeout\+Event@{m\+\_\+fast\+Ack\+Failed\+Timeout\+Event}}
\index{m\+\_\+fast\+Ack\+Failed\+Timeout\+Event@{m\+\_\+fast\+Ack\+Failed\+Timeout\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+fast\+Ack\+Failed\+Timeout\+Event}{m_fastAckFailedTimeoutEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+fast\+Ack\+Failed\+Timeout\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_af34b1f498e3b5a25a62fd4bf5f6f943a}{}\label{classns3_1_1MacLow_af34b1f498e3b5a25a62fd4bf5f6f943a}


Fast A\+CK failed timeout event. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+fast\+Ack\+Timeout\+Event@{m\+\_\+fast\+Ack\+Timeout\+Event}}
\index{m\+\_\+fast\+Ack\+Timeout\+Event@{m\+\_\+fast\+Ack\+Timeout\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+fast\+Ack\+Timeout\+Event}{m_fastAckTimeoutEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+fast\+Ack\+Timeout\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}{}\label{classns3_1_1MacLow_a0340164f4b7e73f93bcd618d238cd54c}


Fast A\+CK timeout event. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+last\+Nav\+Duration@{m\+\_\+last\+Nav\+Duration}}
\index{m\+\_\+last\+Nav\+Duration@{m\+\_\+last\+Nav\+Duration}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Nav\+Duration}{m_lastNavDuration}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::m\+\_\+last\+Nav\+Duration\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a939a71bf7296a87bfc5bf2eb8b026b4b}{}\label{classns3_1_1MacLow_a939a71bf7296a87bfc5bf2eb8b026b4b}


The duration of the latest N\+AV. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+last\+Nav\+Start@{m\+\_\+last\+Nav\+Start}}
\index{m\+\_\+last\+Nav\+Start@{m\+\_\+last\+Nav\+Start}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Nav\+Start}{m_lastNavStart}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::m\+\_\+last\+Nav\+Start\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}{}\label{classns3_1_1MacLow_ad306264b6f7c07d8b222d461f2d09b29}


The time when the latest N\+AV started. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+last\+Received\+Hdr@{m\+\_\+last\+Received\+Hdr}}
\index{m\+\_\+last\+Received\+Hdr@{m\+\_\+last\+Received\+Hdr}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Received\+Hdr}{m_lastReceivedHdr}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Wifi\+Mac\+Header} ns3\+::\+Mac\+Low\+::m\+\_\+last\+Received\+Hdr\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aa085c0d48ba7c17138b8027666d85bb5}{}\label{classns3_1_1MacLow_aa085c0d48ba7c17138b8027666d85bb5}


\hyperlink{classns3_1_1Header}{Header} of the last received packet. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+nav\+Counter\+Reset\+Cts\+Missed@{m\+\_\+nav\+Counter\+Reset\+Cts\+Missed}}
\index{m\+\_\+nav\+Counter\+Reset\+Cts\+Missed@{m\+\_\+nav\+Counter\+Reset\+Cts\+Missed}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+nav\+Counter\+Reset\+Cts\+Missed}{m_navCounterResetCtsMissed}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+nav\+Counter\+Reset\+Cts\+Missed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a5aef4547e2a6ddad9c85d55bf77e43b1}{}\label{classns3_1_1MacLow_a5aef4547e2a6ddad9c85d55bf77e43b1}


Event to reset N\+AV when C\+TS is not received. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+normal\+Ack\+Timeout\+Event@{m\+\_\+normal\+Ack\+Timeout\+Event}}
\index{m\+\_\+normal\+Ack\+Timeout\+Event@{m\+\_\+normal\+Ack\+Timeout\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+normal\+Ack\+Timeout\+Event}{m_normalAckTimeoutEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+normal\+Ack\+Timeout\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}{}\label{classns3_1_1MacLow_a4376c10e5dc680bcdb50628540c8b412}


Normal A\+CK timeout event. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+phy@{m\+\_\+phy}}
\index{m\+\_\+phy@{m\+\_\+phy}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+phy}{m_phy}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Wifi\+Phy}$>$ ns3\+::\+Mac\+Low\+::m\+\_\+phy\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}{}\label{classns3_1_1MacLow_aec8aefec9501f9d7c06b6cd0ee1353ee}


Pointer to \hyperlink{classns3_1_1WifiPhy}{Wifi\+Phy} (actually send/receives frames) 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+phy\+Mac\+Low\+Listener@{m\+\_\+phy\+Mac\+Low\+Listener}}
\index{m\+\_\+phy\+Mac\+Low\+Listener@{m\+\_\+phy\+Mac\+Low\+Listener}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+phy\+Mac\+Low\+Listener}{m_phyMacLowListener}}]{\setlength{\rightskip}{0pt plus 5cm}class {\bf Phy\+Mac\+Low\+Listener}$\ast$ ns3\+::\+Mac\+Low\+::m\+\_\+phy\+Mac\+Low\+Listener\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}{}\label{classns3_1_1MacLow_a1c49aaf243c751beb27655a0c5e72b86}


Listener needed to monitor when a channel switching occurs. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+pifs@{m\+\_\+pifs}}
\index{m\+\_\+pifs@{m\+\_\+pifs}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+pifs}{m_pifs}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::m\+\_\+pifs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a115cd42f0f4a32f94c7cf80f3ad8efe9}{}\label{classns3_1_1MacLow_a115cd42f0f4a32f94c7cf80f3ad8efe9}


P\+CF Interframe Space (P\+I\+FS) duration. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+promisc@{m\+\_\+promisc}}
\index{m\+\_\+promisc@{m\+\_\+promisc}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+promisc}{m_promisc}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Mac\+Low\+::m\+\_\+promisc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ad13beb74b1519291ee00d14f1d532fdb}{}\label{classns3_1_1MacLow_ad13beb74b1519291ee00d14f1d532fdb}


Flag if the device is operating in promiscuous mode. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+rifs@{m\+\_\+rifs}}
\index{m\+\_\+rifs@{m\+\_\+rifs}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+rifs}{m_rifs}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::m\+\_\+rifs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_afb4a9a2b443271b3dab4091c3e7190c7}{}\label{classns3_1_1MacLow_afb4a9a2b443271b3dab4091c3e7190c7}


Reduced Interframe Space (R\+I\+FS) duration. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+rx\+Callback@{m\+\_\+rx\+Callback}}
\index{m\+\_\+rx\+Callback@{m\+\_\+rx\+Callback}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+rx\+Callback}{m_rxCallback}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac\+Low\+Rx\+Callback} ns3\+::\+Mac\+Low\+::m\+\_\+rx\+Callback\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ac5f2b06b6151c99816c66b7bf946a4d8}{}\label{classns3_1_1MacLow_ac5f2b06b6151c99816c66b7bf946a4d8}


\hyperlink{classns3_1_1Callback}{Callback} to pass packet up. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+self@{m\+\_\+self}}
\index{m\+\_\+self@{m\+\_\+self}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+self}{m_self}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::\+Mac\+Low\+::m\+\_\+self\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}{}\label{classns3_1_1MacLow_a23004ca5405c82111f5b20eec03b3d9a}


\hyperlink{classns3_1_1Address}{Address} of this \hyperlink{classns3_1_1MacLow}{Mac\+Low} (\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address}) 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+send\+Ack\+Event@{m\+\_\+send\+Ack\+Event}}
\index{m\+\_\+send\+Ack\+Event@{m\+\_\+send\+Ack\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+send\+Ack\+Event}{m_sendAckEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+send\+Ack\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}{}\label{classns3_1_1MacLow_a35ee7cfc983896c26c514bade14b3197}


Event to send A\+CK. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+send\+Cts\+Event@{m\+\_\+send\+Cts\+Event}}
\index{m\+\_\+send\+Cts\+Event@{m\+\_\+send\+Cts\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+send\+Cts\+Event}{m_sendCtsEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+send\+Cts\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ade35698702b1353f2eff6b97653f8b0e}{}\label{classns3_1_1MacLow_ade35698702b1353f2eff6b97653f8b0e}


Event to send C\+TS. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+send\+Data\+Event@{m\+\_\+send\+Data\+Event}}
\index{m\+\_\+send\+Data\+Event@{m\+\_\+send\+Data\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+send\+Data\+Event}{m_sendDataEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+send\+Data\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}{}\label{classns3_1_1MacLow_a3f6b0135f1179dd4cd5d2002f7355423}


Event to send D\+A\+TA. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+sifs@{m\+\_\+sifs}}
\index{m\+\_\+sifs@{m\+\_\+sifs}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+sifs}{m_sifs}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::m\+\_\+sifs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ad8abf26b1e85563b8e9b2cfd1849226c}{}\label{classns3_1_1MacLow_ad8abf26b1e85563b8e9b2cfd1849226c}


Short Interframe Space (S\+I\+FS) duration. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+slot\+Time@{m\+\_\+slot\+Time}}
\index{m\+\_\+slot\+Time@{m\+\_\+slot\+Time}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+slot\+Time}{m_slotTime}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Mac\+Low\+::m\+\_\+slot\+Time\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a76eff59c8a4983b9830edf3c6ef5e76e}{}\label{classns3_1_1MacLow_a76eff59c8a4983b9830edf3c6ef5e76e}


Slot duration. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+station\+Manager@{m\+\_\+station\+Manager}}
\index{m\+\_\+station\+Manager@{m\+\_\+station\+Manager}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+station\+Manager}{m_stationManager}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Wifi\+Remote\+Station\+Manager}$>$ ns3\+::\+Mac\+Low\+::m\+\_\+station\+Manager\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}{}\label{classns3_1_1MacLow_a1c7f45f071f9e5eb97764f64e5cdaf1b}


Pointer to \hyperlink{classns3_1_1WifiRemoteStationManager}{Wifi\+Remote\+Station\+Manager} (rate control) 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+super\+Fast\+Ack\+Timeout\+Event@{m\+\_\+super\+Fast\+Ack\+Timeout\+Event}}
\index{m\+\_\+super\+Fast\+Ack\+Timeout\+Event@{m\+\_\+super\+Fast\+Ack\+Timeout\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+super\+Fast\+Ack\+Timeout\+Event}{m_superFastAckTimeoutEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+super\+Fast\+Ack\+Timeout\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ae2473406a32bcd2bd581a57da4683b18}{}\label{classns3_1_1MacLow_ae2473406a32bcd2bd581a57da4683b18}


Super fast A\+CK timeout event. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+tx\+Packets@{m\+\_\+tx\+Packets}}
\index{m\+\_\+tx\+Packets@{m\+\_\+tx\+Packets}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+Packets}{m_txPackets}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Item}$>$ ns3\+::\+Mac\+Low\+::m\+\_\+tx\+Packets\mbox{[}8\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}{}\label{classns3_1_1MacLow_ab8e0468b74624573dc87630e41050206}


Contain temporary items to be sent with the next A-\/\+M\+P\+DU transmission for a given T\+ID, once R\+T\+S/\+C\+TS exchange has succeeded. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+tx\+Params@{m\+\_\+tx\+Params}}
\index{m\+\_\+tx\+Params@{m\+\_\+tx\+Params}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+tx\+Params}{m_txParams}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac\+Low\+Transmission\+Parameters} ns3\+::\+Mac\+Low\+::m\+\_\+tx\+Params\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}{}\label{classns3_1_1MacLow_a1c5ce6a0415d4a6d394bc9fc8f78327d}


Transmission parameters of the current packet. 

\index{ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}!m\+\_\+wait\+Ifs\+Event@{m\+\_\+wait\+Ifs\+Event}}
\index{m\+\_\+wait\+Ifs\+Event@{m\+\_\+wait\+Ifs\+Event}!ns3\+::\+Mac\+Low@{ns3\+::\+Mac\+Low}}
\subsubsection[{\texorpdfstring{m\+\_\+wait\+Ifs\+Event}{m_waitIfsEvent}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+Mac\+Low\+::m\+\_\+wait\+Ifs\+Event\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}{}\label{classns3_1_1MacLow_abdfe679a569b3b5b3262b08ccc8f5df8}


Wait for I\+FS event. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wifi/model/\hyperlink{mac-low_8h}{mac-\/low.\+h}\item 
wifi/model/\hyperlink{mac-low_8cc}{mac-\/low.\+cc}\end{DoxyCompactItemize}
