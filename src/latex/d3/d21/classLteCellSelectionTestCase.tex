\hypertarget{classLteCellSelectionTestCase}{}\section{Lte\+Cell\+Selection\+Test\+Case Class Reference}
\label{classLteCellSelectionTestCase}\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}


Testing the initial cell selection procedure by UE at I\+D\+LE state in the beginning of simulation.  




{\ttfamily \#include $<$lte-\/test-\/cell-\/selection.\+h$>$}



Inheritance diagram for Lte\+Cell\+Selection\+Test\+Case\+:
% FIG 0


Collaboration diagram for Lte\+Cell\+Selection\+Test\+Case\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structLteCellSelectionTestCase_1_1UeSetup__t}{Ue\+Setup\+\_\+t}
\begin{DoxyCompactList}\small\item\em A set of input parameters for setting up a UE in the simulation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLteCellSelectionTestCase_a28c8547fb613f89c8d99fc6df6526adb}{Lte\+Cell\+Selection\+Test\+Case} (std\+::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, bool is\+Epc\+Mode, bool is\+Ideal\+Rrc, double inter\+Site\+Distance, std\+::vector$<$ \hyperlink{structLteCellSelectionTestCase_1_1UeSetup__t}{Ue\+Setup\+\_\+t} $>$ ue\+Setup\+List, int64\+\_\+t rng\+Run)
\begin{DoxyCompactList}\small\item\em Creates an instance of the initial cell selection test case. \end{DoxyCompactList}\item 
virtual \hyperlink{classLteCellSelectionTestCase_a5592dc706a6496ae833336301c8e3705}{$\sim$\+Lte\+Cell\+Selection\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classLteCellSelectionTestCase_a2ad9dadf26f7beb5d3ed1c6dfbcef90a}{Do\+Run} ()
\begin{DoxyCompactList}\small\item\em Setup the simulation according to the configuration set by the class constructor, run it, and verify the result. \end{DoxyCompactList}\item 
void \hyperlink{classLteCellSelectionTestCase_a12372e70c3609e0c3606a67494bc819e}{Check\+Point} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteUeNetDevice}{Lte\+Ue\+Net\+Device} $>$ ue\+Dev, uint16\+\_\+t expected\+Cell\+Id1, uint16\+\_\+t expected\+Cell\+Id2)
\begin{DoxyCompactList}\small\item\em Verifies if the given UE is attached to either of the given two cells and in a C\+O\+N\+N\+E\+C\+T\+E\+D\+\_\+\+N\+O\+R\+M\+A\+L\+LY state. \end{DoxyCompactList}\item 
void \hyperlink{classLteCellSelectionTestCase_af32c056747497954d3757c33ee9ecf0a}{State\+Transition\+Callback} (std\+::string context, uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id, uint16\+\_\+t rnti, \hyperlink{classns3_1_1LteUeRrc_a241012c291e75681150c9214e11f6145}{Lte\+Ue\+Rrc\+::\+State} old\+State, \hyperlink{classns3_1_1LteUeRrc_a241012c291e75681150c9214e11f6145}{Lte\+Ue\+Rrc\+::\+State} new\+State)
\item 
void \hyperlink{classLteCellSelectionTestCase_a1356f0354e8a62c7078a325bc71c9f32}{Initial\+Cell\+Selection\+End\+Ok\+Callback} (std\+::string context, uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id)
\item 
void \hyperlink{classLteCellSelectionTestCase_adb7a5645850282a9a8782206c28f1799}{Initial\+Cell\+Selection\+End\+Error\+Callback} (std\+::string context, uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id)
\item 
void \hyperlink{classLteCellSelectionTestCase_a79d10a85379d39ecc6acef811de6c547}{Connection\+Established\+Callback} (std\+::string context, uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id, uint16\+\_\+t rnti)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classLteCellSelectionTestCase_a6cbbe728191931290d41ef5ac4fb8b4b}{m\+\_\+is\+Epc\+Mode}
\item 
bool \hyperlink{classLteCellSelectionTestCase_adb806baf13b9fdbfbfe947baa5f45b2a}{m\+\_\+is\+Ideal\+Rrc}
\item 
double \hyperlink{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}{m\+\_\+inter\+Site\+Distance}
\item 
std\+::vector$<$ \hyperlink{structLteCellSelectionTestCase_1_1UeSetup__t}{Ue\+Setup\+\_\+t} $>$ \hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\+\_\+ue\+Setup\+List}
\item 
int64\+\_\+t \hyperlink{classLteCellSelectionTestCase_a97ba27e3f212deb47d94c92b5e96f2f6}{m\+\_\+rng\+Run}
\item 
std\+::vector$<$ \hyperlink{classns3_1_1LteUeRrc_a241012c291e75681150c9214e11f6145}{Lte\+Ue\+Rrc\+::\+State} $>$ \hyperlink{classLteCellSelectionTestCase_a1a501f3fc32e3ff1f46f0cbf326d2661}{m\+\_\+last\+State}
\begin{DoxyCompactList}\small\item\em The current UE R\+RC state. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Testing the initial cell selection procedure by UE at I\+D\+LE state in the beginning of simulation. 

\subsection{Constructor \& Destructor Documentation}
\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{Lte\+Cell\+Selection\+Test\+Case(std\+::string name, bool is\+Epc\+Mode, bool is\+Ideal\+Rrc, double inter\+Site\+Distance, std\+::vector$<$ Ue\+Setup\+\_\+t $>$ ue\+Setup\+List, int64\+\_\+t rng\+Run)}{LteCellSelectionTestCase(std::string name, bool isEpcMode, bool isIdealRrc, double interSiteDistance, std::vector< UeSetup_t > ueSetupList, int64_t rngRun)}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Cell\+Selection\+Test\+Case\+::\+Lte\+Cell\+Selection\+Test\+Case (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name, }
\item[{bool}]{is\+Epc\+Mode, }
\item[{bool}]{is\+Ideal\+Rrc, }
\item[{double}]{inter\+Site\+Distance, }
\item[{std\+::vector$<$ {\bf Ue\+Setup\+\_\+t} $>$}]{ue\+Setup\+List, }
\item[{int64\+\_\+t}]{rng\+Run}
\end{DoxyParamCaption}
)}\hypertarget{classLteCellSelectionTestCase_a28c8547fb613f89c8d99fc6df6526adb}{}\label{classLteCellSelectionTestCase_a28c8547fb613f89c8d99fc6df6526adb}


Creates an instance of the initial cell selection test case. 


\begin{DoxyParams}{Parameters}
{\em name} & name of this test \\
\hline
{\em is\+Epc\+Mode} & set to true for setting up simulation with E\+PC enabled \\
\hline
{\em is\+Ideal\+Rrc} & if true, simulation uses Ideal R\+RC protocol, otherwise simulation uses Real R\+RC protocol \\
\hline
{\em inter\+Site\+Distance} & the distance between e\+NodeB in meters \\
\hline
{\em ue\+Setup\+List} & a list of UE configuration to be installed in the simulation \\
\hline
{\em rng\+Run} & the number of run to be used by the random number generator \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
134   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}),
135     \hyperlink{classLteCellSelectionTestCase_a6cbbe728191931290d41ef5ac4fb8b4b}{m\_isEpcMode} (isEpcMode),
136     \hyperlink{classLteCellSelectionTestCase_adb806baf13b9fdbfbfe947baa5f45b2a}{m\_isIdealRrc} (isIdealRrc),
137     \hyperlink{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}{m\_interSiteDistance} (interSiteDistance),
138     \hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList} (ueSetupList),
139     \hyperlink{classLteCellSelectionTestCase_a97ba27e3f212deb47d94c92b5e96f2f6}{m\_rngRun} (rngRun)
140 \{
141   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1TestCase_a28f7bb59669c24dae1c290fc17fc9b62}{GetName} ());
142   \hyperlink{classLteCellSelectionTestCase_a1a501f3fc32e3ff1f46f0cbf326d2661}{m\_lastState}.resize (\hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList}.size (), LteUeRrc::NUM\_STATES);
143 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!````~Lte\+Cell\+Selection\+Test\+Case@{$\sim$\+Lte\+Cell\+Selection\+Test\+Case}}
\index{````~Lte\+Cell\+Selection\+Test\+Case@{$\sim$\+Lte\+Cell\+Selection\+Test\+Case}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Lte\+Cell\+Selection\+Test\+Case()}{~LteCellSelectionTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Cell\+Selection\+Test\+Case\+::$\sim$\+Lte\+Cell\+Selection\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classLteCellSelectionTestCase_a5592dc706a6496ae833336301c8e3705}{}\label{classLteCellSelectionTestCase_a5592dc706a6496ae833336301c8e3705}

\begin{DoxyCode}
147 \{
148   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1TestCase_a28f7bb59669c24dae1c290fc17fc9b62}{GetName} ());
149 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




\subsection{Member Function Documentation}
\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!Check\+Point@{Check\+Point}}
\index{Check\+Point@{Check\+Point}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{Check\+Point(\+Ptr$<$ Lte\+Ue\+Net\+Device $>$ ue\+Dev, uint16\+\_\+t expected\+Cell\+Id1, uint16\+\_\+t expected\+Cell\+Id2)}{CheckPoint(Ptr< LteUeNetDevice > ueDev, uint16_t expectedCellId1, uint16_t expectedCellId2)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Cell\+Selection\+Test\+Case\+::\+Check\+Point (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Lte\+Ue\+Net\+Device} $>$}]{ue\+Dev, }
\item[{uint16\+\_\+t}]{expected\+Cell\+Id1, }
\item[{uint16\+\_\+t}]{expected\+Cell\+Id2}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_a12372e70c3609e0c3606a67494bc819e}{}\label{classLteCellSelectionTestCase_a12372e70c3609e0c3606a67494bc819e}


Verifies if the given UE is attached to either of the given two cells and in a C\+O\+N\+N\+E\+C\+T\+E\+D\+\_\+\+N\+O\+R\+M\+A\+L\+LY state. 


\begin{DoxyCode}
364 \{
365   uint16\_t actualCellId = ueDev->\hyperlink{classns3_1_1LteUeNetDevice_a1f84e8e99aeb10f4242bbfc7b57a8128}{GetRrc} ()->GetCellId ();
366 
367   \textcolor{keywordflow}{if} (expectedCellId2 == 0)
368     \{
369       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (actualCellId, expectedCellId1,
370                              \textcolor{stringliteral}{"IMSI "} << ueDev->\hyperlink{classns3_1_1LteUeNetDevice_a673405bfed4b45c5714f17b0c3bad334}{GetImsi} ()
371                                      << \textcolor{stringliteral}{" has attached to an unexpected cell"});
372     \}
373   \textcolor{keywordflow}{else}
374     \{
375       \textcolor{keywordtype}{bool} pass = (actualCellId == expectedCellId1) ||
376         (actualCellId == expectedCellId2);
377       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (pass, \textcolor{keyword}{true},
378                              \textcolor{stringliteral}{"IMSI "} << ueDev->\hyperlink{classns3_1_1LteUeNetDevice_a673405bfed4b45c5714f17b0c3bad334}{GetImsi} ()
379                                      << \textcolor{stringliteral}{" has attached to an unexpected cell"}
380                                      << \textcolor{stringliteral}{" (actual: "} << actualCellId << \textcolor{stringliteral}{","}
381                                      << \textcolor{stringliteral}{" expected: "} << expectedCellId1
382                                      << \textcolor{stringliteral}{" or "} << expectedCellId2 << \textcolor{stringliteral}{")"});
383     \}
384 
385   \textcolor{keywordflow}{if} (expectedCellId1 > 0)
386     \{
387       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classLteCellSelectionTestCase_a1a501f3fc32e3ff1f46f0cbf326d2661}{m\_lastState}.at (ueDev->
      \hyperlink{classns3_1_1LteUeNetDevice_a673405bfed4b45c5714f17b0c3bad334}{GetImsi} () - 1),
388                              LteUeRrc::CONNECTED\_NORMALLY,
389                              \textcolor{stringliteral}{"UE "} << ueDev->\hyperlink{classns3_1_1LteUeNetDevice_a673405bfed4b45c5714f17b0c3bad334}{GetImsi} ()
390                                    << \textcolor{stringliteral}{" is not at CONNECTED\_NORMALLY state"});
391     \}
392 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!Connection\+Established\+Callback@{Connection\+Established\+Callback}}
\index{Connection\+Established\+Callback@{Connection\+Established\+Callback}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{Connection\+Established\+Callback(std\+::string context, uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id, uint16\+\_\+t rnti)}{ConnectionEstablishedCallback(std::string context, uint64_t imsi, uint16_t cellId, uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Cell\+Selection\+Test\+Case\+::\+Connection\+Established\+Callback (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{uint64\+\_\+t}]{imsi, }
\item[{uint16\+\_\+t}]{cell\+Id, }
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_a79d10a85379d39ecc6acef811de6c547}{}\label{classLteCellSelectionTestCase_a79d10a85379d39ecc6acef811de6c547}

\begin{DoxyCode}
424 \{
425   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << imsi << cellId << rnti);
426 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run()}{DoRun()}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Cell\+Selection\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLteCellSelectionTestCase_a2ad9dadf26f7beb5d3ed1c6dfbcef90a}{}\label{classLteCellSelectionTestCase_a2ad9dadf26f7beb5d3ed1c6dfbcef90a}


Setup the simulation according to the configuration set by the class constructor, run it, and verify the result. 



Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
154 \{
155   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1TestCase_a28f7bb59669c24dae1c290fc17fc9b62}{GetName} ());
156 
157   \hyperlink{group__config_ga0e12663a7bd119b65d0a219a578f2a3c}{Config::SetGlobal} (\textcolor{stringliteral}{"RngRun"}, IntegerValue (\hyperlink{classLteCellSelectionTestCase_a97ba27e3f212deb47d94c92b5e96f2f6}{m\_rngRun}));
158 
159   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
160   lteHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"PathlossModel"},
161                            StringValue (\textcolor{stringliteral}{"ns3::FriisSpectrumPropagationLossModel"}));
162   lteHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"UseIdealRrc"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (
      \hyperlink{classLteCellSelectionTestCase_adb806baf13b9fdbfbfe947baa5f45b2a}{m\_isIdealRrc}));
163 
164   \hyperlink{classns3_1_1Ptr}{Ptr<PointToPointEpcHelper>} epcHelper;
165 
166   \textcolor{keywordflow}{if} (\hyperlink{classLteCellSelectionTestCase_a6cbbe728191931290d41ef5ac4fb8b4b}{m\_isEpcMode})
167     \{
168       epcHelper = CreateObject<PointToPointEpcHelper> ();
169       lteHelper->\hyperlink{classns3_1_1LteHelper_a324079a1ccd54ce949786b83d6b95915}{SetEpcHelper} (epcHelper);
170     \}
171 
172   \textcolor{comment}{/*}
173 \textcolor{comment}{   * The topology is the following (the number on the node indicate the cell ID)}
174 \textcolor{comment}{   *}
175 \textcolor{comment}{   *      [1]        [3]}
176 \textcolor{comment}{   *    non-CSG -- non-CSG}
177 \textcolor{comment}{   *       |          |}
178 \textcolor{comment}{   *       |          | 60 m}
179 \textcolor{comment}{   *       |          |}
180 \textcolor{comment}{   *      [2]        [4]}
181 \textcolor{comment}{   *      CSG ------ CSG}
182 \textcolor{comment}{   *           60 m}
183 \textcolor{comment}{   */}
184 
185   \textcolor{comment}{// Create Nodes}
186   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
187   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (4);
188   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes;
189   uint16\_t nUe = \hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList}.size ();
190   ueNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (nUe);
191 
192   \textcolor{comment}{// Assign nodes to position}
193   \hyperlink{classns3_1_1Ptr}{Ptr<ListPositionAllocator>} positionAlloc = CreateObject<ListPositionAllocator> 
      ();
194   \textcolor{comment}{// eNodeB}
195   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (                0.0, \hyperlink{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}{m\_interSiteDistance}, 0.0));
196   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (                0.0,                 0.0, 0.0));
197   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (\hyperlink{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}{m\_interSiteDistance}, 
      \hyperlink{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}{m\_interSiteDistance}, 0.0));
198   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (\hyperlink{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}{m\_interSiteDistance},                 0.0, 0.0));
199   \textcolor{comment}{// UE}
200   std::vector<UeSetup\_t>::const\_iterator itSetup;
201   \textcolor{keywordflow}{for} (itSetup = \hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList}.begin ();
202        itSetup != \hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList}.end (); itSetup++)
203     \{
204       Vector uePos (\hyperlink{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}{m\_interSiteDistance} * itSetup->position.x,
205                     \hyperlink{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}{m\_interSiteDistance} * itSetup->position.y,
206                     \hyperlink{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}{m\_interSiteDistance} * itSetup->position.z);
207       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"UE position "} << uePos);
208       positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (uePos);
209     \}
210 
211   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
212   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
213   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (positionAlloc);
214   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (enbNodes);
215   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (ueNodes);
216 
217   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
218   int64\_t stream = 1;
219   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
220 
221   \textcolor{comment}{// cell ID 1 is a non-CSG cell}
222   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"CsgId"}, UintegerValue (0));
223   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"CsgIndication"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
224   enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)));
225 
226   \textcolor{comment}{// cell ID 2 is a CSG cell}
227   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"CsgId"}, UintegerValue (1));
228   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"CsgIndication"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
229   enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1)));
230 
231   \textcolor{comment}{// cell ID 3 is a non-CSG cell}
232   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"CsgId"}, UintegerValue (0));
233   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"CsgIndication"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
234   enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (2)));
235 
236   \textcolor{comment}{// cell ID 4 is a CSG cell}
237   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"CsgId"}, UintegerValue (1));
238   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"CsgIndication"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
239   enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (3)));
240 
241   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs;
242   \hyperlink{classns3_1_1Time}{Time} lastCheckPoint = \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (0);
243   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList}.size () == ueNodes.\hyperlink{classns3_1_1NodeContainer_aed647ac56d0407a7706aba02eb44b951}{GetN} ());
244   \hyperlink{classns3_1_1NodeContainer_aa1a9f2d2b09bfef7d066d3974bca2cc4}{NodeContainer::Iterator} itNode;
245   \textcolor{keywordflow}{for} (itSetup = \hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList}.begin (), itNode = ueNodes.\hyperlink{classns3_1_1NodeContainer_adf0f639aff139db107526288777eb533}{Begin} ();
246        itSetup != \hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList}.end () || itNode != ueNodes.\hyperlink{classns3_1_1NodeContainer_a8ea0bcac137597d192c5e6b95ca60464}{End} ();
247        itSetup++, itNode++)
248     \{
249       \textcolor{keywordflow}{if} (itSetup->isCsgMember)
250         \{
251           lteHelper->\hyperlink{classns3_1_1LteHelper_ae85f256c4356b977d60a877dbbea1857}{SetUeDeviceAttribute} (\textcolor{stringliteral}{"CsgId"}, UintegerValue (1));
252         \}
253       \textcolor{keywordflow}{else}
254         \{
255           lteHelper->\hyperlink{classns3_1_1LteHelper_ae85f256c4356b977d60a877dbbea1857}{SetUeDeviceAttribute} (\textcolor{stringliteral}{"CsgId"}, UintegerValue (0));
256         \}
257 
258       \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} devs = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (*itNode);
259       \hyperlink{classns3_1_1Ptr}{Ptr<LteUeNetDevice>} ueDev = devs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ();
260       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (ueDev != 0);
261       ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (devs);
262       Simulator::Schedule (itSetup->checkPoint,
263                            &\hyperlink{classLteCellSelectionTestCase_a12372e70c3609e0c3606a67494bc819e}{LteCellSelectionTestCase::CheckPoint},
264                            \textcolor{keyword}{this}, ueDev,
265                            itSetup->expectedCellId1, itSetup->expectedCellId2);
266 
267       \textcolor{keywordflow}{if} (lastCheckPoint < itSetup->checkPoint)
268         \{
269           lastCheckPoint = itSetup->checkPoint;
270         \}
271     \}
272 
273   stream += lteHelper->\hyperlink{classns3_1_1LteHelper_ae90d941582aa49a1b28c9301ece35b07}{AssignStreams} (enbDevs, stream);
274   stream += lteHelper->\hyperlink{classns3_1_1LteHelper_ae90d941582aa49a1b28c9301ece35b07}{AssignStreams} (ueDevs, stream);
275 
276   \textcolor{comment}{// Tests}
277   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList}.size () == ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a74cafc212479bc38976bebd118e856b9}{GetN} ());
278   \hyperlink{classns3_1_1NetDeviceContainer_a45709bb572f975569ed985fa89b132f8}{NetDeviceContainer::Iterator} itDev;
279   \textcolor{keywordflow}{for} (itSetup = \hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList}.begin (), itDev = ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_ad5aac47677fe7277e232bdec5b48a8fc}{Begin} ();
280        itSetup != \hyperlink{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{m\_ueSetupList}.end () || itDev != ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a8af596b06daf9613da60b4379861d770}{End} ();
281        itSetup++, itDev++)
282     \{
283       \hyperlink{classns3_1_1Ptr}{Ptr<LteUeNetDevice>} ueDev = (*itDev)->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ();
284     \}
285 
286   \textcolor{keywordflow}{if} (\hyperlink{classLteCellSelectionTestCase_a6cbbe728191931290d41ef5ac4fb8b4b}{m\_isEpcMode})
287     \{
288       \textcolor{comment}{// Create P-GW node}
289       \hyperlink{classns3_1_1Ptr}{Ptr<Node>} pgw = epcHelper->\hyperlink{classns3_1_1PointToPointEpcHelper_a828ac04ae81b0e323f9ccfc08bcacf21}{GetPgwNode} ();
290 
291       \textcolor{comment}{// Create a single RemoteHost}
292       \hyperlink{classns3_1_1NodeContainer}{NodeContainer} remoteHostContainer;
293       remoteHostContainer.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
294       \hyperlink{classns3_1_1Ptr}{Ptr<Node>} remoteHost = remoteHostContainer.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0);
295       \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
296       internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (remoteHostContainer);
297 
298       \textcolor{comment}{// Create the Internet}
299       \hyperlink{classns3_1_1PointToPointHelper}{PointToPointHelper} p2ph;
300       p2ph.\hyperlink{classns3_1_1PointToPointHelper_a4577f5ab8c387e5528af2e0fbab1152e}{SetDeviceAttribute} (\textcolor{stringliteral}{"DataRate"}, DataRateValue (
      \hyperlink{classns3_1_1DataRate}{DataRate} (\textcolor{stringliteral}{"100Gb/s"})));
301       p2ph.\hyperlink{classns3_1_1PointToPointHelper_a4577f5ab8c387e5528af2e0fbab1152e}{SetDeviceAttribute} (\textcolor{stringliteral}{"Mtu"}, UintegerValue (1500));
302       p2ph.\hyperlink{classns3_1_1PointToPointHelper_a6b5317fd17fb61e5a53f8d66a90b63b9}{SetChannelAttribute} (\textcolor{stringliteral}{"Delay"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.010)));
303       \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} internetDevices = p2ph.\hyperlink{classns3_1_1PointToPointHelper_ab9162fea3e88722666fed1106df1f9ec}{Install} (pgw, remoteHost);
304       \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} ipv4h;
305       ipv4h.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"1.0.0.0"}, \textcolor{stringliteral}{"255.0.0.0"});
306       \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} internetIpIfaces = ipv4h.
      \hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (internetDevices);
307 
308       \textcolor{comment}{// Routing of the Internet Host (towards the LTE network)}
309       \hyperlink{classns3_1_1Ipv4StaticRoutingHelper}{Ipv4StaticRoutingHelper} ipv4RoutingHelper;
310       \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4StaticRouting>} remoteHostStaticRouting = ipv4RoutingHelper.
      \hyperlink{classns3_1_1Ipv4StaticRoutingHelper_a731206e50d305695dac7fb2ef963a4bb}{GetStaticRouting} (remoteHost->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ());
311       remoteHostStaticRouting->\hyperlink{classns3_1_1Ipv4StaticRouting_a8bf5eaa7ba49fe33c78c70d5560b6c39}{AddNetworkRouteTo} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"7.0.0.0"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (\textcolor{stringliteral}{"255.0.0.0"}), 1);
312 
313       \textcolor{comment}{// Install the IP stack on the UEs}
314       internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (ueNodes);
315       \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} ueIpIfaces;
316       ueIpIfaces = epcHelper->\hyperlink{classns3_1_1PointToPointEpcHelper_a11102d32127163fdcc47c44623d4f0cc}{AssignUeIpv4Address} (
      \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} (ueDevs));
317 
318       \textcolor{comment}{// Assign IP address to UEs}
319       \textcolor{keywordflow}{for} (uint32\_t u = 0; u < ueNodes.\hyperlink{classns3_1_1NodeContainer_aed647ac56d0407a7706aba02eb44b951}{GetN} (); ++u)
320         \{
321           \hyperlink{classns3_1_1Ptr}{Ptr<Node>} ueNode = ueNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (u);
322           \textcolor{comment}{// Set the default gateway for the UE}
323           \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4StaticRouting>} ueStaticRouting = ipv4RoutingHelper.
      \hyperlink{classns3_1_1Ipv4StaticRoutingHelper_a731206e50d305695dac7fb2ef963a4bb}{GetStaticRouting} (ueNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ());
324           ueStaticRouting->\hyperlink{classns3_1_1Ipv4StaticRouting_aee30fa3246c2b42f122dabdff2725331}{SetDefaultRoute} (epcHelper->
      \hyperlink{classns3_1_1PointToPointEpcHelper_a9160d83b92d5ea373abcd627f5d784f5}{GetUeDefaultGatewayAddress} (), 1);
325         \}
326 
327     \} \textcolor{comment}{// end of if (m\_isEpcMode)}
328   \textcolor{keywordflow}{else}
329     \{
330       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No support yet for LTE-only simulations"});
331     \}
332 
333   \textcolor{comment}{// Connect to trace sources in UEs}
334   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/DeviceList/*/LteUeRrc/StateTransition"},
335                    \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classLteCellSelectionTestCase_af32c056747497954d3757c33ee9ecf0a}{LteCellSelectionTestCase::StateTransitionCallback},
336                                  \textcolor{keyword}{this}));
337   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/DeviceList/*/LteUeRrc/InitialCellSelectionEndOk"},
338                    \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classLteCellSelectionTestCase_a1356f0354e8a62c7078a325bc71c9f32}{LteCellSelectionTestCase::InitialCellSelectionEndOkCallback}
      ,
339                                  \textcolor{keyword}{this}));
340   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/DeviceList/*/LteUeRrc/InitialCellSelectionEndError"},
341                    \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classLteCellSelectionTestCase_adb7a5645850282a9a8782206c28f1799}{LteCellSelectionTestCase::InitialCellSelectionEndErrorCallback}
      ,
342                                  \textcolor{keyword}{this}));
343   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/DeviceList/*/LteUeRrc/ConnectionEstablished"},
344                    \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classLteCellSelectionTestCase_a79d10a85379d39ecc6acef811de6c547}{LteCellSelectionTestCase::ConnectionEstablishedCallback}
      ,
345                                  \textcolor{keyword}{this}));
346 
347   \textcolor{comment}{// Enable Idle mode cell selection}
348   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs);
349 
350   \textcolor{comment}{// Run simulation}
351   Simulator::Stop (lastCheckPoint);
352   Simulator::Run ();
353 
354   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Simulation ends"});
355   Simulator::Destroy ();
356 
357 \} \textcolor{comment}{// end of void LteCellSelectionTestCase::DoRun ()}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!Initial\+Cell\+Selection\+End\+Error\+Callback@{Initial\+Cell\+Selection\+End\+Error\+Callback}}
\index{Initial\+Cell\+Selection\+End\+Error\+Callback@{Initial\+Cell\+Selection\+End\+Error\+Callback}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{Initial\+Cell\+Selection\+End\+Error\+Callback(std\+::string context, uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id)}{InitialCellSelectionEndErrorCallback(std::string context, uint64_t imsi, uint16_t cellId)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Cell\+Selection\+Test\+Case\+::\+Initial\+Cell\+Selection\+End\+Error\+Callback (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{uint64\+\_\+t}]{imsi, }
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_adb7a5645850282a9a8782206c28f1799}{}\label{classLteCellSelectionTestCase_adb7a5645850282a9a8782206c28f1799}

\begin{DoxyCode}
416 \{
417   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << imsi << cellId);
418 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!Initial\+Cell\+Selection\+End\+Ok\+Callback@{Initial\+Cell\+Selection\+End\+Ok\+Callback}}
\index{Initial\+Cell\+Selection\+End\+Ok\+Callback@{Initial\+Cell\+Selection\+End\+Ok\+Callback}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{Initial\+Cell\+Selection\+End\+Ok\+Callback(std\+::string context, uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id)}{InitialCellSelectionEndOkCallback(std::string context, uint64_t imsi, uint16_t cellId)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Cell\+Selection\+Test\+Case\+::\+Initial\+Cell\+Selection\+End\+Ok\+Callback (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{uint64\+\_\+t}]{imsi, }
\item[{uint16\+\_\+t}]{cell\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_a1356f0354e8a62c7078a325bc71c9f32}{}\label{classLteCellSelectionTestCase_a1356f0354e8a62c7078a325bc71c9f32}

\begin{DoxyCode}
408 \{
409   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << imsi << cellId);
410 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!State\+Transition\+Callback@{State\+Transition\+Callback}}
\index{State\+Transition\+Callback@{State\+Transition\+Callback}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{State\+Transition\+Callback(std\+::string context, uint64\+\_\+t imsi, uint16\+\_\+t cell\+Id, uint16\+\_\+t rnti, Lte\+Ue\+Rrc\+::\+State old\+State, Lte\+Ue\+Rrc\+::\+State new\+State)}{StateTransitionCallback(std::string context, uint64_t imsi, uint16_t cellId, uint16_t rnti, LteUeRrc::State oldState, LteUeRrc::State newState)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Cell\+Selection\+Test\+Case\+::\+State\+Transition\+Callback (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{uint64\+\_\+t}]{imsi, }
\item[{uint16\+\_\+t}]{cell\+Id, }
\item[{uint16\+\_\+t}]{rnti, }
\item[{{\bf Lte\+Ue\+Rrc\+::\+State}}]{old\+State, }
\item[{{\bf Lte\+Ue\+Rrc\+::\+State}}]{new\+State}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_af32c056747497954d3757c33ee9ecf0a}{}\label{classLteCellSelectionTestCase_af32c056747497954d3757c33ee9ecf0a}

\begin{DoxyCode}
399 \{
400   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << imsi << cellId << rnti << oldState << newState);
401   \hyperlink{classLteCellSelectionTestCase_a1a501f3fc32e3ff1f46f0cbf326d2661}{m\_lastState}.at (imsi - 1) = newState;
402 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 10




\subsection{Member Data Documentation}
\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!m\+\_\+inter\+Site\+Distance@{m\+\_\+inter\+Site\+Distance}}
\index{m\+\_\+inter\+Site\+Distance@{m\+\_\+inter\+Site\+Distance}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+inter\+Site\+Distance}{m_interSiteDistance}}]{\setlength{\rightskip}{0pt plus 5cm}double Lte\+Cell\+Selection\+Test\+Case\+::m\+\_\+inter\+Site\+Distance\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}{}\label{classLteCellSelectionTestCase_a71bd16bea626b264efb219eaed8af84c}
\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!m\+\_\+is\+Epc\+Mode@{m\+\_\+is\+Epc\+Mode}}
\index{m\+\_\+is\+Epc\+Mode@{m\+\_\+is\+Epc\+Mode}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+is\+Epc\+Mode}{m_isEpcMode}}]{\setlength{\rightskip}{0pt plus 5cm}bool Lte\+Cell\+Selection\+Test\+Case\+::m\+\_\+is\+Epc\+Mode\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_a6cbbe728191931290d41ef5ac4fb8b4b}{}\label{classLteCellSelectionTestCase_a6cbbe728191931290d41ef5ac4fb8b4b}
\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!m\+\_\+is\+Ideal\+Rrc@{m\+\_\+is\+Ideal\+Rrc}}
\index{m\+\_\+is\+Ideal\+Rrc@{m\+\_\+is\+Ideal\+Rrc}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+is\+Ideal\+Rrc}{m_isIdealRrc}}]{\setlength{\rightskip}{0pt plus 5cm}bool Lte\+Cell\+Selection\+Test\+Case\+::m\+\_\+is\+Ideal\+Rrc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_adb806baf13b9fdbfbfe947baa5f45b2a}{}\label{classLteCellSelectionTestCase_adb806baf13b9fdbfbfe947baa5f45b2a}
\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!m\+\_\+last\+State@{m\+\_\+last\+State}}
\index{m\+\_\+last\+State@{m\+\_\+last\+State}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+State}{m_lastState}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Lte\+Ue\+Rrc\+::\+State}$>$ Lte\+Cell\+Selection\+Test\+Case\+::m\+\_\+last\+State\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_a1a501f3fc32e3ff1f46f0cbf326d2661}{}\label{classLteCellSelectionTestCase_a1a501f3fc32e3ff1f46f0cbf326d2661}


The current UE R\+RC state. 

\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!m\+\_\+rng\+Run@{m\+\_\+rng\+Run}}
\index{m\+\_\+rng\+Run@{m\+\_\+rng\+Run}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+rng\+Run}{m_rngRun}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t Lte\+Cell\+Selection\+Test\+Case\+::m\+\_\+rng\+Run\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_a97ba27e3f212deb47d94c92b5e96f2f6}{}\label{classLteCellSelectionTestCase_a97ba27e3f212deb47d94c92b5e96f2f6}
\index{Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}!m\+\_\+ue\+Setup\+List@{m\+\_\+ue\+Setup\+List}}
\index{m\+\_\+ue\+Setup\+List@{m\+\_\+ue\+Setup\+List}!Lte\+Cell\+Selection\+Test\+Case@{Lte\+Cell\+Selection\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Setup\+List}{m_ueSetupList}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Ue\+Setup\+\_\+t}$>$ Lte\+Cell\+Selection\+Test\+Case\+::m\+\_\+ue\+Setup\+List\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}{}\label{classLteCellSelectionTestCase_a09e2b5bfbe6cd4fbd482dde48078a8c7}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/test/\hyperlink{lte-test-cell-selection_8h}{lte-\/test-\/cell-\/selection.\+h}\item 
lte/test/\hyperlink{lte-test-cell-selection_8cc}{lte-\/test-\/cell-\/selection.\+cc}\end{DoxyCompactItemize}
