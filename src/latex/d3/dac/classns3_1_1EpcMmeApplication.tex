\hypertarget{classns3_1_1EpcMmeApplication}{}\section{ns3\+:\+:Epc\+Mme\+Application Class Reference}
\label{classns3_1_1EpcMmeApplication}\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}


This object implements as an application the M\+ME functionality.  




{\ttfamily \#include $<$epc-\/mme-\/application.\+h$>$}



Inheritance diagram for ns3\+:\+:Epc\+Mme\+Application\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Epc\+Mme\+Application\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1EpcMmeApplication_1_1BearerInfo}{Bearer\+Info}
\item 
struct \hyperlink{structns3_1_1EpcMmeApplication_1_1EnbInfo}{Enb\+Info}
\item 
struct \hyperlink{structns3_1_1EpcMmeApplication_1_1UeInfo}{Ue\+Info}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1EpcMmeApplication_a03cc4f7aa1dad47e134aa6483bb5fb9a}{Epc\+Mme\+Application} ()
\item 
virtual \hyperlink{classns3_1_1EpcMmeApplication_a0e4b65ab1416790cd6a2d4c702750160}{$\sim$\+Epc\+Mme\+Application} ()
\item 
\hyperlink{classns3_1_1EpcS1apSapMme}{Epc\+S1ap\+Sap\+Mme} $\ast$ \hyperlink{classns3_1_1EpcMmeApplication_af8f71bb03ed0690bc1d1e5bb7bbefa6c}{Get\+S1ap\+Sap\+Mme} ()
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_a5c386c595920ee57a4e301ba7a692baf}{Set\+S1ap\+Sap\+Mme\+Provider} (\hyperlink{classns3_1_1EpcS1apSapMmeProvider}{Epc\+S1ap\+Sap\+Mme\+Provider} $\ast$provider)
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_af3a37bc948820809c5e270ef50a2b5ac}{Set\+S11\+Sap\+Sgw} (\hyperlink{classns3_1_1EpcS11SapSgw}{Epc\+S11\+Sap\+Sgw} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
\hyperlink{classns3_1_1EpcS11SapMme}{Epc\+S11\+Sap\+Mme} $\ast$ \hyperlink{classns3_1_1EpcMmeApplication_a69700dea221e69260cd2896544230654}{Get\+S11\+Sap\+Mme} ()
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_a58560401f2314653cb41f5f8e97fee3a}{Add\+Enb} (uint16\+\_\+t ecgi, \hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} enb\+S1\+U\+Addr)
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_a0895d1a19f97350381cb7639ded9b60e}{Add\+Ue} (uint64\+\_\+t imsi)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1EpcMmeApplication_aac5cd326c8ea841a3c7f50fbe5ffc466}{Add\+Bearer} (uint64\+\_\+t imsi, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1EpcTft}{Epc\+Tft} $>$ tft, \hyperlink{structns3_1_1EpsBearer}{Eps\+Bearer} bearer)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1EpcMmeApplication_a3d687a57753a0d35696ea17f6c14daed}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1EpcMmeApplication_ad11b5b5da8db97f6544be1677585def7}{Do\+Dispose} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_a550a2feeb9c3395569cce3ae0cabaec6}{Do\+Initial\+Ue\+Message} (uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t enb\+Ue\+S1\+Id, uint64\+\_\+t imsi, uint16\+\_\+t ecgi)
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_a4fe0dde1b303ca2852232676a50dcd3e}{Do\+Initial\+Context\+Setup\+Response} (uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t enb\+Ue\+S1\+Id, \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{structns3_1_1EpcS1apSap_1_1ErabSetupItem}{Epc\+S1ap\+Sap\+Mme\+::\+Erab\+Setup\+Item} $>$ erab\+Setup\+List)
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_a0b9c14b91de59dc84c25d2bb08e75f6d}{Do\+Path\+Switch\+Request} (uint64\+\_\+t enb\+Ue\+S1\+Id, uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t cgi, \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{structns3_1_1EpcS1apSap_1_1ErabSwitchedInDownlinkItem}{Epc\+S1ap\+Sap\+Mme\+::\+Erab\+Switched\+In\+Downlink\+Item} $>$ erab\+To\+Be\+Switched\+In\+Downlink\+List)
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_a5e2d4778b2dad47b52cffee327f39968}{Do\+Erab\+Release\+Indication} (uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t enb\+Ue\+S1\+Id, \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{structns3_1_1EpcS1apSap_1_1ErabToBeReleasedIndication}{Epc\+S1ap\+Sap\+Mme\+::\+Erab\+To\+Be\+Released\+Indication} $>$ erab\+To\+Be\+Release\+Indication)
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_a9eac41ff42392dd8615b51ec68b753b5}{Do\+Create\+Session\+Response} (\hyperlink{structns3_1_1EpcS11SapMme_1_1CreateSessionResponseMessage}{Epc\+S11\+Sap\+Mme\+::\+Create\+Session\+Response\+Message} msg)
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_a623fb0bd41d2ec4b1c7f373578196385}{Do\+Modify\+Bearer\+Response} (\hyperlink{structns3_1_1EpcS11SapMme_1_1ModifyBearerResponseMessage}{Epc\+S11\+Sap\+Mme\+::\+Modify\+Bearer\+Response\+Message} msg)
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_ab6e174a5b089febcf43e53bace051d41}{Do\+Delete\+Bearer\+Request} (\hyperlink{structns3_1_1EpcS11SapMme_1_1DeleteBearerRequestMessage}{Epc\+S11\+Sap\+Mme\+::\+Delete\+Bearer\+Request\+Message} msg)
\item 
void \hyperlink{classns3_1_1EpcMmeApplication_a8e7a44a4ccafd5d94811ddf265f71466}{Remove\+Bearer} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{structns3_1_1EpcMmeApplication_1_1UeInfo}{Ue\+Info} $>$ ue\+Info, uint8\+\_\+t eps\+Bearer\+Id)
\begin{DoxyCompactList}\small\item\em This Function erases all contexts of bearer from M\+ME side. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::map$<$ uint64\+\_\+t, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{structns3_1_1EpcMmeApplication_1_1UeInfo}{Ue\+Info} $>$ $>$ \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\+\_\+ue\+Info\+Map}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{structns3_1_1EpcMmeApplication_1_1EnbInfo}{Enb\+Info} $>$ $>$ \hyperlink{classns3_1_1EpcMmeApplication_a6c49c825306fc4923aef0352a1fab029}{m\+\_\+enb\+Info\+Map}
\item 
\hyperlink{classns3_1_1EpcS1apSapMme}{Epc\+S1ap\+Sap\+Mme} $\ast$ \hyperlink{classns3_1_1EpcMmeApplication_a231d8125b154eecf240b5626d08a93ec}{m\+\_\+s1ap\+Sap\+Mme}
\item 
\hyperlink{classns3_1_1EpcS1apSapMmeProvider}{Epc\+S1ap\+Sap\+Mme\+Provider} $\ast$ \hyperlink{classns3_1_1EpcMmeApplication_a22aa4b3242125c65e94ce651970be4c1}{m\+\_\+s1ap\+Sap\+Mme\+Provider}
\item 
\hyperlink{classns3_1_1EpcS11SapMme}{Epc\+S11\+Sap\+Mme} $\ast$ \hyperlink{classns3_1_1EpcMmeApplication_a18a6d18b72bd10dd567eeffbb86e07ee}{m\+\_\+s11\+Sap\+Mme}
\item 
\hyperlink{classns3_1_1EpcS11SapSgw}{Epc\+S11\+Sap\+Sgw} $\ast$ \hyperlink{classns3_1_1EpcMmeApplication_a00c06da2169cc043ac1fa7bdd03b4027}{m\+\_\+s11\+Sap\+Sgw}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1EpcMmeApplication_a22269751c319acf6b5548bb04400ba6a}{Member\+Epc\+S1ap\+Sap\+Mme$<$ Epc\+Mme\+Application $>$}
\item 
class \hyperlink{classns3_1_1EpcMmeApplication_a638765700ca06374869b71af353fbe71}{Member\+Epc\+S11\+Sap\+Mme$<$ Epc\+Mme\+Application $>$}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This object implements as an application the M\+ME functionality. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Epc\+Mme\+Application@{Epc\+Mme\+Application}}
\index{Epc\+Mme\+Application@{Epc\+Mme\+Application}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Epc\+Mme\+Application()}{EpcMmeApplication()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Epc\+Mme\+Application\+::\+Epc\+Mme\+Application (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcMmeApplication_a03cc4f7aa1dad47e134aa6483bb5fb9a}{}\label{classns3_1_1EpcMmeApplication_a03cc4f7aa1dad47e134aa6483bb5fb9a}
Constructor 
\begin{DoxyCode}
41   : \hyperlink{classns3_1_1EpcMmeApplication_a00c06da2169cc043ac1fa7bdd03b4027}{m\_s11SapSgw} (0)
42 \{
43   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
44   \hyperlink{classns3_1_1EpcMmeApplication_a231d8125b154eecf240b5626d08a93ec}{m\_s1apSapMme} = \textcolor{keyword}{new} \hyperlink{classns3_1_1EpcMmeApplication_a22269751c319acf6b5548bb04400ba6a}{MemberEpcS1apSapMme<EpcMmeApplication>}
       (\textcolor{keyword}{this});
45   \hyperlink{classns3_1_1EpcMmeApplication_a18a6d18b72bd10dd567eeffbb86e07ee}{m\_s11SapMme} = \textcolor{keyword}{new} \hyperlink{classns3_1_1EpcMmeApplication_a638765700ca06374869b71af353fbe71}{MemberEpcS11SapMme<EpcMmeApplication>} (\textcolor{keyword}{
      this});
46 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!````~Epc\+Mme\+Application@{$\sim$\+Epc\+Mme\+Application}}
\index{````~Epc\+Mme\+Application@{$\sim$\+Epc\+Mme\+Application}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{$\sim$\+Epc\+Mme\+Application()}{~EpcMmeApplication()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Epc\+Mme\+Application\+::$\sim$\+Epc\+Mme\+Application (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1EpcMmeApplication_a0e4b65ab1416790cd6a2d4c702750160}{}\label{classns3_1_1EpcMmeApplication_a0e4b65ab1416790cd6a2d4c702750160}
Destructor 
\begin{DoxyCode}
50 \{
51   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
52 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Add\+Bearer@{Add\+Bearer}}
\index{Add\+Bearer@{Add\+Bearer}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Add\+Bearer(uint64\+\_\+t imsi, Ptr$<$ Epc\+Tft $>$ tft, Eps\+Bearer bearer)}{AddBearer(uint64_t imsi, Ptr< EpcTft > tft, EpsBearer bearer)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Epc\+Mme\+Application\+::\+Add\+Bearer (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{imsi, }
\item[{{\bf Ptr}$<$ {\bf Epc\+Tft} $>$}]{tft, }
\item[{{\bf Eps\+Bearer}}]{bearer}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcMmeApplication_aac5cd326c8ea841a3c7f50fbe5ffc466}{}\label{classns3_1_1EpcMmeApplication_aac5cd326c8ea841a3c7f50fbe5ffc466}
Add an E\+PS bearer to the list of bearers to be activated for this UE. The bearer will be activated when the UE enters the E\+CM connected state.


\begin{DoxyParams}{Parameters}
{\em imsi} & UE identifier \\
\hline
{\em tft} & traffic flow template of the bearer \\
\hline
{\em bearer} & QoS characteristics of the bearer \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
122 \{
123   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << imsi);
124   std::map<uint64\_t, Ptr<UeInfo> >::iterator it = \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.find (imsi);
125   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it != \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.end (), \textcolor{stringliteral}{"could not find any UE with IMSI "} << 
      imsi);
126   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it->second->bearerCounter < 11, \textcolor{stringliteral}{"too many bearers already! "} << it->second->
      bearerCounter);
127   BearerInfo bearerInfo;
128   bearerInfo.bearerId = ++(it->second->bearerCounter);
129   bearerInfo.tft = tft;
130   bearerInfo.bearer = bearer;  
131   it->second->bearersToBeActivated.push\_back (bearerInfo);
132   \textcolor{keywordflow}{return} bearerInfo.bearerId;
133 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Add\+Enb@{Add\+Enb}}
\index{Add\+Enb@{Add\+Enb}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Add\+Enb(uint16\+\_\+t ecgi, Ipv4\+Address enb\+S1\+U\+Addr)}{AddEnb(uint16_t ecgi, Ipv4Address enbS1UAddr)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Add\+Enb (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{ecgi, }
\item[{{\bf Ipv4\+Address}}]{enb\+S1\+U\+Addr}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcMmeApplication_a58560401f2314653cb41f5f8e97fee3a}{}\label{classns3_1_1EpcMmeApplication_a58560401f2314653cb41f5f8e97fee3a}
Add a new E\+NB to the M\+ME. 
\begin{DoxyParams}{Parameters}
{\em ecgi} & E-\/\+U\+T\+R\+AN Cell Global ID, the unique identifier of the e\+NodeB \\
\hline
{\em the} & e\+NB S1\+U\+Addr \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
100 \{
101   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << gci << enbS1uAddr);
102   Ptr<EnbInfo> enbInfo = Create<EnbInfo> ();
103   enbInfo->gci = gci;
104   enbInfo->s1uAddr = enbS1uAddr;
105   \hyperlink{classns3_1_1EpcMmeApplication_a6c49c825306fc4923aef0352a1fab029}{m\_enbInfoMap}[gci] = enbInfo;
106 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Add\+Ue@{Add\+Ue}}
\index{Add\+Ue@{Add\+Ue}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Add\+Ue(uint64\+\_\+t imsi)}{AddUe(uint64_t imsi)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Add\+Ue (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{imsi}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcMmeApplication_a0895d1a19f97350381cb7639ded9b60e}{}\label{classns3_1_1EpcMmeApplication_a0895d1a19f97350381cb7639ded9b60e}
Add a new UE to the M\+ME. This is the equivalent of storing the UE credentials before the UE is ever turned on.


\begin{DoxyParams}{Parameters}
{\em imsi} & the unique identifier of the UE \\
\hline
\end{DoxyParams}
std\+::cout $<$$<$ ue\+Info-\/$>$bearers\+To\+Be\+Activated.\+size() $<$$<$\char`\"{}sjkang1021-\/-\/-\/-\/-\/-\/$>$\char`\"{} $<$$<$std\+::endl; 
\begin{DoxyCode}
110 \{
111   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << imsi);
112   Ptr<UeInfo> ueInfo = Create<UeInfo> ();
113   ueInfo->imsi = imsi;
114   ueInfo->mmeUeS1Id = imsi;
116   \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}[imsi] = ueInfo;
117   ueInfo->bearerCounter = 0;
118 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Do\+Create\+Session\+Response@{Do\+Create\+Session\+Response}}
\index{Do\+Create\+Session\+Response@{Do\+Create\+Session\+Response}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Do\+Create\+Session\+Response(\+Epc\+S11\+Sap\+Mme\+::\+Create\+Session\+Response\+Message msg)}{DoCreateSessionResponse(EpcS11SapMme::CreateSessionResponseMessage msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Do\+Create\+Session\+Response (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+S11\+Sap\+Mme\+::\+Create\+Session\+Response\+Message}}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a9eac41ff42392dd8615b51ec68b753b5}{}\label{classns3_1_1EpcMmeApplication_a9eac41ff42392dd8615b51ec68b753b5}

\begin{DoxyCode}
196 \{
197   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << msg.teid);
198   uint64\_t imsi = msg.teid;
199   std::list<EpcS1apSapEnb::ErabToBeSetupItem> erabToBeSetupList;
200   \textcolor{keywordflow}{for} (std::list<EpcS11SapMme::BearerContextCreated>::iterator bit = msg.bearerContextsCreated.begin ();
201        bit != msg.bearerContextsCreated.end ();
202        ++bit)
203     \{
204       EpcS1apSapEnb::ErabToBeSetupItem erab;
205       erab.erabId = bit->epsBearerId;
206       erab.erabLevelQosParameters = bit->bearerLevelQos;
207       erab.transportLayerAddress = bit->sgwFteid.address;
208       erab.sgwTeid = bit->sgwFteid.teid;      
209       erabToBeSetupList.push\_back (erab);
210     \}
211   std::map<uint64\_t, Ptr<UeInfo> >::iterator it = \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.find (imsi);
212   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it != \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.end (), \textcolor{stringliteral}{"could not find any UE with IMSI "} << 
      imsi);
213   uint16\_t cellId = it->second->cellId;
214   uint16\_t enbUeS1Id = it->second->enbUeS1Id;
215   uint64\_t mmeUeS1Id = it->second->mmeUeS1Id;
216   std::map<uint16\_t, Ptr<EnbInfo> >::iterator jt = \hyperlink{classns3_1_1EpcMmeApplication_a6c49c825306fc4923aef0352a1fab029}{m\_enbInfoMap}.find (cellId);
217   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (jt != \hyperlink{classns3_1_1EpcMmeApplication_a6c49c825306fc4923aef0352a1fab029}{m\_enbInfoMap}.end (), \textcolor{stringliteral}{"could not find any eNB with CellId "} 
      << cellId);
218   \hyperlink{classns3_1_1EpcMmeApplication_a22aa4b3242125c65e94ce651970be4c1}{m\_s1apSapMmeProvider}->\hyperlink{classns3_1_1EpcS1apSapMmeProvider_af147967091bda76791089f4db21f9689}{SendInitialContextSetupRequest} (
      mmeUeS1Id, enbUeS1Id, erabToBeSetupList, cellId);
219 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Do\+Delete\+Bearer\+Request@{Do\+Delete\+Bearer\+Request}}
\index{Do\+Delete\+Bearer\+Request@{Do\+Delete\+Bearer\+Request}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Do\+Delete\+Bearer\+Request(\+Epc\+S11\+Sap\+Mme\+::\+Delete\+Bearer\+Request\+Message msg)}{DoDeleteBearerRequest(EpcS11SapMme::DeleteBearerRequestMessage msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Do\+Delete\+Bearer\+Request (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+S11\+Sap\+Mme\+::\+Delete\+Bearer\+Request\+Message}}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_ab6e174a5b089febcf43e53bace051d41}{}\label{classns3_1_1EpcMmeApplication_ab6e174a5b089febcf43e53bace051d41}

\begin{DoxyCode}
263 \{
264   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
265   uint64\_t imsi = msg.teid;
266   std::map<uint64\_t, Ptr<UeInfo> >::iterator it = \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.find (imsi);
267   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it != \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.end (), \textcolor{stringliteral}{"could not find any UE with IMSI "} << 
      imsi);
268   EpcS11SapSgw::DeleteBearerResponseMessage res;
269 
270   res.teid = imsi;
271 
272   \textcolor{keywordflow}{for} (std::list<EpcS11SapMme::BearerContextRemoved>::iterator bit = msg.bearerContextsRemoved.begin ();
273        bit != msg.bearerContextsRemoved.end ();
274        ++bit)
275     \{
276       EpcS11SapSgw::BearerContextRemovedSgwPgw bearerContext;
277       bearerContext.epsBearerId = bit->epsBearerId;
278       res.bearerContextsRemoved.push\_back (bearerContext);
279 
280       \hyperlink{classns3_1_1EpcMmeApplication_a8e7a44a4ccafd5d94811ddf265f71466}{RemoveBearer} (it->second, bearerContext.epsBearerId); \textcolor{comment}{//schedules function to erase,
       context of de-activated bearer}
281     \}
282   \textcolor{comment}{//schedules Delete Bearer Response towards epc-sgw-pgw-application}
283   \hyperlink{classns3_1_1EpcMmeApplication_a00c06da2169cc043ac1fa7bdd03b4027}{m\_s11SapSgw}->\hyperlink{classns3_1_1EpcS11SapSgw_a2f70f36b1e3847cbaeb18a8047a01c7d}{DeleteBearerResponse} (res);
284 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1EpcMmeApplication_ad11b5b5da8db97f6544be1677585def7}{}\label{classns3_1_1EpcMmeApplication_ad11b5b5da8db97f6544be1677585def7}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1EpcMmeApplication_ad11b5b5da8db97f6544be1677585def7}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Application_a89f6c9454532d62600251872bede6d04}{ns3\+::\+Application}.


\begin{DoxyCode}
56 \{
57   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
58   \textcolor{keyword}{delete} \hyperlink{classns3_1_1EpcMmeApplication_a231d8125b154eecf240b5626d08a93ec}{m\_s1apSapMme};
59   \textcolor{keyword}{delete} \hyperlink{classns3_1_1EpcMmeApplication_a18a6d18b72bd10dd567eeffbb86e07ee}{m\_s11SapMme};
60 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Do\+Erab\+Release\+Indication@{Do\+Erab\+Release\+Indication}}
\index{Do\+Erab\+Release\+Indication@{Do\+Erab\+Release\+Indication}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Do\+Erab\+Release\+Indication(uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t enb\+Ue\+S1\+Id, std\+::list$<$ Epc\+S1ap\+Sap\+Mme\+::\+Erab\+To\+Be\+Released\+Indication $>$ erab\+To\+Be\+Release\+Indication)}{DoErabReleaseIndication(uint64_t mmeUeS1Id, uint16_t enbUeS1Id, std::list< EpcS1apSapMme::ErabToBeReleasedIndication > erabToBeReleaseIndication)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Do\+Erab\+Release\+Indication (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{mme\+Ue\+S1\+Id, }
\item[{uint16\+\_\+t}]{enb\+Ue\+S1\+Id, }
\item[{{\bf std\+::list}$<$ {\bf Epc\+S1ap\+Sap\+Mme\+::\+Erab\+To\+Be\+Released\+Indication} $>$}]{erab\+To\+Be\+Release\+Indication}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a5e2d4778b2dad47b52cffee327f39968}{}\label{classns3_1_1EpcMmeApplication_a5e2d4778b2dad47b52cffee327f39968}

\begin{DoxyCode}
241 \{
242   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << mmeUeS1Id << enbUeS1Id);
243   uint64\_t imsi = mmeUeS1Id;
244   std::map<uint64\_t, Ptr<UeInfo> >::iterator it = \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.find (imsi);
245   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it != \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.end (), \textcolor{stringliteral}{"could not find any UE with IMSI "} << 
      imsi);
246 
247   EpcS11SapSgw::DeleteBearerCommandMessage msg;
248   \textcolor{comment}{// trick to avoid the need for allocating TEIDs on the S11 interface}
249   msg.teid = imsi;
250 
251   \textcolor{keywordflow}{for} (std::list<EpcS1apSapMme::ErabToBeReleasedIndication>::iterator bit = erabToBeReleaseIndication.begin
       (); bit != erabToBeReleaseIndication.end (); ++bit)
252     \{
253       EpcS11SapSgw::BearerContextToBeRemoved bearerContext;
254       bearerContext.epsBearerId =  bit->erabId;
255       msg.bearerContextsToBeRemoved.push\_back (bearerContext);
256     \}
257   \textcolor{comment}{//Delete Bearer command towards epc-sgw-pgw-application}
258   \hyperlink{classns3_1_1EpcMmeApplication_a00c06da2169cc043ac1fa7bdd03b4027}{m\_s11SapSgw}->\hyperlink{classns3_1_1EpcS11SapSgw_adce458b78927294e4c7b135b0c3c560c}{DeleteBearerCommand} (msg);
259 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Do\+Initial\+Context\+Setup\+Response@{Do\+Initial\+Context\+Setup\+Response}}
\index{Do\+Initial\+Context\+Setup\+Response@{Do\+Initial\+Context\+Setup\+Response}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Do\+Initial\+Context\+Setup\+Response(uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t enb\+Ue\+S1\+Id, std\+::list$<$ Epc\+S1ap\+Sap\+Mme\+::\+Erab\+Setup\+Item $>$ erab\+Setup\+List)}{DoInitialContextSetupResponse(uint64_t mmeUeS1Id, uint16_t enbUeS1Id, std::list< EpcS1apSapMme::ErabSetupItem > erabSetupList)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Do\+Initial\+Context\+Setup\+Response (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{mme\+Ue\+S1\+Id, }
\item[{uint16\+\_\+t}]{enb\+Ue\+S1\+Id, }
\item[{{\bf std\+::list}$<$ {\bf Epc\+S1ap\+Sap\+Mme\+::\+Erab\+Setup\+Item} $>$}]{erab\+Setup\+List}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a4fe0dde1b303ca2852232676a50dcd3e}{}\label{classns3_1_1EpcMmeApplication_a4fe0dde1b303ca2852232676a50dcd3e}

\begin{DoxyCode}
167 \{
168   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << mmeUeS1Id << enbUeS1Id);
169   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"unimplemented"});
170 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Do\+Initial\+Ue\+Message@{Do\+Initial\+Ue\+Message}}
\index{Do\+Initial\+Ue\+Message@{Do\+Initial\+Ue\+Message}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Do\+Initial\+Ue\+Message(uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t enb\+Ue\+S1\+Id, uint64\+\_\+t imsi, uint16\+\_\+t ecgi)}{DoInitialUeMessage(uint64_t mmeUeS1Id, uint16_t enbUeS1Id, uint64_t imsi, uint16_t ecgi)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Do\+Initial\+Ue\+Message (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{mme\+Ue\+S1\+Id, }
\item[{uint16\+\_\+t}]{enb\+Ue\+S1\+Id, }
\item[{uint64\+\_\+t}]{imsi, }
\item[{uint16\+\_\+t}]{ecgi}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a550a2feeb9c3395569cce3ae0cabaec6}{}\label{classns3_1_1EpcMmeApplication_a550a2feeb9c3395569cce3ae0cabaec6}

\begin{DoxyCode}
140 \{
141   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << mmeUeS1Id << enbUeS1Id << imsi << gci);
142   std::map<uint64\_t, Ptr<UeInfo> >::iterator it = \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.find (imsi);
143   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it != \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.end (), \textcolor{stringliteral}{"could not find any UE with IMSI "} << 
      imsi);
144   it->second->cellId = gci;
145   EpcS11SapSgw::CreateSessionRequestMessage msg;
146   msg.imsi = imsi;
147   msg.uli.gci = gci;
148   \textcolor{comment}{//std::cout << "sjkang1021---------->" <<std::endl;}
149 
150   \textcolor{keywordflow}{for} (std::list<BearerInfo>::iterator bit = it->second->bearersToBeActivated.begin ();
151        bit != it->second->bearersToBeActivated.end ();
152        ++bit)
153     \{
154       EpcS11SapSgw::BearerContextToBeCreated bearerContext;
155       bearerContext.epsBearerId =  bit->bearerId;
156       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO}(\textcolor{stringliteral}{"Mme: sending as bearerId "} << (uint32\_t) bit->bearerId);
157       bearerContext.bearerLevelQos = bit->bearer; 
158       bearerContext.tft = bit->tft;
159       \textcolor{comment}{//std::cout << "sjkang1021---------->" <<std::endl;}
160       msg.bearerContextsToBeCreated.push\_back (bearerContext);
161     \}
162   \hyperlink{classns3_1_1EpcMmeApplication_a00c06da2169cc043ac1fa7bdd03b4027}{m\_s11SapSgw}->\hyperlink{classns3_1_1EpcS11SapSgw_a0e01ebe202d307f6b1d52884b66a8d96}{CreateSessionRequest} (msg);
163 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Do\+Modify\+Bearer\+Response@{Do\+Modify\+Bearer\+Response}}
\index{Do\+Modify\+Bearer\+Response@{Do\+Modify\+Bearer\+Response}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Do\+Modify\+Bearer\+Response(\+Epc\+S11\+Sap\+Mme\+::\+Modify\+Bearer\+Response\+Message msg)}{DoModifyBearerResponse(EpcS11SapMme::ModifyBearerResponseMessage msg)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Do\+Modify\+Bearer\+Response (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+S11\+Sap\+Mme\+::\+Modify\+Bearer\+Response\+Message}}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a623fb0bd41d2ec4b1c7f373578196385}{}\label{classns3_1_1EpcMmeApplication_a623fb0bd41d2ec4b1c7f373578196385}

\begin{DoxyCode}
224 \{
225   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << msg.teid);
226   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (msg.cause == 
      \hyperlink{structns3_1_1EpcS11SapMme_1_1ModifyBearerResponseMessage_a0f5caf9b54d24e8298ba8878ef1f773ca13e4573acd6716004d421a969b43e50c}{EpcS11SapMme::ModifyBearerResponseMessage::REQUEST\_ACCEPTED}
      );
227   uint64\_t imsi = msg.teid;
228   std::map<uint64\_t, Ptr<UeInfo> >::iterator it = \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.find (imsi);
229   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it != \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.end (), \textcolor{stringliteral}{"could not find any UE with IMSI "} << 
      imsi);
230   uint64\_t enbUeS1Id = it->second->enbUeS1Id;
231   uint64\_t mmeUeS1Id = it->second->mmeUeS1Id;
232   uint16\_t cgi = it->second->cellId;
233   std::list<EpcS1apSapEnb::ErabSwitchedInUplinkItem> erabToBeSwitchedInUplinkList; \textcolor{comment}{// unused for now}
234   std::map<uint16\_t, Ptr<EnbInfo> >::iterator jt = \hyperlink{classns3_1_1EpcMmeApplication_a6c49c825306fc4923aef0352a1fab029}{m\_enbInfoMap}.find (it->second->cellId);
235   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (jt != \hyperlink{classns3_1_1EpcMmeApplication_a6c49c825306fc4923aef0352a1fab029}{m\_enbInfoMap}.end (), \textcolor{stringliteral}{"could not find any eNB with CellId "} 
      << it->second->cellId);
236   \hyperlink{classns3_1_1EpcMmeApplication_a22aa4b3242125c65e94ce651970be4c1}{m\_s1apSapMmeProvider}->\hyperlink{classns3_1_1EpcS1apSapMmeProvider_a5795491210577b40be1f96d071e0689b}{SendPathSwitchRequestAcknowledge}
       (enbUeS1Id, mmeUeS1Id, cgi, erabToBeSwitchedInUplinkList);
237 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Do\+Path\+Switch\+Request@{Do\+Path\+Switch\+Request}}
\index{Do\+Path\+Switch\+Request@{Do\+Path\+Switch\+Request}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Do\+Path\+Switch\+Request(uint64\+\_\+t enb\+Ue\+S1\+Id, uint64\+\_\+t mme\+Ue\+S1\+Id, uint16\+\_\+t cgi, std\+::list$<$ Epc\+S1ap\+Sap\+Mme\+::\+Erab\+Switched\+In\+Downlink\+Item $>$ erab\+To\+Be\+Switched\+In\+Downlink\+List)}{DoPathSwitchRequest(uint64_t enbUeS1Id, uint64_t mmeUeS1Id, uint16_t cgi, std::list< EpcS1apSapMme::ErabSwitchedInDownlinkItem > erabToBeSwitchedInDownlinkList)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Do\+Path\+Switch\+Request (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{enb\+Ue\+S1\+Id, }
\item[{uint64\+\_\+t}]{mme\+Ue\+S1\+Id, }
\item[{uint16\+\_\+t}]{cgi, }
\item[{{\bf std\+::list}$<$ {\bf Epc\+S1ap\+Sap\+Mme\+::\+Erab\+Switched\+In\+Downlink\+Item} $>$}]{erab\+To\+Be\+Switched\+In\+Downlink\+List}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a0b9c14b91de59dc84c25d2bb08e75f6d}{}\label{classns3_1_1EpcMmeApplication_a0b9c14b91de59dc84c25d2bb08e75f6d}

\begin{DoxyCode}
174 \{
175   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << mmeUeS1Id << enbUeS1Id << gci);
176 
177   uint64\_t imsi = mmeUeS1Id; 
178   std::map<uint64\_t, Ptr<UeInfo> >::iterator it = \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.find (imsi);
179   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (it != \hyperlink{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{m\_ueInfoMap}.end (), \textcolor{stringliteral}{"could not find any UE with IMSI "} << 
      imsi);
180   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"IMSI "} << imsi << \textcolor{stringliteral}{" old eNB: "} << it->second->cellId << \textcolor{stringliteral}{", new eNB: "} << gci);
181   it->second->cellId = gci;
182   it->second->enbUeS1Id = enbUeS1Id;
183 
184   EpcS11SapSgw::ModifyBearerRequestMessage msg;
185   msg.teid = imsi; \textcolor{comment}{// trick to avoid the need for allocating TEIDs on the S11 interface}
186   msg.uli.gci = gci;
187   \textcolor{comment}{// bearer modification is not supported for now}
188   \hyperlink{classns3_1_1EpcMmeApplication_a00c06da2169cc043ac1fa7bdd03b4027}{m\_s11SapSgw}->\hyperlink{classns3_1_1EpcS11SapSgw_a76232b4e3dd041237affd3c36d499646}{ModifyBearerRequest} (msg);
189 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Get\+S11\+Sap\+Mme@{Get\+S11\+Sap\+Mme}}
\index{Get\+S11\+Sap\+Mme@{Get\+S11\+Sap\+Mme}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Get\+S11\+Sap\+Mme()}{GetS11SapMme()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+S11\+Sap\+Mme} $\ast$ ns3\+::\+Epc\+Mme\+Application\+::\+Get\+S11\+Sap\+Mme (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcMmeApplication_a69700dea221e69260cd2896544230654}{}\label{classns3_1_1EpcMmeApplication_a69700dea221e69260cd2896544230654}
\begin{DoxyReturn}{Returns}
the M\+ME side of the S11 S\+AP 
\end{DoxyReturn}

\begin{DoxyCode}
94 \{
95   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EpcMmeApplication_a18a6d18b72bd10dd567eeffbb86e07ee}{m\_s11SapMme};
96 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Get\+S1ap\+Sap\+Mme@{Get\+S1ap\+Sap\+Mme}}
\index{Get\+S1ap\+Sap\+Mme@{Get\+S1ap\+Sap\+Mme}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Get\+S1ap\+Sap\+Mme()}{GetS1apSapMme()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+S1ap\+Sap\+Mme} $\ast$ ns3\+::\+Epc\+Mme\+Application\+::\+Get\+S1ap\+Sap\+Mme (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcMmeApplication_af8f71bb03ed0690bc1d1e5bb7bbefa6c}{}\label{classns3_1_1EpcMmeApplication_af8f71bb03ed0690bc1d1e5bb7bbefa6c}
\begin{DoxyReturn}{Returns}
the M\+ME side of the S1-\/\+AP S\+AP 
\end{DoxyReturn}

\begin{DoxyCode}
75 \{
76   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1EpcMmeApplication_a231d8125b154eecf240b5626d08a93ec}{m\_s1apSapMme};
77 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Epc\+Mme\+Application\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1EpcMmeApplication_a3d687a57753a0d35696ea17f6c14daed}{}\label{classns3_1_1EpcMmeApplication_a3d687a57753a0d35696ea17f6c14daed}

\begin{DoxyCode}
64 \{
65   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::EpcMmeApplication"})
66     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
67     .SetGroupName(\textcolor{stringliteral}{"Lte"})
68     .AddConstructor<\hyperlink{classns3_1_1EpcMmeApplication_a03cc4f7aa1dad47e134aa6483bb5fb9a}{EpcMmeApplication}> ()
69     ;
70   \textcolor{keywordflow}{return} tid;
71 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Remove\+Bearer@{Remove\+Bearer}}
\index{Remove\+Bearer@{Remove\+Bearer}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Remove\+Bearer(\+Ptr$<$ Ue\+Info $>$ ue\+Info, uint8\+\_\+t eps\+Bearer\+Id)}{RemoveBearer(Ptr< UeInfo > ueInfo, uint8_t epsBearerId)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Remove\+Bearer (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Ue\+Info} $>$}]{ue\+Info, }
\item[{uint8\+\_\+t}]{eps\+Bearer\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a8e7a44a4ccafd5d94811ddf265f71466}{}\label{classns3_1_1EpcMmeApplication_a8e7a44a4ccafd5d94811ddf265f71466}


This Function erases all contexts of bearer from M\+ME side. 


\begin{DoxyParams}{Parameters}
{\em ue\+Info} & UE information pointer \\
\hline
{\em eps\+Bearer\+Id} & Bearer Id which need to be removed corresponding to UE \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
287 \{
288   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << epsBearerId);
289   \textcolor{keywordflow}{for} (std::list<BearerInfo>::iterator bearerIterator = ueInfo->bearersToBeActivated.begin ();
290        bearerIterator != ueInfo->bearersToBeActivated.end ();
291        ++bearerIterator)
292     \{
293       \textcolor{keywordflow}{if} (bearerIterator->bearerId == epsBearerId)
294         \{
295           ueInfo->bearersToBeActivated.erase (bearerIterator);
296           ueInfo->bearerCounter = ueInfo->bearerCounter - 1;
297           \textcolor{keywordflow}{break};
298         \}
299     \}
300 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Set\+S11\+Sap\+Sgw@{Set\+S11\+Sap\+Sgw}}
\index{Set\+S11\+Sap\+Sgw@{Set\+S11\+Sap\+Sgw}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Set\+S11\+Sap\+Sgw(\+Epc\+S11\+Sap\+Sgw $\ast$s)}{SetS11SapSgw(EpcS11SapSgw *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Set\+S11\+Sap\+Sgw (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+S11\+Sap\+Sgw} $\ast$}]{s}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcMmeApplication_af3a37bc948820809c5e270ef50a2b5ac}{}\label{classns3_1_1EpcMmeApplication_af3a37bc948820809c5e270ef50a2b5ac}
Set the S\+GW side of the S11 S\+AP


\begin{DoxyParams}{Parameters}
{\em s} & the S\+GW side of the S11 S\+AP \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
88 \{
89   \hyperlink{classns3_1_1EpcMmeApplication_a00c06da2169cc043ac1fa7bdd03b4027}{m\_s11SapSgw} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
90 \}
\end{DoxyCode}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Set\+S1ap\+Sap\+Mme\+Provider@{Set\+S1ap\+Sap\+Mme\+Provider}}
\index{Set\+S1ap\+Sap\+Mme\+Provider@{Set\+S1ap\+Sap\+Mme\+Provider}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Set\+S1ap\+Sap\+Mme\+Provider(\+Epc\+S1ap\+Sap\+Mme\+Provider $\ast$provider)}{SetS1apSapMmeProvider(EpcS1apSapMmeProvider *provider)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Epc\+Mme\+Application\+::\+Set\+S1ap\+Sap\+Mme\+Provider (
\begin{DoxyParamCaption}
\item[{{\bf Epc\+S1ap\+Sap\+Mme\+Provider} $\ast$}]{provider}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1EpcMmeApplication_a5c386c595920ee57a4e301ba7a692baf}{}\label{classns3_1_1EpcMmeApplication_a5c386c595920ee57a4e301ba7a692baf}

\begin{DoxyParams}{Parameters}
{\em the} & M\+ME provider, given by the S1\+AP object associated to this application \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
81 \{
82   \hyperlink{classns3_1_1EpcMmeApplication_a22aa4b3242125c65e94ce651970be4c1}{m\_s1apSapMmeProvider} = provider;
83 \}
\end{DoxyCode}


\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Member\+Epc\+S11\+Sap\+Mme$<$ Epc\+Mme\+Application $>$@{Member\+Epc\+S11\+Sap\+Mme$<$ Epc\+Mme\+Application $>$}}
\index{Member\+Epc\+S11\+Sap\+Mme$<$ Epc\+Mme\+Application $>$@{Member\+Epc\+S11\+Sap\+Mme$<$ Epc\+Mme\+Application $>$}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Member\+Epc\+S11\+Sap\+Mme$<$ Epc\+Mme\+Application $>$}{MemberEpcS11SapMme< EpcMmeApplication >}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Member\+Epc\+S11\+Sap\+Mme}$<$ {\bf Epc\+Mme\+Application} $>$\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1EpcMmeApplication_a638765700ca06374869b71af353fbe71}{}\label{classns3_1_1EpcMmeApplication_a638765700ca06374869b71af353fbe71}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!Member\+Epc\+S1ap\+Sap\+Mme$<$ Epc\+Mme\+Application $>$@{Member\+Epc\+S1ap\+Sap\+Mme$<$ Epc\+Mme\+Application $>$}}
\index{Member\+Epc\+S1ap\+Sap\+Mme$<$ Epc\+Mme\+Application $>$@{Member\+Epc\+S1ap\+Sap\+Mme$<$ Epc\+Mme\+Application $>$}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{Member\+Epc\+S1ap\+Sap\+Mme$<$ Epc\+Mme\+Application $>$}{MemberEpcS1apSapMme< EpcMmeApplication >}}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf Member\+Epc\+S1ap\+Sap\+Mme}$<$ {\bf Epc\+Mme\+Application} $>$\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1EpcMmeApplication_a22269751c319acf6b5548bb04400ba6a}{}\label{classns3_1_1EpcMmeApplication_a22269751c319acf6b5548bb04400ba6a}


\subsection{Member Data Documentation}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!m\+\_\+enb\+Info\+Map@{m\+\_\+enb\+Info\+Map}}
\index{m\+\_\+enb\+Info\+Map@{m\+\_\+enb\+Info\+Map}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+enb\+Info\+Map}{m_enbInfoMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint16\+\_\+t, {\bf Ptr}$<${\bf Enb\+Info}$>$ $>$ ns3\+::\+Epc\+Mme\+Application\+::m\+\_\+enb\+Info\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a6c49c825306fc4923aef0352a1fab029}{}\label{classns3_1_1EpcMmeApplication_a6c49c825306fc4923aef0352a1fab029}
\hyperlink{structns3_1_1EpcMmeApplication_1_1EnbInfo}{Enb\+Info} stored by E\+G\+CI \index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!m\+\_\+s11\+Sap\+Mme@{m\+\_\+s11\+Sap\+Mme}}
\index{m\+\_\+s11\+Sap\+Mme@{m\+\_\+s11\+Sap\+Mme}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+s11\+Sap\+Mme}{m_s11SapMme}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+S11\+Sap\+Mme}$\ast$ ns3\+::\+Epc\+Mme\+Application\+::m\+\_\+s11\+Sap\+Mme\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a18a6d18b72bd10dd567eeffbb86e07ee}{}\label{classns3_1_1EpcMmeApplication_a18a6d18b72bd10dd567eeffbb86e07ee}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!m\+\_\+s11\+Sap\+Sgw@{m\+\_\+s11\+Sap\+Sgw}}
\index{m\+\_\+s11\+Sap\+Sgw@{m\+\_\+s11\+Sap\+Sgw}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+s11\+Sap\+Sgw}{m_s11SapSgw}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+S11\+Sap\+Sgw}$\ast$ ns3\+::\+Epc\+Mme\+Application\+::m\+\_\+s11\+Sap\+Sgw\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a00c06da2169cc043ac1fa7bdd03b4027}{}\label{classns3_1_1EpcMmeApplication_a00c06da2169cc043ac1fa7bdd03b4027}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!m\+\_\+s1ap\+Sap\+Mme@{m\+\_\+s1ap\+Sap\+Mme}}
\index{m\+\_\+s1ap\+Sap\+Mme@{m\+\_\+s1ap\+Sap\+Mme}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+s1ap\+Sap\+Mme}{m_s1apSapMme}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+S1ap\+Sap\+Mme}$\ast$ ns3\+::\+Epc\+Mme\+Application\+::m\+\_\+s1ap\+Sap\+Mme\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a231d8125b154eecf240b5626d08a93ec}{}\label{classns3_1_1EpcMmeApplication_a231d8125b154eecf240b5626d08a93ec}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!m\+\_\+s1ap\+Sap\+Mme\+Provider@{m\+\_\+s1ap\+Sap\+Mme\+Provider}}
\index{m\+\_\+s1ap\+Sap\+Mme\+Provider@{m\+\_\+s1ap\+Sap\+Mme\+Provider}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+s1ap\+Sap\+Mme\+Provider}{m_s1apSapMmeProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Epc\+S1ap\+Sap\+Mme\+Provider}$\ast$ ns3\+::\+Epc\+Mme\+Application\+::m\+\_\+s1ap\+Sap\+Mme\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a22aa4b3242125c65e94ce651970be4c1}{}\label{classns3_1_1EpcMmeApplication_a22aa4b3242125c65e94ce651970be4c1}
\index{ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}!m\+\_\+ue\+Info\+Map@{m\+\_\+ue\+Info\+Map}}
\index{m\+\_\+ue\+Info\+Map@{m\+\_\+ue\+Info\+Map}!ns3\+::\+Epc\+Mme\+Application@{ns3\+::\+Epc\+Mme\+Application}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Info\+Map}{m_ueInfoMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint64\+\_\+t, {\bf Ptr}$<${\bf Ue\+Info}$>$ $>$ ns3\+::\+Epc\+Mme\+Application\+::m\+\_\+ue\+Info\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}{}\label{classns3_1_1EpcMmeApplication_a1f33ca8847355e961f6c290dfb6e16e6}
\hyperlink{structns3_1_1EpcMmeApplication_1_1UeInfo}{Ue\+Info} stored by I\+M\+SI 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{epc-mme-application_8h}{epc-\/mme-\/application.\+h}\item 
lte/model/\hyperlink{epc-mme-application_8cc}{epc-\/mme-\/application.\+cc}\end{DoxyCompactItemize}
