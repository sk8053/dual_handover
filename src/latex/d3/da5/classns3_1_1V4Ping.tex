\hypertarget{classns3_1_1V4Ping}{}\section{ns3\+:\+:V4\+Ping Class Reference}
\label{classns3_1_1V4Ping}\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}


an application which sends one I\+C\+MP E\+C\+HO request, waits for a R\+E\+P\+L\+Ys and reports the calculated R\+TT.  




{\ttfamily \#include $<$v4ping.\+h$>$}



Inheritance diagram for ns3\+:\+:V4\+Ping\+:
% FIG 0


Collaboration diagram for ns3\+:\+:V4\+Ping\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1V4Ping_a9ab6470343fdf71770bcd6240858434d}{V4\+Ping} ()
\item 
virtual \hyperlink{classns3_1_1V4Ping_a30faf1270640d25f007bb74cb12813b6}{$\sim$\+V4\+Ping} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1V4Ping_af207b6dc0ed793798083c34a1c388770}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1V4Ping_a788f340b5a054f7fb2c7fc3206ee6d7f}{Write32} (uint8\+\_\+t $\ast$buffer, const uint32\+\_\+t \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data})
\begin{DoxyCompactList}\small\item\em Writes data to buffer in little-\/endian format. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1V4Ping_a00088be83cf04e08dd3c3a69ed4526d2}{Read32} (const uint8\+\_\+t $\ast$buffer, uint32\+\_\+t \&\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data})
\begin{DoxyCompactList}\small\item\em Writes data from a little-\/endian formatted buffer to data. \end{DoxyCompactList}\item 
virtual void \hyperlink{classns3_1_1V4Ping_ac5176e135c81f0764bcd560c7fc71390}{Start\+Application} (void)
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Application}{Application} specific startup code. \end{DoxyCompactList}\item 
virtual void \hyperlink{classns3_1_1V4Ping_afbf27c64128d147b0d51dfa09ce7b1c8}{Stop\+Application} (void)
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Application}{Application} specific shutdown code. \end{DoxyCompactList}\item 
virtual void \hyperlink{classns3_1_1V4Ping_a78c38c5ceb8df123483c27421e2257ad}{Do\+Dispose} (void)
\item 
uint32\+\_\+t \hyperlink{classns3_1_1V4Ping_a294b811c91221c31618d4cdcb389a96b}{Get\+Application\+Id} (void) const 
\begin{DoxyCompactList}\small\item\em Return the application ID in the node. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1V4Ping_a87c38673f7b4c568d114c2815ff2aa78}{Receive} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Receive an I\+C\+MP Echo. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1V4Ping_a26d3a4285998df72a37dfa62b9097e4b}{Send} ()
\begin{DoxyCompactList}\small\item\em Send one Ping (I\+C\+MP E\+C\+HO) to the destination. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ipv4Address}{Ipv4\+Address} \hyperlink{classns3_1_1V4Ping_a30b2005deccba89dc440a120853864f2}{m\+\_\+remote}
\begin{DoxyCompactList}\small\item\em Remote address. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1V4Ping_af709274c8ed4f886a1710d49c28bd5ea}{m\+\_\+interval}
\begin{DoxyCompactList}\small\item\em Wait interval seconds between sending each packet. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1V4Ping_a15214114a8580f6e7c56ad18267b2199}{m\+\_\+size}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\+\_\+socket}
\begin{DoxyCompactList}\small\item\em The socket we send packets from. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}{m\+\_\+seq}
\begin{DoxyCompactList}\small\item\em I\+C\+MP E\+C\+HO sequence number. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback}$<$ \hyperlink{classns3_1_1Time}{Time} $>$ \hyperlink{classns3_1_1V4Ping_abaf5eec819058e81e958ae3dadb8fbe2}{m\+\_\+trace\+Rtt}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} for R\+TT measured by I\+C\+MP E\+C\+H\+Os. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1V4Ping_a0b843e4454492e5a20860b6c624b667b}{m\+\_\+verbose}
\begin{DoxyCompactList}\small\item\em produce ping-\/style output if true \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1V4Ping_a20b535b432481efa2e45d398de3080e1}{m\+\_\+recv}
\begin{DoxyCompactList}\small\item\em received packets counter \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1V4Ping_af7dd3e807bcafb10bb3ce472e9181e8c}{m\+\_\+started}
\begin{DoxyCompactList}\small\item\em Start time to report total ping time. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Average}{Average}$<$ double $>$ \hyperlink{classns3_1_1V4Ping_a03550e3b807e5fe961c2289749a45ba9}{m\+\_\+avg\+Rtt}
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Average}{Average} rtt is ms. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1EventId}{Event\+Id} \hyperlink{classns3_1_1V4Ping_a1367294031cf873b968ede49360fda7b}{m\+\_\+next}
\begin{DoxyCompactList}\small\item\em Next packet will be sent. \end{DoxyCompactList}\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{classns3_1_1Time}{Time} $>$ \hyperlink{classns3_1_1V4Ping_ad26f6eafcdbf6a787900a6c77099ef6e}{m\+\_\+sent}
\begin{DoxyCompactList}\small\item\em All sent but not answered packets. Map icmp seqno -\/$>$ when sent. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
an application which sends one I\+C\+MP E\+C\+HO request, waits for a R\+E\+P\+L\+Ys and reports the calculated R\+TT. 

Note\+: The R\+TT calculated is reported through a trace source. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!V4\+Ping@{V4\+Ping}}
\index{V4\+Ping@{V4\+Ping}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{V4\+Ping()}{V4Ping()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+V4\+Ping\+::\+V4\+Ping (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1V4Ping_a9ab6470343fdf71770bcd6240858434d}{}\label{classns3_1_1V4Ping_a9ab6470343fdf71770bcd6240858434d}
create a pinger applications 
\begin{DoxyCode}
69   : \hyperlink{classns3_1_1V4Ping_af709274c8ed4f886a1710d49c28bd5ea}{m\_interval} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1)),
70     \hyperlink{classns3_1_1V4Ping_a15214114a8580f6e7c56ad18267b2199}{m\_size} (56),
71     \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket} (0),
72     \hyperlink{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}{m\_seq} (0),
73     \hyperlink{classns3_1_1V4Ping_a0b843e4454492e5a20860b6c624b667b}{m\_verbose} (\textcolor{keyword}{false}),
74     \hyperlink{classns3_1_1V4Ping_a20b535b432481efa2e45d398de3080e1}{m\_recv} (0)
75 \{
76   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
77 \}
\end{DoxyCode}
\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!````~V4\+Ping@{$\sim$\+V4\+Ping}}
\index{````~V4\+Ping@{$\sim$\+V4\+Ping}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{$\sim$\+V4\+Ping()}{~V4Ping()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+V4\+Ping\+::$\sim$\+V4\+Ping (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1V4Ping_a30faf1270640d25f007bb74cb12813b6}{}\label{classns3_1_1V4Ping_a30faf1270640d25f007bb74cb12813b6}

\begin{DoxyCode}
79 \{
80   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
81 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+V4\+Ping\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1V4Ping_a78c38c5ceb8df123483c27421e2257ad}{}\label{classns3_1_1V4Ping_a78c38c5ceb8df123483c27421e2257ad}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1V4Ping_a78c38c5ceb8df123483c27421e2257ad}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1Application_a89f6c9454532d62600251872bede6d04}{ns3\+::\+Application}.


\begin{DoxyCode}
85 \{
86   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
87 
88   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1V4Ping_a1367294031cf873b968ede49360fda7b}{m\_next}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
89     \{
90       \hyperlink{classns3_1_1V4Ping_afbf27c64128d147b0d51dfa09ce7b1c8}{StopApplication} ();
91     \}
92 
93   \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket} = 0;
94   \hyperlink{classns3_1_1Application_a89f6c9454532d62600251872bede6d04}{Application::DoDispose} ();
95 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!Get\+Application\+Id@{Get\+Application\+Id}}
\index{Get\+Application\+Id@{Get\+Application\+Id}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{Get\+Application\+Id(void) const }{GetApplicationId(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+V4\+Ping\+::\+Get\+Application\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a294b811c91221c31618d4cdcb389a96b}{}\label{classns3_1_1V4Ping_a294b811c91221c31618d4cdcb389a96b}


Return the application ID in the node. 

\begin{DoxyReturn}{Returns}
the application id 
\end{DoxyReturn}

\begin{DoxyCode}
99 \{
100   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
101   Ptr<Node> node = \hyperlink{classns3_1_1Application_a664b15088389bec8e35b35742138f097}{GetNode} ();
102   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < node->GetNApplications (); ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
103     \{
104       \textcolor{keywordflow}{if} (node->GetApplication (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \textcolor{keyword}{this})
105         \{
106           \textcolor{keywordflow}{return} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
107         \}
108     \}
109   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\textcolor{keyword}{false}, \textcolor{stringliteral}{"forgot to add application to node"});
110   \textcolor{keywordflow}{return} 0; \textcolor{comment}{// quiet compiler}
111 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+V4\+Ping\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1V4Ping_af207b6dc0ed793798083c34a1c388770}{}\label{classns3_1_1V4Ping_af207b6dc0ed793798083c34a1c388770}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
37 \{
38   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::V4Ping"})
39     .SetParent<\hyperlink{classns3_1_1Application_acd261926c72b02cdb48fc7f8838ee173}{Application}> ()
40     .SetGroupName(\textcolor{stringliteral}{"Internet-Apps"})
41     .AddConstructor<\hyperlink{classns3_1_1V4Ping_a9ab6470343fdf71770bcd6240858434d}{V4Ping}> ()
42     .AddAttribute (\textcolor{stringliteral}{"Remote"}, 
43                    \textcolor{stringliteral}{"The address of the machine we want to ping."},
44                    Ipv4AddressValue (),
45                    MakeIpv4AddressAccessor (&\hyperlink{classns3_1_1V4Ping_a30b2005deccba89dc440a120853864f2}{V4Ping::m\_remote}),
46                    MakeIpv4AddressChecker ())
47     .AddAttribute (\textcolor{stringliteral}{"Verbose"},
48                    \textcolor{stringliteral}{"Produce usual output."},
49                    BooleanValue (\textcolor{keyword}{false}),
50                    MakeBooleanAccessor (&\hyperlink{classns3_1_1V4Ping_a0b843e4454492e5a20860b6c624b667b}{V4Ping::m\_verbose}),
51                    MakeBooleanChecker ())
52     .AddAttribute (\textcolor{stringliteral}{"Interval"}, \textcolor{stringliteral}{"Wait  interval  seconds between sending each packet."},
53                    TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1)),
54                    MakeTimeAccessor (&\hyperlink{classns3_1_1V4Ping_af709274c8ed4f886a1710d49c28bd5ea}{V4Ping::m\_interval}),
55                    \hyperlink{group__time_ga7032965bd4afa578691d88c09e4481c1}{MakeTimeChecker} ())
56     .AddAttribute (\textcolor{stringliteral}{"Size"}, \textcolor{stringliteral}{"The number of data bytes to be sent, real packet will be 8 (ICMP) + 20 (IP)
       bytes longer."},
57                    UintegerValue (56),
58                    MakeUintegerAccessor (&\hyperlink{classns3_1_1V4Ping_a15214114a8580f6e7c56ad18267b2199}{V4Ping::m\_size}),
59                    MakeUintegerChecker<uint32\_t> (16))
60     .AddTraceSource (\textcolor{stringliteral}{"Rtt"},
61                      \textcolor{stringliteral}{"The rtt calculated by the ping."},
62                      \hyperlink{group__tracing_gab21a770b9855af4e8f69f7531ea4a6b0}{MakeTraceSourceAccessor} (&
      \hyperlink{classns3_1_1V4Ping_abaf5eec819058e81e958ae3dadb8fbe2}{V4Ping::m\_traceRtt}),
63                      \textcolor{stringliteral}{"ns3::Time::TracedCallback"});
64   ;
65   \textcolor{keywordflow}{return} tid;
66 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!Read32@{Read32}}
\index{Read32@{Read32}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{Read32(const uint8\+\_\+t $\ast$buffer, uint32\+\_\+t \&data)}{Read32(const uint8_t *buffer, uint32_t &data)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+V4\+Ping\+::\+Read32 (
\begin{DoxyParamCaption}
\item[{const uint8\+\_\+t $\ast$}]{buffer, }
\item[{uint32\+\_\+t \&}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a00088be83cf04e08dd3c3a69ed4526d2}{}\label{classns3_1_1V4Ping_a00088be83cf04e08dd3c3a69ed4526d2}


Writes data from a little-\/endian formatted buffer to data. 


\begin{DoxyParams}{Parameters}
{\em buffer} & the buffer to read from \\
\hline
{\em data} & the read data \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
191 \{
192   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (\textcolor{keywordtype}{void} *) buffer << \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data});
193   \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data} = (buffer[3] << 24) + (buffer[2] << 16) + (buffer[1] << 8) + buffer[0];
194 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!Receive@{Receive}}
\index{Receive@{Receive}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{Receive(\+Ptr$<$ Socket $>$ socket)}{Receive(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+V4\+Ping\+::\+Receive (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a87c38673f7b4c568d114c2815ff2aa78}{}\label{classns3_1_1V4Ping_a87c38673f7b4c568d114c2815ff2aa78}


Receive an I\+C\+MP Echo. 


\begin{DoxyParams}{Parameters}
{\em socket} & the receiving socket\\
\hline
\end{DoxyParams}
This function is called by lower layers through a callback. 
\begin{DoxyCode}
115 \{
116   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << socket);
117   \textcolor{keywordflow}{while} (\hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket}->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} () > 0)
118     \{
119       Address \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from};
120       Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket}->\hyperlink{classns3_1_1Socket_af22378d7af9a2745a9eada20210da215}{RecvFrom} (0xffffffff, 0, from);
121       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"recv "} << p->GetSize () << \textcolor{stringliteral}{" bytes"});
122       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1InetSocketAddress_a9426766e34e928ce5dbdbeb9563a10df}{InetSocketAddress::IsMatchingType} (from));
123       InetSocketAddress realFrom = \hyperlink{classns3_1_1InetSocketAddress_ade776b1109e7b9a7be0b22ced49931e3}{InetSocketAddress::ConvertFrom} (from);
124       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (realFrom.GetPort () == 1); \textcolor{comment}{// protocol should be icmp.}
125       Ipv4Header ipv4;
126       p->RemoveHeader (ipv4);
127       uint32\_t recvSize = p->GetSize ();
128       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (ipv4.GetProtocol () == 1); \textcolor{comment}{// protocol should be icmp.}
129       Icmpv4Header icmp;
130       p->RemoveHeader (icmp);
131       \textcolor{keywordflow}{if} (icmp.GetType () == \hyperlink{classns3_1_1Icmpv4Header_a274c9ad4ec0e9a3249a370953e83e8aaace2d55cf7279c27e31f7001e23d05947}{Icmpv4Header::ECHO\_REPLY})
132         \{
133           Icmpv4Echo echo;
134           p->RemoveHeader (echo);
135           std::map<uint16\_t, Time>::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1V4Ping_ad26f6eafcdbf6a787900a6c77099ef6e}{m\_sent}.find (echo.GetSequenceNumber ());
136 
137           \textcolor{keywordflow}{if} (i != \hyperlink{classns3_1_1V4Ping_ad26f6eafcdbf6a787900a6c77099ef6e}{m\_sent}.end () && echo.GetIdentifier () == 0)
138             \{
139               uint32\_t * buf = \textcolor{keyword}{new} uint32\_t [\hyperlink{classns3_1_1V4Ping_a15214114a8580f6e7c56ad18267b2199}{m\_size}];
140               uint32\_t dataSize = echo.GetDataSize ();
141               uint32\_t nodeId;
142               uint32\_t appId;
143               \textcolor{keywordflow}{if} (dataSize == \hyperlink{classns3_1_1V4Ping_a15214114a8580f6e7c56ad18267b2199}{m\_size})
144                 \{
145                   echo.GetData ((uint8\_t *)buf);
146                   \hyperlink{classns3_1_1V4Ping_a00088be83cf04e08dd3c3a69ed4526d2}{Read32} ((\textcolor{keyword}{const} uint8\_t *) &buf[0], nodeId);
147                   \hyperlink{classns3_1_1V4Ping_a00088be83cf04e08dd3c3a69ed4526d2}{Read32} ((\textcolor{keyword}{const} uint8\_t *) &buf[1], appId);
148 
149                   \textcolor{keywordflow}{if} (nodeId == \hyperlink{classns3_1_1Application_a664b15088389bec8e35b35742138f097}{GetNode} ()->GetId () &&
150                       appId == \hyperlink{classns3_1_1V4Ping_a294b811c91221c31618d4cdcb389a96b}{GetApplicationId} ())
151                     \{
152                       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} sendTime = i->second;
153                       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () >= sendTime);
154                       \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} delta = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - sendTime;
155 
156                       \hyperlink{classns3_1_1V4Ping_ad26f6eafcdbf6a787900a6c77099ef6e}{m\_sent}.erase (i);
157                       \hyperlink{classns3_1_1V4Ping_a03550e3b807e5fe961c2289749a45ba9}{m\_avgRtt}.\hyperlink{classns3_1_1Average_a223cb5172985f2cf4944488f4ac1186b}{Update} (delta.GetMilliSeconds ());
158                       \hyperlink{classns3_1_1V4Ping_a20b535b432481efa2e45d398de3080e1}{m\_recv}++;
159                       \hyperlink{classns3_1_1V4Ping_abaf5eec819058e81e958ae3dadb8fbe2}{m\_traceRtt} (delta);
160 
161                       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1V4Ping_a0b843e4454492e5a20860b6c624b667b}{m\_verbose})
162                         \{
163                           std::cout << recvSize << \textcolor{stringliteral}{" bytes from "} << realFrom.GetIpv4 () << \textcolor{stringliteral}{":"}
164                                     << \textcolor{stringliteral}{" icmp\_seq="} << echo.GetSequenceNumber ()
165                                     << \textcolor{stringliteral}{" ttl="} << (unsigned)ipv4.GetTtl ()
166                                     << \textcolor{stringliteral}{" time="} << delta.GetMilliSeconds () << \textcolor{stringliteral}{" ms\(\backslash\)n"};
167                         \}
168                     \}
169                 \}
170               \textcolor{keyword}{delete}[] buf;
171             \}
172         \}
173     \}
174 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!Send@{Send}}
\index{Send@{Send}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{Send()}{Send()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+V4\+Ping\+::\+Send (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a26d3a4285998df72a37dfa62b9097e4b}{}\label{classns3_1_1V4Ping_a26d3a4285998df72a37dfa62b9097e4b}


Send one Ping (I\+C\+MP E\+C\+HO) to the destination. 


\begin{DoxyCode}
198 \{
199   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
200 
201   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"m\_seq="} << \hyperlink{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}{m\_seq});
202   Ptr<Packet> \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> ();
203   Icmpv4Echo echo;
204   echo.SetSequenceNumber (\hyperlink{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}{m\_seq});
205   \hyperlink{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}{m\_seq}++;
206   echo.SetIdentifier (0);
207 
208   \textcolor{comment}{//}
209   \textcolor{comment}{// We must write quantities out in some form of network order.  Since there}
210   \textcolor{comment}{// isn't an htonl to work with we just follow the convention in pcap traces}
211   \textcolor{comment}{// (where any difference would show up anyway) and borrow that code.  Don't}
212   \textcolor{comment}{// be too surprised when you see that this is a little endian convention.}
213   \textcolor{comment}{//}
214   uint8\_t* \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data} = \textcolor{keyword}{new} uint8\_t[\hyperlink{classns3_1_1V4Ping_a15214114a8580f6e7c56ad18267b2199}{m\_size}];
215   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1V4Ping_a15214114a8580f6e7c56ad18267b2199}{m\_size}; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) data[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}] = 0;
216   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (m\_size >= 16);
217 
218   uint32\_t tmp = \hyperlink{classns3_1_1Application_a664b15088389bec8e35b35742138f097}{GetNode} ()->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} ();
219   \hyperlink{classns3_1_1V4Ping_a788f340b5a054f7fb2c7fc3206ee6d7f}{Write32} (&data[0 * \textcolor{keyword}{sizeof}(uint32\_t)], tmp);
220 
221   tmp = \hyperlink{classns3_1_1V4Ping_a294b811c91221c31618d4cdcb389a96b}{GetApplicationId} ();
222   \hyperlink{classns3_1_1V4Ping_a788f340b5a054f7fb2c7fc3206ee6d7f}{Write32} (&data[1 * \textcolor{keyword}{sizeof}(uint32\_t)], tmp);
223 
224   Ptr<Packet> dataPacket = Create<Packet> ((uint8\_t *) data, m\_size);
225   echo.SetData (dataPacket);
226   p->AddHeader (echo);
227   Icmpv4Header header;
228   header.SetType (\hyperlink{classns3_1_1Icmpv4Header_a274c9ad4ec0e9a3249a370953e83e8aaa0565a1d9ed24dd02e56eec1e40bfdc49}{Icmpv4Header::ECHO});
229   header.SetCode (0);
230   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Node_a0515bfe9a3aeb6605d657ba855699815}{Node::ChecksumEnabled} ())
231     \{
232       header.EnableChecksum ();
233     \}
234   p->AddHeader (header);
235   \hyperlink{classns3_1_1V4Ping_ad26f6eafcdbf6a787900a6c77099ef6e}{m\_sent}.insert (std::make\_pair (\hyperlink{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}{m\_seq} - 1, \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ()));
236   \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket}->\hyperlink{classns3_1_1Socket_a036901c8f485fe5b6eab93b7f2ec289d}{Send} (p, 0);
237   \hyperlink{classns3_1_1V4Ping_a1367294031cf873b968ede49360fda7b}{m\_next} = \hyperlink{classns3_1_1Simulator_a671882c894a08af4a5e91181bf1eec13}{Simulator::Schedule} (\hyperlink{classns3_1_1V4Ping_af709274c8ed4f886a1710d49c28bd5ea}{m\_interval}, &
      \hyperlink{classns3_1_1V4Ping_a26d3a4285998df72a37dfa62b9097e4b}{V4Ping::Send}, \textcolor{keyword}{this});
238   \textcolor{keyword}{delete}[] \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data};
239 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!Start\+Application@{Start\+Application}}
\index{Start\+Application@{Start\+Application}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{Start\+Application(void)}{StartApplication(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+V4\+Ping\+::\+Start\+Application (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1V4Ping_ac5176e135c81f0764bcd560c7fc71390}{}\label{classns3_1_1V4Ping_ac5176e135c81f0764bcd560c7fc71390}


\hyperlink{classns3_1_1Application}{Application} specific startup code. 

The Start\+Application method is called at the start time specified by Start This method should be overridden by all or most application subclasses. 

Reimplemented from \hyperlink{classns3_1_1Application_a3405dd01508beacce8ed6e3a20bdf05a}{ns3\+::\+Application}.


\begin{DoxyCode}
243 \{
244   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
245 
246   \hyperlink{classns3_1_1V4Ping_af7dd3e807bcafb10bb3ce472e9181e8c}{m\_started} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
247   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1V4Ping_a0b843e4454492e5a20860b6c624b667b}{m\_verbose})
248     \{
249       std::cout << \textcolor{stringliteral}{"PING  "} << \hyperlink{classns3_1_1V4Ping_a30b2005deccba89dc440a120853864f2}{m\_remote} << \textcolor{stringliteral}{" 56(84) bytes of data.\(\backslash\)n"};
250     \}
251 
252   \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket} = \hyperlink{classns3_1_1Socket_ad448a62bb50ad3dbac59c879a885a8d2}{Socket::CreateSocket} (\hyperlink{classns3_1_1Application_a664b15088389bec8e35b35742138f097}{GetNode} (), 
      \hyperlink{classns3_1_1TypeId_a119cf99c20931fdc294602cd360b180e}{TypeId::LookupByName} (\textcolor{stringliteral}{"ns3::Ipv4RawSocketFactory"}));
253   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket} != 0);
254   \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket}->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Protocol"}, UintegerValue (1)); \textcolor{comment}{// icmp}
255   \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket}->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1V4Ping_a87c38673f7b4c568d114c2815ff2aa78}{V4Ping::Receive}, \textcolor{keyword}{this}));
256   InetSocketAddress src = InetSocketAddress (\hyperlink{classns3_1_1Ipv4Address_a7a39b330c8e701183a411d5779fca1a4}{Ipv4Address::GetAny} (), 0);
257   \textcolor{keywordtype}{int} status;
258   status = \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket}->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} (src);
259   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (status != -1);
260   InetSocketAddress dst = InetSocketAddress (\hyperlink{classns3_1_1V4Ping_a30b2005deccba89dc440a120853864f2}{m\_remote}, 0);
261   status = \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket}->\hyperlink{classns3_1_1Socket_a97f08aaf37b8fd7d4b5cad4dfdd4022a}{Connect} (dst);
262   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (status != -1);
263 
264   \hyperlink{classns3_1_1V4Ping_a26d3a4285998df72a37dfa62b9097e4b}{Send} ();
265 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11


\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!Stop\+Application@{Stop\+Application}}
\index{Stop\+Application@{Stop\+Application}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{Stop\+Application(void)}{StopApplication(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+V4\+Ping\+::\+Stop\+Application (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1V4Ping_afbf27c64128d147b0d51dfa09ce7b1c8}{}\label{classns3_1_1V4Ping_afbf27c64128d147b0d51dfa09ce7b1c8}


\hyperlink{classns3_1_1Application}{Application} specific shutdown code. 

The Stop\+Application method is called at the stop time specified by Stop This method should be overridden by all or most application subclasses. 

Reimplemented from \hyperlink{classns3_1_1Application_aea844f3c114b1faf8de1faf5127ea8b4}{ns3\+::\+Application}.


\begin{DoxyCode}
268 \{
269   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
270 
271   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1V4Ping_a1367294031cf873b968ede49360fda7b}{m\_next}.\hyperlink{classns3_1_1EventId_aabf8476d1a080c199ea0c6aa9ccea372}{IsRunning} ())
272     \{
273       \hyperlink{classns3_1_1V4Ping_a1367294031cf873b968ede49360fda7b}{m\_next}.\hyperlink{classns3_1_1EventId_a993ae94e48e014e1afd47edb16db7a11}{Cancel} ();
274     \}
275   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket})
276     \{
277       \hyperlink{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{m\_socket}->\hyperlink{classns3_1_1Socket_abdac6e2498c5aa2963ef361d4200ddf3}{Close} ();
278     \}
279 
280   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1V4Ping_a0b843e4454492e5a20860b6c624b667b}{m\_verbose})
281     \{
282       std::ostringstream os;
283       os.precision (4);
284       os << \textcolor{stringliteral}{"--- "} << \hyperlink{classns3_1_1V4Ping_a30b2005deccba89dc440a120853864f2}{m\_remote} << \textcolor{stringliteral}{" ping statistics ---\(\backslash\)n"} 
285          << \hyperlink{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}{m\_seq} << \textcolor{stringliteral}{" packets transmitted, "} << \hyperlink{classns3_1_1V4Ping_a20b535b432481efa2e45d398de3080e1}{m\_recv} << \textcolor{stringliteral}{" received, "}
286          << ((\hyperlink{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}{m\_seq} - \hyperlink{classns3_1_1V4Ping_a20b535b432481efa2e45d398de3080e1}{m\_recv}) * 100 / \hyperlink{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}{m\_seq}) << \textcolor{stringliteral}{"% packet loss, "}
287          << \textcolor{stringliteral}{"time "} << (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - \hyperlink{classns3_1_1V4Ping_af7dd3e807bcafb10bb3ce472e9181e8c}{m\_started}).GetMilliSeconds () << \textcolor{stringliteral}{"ms\(\backslash\)n"};
288 
289       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1V4Ping_a03550e3b807e5fe961c2289749a45ba9}{m\_avgRtt}.\hyperlink{classns3_1_1Average_abdf7954e5cba2818febdd0588b8e4a20}{Count} () > 0)
290         os << \textcolor{stringliteral}{"rtt min/avg/max/mdev = "} << \hyperlink{classns3_1_1V4Ping_a03550e3b807e5fe961c2289749a45ba9}{m\_avgRtt}.\hyperlink{classns3_1_1Average_a4649e7990b939fc55360312ac4ab6828}{Min} () << \textcolor{stringliteral}{"/"} << 
      \hyperlink{classns3_1_1V4Ping_a03550e3b807e5fe961c2289749a45ba9}{m\_avgRtt}.\hyperlink{classns3_1_1Average_aa586e1db7ae9618ceada168d8f2ae390}{Avg} () << \textcolor{stringliteral}{"/"}
291            << \hyperlink{classns3_1_1V4Ping_a03550e3b807e5fe961c2289749a45ba9}{m\_avgRtt}.\hyperlink{classns3_1_1Average_a259a45edf08a70e46c79c627944ff9af}{Max} () << \textcolor{stringliteral}{"/"} << \hyperlink{classns3_1_1V4Ping_a03550e3b807e5fe961c2289749a45ba9}{m\_avgRtt}.\hyperlink{classns3_1_1Average_ac7536c397973130662606c1019049503}{Stddev} ()
292            << \textcolor{stringliteral}{" ms\(\backslash\)n"};
293       std::cout << os.str ();
294     \}
295 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12




Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!Write32@{Write32}}
\index{Write32@{Write32}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{Write32(uint8\+\_\+t $\ast$buffer, const uint32\+\_\+t data)}{Write32(uint8_t *buffer, const uint32_t data)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+V4\+Ping\+::\+Write32 (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer, }
\item[{const uint32\+\_\+t}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a788f340b5a054f7fb2c7fc3206ee6d7f}{}\label{classns3_1_1V4Ping_a788f340b5a054f7fb2c7fc3206ee6d7f}


Writes data to buffer in little-\/endian format. 

Least significant byte of data is at lowest buffer address


\begin{DoxyParams}{Parameters}
{\em buffer} & the buffer to write to \\
\hline
{\em data} & the data to write \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
180 \{
181   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << (\textcolor{keywordtype}{void} *) buffer << \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data});
182   buffer[0] = (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data} >> 0) & 0xff;
183   buffer[1] = (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data} >> 8) & 0xff;
184   buffer[2] = (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data} >> 16) & 0xff;
185   buffer[3] = (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data} >> 24) & 0xff;
186 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 14




\subsection{Member Data Documentation}
\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+avg\+Rtt@{m\+\_\+avg\+Rtt}}
\index{m\+\_\+avg\+Rtt@{m\+\_\+avg\+Rtt}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+avg\+Rtt}{m_avgRtt}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Average}$<$double$>$ ns3\+::\+V4\+Ping\+::m\+\_\+avg\+Rtt\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a03550e3b807e5fe961c2289749a45ba9}{}\label{classns3_1_1V4Ping_a03550e3b807e5fe961c2289749a45ba9}


\hyperlink{classns3_1_1Average}{Average} rtt is ms. 

\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+interval@{m\+\_\+interval}}
\index{m\+\_\+interval@{m\+\_\+interval}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+interval}{m_interval}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+V4\+Ping\+::m\+\_\+interval\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_af709274c8ed4f886a1710d49c28bd5ea}{}\label{classns3_1_1V4Ping_af709274c8ed4f886a1710d49c28bd5ea}


Wait interval seconds between sending each packet. 

\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+next@{m\+\_\+next}}
\index{m\+\_\+next@{m\+\_\+next}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+next}{m_next}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Event\+Id} ns3\+::\+V4\+Ping\+::m\+\_\+next\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a1367294031cf873b968ede49360fda7b}{}\label{classns3_1_1V4Ping_a1367294031cf873b968ede49360fda7b}


Next packet will be sent. 

\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+recv@{m\+\_\+recv}}
\index{m\+\_\+recv@{m\+\_\+recv}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+recv}{m_recv}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+V4\+Ping\+::m\+\_\+recv\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a20b535b432481efa2e45d398de3080e1}{}\label{classns3_1_1V4Ping_a20b535b432481efa2e45d398de3080e1}


received packets counter 

\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+remote@{m\+\_\+remote}}
\index{m\+\_\+remote@{m\+\_\+remote}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+remote}{m_remote}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv4\+Address} ns3\+::\+V4\+Ping\+::m\+\_\+remote\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a30b2005deccba89dc440a120853864f2}{}\label{classns3_1_1V4Ping_a30b2005deccba89dc440a120853864f2}


Remote address. 

\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+sent@{m\+\_\+sent}}
\index{m\+\_\+sent@{m\+\_\+sent}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+sent}{m_sent}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$uint16\+\_\+t, {\bf Time}$>$ ns3\+::\+V4\+Ping\+::m\+\_\+sent\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_ad26f6eafcdbf6a787900a6c77099ef6e}{}\label{classns3_1_1V4Ping_ad26f6eafcdbf6a787900a6c77099ef6e}


All sent but not answered packets. Map icmp seqno -\/$>$ when sent. 

\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+seq@{m\+\_\+seq}}
\index{m\+\_\+seq@{m\+\_\+seq}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+seq}{m_seq}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+V4\+Ping\+::m\+\_\+seq\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}{}\label{classns3_1_1V4Ping_a6575afe89682fff8b490075425d8157e}


I\+C\+MP E\+C\+HO sequence number. 

\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+size@{m\+\_\+size}}
\index{m\+\_\+size@{m\+\_\+size}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+size}{m_size}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+V4\+Ping\+::m\+\_\+size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a15214114a8580f6e7c56ad18267b2199}{}\label{classns3_1_1V4Ping_a15214114a8580f6e7c56ad18267b2199}
Specifies the number of data bytes to be sent. The default is 56, which translates into 64 I\+C\+MP data bytes when combined with the 8 bytes of I\+C\+MP header data. \index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+socket@{m\+\_\+socket}}
\index{m\+\_\+socket@{m\+\_\+socket}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+socket}{m_socket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Socket}$>$ ns3\+::\+V4\+Ping\+::m\+\_\+socket\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}{}\label{classns3_1_1V4Ping_a1f778736aaa1d07de9bb66375f20942f}


The socket we send packets from. 

\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+started@{m\+\_\+started}}
\index{m\+\_\+started@{m\+\_\+started}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+started}{m_started}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+V4\+Ping\+::m\+\_\+started\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_af7dd3e807bcafb10bb3ce472e9181e8c}{}\label{classns3_1_1V4Ping_af7dd3e807bcafb10bb3ce472e9181e8c}


Start time to report total ping time. 

\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+trace\+Rtt@{m\+\_\+trace\+Rtt}}
\index{m\+\_\+trace\+Rtt@{m\+\_\+trace\+Rtt}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+trace\+Rtt}{m_traceRtt}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Traced\+Callback}$<${\bf Time}$>$ ns3\+::\+V4\+Ping\+::m\+\_\+trace\+Rtt\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_abaf5eec819058e81e958ae3dadb8fbe2}{}\label{classns3_1_1V4Ping_abaf5eec819058e81e958ae3dadb8fbe2}


\hyperlink{classns3_1_1TracedCallback}{Traced\+Callback} for R\+TT measured by I\+C\+MP E\+C\+H\+Os. 

\index{ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}!m\+\_\+verbose@{m\+\_\+verbose}}
\index{m\+\_\+verbose@{m\+\_\+verbose}!ns3\+::\+V4\+Ping@{ns3\+::\+V4\+Ping}}
\subsubsection[{\texorpdfstring{m\+\_\+verbose}{m_verbose}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+V4\+Ping\+::m\+\_\+verbose\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1V4Ping_a0b843e4454492e5a20860b6c624b667b}{}\label{classns3_1_1V4Ping_a0b843e4454492e5a20860b6c624b667b}


produce ping-\/style output if true 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
internet-\/apps/model/\hyperlink{v4ping_8h}{v4ping.\+h}\item 
internet-\/apps/model/\hyperlink{v4ping_8cc}{v4ping.\+cc}\end{DoxyCompactItemize}
