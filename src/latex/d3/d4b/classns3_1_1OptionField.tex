\hypertarget{classns3_1_1OptionField}{}\section{ns3\+:\+:Option\+Field Class Reference}
\label{classns3_1_1OptionField}\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}


Option field for an I\+Pv6\+Extension\+Header.  




{\ttfamily \#include $<$ipv6-\/extension-\/header.\+h$>$}



Inheritance diagram for ns3\+:\+:Option\+Field\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Option\+Field\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1OptionField_acb9b40ef96ba6d0f349eada45fa20efa}{Option\+Field} (uint32\+\_\+t options\+Offset)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1OptionField_a64b10a5e633329e718350c393df70226}{$\sim$\+Option\+Field} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1OptionField_a7ed57dda4ddd5f4409ffb692594fb924}{Get\+Serialized\+Size} () const 
\begin{DoxyCompactList}\small\item\em Get the serialized size of the packet. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1OptionField_a9cd4cd7b17a7e443a17dcfcfadef4c28}{Serialize} (\hyperlink{classns3_1_1Buffer_1_1Iterator}{Buffer\+::\+Iterator} start) const 
\begin{DoxyCompactList}\small\item\em Serialize all added options. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1OptionField_a8df2abe90be59cebdcca83b1e1708ba5}{Deserialize} (\hyperlink{classns3_1_1Buffer_1_1Iterator}{Buffer\+::\+Iterator} start, uint32\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Deserialize the packet. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1OptionField_aa6a592f9fd65421ce1176ce4fa50826a}{Add\+Option} (\hyperlink{classns3_1_1Ipv6OptionHeader}{Ipv6\+Option\+Header} const \&option)
\begin{DoxyCompactList}\small\item\em Serialize the option, prepending pad1 or padn option as necessary. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1OptionField_ac78063bc75429ecf470b45e657e3c4d3}{Get\+Options\+Offset} ()
\begin{DoxyCompactList}\small\item\em Get the offset where the options begin, measured from the start of the extension header. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Buffer}{Buffer} \hyperlink{classns3_1_1OptionField_a6992fa49019dfc1efbb6a8215db0e72a}{Get\+Option\+Buffer} ()
\begin{DoxyCompactList}\small\item\em Get the buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1OptionField_ac3fd1a6232d5a5885feccda8b6f70a31}{Calculate\+Pad} (\hyperlink{structns3_1_1Ipv6OptionHeader_1_1Alignment}{Ipv6\+Option\+Header\+::\+Alignment} alignment) const 
\begin{DoxyCompactList}\small\item\em Calculate padding. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Buffer}{Buffer} \hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\+\_\+option\+Data}
\begin{DoxyCompactList}\small\item\em Data payload. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1OptionField_af4da0b51e27677c953ae9dac5aa911e7}{m\+\_\+options\+Offset}
\begin{DoxyCompactList}\small\item\em Offset. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Option field for an I\+Pv6\+Extension\+Header. 

Enables adding options to an I\+Pv6\+Extension\+Header.

Implementor\textquotesingle{}s note\+: Make sure to add the result of \hyperlink{classns3_1_1OptionField_a7ed57dda4ddd5f4409ffb692594fb924}{Option\+Field\+::\+Get\+Serialized\+Size} () to your I\+Pv6\+Extension\+Header\+::\+Get\+Serialized\+Size () return value. Call \hyperlink{classns3_1_1OptionField_a9cd4cd7b17a7e443a17dcfcfadef4c28}{Option\+Field\+::\+Serialize} and \hyperlink{classns3_1_1OptionField_a8df2abe90be59cebdcca83b1e1708ba5}{Option\+Field\+::\+Deserialize} at the end of your corresponding I\+Pv6\+Extension\+Header methods. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!Option\+Field@{Option\+Field}}
\index{Option\+Field@{Option\+Field}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{Option\+Field(uint32\+\_\+t options\+Offset)}{OptionField(uint32_t optionsOffset)}}]{\setlength{\rightskip}{0pt plus 5cm}Option\+Field\+::\+Option\+Field (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{options\+Offset}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1OptionField_acb9b40ef96ba6d0f349eada45fa20efa}{}\label{classns3_1_1OptionField_acb9b40ef96ba6d0f349eada45fa20efa}


Constructor. 


\begin{DoxyParams}{Parameters}
{\em options\+Offset} & option offset \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
130   : \hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData} (0),
131     \hyperlink{classns3_1_1OptionField_af4da0b51e27677c953ae9dac5aa911e7}{m\_optionsOffset} (optionsOffset)
132 \{
133 \}
\end{DoxyCode}
\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!````~Option\+Field@{$\sim$\+Option\+Field}}
\index{````~Option\+Field@{$\sim$\+Option\+Field}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{$\sim$\+Option\+Field()}{~OptionField()}}]{\setlength{\rightskip}{0pt plus 5cm}Option\+Field\+::$\sim$\+Option\+Field (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1OptionField_a64b10a5e633329e718350c393df70226}{}\label{classns3_1_1OptionField_a64b10a5e633329e718350c393df70226}


Destructor. 


\begin{DoxyCode}
136 \{
137 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!Add\+Option@{Add\+Option}}
\index{Add\+Option@{Add\+Option}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{Add\+Option(\+Ipv6\+Option\+Header const \&option)}{AddOption(Ipv6OptionHeader const &option)}}]{\setlength{\rightskip}{0pt plus 5cm}void Option\+Field\+::\+Add\+Option (
\begin{DoxyParamCaption}
\item[{{\bf Ipv6\+Option\+Header} const \&}]{option}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1OptionField_aa6a592f9fd65421ce1176ce4fa50826a}{}\label{classns3_1_1OptionField_aa6a592f9fd65421ce1176ce4fa50826a}


Serialize the option, prepending pad1 or padn option as necessary. 


\begin{DoxyParams}{Parameters}
{\em option} & the option header to serialize \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
171 \{
172   \hyperlink{log-macros-disabled_8h_a8f7e4afc291c9d29a65c18ac1f79197b}{NS\_LOG\_FUNCTION\_NOARGS} ();
173 
174   uint32\_t pad = \hyperlink{classns3_1_1OptionField_ac3fd1a6232d5a5885feccda8b6f70a31}{CalculatePad} (option.GetAlignment ());
175   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"need "} << pad << \textcolor{stringliteral}{" bytes padding"});
176   \textcolor{keywordflow}{switch} (pad)
177     \{
178     \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{break}; \textcolor{comment}{//no padding needed}
179     \textcolor{keywordflow}{case} 1: \hyperlink{classns3_1_1OptionField_aa6a592f9fd65421ce1176ce4fa50826a}{AddOption} (Ipv6OptionPad1Header ());
180       \textcolor{keywordflow}{break};
181     \textcolor{keywordflow}{default}: \hyperlink{classns3_1_1OptionField_aa6a592f9fd65421ce1176ce4fa50826a}{AddOption} (Ipv6OptionPadnHeader (pad));
182       \textcolor{keywordflow}{break};
183     \}
184 
185   \hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData}.\hyperlink{classns3_1_1Buffer_a92dd87809af24fb10696fee9a9cb56cf}{AddAtEnd} (option.GetSerializedSize ());
186   Buffer::Iterator it = \hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData}.\hyperlink{classns3_1_1Buffer_a52207c7aed7bae89fba2f9e997c82724}{End} ();
187   it.\hyperlink{classns3_1_1Buffer_1_1Iterator_a9913fb3b506a9f6efe46060531f051d8}{Prev} (option.GetSerializedSize ());
188   option.Serialize (it);
189 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!Calculate\+Pad@{Calculate\+Pad}}
\index{Calculate\+Pad@{Calculate\+Pad}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{Calculate\+Pad(\+Ipv6\+Option\+Header\+::\+Alignment alignment) const }{CalculatePad(Ipv6OptionHeader::Alignment alignment) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Option\+Field\+::\+Calculate\+Pad (
\begin{DoxyParamCaption}
\item[{{\bf Ipv6\+Option\+Header\+::\+Alignment}}]{alignment}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OptionField_ac3fd1a6232d5a5885feccda8b6f70a31}{}\label{classns3_1_1OptionField_ac3fd1a6232d5a5885feccda8b6f70a31}


Calculate padding. 


\begin{DoxyParams}{Parameters}
{\em alignment} & alignment \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of pad bytes 
\end{DoxyReturn}

\begin{DoxyCode}
192 \{
193   \textcolor{keywordflow}{return} (alignment.offset - (\hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData}.\hyperlink{classns3_1_1Buffer_a3047b8f2dad303c6370695122f1884f0}{GetSize} () + 
      \hyperlink{classns3_1_1OptionField_af4da0b51e27677c953ae9dac5aa911e7}{m\_optionsOffset})) % alignment.factor;
194 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!Deserialize@{Deserialize}}
\index{Deserialize@{Deserialize}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{Deserialize(\+Buffer\+::\+Iterator start, uint32\+\_\+t length)}{Deserialize(Buffer::Iterator start, uint32_t length)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Option\+Field\+::\+Deserialize (
\begin{DoxyParamCaption}
\item[{{\bf Buffer\+::\+Iterator}}]{start, }
\item[{uint32\+\_\+t}]{length}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1OptionField_a8df2abe90be59cebdcca83b1e1708ba5}{}\label{classns3_1_1OptionField_a8df2abe90be59cebdcca83b1e1708ba5}


Deserialize the packet. 


\begin{DoxyParams}{Parameters}
{\em start} & \hyperlink{classns3_1_1Buffer}{Buffer} iterator \\
\hline
{\em length} & length \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
size of the packet 
\end{DoxyReturn}

\begin{DoxyCode}
160 \{
161   uint8\_t* buf = \textcolor{keyword}{new} uint8\_t[length];
162   \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start}.Read (buf, length);
163   \hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData} = Buffer ();
164   \hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData}.\hyperlink{classns3_1_1Buffer_a92dd87809af24fb10696fee9a9cb56cf}{AddAtEnd} (length);
165   \hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData}.\hyperlink{classns3_1_1Buffer_a893d4bf50df13e730b6cd0fda91b967f}{Begin} ().\hyperlink{classns3_1_1Buffer_1_1Iterator_a087b4e6b5d038544c750c741e8932d69}{Write} (buf, length);
166   \textcolor{keyword}{delete}[] buf;
167   \textcolor{keywordflow}{return} length;
168 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6




Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!Get\+Option\+Buffer@{Get\+Option\+Buffer}}
\index{Get\+Option\+Buffer@{Get\+Option\+Buffer}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{Get\+Option\+Buffer()}{GetOptionBuffer()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Buffer} Option\+Field\+::\+Get\+Option\+Buffer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1OptionField_a6992fa49019dfc1efbb6a8215db0e72a}{}\label{classns3_1_1OptionField_a6992fa49019dfc1efbb6a8215db0e72a}


Get the buffer. 

\begin{DoxyReturn}{Returns}
buffer 
\end{DoxyReturn}

\begin{DoxyCode}
202 \{
203   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData};
204 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!Get\+Options\+Offset@{Get\+Options\+Offset}}
\index{Get\+Options\+Offset@{Get\+Options\+Offset}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{Get\+Options\+Offset()}{GetOptionsOffset()}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Option\+Field\+::\+Get\+Options\+Offset (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1OptionField_ac78063bc75429ecf470b45e657e3c4d3}{}\label{classns3_1_1OptionField_ac78063bc75429ecf470b45e657e3c4d3}


Get the offset where the options begin, measured from the start of the extension header. 

\begin{DoxyReturn}{Returns}
the offset from the start of the extension header 
\end{DoxyReturn}

\begin{DoxyCode}
197 \{
198   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1OptionField_af4da0b51e27677c953ae9dac5aa911e7}{m\_optionsOffset};
199 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!Get\+Serialized\+Size@{Get\+Serialized\+Size}}
\index{Get\+Serialized\+Size@{Get\+Serialized\+Size}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{Get\+Serialized\+Size() const }{GetSerializedSize() const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Option\+Field\+::\+Get\+Serialized\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1OptionField_a7ed57dda4ddd5f4409ffb692594fb924}{}\label{classns3_1_1OptionField_a7ed57dda4ddd5f4409ffb692594fb924}


Get the serialized size of the packet. 

\begin{DoxyReturn}{Returns}
size 
\end{DoxyReturn}

\begin{DoxyCode}
140 \{
141   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData}.\hyperlink{classns3_1_1Buffer_a3047b8f2dad303c6370695122f1884f0}{GetSize} () + \hyperlink{classns3_1_1OptionField_ac3fd1a6232d5a5885feccda8b6f70a31}{CalculatePad} ((
      Ipv6OptionHeader::Alignment) \{ 8,0\});
142 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!Serialize@{Serialize}}
\index{Serialize@{Serialize}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{Serialize(\+Buffer\+::\+Iterator start) const }{Serialize(Buffer::Iterator start) const }}]{\setlength{\rightskip}{0pt plus 5cm}void Option\+Field\+::\+Serialize (
\begin{DoxyParamCaption}
\item[{{\bf Buffer\+::\+Iterator}}]{start}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1OptionField_a9cd4cd7b17a7e443a17dcfcfadef4c28}{}\label{classns3_1_1OptionField_a9cd4cd7b17a7e443a17dcfcfadef4c28}


Serialize all added options. 


\begin{DoxyParams}{Parameters}
{\em start} & \hyperlink{classns3_1_1Buffer}{Buffer} iterator \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
145 \{
146   \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start}.Write (\hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData}.\hyperlink{classns3_1_1Buffer_a893d4bf50df13e730b6cd0fda91b967f}{Begin} (), \hyperlink{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{m\_optionData}.
      \hyperlink{classns3_1_1Buffer_a52207c7aed7bae89fba2f9e997c82724}{End} ());
147   uint32\_t fill = \hyperlink{classns3_1_1OptionField_ac3fd1a6232d5a5885feccda8b6f70a31}{CalculatePad} ((Ipv6OptionHeader::Alignment) \{ 8,0\});
148   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"fill with "} << fill << \textcolor{stringliteral}{" bytes padding"});
149   \textcolor{keywordflow}{switch} (fill)
150     \{
151     \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return};
152     \textcolor{keywordflow}{case} 1: Ipv6OptionPad1Header ().Serialize (\hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start});
153       \textcolor{keywordflow}{return};
154     \textcolor{keywordflow}{default}: Ipv6OptionPadnHeader (fill).Serialize (\hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start});
155       \textcolor{keywordflow}{return};
156     \}
157 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12




Here is the caller graph for this function\+:
% FIG 13




\subsection{Member Data Documentation}
\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!m\+\_\+option\+Data@{m\+\_\+option\+Data}}
\index{m\+\_\+option\+Data@{m\+\_\+option\+Data}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{m\+\_\+option\+Data}{m_optionData}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Buffer} ns3\+::\+Option\+Field\+::m\+\_\+option\+Data\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}{}\label{classns3_1_1OptionField_a915db445f931653af7165be5cc9d8ba5}


Data payload. 

\index{ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}!m\+\_\+options\+Offset@{m\+\_\+options\+Offset}}
\index{m\+\_\+options\+Offset@{m\+\_\+options\+Offset}!ns3\+::\+Option\+Field@{ns3\+::\+Option\+Field}}
\subsubsection[{\texorpdfstring{m\+\_\+options\+Offset}{m_optionsOffset}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Option\+Field\+::m\+\_\+options\+Offset\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OptionField_af4da0b51e27677c953ae9dac5aa911e7}{}\label{classns3_1_1OptionField_af4da0b51e27677c953ae9dac5aa911e7}


Offset. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
internet/model/\hyperlink{ipv6-extension-header_8h}{ipv6-\/extension-\/header.\+h}\item 
internet/model/\hyperlink{ipv6-extension-header_8cc}{ipv6-\/extension-\/header.\+cc}\end{DoxyCompactItemize}
