\hypertarget{classPfifoFastQueueDiscTosPrioritization}{}\section{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization Class Reference}
\label{classPfifoFastQueueDiscTosPrioritization}\index{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}}


Inheritance diagram for Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization\+:
% FIG 0


Collaboration diagram for Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classPfifoFastQueueDiscTosPrioritization_a26565ec7a631d34172870c58aff27537}{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization} ()
\item 
virtual \hyperlink{classPfifoFastQueueDiscTosPrioritization_ab6f8bddb178fe4aa9668410c6a1522e4}{$\sim$\+Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classPfifoFastQueueDiscTosPrioritization_a3e80fca2a21f51bfd8ab3a9bfa06cb50}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{Test\+Tos\+Value} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1PfifoFastQueueDisc}{Pfifo\+Fast\+Queue\+Disc} $>$ queue, uint8\+\_\+t tos, uint32\+\_\+t band)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This class tests that each possible T\+OS is enqueued in the right band 

\subsection{Constructor \& Destructor Documentation}
\index{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}!Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}}
\index{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}!Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}}
\subsubsection[{\texorpdfstring{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization()}{PfifoFastQueueDiscTosPrioritization()}}]{\setlength{\rightskip}{0pt plus 5cm}Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization\+::\+Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classPfifoFastQueueDiscTosPrioritization_a26565ec7a631d34172870c58aff27537}{}\label{classPfifoFastQueueDiscTosPrioritization_a26565ec7a631d34172870c58aff27537}

\begin{DoxyCode}
48   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Test TOS-based prioritization"})
49 \{
50 \}
\end{DoxyCode}
\index{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}!````~Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{$\sim$\+Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}}
\index{````~Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{$\sim$\+Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}!Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}}
\subsubsection[{\texorpdfstring{$\sim$\+Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization()}{~PfifoFastQueueDiscTosPrioritization()}}]{\setlength{\rightskip}{0pt plus 5cm}Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization\+::$\sim$\+Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classPfifoFastQueueDiscTosPrioritization_ab6f8bddb178fe4aa9668410c6a1522e4}{}\label{classPfifoFastQueueDiscTosPrioritization_ab6f8bddb178fe4aa9668410c6a1522e4}

\begin{DoxyCode}
53 \{
54 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classPfifoFastQueueDiscTosPrioritization_a3e80fca2a21f51bfd8ab3a9bfa06cb50}{}\label{classPfifoFastQueueDiscTosPrioritization_a3e80fca2a21f51bfd8ab3a9bfa06cb50}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
77 \{
78   \hyperlink{classns3_1_1Ptr}{Ptr<PfifoFastQueueDisc>} queueDisc = CreateObject<PfifoFastQueueDisc> ();
79   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 3; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
80     \{
81       \hyperlink{classns3_1_1Ptr}{Ptr<DropTailQueue<QueueDiscItem>} > queue = 
      CreateObject<DropTailQueue<QueueDiscItem> > ();
82       \textcolor{keywordtype}{bool} ok = queue->SetAttributeFailSafe (\textcolor{stringliteral}{"MaxPackets"}, UintegerValue (1000));
83       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (ok, \textcolor{keyword}{true}, \textcolor{stringliteral}{"unable to set attribute"});
84       queueDisc->\hyperlink{classns3_1_1QueueDisc_a0599223e2a3976ef042a56c2923a2b61}{AddInternalQueue} (queue);
85     \}
86   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (queueDisc->\hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (0)->GetNPackets 
      (), 0, \textcolor{stringliteral}{"initialized non-zero"});
87   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (queueDisc->\hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (1)->GetNPackets 
      (), 0, \textcolor{stringliteral}{"initialized non-zero"});
88   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (queueDisc->\hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (2)->GetNPackets 
      (), 0, \textcolor{stringliteral}{"initialized non-zero"});
89 
90                                       \textcolor{comment}{// Service name       priority         band}
91   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x00, 1);  \textcolor{comment}{// Normal service  -> Best Effort (0) -> 1}
92   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x02, 1);  \textcolor{comment}{// MMC             -> Best Effort (0) -> 1}
93   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x04, 1);  \textcolor{comment}{// MR              -> Best Effort (0) -> 1}
94   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x06, 1);  \textcolor{comment}{// MMC+MR          -> Best Effort (0) -> 1}
95   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x08, 2);  \textcolor{comment}{// Max. Throughput -> Bulk (2)        -> 2}
96   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x0a, 2);  \textcolor{comment}{// MMC+MT          -> Bulk (2)        -> 2}
97   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x0c, 2);  \textcolor{comment}{// MR+MT           -> Bulk (2)        -> 2}
98   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x0e, 2);  \textcolor{comment}{// MMC+MR+MT       -> Bulk (2)        -> 2}
99   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x10, 0);  \textcolor{comment}{// Minimize Delay  -> Interactive (6) -> 0}
100   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x12, 0);  \textcolor{comment}{// MMC+MD          -> Interactive (6) -> 0}
101   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x14, 0);  \textcolor{comment}{// MR+MD           -> Interactive (6) -> 0}
102   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x16, 0);  \textcolor{comment}{// MMC+MR+MD       -> Interactive (6) -> 0}
103   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x18, 1);  \textcolor{comment}{// MT+MD           -> Int. Bulk (4)   -> 1}
104   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x1a, 1);  \textcolor{comment}{// MMC+MT+MD       -> Int. Bulk (4)   -> 1}
105   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x1c, 1);  \textcolor{comment}{// MR+MT+MD        -> Int. Bulk (4)   -> 1}
106   \hyperlink{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{TestTosValue} (queueDisc, 0x1e, 1);  \textcolor{comment}{// MMC+MR+MT+MD    -> Int. Bulk (4)   -> 1}
107 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}!Test\+Tos\+Value@{Test\+Tos\+Value}}
\index{Test\+Tos\+Value@{Test\+Tos\+Value}!Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization@{Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization}}
\subsubsection[{\texorpdfstring{Test\+Tos\+Value(\+Ptr$<$ Pfifo\+Fast\+Queue\+Disc $>$ queue, uint8\+\_\+t tos, uint32\+\_\+t band)}{TestTosValue(Ptr< PfifoFastQueueDisc > queue, uint8_t tos, uint32_t band)}}]{\setlength{\rightskip}{0pt plus 5cm}void Pfifo\+Fast\+Queue\+Disc\+Tos\+Prioritization\+::\+Test\+Tos\+Value (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Pfifo\+Fast\+Queue\+Disc} $>$}]{queue, }
\item[{uint8\+\_\+t}]{tos, }
\item[{uint32\+\_\+t}]{band}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}{}\label{classPfifoFastQueueDiscTosPrioritization_ae30d51ac2cd62d6874f0fdaf619cf939}

\begin{DoxyCode}
58 \{
59   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> (100);
60   \hyperlink{classns3_1_1Ipv4Header}{Ipv4Header} ipHeader;
61   ipHeader.\hyperlink{classns3_1_1Ipv4Header_a3e961181f7839619a68bb7a2dcd483b0}{SetPayloadSize} (100);
62   ipHeader.SetTos (tos);
63   ipHeader.SetProtocol (6);
64   \hyperlink{classns3_1_1SocketPriorityTag}{SocketPriorityTag} priorityTag;
65   priorityTag.\hyperlink{classns3_1_1SocketPriorityTag_aca4be6f3e7c133189a76171488be5cf4}{SetPriority} (Socket::IpTos2Priority (tos));
66   p->\hyperlink{classns3_1_1Packet_a7400b8655852f5271c5957250d0141af}{AddPacketTag} (priorityTag);
67   \hyperlink{classns3_1_1Address}{Address} dest;
68   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4QueueDiscItem>} item = Create<Ipv4QueueDiscItem> (
      \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p}, dest, 0, ipHeader);
69   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (item);
70   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (band)->GetNPackets (
      ), 1, \textcolor{stringliteral}{"enqueued to unexpected band"});
71   queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
72   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1QueueDisc_adf09b498c07c5677c26ea4b8309def74}{GetInternalQueue} (band)->GetNPackets (
      ), 0, \textcolor{stringliteral}{"unable to dequeue"});
73 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4




The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
test/ns3tc/\hyperlink{pfifo-fast-queue-disc-test-suite_8cc}{pfifo-\/fast-\/queue-\/disc-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
