\hypertarget{grid-animation_8cc}{}\section{netanim/examples/grid-\/animation.cc File Reference}
\label{grid-animation_8cc}\index{netanim/examples/grid-\/animation.\+cc@{netanim/examples/grid-\/animation.\+cc}}
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include \char`\"{}ns3/core-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/network-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/internet-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/point-\/to-\/point-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/netanim-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/applications-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/point-\/to-\/point-\/layout-\/module.\+h\char`\"{}}\\*
Include dependency graph for grid-\/animation.cc\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{grid-animation_8cc_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{grid-\/animation.\+cc@{grid-\/animation.\+cc}!main@{main}}
\index{main@{main}!grid-\/animation.\+cc@{grid-\/animation.\+cc}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$argv[])}{main(int argc, char *argv[])}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{grid-animation_8cc_a0ddf1224851353fc92bfbff6f499fa97}{}\label{grid-animation_8cc_a0ddf1224851353fc92bfbff6f499fa97}

\begin{DoxyCode}
32 \{
33   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::OnOffApplication::PacketSize"}, UintegerValue (512));
34   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::OnOffApplication::DataRate"}, StringValue (\textcolor{stringliteral}{"500kb/s"}));
35 
36   uint32\_t xSize = 5;
37   uint32\_t ySize = 5;
38   std::string animFile = \textcolor{stringliteral}{"grid-animation.xml"};
39 
40   \hyperlink{classns3_1_1CommandLine}{CommandLine} cmd;
41   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"xSize"}, \textcolor{stringliteral}{"Number of rows of nodes"}, xSize);
42   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"ySize"}, \textcolor{stringliteral}{"Number of columns of nodes"}, ySize);
43   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"animFile"},  \textcolor{stringliteral}{"File Name for Animation Output"}, animFile);
44 
45   cmd.\hyperlink{classns3_1_1CommandLine_a5c10b85b3207e5ecb48d907966923156}{Parse} (argc,argv);
46   \textcolor{keywordflow}{if} (xSize < 1 || ySize < 1 || (xSize < 2 && ySize < 2))
47     \{
48       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Need more nodes for grid."});
49     \}
50 
51   \hyperlink{classns3_1_1PointToPointHelper}{PointToPointHelper} pointToPoint;
52   pointToPoint.\hyperlink{classns3_1_1PointToPointHelper_a4577f5ab8c387e5528af2e0fbab1152e}{SetDeviceAttribute} (\textcolor{stringliteral}{"DataRate"}, StringValue (\textcolor{stringliteral}{"5Mbps"}));
53   pointToPoint.\hyperlink{classns3_1_1PointToPointHelper_a6b5317fd17fb61e5a53f8d66a90b63b9}{SetChannelAttribute} (\textcolor{stringliteral}{"Delay"}, StringValue (\textcolor{stringliteral}{"2ms"}));
54 
55   \textcolor{comment}{// Create Grid}
56   \hyperlink{classns3_1_1PointToPointGridHelper}{PointToPointGridHelper} grid (xSize, ySize, pointToPoint);
57 
58   \textcolor{comment}{// Install stack on Grid}
59   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} stack;
60   grid.InstallStack (stack);
61 
62   \textcolor{comment}{// Assign Addresses to Grid}
63   grid.AssignIpv4Addresses (\hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} (\textcolor{stringliteral}{"10.1.1.0"}, \textcolor{stringliteral}{"255.255.255.0"}),
64                             \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} (\textcolor{stringliteral}{"10.2.1.0"}, \textcolor{stringliteral}{"255.255.255.0"}));
65 
66 
67   \hyperlink{classns3_1_1OnOffHelper}{OnOffHelper} clientHelper (\textcolor{stringliteral}{"ns3::UdpSocketFactory"}, \hyperlink{classns3_1_1Address}{Address} ());
68   clientHelper.SetAttribute (\textcolor{stringliteral}{"OnTime"}, StringValue (\textcolor{stringliteral}{"ns3::ConstantRandomVariable[Constant=1]"}));
69   clientHelper.SetAttribute (\textcolor{stringliteral}{"OffTime"}, StringValue (\textcolor{stringliteral}{"ns3::ConstantRandomVariable[Constant=0]"}));
70   \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} clientApps;
71 
72   \textcolor{comment}{// Create an on/off app sending packets}
73   AddressValue remoteAddress (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (grid.GetIpv4Address (xSize-1,ySize-1), 
      1000));
74   clientHelper.SetAttribute (\textcolor{stringliteral}{"Remote"}, remoteAddress);
75   clientApps.\hyperlink{classns3_1_1ApplicationContainer_ad09ab1a1ad5849d518d5f4c262e38152}{Add} (clientHelper.Install (grid.GetNode (0,0)));
76 
77   clientApps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0));
78   clientApps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.5));
79 
80   \textcolor{comment}{// Set the bounding box for animation}
81   grid.BoundingBox (1, 1, 100, 100);
82 
83   \textcolor{comment}{// Create the animation object and configure for specified output}
84   \hyperlink{classns3_1_1AnimationInterface}{AnimationInterface} anim (animFile);
85 
86   \textcolor{comment}{// Set up the actual simulation}
87   Ipv4GlobalRoutingHelper::PopulateRoutingTables ();
88 
89   Simulator::Run ();
90   Simulator::Destroy ();
91   \textcolor{keywordflow}{return} 0;
92 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1


