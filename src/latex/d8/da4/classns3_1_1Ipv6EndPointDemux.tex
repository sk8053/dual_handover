\hypertarget{classns3_1_1Ipv6EndPointDemux}{}\section{ns3\+:\+:Ipv6\+End\+Point\+Demux Class Reference}
\label{classns3_1_1Ipv6EndPointDemux}\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}


Demultiplexer for end points.  




{\ttfamily \#include $<$ipv6-\/end-\/point-\/demux.\+h$>$}



Collaboration diagram for ns3\+:\+:Ipv6\+End\+Point\+Demux\+:
% FIG 0
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} $\ast$ $>$ \hyperlink{classns3_1_1Ipv6EndPointDemux_a40c1d59189759e1e7f5cabe7cd01c0fa}{End\+Points}
\begin{DoxyCompactList}\small\item\em Container of the I\+Pv6 endpoints. \end{DoxyCompactList}\item 
typedef \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} $\ast$ $>$\+::iterator \hyperlink{classns3_1_1Ipv6EndPointDemux_a79d7b69805dbd45a902e5e6b375e752b}{End\+PointsI}
\begin{DoxyCompactList}\small\item\em Iterator to the container of the I\+Pv6 endpoints. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ipv6EndPointDemux_a2c5834928ee16ad40289e4762ebf040e}{Ipv6\+End\+Point\+Demux} ()
\item 
\hyperlink{classns3_1_1Ipv6EndPointDemux_a2880679dcb5239885b98dec52006170c}{$\sim$\+Ipv6\+End\+Point\+Demux} ()
\item 
bool \hyperlink{classns3_1_1Ipv6EndPointDemux_aaa271fc147c575d73ed98dcc7c9845c0}{Lookup\+Port\+Local} (uint16\+\_\+t \hyperlink{visualizer-ideas_8txt_a21ff1c530daf8435e00048b7fc2c58e3}{port})
\begin{DoxyCompactList}\small\item\em Lookup for port local. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1Ipv6EndPointDemux_a73e4035ff255c9145d809aa76df3861f}{Lookup\+Local} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} addr, uint16\+\_\+t \hyperlink{visualizer-ideas_8txt_a21ff1c530daf8435e00048b7fc2c58e3}{port})
\begin{DoxyCompactList}\small\item\em Lookup for address and port. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv6EndPointDemux_a40c1d59189759e1e7f5cabe7cd01c0fa}{End\+Points} \hyperlink{classns3_1_1Ipv6EndPointDemux_a14fd788471bcde832d3f125bdfabc24b}{Lookup} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} dst, uint16\+\_\+t dport, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} src, uint16\+\_\+t sport, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Ipv6Interface}{Ipv6\+Interface} $>$ incoming\+Interface)
\begin{DoxyCompactList}\small\item\em lookup for a match with all the parameters. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} $\ast$ \hyperlink{classns3_1_1Ipv6EndPointDemux_aa6fa6603f213bd48e6b03e68d6cef80b}{Simple\+Lookup} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} dst, uint16\+\_\+t dport, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} src, uint16\+\_\+t sport)
\begin{DoxyCompactList}\small\item\em Simple lookup for a four-\/tuple match. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} $\ast$ \hyperlink{classns3_1_1Ipv6EndPointDemux_a586cf13b626d18745734faf36ecdd158}{Allocate} (void)
\begin{DoxyCompactList}\small\item\em Allocate a \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point}. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} $\ast$ \hyperlink{classns3_1_1Ipv6EndPointDemux_a3fc063aa047ecc9221973f7955ad9140}{Allocate} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} address)
\begin{DoxyCompactList}\small\item\em Allocate a \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point}. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} $\ast$ \hyperlink{classns3_1_1Ipv6EndPointDemux_ab17c1b5847287c9ae042fa46c70bafc3}{Allocate} (uint16\+\_\+t \hyperlink{visualizer-ideas_8txt_a21ff1c530daf8435e00048b7fc2c58e3}{port})
\begin{DoxyCompactList}\small\item\em Allocate a \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point}. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} $\ast$ \hyperlink{classns3_1_1Ipv6EndPointDemux_a76e87f15a9a4bdac12bc24ff8ea4dba8}{Allocate} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} address, uint16\+\_\+t \hyperlink{visualizer-ideas_8txt_a21ff1c530daf8435e00048b7fc2c58e3}{port})
\begin{DoxyCompactList}\small\item\em Allocate a \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point}. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} $\ast$ \hyperlink{classns3_1_1Ipv6EndPointDemux_a4e5ec48817546606ae47001c0c5db9c7}{Allocate} (\hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} local\+Address, uint16\+\_\+t local\+Port, \hyperlink{classns3_1_1Ipv6Address}{Ipv6\+Address} peer\+Address, uint16\+\_\+t peer\+Port)
\begin{DoxyCompactList}\small\item\em Allocate a \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point}. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1Ipv6EndPointDemux_ae3824e04716c63ceaca1de60c68f0834}{De\+Allocate} (\hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} $\ast$end\+Point)
\begin{DoxyCompactList}\small\item\em Remove a end point. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv6EndPointDemux_a40c1d59189759e1e7f5cabe7cd01c0fa}{End\+Points} \hyperlink{classns3_1_1Ipv6EndPointDemux_ada184acdfffcf2049d8f3e93bf80f86e}{Get\+End\+Points} () const 
\begin{DoxyCompactList}\small\item\em Get the entire list of end points registered. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1Ipv6EndPointDemux_ab90aedc09152333c086615a8897568c8}{Allocate\+Ephemeral\+Port} ()
\begin{DoxyCompactList}\small\item\em Allocate a ephemeral port. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1Ipv6EndPointDemux_a45092d502f845f3475ad5680ed4c8b27}{m\+\_\+ephemeral}
\begin{DoxyCompactList}\small\item\em The ephemeral port. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1Ipv6EndPointDemux_acc166562bc620f3859085abc423b4c35}{m\+\_\+port\+First}
\begin{DoxyCompactList}\small\item\em The first ephemeral port. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1Ipv6EndPointDemux_acc3155c523ddadbe4ac9889bf52d293a}{m\+\_\+port\+Last}
\begin{DoxyCompactList}\small\item\em The last ephemeral port. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ipv6EndPointDemux_a40c1d59189759e1e7f5cabe7cd01c0fa}{End\+Points} \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\+\_\+end\+Points}
\begin{DoxyCompactList}\small\item\em A list of I\+Pv6 end points. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Demultiplexer for end points. 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!End\+Points@{End\+Points}}
\index{End\+Points@{End\+Points}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{End\+Points}{EndPoints}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf std\+::list}$<${\bf Ipv6\+End\+Point} $\ast$$>$ {\bf ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+End\+Points}}\hypertarget{classns3_1_1Ipv6EndPointDemux_a40c1d59189759e1e7f5cabe7cd01c0fa}{}\label{classns3_1_1Ipv6EndPointDemux_a40c1d59189759e1e7f5cabe7cd01c0fa}


Container of the I\+Pv6 endpoints. 

\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!End\+PointsI@{End\+PointsI}}
\index{End\+PointsI@{End\+PointsI}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{End\+PointsI}{EndPointsI}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf std\+::list}$<${\bf Ipv6\+End\+Point} $\ast$$>$\+::iterator {\bf ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+End\+PointsI}}\hypertarget{classns3_1_1Ipv6EndPointDemux_a79d7b69805dbd45a902e5e6b375e752b}{}\label{classns3_1_1Ipv6EndPointDemux_a79d7b69805dbd45a902e5e6b375e752b}


Iterator to the container of the I\+Pv6 endpoints. 



\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Ipv6\+End\+Point\+Demux@{Ipv6\+End\+Point\+Demux}}
\index{Ipv6\+End\+Point\+Demux@{Ipv6\+End\+Point\+Demux}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Ipv6\+End\+Point\+Demux()}{Ipv6EndPointDemux()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Ipv6\+End\+Point\+Demux (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_a2c5834928ee16ad40289e4762ebf040e}{}\label{classns3_1_1Ipv6EndPointDemux_a2c5834928ee16ad40289e4762ebf040e}

\begin{DoxyCode}
30   : \hyperlink{classns3_1_1Ipv6EndPointDemux_a45092d502f845f3475ad5680ed4c8b27}{m\_ephemeral} (49152),
31     \hyperlink{classns3_1_1Ipv6EndPointDemux_acc166562bc620f3859085abc423b4c35}{m\_portFirst} (49152),
32     \hyperlink{classns3_1_1Ipv6EndPointDemux_acc3155c523ddadbe4ac9889bf52d293a}{m\_portLast} (65535)
33 \{
34   \hyperlink{log-macros-disabled_8h_a8f7e4afc291c9d29a65c18ac1f79197b}{NS\_LOG\_FUNCTION\_NOARGS} ();
35 \}
\end{DoxyCode}
\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!````~Ipv6\+End\+Point\+Demux@{$\sim$\+Ipv6\+End\+Point\+Demux}}
\index{````~Ipv6\+End\+Point\+Demux@{$\sim$\+Ipv6\+End\+Point\+Demux}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{$\sim$\+Ipv6\+End\+Point\+Demux()}{~Ipv6EndPointDemux()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Ipv6\+End\+Point\+Demux\+::$\sim$\+Ipv6\+End\+Point\+Demux (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_a2880679dcb5239885b98dec52006170c}{}\label{classns3_1_1Ipv6EndPointDemux_a2880679dcb5239885b98dec52006170c}

\begin{DoxyCode}
38 \{
39   \hyperlink{log-macros-disabled_8h_a8f7e4afc291c9d29a65c18ac1f79197b}{NS\_LOG\_FUNCTION\_NOARGS} ();
40   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1Ipv6EndPointDemux_a79d7b69805dbd45a902e5e6b375e752b}{EndPointsI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
41     \{
42       Ipv6EndPoint *endPoint = *\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
43       \textcolor{keyword}{delete} endPoint;
44     \}
45   \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.clear ();
46 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Allocate(void)}{Allocate(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv6\+End\+Point} $\ast$ ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Allocate (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_a586cf13b626d18745734faf36ecdd158}{}\label{classns3_1_1Ipv6EndPointDemux_a586cf13b626d18745734faf36ecdd158}


Allocate a \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point}. 

\begin{DoxyReturn}{Returns}
an empty \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} instance 
\end{DoxyReturn}

\begin{DoxyCode}
76 \{
77   \hyperlink{log-macros-disabled_8h_a8f7e4afc291c9d29a65c18ac1f79197b}{NS\_LOG\_FUNCTION\_NOARGS} ();
78   uint16\_t \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port} = \hyperlink{classns3_1_1Ipv6EndPointDemux_ab90aedc09152333c086615a8897568c8}{AllocateEphemeralPort} ();
79   \textcolor{keywordflow}{if} (port == 0)
80     \{
81       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Ephemeral port allocation failed."});
82       \textcolor{keywordflow}{return} 0;
83     \}
84   Ipv6EndPoint *endPoint = \textcolor{keyword}{new} Ipv6EndPoint (\hyperlink{classns3_1_1Ipv6Address_a2783e8badfc98c8b0a8508bba6e1b91e}{Ipv6Address::GetAny} (), port);
85   \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.push\_back (endPoint);
86   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Now have >>"} << \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.size () << \textcolor{stringliteral}{"<< endpoints."});
87   \textcolor{keywordflow}{return} endPoint;
88 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1




Here is the caller graph for this function\+:
% FIG 2


\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Allocate(\+Ipv6\+Address address)}{Allocate(Ipv6Address address)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv6\+End\+Point} $\ast$ ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Allocate (
\begin{DoxyParamCaption}
\item[{{\bf Ipv6\+Address}}]{address}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_a3fc063aa047ecc9221973f7955ad9140}{}\label{classns3_1_1Ipv6EndPointDemux_a3fc063aa047ecc9221973f7955ad9140}


Allocate a \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point}. 


\begin{DoxyParams}{Parameters}
{\em address} & I\+Pv6 address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
an \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} instance 
\end{DoxyReturn}

\begin{DoxyCode}
91 \{
92   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << address);
93   uint16\_t \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port} = \hyperlink{classns3_1_1Ipv6EndPointDemux_ab90aedc09152333c086615a8897568c8}{AllocateEphemeralPort} ();
94   \textcolor{keywordflow}{if} (port == 0)
95     \{
96       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Ephemeral port allocation failed."});
97       \textcolor{keywordflow}{return} 0;
98     \}
99   Ipv6EndPoint *endPoint = \textcolor{keyword}{new} Ipv6EndPoint (address, port);
100   \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.push\_back (endPoint);
101   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Now have >>"} << \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.size () << \textcolor{stringliteral}{"<< endpoints."});
102   \textcolor{keywordflow}{return} endPoint;
103 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Allocate(uint16\+\_\+t port)}{Allocate(uint16_t port)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv6\+End\+Point} $\ast$ ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Allocate (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{port}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_ab17c1b5847287c9ae042fa46c70bafc3}{}\label{classns3_1_1Ipv6EndPointDemux_ab17c1b5847287c9ae042fa46c70bafc3}


Allocate a \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point}. 


\begin{DoxyParams}{Parameters}
{\em port} & local port \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
an \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} instance 
\end{DoxyReturn}

\begin{DoxyCode}
106 \{
107   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} <<  \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port});
108 
109   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1Ipv6EndPointDemux_a586cf13b626d18745734faf36ecdd158}{Allocate} (\hyperlink{classns3_1_1Ipv6Address_a2783e8badfc98c8b0a8508bba6e1b91e}{Ipv6Address::GetAny} (), \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port});
110 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Allocate(\+Ipv6\+Address address, uint16\+\_\+t port)}{Allocate(Ipv6Address address, uint16_t port)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv6\+End\+Point} $\ast$ ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Allocate (
\begin{DoxyParamCaption}
\item[{{\bf Ipv6\+Address}}]{address, }
\item[{uint16\+\_\+t}]{port}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_a76e87f15a9a4bdac12bc24ff8ea4dba8}{}\label{classns3_1_1Ipv6EndPointDemux_a76e87f15a9a4bdac12bc24ff8ea4dba8}


Allocate a \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point}. 


\begin{DoxyParams}{Parameters}
{\em address} & local address \\
\hline
{\em port} & local port \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
an \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} instance 
\end{DoxyReturn}

\begin{DoxyCode}
113 \{
114   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << address << \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port});
115   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Ipv6EndPointDemux_a73e4035ff255c9145d809aa76df3861f}{LookupLocal} (address, \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port}))
116     \{
117       \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"Duplicate address/port; failing."});
118       \textcolor{keywordflow}{return} 0;
119     \}
120   Ipv6EndPoint *endPoint = \textcolor{keyword}{new} Ipv6EndPoint (address, \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port});
121   \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.push\_back (endPoint);
122   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Now have >>"} << \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.size () << \textcolor{stringliteral}{"<< endpoints."});
123   \textcolor{keywordflow}{return} endPoint;
124 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Allocate(\+Ipv6\+Address local\+Address, uint16\+\_\+t local\+Port, Ipv6\+Address peer\+Address, uint16\+\_\+t peer\+Port)}{Allocate(Ipv6Address localAddress, uint16_t localPort, Ipv6Address peerAddress, uint16_t peerPort)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv6\+End\+Point} $\ast$ ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Allocate (
\begin{DoxyParamCaption}
\item[{{\bf Ipv6\+Address}}]{local\+Address, }
\item[{uint16\+\_\+t}]{local\+Port, }
\item[{{\bf Ipv6\+Address}}]{peer\+Address, }
\item[{uint16\+\_\+t}]{peer\+Port}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_a4e5ec48817546606ae47001c0c5db9c7}{}\label{classns3_1_1Ipv6EndPointDemux_a4e5ec48817546606ae47001c0c5db9c7}


Allocate a \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point}. 


\begin{DoxyParams}{Parameters}
{\em local\+Address} & local address \\
\hline
{\em local\+Port} & local port \\
\hline
{\em peer\+Address} & peer address \\
\hline
{\em peer\+Port} & peer port \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
an \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} instance 
\end{DoxyReturn}

\begin{DoxyCode}
128 \{
129   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << localAddress << localPort << peerAddress << peerPort);
130   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1Ipv6EndPointDemux_a79d7b69805dbd45a902e5e6b375e752b}{EndPointsI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
131     \{
132       \textcolor{keywordflow}{if} ((*i)->GetLocalPort () == localPort
133           && (*i)->GetLocalAddress () == localAddress
134           && (*i)->GetPeerPort () == peerPort
135           && (*i)->GetPeerAddress () == peerAddress)
136         \{
137           \hyperlink{group__logging_gade7208b4009cdf0e25783cd26766f559}{NS\_LOG\_WARN} (\textcolor{stringliteral}{"No way we can allocate this end-point."});
138           \textcolor{comment}{/* no way we can allocate this end-point. */}
139           \textcolor{keywordflow}{return} 0;
140         \}
141     \}
142   Ipv6EndPoint *endPoint = \textcolor{keyword}{new} Ipv6EndPoint (localAddress, localPort);
143   endPoint->SetPeer (peerAddress, peerPort);
144   \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.push\_back (endPoint);
145 
146   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Now have >>"} << \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.size () << \textcolor{stringliteral}{"<< endpoints."});
147 
148   \textcolor{keywordflow}{return} endPoint;
149 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 6


\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Allocate\+Ephemeral\+Port@{Allocate\+Ephemeral\+Port}}
\index{Allocate\+Ephemeral\+Port@{Allocate\+Ephemeral\+Port}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Allocate\+Ephemeral\+Port()}{AllocateEphemeralPort()}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Allocate\+Ephemeral\+Port (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Ipv6EndPointDemux_ab90aedc09152333c086615a8897568c8}{}\label{classns3_1_1Ipv6EndPointDemux_ab90aedc09152333c086615a8897568c8}


Allocate a ephemeral port. 

\begin{DoxyReturn}{Returns}
a port 
\end{DoxyReturn}

\begin{DoxyCode}
335 \{
336   \hyperlink{log-macros-disabled_8h_a8f7e4afc291c9d29a65c18ac1f79197b}{NS\_LOG\_FUNCTION\_NOARGS} ();
337   uint16\_t \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port} = \hyperlink{classns3_1_1Ipv6EndPointDemux_a45092d502f845f3475ad5680ed4c8b27}{m\_ephemeral};
338   \textcolor{keywordtype}{int} count = \hyperlink{classns3_1_1Ipv6EndPointDemux_acc3155c523ddadbe4ac9889bf52d293a}{m\_portLast} - \hyperlink{classns3_1_1Ipv6EndPointDemux_acc166562bc620f3859085abc423b4c35}{m\_portFirst};
339   \textcolor{keywordflow}{do}
340     \{
341       \textcolor{keywordflow}{if} (count-- < 0)
342         \{
343           \textcolor{keywordflow}{return} 0;
344         \}
345       ++\hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port};
346       \textcolor{keywordflow}{if} (port < m\_portFirst || port > \hyperlink{classns3_1_1Ipv6EndPointDemux_acc3155c523ddadbe4ac9889bf52d293a}{m\_portLast})
347         \{
348           port = \hyperlink{classns3_1_1Ipv6EndPointDemux_acc166562bc620f3859085abc423b4c35}{m\_portFirst};
349         \}
350     \}
351   \textcolor{keywordflow}{while} (\hyperlink{classns3_1_1Ipv6EndPointDemux_aaa271fc147c575d73ed98dcc7c9845c0}{LookupPortLocal} (port));
352   \hyperlink{classns3_1_1Ipv6EndPointDemux_a45092d502f845f3475ad5680ed4c8b27}{m\_ephemeral} = \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port};
353   \textcolor{keywordflow}{return} \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port};
354 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!De\+Allocate@{De\+Allocate}}
\index{De\+Allocate@{De\+Allocate}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{De\+Allocate(\+Ipv6\+End\+Point $\ast$end\+Point)}{DeAllocate(Ipv6EndPoint *endPoint)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+De\+Allocate (
\begin{DoxyParamCaption}
\item[{{\bf Ipv6\+End\+Point} $\ast$}]{end\+Point}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_ae3824e04716c63ceaca1de60c68f0834}{}\label{classns3_1_1Ipv6EndPointDemux_ae3824e04716c63ceaca1de60c68f0834}


Remove a end point. 


\begin{DoxyParams}{Parameters}
{\em end\+Point} & the end point to remove \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
152 \{
153   \hyperlink{log-macros-disabled_8h_a8f7e4afc291c9d29a65c18ac1f79197b}{NS\_LOG\_FUNCTION\_NOARGS} ();
154   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1Ipv6EndPointDemux_a79d7b69805dbd45a902e5e6b375e752b}{EndPointsI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
155     \{
156       \textcolor{keywordflow}{if} (*\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} == endPoint)
157         \{
158           \textcolor{keyword}{delete} endPoint;
159           \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.erase (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
160           \textcolor{keywordflow}{break};
161         \}
162     \}
163 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Get\+End\+Points@{Get\+End\+Points}}
\index{Get\+End\+Points@{Get\+End\+Points}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Get\+End\+Points() const }{GetEndPoints() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv6\+End\+Point\+Demux\+::\+End\+Points} ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Get\+End\+Points (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1Ipv6EndPointDemux_ada184acdfffcf2049d8f3e93bf80f86e}{}\label{classns3_1_1Ipv6EndPointDemux_ada184acdfffcf2049d8f3e93bf80f86e}


Get the entire list of end points registered. 

\begin{DoxyReturn}{Returns}
list of \hyperlink{classns3_1_1Ipv6EndPoint}{Ipv6\+End\+Point} 
\end{DoxyReturn}

\begin{DoxyCode}
357 \{
358   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints};
359 \}
\end{DoxyCode}
\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Lookup@{Lookup}}
\index{Lookup@{Lookup}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Lookup(\+Ipv6\+Address dst, uint16\+\_\+t dport, Ipv6\+Address src, uint16\+\_\+t sport, Ptr$<$ Ipv6\+Interface $>$ incoming\+Interface)}{Lookup(Ipv6Address dst, uint16_t dport, Ipv6Address src, uint16_t sport, Ptr< Ipv6Interface > incomingInterface)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv6\+End\+Point\+Demux\+::\+End\+Points} ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Lookup (
\begin{DoxyParamCaption}
\item[{{\bf Ipv6\+Address}}]{dst, }
\item[{uint16\+\_\+t}]{dport, }
\item[{{\bf Ipv6\+Address}}]{src, }
\item[{uint16\+\_\+t}]{sport, }
\item[{{\bf Ptr}$<$ {\bf Ipv6\+Interface} $>$}]{incoming\+Interface}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_a14fd788471bcde832d3f125bdfabc24b}{}\label{classns3_1_1Ipv6EndPointDemux_a14fd788471bcde832d3f125bdfabc24b}


lookup for a match with all the parameters. 

The function will return a list of most-\/matching End\+Points, in this order\+:
\begin{DoxyEnumerate}
\item Full match
\item All but local address
\item Only local port and local address match
\item Only local port match
\end{DoxyEnumerate}

End\+Point with disabled Rx are skipped.


\begin{DoxyParams}{Parameters}
{\em dst} & destination address to test \\
\hline
{\em dport} & destination port to test \\
\hline
{\em src} & source address to test \\
\hline
{\em sport} & source port to test \\
\hline
{\em incoming\+Interface} & the incoming interface \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
list of I\+Pv6\+End\+Points (could be 0 element) 
\end{DoxyReturn}

\begin{DoxyCode}
173 \{
174   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << daddr << dport << saddr << sport << incomingInterface);
175 
176   \hyperlink{classns3_1_1Ipv6EndPointDemux_a40c1d59189759e1e7f5cabe7cd01c0fa}{EndPoints} retval1; \textcolor{comment}{/* Matches exact on local port, wildcards on others */}
177   \hyperlink{classns3_1_1Ipv6EndPointDemux_a40c1d59189759e1e7f5cabe7cd01c0fa}{EndPoints} retval2; \textcolor{comment}{/* Matches exact on local port/adder, wildcards on others */}
178   \hyperlink{classns3_1_1Ipv6EndPointDemux_a40c1d59189759e1e7f5cabe7cd01c0fa}{EndPoints} retval3; \textcolor{comment}{/* Matches all but local address */}
179   \hyperlink{classns3_1_1Ipv6EndPointDemux_a40c1d59189759e1e7f5cabe7cd01c0fa}{EndPoints} retval4; \textcolor{comment}{/* Exact match on all 4 */}
180 
181   \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Looking up endpoint for destination address "} << daddr);
182   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1Ipv6EndPointDemux_a79d7b69805dbd45a902e5e6b375e752b}{EndPointsI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
183     \{
184       Ipv6EndPoint* endP = *\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
185 
186       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"Looking at endpoint dport="} << endP->GetLocalPort ()
187                                                  << \textcolor{stringliteral}{" daddr="} << endP->GetLocalAddress ()
188                                                  << \textcolor{stringliteral}{" sport="} << endP->GetPeerPort ()
189                                                  << \textcolor{stringliteral}{" saddr="} << endP->GetPeerAddress ());
190 
191       \textcolor{keywordflow}{if} (!endP->IsRxEnabled ())
192         \{
193           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Skipping endpoint "} << &endP
194                         << \textcolor{stringliteral}{" because endpoint can not receive packets"});
195           \textcolor{keywordflow}{continue};
196         \}
197 
198       \textcolor{keywordflow}{if} (endP->GetLocalPort () != dport)
199         \{
200           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Skipping endpoint "} << &endP
201                                              << \textcolor{stringliteral}{" because endpoint dport "}
202                                              << endP->GetLocalPort ()
203                                              << \textcolor{stringliteral}{" does not match packet dport "} << dport);
204           \textcolor{keywordflow}{continue};
205         \}
206 
207       \textcolor{keywordflow}{if} (endP->GetBoundNetDevice ())
208         \{
209           \textcolor{keywordflow}{if} (!incomingInterface)
210             \{
211               \textcolor{keywordflow}{continue};
212             \}
213           \textcolor{keywordflow}{if} (endP->GetBoundNetDevice () != incomingInterface->GetDevice ())
214             \{
215               \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"Skipping endpoint "} << &endP
216                                                  << \textcolor{stringliteral}{" because endpoint is bound to specific device and"}
217                                                  << endP->GetBoundNetDevice ()
218                                                  << \textcolor{stringliteral}{" does not match packet device "} << incomingInterface->
      GetDevice ());
219               \textcolor{keywordflow}{continue};
220             \}
221         \}
222 
223       \textcolor{comment}{/*    Ipv6Address incomingInterfaceAddr = incomingInterface->GetAddress (); */}
224       \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{stringliteral}{"dest addr "} << daddr);
225 
226       \textcolor{keywordtype}{bool} localAddressMatchesWildCard = endP->GetLocalAddress () == 
      \hyperlink{classns3_1_1Ipv6Address_a2783e8badfc98c8b0a8508bba6e1b91e}{Ipv6Address::GetAny} ();
227       \textcolor{keywordtype}{bool} localAddressMatchesExact = endP->GetLocalAddress () == daddr;
228       \textcolor{keywordtype}{bool} localAddressMatchesAllRouters = endP->GetLocalAddress () == 
      \hyperlink{classns3_1_1Ipv6Address_aae006ec0f2c8e0cfd792cc1427f493cf}{Ipv6Address::GetAllRoutersMulticast} ();
229 
230       \textcolor{comment}{/* if no match here, keep looking */}
231       \textcolor{keywordflow}{if} (!(localAddressMatchesExact || localAddressMatchesWildCard))
232         \{
233           \textcolor{keywordflow}{continue};
234         \}
235       \textcolor{keywordtype}{bool} remotePeerMatchesExact = endP->GetPeerPort () == sport;
236       \textcolor{keywordtype}{bool} remotePeerMatchesWildCard = endP->GetPeerPort () == 0;
237       \textcolor{keywordtype}{bool} remoteAddressMatchesExact = endP->GetPeerAddress () == saddr;
238       \textcolor{keywordtype}{bool} remoteAddressMatchesWildCard = endP->GetPeerAddress () == 
      \hyperlink{classns3_1_1Ipv6Address_a2783e8badfc98c8b0a8508bba6e1b91e}{Ipv6Address::GetAny} ();
239 
240       \textcolor{comment}{/* If remote does not match either with exact or wildcard,i}
241 \textcolor{comment}{         skip this one */}
242       \textcolor{keywordflow}{if} (!(remotePeerMatchesExact || remotePeerMatchesWildCard))
243         \{
244           \textcolor{keywordflow}{continue};
245         \}
246       \textcolor{keywordflow}{if} (!(remoteAddressMatchesExact || remoteAddressMatchesWildCard))
247         \{
248           \textcolor{keywordflow}{continue};
249         \}
250 
251       \textcolor{comment}{/* Now figure out which return list to add this one to */}
252       \textcolor{keywordflow}{if} (localAddressMatchesWildCard
253           && remotePeerMatchesWildCard
254           && remoteAddressMatchesWildCard)
255         \{ \textcolor{comment}{/* Only local port matches exactly */}
256           retval1.push\_back (endP);
257         \}
258       \textcolor{keywordflow}{if} ((localAddressMatchesExact || (localAddressMatchesAllRouters))
259           && remotePeerMatchesWildCard
260           && remoteAddressMatchesWildCard)
261         \{ \textcolor{comment}{/* Only local port and local address matches exactly */}
262           retval2.push\_back (endP);
263         \}
264       \textcolor{keywordflow}{if} (localAddressMatchesWildCard
265           && remotePeerMatchesExact
266           && remoteAddressMatchesExact)
267         \{ \textcolor{comment}{/* All but local address */}
268           retval3.push\_back (endP);
269         \}
270       \textcolor{keywordflow}{if} (localAddressMatchesExact
271           && remotePeerMatchesExact
272           && remoteAddressMatchesExact)
273         \{ \textcolor{comment}{/* All 4 match */}
274           retval4.push\_back (endP);
275         \}
276     \}
277 
278   \textcolor{comment}{/* Here we find the most exact match */}
279   \textcolor{keywordflow}{if} (!retval4.empty ())
280     \{
281       \textcolor{keywordflow}{return} retval4;
282     \}
283   \textcolor{keywordflow}{if} (!retval3.empty ())
284     \{
285       \textcolor{keywordflow}{return} retval3;
286     \}
287   \textcolor{keywordflow}{if} (!retval2.empty ())
288     \{
289       \textcolor{keywordflow}{return} retval2;
290     \}
291   \textcolor{keywordflow}{return} retval1;  \textcolor{comment}{/* might be empty if no matches */}
292 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 10




Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Lookup\+Local@{Lookup\+Local}}
\index{Lookup\+Local@{Lookup\+Local}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Lookup\+Local(\+Ipv6\+Address addr, uint16\+\_\+t port)}{LookupLocal(Ipv6Address addr, uint16_t port)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Lookup\+Local (
\begin{DoxyParamCaption}
\item[{{\bf Ipv6\+Address}}]{addr, }
\item[{uint16\+\_\+t}]{port}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_a73e4035ff255c9145d809aa76df3861f}{}\label{classns3_1_1Ipv6EndPointDemux_a73e4035ff255c9145d809aa76df3861f}


Lookup for address and port. 


\begin{DoxyParams}{Parameters}
{\em addr} & address to test \\
\hline
{\em port} & port to test \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if there is a match in End\+Points, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
62 \{
63   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << addr << \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port});
64   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1Ipv6EndPointDemux_a79d7b69805dbd45a902e5e6b375e752b}{EndPointsI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
65     \{
66       \textcolor{keywordflow}{if} ((*i)->GetLocalPort () == \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port}
67           && (*i)->GetLocalAddress () == addr)
68         \{
69           \textcolor{keywordflow}{return} \textcolor{keyword}{true};
70         \}
71     \}
72   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
73 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Lookup\+Port\+Local@{Lookup\+Port\+Local}}
\index{Lookup\+Port\+Local@{Lookup\+Port\+Local}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Lookup\+Port\+Local(uint16\+\_\+t port)}{LookupPortLocal(uint16_t port)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Lookup\+Port\+Local (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{port}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_aaa271fc147c575d73ed98dcc7c9845c0}{}\label{classns3_1_1Ipv6EndPointDemux_aaa271fc147c575d73ed98dcc7c9845c0}


Lookup for port local. 


\begin{DoxyParams}{Parameters}
{\em port} & port to test \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if a port local is in End\+Points, false otherwise 
\end{DoxyReturn}

\begin{DoxyCode}
49 \{
50   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port});
51   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1Ipv6EndPointDemux_a79d7b69805dbd45a902e5e6b375e752b}{EndPointsI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
52     \{
53       \textcolor{keywordflow}{if} ((*i)->GetLocalPort  () == \hyperlink{dsdv-manet_8cc_a8e0798404bf2cf5dabb84c5ba9a4f236}{port})
54         \{
55           \textcolor{keywordflow}{return} \textcolor{keyword}{true};
56         \}
57     \}
58   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
59 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 13


\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!Simple\+Lookup@{Simple\+Lookup}}
\index{Simple\+Lookup@{Simple\+Lookup}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{Simple\+Lookup(\+Ipv6\+Address dst, uint16\+\_\+t dport, Ipv6\+Address src, uint16\+\_\+t sport)}{SimpleLookup(Ipv6Address dst, uint16_t dport, Ipv6Address src, uint16_t sport)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ipv6\+End\+Point} $\ast$ ns3\+::\+Ipv6\+End\+Point\+Demux\+::\+Simple\+Lookup (
\begin{DoxyParamCaption}
\item[{{\bf Ipv6\+Address}}]{dst, }
\item[{uint16\+\_\+t}]{dport, }
\item[{{\bf Ipv6\+Address}}]{src, }
\item[{uint16\+\_\+t}]{sport}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Ipv6EndPointDemux_aa6fa6603f213bd48e6b03e68d6cef80b}{}\label{classns3_1_1Ipv6EndPointDemux_aa6fa6603f213bd48e6b03e68d6cef80b}


Simple lookup for a four-\/tuple match. 


\begin{DoxyParams}{Parameters}
{\em dst} & destination address to test \\
\hline
{\em dport} & destination port to test \\
\hline
{\em src} & source address to test \\
\hline
{\em sport} & source port to test \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
match or 0 if not found 
\end{DoxyReturn}

\begin{DoxyCode}
295 \{
296   uint32\_t genericity = 3;
297   Ipv6EndPoint *\textcolor{keyword}{generic} = 0;
298 
299   \textcolor{keywordflow}{for} (\hyperlink{classns3_1_1Ipv6EndPointDemux_a79d7b69805dbd45a902e5e6b375e752b}{EndPointsI} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != 
      \hyperlink{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{m\_endPoints}.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
300     \{
301       uint32\_t tmp = 0;
302 
303       \textcolor{keywordflow}{if} ((*i)->GetLocalPort () != dport)
304         \{
305           \textcolor{keywordflow}{continue};
306         \}
307 
308       \textcolor{keywordflow}{if} ((*i)->GetLocalAddress () == dst && (*i)->GetPeerPort () == sport
309           && (*i)->GetPeerAddress () == src)
310         \{
311           \textcolor{comment}{/* this is an exact match. */}
312           \textcolor{keywordflow}{return} *\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
313         \}
314 
315       \textcolor{keywordflow}{if} ((*i)->GetLocalAddress () == \hyperlink{classns3_1_1Ipv6Address_a2783e8badfc98c8b0a8508bba6e1b91e}{Ipv6Address::GetAny} ())
316         \{
317           tmp++;
318         \}
319 
320       \textcolor{keywordflow}{if} ((*i)->GetPeerAddress () == \hyperlink{classns3_1_1Ipv6Address_a2783e8badfc98c8b0a8508bba6e1b91e}{Ipv6Address::GetAny} ())
321         \{
322           tmp++;
323         \}
324 
325       \textcolor{keywordflow}{if} (tmp < genericity)
326         \{
327           \textcolor{keyword}{generic} = (*i);
328           genericity = tmp;
329         \}
330     \}
331   \textcolor{keywordflow}{return} \textcolor{keyword}{generic};
332 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 14




Here is the caller graph for this function\+:
% FIG 15




\subsection{Member Data Documentation}
\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!m\+\_\+end\+Points@{m\+\_\+end\+Points}}
\index{m\+\_\+end\+Points@{m\+\_\+end\+Points}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{m\+\_\+end\+Points}{m_endPoints}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf End\+Points} ns3\+::\+Ipv6\+End\+Point\+Demux\+::m\+\_\+end\+Points\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}{}\label{classns3_1_1Ipv6EndPointDemux_a426db7bf82f46d87aa92afa3c3b927d9}


A list of I\+Pv6 end points. 

\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!m\+\_\+ephemeral@{m\+\_\+ephemeral}}
\index{m\+\_\+ephemeral@{m\+\_\+ephemeral}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{m\+\_\+ephemeral}{m_ephemeral}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ipv6\+End\+Point\+Demux\+::m\+\_\+ephemeral\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Ipv6EndPointDemux_a45092d502f845f3475ad5680ed4c8b27}{}\label{classns3_1_1Ipv6EndPointDemux_a45092d502f845f3475ad5680ed4c8b27}


The ephemeral port. 

\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!m\+\_\+port\+First@{m\+\_\+port\+First}}
\index{m\+\_\+port\+First@{m\+\_\+port\+First}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{m\+\_\+port\+First}{m_portFirst}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ipv6\+End\+Point\+Demux\+::m\+\_\+port\+First\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Ipv6EndPointDemux_acc166562bc620f3859085abc423b4c35}{}\label{classns3_1_1Ipv6EndPointDemux_acc166562bc620f3859085abc423b4c35}


The first ephemeral port. 

\index{ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}!m\+\_\+port\+Last@{m\+\_\+port\+Last}}
\index{m\+\_\+port\+Last@{m\+\_\+port\+Last}!ns3\+::\+Ipv6\+End\+Point\+Demux@{ns3\+::\+Ipv6\+End\+Point\+Demux}}
\subsubsection[{\texorpdfstring{m\+\_\+port\+Last}{m_portLast}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Ipv6\+End\+Point\+Demux\+::m\+\_\+port\+Last\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Ipv6EndPointDemux_acc3155c523ddadbe4ac9889bf52d293a}{}\label{classns3_1_1Ipv6EndPointDemux_acc3155c523ddadbe4ac9889bf52d293a}


The last ephemeral port. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
internet/model/\hyperlink{ipv6-end-point-demux_8h}{ipv6-\/end-\/point-\/demux.\+h}\item 
internet/model/\hyperlink{ipv6-end-point-demux_8cc}{ipv6-\/end-\/point-\/demux.\+cc}\end{DoxyCompactItemize}
