\hypertarget{uan-animation_8cc}{}\section{netanim/examples/uan-\/animation.cc File Reference}
\label{uan-animation_8cc}\index{netanim/examples/uan-\/animation.\+cc@{netanim/examples/uan-\/animation.\+cc}}
{\ttfamily \#include \char`\"{}uan-\/animation.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/core-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/network-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/netanim-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/mobility-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ns3/applications-\/module.\+h\char`\"{}}\\*
{\ttfamily \#include $<$fstream$>$}\\*
Include dependency graph for uan-\/animation.cc\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{uan-animation_8cc_a02739e5591c200568f56ba0c60dcab1a}{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE} (\char`\"{}Uan\+Cw\+Example\char`\"{})
\item 
int \hyperlink{uan-animation_8cc_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This example showcases the \char`\"{}\+C\+W-\/\+M\+A\+C\char`\"{} described in System Design Considerations for Undersea Networks article in the I\+E\+EE Journal on Selected Areas of Communications 2008 by Nathan Parrish, Leonard Tracy and Sumit Roy. The M\+AC protocol is implemented in the class Uan\+Mac\+Cw. C\+W-\/\+M\+AC is similar in nature to the I\+E\+EE 802.\+11 D\+CF with a constant backoff window. It requires two parameters to be set, the slot time and the contention window size. The contention window size is the backoff window size in slots, and the slot time is the duration of each slot. These parameters should be set according to the overall network size, internode spacing and the number of nodes in the network.

This example deploys nodes randomly (according to R\+NG seed of course) in a finite square region with the X and Y coordinates of the nodes distributed uniformly. The CW parameter is varied throughout the simulation in order to show the variation in throughput with respect to changes in CW. 

\subsection{Function Documentation}
\index{uan-\/animation.\+cc@{uan-\/animation.\+cc}!main@{main}}
\index{main@{main}!uan-\/animation.\+cc@{uan-\/animation.\+cc}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$$\ast$argv)}{main(int argc, char **argv)}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}\hypertarget{uan-animation_8cc_a3c04138a5bfe5d72780bb7e82a18e627}{}\label{uan-animation_8cc_a3c04138a5bfe5d72780bb7e82a18e627}

\begin{DoxyCode}
254 \{
255 
256   \hyperlink{namespacens3_adc4ef4f00bb2f5f4edae67fc3bc27f20}{LogComponentEnable} (\textcolor{stringliteral}{"UanCwExample"}, \hyperlink{namespacens3_aa6464a4d69551a9cc968e17a65f39bdba022b1237a4fd1b08d034471df3c58586}{LOG\_LEVEL\_ALL});
257   \textcolor{comment}{//LogComponentEnable ("AnimationInterface", LOG\_LEVEL\_ALL);}
258 
259   \hyperlink{classNetAnimExperiment}{NetAnimExperiment} exp;
260 
261   std::string perModel = \textcolor{stringliteral}{"ns3::UanPhyPerGenDefault"};
262   std::string sinrModel = \textcolor{stringliteral}{"ns3::UanPhyCalcSinrDefault"};
263 
264   \hyperlink{classns3_1_1CommandLine}{CommandLine} cmd;
265   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"NumNodes"}, \textcolor{stringliteral}{"Number of transmitting nodes"}, exp.
      \hyperlink{classNetAnimExperiment_a829363fc981b850401bc71674534c447}{m\_numNodes});
266   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"Depth"}, \textcolor{stringliteral}{"Depth of transmitting and sink nodes"}, exp.
      \hyperlink{classNetAnimExperiment_a6b6f1fbd47ec60dd032ae97f8962dea1}{m\_depth});
267   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"RegionSize"}, \textcolor{stringliteral}{"Size of boundary in meters"}, exp.
      \hyperlink{classNetAnimExperiment_a172cb08bfa569ac31ad597a6770a467d}{m\_boundary});
268   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"PacketSize"}, \textcolor{stringliteral}{"Generated packet size in bytes"}, exp.
      \hyperlink{classNetAnimExperiment_a8fa7c7d678fb0721374708aad5537510}{m\_packetSize});
269   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"DataRate"}, \textcolor{stringliteral}{"DataRate in bps"}, exp.\hyperlink{classNetAnimExperiment_a7998af435f1259ef914a8e434f76a0c0}{m\_dataRate});
270   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"CwMin"}, \textcolor{stringliteral}{"Min CW to simulate"}, exp.\hyperlink{classNetAnimExperiment_a2d4b4380bbc3962d37415236ebc46f64}{m\_cwMin});
271   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"CwMax"}, \textcolor{stringliteral}{"Max CW to simulate"}, exp.\hyperlink{classNetAnimExperiment_a36377073bd491b2213fd752da30e9362}{m\_cwMax});
272   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"SlotTime"}, \textcolor{stringliteral}{"Slot time duration"}, exp.\hyperlink{classNetAnimExperiment_a8775f236cd5acfc6d68139e14d58f342}{m\_slotTime});
273   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"Averages"}, \textcolor{stringliteral}{"Number of topologies to test for each cw point"}, exp.
      \hyperlink{classNetAnimExperiment_aa5c4b8cecba30d0e970bd1ea1625af05}{m\_avgs});
274   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"PerModel"}, \textcolor{stringliteral}{"PER model name"}, perModel);
275   cmd.\hyperlink{classns3_1_1CommandLine_addcfb546c7ad4c8bd0965654d55beb8e}{AddValue} (\textcolor{stringliteral}{"SinrModel"}, \textcolor{stringliteral}{"SINR model name"}, sinrModel);
276   cmd.\hyperlink{classns3_1_1CommandLine_a5c10b85b3207e5ecb48d907966923156}{Parse} (argc, argv);
277 
278   \hyperlink{classns3_1_1ObjectFactory}{ObjectFactory} obf;
279   obf.\hyperlink{classns3_1_1ObjectFactory_a77dcd099064038a1eb7a6b8251229ec3}{SetTypeId} (perModel);
280   \hyperlink{classns3_1_1Ptr}{Ptr<UanPhyPer>} per = obf.\hyperlink{classns3_1_1ObjectFactory_a18152e93f0a6fe184ed7300cb31e9896}{Create}<\hyperlink{classns3_1_1UanPhyPer}{UanPhyPer}> ();
281   obf.\hyperlink{classns3_1_1ObjectFactory_a77dcd099064038a1eb7a6b8251229ec3}{SetTypeId} (sinrModel);
282   \hyperlink{classns3_1_1Ptr}{Ptr<UanPhyCalcSinr>} sinr = obf.\hyperlink{classns3_1_1ObjectFactory_a18152e93f0a6fe184ed7300cb31e9896}{Create}<\hyperlink{classns3_1_1UanPhyCalcSinr}{UanPhyCalcSinr}> ();
283 
284   \hyperlink{classns3_1_1UanHelper}{UanHelper} uan;
285   \hyperlink{classns3_1_1UanTxMode}{UanTxMode} mode;
286   mode = UanTxModeFactory::CreateMode (UanTxMode::FSK, exp.\hyperlink{classNetAnimExperiment_a7998af435f1259ef914a8e434f76a0c0}{m\_dataRate},
287                                        exp.\hyperlink{classNetAnimExperiment_a7998af435f1259ef914a8e434f76a0c0}{m\_dataRate}, 12000,
288                                        exp.\hyperlink{classNetAnimExperiment_a7998af435f1259ef914a8e434f76a0c0}{m\_dataRate}, 2,
289                                        \textcolor{stringliteral}{"Default mode"});
290   \hyperlink{classns3_1_1UanModesList}{UanModesList} myModes;
291   myModes.\hyperlink{classns3_1_1UanModesList_ae47998ab8ad053aecd5f2849043ec403}{AppendMode} (mode);
292 
293   uan.SetPhy (\textcolor{stringliteral}{"ns3::UanPhyGen"},
294               \textcolor{stringliteral}{"PerModel"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (per),
295               \textcolor{stringliteral}{"SinrModel"}, \hyperlink{classns3_1_1PointerValue}{PointerValue} (sinr),
296               \textcolor{stringliteral}{"SupportedModes"}, UanModesListValue (myModes));
297 
298   exp.\hyperlink{classNetAnimExperiment_a63a699997d753ea33b4367ccad6088a3}{Run} (uan);
299 
300   per = 0;
301   sinr = 0;
302 
303 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1


\index{uan-\/animation.\+cc@{uan-\/animation.\+cc}!N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE@{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE}}
\index{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE@{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE}!uan-\/animation.\+cc@{uan-\/animation.\+cc}}
\subsubsection[{\texorpdfstring{N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+N\+E(""Uan\+Cw\+Example"")}{NS_LOG_COMPONENT_DEFINE("UanCwExample")}}]{\setlength{\rightskip}{0pt plus 5cm}N\+S\+\_\+\+L\+O\+G\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+T\+\_\+\+D\+E\+F\+I\+NE (
\begin{DoxyParamCaption}
\item[{\char`\"{}Uan\+Cw\+Example\char`\"{}}]{}
\end{DoxyParamCaption}
)}\hypertarget{uan-animation_8cc_a02739e5591c200568f56ba0c60dcab1a}{}\label{uan-animation_8cc_a02739e5591c200568f56ba0c60dcab1a}
