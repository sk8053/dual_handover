\hypertarget{classLteInterferenceTestCase}{}\section{Lte\+Interference\+Test\+Case Class Reference}
\label{classLteInterferenceTestCase}\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}


{\ttfamily \#include $<$lte-\/test-\/interference.\+h$>$}



Inheritance diagram for Lte\+Interference\+Test\+Case\+:
% FIG 0


Collaboration diagram for Lte\+Interference\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLteInterferenceTestCase_a0c8c7a9bec197d01f3d1dc63bd98f850}{Lte\+Interference\+Test\+Case} (std\+::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, double \hyperlink{lte__uplink__power__control_8m_a6a56223849c00f2bb062c6e55d2954df}{d1}, double \hyperlink{lte__link__budget__interference__fr_8m_a479b78c01efbe4664b402a300da492f7}{d2}, double dl\+Sinr, double ul\+Sinr, double dl\+Se, double ul\+Se, uint16\+\_\+t dl\+Mcs, uint16\+\_\+t ul\+Mcs)
\item 
virtual \hyperlink{classLteInterferenceTestCase_a38f69ce5c7dbc3ee8d1305e32b65e295}{$\sim$\+Lte\+Interference\+Test\+Case} ()
\item 
void \hyperlink{classLteInterferenceTestCase_a0eef0ef3201a7cc394e68ebc4f7f18ec}{Dl\+Scheduling} (uint32\+\_\+t frame\+No, uint32\+\_\+t subframe\+No, uint16\+\_\+t rnti, uint8\+\_\+t mcs\+Tb1, uint16\+\_\+t size\+Tb1, uint8\+\_\+t mcs\+Tb2, uint16\+\_\+t size\+Tb2)
\item 
void \hyperlink{classLteInterferenceTestCase_a52294c9a02a1b183d1d99478d60176a5}{Ul\+Scheduling} (uint32\+\_\+t frame\+No, uint32\+\_\+t subframe\+No, uint16\+\_\+t rnti, uint8\+\_\+t mcs, uint16\+\_\+t size\+Tb)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classLteInterferenceTestCase_adc059d120a4d9effd2ca5f6fecaae31a}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classLteInterferenceTestCase_aec093296b82593901f27f359c7d96149}{m\+\_\+d1}
\item 
double \hyperlink{classLteInterferenceTestCase_ab26ab336e34fbf64b30c89d2d2929ceb}{m\+\_\+d2}
\item 
double \hyperlink{classLteInterferenceTestCase_a2524e1bc84780c6e3df394e9650d9e10}{m\+\_\+expected\+Dl\+Sinr\+Db}
\item 
double \hyperlink{classLteInterferenceTestCase_a5aa9fa527027dc6d168e72f7b2b3f8a8}{m\+\_\+expected\+Ul\+Sinr\+Db}
\item 
uint16\+\_\+t \hyperlink{classLteInterferenceTestCase_a30cae7c88e7a397b7e0f5391f25d165a}{m\+\_\+dl\+Mcs}
\item 
uint16\+\_\+t \hyperlink{classLteInterferenceTestCase_ae9b735d97696042105ca16ad0bf9b6fd}{m\+\_\+ul\+Mcs}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{Lte\+Interference\+Test\+Case(std\+::string name, double d1, double d2, double dl\+Sinr, double ul\+Sinr, double dl\+Se, double ul\+Se, uint16\+\_\+t dl\+Mcs, uint16\+\_\+t ul\+Mcs)}{LteInterferenceTestCase(std::string name, double d1, double d2, double dlSinr, double ulSinr, double dlSe, double ulSe, uint16_t dlMcs, uint16_t ulMcs)}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Interference\+Test\+Case\+::\+Lte\+Interference\+Test\+Case (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name, }
\item[{double}]{d1, }
\item[{double}]{d2, }
\item[{double}]{dl\+Sinr, }
\item[{double}]{ul\+Sinr, }
\item[{double}]{dl\+Se, }
\item[{double}]{ul\+Se, }
\item[{uint16\+\_\+t}]{dl\+Mcs, }
\item[{uint16\+\_\+t}]{ul\+Mcs}
\end{DoxyParamCaption}
)}\hypertarget{classLteInterferenceTestCase_a0c8c7a9bec197d01f3d1dc63bd98f850}{}\label{classLteInterferenceTestCase_a0c8c7a9bec197d01f3d1dc63bd98f850}
Test\+Case 
\begin{DoxyCode}
99   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}),
100     \hyperlink{classLteInterferenceTestCase_aec093296b82593901f27f359c7d96149}{m\_d1} (\hyperlink{lte__link__budget__interference_8m_ab5ca0c44c6f0a063a5219b3749db661f}{d1}),
101     \hyperlink{classLteInterferenceTestCase_ab26ab336e34fbf64b30c89d2d2929ceb}{m\_d2} (\hyperlink{lte__cqi__generation_8m_a479b78c01efbe4664b402a300da492f7}{d2}),
102     \hyperlink{classLteInterferenceTestCase_a2524e1bc84780c6e3df394e9650d9e10}{m\_expectedDlSinrDb} (10 * std::log10 (dlSinr)),
103     \hyperlink{classLteInterferenceTestCase_a5aa9fa527027dc6d168e72f7b2b3f8a8}{m\_expectedUlSinrDb} (10 * std::log10 (ulSinr)),
104     \hyperlink{classLteInterferenceTestCase_a30cae7c88e7a397b7e0f5391f25d165a}{m\_dlMcs} (dlMcs),
105     \hyperlink{classLteInterferenceTestCase_ae9b735d97696042105ca16ad0bf9b6fd}{m\_ulMcs} (ulMcs)
106 \{
107 \}
\end{DoxyCode}
\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!````~Lte\+Interference\+Test\+Case@{$\sim$\+Lte\+Interference\+Test\+Case}}
\index{````~Lte\+Interference\+Test\+Case@{$\sim$\+Lte\+Interference\+Test\+Case}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Lte\+Interference\+Test\+Case()}{~LteInterferenceTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Interference\+Test\+Case\+::$\sim$\+Lte\+Interference\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classLteInterferenceTestCase_a38f69ce5c7dbc3ee8d1305e32b65e295}{}\label{classLteInterferenceTestCase_a38f69ce5c7dbc3ee8d1305e32b65e295}

\begin{DoxyCode}
110 \{
111 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!Dl\+Scheduling@{Dl\+Scheduling}}
\index{Dl\+Scheduling@{Dl\+Scheduling}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{Dl\+Scheduling(uint32\+\_\+t frame\+No, uint32\+\_\+t subframe\+No, uint16\+\_\+t rnti, uint8\+\_\+t mcs\+Tb1, uint16\+\_\+t size\+Tb1, uint8\+\_\+t mcs\+Tb2, uint16\+\_\+t size\+Tb2)}{DlScheduling(uint32_t frameNo, uint32_t subframeNo, uint16_t rnti, uint8_t mcsTb1, uint16_t sizeTb1, uint8_t mcsTb2, uint16_t sizeTb2)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Interference\+Test\+Case\+::\+Dl\+Scheduling (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{frame\+No, }
\item[{uint32\+\_\+t}]{subframe\+No, }
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{mcs\+Tb1, }
\item[{uint16\+\_\+t}]{size\+Tb1, }
\item[{uint8\+\_\+t}]{mcs\+Tb2, }
\item[{uint16\+\_\+t}]{size\+Tb2}
\end{DoxyParamCaption}
)}\hypertarget{classLteInterferenceTestCase_a0eef0ef3201a7cc394e68ebc4f7f18ec}{}\label{classLteInterferenceTestCase_a0eef0ef3201a7cc394e68ebc4f7f18ec}

\begin{DoxyCode}
248 \{
249   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (frameNo << subframeNo << rnti << (uint32\_t) mcsTb1 << sizeTb1 << (
      uint32\_t) mcsTb2 << sizeTb2);
250   \textcolor{comment}{// need to allow for RRC connection establishment + CQI feedback reception + persistent data transmission}
251   \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} () > \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (65))
252     \{
253       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} ((uint32\_t)mcsTb1, (uint32\_t)
      \hyperlink{classLteInterferenceTestCase_a30cae7c88e7a397b7e0f5391f25d165a}{m\_dlMcs}, \textcolor{stringliteral}{"Wrong DL MCS "});
254     \}
255 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Interference\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLteInterferenceTestCase_adc059d120a4d9effd2ca5f6fecaae31a}{}\label{classLteInterferenceTestCase_adc059d120a4d9effd2ca5f6fecaae31a}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
115 \{
116   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \hyperlink{classns3_1_1TestCase_a28f7bb59669c24dae1c290fc17fc9b62}{GetName} ());
117   
118   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::CtrlErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
119   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::DataErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
120   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteAmc::AmcModel"}, \hyperlink{classns3_1_1EnumValue}{EnumValue} (LteAmc::PiroEW2010));
121   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteAmc::Ber"}, DoubleValue (0.00005));
122   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
123   lteHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"PathlossModel"}, StringValue (\textcolor{stringliteral}{"
      ns3::FriisSpectrumPropagationLossModel"}));
124   lteHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"UseIdealRrc"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
125   lteHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"UsePdschForCqiGeneration"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
126 
127   \textcolor{comment}{//Disable Uplink Power Control}
128   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::EnableUplinkPowerControl"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
129 
130   \textcolor{comment}{// Create Nodes: eNodeB and UE}
131   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
132   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes1;
133   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes2;
134   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (2);
135   ueNodes1.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
136   ueNodes2.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
137   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} allNodes = \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ( enbNodes, ueNodes1, ueNodes2);
138 
139   \textcolor{comment}{// the topology is the following:}
140   \textcolor{comment}{//         d2}
141   \textcolor{comment}{//  UE1-----------eNB2}
142   \textcolor{comment}{//   |             |}
143   \textcolor{comment}{// d1|             |d1}
144   \textcolor{comment}{//   |     d2      |}
145   \textcolor{comment}{//  eNB1----------UE2}
146   \textcolor{comment}{//}
147   \hyperlink{classns3_1_1Ptr}{Ptr<ListPositionAllocator>} positionAlloc = CreateObject<ListPositionAllocator> 
      ();
148   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (0.0, 0.0, 0.0));   \textcolor{comment}{// eNB1}
149   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (\hyperlink{classLteInterferenceTestCase_ab26ab336e34fbf64b30c89d2d2929ceb}{m\_d2}, \hyperlink{classLteInterferenceTestCase_aec093296b82593901f27f359c7d96149}{m\_d1}, 0.0)); \textcolor{comment}{// eNB2}
150   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (0.0, \hyperlink{classLteInterferenceTestCase_aec093296b82593901f27f359c7d96149}{m\_d1}, 0.0));  \textcolor{comment}{// UE1}
151   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (\hyperlink{classLteInterferenceTestCase_ab26ab336e34fbf64b30c89d2d2929ceb}{m\_d2}, 0.0, 0.0));  \textcolor{comment}{// UE2}
152   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
153   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
154   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (positionAlloc);
155   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (allNodes);
156 
157   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
158   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
159   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs1;
160   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs2;
161   lteHelper->\hyperlink{classns3_1_1LteHelper_a8f86e55b8b80a81732c4b2df00fb25d5}{SetSchedulerType} (\textcolor{stringliteral}{"ns3::RrFfMacScheduler"});
162   lteHelper->\hyperlink{classns3_1_1LteHelper_a38f8c7f4592b31c0f3dedb53e7909742}{SetSchedulerAttribute} (\textcolor{stringliteral}{"UlCqiFilter"}, 
      \hyperlink{classns3_1_1EnumValue}{EnumValue} (FfMacScheduler::PUSCH\_UL\_CQI));
163   enbDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes);
164   ueDevs1 = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes1);
165   ueDevs2 = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes2);
166 
167   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs1, enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
168   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs2, enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1));
169 
170   \textcolor{comment}{// Activate an EPS bearer}
171   \textcolor{keyword}{enum} \hyperlink{structns3_1_1EpsBearer_aecf0c67109c5eb4ec0b07226fff5885e}{EpsBearer::Qci} q = EpsBearer::GBR\_CONV\_VOICE;
172   \hyperlink{structns3_1_1EpsBearer}{EpsBearer} bearer (q);
173   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs1, bearer);
174   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs2, bearer);
175 
176   \textcolor{comment}{// Use testing chunk processor in the PHY layer}
177   \textcolor{comment}{// It will be used to test that the SNR is as intended}
178   \textcolor{comment}{// we plug in two instances, one for DL and one for UL}
179 
180   \hyperlink{classns3_1_1Ptr}{Ptr<LtePhy>} ue1Phy = ueDevs1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<\hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ()->GetPhy ()
      ->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1LtePhy}{LtePhy}> ();
181   \hyperlink{classns3_1_1Ptr}{Ptr<LteChunkProcessor>} testDlSinr1 = Create<LteChunkProcessor> ();
182   \hyperlink{classns3_1_1LteSpectrumValueCatcher}{LteSpectrumValueCatcher} dlSinr1Catcher;
183   testDlSinr1->AddCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&LteSpectrumValueCatcher::ReportValue, &
      dlSinr1Catcher));
184   ue1Phy->\hyperlink{classns3_1_1LtePhy_a9560f8862545c7c5760e7f6737c5b938}{GetDownlinkSpectrumPhy} ()->AddDataSinrChunkProcessor (testDlSinr1);
185 
186   \hyperlink{classns3_1_1Ptr}{Ptr<LtePhy>} enb1phy = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<\hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ()->GetPhy
       ()->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1LtePhy}{LtePhy}> ();
187   \hyperlink{classns3_1_1Ptr}{Ptr<LteChunkProcessor>} testUlSinr1 = Create<LteChunkProcessor> ();
188   \hyperlink{classns3_1_1LteSpectrumValueCatcher}{LteSpectrumValueCatcher} ulSinr1Catcher;
189   testUlSinr1->AddCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&LteSpectrumValueCatcher::ReportValue, &
      ulSinr1Catcher));
190   enb1phy->\hyperlink{classns3_1_1LtePhy_aa17612c41d80653ed556431eedef4304}{GetUplinkSpectrumPhy} ()->AddDataSinrChunkProcessor (testUlSinr1);
191 
192   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/0/DeviceList/0/LteEnbMac/DlScheduling"},
193                    \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-interference_8cc_a8d6b465d93f1580062071ad34085009a}{LteTestDlSchedulingCallback}, \textcolor{keyword}{this}));
194 
195   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/0/DeviceList/0/LteEnbMac/UlScheduling"},
196                    \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-interference_8cc_a3af9ca9e1f1a2d5c2688b18891d5a9da}{LteTestUlSchedulingCallback}, \textcolor{keyword}{this}));
197 
198 
199   \textcolor{comment}{// same as above for eNB2 and UE2}
200 
201   \hyperlink{classns3_1_1Ptr}{Ptr<LtePhy>} ue2Phy = ueDevs2.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<\hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ()->GetPhy ()
      ->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1LtePhy}{LtePhy}> ();
202   \hyperlink{classns3_1_1Ptr}{Ptr<LteChunkProcessor>} testDlSinr2 = Create<LteChunkProcessor> ();
203   \hyperlink{classns3_1_1LteSpectrumValueCatcher}{LteSpectrumValueCatcher} dlSinr2Catcher;
204   testDlSinr2->AddCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&LteSpectrumValueCatcher::ReportValue, &
      dlSinr2Catcher));
205   ue2Phy->\hyperlink{classns3_1_1LtePhy_a9560f8862545c7c5760e7f6737c5b938}{GetDownlinkSpectrumPhy} ()->AddDataSinrChunkProcessor (testDlSinr2);
206 
207   \hyperlink{classns3_1_1Ptr}{Ptr<LtePhy>} enb2phy = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1)->GetObject<\hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ()->GetPhy
       ()->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1LtePhy}{LtePhy}> ();
208   \hyperlink{classns3_1_1Ptr}{Ptr<LteChunkProcessor>} testUlSinr2 = Create<LteChunkProcessor> ();
209   \hyperlink{classns3_1_1LteSpectrumValueCatcher}{LteSpectrumValueCatcher} ulSinr2Catcher;
210   testUlSinr2->AddCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&LteSpectrumValueCatcher::ReportValue, &
      ulSinr2Catcher));
211   enb1phy->\hyperlink{classns3_1_1LtePhy_aa17612c41d80653ed556431eedef4304}{GetUplinkSpectrumPhy} ()->AddDataSinrChunkProcessor (testUlSinr2);
212 
213   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/1/DeviceList/0/LteEnbMac/DlScheduling"},
214                    \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-interference_8cc_a8d6b465d93f1580062071ad34085009a}{LteTestDlSchedulingCallback}, \textcolor{keyword}{this}));
215 
216   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/1/DeviceList/0/LteEnbMac/UlScheduling"},
217                    \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-interference_8cc_a3af9ca9e1f1a2d5c2688b18891d5a9da}{LteTestUlSchedulingCallback}, \textcolor{keyword}{this}));
218 
219 \textcolor{comment}{// need to allow for RRC connection establishment + SRS}
220   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.100));
221   Simulator::Run ();
222 
223   \textcolor{keywordflow}{if} (\hyperlink{classLteInterferenceTestCase_a30cae7c88e7a397b7e0f5391f25d165a}{m\_dlMcs} > 0)
224     \{
225       \textcolor{keywordtype}{double} dlSinr1Db = 10.0 * std::log10 (dlSinr1Catcher.GetValue ()->operator[] (0));
226       \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} (dlSinr1Db, 
      \hyperlink{classLteInterferenceTestCase_a2524e1bc84780c6e3df394e9650d9e10}{m\_expectedDlSinrDb}, 0.01, \textcolor{stringliteral}{"Wrong SINR in DL! (eNB1 --> UE1)"});
227 
228       \textcolor{keywordtype}{double} dlSinr2Db = 10.0 * std::log10 (dlSinr2Catcher.GetValue ()->operator[] (0));
229       \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} (dlSinr2Db, 
      \hyperlink{classLteInterferenceTestCase_a2524e1bc84780c6e3df394e9650d9e10}{m\_expectedDlSinrDb}, 0.01, \textcolor{stringliteral}{"Wrong SINR in DL! (eNB2 --> UE2)"});
230     \}
231   \textcolor{keywordflow}{if} (\hyperlink{classLteInterferenceTestCase_ae9b735d97696042105ca16ad0bf9b6fd}{m\_ulMcs} > 0)
232     \{
233       \textcolor{keywordtype}{double} ulSinr1Db = 10.0 * std::log10 (ulSinr1Catcher.GetValue ()->operator[] (0));
234       \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} (ulSinr1Db, 
      \hyperlink{classLteInterferenceTestCase_a5aa9fa527027dc6d168e72f7b2b3f8a8}{m\_expectedUlSinrDb}, 0.01, \textcolor{stringliteral}{"Wrong SINR in UL!  (UE1 --> eNB1)"});
235       
236       \textcolor{keywordtype}{double} ulSinr2Db = 10.0 * std::log10 (ulSinr2Catcher.GetValue ()->operator[] (0));
237       \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} (ulSinr2Db, 
      \hyperlink{classLteInterferenceTestCase_a5aa9fa527027dc6d168e72f7b2b3f8a8}{m\_expectedUlSinrDb}, 0.01, \textcolor{stringliteral}{"Wrong SINR in UL!  (UE2 --> eNB2)"});
238     \}
239 
240   Simulator::Destroy ();
241 
242 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!Ul\+Scheduling@{Ul\+Scheduling}}
\index{Ul\+Scheduling@{Ul\+Scheduling}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{Ul\+Scheduling(uint32\+\_\+t frame\+No, uint32\+\_\+t subframe\+No, uint16\+\_\+t rnti, uint8\+\_\+t mcs, uint16\+\_\+t size\+Tb)}{UlScheduling(uint32_t frameNo, uint32_t subframeNo, uint16_t rnti, uint8_t mcs, uint16_t sizeTb)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Interference\+Test\+Case\+::\+Ul\+Scheduling (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{frame\+No, }
\item[{uint32\+\_\+t}]{subframe\+No, }
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{mcs, }
\item[{uint16\+\_\+t}]{size\+Tb}
\end{DoxyParamCaption}
)}\hypertarget{classLteInterferenceTestCase_a52294c9a02a1b183d1d99478d60176a5}{}\label{classLteInterferenceTestCase_a52294c9a02a1b183d1d99478d60176a5}

\begin{DoxyCode}
260 \{
261   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (frameNo << subframeNo << rnti << (uint32\_t) mcs << sizeTb);
262   \textcolor{comment}{// need to allow for RRC connection establishment + SRS transmission}
263   \textcolor{keywordflow}{if} (\hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} () > \hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (50))
264     \{
265       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} ((uint32\_t)mcs, (uint32\_t)
      \hyperlink{classLteInterferenceTestCase_ae9b735d97696042105ca16ad0bf9b6fd}{m\_ulMcs}, \textcolor{stringliteral}{"Wrong UL MCS"});
266     \}
267 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6




\subsection{Member Data Documentation}
\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!m\+\_\+d1@{m\+\_\+d1}}
\index{m\+\_\+d1@{m\+\_\+d1}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+d1}{m_d1}}]{\setlength{\rightskip}{0pt plus 5cm}double Lte\+Interference\+Test\+Case\+::m\+\_\+d1\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteInterferenceTestCase_aec093296b82593901f27f359c7d96149}{}\label{classLteInterferenceTestCase_aec093296b82593901f27f359c7d96149}
\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!m\+\_\+d2@{m\+\_\+d2}}
\index{m\+\_\+d2@{m\+\_\+d2}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+d2}{m_d2}}]{\setlength{\rightskip}{0pt plus 5cm}double Lte\+Interference\+Test\+Case\+::m\+\_\+d2\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteInterferenceTestCase_ab26ab336e34fbf64b30c89d2d2929ceb}{}\label{classLteInterferenceTestCase_ab26ab336e34fbf64b30c89d2d2929ceb}
\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!m\+\_\+dl\+Mcs@{m\+\_\+dl\+Mcs}}
\index{m\+\_\+dl\+Mcs@{m\+\_\+dl\+Mcs}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Mcs}{m_dlMcs}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Lte\+Interference\+Test\+Case\+::m\+\_\+dl\+Mcs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteInterferenceTestCase_a30cae7c88e7a397b7e0f5391f25d165a}{}\label{classLteInterferenceTestCase_a30cae7c88e7a397b7e0f5391f25d165a}
\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!m\+\_\+expected\+Dl\+Sinr\+Db@{m\+\_\+expected\+Dl\+Sinr\+Db}}
\index{m\+\_\+expected\+Dl\+Sinr\+Db@{m\+\_\+expected\+Dl\+Sinr\+Db}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+expected\+Dl\+Sinr\+Db}{m_expectedDlSinrDb}}]{\setlength{\rightskip}{0pt plus 5cm}double Lte\+Interference\+Test\+Case\+::m\+\_\+expected\+Dl\+Sinr\+Db\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteInterferenceTestCase_a2524e1bc84780c6e3df394e9650d9e10}{}\label{classLteInterferenceTestCase_a2524e1bc84780c6e3df394e9650d9e10}
\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!m\+\_\+expected\+Ul\+Sinr\+Db@{m\+\_\+expected\+Ul\+Sinr\+Db}}
\index{m\+\_\+expected\+Ul\+Sinr\+Db@{m\+\_\+expected\+Ul\+Sinr\+Db}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+expected\+Ul\+Sinr\+Db}{m_expectedUlSinrDb}}]{\setlength{\rightskip}{0pt plus 5cm}double Lte\+Interference\+Test\+Case\+::m\+\_\+expected\+Ul\+Sinr\+Db\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteInterferenceTestCase_a5aa9fa527027dc6d168e72f7b2b3f8a8}{}\label{classLteInterferenceTestCase_a5aa9fa527027dc6d168e72f7b2b3f8a8}
\index{Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}!m\+\_\+ul\+Mcs@{m\+\_\+ul\+Mcs}}
\index{m\+\_\+ul\+Mcs@{m\+\_\+ul\+Mcs}!Lte\+Interference\+Test\+Case@{Lte\+Interference\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Mcs}{m_ulMcs}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Lte\+Interference\+Test\+Case\+::m\+\_\+ul\+Mcs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLteInterferenceTestCase_ae9b735d97696042105ca16ad0bf9b6fd}{}\label{classLteInterferenceTestCase_ae9b735d97696042105ca16ad0bf9b6fd}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/test/\hyperlink{lte-test-interference_8h}{lte-\/test-\/interference.\+h}\item 
lte/test/\hyperlink{lte-test-interference_8cc}{lte-\/test-\/interference.\+cc}\end{DoxyCompactItemize}
