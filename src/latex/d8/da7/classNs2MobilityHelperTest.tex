\hypertarget{classNs2MobilityHelperTest}{}\section{Ns2\+Mobility\+Helper\+Test Class Reference}
\label{classNs2MobilityHelperTest}\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}


Every test case is supposed to\+:  




Inheritance diagram for Ns2\+Mobility\+Helper\+Test\+:
% FIG 0


Collaboration diagram for Ns2\+Mobility\+Helper\+Test\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structNs2MobilityHelperTest_1_1ReferencePoint}{Reference\+Point}
\begin{DoxyCompactList}\small\item\em Single record in mobility reference. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classNs2MobilityHelperTest_ac2293fea78abe49683b222a857034ae1}{Ns2\+Mobility\+Helper\+Test} (std\+::string const \&\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, \hyperlink{classns3_1_1Time}{Time} time\+Limit, uint32\+\_\+t \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes}=1)
\item 
virtual \hyperlink{classNs2MobilityHelperTest_ac341ed3ee4006ebfacfad532fc6608dd}{$\sim$\+Ns2\+Mobility\+Helper\+Test} ()
\begin{DoxyCompactList}\small\item\em Empty. \end{DoxyCompactList}\item 
void \hyperlink{classNs2MobilityHelperTest_aa09d98189a8e0797c0fa8f197071758c}{Set\+Trace} (std\+::string const \&trace)
\begin{DoxyCompactList}\small\item\em Set N\+S-\/2 trace to read as single large string (don\textquotesingle{}t forget to add \textbackslash{}n and quote "\textquotesingle{}s) \end{DoxyCompactList}\item 
void \hyperlink{classNs2MobilityHelperTest_a8ee4cd8ee100580f80b5c95c5dabcf73}{Add\+Reference\+Point} (\hyperlink{structNs2MobilityHelperTest_1_1ReferencePoint}{Reference\+Point} const \&r)
\begin{DoxyCompactList}\small\item\em Add next reference point. \end{DoxyCompactList}\item 
void \hyperlink{classNs2MobilityHelperTest_a25d2e23f6e4230a9cab888d264269c62}{Add\+Reference\+Point} (const char $\ast$id, double sec, Vector const \&\hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p}, Vector const \&v)
\begin{DoxyCompactList}\small\item\em Sugar. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classNs2MobilityHelperTest_a47c41a5bc87d3bca10ce9ea70fdc8806}{Write\+Trace} ()
\begin{DoxyCompactList}\small\item\em Dump N\+S-\/2 trace to tmp file. \end{DoxyCompactList}\item 
void \hyperlink{classNs2MobilityHelperTest_a7246bcc36ef8d9e61e45fabaae5ae47a}{Create\+Nodes} ()
\begin{DoxyCompactList}\small\item\em Create and name nodes. \end{DoxyCompactList}\item 
bool \hyperlink{classNs2MobilityHelperTest_a243a7724198f1922c9a9510650a9262f}{Check\+Initial\+Positions} ()
\begin{DoxyCompactList}\small\item\em Check that all initial positions are correct. \end{DoxyCompactList}\item 
void \hyperlink{classNs2MobilityHelperTest_a39ff55c6aff8f6afae543a4d439fbe1b}{Course\+Change} (std\+::string context, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ mobility)
\begin{DoxyCompactList}\small\item\em Listen for course change events. \end{DoxyCompactList}\item 
void \hyperlink{classNs2MobilityHelperTest_a9b5e012631ac56c227643e6990269b7e}{Do\+Setup} ()
\begin{DoxyCompactList}\small\item\em Implementation to do any local setup required for this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classNs2MobilityHelperTest_a28be948759976bf88e6241fab01b794b}{Do\+Teardown} ()
\begin{DoxyCompactList}\small\item\em Implementation to do any local setup required for this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classNs2MobilityHelperTest_aa79cdb96d0a0882645114e6a088e8d60}{Do\+Run} ()
\begin{DoxyCompactList}\small\item\em Go. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classNs2MobilityHelperTest_a634f61620a7cc01812c51169878f1704}{m\+\_\+time\+Limit}
\begin{DoxyCompactList}\small\item\em Test time limit. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classNs2MobilityHelperTest_ac9a12b3a0ed8021cabe9842ba39a8b0e}{m\+\_\+node\+Count}
\begin{DoxyCompactList}\small\item\em Number of nodes used in the test. \end{DoxyCompactList}\item 
std\+::string \hyperlink{classNs2MobilityHelperTest_a50e34459c6cde5f834f874284687f71a}{m\+\_\+trace}
\begin{DoxyCompactList}\small\item\em Trace as string. \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{structNs2MobilityHelperTest_1_1ReferencePoint}{Reference\+Point} $>$ \hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\+\_\+reference}
\begin{DoxyCompactList}\small\item\em Reference mobility. \end{DoxyCompactList}\item 
size\+\_\+t \hyperlink{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}{m\+\_\+next\+Ref\+Point}
\begin{DoxyCompactList}\small\item\em Next reference point to be checked. \end{DoxyCompactList}\item 
std\+::string \hyperlink{classNs2MobilityHelperTest_a1bc1788ddcd0eb7ecf3e7d254afcd453}{m\+\_\+trace\+File}
\begin{DoxyCompactList}\small\item\em T\+MP trace file name. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Every test case is supposed to\+: 


\begin{DoxyEnumerate}
\item Generate short mobility trace file
\item Read it back using Ns2\+Mobility\+Helper
\item Check initial node positions and speeds.
\item Run simulation listening for all Course\+Change events and compare actual mobility with the reference 
\end{DoxyEnumerate}

\subsection{Constructor \& Destructor Documentation}
\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Ns2\+Mobility\+Helper\+Test(std\+::string const \&name, Time time\+Limit, uint32\+\_\+t nodes=1)}{Ns2MobilityHelperTest(std::string const &name, Time timeLimit, uint32_t nodes=1)}}]{\setlength{\rightskip}{0pt plus 5cm}Ns2\+Mobility\+Helper\+Test\+::\+Ns2\+Mobility\+Helper\+Test (
\begin{DoxyParamCaption}
\item[{std\+::string const \&}]{name, }
\item[{{\bf Time}}]{time\+Limit, }
\item[{uint32\+\_\+t}]{nodes = {\ttfamily 1}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classNs2MobilityHelperTest_ac2293fea78abe49683b222a857034ae1}{}\label{classNs2MobilityHelperTest_ac2293fea78abe49683b222a857034ae1}
Create new test case. To make it useful Set\+Trace () and Add\+Reference\+Point () must be called


\begin{DoxyParams}{Parameters}
{\em name} & Short description \\
\hline
{\em time\+Limit} & Test time limit \\
\hline
{\em nodes} & Number of nodes used in the test trace, 1 by default \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
126     : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}),
127       \hyperlink{classNs2MobilityHelperTest_a634f61620a7cc01812c51169878f1704}{m\_timeLimit} (timeLimit),
128       \hyperlink{classNs2MobilityHelperTest_ac9a12b3a0ed8021cabe9842ba39a8b0e}{m\_nodeCount} (\hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes}),
129       \hyperlink{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}{m\_nextRefPoint} (0)
130   \{
131   \}
\end{DoxyCode}
\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!````~Ns2\+Mobility\+Helper\+Test@{$\sim$\+Ns2\+Mobility\+Helper\+Test}}
\index{````~Ns2\+Mobility\+Helper\+Test@{$\sim$\+Ns2\+Mobility\+Helper\+Test}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{$\sim$\+Ns2\+Mobility\+Helper\+Test()}{~Ns2MobilityHelperTest()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual Ns2\+Mobility\+Helper\+Test\+::$\sim$\+Ns2\+Mobility\+Helper\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classNs2MobilityHelperTest_ac341ed3ee4006ebfacfad532fc6608dd}{}\label{classNs2MobilityHelperTest_ac341ed3ee4006ebfacfad532fc6608dd}


Empty. 


\begin{DoxyCode}
134   \{
135   \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Add\+Reference\+Point@{Add\+Reference\+Point}}
\index{Add\+Reference\+Point@{Add\+Reference\+Point}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Add\+Reference\+Point(\+Reference\+Point const \&r)}{AddReferencePoint(ReferencePoint const &r)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns2\+Mobility\+Helper\+Test\+::\+Add\+Reference\+Point (
\begin{DoxyParamCaption}
\item[{{\bf Reference\+Point} const \&}]{r}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classNs2MobilityHelperTest_a8ee4cd8ee100580f80b5c95c5dabcf73}{}\label{classNs2MobilityHelperTest_a8ee4cd8ee100580f80b5c95c5dabcf73}


Add next reference point. 


\begin{DoxyCode}
143   \{
144     \hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\_reference}.push\_back (r);
145   \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Add\+Reference\+Point@{Add\+Reference\+Point}}
\index{Add\+Reference\+Point@{Add\+Reference\+Point}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Add\+Reference\+Point(const char $\ast$id, double sec, Vector const \&p, Vector const \&v)}{AddReferencePoint(const char *id, double sec, Vector const &p, Vector const &v)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns2\+Mobility\+Helper\+Test\+::\+Add\+Reference\+Point (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{id, }
\item[{double}]{sec, }
\item[{Vector const \&}]{p, }
\item[{Vector const \&}]{v}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classNs2MobilityHelperTest_a25d2e23f6e4230a9cab888d264269c62}{}\label{classNs2MobilityHelperTest_a25d2e23f6e4230a9cab888d264269c62}


Sugar. 


\begin{DoxyCode}
148   \{
149     \hyperlink{classNs2MobilityHelperTest_a8ee4cd8ee100580f80b5c95c5dabcf73}{AddReferencePoint} (ReferencePoint (\textcolor{keywordtype}{id}, \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (sec), 
      \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p}, v));
150   \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Check\+Initial\+Positions@{Check\+Initial\+Positions}}
\index{Check\+Initial\+Positions@{Check\+Initial\+Positions}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Check\+Initial\+Positions()}{CheckInitialPositions()}}]{\setlength{\rightskip}{0pt plus 5cm}bool Ns2\+Mobility\+Helper\+Test\+::\+Check\+Initial\+Positions (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\hypertarget{classNs2MobilityHelperTest_a243a7724198f1922c9a9510650a9262f}{}\label{classNs2MobilityHelperTest_a243a7724198f1922c9a9510650a9262f}


Check that all initial positions are correct. 


\begin{DoxyCode}
191   \{
192     std::stable\_sort (\hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\_reference}.begin (), \hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\_reference}.end ());
193     \textcolor{keywordflow}{while} (\hyperlink{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}{m\_nextRefPoint} < \hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\_reference}.size () && 
      \hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\_reference}[\hyperlink{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}{m\_nextRefPoint}].time == \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0))
194       \{
195         ReferencePoint \textcolor{keyword}{const} & rp = \hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\_reference}[\hyperlink{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}{m\_nextRefPoint}];
196         \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node = Names::Find<Node> (rp.node);
197         \hyperlink{group__testing_gaa4fda41a38a289730206f1f77d5c10ef}{NS\_TEST\_ASSERT\_MSG\_NE\_RETURNS\_BOOL} (node, 0, \textcolor{stringliteral}{"Can't find node
       with id "} << rp.node);
198         \hyperlink{classns3_1_1Ptr}{Ptr<MobilityModel>} mob = node->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ();
199         \hyperlink{group__testing_gaa4fda41a38a289730206f1f77d5c10ef}{NS\_TEST\_ASSERT\_MSG\_NE\_RETURNS\_BOOL} (mob, 0, \textcolor{stringliteral}{"Can't find mobility
       for node "} << rp.node);
200 
201         \textcolor{keywordtype}{double} tol = 0.001;
202         \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{ns2-mobility-helper-test-suite_8cc_aa7f82ab82ef67d0333c5aeb6045116f0}{AreVectorsEqual} (mob->
      \hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition} (), rp.pos, tol), \textcolor{keyword}{true}, \textcolor{stringliteral}{"Initial position mismatch for node "} << rp.node);
203         \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{ns2-mobility-helper-test-suite_8cc_aa7f82ab82ef67d0333c5aeb6045116f0}{AreVectorsEqual} (mob->
      \hyperlink{classns3_1_1MobilityModel_a77004c56b45773bf57bdd3750887ced3}{GetVelocity} (), rp.vel, tol), \textcolor{keyword}{true}, \textcolor{stringliteral}{"Initial velocity mismatch for node "} << rp.node);
204 
205         \hyperlink{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}{m\_nextRefPoint}++;
206       \}
207     \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TestCase_a84802776ad3c5810765c720f13116ed6}{IsStatusFailure} ();
208   \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Course\+Change@{Course\+Change}}
\index{Course\+Change@{Course\+Change}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Course\+Change(std\+::string context, Ptr$<$ const Mobility\+Model $>$ mobility)}{CourseChange(std::string context, Ptr< const MobilityModel > mobility)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns2\+Mobility\+Helper\+Test\+::\+Course\+Change (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{{\bf Ptr}$<$ const {\bf Mobility\+Model} $>$}]{mobility}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\hypertarget{classNs2MobilityHelperTest_a39ff55c6aff8f6afae543a4d439fbe1b}{}\label{classNs2MobilityHelperTest_a39ff55c6aff8f6afae543a4d439fbe1b}


Listen for course change events. 


\begin{DoxyCode}
211   \{
212     \hyperlink{classns3_1_1Time}{Time} time = \hyperlink{group__simulator_gac3635e2e87f7ce316c89290ee1b01d0d}{Simulator::Now} ();
213     \hyperlink{classns3_1_1Ptr}{Ptr<Node>} node = mobility->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Node}{Node}> ();
214     \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (node);
215     std::string \textcolor{keywordtype}{id} = Names::FindName (node);
216     \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (!\textcolor{keywordtype}{id}.\hyperlink{classns3_1_1empty}{empty} ());
217     Vector pos = mobility->\hyperlink{classns3_1_1MobilityModel_aba838f06ec5bbb2d193d94b8c0e4abb4}{GetPosition} ();
218     Vector vel = mobility->\hyperlink{classns3_1_1MobilityModel_a77004c56b45773bf57bdd3750887ced3}{GetVelocity} ();
219 
220     \hyperlink{group__testing_ga5e7f81b9d00df9c727e6281e1b1bbc55}{NS\_TEST\_EXPECT\_MSG\_LT} (\hyperlink{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}{m\_nextRefPoint}, 
      \hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\_reference}.size (), \textcolor{stringliteral}{"Not enough reference points"});
221     \textcolor{keywordflow}{if} (\hyperlink{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}{m\_nextRefPoint} >= \hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\_reference}.size ())
222       \{
223         \textcolor{keywordflow}{return};
224       \}
225 
226     ReferencePoint \textcolor{keyword}{const} & ref = \hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\_reference} [\hyperlink{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}{m\_nextRefPoint}++];
227     \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (time, ref.time, \textcolor{stringliteral}{"Time mismatch"});
228     \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\textcolor{keywordtype}{id}, ref.node, \textcolor{stringliteral}{"Node ID mismatch at time "} << time.
      \hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () << \textcolor{stringliteral}{" s"});
229 
230     \textcolor{keywordtype}{double} tol = 0.001;
231     \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{ns2-mobility-helper-test-suite_8cc_aa7f82ab82ef67d0333c5aeb6045116f0}{AreVectorsEqual} (pos, ref.pos, tol), \textcolor{keyword}{true}, \textcolor{stringliteral}{"
      Position mismatch at time "} << time.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () << \textcolor{stringliteral}{" s for node "} << id);
232     \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{ns2-mobility-helper-test-suite_8cc_aa7f82ab82ef67d0333c5aeb6045116f0}{AreVectorsEqual} (vel, ref.vel, tol), \textcolor{keyword}{true}, \textcolor{stringliteral}{"
      Velocity mismatch at time "} << time.\hyperlink{classns3_1_1Time_a8f20d5c3b0902d7b4320982f340b57c8}{GetSeconds} () << \textcolor{stringliteral}{" s for node "} << id);
233   \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Create\+Nodes@{Create\+Nodes}}
\index{Create\+Nodes@{Create\+Nodes}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Create\+Nodes()}{CreateNodes()}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns2\+Mobility\+Helper\+Test\+::\+Create\+Nodes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\hypertarget{classNs2MobilityHelperTest_a7246bcc36ef8d9e61e45fabaae5ae47a}{}\label{classNs2MobilityHelperTest_a7246bcc36ef8d9e61e45fabaae5ae47a}


Create and name nodes. 


\begin{DoxyCode}
179   \{
180     \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes};
181     nodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (\hyperlink{classNs2MobilityHelperTest_ac9a12b3a0ed8021cabe9842ba39a8b0e}{m\_nodeCount});
182     \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classNs2MobilityHelperTest_ac9a12b3a0ed8021cabe9842ba39a8b0e}{m\_nodeCount}; ++\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
183       \{
184         std::ostringstream os;
185         os << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
186         Names::Add (os.str (), nodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (i));
187       \}
188   \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7


\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run()}{DoRun()}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns2\+Mobility\+Helper\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classNs2MobilityHelperTest_aa79cdb96d0a0882645114e6a088e8d60}{}\label{classNs2MobilityHelperTest_aa79cdb96d0a0882645114e6a088e8d60}


Go. 



Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
248   \{
249     \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classNs2MobilityHelperTest_a50e34459c6cde5f834f874284687f71a}{m\_trace}.empty (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Need trace"});
250     \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{m\_reference}.empty (), \textcolor{keyword}{false}, \textcolor{stringliteral}{"Need reference"});
251 
252     \textcolor{keywordflow}{if} (\hyperlink{classNs2MobilityHelperTest_a47c41a5bc87d3bca10ce9ea70fdc8806}{WriteTrace} ())
253       \{
254         \textcolor{keywordflow}{return};
255       \}
256     \hyperlink{classns3_1_1Ns2MobilityHelper}{Ns2MobilityHelper} mobility (\hyperlink{classNs2MobilityHelperTest_a1bc1788ddcd0eb7ecf3e7d254afcd453}{m\_traceFile});
257     mobility.Install ();
258     \textcolor{keywordflow}{if} (\hyperlink{classNs2MobilityHelperTest_a243a7724198f1922c9a9510650a9262f}{CheckInitialPositions} ())
259       \{
260         \textcolor{keywordflow}{return};
261       \}
262     \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/$ns3::MobilityModel/CourseChange"},
263                      \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classNs2MobilityHelperTest_a39ff55c6aff8f6afae543a4d439fbe1b}{Ns2MobilityHelperTest::CourseChange}, \textcolor{keyword}{this}));
264     Simulator::Stop (\hyperlink{classNs2MobilityHelperTest_a634f61620a7cc01812c51169878f1704}{m\_timeLimit});
265     Simulator::Run ();
266   \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 8


\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Do\+Setup@{Do\+Setup}}
\index{Do\+Setup@{Do\+Setup}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Do\+Setup()}{DoSetup()}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns2\+Mobility\+Helper\+Test\+::\+Do\+Setup (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classNs2MobilityHelperTest_a9b5e012631ac56c227643e6990269b7e}{}\label{classNs2MobilityHelperTest_a9b5e012631ac56c227643e6990269b7e}


Implementation to do any local setup required for this Test\+Case. 

Subclasses should override this method to perform any costly per-\/test setup before Do\+Run is invoked. 

Reimplemented from \hyperlink{classns3_1_1TestCase_a4a7e32ad32a10a508910815cd38e9177}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
236   \{
237     \hyperlink{classNs2MobilityHelperTest_a7246bcc36ef8d9e61e45fabaae5ae47a}{CreateNodes} ();
238   \}
\end{DoxyCode}
\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Do\+Teardown@{Do\+Teardown}}
\index{Do\+Teardown@{Do\+Teardown}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Do\+Teardown()}{DoTeardown()}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns2\+Mobility\+Helper\+Test\+::\+Do\+Teardown (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classNs2MobilityHelperTest_a28be948759976bf88e6241fab01b794b}{}\label{classNs2MobilityHelperTest_a28be948759976bf88e6241fab01b794b}


Implementation to do any local setup required for this Test\+Case. 

Subclasses should override this method to perform any costly per-\/test teardown 

Reimplemented from \hyperlink{classns3_1_1TestCase_a8917f1604e28d312a8086f76291e3c46}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
241   \{
242     Names::Clear ();
243     Simulator::Destroy ();
244   \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9


\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Set\+Trace@{Set\+Trace}}
\index{Set\+Trace@{Set\+Trace}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Set\+Trace(std\+::string const \&trace)}{SetTrace(std::string const &trace)}}]{\setlength{\rightskip}{0pt plus 5cm}void Ns2\+Mobility\+Helper\+Test\+::\+Set\+Trace (
\begin{DoxyParamCaption}
\item[{std\+::string const \&}]{trace}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classNs2MobilityHelperTest_aa09d98189a8e0797c0fa8f197071758c}{}\label{classNs2MobilityHelperTest_aa09d98189a8e0797c0fa8f197071758c}


Set N\+S-\/2 trace to read as single large string (don\textquotesingle{}t forget to add \textbackslash{}n and quote "\textquotesingle{}s) 


\begin{DoxyCode}
138   \{
139     \hyperlink{classNs2MobilityHelperTest_a50e34459c6cde5f834f874284687f71a}{m\_trace} = trace;
140   \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 10


\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!Write\+Trace@{Write\+Trace}}
\index{Write\+Trace@{Write\+Trace}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{Write\+Trace()}{WriteTrace()}}]{\setlength{\rightskip}{0pt plus 5cm}bool Ns2\+Mobility\+Helper\+Test\+::\+Write\+Trace (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\hypertarget{classNs2MobilityHelperTest_a47c41a5bc87d3bca10ce9ea70fdc8806}{}\label{classNs2MobilityHelperTest_a47c41a5bc87d3bca10ce9ea70fdc8806}


Dump N\+S-\/2 trace to tmp file. 


\begin{DoxyCode}
169   \{
170     \hyperlink{classNs2MobilityHelperTest_a1bc1788ddcd0eb7ecf3e7d254afcd453}{m\_traceFile} = \hyperlink{classns3_1_1TestCase_a8a04695a6fb9ba0f89e28e9523963f88}{CreateTempDirFilename} (\textcolor{stringliteral}{"Ns2MobilityHelperTest.tcl"});
171     std::ofstream of (\hyperlink{classNs2MobilityHelperTest_a1bc1788ddcd0eb7ecf3e7d254afcd453}{m\_traceFile}.c\_str ());
172     \hyperlink{group__testing_ga5649dddde97a42ddfd4cd88aa53b37c6}{NS\_TEST\_ASSERT\_MSG\_EQ\_RETURNS\_BOOL} (of.is\_open (), \textcolor{keyword}{true}, \textcolor{stringliteral}{"Need to
       write tmp. file"});
173     of << \hyperlink{classNs2MobilityHelperTest_a50e34459c6cde5f834f874284687f71a}{m\_trace};
174     of.close ();
175     \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \textcolor{comment}{// no errors}
176   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!m\+\_\+next\+Ref\+Point@{m\+\_\+next\+Ref\+Point}}
\index{m\+\_\+next\+Ref\+Point@{m\+\_\+next\+Ref\+Point}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+next\+Ref\+Point}{m_nextRefPoint}}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t Ns2\+Mobility\+Helper\+Test\+::m\+\_\+next\+Ref\+Point\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}{}\label{classNs2MobilityHelperTest_a5de4e64d6aa254ea6015cc6deb6e0de4}


Next reference point to be checked. 

\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!m\+\_\+node\+Count@{m\+\_\+node\+Count}}
\index{m\+\_\+node\+Count@{m\+\_\+node\+Count}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+node\+Count}{m_nodeCount}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Ns2\+Mobility\+Helper\+Test\+::m\+\_\+node\+Count\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classNs2MobilityHelperTest_ac9a12b3a0ed8021cabe9842ba39a8b0e}{}\label{classNs2MobilityHelperTest_ac9a12b3a0ed8021cabe9842ba39a8b0e}


Number of nodes used in the test. 

\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!m\+\_\+reference@{m\+\_\+reference}}
\index{m\+\_\+reference@{m\+\_\+reference}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+reference}{m_reference}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Reference\+Point}$>$ Ns2\+Mobility\+Helper\+Test\+::m\+\_\+reference\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}{}\label{classNs2MobilityHelperTest_a65ba0d596846b8035a7d75c26192d43e}


Reference mobility. 

\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!m\+\_\+time\+Limit@{m\+\_\+time\+Limit}}
\index{m\+\_\+time\+Limit@{m\+\_\+time\+Limit}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+time\+Limit}{m_timeLimit}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} Ns2\+Mobility\+Helper\+Test\+::m\+\_\+time\+Limit\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classNs2MobilityHelperTest_a634f61620a7cc01812c51169878f1704}{}\label{classNs2MobilityHelperTest_a634f61620a7cc01812c51169878f1704}


Test time limit. 

\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!m\+\_\+trace@{m\+\_\+trace}}
\index{m\+\_\+trace@{m\+\_\+trace}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+trace}{m_trace}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Ns2\+Mobility\+Helper\+Test\+::m\+\_\+trace\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classNs2MobilityHelperTest_a50e34459c6cde5f834f874284687f71a}{}\label{classNs2MobilityHelperTest_a50e34459c6cde5f834f874284687f71a}


Trace as string. 

\index{Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}!m\+\_\+trace\+File@{m\+\_\+trace\+File}}
\index{m\+\_\+trace\+File@{m\+\_\+trace\+File}!Ns2\+Mobility\+Helper\+Test@{Ns2\+Mobility\+Helper\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+trace\+File}{m_traceFile}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Ns2\+Mobility\+Helper\+Test\+::m\+\_\+trace\+File\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classNs2MobilityHelperTest_a1bc1788ddcd0eb7ecf3e7d254afcd453}{}\label{classNs2MobilityHelperTest_a1bc1788ddcd0eb7ecf3e7d254afcd453}


T\+MP trace file name. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
mobility/test/\hyperlink{ns2-mobility-helper-test-suite_8cc}{ns2-\/mobility-\/helper-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
