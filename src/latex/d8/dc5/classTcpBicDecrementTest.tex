\hypertarget{classTcpBicDecrementTest}{}\section{Tcp\+Bic\+Decrement\+Test Class Reference}
\label{classTcpBicDecrementTest}\index{Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}}


Testing the congestion avoidance decrement on Tcp\+Bic.  




Inheritance diagram for Tcp\+Bic\+Decrement\+Test\+:
% FIG 0


Collaboration diagram for Tcp\+Bic\+Decrement\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTcpBicDecrementTest_ace79e0062557a4d442f59d1a6a8c8549}{Tcp\+Bic\+Decrement\+Test} (uint32\+\_\+t c\+Wnd, uint32\+\_\+t segment\+Size, \hyperlink{classns3_1_1BooleanValue}{Boolean\+Value} fast\+Convergence, uint32\+\_\+t last\+Max\+Cwnd, const std\+::string \&\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name})
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classTcpBicDecrementTest_ac402ffc36b63361b8abd4935d043f48d}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classTcpBicDecrementTest_ac43685ed144fb8439ad966e912d25248}{Execute\+Test} (void)
\begin{DoxyCompactList}\small\item\em Execute the test. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classTcpBicDecrementTest_a1facb1a7596141c8a5e49af8ebad7261}{m\+\_\+c\+Wnd}
\begin{DoxyCompactList}\small\item\em Congestion window. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classTcpBicDecrementTest_a6430400f92d1bcb3832692cdb4936475}{m\+\_\+segment\+Size}
\begin{DoxyCompactList}\small\item\em Segment size. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1BooleanValue}{Boolean\+Value} \hyperlink{classTcpBicDecrementTest_ab7843c294958bc856516bd2713edce99}{m\+\_\+fast\+Convergence}
\begin{DoxyCompactList}\small\item\em Fast convergence. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classTcpBicDecrementTest_a821e60a1b65ae88f0659eaa45225ca1b}{m\+\_\+last\+Max\+Cwnd}
\begin{DoxyCompactList}\small\item\em Last max Cwnd. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1TcpSocketState}{Tcp\+Socket\+State} $>$ \hyperlink{classTcpBicDecrementTest_a917e5a2c5da454fc06ee7d5be6814d47}{m\+\_\+state}
\begin{DoxyCompactList}\small\item\em T\+CP socket state. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Testing the congestion avoidance decrement on Tcp\+Bic. 

\subsection{Constructor \& Destructor Documentation}
\index{Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}!Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}}
\index{Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}!Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}}
\subsubsection[{\texorpdfstring{Tcp\+Bic\+Decrement\+Test(uint32\+\_\+t c\+Wnd, uint32\+\_\+t segment\+Size, Boolean\+Value fast\+Convergence, uint32\+\_\+t last\+Max\+Cwnd, const std\+::string \&name)}{TcpBicDecrementTest(uint32_t cWnd, uint32_t segmentSize, BooleanValue fastConvergence, uint32_t lastMaxCwnd, const std::string &name)}}]{\setlength{\rightskip}{0pt plus 5cm}Tcp\+Bic\+Decrement\+Test\+::\+Tcp\+Bic\+Decrement\+Test (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{c\+Wnd, }
\item[{uint32\+\_\+t}]{segment\+Size, }
\item[{{\bf Boolean\+Value}}]{fast\+Convergence, }
\item[{uint32\+\_\+t}]{last\+Max\+Cwnd, }
\item[{const std\+::string \&}]{name}
\end{DoxyParamCaption}
)}\hypertarget{classTcpBicDecrementTest_ace79e0062557a4d442f59d1a6a8c8549}{}\label{classTcpBicDecrementTest_ace79e0062557a4d442f59d1a6a8c8549}


Constructor. 


\begin{DoxyParams}{Parameters}
{\em c\+Wnd} & Congestion window. \\
\hline
{\em segment\+Size} & Segment size. \\
\hline
{\em fast\+Convergence} & Fast convergence. \\
\hline
{\em last\+Max\+Cwnd} & Last max Cwnd. \\
\hline
{\em name} & Test description. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
234   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}),
235     \hyperlink{classTcpBicDecrementTest_a1facb1a7596141c8a5e49af8ebad7261}{m\_cWnd} (cWnd),
236     \hyperlink{classTcpBicDecrementTest_a6430400f92d1bcb3832692cdb4936475}{m\_segmentSize} (segmentSize),
237     \hyperlink{classTcpBicDecrementTest_ab7843c294958bc856516bd2713edce99}{m\_fastConvergence} (fastConvergence),
238     \hyperlink{classTcpBicDecrementTest_a821e60a1b65ae88f0659eaa45225ca1b}{m\_lastMaxCwnd} (lastMaxCwnd)
239 \{
240 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Bic\+Decrement\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classTcpBicDecrementTest_ac402ffc36b63361b8abd4935d043f48d}{}\label{classTcpBicDecrementTest_ac402ffc36b63361b8abd4935d043f48d}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
244 \{
245   \hyperlink{classTcpBicDecrementTest_a917e5a2c5da454fc06ee7d5be6814d47}{m\_state} = CreateObject<TcpSocketState> ();
246 
247   \hyperlink{classTcpBicDecrementTest_a917e5a2c5da454fc06ee7d5be6814d47}{m\_state}->\hyperlink{classns3_1_1TcpSocketState_a7cd3d2156a483c1db436097477a0fd7f}{m\_cWnd} = \hyperlink{classTcpBicDecrementTest_a1facb1a7596141c8a5e49af8ebad7261}{m\_cWnd};
248   \hyperlink{classTcpBicDecrementTest_a917e5a2c5da454fc06ee7d5be6814d47}{m\_state}->\hyperlink{classns3_1_1TcpSocketState_a079872f7b0099ef5f3cab4ff47bd2edd}{m\_segmentSize} = \hyperlink{classTcpBicDecrementTest_a6430400f92d1bcb3832692cdb4936475}{m\_segmentSize};
249 
250   Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0), &\hyperlink{classTcpBicDecrementTest_ac43685ed144fb8439ad966e912d25248}{TcpBicDecrementTest::ExecuteTest}
      , \textcolor{keyword}{this});
251   Simulator::Run ();
252   Simulator::Destroy ();
253 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}!Execute\+Test@{Execute\+Test}}
\index{Execute\+Test@{Execute\+Test}!Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}}
\subsubsection[{\texorpdfstring{Execute\+Test(void)}{ExecuteTest(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Tcp\+Bic\+Decrement\+Test\+::\+Execute\+Test (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpBicDecrementTest_ac43685ed144fb8439ad966e912d25248}{}\label{classTcpBicDecrementTest_ac43685ed144fb8439ad966e912d25248}


Execute the test. 


\begin{DoxyCode}
257 \{
258   \hyperlink{classns3_1_1Ptr}{Ptr<TcpBic>} cong = CreateObject <TcpBic> ();
259   cong->\hyperlink{classns3_1_1TcpBic_a082025c05e83dcddab77a6e3209cd4eb}{m\_lastMaxCwnd} = \hyperlink{classTcpBicDecrementTest_a821e60a1b65ae88f0659eaa45225ca1b}{m\_lastMaxCwnd};
260   cong->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"FastConvergence"}, \hyperlink{classTcpBicDecrementTest_ab7843c294958bc856516bd2713edce99}{m\_fastConvergence});
261 
262   uint32\_t segCwnd = \hyperlink{classTcpBicDecrementTest_a1facb1a7596141c8a5e49af8ebad7261}{m\_cWnd} / \hyperlink{classTcpBicDecrementTest_a6430400f92d1bcb3832692cdb4936475}{m\_segmentSize};
263   uint32\_t retSsThresh = cong->\hyperlink{classns3_1_1TcpBic_aaec211ef4f1624860911aaf544ac9650}{GetSsThresh} (\hyperlink{classTcpBicDecrementTest_a917e5a2c5da454fc06ee7d5be6814d47}{m\_state}, \hyperlink{classTcpBicDecrementTest_a917e5a2c5da454fc06ee7d5be6814d47}{m\_state}->
      \hyperlink{classns3_1_1TcpSocketState_a7cd3d2156a483c1db436097477a0fd7f}{m\_cWnd});
264   uint32\_t retLastMaxCwnd = cong->\hyperlink{classns3_1_1TcpBic_a082025c05e83dcddab77a6e3209cd4eb}{m\_lastMaxCwnd};
265 
266   DoubleValue beta;
267   UintegerValue lowWindow;
268   cong->\hyperlink{classns3_1_1ObjectBase_a895d1de2f96063d0e0fd78463e7a7e30}{GetAttribute} (\textcolor{stringliteral}{"Beta"}, beta);
269   cong->\hyperlink{classns3_1_1ObjectBase_a895d1de2f96063d0e0fd78463e7a7e30}{GetAttribute} (\textcolor{stringliteral}{"LowWnd"}, lowWindow);
270 
271   uint32\_t lastMaxCwnd, ssThresh;
272 
273   \textcolor{keywordflow}{if} (segCwnd < \hyperlink{classTcpBicDecrementTest_a821e60a1b65ae88f0659eaa45225ca1b}{m\_lastMaxCwnd} && \hyperlink{classTcpBicDecrementTest_ab7843c294958bc856516bd2713edce99}{m\_fastConvergence}.
      \hyperlink{classns3_1_1BooleanValue_a15d5d96abfd11676964f40859442ec12}{Get} ())
274     \{
275       lastMaxCwnd = beta.Get () * segCwnd;
276       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (retLastMaxCwnd, lastMaxCwnd,
277                              \textcolor{stringliteral}{"Bic has not updated lastMaxCwnd during fast convergence"});
278     \}
279   \textcolor{keywordflow}{else}
280     \{
281       lastMaxCwnd = segCwnd;
282       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (retLastMaxCwnd, lastMaxCwnd,
283                              \textcolor{stringliteral}{"Bic has not reset lastMaxCwnd to current cwnd (in segments)"});
284     \}
285 
286 
287   \textcolor{keywordflow}{if} (segCwnd < lowWindow.Get ())
288     \{
289       ssThresh = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (2 * \hyperlink{classTcpBicDecrementTest_a6430400f92d1bcb3832692cdb4936475}{m\_segmentSize},  \hyperlink{classTcpBicDecrementTest_a1facb1a7596141c8a5e49af8ebad7261}{m\_cWnd} / 2);
290       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (retSsThresh, ssThresh,
291                              \textcolor{stringliteral}{"Bic has not updated ssThresh when cWnd less than lowWindow"});
292     \}
293   \textcolor{keywordflow}{else}
294     \{
295       ssThresh = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (segCwnd * beta.Get (), 2.0) * \hyperlink{classTcpBicDecrementTest_a6430400f92d1bcb3832692cdb4936475}{m\_segmentSize};
296       \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (retSsThresh, ssThresh,
297                              \textcolor{stringliteral}{"Bic has not updated ssThresh when cWnd greater than lowWindow"});
298     \}
299 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4




\subsection{Member Data Documentation}
\index{Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}!m\+\_\+c\+Wnd@{m\+\_\+c\+Wnd}}
\index{m\+\_\+c\+Wnd@{m\+\_\+c\+Wnd}!Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+c\+Wnd}{m_cWnd}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Bic\+Decrement\+Test\+::m\+\_\+c\+Wnd\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpBicDecrementTest_a1facb1a7596141c8a5e49af8ebad7261}{}\label{classTcpBicDecrementTest_a1facb1a7596141c8a5e49af8ebad7261}


Congestion window. 

\index{Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}!m\+\_\+fast\+Convergence@{m\+\_\+fast\+Convergence}}
\index{m\+\_\+fast\+Convergence@{m\+\_\+fast\+Convergence}!Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+fast\+Convergence}{m_fastConvergence}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Boolean\+Value} Tcp\+Bic\+Decrement\+Test\+::m\+\_\+fast\+Convergence\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpBicDecrementTest_ab7843c294958bc856516bd2713edce99}{}\label{classTcpBicDecrementTest_ab7843c294958bc856516bd2713edce99}


Fast convergence. 

\index{Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}!m\+\_\+last\+Max\+Cwnd@{m\+\_\+last\+Max\+Cwnd}}
\index{m\+\_\+last\+Max\+Cwnd@{m\+\_\+last\+Max\+Cwnd}!Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+last\+Max\+Cwnd}{m_lastMaxCwnd}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Bic\+Decrement\+Test\+::m\+\_\+last\+Max\+Cwnd\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpBicDecrementTest_a821e60a1b65ae88f0659eaa45225ca1b}{}\label{classTcpBicDecrementTest_a821e60a1b65ae88f0659eaa45225ca1b}


Last max Cwnd. 

\index{Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}!m\+\_\+segment\+Size@{m\+\_\+segment\+Size}}
\index{m\+\_\+segment\+Size@{m\+\_\+segment\+Size}!Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+segment\+Size}{m_segmentSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Tcp\+Bic\+Decrement\+Test\+::m\+\_\+segment\+Size\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpBicDecrementTest_a6430400f92d1bcb3832692cdb4936475}{}\label{classTcpBicDecrementTest_a6430400f92d1bcb3832692cdb4936475}


Segment size. 

\index{Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}!m\+\_\+state@{m\+\_\+state}}
\index{m\+\_\+state@{m\+\_\+state}!Tcp\+Bic\+Decrement\+Test@{Tcp\+Bic\+Decrement\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+state}{m_state}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Tcp\+Socket\+State}$>$ Tcp\+Bic\+Decrement\+Test\+::m\+\_\+state\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classTcpBicDecrementTest_a917e5a2c5da454fc06ee7d5be6814d47}{}\label{classTcpBicDecrementTest_a917e5a2c5da454fc06ee7d5be6814d47}


T\+CP socket state. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{tcp-bic-test_8cc}{tcp-\/bic-\/test.\+cc}\end{DoxyCompactItemize}
