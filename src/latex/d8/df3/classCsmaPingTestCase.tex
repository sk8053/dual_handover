\hypertarget{classCsmaPingTestCase}{}\section{Csma\+Ping\+Test\+Case Class Reference}
\label{classCsmaPingTestCase}\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}


Inheritance diagram for Csma\+Ping\+Test\+Case\+:
% FIG 0


Collaboration diagram for Csma\+Ping\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCsmaPingTestCase_a95beafc2f61854f668c4a344d7ba48bb}{Csma\+Ping\+Test\+Case} ()
\item 
virtual \hyperlink{classCsmaPingTestCase_a742406d1f6cc1f03fafa98f7019b1400}{$\sim$\+Csma\+Ping\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classCsmaPingTestCase_a975ad130eac1dcf501124552e1bc4e2c}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classCsmaPingTestCase_ac537bf5fee6173f5026b9a1c604008db}{Sink\+Rx} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p}, const \hyperlink{classns3_1_1Address}{Address} \&ad)
\item 
void \hyperlink{classCsmaPingTestCase_a1fba5d18722337de829fb4e7b5aa9ecb}{Ping\+Rtt} (std\+::string context, \hyperlink{classns3_1_1Time}{Time} rtt)
\item 
void \hyperlink{classCsmaPingTestCase_ac0424cf5af390940bf7de1557ce1ffb1}{Drop\+Event} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classCsmaPingTestCase_a94dad32dcfe85d5c58948e8a8f1a3af9}{m\+\_\+count\+Sink\+Rx}
\item 
uint32\+\_\+t \hyperlink{classCsmaPingTestCase_abbee80cec3b983c5abc7e2d75d489143}{m\+\_\+count\+Ping\+Rtt}
\item 
uint32\+\_\+t \hyperlink{classCsmaPingTestCase_a5923f425c74a68a4b31b7cda31278ce5}{m\+\_\+drops}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}!Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}
\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}!Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}
\subsubsection[{\texorpdfstring{Csma\+Ping\+Test\+Case()}{CsmaPingTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Csma\+Ping\+Test\+Case\+::\+Csma\+Ping\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classCsmaPingTestCase_a95beafc2f61854f668c4a344d7ba48bb}{}\label{classCsmaPingTestCase_a95beafc2f61854f668c4a344d7ba48bb}

\begin{DoxyCode}
690   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Ping example for Carrier Sense Multiple Access (CSMA) networks"}), 
      \hyperlink{classCsmaPingTestCase_a94dad32dcfe85d5c58948e8a8f1a3af9}{m\_countSinkRx} (0), \hyperlink{classCsmaPingTestCase_abbee80cec3b983c5abc7e2d75d489143}{m\_countPingRtt} (0), \hyperlink{classCsmaPingTestCase_a5923f425c74a68a4b31b7cda31278ce5}{m\_drops} (0)
691 \{
692 \}
\end{DoxyCode}
\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}!````~Csma\+Ping\+Test\+Case@{$\sim$\+Csma\+Ping\+Test\+Case}}
\index{````~Csma\+Ping\+Test\+Case@{$\sim$\+Csma\+Ping\+Test\+Case}!Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Csma\+Ping\+Test\+Case()}{~CsmaPingTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Csma\+Ping\+Test\+Case\+::$\sim$\+Csma\+Ping\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classCsmaPingTestCase_a742406d1f6cc1f03fafa98f7019b1400}{}\label{classCsmaPingTestCase_a742406d1f6cc1f03fafa98f7019b1400}

\begin{DoxyCode}
695 \{
696 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Csma\+Ping\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classCsmaPingTestCase_a975ad130eac1dcf501124552e1bc4e2c}{}\label{classCsmaPingTestCase_a975ad130eac1dcf501124552e1bc4e2c}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
727 \{
728   \textcolor{comment}{// Here, we will explicitly create four nodes.}
729   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
730   c.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (4);
731 
732   \textcolor{comment}{// connect all our nodes to a shared channel.}
733   \hyperlink{classns3_1_1CsmaHelper}{CsmaHelper} csma;
734   csma.\hyperlink{classns3_1_1CsmaHelper_a886d900b2fe44433e0b81752dea7e7f1}{SetChannelAttribute} (\textcolor{stringliteral}{"DataRate"}, DataRateValue (
      \hyperlink{classns3_1_1DataRate}{DataRate} (5000000)));
735   csma.\hyperlink{classns3_1_1CsmaHelper_a886d900b2fe44433e0b81752dea7e7f1}{SetChannelAttribute} (\textcolor{stringliteral}{"Delay"}, TimeValue (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (2)));
736   csma.\hyperlink{classns3_1_1CsmaHelper_a741c31b2526e3570cc62c9d7d9667ca9}{SetDeviceAttribute} (\textcolor{stringliteral}{"EncapsulationMode"}, StringValue (\textcolor{stringliteral}{"Llc"}));
737   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} devs = csma.\hyperlink{classns3_1_1CsmaHelper_af79a91372595230b0817200270ab84e7}{Install} (c);
738 
739   \textcolor{comment}{// add an ip stack to all nodes.}
740   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} ipStack;
741   ipStack.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (c);
742 
743   \textcolor{comment}{// assign ip addresses}
744   \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} ip;
745   ip.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"192.168.1.0"}, \textcolor{stringliteral}{"255.255.255.0"});
746   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} addresses = ip.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (devs);
747 
748   \textcolor{comment}{// Create the OnOff application to send UDP datagrams from n0 to n1.}
749   \textcolor{comment}{//}
750   \textcolor{comment}{// Make packets be sent about every DefaultPacketSize / DataRate = }
751   \textcolor{comment}{// 4096 bits / (5000 bits/second) = 0.82 second.}
752   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::Ipv4RawSocketImpl::Protocol"}, StringValue (\textcolor{stringliteral}{"2"}));
753   \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} dst = \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (addresses.
      \hyperlink{classns3_1_1Ipv4InterfaceContainer_ae63208dcd222be986822937ee4aa828c}{GetAddress} (3));
754   \hyperlink{classns3_1_1OnOffHelper}{OnOffHelper} onoff = \hyperlink{classns3_1_1OnOffHelper}{OnOffHelper} (\textcolor{stringliteral}{"ns3::Ipv4RawSocketFactory"}, dst);
755   onoff.SetConstantRate (\hyperlink{classns3_1_1DataRate}{DataRate} (5000));
756 
757   \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} apps = onoff.Install (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0));
758   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0));
759   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0));
760 
761   \hyperlink{classns3_1_1PacketSinkHelper}{PacketSinkHelper} sink = \hyperlink{classns3_1_1PacketSinkHelper}{PacketSinkHelper} (\textcolor{stringliteral}{"ns3::Ipv4RawSocketFactory"}, 
      dst);
762   apps = sink.\hyperlink{classns3_1_1PacketSinkHelper_a394059adb24348dd366ce703fc39bbdd}{Install} (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (3));
763   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0));
764   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (11.0));
765 
766   \hyperlink{classns3_1_1V4PingHelper}{V4PingHelper} ping = \hyperlink{classns3_1_1V4PingHelper}{V4PingHelper} (addresses.\hyperlink{classns3_1_1Ipv4InterfaceContainer_ae63208dcd222be986822937ee4aa828c}{GetAddress} (2));
767   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} pingers;
768   pingers.\hyperlink{classns3_1_1NodeContainer_aa60b3a0e70f2fb324e16ffcf8bf31fcb}{Add} (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0));
769   pingers.Add (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1));
770   pingers.Add (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (3));
771   apps = ping.\hyperlink{classns3_1_1V4PingHelper_acde0d28b8c6d3f5666432bc499a9bb79}{Install} (pingers);
772   apps.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.0));
773   apps.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (5.0));
774 
775   \textcolor{comment}{// Trace receptions}
776   \hyperlink{group__config_gaa2f896aa7021f95fffabc80b2ec22e08}{Config::ConnectWithoutContext} (\textcolor{stringliteral}{"
      /NodeList/3/ApplicationList/0/$ns3::PacketSink/Rx"}, 
777                                  \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classCsmaPingTestCase_ac537bf5fee6173f5026b9a1c604008db}{CsmaPingTestCase::SinkRx}, \textcolor{keyword}{this}));
778 
779   \textcolor{comment}{// Trace pings}
780   \hyperlink{group__config_ga4014f151241cd0939b6cb64409605736}{Config::Connect} (\textcolor{stringliteral}{"/NodeList/*/ApplicationList/*/$ns3::V4Ping/Rtt"},
781                    \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{classCsmaPingTestCase_a1fba5d18722337de829fb4e7b5aa9ecb}{CsmaPingTestCase::PingRtt}, \textcolor{keyword}{this}));
782 
783   Simulator::Run ();
784   Simulator::Destroy ();
785 
786   \textcolor{comment}{// We should have sent and received 10 packets}
787   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classCsmaPingTestCase_a94dad32dcfe85d5c58948e8a8f1a3af9}{m\_countSinkRx}, 10, \textcolor{stringliteral}{"Node 3 should have received
       10 packets"});
788 
789   \textcolor{comment}{// We should have 3 pingers that ping every second for 3 seconds.}
790   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classCsmaPingTestCase_abbee80cec3b983c5abc7e2d75d489143}{m\_countPingRtt}, 9, \textcolor{stringliteral}{"Node 2 should have been
       pinged 9 times"});
791 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}!Drop\+Event@{Drop\+Event}}
\index{Drop\+Event@{Drop\+Event}!Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}
\subsubsection[{\texorpdfstring{Drop\+Event(\+Ptr$<$ const Packet $>$ p)}{DropEvent(Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void Csma\+Ping\+Test\+Case\+::\+Drop\+Event (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaPingTestCase_ac0424cf5af390940bf7de1557ce1ffb1}{}\label{classCsmaPingTestCase_ac0424cf5af390940bf7de1557ce1ffb1}

\begin{DoxyCode}
712 \{
713   \hyperlink{classCsmaPingTestCase_a5923f425c74a68a4b31b7cda31278ce5}{m\_drops}++;
714 \}
\end{DoxyCode}
\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}!Ping\+Rtt@{Ping\+Rtt}}
\index{Ping\+Rtt@{Ping\+Rtt}!Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}
\subsubsection[{\texorpdfstring{Ping\+Rtt(std\+::string context, Time rtt)}{PingRtt(std::string context, Time rtt)}}]{\setlength{\rightskip}{0pt plus 5cm}void Csma\+Ping\+Test\+Case\+::\+Ping\+Rtt (
\begin{DoxyParamCaption}
\item[{std\+::string}]{context, }
\item[{{\bf Time}}]{rtt}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaPingTestCase_a1fba5d18722337de829fb4e7b5aa9ecb}{}\label{classCsmaPingTestCase_a1fba5d18722337de829fb4e7b5aa9ecb}

\begin{DoxyCode}
706 \{
707   \hyperlink{classCsmaPingTestCase_abbee80cec3b983c5abc7e2d75d489143}{m\_countPingRtt}++;
708 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 3


\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}!Sink\+Rx@{Sink\+Rx}}
\index{Sink\+Rx@{Sink\+Rx}!Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}
\subsubsection[{\texorpdfstring{Sink\+Rx(\+Ptr$<$ const Packet $>$ p, const Address \&ad)}{SinkRx(Ptr< const Packet > p, const Address &ad)}}]{\setlength{\rightskip}{0pt plus 5cm}void Csma\+Ping\+Test\+Case\+::\+Sink\+Rx (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p, }
\item[{const {\bf Address} \&}]{ad}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaPingTestCase_ac537bf5fee6173f5026b9a1c604008db}{}\label{classCsmaPingTestCase_ac537bf5fee6173f5026b9a1c604008db}

\begin{DoxyCode}
700 \{
701   \hyperlink{classCsmaPingTestCase_a94dad32dcfe85d5c58948e8a8f1a3af9}{m\_countSinkRx}++;
702 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 4




\subsection{Member Data Documentation}
\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}!m\+\_\+count\+Ping\+Rtt@{m\+\_\+count\+Ping\+Rtt}}
\index{m\+\_\+count\+Ping\+Rtt@{m\+\_\+count\+Ping\+Rtt}!Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+count\+Ping\+Rtt}{m_countPingRtt}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Csma\+Ping\+Test\+Case\+::m\+\_\+count\+Ping\+Rtt\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaPingTestCase_abbee80cec3b983c5abc7e2d75d489143}{}\label{classCsmaPingTestCase_abbee80cec3b983c5abc7e2d75d489143}
\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}!m\+\_\+count\+Sink\+Rx@{m\+\_\+count\+Sink\+Rx}}
\index{m\+\_\+count\+Sink\+Rx@{m\+\_\+count\+Sink\+Rx}!Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+count\+Sink\+Rx}{m_countSinkRx}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Csma\+Ping\+Test\+Case\+::m\+\_\+count\+Sink\+Rx\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaPingTestCase_a94dad32dcfe85d5c58948e8a8f1a3af9}{}\label{classCsmaPingTestCase_a94dad32dcfe85d5c58948e8a8f1a3af9}
\index{Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}!m\+\_\+drops@{m\+\_\+drops}}
\index{m\+\_\+drops@{m\+\_\+drops}!Csma\+Ping\+Test\+Case@{Csma\+Ping\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+drops}{m_drops}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Csma\+Ping\+Test\+Case\+::m\+\_\+drops\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaPingTestCase_a5923f425c74a68a4b31b7cda31278ce5}{}\label{classCsmaPingTestCase_a5923f425c74a68a4b31b7cda31278ce5}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
test/\hyperlink{csma-system-test-suite_8cc}{csma-\/system-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
