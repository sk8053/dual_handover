\hypertarget{classns3_1_1OrbisTopologyReader}{}\section{ns3\+:\+:Orbis\+Topology\+Reader Class Reference}
\label{classns3_1_1OrbisTopologyReader}\index{ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}}


Topology file reader (Orbis-\/format type).  




{\ttfamily \#include $<$orbis-\/topology-\/reader.\+h$>$}



Inheritance diagram for ns3\+:\+:Orbis\+Topology\+Reader\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Orbis\+Topology\+Reader\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1OrbisTopologyReader_a7f43791c6f18448980091ec3a1e206bc}{Orbis\+Topology\+Reader} ()
\item 
virtual \hyperlink{classns3_1_1OrbisTopologyReader_af585673f689fdc13e9d52ca3e7dbeb2f}{$\sim$\+Orbis\+Topology\+Reader} ()
\item 
virtual \hyperlink{classns3_1_1NodeContainer}{Node\+Container} \hyperlink{classns3_1_1OrbisTopologyReader_afcf2cc29dc07e5a787a63e2a6e807a1a}{Read} (void)
\begin{DoxyCompactList}\small\item\em Main topology reading function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1OrbisTopologyReader_a0aa70f129ce971c8d67487e1518a84e1}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1OrbisTopologyReader_a1d382901a7cada25e29aeeac605ba829}{Orbis\+Topology\+Reader} (const \hyperlink{classns3_1_1OrbisTopologyReader}{Orbis\+Topology\+Reader} \&)
\begin{DoxyCompactList}\small\item\em Copy constructor. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1OrbisTopologyReader}{Orbis\+Topology\+Reader} \& \hyperlink{classns3_1_1OrbisTopologyReader_a98887e94c257cc135a904529023e2e2c}{operator=} (const \hyperlink{classns3_1_1OrbisTopologyReader}{Orbis\+Topology\+Reader} \&)
\begin{DoxyCompactList}\small\item\em Copy constructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Topology file reader (Orbis-\/format type). 

This class takes an input file in Orbis format and extracts all the informations needed to build the topology (i.\+e.\+number of nodes, links and links structure). It have been tested with Orbis 0.\+70 \href{http://www.sysnet.ucsd.edu/~pmahadevan/topo_research/topo.html}{\tt http\+://www.\+sysnet.\+ucsd.\+edu/$\sim$pmahadevan/topo\+\_\+research/topo.\+html} 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}!Orbis\+Topology\+Reader@{Orbis\+Topology\+Reader}}
\index{Orbis\+Topology\+Reader@{Orbis\+Topology\+Reader}!ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}}
\subsubsection[{\texorpdfstring{Orbis\+Topology\+Reader()}{OrbisTopologyReader()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Orbis\+Topology\+Reader\+::\+Orbis\+Topology\+Reader (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1OrbisTopologyReader_a7f43791c6f18448980091ec3a1e206bc}{}\label{classns3_1_1OrbisTopologyReader_a7f43791c6f18448980091ec3a1e206bc}

\begin{DoxyCode}
48 \{
49   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
50 \}
\end{DoxyCode}
\index{ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}!````~Orbis\+Topology\+Reader@{$\sim$\+Orbis\+Topology\+Reader}}
\index{````~Orbis\+Topology\+Reader@{$\sim$\+Orbis\+Topology\+Reader}!ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}}
\subsubsection[{\texorpdfstring{$\sim$\+Orbis\+Topology\+Reader()}{~OrbisTopologyReader()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Orbis\+Topology\+Reader\+::$\sim$\+Orbis\+Topology\+Reader (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1OrbisTopologyReader_af585673f689fdc13e9d52ca3e7dbeb2f}{}\label{classns3_1_1OrbisTopologyReader_af585673f689fdc13e9d52ca3e7dbeb2f}

\begin{DoxyCode}
53 \{
54   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
55 \}
\end{DoxyCode}
\index{ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}!Orbis\+Topology\+Reader@{Orbis\+Topology\+Reader}}
\index{Orbis\+Topology\+Reader@{Orbis\+Topology\+Reader}!ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}}
\subsubsection[{\texorpdfstring{Orbis\+Topology\+Reader(const Orbis\+Topology\+Reader \&)}{OrbisTopologyReader(const OrbisTopologyReader &)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Orbis\+Topology\+Reader\+::\+Orbis\+Topology\+Reader (
\begin{DoxyParamCaption}
\item[{const {\bf Orbis\+Topology\+Reader} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OrbisTopologyReader_a1d382901a7cada25e29aeeac605ba829}{}\label{classns3_1_1OrbisTopologyReader_a1d382901a7cada25e29aeeac605ba829}


Copy constructor. 

Defined and unimplemented to avoid misuse. 

\subsection{Member Function Documentation}
\index{ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Orbis\+Topology\+Reader\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1OrbisTopologyReader_a0aa70f129ce971c8d67487e1518a84e1}{}\label{classns3_1_1OrbisTopologyReader_a0aa70f129ce971c8d67487e1518a84e1}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}

\begin{DoxyCode}
38 \{
39   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::OrbisTopologyReader"})
40     .SetParent<\hyperlink{classns3_1_1TopologyReader_aa8fde8dd942167d83215da15be1de6fc}{TopologyReader}> ()
41     .SetGroupName (\textcolor{stringliteral}{"TopologyReader"})
42     .AddConstructor<\hyperlink{classns3_1_1OrbisTopologyReader_a7f43791c6f18448980091ec3a1e206bc}{OrbisTopologyReader}> ()
43   ;
44   \textcolor{keywordflow}{return} tid;
45 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}!operator=@{operator=}}
\index{operator=@{operator=}!ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}}
\subsubsection[{\texorpdfstring{operator=(const Orbis\+Topology\+Reader \&)}{operator=(const OrbisTopologyReader &)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Orbis\+Topology\+Reader}\& ns3\+::\+Orbis\+Topology\+Reader\+::operator= (
\begin{DoxyParamCaption}
\item[{const {\bf Orbis\+Topology\+Reader} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1OrbisTopologyReader_a98887e94c257cc135a904529023e2e2c}{}\label{classns3_1_1OrbisTopologyReader_a98887e94c257cc135a904529023e2e2c}


Copy constructor. 

Defined and unimplemented to avoid misuse. \begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\index{ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}!Read@{Read}}
\index{Read@{Read}!ns3\+::\+Orbis\+Topology\+Reader@{ns3\+::\+Orbis\+Topology\+Reader}}
\subsubsection[{\texorpdfstring{Read(void)}{Read(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Node\+Container} ns3\+::\+Orbis\+Topology\+Reader\+::\+Read (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1OrbisTopologyReader_afcf2cc29dc07e5a787a63e2a6e807a1a}{}\label{classns3_1_1OrbisTopologyReader_afcf2cc29dc07e5a787a63e2a6e807a1a}


Main topology reading function. 

This method opens an input stream and reads the Orbis-\/format file. Every row represents a topology link (the ids of a couple of nodes), so the input file is read line by line to figure out how many links and nodes are in the topology.

\begin{DoxyReturn}{Returns}
The container of the nodes created (or empty container if there was an error) 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1TopologyReader_ae2a69c10e0bb66d6c850a72c6655e69c}{ns3\+::\+Topology\+Reader}.


\begin{DoxyCode}
59 \{
60   std::ifstream topgen;
61   topgen.open (\hyperlink{classns3_1_1TopologyReader_a6d417b0d32aa613887596d769aee6c5d}{GetFileName} ().c\_str ());
62   std::map<std::string, Ptr<Node> > nodeMap;
63   NodeContainer \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes};
64 
65   \textcolor{keywordflow}{if} ( !topgen.is\_open () )
66     \{
67       \textcolor{keywordflow}{return} \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes};
68     \}
69 
70   std::string \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from};
71   std::string to;
72   std::istringstream lineBuffer;
73   std::string line;
74 
75   \textcolor{keywordtype}{int} linksNumber = 0;
76   \textcolor{keywordtype}{int} nodesNumber = 0;
77 
78   \textcolor{keywordflow}{while} (!topgen.eof ())
79     \{
80       line.clear ();
81       lineBuffer.clear ();
82       from.clear ();
83       to.clear ();
84 
85       getline (topgen,line);
86       lineBuffer.str (line);
87       lineBuffer >> \hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from};
88       lineBuffer >> to;
89 
90       \textcolor{keywordflow}{if} ( (!from.empty ()) && (!to.empty ()) )
91         \{
92           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} ( linksNumber << \textcolor{stringliteral}{" From: "} << from << \textcolor{stringliteral}{" to: "} << to );
93           \textcolor{keywordflow}{if} ( nodeMap[from] == 0 )
94             \{
95               Ptr<Node> tmpNode = CreateObject<Node> ();
96               nodeMap[\hyperlink{lte__amc_8m_a1b4c81ff74eb1a626b5ade44c81004b3}{from}] = tmpNode;
97               nodes.Add (tmpNode);
98               nodesNumber++;
99             \}
100 
101           \textcolor{keywordflow}{if} (nodeMap[to] == 0)
102             \{
103               Ptr<Node> tmpNode = CreateObject<Node> ();
104               nodeMap[to] = tmpNode;
105               nodes.Add (tmpNode);
106               nodesNumber++;
107             \}
108 
109           Link link ( nodeMap[from], from, nodeMap[to], to );
110           \hyperlink{classns3_1_1TopologyReader_a0ecbd003f3e4c0c142720b20b8cfcbeb}{AddLink} (link);
111 
112           linksNumber++;
113         \}
114     \}
115   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Orbis topology created with "} << nodesNumber << \textcolor{stringliteral}{" nodes and "} << linksNumber << \textcolor{stringliteral}{
      " links"});
116   topgen.close ();
117 
118   \textcolor{keywordflow}{return} \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes};
119 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
topology-\/read/model/\hyperlink{orbis-topology-reader_8h}{orbis-\/topology-\/reader.\+h}\item 
topology-\/read/model/\hyperlink{orbis-topology-reader_8cc}{orbis-\/topology-\/reader.\+cc}\end{DoxyCompactItemize}
