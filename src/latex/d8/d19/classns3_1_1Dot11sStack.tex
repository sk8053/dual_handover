\hypertarget{classns3_1_1Dot11sStack}{}\section{ns3\+:\+:Dot11s\+Stack Class Reference}
\label{classns3_1_1Dot11sStack}\index{ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}}


Helper class to allow easy installation of 802.\+11s stack.  




{\ttfamily \#include $<$dot11s-\/installer.\+h$>$}



Inheritance diagram for ns3\+:\+:Dot11s\+Stack\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Dot11s\+Stack\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Dot11sStack_af14ac0a96673ac8497c6736bfba542b8}{Dot11s\+Stack} ()
\item 
\hyperlink{classns3_1_1Dot11sStack_a6847b53b53fe741f396708d44fd3425e}{$\sim$\+Dot11s\+Stack} ()
\item 
void \hyperlink{classns3_1_1Dot11sStack_a5a9897ff296290265be887cceabfad02}{Do\+Dispose} ()
\item 
bool \hyperlink{classns3_1_1Dot11sStack_a2a30483cc69c61c837fbf43f829a2dd3}{Install\+Stack} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MeshPointDevice}{Mesh\+Point\+Device} $>$ mp)
\begin{DoxyCompactList}\small\item\em Install an 802.\+11s stack. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1Dot11sStack_ac45262c3694108f597dc345da40d0bf0}{Report} (const \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MeshPointDevice}{Mesh\+Point\+Device} $>$ mp, std\+::ostream \&)
\begin{DoxyCompactList}\small\item\em Iterate through the referenced devices and protocols and print their statistics. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1Dot11sStack_a1afb810553aad32e1e23756a972b2a13}{Reset\+Stats} (const \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MeshPointDevice}{Mesh\+Point\+Device} $>$ mp)
\begin{DoxyCompactList}\small\item\em Reset the statistics on the referenced devices and protocols. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1Dot11sStack_a0feffdc5c1855616ad66f3d055821b7c}{Get\+Type\+Id} ()
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} \hyperlink{classns3_1_1Dot11sStack_afc4a1c662a6d2c0a62672924f49b2a0c}{m\+\_\+root}
\begin{DoxyCompactList}\small\item\em root \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Helper class to allow easy installation of 802.\+11s stack. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}!Dot11s\+Stack@{Dot11s\+Stack}}
\index{Dot11s\+Stack@{Dot11s\+Stack}!ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}}
\subsubsection[{\texorpdfstring{Dot11s\+Stack()}{Dot11sStack()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Dot11s\+Stack\+::\+Dot11s\+Stack (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Dot11sStack_af14ac0a96673ac8497c6736bfba542b8}{}\label{classns3_1_1Dot11sStack_af14ac0a96673ac8497c6736bfba542b8}
Create a \hyperlink{classns3_1_1Dot11sStack_af14ac0a96673ac8497c6736bfba542b8}{Dot11s\+Stack()} installer helper. 
\begin{DoxyCode}
44                           :
45   \hyperlink{classns3_1_1Dot11sStack_afc4a1c662a6d2c0a62672924f49b2a0c}{m\_root} (Mac48Address (\textcolor{stringliteral}{"ff:ff:ff:ff:ff:ff"}))
46 \{
47 \}
\end{DoxyCode}
\index{ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}!````~Dot11s\+Stack@{$\sim$\+Dot11s\+Stack}}
\index{````~Dot11s\+Stack@{$\sim$\+Dot11s\+Stack}!ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}}
\subsubsection[{\texorpdfstring{$\sim$\+Dot11s\+Stack()}{~Dot11sStack()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Dot11s\+Stack\+::$\sim$\+Dot11s\+Stack (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Dot11sStack_a6847b53b53fe741f396708d44fd3425e}{}\label{classns3_1_1Dot11sStack_a6847b53b53fe741f396708d44fd3425e}
Destroy a \hyperlink{classns3_1_1Dot11sStack_af14ac0a96673ac8497c6736bfba542b8}{Dot11s\+Stack()} installer helper. 
\begin{DoxyCode}
49 \{
50 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}}
\subsubsection[{\texorpdfstring{Do\+Dispose()}{DoDispose()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Dot11s\+Stack\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1Dot11sStack_a5a9897ff296290265be887cceabfad02}{}\label{classns3_1_1Dot11sStack_a5a9897ff296290265be887cceabfad02}
Break any reference cycles in the installer helper. Required for ns-\/3 \hyperlink{classns3_1_1Object}{Object} support. 

Reimplemented from \hyperlink{classns3_1_1Object_a475d429a75d302d4775f4ae32479b287}{ns3\+::\+Object}.


\begin{DoxyCode}
53 \{
54 \}
\end{DoxyCode}
\index{ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id()}{GetTypeId()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Dot11s\+Stack\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1Dot11sStack_a0feffdc5c1855616ad66f3d055821b7c}{}\label{classns3_1_1Dot11sStack_a0feffdc5c1855616ad66f3d055821b7c}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
32 \{
33   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::Dot11sStack"})
34     .SetParent<MeshStack> ()
35     .SetGroupName (\textcolor{stringliteral}{"Mesh"})
36     .AddConstructor<\hyperlink{classns3_1_1Dot11sStack_af14ac0a96673ac8497c6736bfba542b8}{Dot11sStack}> ()
37     .AddAttribute (\textcolor{stringliteral}{"Root"}, 
38                    \textcolor{stringliteral}{"The MAC address of root mesh point."},
39                    Mac48AddressValue (Mac48Address (\textcolor{stringliteral}{"ff:ff:ff:ff:ff:ff"})),
40                    MakeMac48AddressAccessor (&\hyperlink{classns3_1_1Dot11sStack_afc4a1c662a6d2c0a62672924f49b2a0c}{Dot11sStack::m\_root}),
41                    MakeMac48AddressChecker ());
42   \textcolor{keywordflow}{return} tid;
43 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}!Install\+Stack@{Install\+Stack}}
\index{Install\+Stack@{Install\+Stack}!ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}}
\subsubsection[{\texorpdfstring{Install\+Stack(\+Ptr$<$ Mesh\+Point\+Device $>$ mp)}{InstallStack(Ptr< MeshPointDevice > mp)}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Dot11s\+Stack\+::\+Install\+Stack (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mesh\+Point\+Device} $>$}]{mp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1Dot11sStack_a2a30483cc69c61c837fbf43f829a2dd3}{}\label{classns3_1_1Dot11sStack_a2a30483cc69c61c837fbf43f829a2dd3}


Install an 802.\+11s stack. 


\begin{DoxyParams}{Parameters}
{\em mp} & The Ptr$<$\+Mesh\+Point\+Device$>$ to use when setting up the P\+MP. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successful 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1MeshStack_a7002a6c0a867eab5ddfe31a0f2c80caa}{ns3\+::\+Mesh\+Stack}.


\begin{DoxyCode}
57 \{
58   \textcolor{comment}{//Install Peer management protocol:}
59   Ptr<PeerManagementProtocol> pmp = CreateObject<PeerManagementProtocol> ();
60   pmp->SetMeshId (\textcolor{stringliteral}{"mesh"});
61   \textcolor{keywordtype}{bool} install\_ok = pmp->Install (mp);
62   \textcolor{keywordflow}{if} (!install\_ok)
63     \{
64       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
65     \}
66   \textcolor{comment}{//Install HWMP:}
67   Ptr<HwmpProtocol> hwmp = CreateObject<HwmpProtocol> ();
68   install\_ok = hwmp->Install (mp);
69   \textcolor{keywordflow}{if} (!install\_ok)
70     \{
71       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
72     \}
73   \textcolor{keywordflow}{if} (mp->GetAddress () == \hyperlink{classns3_1_1Dot11sStack_afc4a1c662a6d2c0a62672924f49b2a0c}{m\_root})
74     \{
75       hwmp->SetRoot ();
76     \}
77   \textcolor{comment}{//Install interaction between HWMP and Peer management protocol:}
78   \textcolor{comment}{//PeekPointer()'s to avoid circular Ptr references}
79   pmp->SetPeerLinkStatusCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1dot11s_1_1HwmpProtocol_a7ebcbc95e74731ece41e1ee5df33c9ce}{HwmpProtocol::PeerLinkStatus}, \hyperlink{namespacens3_af2a7557fe9afdd98d8f6f8f6e412cf5a}{PeekPointer} (hwmp)));
80   hwmp->SetNeighboursCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classns3_1_1dot11s_1_1PeerManagementProtocol_a65e346f4553909eb3f0bf7f44d4befb8}{PeerManagementProtocol::GetPeers}, \hyperlink{namespacens3_af2a7557fe9afdd98d8f6f8f6e412cf5a}{PeekPointer} (pmp)));
81   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
82 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}!Report@{Report}}
\index{Report@{Report}!ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}}
\subsubsection[{\texorpdfstring{Report(const Ptr$<$ Mesh\+Point\+Device $>$ mp, std\+::ostream \&)}{Report(const Ptr< MeshPointDevice > mp, std::ostream &)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Dot11s\+Stack\+::\+Report (
\begin{DoxyParamCaption}
\item[{const {\bf Ptr}$<$ {\bf Mesh\+Point\+Device} $>$}]{mp, }
\item[{std\+::ostream \&}]{os}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1Dot11sStack_ac45262c3694108f597dc345da40d0bf0}{}\label{classns3_1_1Dot11sStack_ac45262c3694108f597dc345da40d0bf0}


Iterate through the referenced devices and protocols and print their statistics. 


\begin{DoxyParams}{Parameters}
{\em mp} & The Ptr$<$\+Mesh\+Point\+Device$>$ to use when setting up the P\+MP. \\
\hline
{\em os} & The output stream \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1MeshStack_a616cb6a499bb1a536fa92449a159c724}{ns3\+::\+Mesh\+Stack}.


\begin{DoxyCode}
85 \{
86   mp->Report (os);
87 
88   std::vector<Ptr<NetDevice> > ifaces = mp->GetInterfaces ();
89   \textcolor{keywordflow}{for} (std::vector<Ptr<NetDevice> >::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = ifaces.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != ifaces.end (); ++
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
90     \{
91       Ptr<WifiNetDevice> device = (*i)->GetObject<WifiNetDevice> ();
92       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (device != 0);
93       Ptr<MeshWifiInterfaceMac> mac = device->GetMac ()->GetObject<MeshWifiInterfaceMac> ();
94       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (mac != 0);
95       mac->Report (os);
96     \}
97   Ptr<HwmpProtocol> hwmp = mp->GetObject<HwmpProtocol> ();
98   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (hwmp != 0);
99   hwmp->Report (os);
100 
101   Ptr<PeerManagementProtocol> pmp = mp->GetObject<PeerManagementProtocol> ();
102   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (pmp != 0);
103   pmp->Report (os);
104 \}
\end{DoxyCode}
\index{ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}!Reset\+Stats@{Reset\+Stats}}
\index{Reset\+Stats@{Reset\+Stats}!ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}}
\subsubsection[{\texorpdfstring{Reset\+Stats(const Ptr$<$ Mesh\+Point\+Device $>$ mp)}{ResetStats(const Ptr< MeshPointDevice > mp)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Dot11s\+Stack\+::\+Reset\+Stats (
\begin{DoxyParamCaption}
\item[{const {\bf Ptr}$<$ {\bf Mesh\+Point\+Device} $>$}]{mp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1Dot11sStack_a1afb810553aad32e1e23756a972b2a13}{}\label{classns3_1_1Dot11sStack_a1afb810553aad32e1e23756a972b2a13}


Reset the statistics on the referenced devices and protocols. 


\begin{DoxyParams}{Parameters}
{\em mp} & The Ptr$<$\+Mesh\+Point\+Device$>$ to use when setting up the P\+MP. \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1MeshStack_af694bf8e1ef6fba265d0b4ec8b09bbf4}{ns3\+::\+Mesh\+Stack}.


\begin{DoxyCode}
107 \{
108   mp->ResetStats ();
109 
110   std::vector<Ptr<NetDevice> > ifaces = mp->GetInterfaces ();
111   \textcolor{keywordflow}{for} (std::vector<Ptr<NetDevice> >::const\_iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = ifaces.begin (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != ifaces.end (); ++
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
112     \{
113       Ptr<WifiNetDevice> device = (*i)->GetObject<WifiNetDevice> ();
114       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (device != 0);
115       Ptr<MeshWifiInterfaceMac> mac = device->GetMac ()->GetObject<MeshWifiInterfaceMac> ();
116       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (mac != 0);
117       mac->ResetStats ();
118     \}
119   Ptr<HwmpProtocol> hwmp = mp->GetObject<HwmpProtocol> ();
120   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (hwmp != 0);
121   hwmp->ResetStats ();
122 
123   Ptr<PeerManagementProtocol> pmp = mp->GetObject<PeerManagementProtocol> ();
124   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (pmp != 0);
125   pmp->ResetStats ();
126 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}!m\+\_\+root@{m\+\_\+root}}
\index{m\+\_\+root@{m\+\_\+root}!ns3\+::\+Dot11s\+Stack@{ns3\+::\+Dot11s\+Stack}}
\subsubsection[{\texorpdfstring{m\+\_\+root}{m_root}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac48\+Address} ns3\+::\+Dot11s\+Stack\+::m\+\_\+root\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Dot11sStack_afc4a1c662a6d2c0a62672924f49b2a0c}{}\label{classns3_1_1Dot11sStack_afc4a1c662a6d2c0a62672924f49b2a0c}


root 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
mesh/helper/dot11s/\hyperlink{dot11s-installer_8h}{dot11s-\/installer.\+h}\item 
mesh/helper/dot11s/\hyperlink{dot11s-installer_8cc}{dot11s-\/installer.\+cc}\end{DoxyCompactItemize}
