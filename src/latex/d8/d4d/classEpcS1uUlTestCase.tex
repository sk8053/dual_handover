\hypertarget{classEpcS1uUlTestCase}{}\section{Epc\+S1u\+Ul\+Test\+Case Class Reference}
\label{classEpcS1uUlTestCase}\index{Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}}


Inheritance diagram for Epc\+S1u\+Ul\+Test\+Case\+:
% FIG 0


Collaboration diagram for Epc\+S1u\+Ul\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classEpcS1uUlTestCase_a22c603e82af70be3d4e9805cd5f8140d}{Epc\+S1u\+Ul\+Test\+Case} (std\+::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}, std\+::vector$<$ \hyperlink{structEnbUlTestData}{Enb\+Ul\+Test\+Data} $>$ v)
\item 
virtual \hyperlink{classEpcS1uUlTestCase_af41a8c80af51b50b6cba45eadc170dab}{$\sim$\+Epc\+S1u\+Ul\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classEpcS1uUlTestCase_a6fa27997312de46d9b0f3ab2221a24fa}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \hyperlink{structEnbUlTestData}{Enb\+Ul\+Test\+Data} $>$ \hyperlink{classEpcS1uUlTestCase_a2d52c6d9f4ee886f2060016760d7bf4d}{m\+\_\+enb\+Ul\+Test\+Data}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}!Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}}
\index{Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}!Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}}
\subsubsection[{\texorpdfstring{Epc\+S1u\+Ul\+Test\+Case(std\+::string name, std\+::vector$<$ Enb\+Ul\+Test\+Data $>$ v)}{EpcS1uUlTestCase(std::string name, std::vector< EnbUlTestData > v)}}]{\setlength{\rightskip}{0pt plus 5cm}Epc\+S1u\+Ul\+Test\+Case\+::\+Epc\+S1u\+Ul\+Test\+Case (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name, }
\item[{std\+::vector$<$ {\bf Enb\+Ul\+Test\+Data} $>$}]{v}
\end{DoxyParamCaption}
)}\hypertarget{classEpcS1uUlTestCase_a22c603e82af70be3d4e9805cd5f8140d}{}\label{classEpcS1uUlTestCase_a22c603e82af70be3d4e9805cd5f8140d}

\begin{DoxyCode}
282   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name}),
283     \hyperlink{classEpcS1uUlTestCase_a2d52c6d9f4ee886f2060016760d7bf4d}{m\_enbUlTestData} (v)
284 \{
285 \}
\end{DoxyCode}
\index{Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}!````~Epc\+S1u\+Ul\+Test\+Case@{$\sim$\+Epc\+S1u\+Ul\+Test\+Case}}
\index{````~Epc\+S1u\+Ul\+Test\+Case@{$\sim$\+Epc\+S1u\+Ul\+Test\+Case}!Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Epc\+S1u\+Ul\+Test\+Case()}{~EpcS1uUlTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Epc\+S1u\+Ul\+Test\+Case\+::$\sim$\+Epc\+S1u\+Ul\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classEpcS1uUlTestCase_af41a8c80af51b50b6cba45eadc170dab}{}\label{classEpcS1uUlTestCase_af41a8c80af51b50b6cba45eadc170dab}

\begin{DoxyCode}
288 \{
289 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Epc\+S1u\+Ul\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classEpcS1uUlTestCase_a6fa27997312de46d9b0f3ab2221a24fa}{}\label{classEpcS1uUlTestCase_a6fa27997312de46d9b0f3ab2221a24fa}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
293 \{
294   \hyperlink{classns3_1_1Ptr}{Ptr<PointToPointEpcHelper>} epcHelper = CreateObject<PointToPointEpcHelper> ();
295   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} pgw = epcHelper->\hyperlink{classns3_1_1PointToPointEpcHelper_a828ac04ae81b0e323f9ccfc08bcacf21}{GetPgwNode} ();
296 
297   \textcolor{comment}{// allow jumbo packets}
298   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::CsmaNetDevice::Mtu"}, UintegerValue (30000));
299   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::PointToPointNetDevice::Mtu"}, UintegerValue (30000));
300   epcHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"S1uLinkMtu"}, UintegerValue (30000));
301   
302   \textcolor{comment}{// Create a single RemoteHost}
303   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} remoteHostContainer;
304   remoteHostContainer.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
305   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} remoteHost = remoteHostContainer.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0);
306   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
307   internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (remoteHostContainer);
308 
309   \textcolor{comment}{// Create the internet}
310   \hyperlink{classns3_1_1PointToPointHelper}{PointToPointHelper} p2ph;
311   p2ph.\hyperlink{classns3_1_1PointToPointHelper_a4577f5ab8c387e5528af2e0fbab1152e}{SetDeviceAttribute} (\textcolor{stringliteral}{"DataRate"},  DataRateValue (
      \hyperlink{classns3_1_1DataRate}{DataRate} (\textcolor{stringliteral}{"100Gb/s"})));
312   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} internetDevices = p2ph.\hyperlink{classns3_1_1PointToPointHelper_ab9162fea3e88722666fed1106df1f9ec}{Install} (pgw, remoteHost);  
313   \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} ipv4h;
314   ipv4h.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"1.0.0.0"}, \textcolor{stringliteral}{"255.0.0.0"});
315   \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} internetNodesIpIfaceContainer = ipv4h.
      \hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (internetDevices);
316   
317   \textcolor{comment}{// setup default gateway for the remote hosts}
318   \hyperlink{classns3_1_1Ipv4StaticRoutingHelper}{Ipv4StaticRoutingHelper} ipv4RoutingHelper;
319   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4StaticRouting>} remoteHostStaticRouting = ipv4RoutingHelper.
      \hyperlink{classns3_1_1Ipv4StaticRoutingHelper_a731206e50d305695dac7fb2ef963a4bb}{GetStaticRouting} (remoteHost->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ());
320 
321   \textcolor{comment}{// hardcoded UE addresses for now}
322   remoteHostStaticRouting->\hyperlink{classns3_1_1Ipv4StaticRouting_a8bf5eaa7ba49fe33c78c70d5560b6c39}{AddNetworkRouteTo} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"7.0.0.0"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (\textcolor{stringliteral}{"255.255.255.0"}), 1);
323   
324 
325 
326   uint16\_t udpSinkPort = 1234;
327     
328   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbs;
329   uint16\_t cellIdCounter = 0;
330 
331   \textcolor{keywordflow}{for} (std::vector<EnbUlTestData>::iterator enbit = \hyperlink{classEpcS1uUlTestCase_a2d52c6d9f4ee886f2060016760d7bf4d}{m\_enbUlTestData}.begin ();
332        enbit < \hyperlink{classEpcS1uUlTestCase_a2d52c6d9f4ee886f2060016760d7bf4d}{m\_enbUlTestData}.end ();
333        ++enbit)
334     \{
335       \hyperlink{classns3_1_1Ptr}{Ptr<Node>} enb = CreateObject<Node> ();
336       enbs.\hyperlink{classns3_1_1NodeContainer_aa60b3a0e70f2fb324e16ffcf8bf31fcb}{Add} (enb);      
337 
338       \textcolor{comment}{// we test EPC without LTE, hence we use:}
339       \textcolor{comment}{// 1) a CSMA network to simulate the cell}
340       \textcolor{comment}{// 2) a raw socket opened on the CSMA device to simulate the LTE socket}
341 
342       uint16\_t cellId = ++cellIdCounter;
343 
344       \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ues;
345       ues.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (enbit->ues.size ());
346 
347       \hyperlink{classns3_1_1NodeContainer}{NodeContainer} cell;
348       cell.\hyperlink{classns3_1_1NodeContainer_aa60b3a0e70f2fb324e16ffcf8bf31fcb}{Add} (ues);
349       cell.\hyperlink{classns3_1_1NodeContainer_aa60b3a0e70f2fb324e16ffcf8bf31fcb}{Add} (enb);
350 
351       \hyperlink{classns3_1_1CsmaHelper}{CsmaHelper} csmaCell;      
352       \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} cellDevices = csmaCell.\hyperlink{classns3_1_1CsmaHelper_af79a91372595230b0817200270ab84e7}{Install} (cell);
353 
354       \textcolor{comment}{// the eNB's CSMA NetDevice acting as an LTE NetDevice. }
355       \hyperlink{classns3_1_1Ptr}{Ptr<NetDevice>} enbDevice = cellDevices.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (cellDevices.
      \hyperlink{classns3_1_1NetDeviceContainer_a74cafc212479bc38976bebd118e856b9}{GetN} () - 1);
356 
357       \textcolor{comment}{// Note that the EpcEnbApplication won't care of the actual NetDevice type}
358       epcHelper->\hyperlink{classns3_1_1PointToPointEpcHelper_a6636cc9c0501b719bd81ed13efd3c589}{AddEnb} (enb, enbDevice, cellId);      
359       
360        \textcolor{comment}{// Plug test RRC entity}
361       \hyperlink{classns3_1_1Ptr}{Ptr<EpcEnbApplication>} enbApp = enb->\hyperlink{classns3_1_1Node_ad0ab54d76712398c0a8e25d9ac59ea41}{GetApplication} (0)->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1EpcEnbApplication}{EpcEnbApplication}> ();
362       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (enbApp != 0, \textcolor{stringliteral}{"cannot retrieve EpcEnbApplication"});
363       \hyperlink{classns3_1_1Ptr}{Ptr<EpcTestRrc>} rrc = CreateObject<EpcTestRrc> ();
364       rrc->\hyperlink{classns3_1_1EpcTestRrc_a4dc91a1208c2f22d76991df2f2bd15dc}{SetS1SapProvider} (enbApp->\hyperlink{classns3_1_1EpcEnbApplication_a706b531d6ec3ab6eb37567232f5c6cd4}{GetS1SapProvider} ());
365       enbApp->\hyperlink{classns3_1_1EpcEnbApplication_aec298b6adc29bad4c52828ddf1a260d6}{SetS1SapUser} (rrc->\hyperlink{classns3_1_1EpcTestRrc_ac145e0e646ca9d170ed04d6b3b3b93c4}{GetS1SapUser} ());
366       
367       \textcolor{comment}{// we install the IP stack on UEs only}
368       \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
369       internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (ues);
370 
371       \textcolor{comment}{// assign IP address to UEs, and install applications}
372       \textcolor{keywordflow}{for} (uint32\_t u = 0; u < ues.\hyperlink{classns3_1_1NodeContainer_aed647ac56d0407a7706aba02eb44b951}{GetN} (); ++u)
373         \{
374           \hyperlink{classns3_1_1Ptr}{Ptr<NetDevice>} ueLteDevice = cellDevices.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (u);
375           \hyperlink{classns3_1_1Ipv4InterfaceContainer}{Ipv4InterfaceContainer} ueIpIface = epcHelper->
      \hyperlink{classns3_1_1PointToPointEpcHelper_a11102d32127163fdcc47c44623d4f0cc}{AssignUeIpv4Address} (\hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} (ueLteDevice));
376 
377           \hyperlink{classns3_1_1Ptr}{Ptr<Node>} ue = ues.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (u);
378 
379           \textcolor{comment}{// disable IP Forwarding on the UE. This is because we use}
380           \textcolor{comment}{// CSMA broadcast MAC addresses for this test. The problem}
381           \textcolor{comment}{// won't happen with a LteUeNetDevice. }
382           \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4>} ueIpv4 = ue->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ();
383           ueIpv4->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"IpForward"}, \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
384 
385           \textcolor{comment}{// tell the UE to route all packets to the GW}
386           \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4StaticRouting>} ueStaticRouting = ipv4RoutingHelper.
      \hyperlink{classns3_1_1Ipv4StaticRoutingHelper_a731206e50d305695dac7fb2ef963a4bb}{GetStaticRouting} (ueIpv4);
387           \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} gwAddr = epcHelper->\hyperlink{classns3_1_1PointToPointEpcHelper_a9160d83b92d5ea373abcd627f5d784f5}{GetUeDefaultGatewayAddress} (
      );
388           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"GW address: "} << gwAddr);
389           ueStaticRouting->\hyperlink{classns3_1_1Ipv4StaticRouting_aee30fa3246c2b42f122dabdff2725331}{SetDefaultRoute} (gwAddr, 1);
390 
391           \textcolor{comment}{// since the UEs in this test use CSMA with IP enabled, and}
392           \textcolor{comment}{// the eNB uses CSMA but without IP, we fool the UE's ARP}
393           \textcolor{comment}{// cache into thinking that the IP address of the GW can be}
394           \textcolor{comment}{// reached by sending a CSMA packet to the broadcast}
395           \textcolor{comment}{// address, so the eNB will get it.       }
396           int32\_t ueLteIpv4IfIndex = ueIpv4->\hyperlink{classns3_1_1Ipv4_ab3ff69819c27af58b02ee4791c94abf7}{GetInterfaceForDevice} (ueLteDevice);
397           \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4L3Protocol>} ueIpv4L3Protocol = ue->
      \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4L3Protocol}{Ipv4L3Protocol}> ();
398           \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4Interface>} ueLteIpv4Iface = ueIpv4L3Protocol->
      \hyperlink{classns3_1_1Ipv4L3Protocol_ad58abef6f890f3cc2cf291159a3b8588}{GetInterface} (ueLteIpv4IfIndex);
399           \hyperlink{classns3_1_1Ptr}{Ptr<ArpCache>} ueArpCache = ueLteIpv4Iface->GetArpCache (); 
400           ueArpCache->\hyperlink{classns3_1_1ArpCache_a69b80e4ba6fa363178e72eb090a903d4}{SetAliveTimeout} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1000));          
401           \hyperlink{classns3_1_1ArpCache_1_1Entry}{ArpCache::Entry}* arpCacheEntry = ueArpCache->\hyperlink{classns3_1_1ArpCache_a7fb6a10eb08b6fb3af0f7848a28a61b4}{Add} (gwAddr);
402           arpCacheEntry->\hyperlink{classns3_1_1ArpCache_1_1Entry_ae9d1394aee7893efbde4b877e718239c}{SetMacAddresss} (Mac48Address::GetBroadcast ());
403           arpCacheEntry->\hyperlink{classns3_1_1ArpCache_1_1Entry_a56daea587c2bdff382ed5b41878a7f92}{MarkPermanent} ();
404   
405           
406           \hyperlink{classns3_1_1PacketSinkHelper}{PacketSinkHelper} packetSinkHelper (\textcolor{stringliteral}{"ns3::UdpSocketFactory"}, 
407                                              \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (Ipv4Address::GetAny (), 
      udpSinkPort));          
408           \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} sinkApp = packetSinkHelper.Install (remoteHost);
409           sinkApp.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0));
410           sinkApp.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0));
411           enbit->ues[u].serverApp = sinkApp.\hyperlink{classns3_1_1ApplicationContainer_a9e565807abd4213a56566a7ccd8d7509}{Get} (0)->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1PacketSink}{PacketSink}> ();
412           
413           \hyperlink{classns3_1_1Time}{Time} interPacketInterval = \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.01);
414           \hyperlink{classns3_1_1Ptr}{Ptr<EpsBearerTagUdpClient>} client = CreateObject<EpsBearerTagUdpClient>
       (enbit->ues[u].rnti, enbit->ues[u].bid);
415           client->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"RemoteAddress"}, Ipv4AddressValue (
      internetNodesIpIfaceContainer.\hyperlink{classns3_1_1Ipv4InterfaceContainer_ae63208dcd222be986822937ee4aa828c}{GetAddress} (1)));
416           client->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"RemotePort"}, UintegerValue (udpSinkPort));          
417           client->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"MaxPackets"}, UintegerValue (enbit->ues[u].numPkts));
418           client->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"Interval"}, TimeValue (interPacketInterval));
419           client->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"PacketSize"}, UintegerValue (enbit->ues[u].pktSize));
420           ue->\hyperlink{classns3_1_1Node_ab98b4fdc4aadc86366b80e8a79a53f47}{AddApplication} (client);
421           \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} clientApp;
422           clientApp.\hyperlink{classns3_1_1ApplicationContainer_ad09ab1a1ad5849d518d5f4c262e38152}{Add} (client);
423           clientApp.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (2.0));
424           clientApp.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0));   
425           enbit->ues[u].clientApp = client;
426 
427           uint64\_t imsi = u+1;
428           epcHelper->\hyperlink{classns3_1_1PointToPointEpcHelper_a6ed801de21387477fabd23eeafff7e73}{AddUe} (ueLteDevice, imsi);
429           epcHelper->\hyperlink{classns3_1_1PointToPointEpcHelper_a97023077eae8644e8f1b269a357c8f93}{ActivateEpsBearer} (ueLteDevice, imsi, EpcTft::Default (), 
      \hyperlink{structns3_1_1EpsBearer}{EpsBearer} (EpsBearer::NGBR\_VIDEO\_TCP\_DEFAULT));
430           enbApp->\hyperlink{classns3_1_1EpcEnbApplication_a706b531d6ec3ab6eb37567232f5c6cd4}{GetS1SapProvider} ()->\hyperlink{classns3_1_1EpcEnbS1SapProvider_af5e1397f498eb5b2b2e84d8a41106cac}{InitialUeMessage} (imsi, (uint16\_t) 
      imsi);
431           
432           \textcolor{comment}{// need this since all sinks are installed in the same node}
433           ++udpSinkPort; 
434         \} 
435             
436     \} 
437   
438   Simulator::Run ();
439 
440   \textcolor{keywordflow}{for} (std::vector<EnbUlTestData>::iterator enbit = \hyperlink{classEpcS1uUlTestCase_a2d52c6d9f4ee886f2060016760d7bf4d}{m\_enbUlTestData}.begin ();
441        enbit < \hyperlink{classEpcS1uUlTestCase_a2d52c6d9f4ee886f2060016760d7bf4d}{m\_enbUlTestData}.end ();
442        ++enbit)
443     \{
444       \textcolor{keywordflow}{for} (std::vector<UeUlTestData>::iterator ueit = enbit->ues.begin ();
445            ueit < enbit->ues.end ();
446            ++ueit)
447         \{
448           \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (ueit->serverApp->GetTotalRx (), (ueit->numPkts) * (
      ueit->pktSize), \textcolor{stringliteral}{"wrong total received bytes"});
449         \}      
450     \}
451   
452   Simulator::Destroy ();
453 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




\subsection{Member Data Documentation}
\index{Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}!m\+\_\+enb\+Ul\+Test\+Data@{m\+\_\+enb\+Ul\+Test\+Data}}
\index{m\+\_\+enb\+Ul\+Test\+Data@{m\+\_\+enb\+Ul\+Test\+Data}!Epc\+S1u\+Ul\+Test\+Case@{Epc\+S1u\+Ul\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+enb\+Ul\+Test\+Data}{m_enbUlTestData}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf Enb\+Ul\+Test\+Data}$>$ Epc\+S1u\+Ul\+Test\+Case\+::m\+\_\+enb\+Ul\+Test\+Data\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classEpcS1uUlTestCase_a2d52c6d9f4ee886f2060016760d7bf4d}{}\label{classEpcS1uUlTestCase_a2d52c6d9f4ee886f2060016760d7bf4d}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lte/test/\hyperlink{epc-test-s1u-uplink_8cc}{epc-\/test-\/s1u-\/uplink.\+cc}\end{DoxyCompactItemize}
