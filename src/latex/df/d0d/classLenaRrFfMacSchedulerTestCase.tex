\hypertarget{classLenaRrFfMacSchedulerTestCase}{}\section{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case Class Reference}
\label{classLenaRrFfMacSchedulerTestCase}\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}


{\ttfamily \#include $<$lte-\/test-\/rr-\/ff-\/mac-\/scheduler.\+h$>$}



Inheritance diagram for Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+:
% FIG 0


Collaboration diagram for Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLenaRrFfMacSchedulerTestCase_aaa8d659da4a77c08b84352c217ca949d}{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case} (uint16\+\_\+t n\+User, uint16\+\_\+t dist, double thr\+Ref\+Dl, double thr\+Ref\+Ul, bool error\+Model\+Enabled)
\item 
virtual \hyperlink{classLenaRrFfMacSchedulerTestCase_a8b07d4fdc9367766153b170c7dfc4ed4}{$\sim$\+Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classLenaRrFfMacSchedulerTestCase_a1e221eff047ec55f7f1d36daab1f1d91}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::string \hyperlink{classLenaRrFfMacSchedulerTestCase_a90ec076033e681b9953bfccd9fe9bf35}{Build\+Name\+String} (uint16\+\_\+t n\+User, uint16\+\_\+t dist)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint16\+\_\+t \hyperlink{classLenaRrFfMacSchedulerTestCase_a8973c6783abfcb4f86d2eed09f96771e}{m\+\_\+n\+User}
\item 
uint16\+\_\+t \hyperlink{classLenaRrFfMacSchedulerTestCase_acfeb04f33db41e95247adca7a4bef11d}{m\+\_\+dist}
\item 
double \hyperlink{classLenaRrFfMacSchedulerTestCase_a143d8ff0ac04228cd56d32081b2e78c2}{m\+\_\+thr\+Ref\+Dl}
\item 
double \hyperlink{classLenaRrFfMacSchedulerTestCase_a8516d539e8d7702b317e2bba5f08c13f}{m\+\_\+thr\+Ref\+Ul}
\item 
bool \hyperlink{classLenaRrFfMacSchedulerTestCase_a9d0173c247c23e56278cd09225c4b7d5}{m\+\_\+error\+Model\+Enabled}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This system test program creates different test cases with a single e\+NB and several U\+Es, all having the same Radio Bearer specification. In each test case, the U\+Es see the same S\+I\+NR from the e\+NB; different test cases are implemented obtained by using different S\+I\+NR values and different numbers of U\+Es. The test consists on checking that the obtained throughput performance is equal among users and matches a reference throughput value within a given tolerance. 

\subsection{Constructor \& Destructor Documentation}
\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\subsubsection[{\texorpdfstring{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case(uint16\+\_\+t n\+User, uint16\+\_\+t dist, double thr\+Ref\+Dl, double thr\+Ref\+Ul, bool error\+Model\+Enabled)}{LenaRrFfMacSchedulerTestCase(uint16_t nUser, uint16_t dist, double thrRefDl, double thrRefUl, bool errorModelEnabled)}}]{\setlength{\rightskip}{0pt plus 5cm}Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+::\+Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{n\+User, }
\item[{uint16\+\_\+t}]{dist, }
\item[{double}]{thr\+Ref\+Dl, }
\item[{double}]{thr\+Ref\+Ul, }
\item[{bool}]{error\+Model\+Enabled}
\end{DoxyParamCaption}
)}\hypertarget{classLenaRrFfMacSchedulerTestCase_aaa8d659da4a77c08b84352c217ca949d}{}\label{classLenaRrFfMacSchedulerTestCase_aaa8d659da4a77c08b84352c217ca949d}

\begin{DoxyCode}
163   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\hyperlink{classLenaRrFfMacSchedulerTestCase_a90ec076033e681b9953bfccd9fe9bf35}{BuildNameString} (nUser, dist)),              
164     \hyperlink{classLenaRrFfMacSchedulerTestCase_a8973c6783abfcb4f86d2eed09f96771e}{m\_nUser} (nUser),
165     \hyperlink{classLenaRrFfMacSchedulerTestCase_acfeb04f33db41e95247adca7a4bef11d}{m\_dist} (dist),
166     \hyperlink{classLenaRrFfMacSchedulerTestCase_a143d8ff0ac04228cd56d32081b2e78c2}{m\_thrRefDl} (thrRefDl),
167     \hyperlink{classLenaRrFfMacSchedulerTestCase_a8516d539e8d7702b317e2bba5f08c13f}{m\_thrRefUl} (thrRefUl),
168     \hyperlink{classLenaRrFfMacSchedulerTestCase_a9d0173c247c23e56278cd09225c4b7d5}{m\_errorModelEnabled} (errorModelEnabled)
169 \{
170 \}
\end{DoxyCode}
\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!````~Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{$\sim$\+Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\index{````~Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{$\sim$\+Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case()}{~LenaRrFfMacSchedulerTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+::$\sim$\+Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classLenaRrFfMacSchedulerTestCase_a8b07d4fdc9367766153b170c7dfc4ed4}{}\label{classLenaRrFfMacSchedulerTestCase_a8b07d4fdc9367766153b170c7dfc4ed4}

\begin{DoxyCode}
173 \{
174 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!Build\+Name\+String@{Build\+Name\+String}}
\index{Build\+Name\+String@{Build\+Name\+String}!Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\subsubsection[{\texorpdfstring{Build\+Name\+String(uint16\+\_\+t n\+User, uint16\+\_\+t dist)}{BuildNameString(uint16_t nUser, uint16_t dist)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+::\+Build\+Name\+String (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{n\+User, }
\item[{uint16\+\_\+t}]{dist}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classLenaRrFfMacSchedulerTestCase_a90ec076033e681b9953bfccd9fe9bf35}{}\label{classLenaRrFfMacSchedulerTestCase_a90ec076033e681b9953bfccd9fe9bf35}

\begin{DoxyCode}
156 \{
157   std::ostringstream oss;
158   oss << nUser << \textcolor{stringliteral}{" UEs, distance "} << dist << \textcolor{stringliteral}{" m"};
159   \textcolor{keywordflow}{return} oss.str ();
160 \}
\end{DoxyCode}
\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLenaRrFfMacSchedulerTestCase_a1e221eff047ec55f7f1d36daab1f1d91}{}\label{classLenaRrFfMacSchedulerTestCase_a1e221eff047ec55f7f1d36daab1f1d91}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. Initialize Simulation Scenario\+: 1 e\+NB and m\+\_\+n\+User U\+Es

Check that the assignation is done in a RR fashion

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
178 \{
179   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{classLenaRrFfMacSchedulerTestCase_a8973c6783abfcb4f86d2eed09f96771e}{m\_nUser} << \hyperlink{classLenaRrFfMacSchedulerTestCase_acfeb04f33db41e95247adca7a4bef11d}{m\_dist});
180   \textcolor{keywordflow}{if} (!\hyperlink{classLenaRrFfMacSchedulerTestCase_a9d0173c247c23e56278cd09225c4b7d5}{m\_errorModelEnabled})
181     \{
182       \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::CtrlErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
183       \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteSpectrumPhy::DataErrorModelEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
184     \}
185   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteHelper::UseIdealRrc"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
186 
187   \textcolor{comment}{// This is needed as the RR scheduler does not allocate resources properly for retransmission}
188   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteRlcAm::TxOpportunityForRetxAlwaysBigEnough"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
189 
190   \textcolor{comment}{//Disable Uplink Power Control}
191   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::EnableUplinkPowerControl"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
192 
197   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
198   
199   lteHelper->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"PathlossModel"}, StringValue (\textcolor{stringliteral}{"
      ns3::FriisSpectrumPropagationLossModel"}));
200 
201   \textcolor{comment}{// Create Nodes: eNodeB and UE}
202   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
203   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes;
204   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
205   ueNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (\hyperlink{classLenaRrFfMacSchedulerTestCase_a8973c6783abfcb4f86d2eed09f96771e}{m\_nUser});
206 
207   \textcolor{comment}{// Install Mobility Model}
208   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
209   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
210   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (enbNodes);
211   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
212   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (ueNodes);
213 
214   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
215   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
216   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs;
217   lteHelper->\hyperlink{classns3_1_1LteHelper_a8f86e55b8b80a81732c4b2df00fb25d5}{SetSchedulerType} (\textcolor{stringliteral}{"ns3::RrFfMacScheduler"});
218   enbDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes);
219   ueDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes);
220 
221   \textcolor{comment}{// Attach a UE to a eNB}
222   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs, enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
223 
224   \textcolor{comment}{// Activate an EPS bearer}
225   \textcolor{keyword}{enum} \hyperlink{structns3_1_1EpsBearer_aecf0c67109c5eb4ec0b07226fff5885e}{EpsBearer::Qci} q = EpsBearer::GBR\_CONV\_VOICE;
226   \hyperlink{structns3_1_1EpsBearer}{EpsBearer} bearer (q);
227   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs, bearer);
228   
229  
230   \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbNetDevice>} lteEnbDev = enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteEnbNetDevice}{LteEnbNetDevice}> ();
231   \hyperlink{classns3_1_1Ptr}{Ptr<LteEnbPhy>} enbPhy = lteEnbDev->\hyperlink{classns3_1_1LteEnbNetDevice_a58db72130e0740f16a5e03b22e4a10a4}{GetPhy} ();
232   enbPhy->SetAttribute (\textcolor{stringliteral}{"TxPower"}, DoubleValue (30.0));
233   enbPhy->SetAttribute (\textcolor{stringliteral}{"NoiseFigure"}, DoubleValue (5.0));
234 
235   \textcolor{comment}{// Set UEs' position and power}
236   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classLenaRrFfMacSchedulerTestCase_a8973c6783abfcb4f86d2eed09f96771e}{m\_nUser}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
237     \{
238       \hyperlink{classns3_1_1Ptr}{Ptr<ConstantPositionMobilityModel>} mm = ueNodes.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1ConstantPositionMobilityModel}{ConstantPositionMobilityModel}> ();
239       mm->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (\hyperlink{classLenaRrFfMacSchedulerTestCase_acfeb04f33db41e95247adca7a4bef11d}{m\_dist}, 0.0, 0.0));
240       \hyperlink{classns3_1_1Ptr}{Ptr<LteUeNetDevice>} lteUeDev = ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})->GetObject<
      \hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ();
241       \hyperlink{classns3_1_1Ptr}{Ptr<LteUePhy>} uePhy = lteUeDev->\hyperlink{classns3_1_1LteUeNetDevice_a2a9940a1e457a8bf3dae87fed4199c7a}{GetPhy} ();
242       uePhy->SetAttribute (\textcolor{stringliteral}{"TxPower"}, DoubleValue (23.0));
243       uePhy->SetAttribute (\textcolor{stringliteral}{"NoiseFigure"}, DoubleValue (9.0));
244     \}
245 
246 
247   \textcolor{keywordtype}{double} statsStartTime = 0.300; \textcolor{comment}{// need to allow for RRC connection establishment + SRS}
248   \textcolor{keywordtype}{double} statsDuration = 0.4;
249   \textcolor{keywordtype}{double} tolerance = 0.1;
250   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (statsStartTime + statsDuration - 0.0001));
251 
252   lteHelper->\hyperlink{classns3_1_1LteHelper_abadfdd04d30b261e9b6f0846b4784928}{EnableRlcTraces} ();
253   \hyperlink{classns3_1_1Ptr}{Ptr<RadioBearerStatsCalculator>} rlcStats = lteHelper->
      \hyperlink{classns3_1_1LteHelper_a6eb438ccf69642e3863adea4991fa2ca}{GetRlcStats} ();
254   rlcStats->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"StartTime"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (statsStartTime)));
255   rlcStats->\hyperlink{classns3_1_1ObjectBase_ac60245d3ea4123bbc9b1d391f1f6592f}{SetAttribute} (\textcolor{stringliteral}{"EpochDuration"}, TimeValue (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (statsDuration)));
256 
257   Simulator::Run ();
258 
262   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"DL - Test with "} << m\_nUser << \textcolor{stringliteral}{" user(s) at distance "} << 
      \hyperlink{classLenaRrFfMacSchedulerTestCase_acfeb04f33db41e95247adca7a4bef11d}{m\_dist});
263   std::vector <uint64\_t> dlDataRxed;
264   \textcolor{keywordflow}{if} (\hyperlink{classLenaRrFfMacSchedulerTestCase_a9d0173c247c23e56278cd09225c4b7d5}{m\_errorModelEnabled})
265     \{
266       \hyperlink{classLenaRrFfMacSchedulerTestCase_a143d8ff0ac04228cd56d32081b2e78c2}{m\_thrRefDl} *= 0.95; \textcolor{comment}{// for couting the Vienna AMC behavior: BLER between 0% and 10%}
267     \}
268   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classLenaRrFfMacSchedulerTestCase_a8973c6783abfcb4f86d2eed09f96771e}{m\_nUser}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
269     \{
270       \textcolor{comment}{// get the imsi}
271       uint64\_t imsi = ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})->GetObject<\hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ()->GetImsi ();
272       uint8\_t lcId = 3;
273       dlDataRxed.push\_back (rlcStats->\hyperlink{classns3_1_1RadioBearerStatsCalculator_a80ec1463cd053d8deebda8498d2b864e}{GetDlRxData} (imsi, lcId));
274       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tUser "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" imsi "} << imsi << \textcolor{stringliteral}{" lcid "} << (uint16\_t) lcId << \textcolor{stringliteral}{" bytes
       rxed "} << (\textcolor{keywordtype}{double})dlDataRxed.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) << \textcolor{stringliteral}{"  thr "} << (double)dlDataRxed.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) / statsDuration << \textcolor{stringliteral}{" ref "} <
      < \hyperlink{classLenaRrFfMacSchedulerTestCase_a143d8ff0ac04228cd56d32081b2e78c2}{m\_thrRefDl});
275       \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} ((\textcolor{keywordtype}{double})dlDataRxed.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) / statsDuration, \hyperlink{classLenaRrFfMacSchedulerTestCase_a143d8ff0ac04228cd56d32081b2e78c2}{m\_thrRefDl}, m\_thrRefDl * tolerance, \textcolor{stringliteral}{" Unfair Throughput!"});
276     \}
277 
278   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"UL - Test with "} << m\_nUser << \textcolor{stringliteral}{" user(s) at distance "} << 
      \hyperlink{classLenaRrFfMacSchedulerTestCase_acfeb04f33db41e95247adca7a4bef11d}{m\_dist});
279   std::vector <uint64\_t> ulDataRxed;
280   \textcolor{keywordflow}{if} (\hyperlink{classLenaRrFfMacSchedulerTestCase_a9d0173c247c23e56278cd09225c4b7d5}{m\_errorModelEnabled})
281     \{
282       \hyperlink{classLenaRrFfMacSchedulerTestCase_a8516d539e8d7702b317e2bba5f08c13f}{m\_thrRefUl} *= 0.95; \textcolor{comment}{// for couting the Vienna AMC behavior: BLER between 0% and 10%}
283     \}
284   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classLenaRrFfMacSchedulerTestCase_a8973c6783abfcb4f86d2eed09f96771e}{m\_nUser}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
285     \{
286       \textcolor{comment}{// get the imsi}
287       uint64\_t imsi = ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})->GetObject<\hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ()->GetImsi ();
288       \textcolor{comment}{// get the lcId}
289       uint8\_t lcId = 3;
290       ulDataRxed.push\_back (rlcStats->\hyperlink{classns3_1_1RadioBearerStatsCalculator_a6ce5113218813509a6fb6159f9be4807}{GetUlRxData} (imsi, lcId));
291       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tUser "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" imsi "} << imsi << \textcolor{stringliteral}{" lcid "} << (uint16\_t) lcId << \textcolor{stringliteral}{" bytes
       rxed "} << (\textcolor{keywordtype}{double})ulDataRxed.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) << \textcolor{stringliteral}{"  thr "} << (double)ulDataRxed.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) / statsDuration << \textcolor{stringliteral}{" ref "} <
      < \hyperlink{classLenaRrFfMacSchedulerTestCase_a8516d539e8d7702b317e2bba5f08c13f}{m\_thrRefUl} << \textcolor{stringliteral}{" txed "} << rlcStats->\hyperlink{classns3_1_1RadioBearerStatsCalculator_a9445f98e5497ecfe753ef033ea13c76f}{GetUlTxData} (imsi, lcId) / statsDuration);
292       \hyperlink{group__testing_ga9e7861b56b4e70db3b56044cb7a28e41}{NS\_TEST\_ASSERT\_MSG\_EQ\_TOL} ((\textcolor{keywordtype}{double})ulDataRxed.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) / statsDuration, \hyperlink{classLenaRrFfMacSchedulerTestCase_a8516d539e8d7702b317e2bba5f08c13f}{m\_thrRefUl}, m\_thrRefUl * tolerance, \textcolor{stringliteral}{" Unfair Throughput!"});
293     \}
294 
295   Simulator::Destroy ();
296 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




\subsection{Member Data Documentation}
\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!m\+\_\+dist@{m\+\_\+dist}}
\index{m\+\_\+dist@{m\+\_\+dist}!Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+dist}{m_dist}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+::m\+\_\+dist\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaRrFfMacSchedulerTestCase_acfeb04f33db41e95247adca7a4bef11d}{}\label{classLenaRrFfMacSchedulerTestCase_acfeb04f33db41e95247adca7a4bef11d}
\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!m\+\_\+error\+Model\+Enabled@{m\+\_\+error\+Model\+Enabled}}
\index{m\+\_\+error\+Model\+Enabled@{m\+\_\+error\+Model\+Enabled}!Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+error\+Model\+Enabled}{m_errorModelEnabled}}]{\setlength{\rightskip}{0pt plus 5cm}bool Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+::m\+\_\+error\+Model\+Enabled\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaRrFfMacSchedulerTestCase_a9d0173c247c23e56278cd09225c4b7d5}{}\label{classLenaRrFfMacSchedulerTestCase_a9d0173c247c23e56278cd09225c4b7d5}
\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!m\+\_\+n\+User@{m\+\_\+n\+User}}
\index{m\+\_\+n\+User@{m\+\_\+n\+User}!Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+n\+User}{m_nUser}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+::m\+\_\+n\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaRrFfMacSchedulerTestCase_a8973c6783abfcb4f86d2eed09f96771e}{}\label{classLenaRrFfMacSchedulerTestCase_a8973c6783abfcb4f86d2eed09f96771e}
\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!m\+\_\+thr\+Ref\+Dl@{m\+\_\+thr\+Ref\+Dl}}
\index{m\+\_\+thr\+Ref\+Dl@{m\+\_\+thr\+Ref\+Dl}!Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+thr\+Ref\+Dl}{m_thrRefDl}}]{\setlength{\rightskip}{0pt plus 5cm}double Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+::m\+\_\+thr\+Ref\+Dl\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaRrFfMacSchedulerTestCase_a143d8ff0ac04228cd56d32081b2e78c2}{}\label{classLenaRrFfMacSchedulerTestCase_a143d8ff0ac04228cd56d32081b2e78c2}
\index{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}!m\+\_\+thr\+Ref\+Ul@{m\+\_\+thr\+Ref\+Ul}}
\index{m\+\_\+thr\+Ref\+Ul@{m\+\_\+thr\+Ref\+Ul}!Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case@{Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+thr\+Ref\+Ul}{m_thrRefUl}}]{\setlength{\rightskip}{0pt plus 5cm}double Lena\+Rr\+Ff\+Mac\+Scheduler\+Test\+Case\+::m\+\_\+thr\+Ref\+Ul\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLenaRrFfMacSchedulerTestCase_a8516d539e8d7702b317e2bba5f08c13f}{}\label{classLenaRrFfMacSchedulerTestCase_a8516d539e8d7702b317e2bba5f08c13f}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/test/\hyperlink{lte-test-rr-ff-mac-scheduler_8h}{lte-\/test-\/rr-\/ff-\/mac-\/scheduler.\+h}\item 
lte/test/\hyperlink{lte-test-rr-ff-mac-scheduler_8cc}{lte-\/test-\/rr-\/ff-\/mac-\/scheduler.\+cc}\end{DoxyCompactItemize}
