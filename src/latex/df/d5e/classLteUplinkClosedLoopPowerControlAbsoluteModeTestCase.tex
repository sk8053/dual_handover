\hypertarget{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase}{}\section{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case Class Reference}
\label{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase}\index{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}}


{\ttfamily \#include $<$lte-\/test-\/uplink-\/power-\/control.\+h$>$}



Inheritance diagram for Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case\+:
% FIG 0


Collaboration diagram for Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase_ae40bad91bfc3b96d0e64fcf76e4de137}{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case} (std\+::string \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name})
\item 
virtual \hyperlink{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase_a55bafc08160caea97be00cb67a65eb53}{$\sim$\+Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase_a6a3e4107566655c5cbbf946c0e68c3d0}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}!Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}}
\index{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}!Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}}
\subsubsection[{\texorpdfstring{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case(std\+::string name)}{LteUplinkClosedLoopPowerControlAbsoluteModeTestCase(std::string name)}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case\+::\+Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case (
\begin{DoxyParamCaption}
\item[{std\+::string}]{name}
\end{DoxyParamCaption}
)}\hypertarget{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase_ae40bad91bfc3b96d0e64fcf76e4de137}{}\label{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase_ae40bad91bfc3b96d0e64fcf76e4de137}

\begin{DoxyCode}
296   : \hyperlink{classLteUplinkPowerControlTestCase_ac1aac9206ce30c28f80107fea71c8e8c}{LteUplinkPowerControlTestCase} (\textcolor{stringliteral}{"Uplink Closed Loop Power Control: "} + 
      \hyperlink{generate__test__data__lte__spectrum__model_8m_ab74e6bf80237ddc4109968cedc58c151}{name})
297 \{
298   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Creating LteUplinkClosedLoopPowerControlAbsoluteModeTestCase"});
299 \}
\end{DoxyCode}
\index{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}!````~Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{$\sim$\+Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}}
\index{````~Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{$\sim$\+Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}!Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case()}{~LteUplinkClosedLoopPowerControlAbsoluteModeTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case\+::$\sim$\+Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase_a55bafc08160caea97be00cb67a65eb53}{}\label{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase_a55bafc08160caea97be00cb67a65eb53}

\begin{DoxyCode}
302 \{
303 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case@{Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lte\+Uplink\+Closed\+Loop\+Power\+Control\+Absolute\+Mode\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase_a6a3e4107566655c5cbbf946c0e68c3d0}{}\label{classLteUplinkClosedLoopPowerControlAbsoluteModeTestCase_a6a3e4107566655c5cbbf946c0e68c3d0}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Reimplemented from \hyperlink{classLteUplinkPowerControlTestCase_ade34c47524d78d2154c15ba6c257a581}{Lte\+Uplink\+Power\+Control\+Test\+Case}.


\begin{DoxyCode}
307 \{
308   \hyperlink{group__config_ga2c1b65724f42f8c72276d7e7ad6df6db}{Config::Reset} ();
309   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteHelper::UseIdealRrc"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
310 
311   \textcolor{keywordtype}{double} eNbTxPower = 30;
312   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteEnbPhy::TxPower"}, DoubleValue (eNbTxPower));
313   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::TxPower"}, DoubleValue (10.0));
314   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePhy::EnableUplinkPowerControl"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
315 
316   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::ClosedLoop"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true}));
317   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::AccumulationEnabled"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false}));
318   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::PoNominalPusch"}, IntegerValue (-90));
319   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::LteUePowerControl::PsrsOffset"}, IntegerValue (9));
320 
321   \hyperlink{classns3_1_1Ptr}{Ptr<LteHelper>} lteHelper = CreateObject<LteHelper> ();
322   lteHelper->\hyperlink{classns3_1_1LteHelper_a035c6b03305c1511975362f80425b5fc}{SetFfrAlgorithmType} (\textcolor{stringliteral}{"ns3::LteFfrSimple"});
323 
324   uint8\_t bandwidth = 25;
325   \textcolor{keywordtype}{double} \hyperlink{lte__link__budget__interference_8m_ab5ca0c44c6f0a063a5219b3749db661f}{d1} = 100;
326 
327   \textcolor{comment}{// Create Nodes: eNodeB and UE}
328   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} enbNodes;
329   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ueNodes;
330   enbNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
331   ueNodes.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (1);
332   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} allNodes = \hyperlink{classns3_1_1NodeContainer}{NodeContainer} ( enbNodes, ueNodes);
333 
334 \textcolor{comment}{/*   the topology is the following:}
335 \textcolor{comment}{ *}
336 \textcolor{comment}{ *   eNB1-------------------------UE}
337 \textcolor{comment}{ *                  d1}
338 \textcolor{comment}{ */}
339 
340   \textcolor{comment}{// Install Mobility Model}
341   \hyperlink{classns3_1_1Ptr}{Ptr<ListPositionAllocator>} positionAlloc = CreateObject<ListPositionAllocator> 
      ();
342   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (0.0, 0.0, 0.0));                  \textcolor{comment}{// eNB1}
343   positionAlloc->\hyperlink{classns3_1_1ListPositionAllocator_a460e82f015ac012a73ba0ea0cccb3486}{Add} (Vector (d1, 0.0, 0.0));           \textcolor{comment}{// UE1}
344 
345   \hyperlink{classns3_1_1MobilityHelper}{MobilityHelper} mobility;
346   mobility.\hyperlink{classns3_1_1MobilityHelper_a030275011b6f40682e70534d30280aba}{SetMobilityModel} (\textcolor{stringliteral}{"ns3::ConstantPositionMobilityModel"});
347   mobility.\hyperlink{classns3_1_1MobilityHelper_ac59d5295076be3cc11021566713a28c5}{SetPositionAllocator} (positionAlloc);
348   mobility.\hyperlink{classns3_1_1MobilityHelper_a07737960ee95c0777109cf2994dd97ae}{Install} (allNodes);
349   \hyperlink{classLteUplinkPowerControlTestCase_a0b8bf35679af00783442c2e310b30e45}{m\_ueMobility} = ueNodes.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0)->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1MobilityModel}{MobilityModel}> ();
350 
351   \textcolor{comment}{// Create Devices and install them in the Nodes (eNB and UE)}
352   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} enbDevs;
353   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} ueDevs;
354   lteHelper->\hyperlink{classns3_1_1LteHelper_a8f86e55b8b80a81732c4b2df00fb25d5}{SetSchedulerType} (\textcolor{stringliteral}{"ns3::PfFfMacScheduler"});
355 
356   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"DlBandwidth"}, UintegerValue (bandwidth));
357   lteHelper->\hyperlink{classns3_1_1LteHelper_ac42f0f3d6cd8473d810bfbbeb5d592e0}{SetEnbDeviceAttribute} (\textcolor{stringliteral}{"UlBandwidth"}, UintegerValue (bandwidth));
358 
359   enbDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_a5e009ad35ef85f46b5a6099263f15a03}{InstallEnbDevice} (enbNodes);
360   ueDevs = lteHelper->\hyperlink{classns3_1_1LteHelper_ac9cd932d7de92811cfa953c2e3b2fc9f}{InstallUeDevice} (ueNodes);
361 
362   \hyperlink{classns3_1_1Ptr}{Ptr<LteUePhy>} uePhy = DynamicCast<LteUePhy>( ueDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0)->GetObject<
      \hyperlink{classns3_1_1LteUeNetDevice}{LteUeNetDevice}> ()->GetPhy () );
363   \hyperlink{classLteUplinkPowerControlTestCase_af2fabece7259e4b60cc73d7ec02b7a3d}{m\_ueUpc} = uePhy->\hyperlink{classns3_1_1LteUePhy_a386b038c79252c3fe8408e68279fa88b}{GetUplinkPowerControl} ();
364 
365   m\_ueUpc->\hyperlink{classns3_1_1ObjectBase_a1be45f6fd561e75dcac9dfa81b2b81e4}{TraceConnectWithoutContext} (\textcolor{stringliteral}{"ReportPuschTxPower"},
366                                        \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-uplink-power-control_8cc_a2236a3f87ff177b3305bf82ff492f8ad}{PuschTxPowerNofitication}, \textcolor{keyword}{this}));
367   m\_ueUpc->TraceConnectWithoutContext (\textcolor{stringliteral}{"ReportPucchTxPower"},
368                                        \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-uplink-power-control_8cc_a4a348fa3ab0a4e65de2ddb70fe0176e3}{PucchTxPowerNofitication}, \textcolor{keyword}{this}));
369   m\_ueUpc->TraceConnectWithoutContext (\textcolor{stringliteral}{"ReportSrsTxPower"},
370                                        \hyperlink{group__makeboundcallback_ga1725d6362e6065faa0709f7c93f8d770}{MakeBoundCallback} (&
      \hyperlink{lte-test-uplink-power-control_8cc_acc0b838be35884288e3872794ca2903d}{SrsTxPowerNofitication}, \textcolor{keyword}{this}));
371 
372   \textcolor{comment}{// Attach a UE to a eNB}
373   lteHelper->\hyperlink{classns3_1_1LteHelper_a9466743f826aa2652a87907b7f0a1c87}{Attach} (ueDevs, enbDevs.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
374 
375   \textcolor{comment}{// Activate a data radio bearer}
376   \textcolor{keyword}{enum} \hyperlink{structns3_1_1EpsBearer_aecf0c67109c5eb4ec0b07226fff5885e}{EpsBearer::Qci} q = EpsBearer::GBR\_CONV\_VOICE;
377   \hyperlink{structns3_1_1EpsBearer}{EpsBearer} bearer (q);
378   lteHelper->\hyperlink{classns3_1_1LteHelper_ac896e16cf162e4beeaa292d39ab1b700}{ActivateDataRadioBearer} (ueDevs, bearer);
379 
380   \hyperlink{classns3_1_1PointerValue}{PointerValue} tmp;
381   enbDevs.\hyperlink{classns3_1_1PointerValue_ae8e90fe3c0810cd6e4e1b1ba31f52a66}{Get} (0)->GetAttribute (\textcolor{stringliteral}{"LteFfrAlgorithm"}, tmp);
382   \hyperlink{classLteUplinkPowerControlTestCase_ac0e14f35a6bc7b99242efc3985a87d4e}{m\_ffrSimple} = DynamicCast<LteFfrSimple>(tmp.\hyperlink{classns3_1_1PointerValue_a53d0f9f5c538ea6120c96a1ecb1344a8}{GetObject} ());
383   \hyperlink{classLteUplinkPowerControlTestCase_a68142bcda5a786775546febd8aed11df}{m\_accumulatedMode} = \textcolor{keyword}{false};
384 
385   \textcolor{comment}{//Changing TPC value}
386   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (0),
387                        &\hyperlink{classLteUplinkPowerControlTestCase_a91e2e46a5fa22677a33d5328ac9789b8}{LteUplinkPowerControlTestCase::SetTpcConfiguration}
      , \textcolor{keyword}{this}, 1, 0, 1.9539, 1.9539, 4.9539);
388   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (100),
389                        &\hyperlink{classLteUplinkPowerControlTestCase_a91e2e46a5fa22677a33d5328ac9789b8}{LteUplinkPowerControlTestCase::SetTpcConfiguration}
      , \textcolor{keyword}{this}, 0, 0, -1.0461, -1.0461, 1.9539);
390   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (200),
391                        &\hyperlink{classLteUplinkPowerControlTestCase_a91e2e46a5fa22677a33d5328ac9789b8}{LteUplinkPowerControlTestCase::SetTpcConfiguration}
      , \textcolor{keyword}{this}, 2, 0, 3.9539, 3.9539, 6.9539);
392   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (300),
393                        &\hyperlink{classLteUplinkPowerControlTestCase_a91e2e46a5fa22677a33d5328ac9789b8}{LteUplinkPowerControlTestCase::SetTpcConfiguration}
      , \textcolor{keyword}{this}, 3, 0, 6.9539, 6.9539, 9.9539);
394   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (400),
395                        &\hyperlink{classLteUplinkPowerControlTestCase_a91e2e46a5fa22677a33d5328ac9789b8}{LteUplinkPowerControlTestCase::SetTpcConfiguration}
      , \textcolor{keyword}{this}, 0, 0, -1.0461, -1.0461, 1.9539);
396   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (500),
397                        &\hyperlink{classLteUplinkPowerControlTestCase_a91e2e46a5fa22677a33d5328ac9789b8}{LteUplinkPowerControlTestCase::SetTpcConfiguration}
      , \textcolor{keyword}{this}, 1, 0, 1.9539, 1.9539, 4.9539);
398   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (600),
399                        &\hyperlink{classLteUplinkPowerControlTestCase_a91e2e46a5fa22677a33d5328ac9789b8}{LteUplinkPowerControlTestCase::SetTpcConfiguration}
      , \textcolor{keyword}{this}, 3, 0, 6.9539, 6.9539, 9.9539);
400   Simulator::Schedule (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (800),
401                        &\hyperlink{classLteUplinkPowerControlTestCase_a91e2e46a5fa22677a33d5328ac9789b8}{LteUplinkPowerControlTestCase::SetTpcConfiguration}
      , \textcolor{keyword}{this}, 2, 0, 3.9539, 3.9539, 6.9539);
402   Simulator::Stop (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.000));
403   Simulator::Run ();
404 
405   Simulator::Destroy ();
406 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/test/\hyperlink{lte-test-uplink-power-control_8h}{lte-\/test-\/uplink-\/power-\/control.\+h}\item 
lte/test/\hyperlink{lte-test-uplink-power-control_8cc}{lte-\/test-\/uplink-\/power-\/control.\+cc}\end{DoxyCompactItemize}
