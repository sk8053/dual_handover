\hypertarget{classns3_1_1DelayJitterEstimation}{}\section{ns3\+:\+:Delay\+Jitter\+Estimation Class Reference}
\label{classns3_1_1DelayJitterEstimation}\index{ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}}


quick and dirty delay and jitter estimation  




{\ttfamily \#include $<$delay-\/jitter-\/estimation.\+h$>$}



Collaboration diagram for ns3\+:\+:Delay\+Jitter\+Estimation\+:
% FIG 0
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1DelayJitterEstimation_a30dc40f5f81bcc3f8a8f49ff44f22cbc}{Delay\+Jitter\+Estimation} ()
\item 
void \hyperlink{classns3_1_1DelayJitterEstimation_a2ed3a248d9cee91c92690793378b5797}{Record\+Rx} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet)
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1DelayJitterEstimation_aa4af6dbec8f192a969499e5b82d28fa3}{Get\+Last\+Delay} (void) const 
\item 
uint64\+\_\+t \hyperlink{classns3_1_1DelayJitterEstimation_a92d1f80a86286682a473ee76d9d9f06b}{Get\+Last\+Jitter} (void) const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{classns3_1_1DelayJitterEstimation_a38cbbdbfcdcc81cc9e08e3a9e2d10e75}{Prepare\+Tx} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1DelayJitterEstimation_a19f18c143edbdd4c2939af12c686ee2c}{m\+\_\+previous\+Rx}
\begin{DoxyCompactList}\small\item\em Previous Rx time. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1DelayJitterEstimation_ae072ffd2955965756add116846e5d9e5}{m\+\_\+previous\+Rx\+Tx}
\begin{DoxyCompactList}\small\item\em Previous Rx or Tx time. \end{DoxyCompactList}\item 
\hyperlink{classint64x64__t}{int64x64\+\_\+t} \hyperlink{classns3_1_1DelayJitterEstimation_a7bcede70a5da4cab9a0571e649c8e80a}{m\+\_\+jitter}
\begin{DoxyCompactList}\small\item\em Jitter estimation. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Time}{Time} \hyperlink{classns3_1_1DelayJitterEstimation_accc7cfcabc4ec0f292ef70ef834448db}{m\+\_\+delay}
\begin{DoxyCompactList}\small\item\em Delay estimation. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
quick and dirty delay and jitter estimation 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}!Delay\+Jitter\+Estimation@{Delay\+Jitter\+Estimation}}
\index{Delay\+Jitter\+Estimation@{Delay\+Jitter\+Estimation}!ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}}
\subsubsection[{\texorpdfstring{Delay\+Jitter\+Estimation()}{DelayJitterEstimation()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Delay\+Jitter\+Estimation\+::\+Delay\+Jitter\+Estimation (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1DelayJitterEstimation_a30dc40f5f81bcc3f8a8f49ff44f22cbc}{}\label{classns3_1_1DelayJitterEstimation_a30dc40f5f81bcc3f8a8f49ff44f22cbc}

\begin{DoxyCode}
112   : \hyperlink{classns3_1_1DelayJitterEstimation_a19f18c143edbdd4c2939af12c686ee2c}{m\_previousRx} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ()),
113     \hyperlink{classns3_1_1DelayJitterEstimation_ae072ffd2955965756add116846e5d9e5}{m\_previousRxTx} (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ()),
114     \hyperlink{classns3_1_1DelayJitterEstimation_a7bcede70a5da4cab9a0571e649c8e80a}{m\_jitter} (0),
115     \hyperlink{classns3_1_1DelayJitterEstimation_accc7cfcabc4ec0f292ef70ef834448db}{m\_delay} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0.0))
116 \{
117 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}!Get\+Last\+Delay@{Get\+Last\+Delay}}
\index{Get\+Last\+Delay@{Get\+Last\+Delay}!ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}}
\subsubsection[{\texorpdfstring{Get\+Last\+Delay(void) const }{GetLastDelay(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Delay\+Jitter\+Estimation\+::\+Get\+Last\+Delay (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1DelayJitterEstimation_aa4af6dbec8f192a969499e5b82d28fa3}{}\label{classns3_1_1DelayJitterEstimation_aa4af6dbec8f192a969499e5b82d28fa3}
\begin{DoxyReturn}{Returns}
the updated delay. 
\end{DoxyReturn}

\begin{DoxyCode}
145 \{
146   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1DelayJitterEstimation_accc7cfcabc4ec0f292ef70ef834448db}{m\_delay};
147 \}
\end{DoxyCode}
\index{ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}!Get\+Last\+Jitter@{Get\+Last\+Jitter}}
\index{Get\+Last\+Jitter@{Get\+Last\+Jitter}!ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}}
\subsubsection[{\texorpdfstring{Get\+Last\+Jitter(void) const }{GetLastJitter(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t ns3\+::\+Delay\+Jitter\+Estimation\+::\+Get\+Last\+Jitter (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1DelayJitterEstimation_a92d1f80a86286682a473ee76d9d9f06b}{}\label{classns3_1_1DelayJitterEstimation_a92d1f80a86286682a473ee76d9d9f06b}
The jitter is calculated using the \{1889\} (R\+TP) jitter definition.

\begin{DoxyReturn}{Returns}
the updated jitter. 
\end{DoxyReturn}

\begin{DoxyCode}
150 \{
151   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1DelayJitterEstimation_a7bcede70a5da4cab9a0571e649c8e80a}{m\_jitter}.GetHigh ();
152 \}
\end{DoxyCode}
\index{ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}!Prepare\+Tx@{Prepare\+Tx}}
\index{Prepare\+Tx@{Prepare\+Tx}!ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}}
\subsubsection[{\texorpdfstring{Prepare\+Tx(\+Ptr$<$ const Packet $>$ packet)}{PrepareTx(Ptr< const Packet > packet)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Delay\+Jitter\+Estimation\+::\+Prepare\+Tx (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1DelayJitterEstimation_a38cbbdbfcdcc81cc9e08e3a9e2d10e75}{}\label{classns3_1_1DelayJitterEstimation_a38cbbdbfcdcc81cc9e08e3a9e2d10e75}

\begin{DoxyParams}{Parameters}
{\em packet} & the packet to send over a wire\\
\hline
\end{DoxyParams}
This method should be invoked once on each packet to record within the packet the tx time which is used upon packet reception to calculate the delay and jitter. The tx time is stored in the packet as an \hyperlink{classns3_1_1Tag}{ns3\+::\+Tag} which means that it does not use any network resources and is not taken into account in transmission delay calculations. 
\begin{DoxyCode}
120 \{
121   DelayJitterEstimationTimestampTag tag;
122   packet->AddByteTag (tag);
123 \}
\end{DoxyCode}
\index{ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}!Record\+Rx@{Record\+Rx}}
\index{Record\+Rx@{Record\+Rx}!ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}}
\subsubsection[{\texorpdfstring{Record\+Rx(\+Ptr$<$ const Packet $>$ packet)}{RecordRx(Ptr< const Packet > packet)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Delay\+Jitter\+Estimation\+::\+Record\+Rx (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1DelayJitterEstimation_a2ed3a248d9cee91c92690793378b5797}{}\label{classns3_1_1DelayJitterEstimation_a2ed3a248d9cee91c92690793378b5797}

\begin{DoxyParams}{Parameters}
{\em packet} & the packet received\\
\hline
\end{DoxyParams}
Invoke this method to update the delay and jitter calculations After a call to this method, \hyperlink{classns3_1_1DelayJitterEstimation_aa4af6dbec8f192a969499e5b82d28fa3}{Get\+Last\+Delay} and \hyperlink{classns3_1_1DelayJitterEstimation_a92d1f80a86286682a473ee76d9d9f06b}{Get\+Last\+Jitter} will return an updated delay and jitter. 
\begin{DoxyCode}
126 \{
127   DelayJitterEstimationTimestampTag tag;
128   \textcolor{keywordtype}{bool} found;
129   found = packet->FindFirstMatchingByteTag (tag);
130   \textcolor{keywordflow}{if} (!found)
131     \{
132       \textcolor{keywordflow}{return};
133     \}
134   tag.GetTxTime ();
135 
136   \hyperlink{namespacens3_1_1TracedValueCallback_a7ffd3e7c142ffe7c8a1d2db9b8de38ec}{Time} delta = (\hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - \hyperlink{classns3_1_1DelayJitterEstimation_a19f18c143edbdd4c2939af12c686ee2c}{m\_previousRx}) - (tag.GetTxTime () - 
      \hyperlink{classns3_1_1DelayJitterEstimation_ae072ffd2955965756add116846e5d9e5}{m\_previousRxTx});
137   \hyperlink{classns3_1_1DelayJitterEstimation_a7bcede70a5da4cab9a0571e649c8e80a}{m\_jitter} += (\hyperlink{group__highprec_gabf87260a0ba68d152ae95568b2ef58fe}{Abs} (delta) - \hyperlink{classns3_1_1DelayJitterEstimation_a7bcede70a5da4cab9a0571e649c8e80a}{m\_jitter}) / 16;
138   \hyperlink{classns3_1_1DelayJitterEstimation_a19f18c143edbdd4c2939af12c686ee2c}{m\_previousRx} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} ();
139   \hyperlink{classns3_1_1DelayJitterEstimation_ae072ffd2955965756add116846e5d9e5}{m\_previousRxTx} = tag.GetTxTime ();
140   \hyperlink{classns3_1_1DelayJitterEstimation_accc7cfcabc4ec0f292ef70ef834448db}{m\_delay} = \hyperlink{classns3_1_1Simulator_ac3178fa975b419f7875e7105be122800}{Simulator::Now} () - tag.GetTxTime ();
141 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1




\subsection{Member Data Documentation}
\index{ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}!m\+\_\+delay@{m\+\_\+delay}}
\index{m\+\_\+delay@{m\+\_\+delay}!ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}}
\subsubsection[{\texorpdfstring{m\+\_\+delay}{m_delay}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Delay\+Jitter\+Estimation\+::m\+\_\+delay\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1DelayJitterEstimation_accc7cfcabc4ec0f292ef70ef834448db}{}\label{classns3_1_1DelayJitterEstimation_accc7cfcabc4ec0f292ef70ef834448db}


Delay estimation. 

\index{ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}!m\+\_\+jitter@{m\+\_\+jitter}}
\index{m\+\_\+jitter@{m\+\_\+jitter}!ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}}
\subsubsection[{\texorpdfstring{m\+\_\+jitter}{m_jitter}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int64x64\+\_\+t} ns3\+::\+Delay\+Jitter\+Estimation\+::m\+\_\+jitter\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1DelayJitterEstimation_a7bcede70a5da4cab9a0571e649c8e80a}{}\label{classns3_1_1DelayJitterEstimation_a7bcede70a5da4cab9a0571e649c8e80a}


Jitter estimation. 

\index{ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}!m\+\_\+previous\+Rx@{m\+\_\+previous\+Rx}}
\index{m\+\_\+previous\+Rx@{m\+\_\+previous\+Rx}!ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}}
\subsubsection[{\texorpdfstring{m\+\_\+previous\+Rx}{m_previousRx}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Delay\+Jitter\+Estimation\+::m\+\_\+previous\+Rx\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1DelayJitterEstimation_a19f18c143edbdd4c2939af12c686ee2c}{}\label{classns3_1_1DelayJitterEstimation_a19f18c143edbdd4c2939af12c686ee2c}


Previous Rx time. 

\index{ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}!m\+\_\+previous\+Rx\+Tx@{m\+\_\+previous\+Rx\+Tx}}
\index{m\+\_\+previous\+Rx\+Tx@{m\+\_\+previous\+Rx\+Tx}!ns3\+::\+Delay\+Jitter\+Estimation@{ns3\+::\+Delay\+Jitter\+Estimation}}
\subsubsection[{\texorpdfstring{m\+\_\+previous\+Rx\+Tx}{m_previousRxTx}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Time} ns3\+::\+Delay\+Jitter\+Estimation\+::m\+\_\+previous\+Rx\+Tx\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1DelayJitterEstimation_ae072ffd2955965756add116846e5d9e5}{}\label{classns3_1_1DelayJitterEstimation_ae072ffd2955965756add116846e5d9e5}


Previous Rx or Tx time. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
network/helper/\hyperlink{delay-jitter-estimation_8h}{delay-\/jitter-\/estimation.\+h}\item 
network/helper/\hyperlink{delay-jitter-estimation_8cc}{delay-\/jitter-\/estimation.\+cc}\end{DoxyCompactItemize}
