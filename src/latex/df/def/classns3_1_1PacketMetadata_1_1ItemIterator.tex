\hypertarget{classns3_1_1PacketMetadata_1_1ItemIterator}{}\section{ns3\+:\+:Packet\+Metadata\+:\+:Item\+Iterator Class Reference}
\label{classns3_1_1PacketMetadata_1_1ItemIterator}\index{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}}


Iterator class for metadata items.  




{\ttfamily \#include $<$packet-\/metadata.\+h$>$}



Collaboration diagram for ns3\+:\+:Packet\+Metadata\+:\+:Item\+Iterator\+:
% FIG 0
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_acb9218e50f55d1ea4d952989b2bdcf71}{Item\+Iterator} (const \hyperlink{classns3_1_1PacketMetadata}{Packet\+Metadata} $\ast$metadata, \hyperlink{classns3_1_1Buffer}{Buffer} buffer)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_abc9348e790ef50100bc1c26a9faf025b}{Has\+Next} (void) const 
\begin{DoxyCompactList}\small\item\em Checks if there is another metadata item. \end{DoxyCompactList}\item 
\hyperlink{structns3_1_1PacketMetadata_1_1Item}{Item} \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a3d59a1673dca4338f41d3c788ccd3e10}{Next} (void)
\begin{DoxyCompactList}\small\item\em Retrieve the next metadata item. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{classns3_1_1PacketMetadata}{Packet\+Metadata} $\ast$ \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a6a91c392408e77624613663198f269a6}{m\+\_\+metadata}
\begin{DoxyCompactList}\small\item\em pointer to the metadata \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Buffer}{Buffer} \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a28a05c78e0009cfda77bc74d3eefb30e}{m\+\_\+buffer}
\begin{DoxyCompactList}\small\item\em buffer the metadata refers to \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a05a394b22a469fcd9adb8cf23916c437}{m\+\_\+current}
\begin{DoxyCompactList}\small\item\em current position \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_aa1970b36f1f272fd758b68eea35339a3}{m\+\_\+offset}
\begin{DoxyCompactList}\small\item\em offset \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a8ed1eb05c698cb72588f997f72e2788e}{m\+\_\+has\+Read\+Tail}
\begin{DoxyCompactList}\small\item\em true if the metadata tail has been read \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Iterator class for metadata items. 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}!Item\+Iterator@{Item\+Iterator}}
\index{Item\+Iterator@{Item\+Iterator}!ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}}
\subsubsection[{\texorpdfstring{Item\+Iterator(const Packet\+Metadata $\ast$metadata, Buffer buffer)}{ItemIterator(const PacketMetadata *metadata, Buffer buffer)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator\+::\+Item\+Iterator (
\begin{DoxyParamCaption}
\item[{const {\bf Packet\+Metadata} $\ast$}]{metadata, }
\item[{{\bf Buffer}}]{buffer}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PacketMetadata_1_1ItemIterator_acb9218e50f55d1ea4d952989b2bdcf71}{}\label{classns3_1_1PacketMetadata_1_1ItemIterator_acb9218e50f55d1ea4d952989b2bdcf71}


Constructor. 


\begin{DoxyParams}{Parameters}
{\em metadata} & a pointer to the metadata \\
\hline
{\em buffer} & the buffer the metadata refers to \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1052   : \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a6a91c392408e77624613663198f269a6}{m\_metadata} (metadata),
1053     \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a28a05c78e0009cfda77bc74d3eefb30e}{m\_buffer} (buffer),
1054     \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a05a394b22a469fcd9adb8cf23916c437}{m\_current} (metadata->m\_head),
1055     \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_aa1970b36f1f272fd758b68eea35339a3}{m\_offset} (0),
1056     \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a8ed1eb05c698cb72588f997f72e2788e}{m\_hasReadTail} (\textcolor{keyword}{false})
1057 \{
1058   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << metadata << &buffer);
1059 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}!Has\+Next@{Has\+Next}}
\index{Has\+Next@{Has\+Next}!ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}}
\subsubsection[{\texorpdfstring{Has\+Next(void) const }{HasNext(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator\+::\+Has\+Next (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1PacketMetadata_1_1ItemIterator_abc9348e790ef50100bc1c26a9faf025b}{}\label{classns3_1_1PacketMetadata_1_1ItemIterator_abc9348e790ef50100bc1c26a9faf025b}


Checks if there is another metadata item. 

\begin{DoxyReturn}{Returns}
true if there is another item 
\end{DoxyReturn}

\begin{DoxyCode}
1062 \{
1063   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1064   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a05a394b22a469fcd9adb8cf23916c437}{m\_current} == 0xffff)
1065     \{
1066       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1067     \}
1068   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a8ed1eb05c698cb72588f997f72e2788e}{m\_hasReadTail})
1069     \{
1070       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1071     \}
1072   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1073 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 1


\index{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}!Next@{Next}}
\index{Next@{Next}!ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}}
\subsubsection[{\texorpdfstring{Next(void)}{Next(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Packet\+Metadata\+::\+Item} ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator\+::\+Next (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1PacketMetadata_1_1ItemIterator_a3d59a1673dca4338f41d3c788ccd3e10}{}\label{classns3_1_1PacketMetadata_1_1ItemIterator_a3d59a1673dca4338f41d3c788ccd3e10}


Retrieve the next metadata item. 

\begin{DoxyReturn}{Returns}
the next metadata item 
\end{DoxyReturn}

\begin{DoxyCode}
1076 \{
1077   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1078   \textcolor{keyword}{struct }PacketMetadata::Item item;
1079   \textcolor{keyword}{struct }PacketMetadata::SmallItem smallItem;
1080   \textcolor{keyword}{struct }PacketMetadata::ExtraItem extraItem;
1081   \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a6a91c392408e77624613663198f269a6}{m\_metadata}->\hyperlink{classns3_1_1PacketMetadata_a3719ad2c32313a9a1c74462322e8b517}{ReadItems} (\hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a05a394b22a469fcd9adb8cf23916c437}{m\_current}, &smallItem, &extraItem);
1082   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a05a394b22a469fcd9adb8cf23916c437}{m\_current} == \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a6a91c392408e77624613663198f269a6}{m\_metadata}->\hyperlink{classns3_1_1PacketMetadata_ad24a659e236af7b98c475c97c4f60db9}{m\_tail})
1083     \{
1084       \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a8ed1eb05c698cb72588f997f72e2788e}{m\_hasReadTail} = \textcolor{keyword}{true};
1085     \}
1086   \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a05a394b22a469fcd9adb8cf23916c437}{m\_current} = smallItem.next;
1087   uint32\_t uid = (smallItem.typeUid & 0xfffffffe) >> 1;
1088   item.tid.SetUid (uid);
1089   item.currentTrimedFromStart = extraItem.fragmentStart;
1090   item.currentTrimedFromEnd = extraItem.fragmentEnd - smallItem.size;
1091   item.currentSize = extraItem.fragmentEnd - extraItem.fragmentStart;
1092   \textcolor{keywordflow}{if} (extraItem.fragmentStart != 0 || extraItem.fragmentEnd != smallItem.size)
1093     \{
1094       item.isFragment = \textcolor{keyword}{true};
1095     \}
1096   \textcolor{keywordflow}{else}
1097     \{
1098       item.isFragment = \textcolor{keyword}{false};
1099     \}
1100   TypeId tid;
1101   tid.SetUid (uid);
1102   \textcolor{keywordflow}{if} (uid == 0)
1103     \{
1104       item.type = \hyperlink{structns3_1_1PacketMetadata_1_1Item_ab0a06781a8793079afeab58a9a9b3174ac2bc28ee0adb79d428d3f5a11be52f80}{PacketMetadata::Item::PAYLOAD};
1105     \}
1106   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tid.IsChildOf (\hyperlink{classns3_1_1Header_a19c6ed8b6d49bddfe37dc99a7b18d22b}{Header::GetTypeId} ()))
1107     \{
1108       item.type = \hyperlink{structns3_1_1PacketMetadata_1_1Item_ab0a06781a8793079afeab58a9a9b3174a35a76b7dc57ca42587ecfb5f81f1bcb2}{PacketMetadata::Item::HEADER};
1109       \textcolor{keywordflow}{if} (!item.isFragment)
1110         \{
1111           item.current = \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a28a05c78e0009cfda77bc74d3eefb30e}{m\_buffer}.\hyperlink{classns3_1_1Buffer_a893d4bf50df13e730b6cd0fda91b967f}{Begin} ();
1112           item.current.\hyperlink{classns3_1_1Buffer_1_1Iterator_a5eaa564bdc98d063b7e94b1768aeed6b}{Next} (\hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_aa1970b36f1f272fd758b68eea35339a3}{m\_offset});
1113         \}
1114     \}
1115   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tid.IsChildOf (\hyperlink{classns3_1_1Trailer_a93dd50665201460721fa5722d583f34f}{Trailer::GetTypeId} ()))
1116     \{
1117       item.type = \hyperlink{structns3_1_1PacketMetadata_1_1Item_ab0a06781a8793079afeab58a9a9b3174ab32282a2f84adad5e57549c03179ff45}{PacketMetadata::Item::TRAILER};
1118       \textcolor{keywordflow}{if} (!item.isFragment)
1119         \{
1120           item.current = \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a28a05c78e0009cfda77bc74d3eefb30e}{m\_buffer}.\hyperlink{classns3_1_1Buffer_a52207c7aed7bae89fba2f9e997c82724}{End} ();
1121           item.current.\hyperlink{classns3_1_1Buffer_1_1Iterator_a9913fb3b506a9f6efe46060531f051d8}{Prev} (\hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a28a05c78e0009cfda77bc74d3eefb30e}{m\_buffer}.\hyperlink{classns3_1_1Buffer_a3047b8f2dad303c6370695122f1884f0}{GetSize} () - (\hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_aa1970b36f1f272fd758b68eea35339a3}{m\_offset} + smallItem.size));
1122         \}
1123     \}
1124   \textcolor{keywordflow}{else} 
1125     \{
1126       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\textcolor{keyword}{false});
1127     \}
1128   \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_aa1970b36f1f272fd758b68eea35339a3}{m\_offset} += extraItem.fragmentEnd - extraItem.fragmentStart;
1129   \textcolor{keywordflow}{return} item;
1130 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3




\subsection{Member Data Documentation}
\index{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}!m\+\_\+buffer@{m\+\_\+buffer}}
\index{m\+\_\+buffer@{m\+\_\+buffer}!ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}}
\subsubsection[{\texorpdfstring{m\+\_\+buffer}{m_buffer}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Buffer} ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator\+::m\+\_\+buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PacketMetadata_1_1ItemIterator_a28a05c78e0009cfda77bc74d3eefb30e}{}\label{classns3_1_1PacketMetadata_1_1ItemIterator_a28a05c78e0009cfda77bc74d3eefb30e}


buffer the metadata refers to 

\index{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}!m\+\_\+current@{m\+\_\+current}}
\index{m\+\_\+current@{m\+\_\+current}!ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}}
\subsubsection[{\texorpdfstring{m\+\_\+current}{m_current}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator\+::m\+\_\+current\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PacketMetadata_1_1ItemIterator_a05a394b22a469fcd9adb8cf23916c437}{}\label{classns3_1_1PacketMetadata_1_1ItemIterator_a05a394b22a469fcd9adb8cf23916c437}


current position 

\index{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}!m\+\_\+has\+Read\+Tail@{m\+\_\+has\+Read\+Tail}}
\index{m\+\_\+has\+Read\+Tail@{m\+\_\+has\+Read\+Tail}!ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}}
\subsubsection[{\texorpdfstring{m\+\_\+has\+Read\+Tail}{m_hasReadTail}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator\+::m\+\_\+has\+Read\+Tail\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PacketMetadata_1_1ItemIterator_a8ed1eb05c698cb72588f997f72e2788e}{}\label{classns3_1_1PacketMetadata_1_1ItemIterator_a8ed1eb05c698cb72588f997f72e2788e}


true if the metadata tail has been read 

\index{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}!m\+\_\+metadata@{m\+\_\+metadata}}
\index{m\+\_\+metadata@{m\+\_\+metadata}!ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}}
\subsubsection[{\texorpdfstring{m\+\_\+metadata}{m_metadata}}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Packet\+Metadata}$\ast$ ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator\+::m\+\_\+metadata\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PacketMetadata_1_1ItemIterator_a6a91c392408e77624613663198f269a6}{}\label{classns3_1_1PacketMetadata_1_1ItemIterator_a6a91c392408e77624613663198f269a6}


pointer to the metadata 

\index{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}!m\+\_\+offset@{m\+\_\+offset}}
\index{m\+\_\+offset@{m\+\_\+offset}!ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator@{ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator}}
\subsubsection[{\texorpdfstring{m\+\_\+offset}{m_offset}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Packet\+Metadata\+::\+Item\+Iterator\+::m\+\_\+offset\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1PacketMetadata_1_1ItemIterator_aa1970b36f1f272fd758b68eea35339a3}{}\label{classns3_1_1PacketMetadata_1_1ItemIterator_aa1970b36f1f272fd758b68eea35339a3}


offset 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
network/model/\hyperlink{packet-metadata_8h}{packet-\/metadata.\+h}\item 
network/model/\hyperlink{packet-metadata_8cc}{packet-\/metadata.\+cc}\end{DoxyCompactItemize}
