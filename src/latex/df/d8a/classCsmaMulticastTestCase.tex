\hypertarget{classCsmaMulticastTestCase}{}\section{Csma\+Multicast\+Test\+Case Class Reference}
\label{classCsmaMulticastTestCase}\index{Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}}


Inheritance diagram for Csma\+Multicast\+Test\+Case\+:
% FIG 0


Collaboration diagram for Csma\+Multicast\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCsmaMulticastTestCase_a013261c9d455fe5547fbdec71e42ca86}{Csma\+Multicast\+Test\+Case} ()
\item 
virtual \hyperlink{classCsmaMulticastTestCase_a7ea0b5575884230e9ce6ab2a0f7a5a54}{$\sim$\+Csma\+Multicast\+Test\+Case} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classCsmaMulticastTestCase_a1251df8e18b5cc31f4aa6f88bda7ffd5}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classCsmaMulticastTestCase_a8a57a1aac467c97fb162b7acaeebfebd}{Sink\+Rx} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p}, const \hyperlink{classns3_1_1Address}{Address} \&ad)
\item 
void \hyperlink{classCsmaMulticastTestCase_ac86ad9363cbdc9aa295f42a548701fda}{Drop\+Event} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classCsmaMulticastTestCase_af55d506dde1359dffc777fba0886c5ba}{m\+\_\+count}
\item 
uint32\+\_\+t \hyperlink{classCsmaMulticastTestCase_afbdb28fb92fbae4ac51fdd4c87e886d1}{m\+\_\+drops}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}!Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}}
\index{Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}!Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}}
\subsubsection[{\texorpdfstring{Csma\+Multicast\+Test\+Case()}{CsmaMulticastTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Csma\+Multicast\+Test\+Case\+::\+Csma\+Multicast\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classCsmaMulticastTestCase_a013261c9d455fe5547fbdec71e42ca86}{}\label{classCsmaMulticastTestCase_a013261c9d455fe5547fbdec71e42ca86}

\begin{DoxyCode}
294   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Multicast example for Carrier Sense Multiple Access (CSMA) networks"}), 
      \hyperlink{classCsmaMulticastTestCase_af55d506dde1359dffc777fba0886c5ba}{m\_count} (0), \hyperlink{classCsmaMulticastTestCase_afbdb28fb92fbae4ac51fdd4c87e886d1}{m\_drops} (0)
295 \{
296 \}
\end{DoxyCode}
\index{Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}!````~Csma\+Multicast\+Test\+Case@{$\sim$\+Csma\+Multicast\+Test\+Case}}
\index{````~Csma\+Multicast\+Test\+Case@{$\sim$\+Csma\+Multicast\+Test\+Case}!Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Csma\+Multicast\+Test\+Case()}{~CsmaMulticastTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Csma\+Multicast\+Test\+Case\+::$\sim$\+Csma\+Multicast\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classCsmaMulticastTestCase_a7ea0b5575884230e9ce6ab2a0f7a5a54}{}\label{classCsmaMulticastTestCase_a7ea0b5575884230e9ce6ab2a0f7a5a54}

\begin{DoxyCode}
299 \{
300 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Csma\+Multicast\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classCsmaMulticastTestCase_a1251df8e18b5cc31f4aa6f88bda7ffd5}{}\label{classCsmaMulticastTestCase_a1251df8e18b5cc31f4aa6f88bda7ffd5}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
331 \{
332   \textcolor{comment}{//}
333   \textcolor{comment}{// Set up default values for the simulation.}
334   \textcolor{comment}{//}
335   \textcolor{comment}{// Select DIX/Ethernet II-style encapsulation (no LLC/Snap header)}
336   \hyperlink{group__config_ga2e7882df849d8ba4aaad31c934c40c06}{Config::SetDefault} (\textcolor{stringliteral}{"ns3::CsmaNetDevice::EncapsulationMode"}, StringValue (\textcolor{stringliteral}{"Dix"}));
337 
338   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{lte_2model_2fading-traces_2fading__trace__generator_8m_ae0323a9039add2978bf5b49550572c7c}{c};
339   c.\hyperlink{classns3_1_1NodeContainer_a787f059e2813e8b951cc6914d11dfe69}{Create} (5);
340   \textcolor{comment}{// We will later want two subcontainers of these nodes, for the two LANs}
341   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} c0 = \hyperlink{classns3_1_1NodeContainer}{NodeContainer} (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0), c.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (1), c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (2));
342   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} c1 = \hyperlink{classns3_1_1NodeContainer}{NodeContainer} (c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (2), c.
      \hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (3), c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (4));
343 
344   \hyperlink{classns3_1_1CsmaHelper}{CsmaHelper} csma;
345   csma.\hyperlink{classns3_1_1CsmaHelper_a886d900b2fe44433e0b81752dea7e7f1}{SetChannelAttribute} (\textcolor{stringliteral}{"DataRate"}, DataRateValue (
      \hyperlink{classns3_1_1DataRate}{DataRate} (5000000)));
346   csma.SetChannelAttribute (\textcolor{stringliteral}{"Delay"}, TimeValue (\hyperlink{group__timecivil_gaf26127cf4571146b83a92ee18679c7a9}{MilliSeconds} (2)));
347  
348   \textcolor{comment}{// We will use these NetDevice containers later, for IP addressing}
349   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} nd0 = csma.Install (c0);  \textcolor{comment}{// First LAN}
350   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} nd1 = csma.Install (c1);  \textcolor{comment}{// Second LAN}
351 
352   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
353   internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (c);
354 
355   \hyperlink{classns3_1_1Ipv4AddressHelper}{Ipv4AddressHelper} ipv4Addr;
356   ipv4Addr.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.1.0"}, \textcolor{stringliteral}{"255.255.255.0"});
357   ipv4Addr.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (nd0);
358   ipv4Addr.\hyperlink{classns3_1_1Ipv4AddressHelper_acf7b16dd25bac67e00f5e25f90a9a035}{SetBase} (\textcolor{stringliteral}{"10.1.2.0"}, \textcolor{stringliteral}{"255.255.255.0"});
359   ipv4Addr.\hyperlink{classns3_1_1Ipv4AddressHelper_af8e7f4a1a7e74c00014a1eac445a27af}{Assign} (nd1);
360 
361   \textcolor{comment}{//}
362   \textcolor{comment}{// Now we can configure multicasting.  As described above, the multicast }
363   \textcolor{comment}{// source is at node zero, which we assigned the IP address of 10.1.1.1 }
364   \textcolor{comment}{// earlier.  We need to define a multicast group to send packets to.  This}
365   \textcolor{comment}{// can be any multicast address from 224.0.0.0 through 239.255.255.255}
366   \textcolor{comment}{// (avoiding the reserved routing protocol addresses).}
367   \textcolor{comment}{//}
368 
369   \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} multicastSource (\textcolor{stringliteral}{"10.1.1.1"});
370   \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} multicastGroup (\textcolor{stringliteral}{"225.1.2.4"});
371 
372   \textcolor{comment}{// Now, we will set up multicast routing.  We need to do three things:}
373   \textcolor{comment}{// 1) Configure a (static) multicast route on node n2}
374   \textcolor{comment}{// 2) Set up a default multicast route on the sender n0 }
375   \textcolor{comment}{// 3) Have node n4 join the multicast group}
376   \textcolor{comment}{// We have a helper that can help us with static multicast}
377   \hyperlink{classns3_1_1Ipv4StaticRoutingHelper}{Ipv4StaticRoutingHelper} multicast;
378 
379   \textcolor{comment}{// 1) Configure a (static) multicast route on node n2 (multicastRouter)}
380   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} multicastRouter = c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (2);  \textcolor{comment}{// The node in question}
381   \hyperlink{classns3_1_1Ptr}{Ptr<NetDevice>} inputIf = nd0.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (2);  \textcolor{comment}{// The input NetDevice}
382   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} outputDevices;  \textcolor{comment}{// A container of output NetDevices}
383   outputDevices.\hyperlink{classns3_1_1NetDeviceContainer_a7ca8bc1d7ec00fd4fcc63869987fbda5}{Add} (nd1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));  \textcolor{comment}{// (we only need one NetDevice here)}
384 
385   multicast.\hyperlink{classns3_1_1Ipv4StaticRoutingHelper_aa8d55f28361e24aefb961fe2eddc2192}{AddMulticastRoute} (multicastRouter, multicastSource, 
386                                multicastGroup, inputIf, outputDevices);
387 
388   \textcolor{comment}{// 2) Set up a default multicast route on the sender n0 }
389   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} sender = c.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0);
390   \hyperlink{classns3_1_1Ptr}{Ptr<NetDevice>} senderIf = nd0.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0);
391   multicast.\hyperlink{classns3_1_1Ipv4StaticRoutingHelper_ae69a07ded3139dfd4e21bb7c10eba416}{SetDefaultMulticastRoute} (sender, senderIf);
392 
393   \textcolor{comment}{//}
394   \textcolor{comment}{// Create an OnOff application to send UDP datagrams from node zero to the}
395   \textcolor{comment}{// multicast group (node four will be listening).}
396   \textcolor{comment}{//}
397 
398   uint16\_t multicastPort = 9;   \textcolor{comment}{// Discard port (RFC 863)}
399 
400   \textcolor{comment}{// Configure a multicast packet generator.}
401   \textcolor{comment}{//}
402   \textcolor{comment}{// Make packets be sent about every defaultPacketSize / dataRate = }
403   \textcolor{comment}{// 4096 bits / (5000 bits/second) = 0.82 second.}
404   \hyperlink{classns3_1_1OnOffHelper}{OnOffHelper} onoff (\textcolor{stringliteral}{"ns3::UdpSocketFactory"}, 
405                      \hyperlink{classns3_1_1Address}{Address} (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (multicastGroup, multicastPort)));
406   onoff.SetConstantRate (\hyperlink{classns3_1_1DataRate}{DataRate} (5000));
407 
408   \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} srcC = onoff.Install (c0.\hyperlink{classns3_1_1NodeContainer_a9ed96e2ecc22e0f5a3d4842eb9bf90bf}{Get} (0));
409 
410   \textcolor{comment}{//}
411   \textcolor{comment}{// Tell the application when to start and stop.}
412   \textcolor{comment}{//}
413   srcC.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.));
414   srcC.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.));
415 
416   \textcolor{comment}{// Create an optional packet sink to receive these packets}
417   \hyperlink{classns3_1_1PacketSinkHelper}{PacketSinkHelper} sink (\textcolor{stringliteral}{"ns3::UdpSocketFactory"},
418                          \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (Ipv4Address::GetAny (), multicastPort));
419 
420   \hyperlink{classns3_1_1ApplicationContainer}{ApplicationContainer} sinkC = sink.Install (c1.Get (2)); \textcolor{comment}{// Node n4 }
421   \textcolor{comment}{// Start the sink}
422   sinkC.\hyperlink{classns3_1_1ApplicationContainer_a8eff87926507020bbe3e1390358a54a7}{Start} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (1.0));
423   sinkC.\hyperlink{classns3_1_1ApplicationContainer_adfc52f9aa4020c8714679b00bbb9ddb3}{Stop} (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (10.0));
424 
425   \textcolor{comment}{// Trace receptions}
426   \hyperlink{group__config_gaa2f896aa7021f95fffabc80b2ec22e08}{Config::ConnectWithoutContext} (\textcolor{stringliteral}{"
      /NodeList/4/ApplicationList/0/$ns3::PacketSink/Rx"}, \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{classCsmaMulticastTestCase_a8a57a1aac467c97fb162b7acaeebfebd}{CsmaMulticastTestCase::SinkRx}, \textcolor{keyword}{this}));
427 
428   \textcolor{comment}{//}
429   \textcolor{comment}{// Now, do the actual simulation.}
430   \textcolor{comment}{//}
431   Simulator::Run ();
432   Simulator::Destroy ();
433 
434   \textcolor{comment}{// We should have sent and received 10 packets}
435   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classCsmaMulticastTestCase_af55d506dde1359dffc777fba0886c5ba}{m\_count}, 10, \textcolor{stringliteral}{"Node 4 should have received 10 packets"})
      ;
436 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}!Drop\+Event@{Drop\+Event}}
\index{Drop\+Event@{Drop\+Event}!Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}}
\subsubsection[{\texorpdfstring{Drop\+Event(\+Ptr$<$ const Packet $>$ p)}{DropEvent(Ptr< const Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void Csma\+Multicast\+Test\+Case\+::\+Drop\+Event (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaMulticastTestCase_ac86ad9363cbdc9aa295f42a548701fda}{}\label{classCsmaMulticastTestCase_ac86ad9363cbdc9aa295f42a548701fda}

\begin{DoxyCode}
310 \{
311   \hyperlink{classCsmaMulticastTestCase_afbdb28fb92fbae4ac51fdd4c87e886d1}{m\_drops}++;
312 \}
\end{DoxyCode}
\index{Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}!Sink\+Rx@{Sink\+Rx}}
\index{Sink\+Rx@{Sink\+Rx}!Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}}
\subsubsection[{\texorpdfstring{Sink\+Rx(\+Ptr$<$ const Packet $>$ p, const Address \&ad)}{SinkRx(Ptr< const Packet > p, const Address &ad)}}]{\setlength{\rightskip}{0pt plus 5cm}void Csma\+Multicast\+Test\+Case\+::\+Sink\+Rx (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{p, }
\item[{const {\bf Address} \&}]{ad}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaMulticastTestCase_a8a57a1aac467c97fb162b7acaeebfebd}{}\label{classCsmaMulticastTestCase_a8a57a1aac467c97fb162b7acaeebfebd}

\begin{DoxyCode}
304 \{
305   \hyperlink{classCsmaMulticastTestCase_af55d506dde1359dffc777fba0886c5ba}{m\_count}++;
306 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 3




\subsection{Member Data Documentation}
\index{Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}!m\+\_\+count@{m\+\_\+count}}
\index{m\+\_\+count@{m\+\_\+count}!Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+count}{m_count}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Csma\+Multicast\+Test\+Case\+::m\+\_\+count\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaMulticastTestCase_af55d506dde1359dffc777fba0886c5ba}{}\label{classCsmaMulticastTestCase_af55d506dde1359dffc777fba0886c5ba}
\index{Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}!m\+\_\+drops@{m\+\_\+drops}}
\index{m\+\_\+drops@{m\+\_\+drops}!Csma\+Multicast\+Test\+Case@{Csma\+Multicast\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+drops}{m_drops}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Csma\+Multicast\+Test\+Case\+::m\+\_\+drops\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCsmaMulticastTestCase_afbdb28fb92fbae4ac51fdd4c87e886d1}{}\label{classCsmaMulticastTestCase_afbdb28fb92fbae4ac51fdd4c87e886d1}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
test/\hyperlink{csma-system-test-suite_8cc}{csma-\/system-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
