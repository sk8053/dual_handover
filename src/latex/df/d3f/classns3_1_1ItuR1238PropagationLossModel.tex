\hypertarget{classns3_1_1ItuR1238PropagationLossModel}{}\section{ns3\+:\+:Itu\+R1238\+Propagation\+Loss\+Model Class Reference}
\label{classns3_1_1ItuR1238PropagationLossModel}\index{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}}


{\ttfamily \#include $<$itu-\/r-\/1238-\/propagation-\/loss-\/model.\+h$>$}



Inheritance diagram for ns3\+:\+:Itu\+R1238\+Propagation\+Loss\+Model\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Itu\+R1238\+Propagation\+Loss\+Model\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classns3_1_1ItuR1238PropagationLossModel_a9f628a8cf40ba661eb60ba2fb81406c2}{Get\+Loss} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1ItuR1238PropagationLossModel_a669516317b90f03ed14e9428584d64cf}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual double \hyperlink{classns3_1_1ItuR1238PropagationLossModel_a5264af642cb5a328f467a7c445dee693}{Do\+Calc\+Rx\+Power} (double tx\+Power\+Dbm, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ a, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1MobilityModel}{Mobility\+Model} $>$ \hyperlink{lte__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b}) const 
\item 
virtual int64\+\_\+t \hyperlink{classns3_1_1ItuR1238PropagationLossModel_a5870cf6f801d01593b161cceaee65427}{Do\+Assign\+Streams} (int64\+\_\+t stream)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{classns3_1_1ItuR1238PropagationLossModel_af17c1679d11142d03fceed06a564161d}{m\+\_\+frequency}
\begin{DoxyCompactList}\small\item\em frequency in M\+Hz \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This class implements the I\+T\+U-\/R 1238 propagation loss model. 

\subsection{Member Function Documentation}
\index{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}!Do\+Assign\+Streams@{Do\+Assign\+Streams}}
\index{Do\+Assign\+Streams@{Do\+Assign\+Streams}!ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Do\+Assign\+Streams(int64\+\_\+t stream)}{DoAssignStreams(int64_t stream)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model\+::\+Do\+Assign\+Streams (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{stream}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ItuR1238PropagationLossModel_a5870cf6f801d01593b161cceaee65427}{}\label{classns3_1_1ItuR1238PropagationLossModel_a5870cf6f801d01593b161cceaee65427}
Subclasses must implement this; those not using random variables can return zero 

Implements \hyperlink{classns3_1_1PropagationLossModel_a1af4724c8961a86455fa381f00d7be11}{ns3\+::\+Propagation\+Loss\+Model}.


\begin{DoxyCode}
117 \{
118   \textcolor{keywordflow}{return} 0;
119 \}
\end{DoxyCode}
\index{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}!Do\+Calc\+Rx\+Power@{Do\+Calc\+Rx\+Power}}
\index{Do\+Calc\+Rx\+Power@{Do\+Calc\+Rx\+Power}!ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Do\+Calc\+Rx\+Power(double tx\+Power\+Dbm, Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b) const }{DoCalcRxPower(double txPowerDbm, Ptr< MobilityModel > a, Ptr< MobilityModel > b) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model\+::\+Do\+Calc\+Rx\+Power (
\begin{DoxyParamCaption}
\item[{double}]{tx\+Power\+Dbm, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ItuR1238PropagationLossModel_a5264af642cb5a328f467a7c445dee693}{}\label{classns3_1_1ItuR1238PropagationLossModel_a5264af642cb5a328f467a7c445dee693}
Returns the Rx Power taking into account only the particular Propagatin\+Loss\+Model.


\begin{DoxyParams}{Parameters}
{\em tx\+Power\+Dbm} & current transmission power (in d\+Bm) \\
\hline
{\em a} & the mobility model of the source \\
\hline
{\em b} & the mobility model of the destination \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the reception power after adding/multiplying propagation loss (in d\+Bm) 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1PropagationLossModel_aa6bb73e4132dc5d8e1b49750955838bb}{ns3\+::\+Propagation\+Loss\+Model}.


\begin{DoxyCode}
110 \{
111   \textcolor{keywordflow}{return} (txPowerDbm - \hyperlink{classns3_1_1ItuR1238PropagationLossModel_a9f628a8cf40ba661eb60ba2fb81406c2}{GetLoss} (a, b));
112 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}!Get\+Loss@{Get\+Loss}}
\index{Get\+Loss@{Get\+Loss}!ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Loss(\+Ptr$<$ Mobility\+Model $>$ a, Ptr$<$ Mobility\+Model $>$ b) const }{GetLoss(Ptr< MobilityModel > a, Ptr< MobilityModel > b) const }}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model\+::\+Get\+Loss (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{a, }
\item[{{\bf Ptr}$<$ {\bf Mobility\+Model} $>$}]{b}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1ItuR1238PropagationLossModel_a9f628a8cf40ba661eb60ba2fb81406c2}{}\label{classns3_1_1ItuR1238PropagationLossModel_a9f628a8cf40ba661eb60ba2fb81406c2}

\begin{DoxyParams}{Parameters}
{\em a} & the first mobility model \\
\hline
{\em b} & the second mobility model\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the loss in d\+Bm for the propagation between the two given mobility models 
\end{DoxyReturn}

\begin{DoxyCode}
57 \{
58   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << a1 << b1);
59   Ptr<MobilityBuildingInfo> a = a1->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<MobilityBuildingInfo> ();
60   Ptr<MobilityBuildingInfo> b = b1->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<MobilityBuildingInfo> ();
61   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} ((a != 0) && (b != 0), \textcolor{stringliteral}{"ItuR1238PropagationLossModel only works with
       MobilityBuildingInfo"});
62   \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (a->GetBuilding ()->GetId () == b->GetBuilding ()->GetId (), \textcolor{stringliteral}{"ITU-R 1238
       applies only to nodes that are in the same building"});
63   \textcolor{keywordtype}{double} \hyperlink{loss__ITU1238_8m_aaa6c78b1d659f53598dbe891c1139b3e}{N} = 0.0;
64   \textcolor{keywordtype}{int} \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n} = std::abs (a->GetFloorNumber () - b->GetFloorNumber ());
65   \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" A floor "} << (uint16\_t)a->GetFloorNumber () << \textcolor{stringliteral}{" B floor "} << (
      uint16\_t)b->GetFloorNumber () << \textcolor{stringliteral}{" n "} << \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n});
66   \textcolor{keywordtype}{double} \hyperlink{loss__ITU1238_8m_a8fcbff4c17ae7ed51590a7aa751a8f93}{Lf} = 0.0;
67   Ptr<Building> aBuilding = a->GetBuilding ();
68   \textcolor{keywordflow}{if} (aBuilding->GetBuildingType () == \hyperlink{classns3_1_1Building_af7f3940d00690b70af02310575d94ef3a5af50bb22db7202f426f0e7621bafc7b}{Building::Residential})
69     \{
70       N = 28;
71       \textcolor{keywordflow}{if} (n >= 1)
72         \{
73           Lf = 4 * \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n};
74         \}
75       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Residential "});
76     \}
77   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (aBuilding->GetBuildingType () == \hyperlink{classns3_1_1Building_af7f3940d00690b70af02310575d94ef3acbb89a32dbb85f1eb6ac70baf61a0735}{Building::Office})
78     \{
79       N = 30;
80       \textcolor{keywordflow}{if} (n >= 1)
81         \{
82           Lf = 15 + (4 * (n - 1));
83         \}
84       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Office "});
85     \}
86   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (aBuilding->GetBuildingType () == \hyperlink{classns3_1_1Building_af7f3940d00690b70af02310575d94ef3aa2daecca877283b8bb46a201393dcd01}{Building::Commercial})
87     \{
88       N = 22;
89       \textcolor{keywordflow}{if} (n >= 1)
90         \{
91           Lf = 6 + (3 * (n - 1));
92         \}
93       \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Commercial "});
94     \}
95   \textcolor{keywordflow}{else}
96     \{
97       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Unkwnon Wall Type"});
98     \}
99   \textcolor{keywordtype}{double} loss = 20 * std::log10 (\hyperlink{classns3_1_1ItuR1238PropagationLossModel_af17c1679d11142d03fceed06a564161d}{m\_frequency} / 1e6 \textcolor{comment}{/*MHz*/}) + N * std::log10 (a1->
      GetDistanceFrom (b1)) + Lf - 28.0;
100   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Node "} << a1->GetPosition () << \textcolor{stringliteral}{" <-> "} << b1->GetPosition () << \textcolor{stringliteral}{" loss
       = "} << loss << \textcolor{stringliteral}{" dB"});
101 
102   \textcolor{keywordflow}{return} loss;
103 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1ItuR1238PropagationLossModel_a669516317b90f03ed14e9428584d64cf}{}\label{classns3_1_1ItuR1238PropagationLossModel_a669516317b90f03ed14e9428584d64cf}

\begin{DoxyCode}
40 \{
41   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::ItuR1238PropagationLossModel"})
42 
43     .SetParent<\hyperlink{classns3_1_1PropagationLossModel_ace8b78c2c8e805cd0a919d7e3543318c}{PropagationLossModel}> ()
44     .SetGroupName (\textcolor{stringliteral}{"Buildings"})
45 
46     .AddAttribute (\textcolor{stringliteral}{"Frequency"},
47                    \textcolor{stringliteral}{"The Frequency  (default is 2.106 GHz)."},
48                    DoubleValue (2160e6),
49                    MakeDoubleAccessor (&
      \hyperlink{classns3_1_1ItuR1238PropagationLossModel_af17c1679d11142d03fceed06a564161d}{ItuR1238PropagationLossModel::m\_frequency}),
50                    MakeDoubleChecker<double> ());
51 
52   \textcolor{keywordflow}{return} tid;
53 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




\subsection{Member Data Documentation}
\index{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}!m\+\_\+frequency@{m\+\_\+frequency}}
\index{m\+\_\+frequency@{m\+\_\+frequency}!ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model@{ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model}}
\subsubsection[{\texorpdfstring{m\+\_\+frequency}{m_frequency}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Itu\+R1238\+Propagation\+Loss\+Model\+::m\+\_\+frequency\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1ItuR1238PropagationLossModel_af17c1679d11142d03fceed06a564161d}{}\label{classns3_1_1ItuR1238PropagationLossModel_af17c1679d11142d03fceed06a564161d}


frequency in M\+Hz 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
buildings/model/\hyperlink{itu-r-1238-propagation-loss-model_8h}{itu-\/r-\/1238-\/propagation-\/loss-\/model.\+h}\item 
buildings/model/\hyperlink{itu-r-1238-propagation-loss-model_8cc}{itu-\/r-\/1238-\/propagation-\/loss-\/model.\+cc}\end{DoxyCompactItemize}
