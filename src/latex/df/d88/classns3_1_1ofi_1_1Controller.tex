\hypertarget{classns3_1_1ofi_1_1Controller}{}\section{ns3\+:\+:ofi\+:\+:Controller Class Reference}
\label{classns3_1_1ofi_1_1Controller}\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}


An interface for a \hyperlink{classns3_1_1ofi_1_1Controller}{Controller} of Open\+Flow\+Switch\+Net\+Devices.  




{\ttfamily \#include $<$openflow-\/interface.\+h$>$}



Inheritance diagram for ns3\+:\+:ofi\+:\+:Controller\+:
% FIG 0


Collaboration diagram for ns3\+:\+:ofi\+:\+:Controller\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{classns3_1_1ofi_1_1Controller_aa678943b8215a7cbbd148fa390b6959b}{$\sim$\+Controller} ()
\item 
virtual void \hyperlink{classns3_1_1ofi_1_1Controller_ad594dccd22650ed5d2c9ee8b3d204290}{Add\+Switch} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1OpenFlowSwitchNetDevice}{Open\+Flow\+Switch\+Net\+Device} $>$ swtch)
\item 
virtual void \hyperlink{classns3_1_1ofi_1_1Controller_a7b2be41ec5105913230a84a6fd18d9c4}{Receive\+From\+Switch} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1OpenFlowSwitchNetDevice}{Open\+Flow\+Switch\+Net\+Device} $>$ swtch, ofpbuf $\ast$buffer)
\item 
void \hyperlink{classns3_1_1ofi_1_1Controller_ab45914c81455ec82bbc00d9cc4b0513f}{Start\+Dump} (\hyperlink{structns3_1_1ofi_1_1StatsDumpCallback}{Stats\+Dump\+Callback} $\ast$cb)
\begin{DoxyCompactList}\small\item\em Starts a callback-\/based, reliable, possibly multi-\/message reply to a request made by the controller. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1ofi_1_1Controller_a5abda0f7945c517098fb0dd17db7032f}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::set$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1OpenFlowSwitchNetDevice}{Open\+Flow\+Switch\+Net\+Device} $>$ $>$ \hyperlink{classns3_1_1ofi_1_1Controller_ab1abb4b29fa56439e309e12791bb4d88}{Switches\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1ofi_1_1Controller_a727693553f4ed5c6bf726cfcafd2ec1a}{Send\+To\+Switch} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1OpenFlowSwitchNetDevice}{Open\+Flow\+Switch\+Net\+Device} $>$ swtch, void $\ast$msg, size\+\_\+t length)
\item 
ofp\+\_\+flow\+\_\+mod $\ast$ \hyperlink{classns3_1_1ofi_1_1Controller_a8a196a95993a3c989a573cd7237cbfcc}{Build\+Flow} (sw\+\_\+flow\+\_\+key key, uint32\+\_\+t buffer\+\_\+id, uint16\+\_\+t command, void $\ast$acts, size\+\_\+t actions\+\_\+len, int idle\+\_\+timeout, int hard\+\_\+timeout)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1ofi_1_1Controller_a339b4111557bdaa16ad16e444c8ca2ca}{Get\+Packet\+Type} (ofpbuf $\ast$buffer)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1ofi_1_1Controller_ab1abb4b29fa56439e309e12791bb4d88}{Switches\+\_\+t} \hyperlink{classns3_1_1ofi_1_1Controller_a44e6c7d999d43f70416d628b61df44d2}{m\+\_\+switches}
\begin{DoxyCompactList}\small\item\em The collection of switches registered to this controller. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
An interface for a \hyperlink{classns3_1_1ofi_1_1Controller}{Controller} of Open\+Flow\+Switch\+Net\+Devices. 

Follows the Open\+Flow specification for a controller. 

\subsection{Member Typedef Documentation}
\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}!Switches\+\_\+t@{Switches\+\_\+t}}
\index{Switches\+\_\+t@{Switches\+\_\+t}!ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}
\subsubsection[{\texorpdfstring{Switches\+\_\+t}{Switches_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::set$<${\bf Ptr}$<${\bf Open\+Flow\+Switch\+Net\+Device}$>$ $>$ {\bf ns3\+::ofi\+::\+Controller\+::\+Switches\+\_\+t}\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1ofi_1_1Controller_ab1abb4b29fa56439e309e12791bb4d88}{}\label{classns3_1_1ofi_1_1Controller_ab1abb4b29fa56439e309e12791bb4d88}


\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}!````~Controller@{$\sim$\+Controller}}
\index{````~Controller@{$\sim$\+Controller}!ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}
\subsubsection[{\texorpdfstring{$\sim$\+Controller()}{~Controller()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual ns3\+::ofi\+::\+Controller\+::$\sim$\+Controller (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ofi_1_1Controller_aa678943b8215a7cbbd148fa390b6959b}{}\label{classns3_1_1ofi_1_1Controller_aa678943b8215a7cbbd148fa390b6959b}
Destructor. 

\subsection{Member Function Documentation}
\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}!Add\+Switch@{Add\+Switch}}
\index{Add\+Switch@{Add\+Switch}!ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}
\subsubsection[{\texorpdfstring{Add\+Switch(\+Ptr$<$ Open\+Flow\+Switch\+Net\+Device $>$ swtch)}{AddSwitch(Ptr< OpenFlowSwitchNetDevice > swtch)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::ofi\+::\+Controller\+::\+Add\+Switch (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Open\+Flow\+Switch\+Net\+Device} $>$}]{swtch}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1ofi_1_1Controller_ad594dccd22650ed5d2c9ee8b3d204290}{}\label{classns3_1_1ofi_1_1Controller_ad594dccd22650ed5d2c9ee8b3d204290}
Adds a switch to the controller.


\begin{DoxyParams}{Parameters}
{\em swtch} & The switch to register. \\
\hline
\end{DoxyParams}
\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}!Build\+Flow@{Build\+Flow}}
\index{Build\+Flow@{Build\+Flow}!ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}
\subsubsection[{\texorpdfstring{Build\+Flow(sw\+\_\+flow\+\_\+key key, uint32\+\_\+t buffer\+\_\+id, uint16\+\_\+t command, void $\ast$acts, size\+\_\+t actions\+\_\+len, int idle\+\_\+timeout, int hard\+\_\+timeout)}{BuildFlow(sw_flow_key key, uint32_t buffer_id, uint16_t command, void *acts, size_t actions_len, int idle_timeout, int hard_timeout)}}]{\setlength{\rightskip}{0pt plus 5cm}ofp\+\_\+flow\+\_\+mod$\ast$ ns3\+::ofi\+::\+Controller\+::\+Build\+Flow (
\begin{DoxyParamCaption}
\item[{sw\+\_\+flow\+\_\+key}]{key, }
\item[{uint32\+\_\+t}]{buffer\+\_\+id, }
\item[{uint16\+\_\+t}]{command, }
\item[{void $\ast$}]{acts, }
\item[{size\+\_\+t}]{actions\+\_\+len, }
\item[{int}]{idle\+\_\+timeout, }
\item[{int}]{hard\+\_\+timeout}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1ofi_1_1Controller_a8a196a95993a3c989a573cd7237cbfcc}{}\label{classns3_1_1ofi_1_1Controller_a8a196a95993a3c989a573cd7237cbfcc}
Construct flow data from a matching key to build a flow entry for adding, modifying, or deleting a flow.


\begin{DoxyParams}{Parameters}
{\em key} & The matching key data; used to create a flow that matches the packet. \\
\hline
{\em buffer\+\_\+id} & The Open\+Flow \hyperlink{classns3_1_1Buffer}{Buffer} ID; used to run the actions on the packet if we add or modify the flow. \\
\hline
{\em command} & Whether to add, modify, or delete this flow. \\
\hline
{\em acts} & List of actions to execute. \\
\hline
{\em actions\+\_\+len} & Length of the actions buffer. \\
\hline
{\em idle\+\_\+timeout} & Flow expires if left inactive for this amount of time (specify O\+F\+P\+\_\+\+F\+L\+O\+W\+\_\+\+P\+E\+R\+M\+A\+N\+E\+NT to disable feature). \\
\hline
{\em hard\+\_\+timeout} & Flow expires after this amount of time (specify O\+F\+P\+\_\+\+F\+L\+O\+W\+\_\+\+P\+E\+R\+M\+A\+N\+E\+NT to disable feature). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Flow data that when passed to Set\+Flow will add, modify, or delete a flow it defines. 
\end{DoxyReturn}
\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}!Get\+Packet\+Type@{Get\+Packet\+Type}}
\index{Get\+Packet\+Type@{Get\+Packet\+Type}!ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}
\subsubsection[{\texorpdfstring{Get\+Packet\+Type(ofpbuf $\ast$buffer)}{GetPacketType(ofpbuf *buffer)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::ofi\+::\+Controller\+::\+Get\+Packet\+Type (
\begin{DoxyParamCaption}
\item[{ofpbuf $\ast$}]{buffer}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1ofi_1_1Controller_a339b4111557bdaa16ad16e444c8ca2ca}{}\label{classns3_1_1ofi_1_1Controller_a339b4111557bdaa16ad16e444c8ca2ca}
Get the packet type on the buffer, which can then be used to determine how to handle the buffer.


\begin{DoxyParams}{Parameters}
{\em buffer} & The packet in Open\+Flow buffer format. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The packet type, as defined in the ofp\+\_\+type struct. 
\end{DoxyReturn}
\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Type\+Id} ns3\+::ofi\+::\+Controller\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1ofi_1_1Controller_a5abda0f7945c517098fb0dd17db7032f}{}\label{classns3_1_1ofi_1_1Controller_a5abda0f7945c517098fb0dd17db7032f}
Register this type. \begin{DoxyReturn}{Returns}
The \hyperlink{classns3_1_1TypeId}{Type\+Id}. 
\end{DoxyReturn}
\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}!Receive\+From\+Switch@{Receive\+From\+Switch}}
\index{Receive\+From\+Switch@{Receive\+From\+Switch}!ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}
\subsubsection[{\texorpdfstring{Receive\+From\+Switch(\+Ptr$<$ Open\+Flow\+Switch\+Net\+Device $>$ swtch, ofpbuf $\ast$buffer)}{ReceiveFromSwitch(Ptr< OpenFlowSwitchNetDevice > swtch, ofpbuf *buffer)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::ofi\+::\+Controller\+::\+Receive\+From\+Switch (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Open\+Flow\+Switch\+Net\+Device} $>$}]{swtch, }
\item[{ofpbuf $\ast$}]{buffer}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ofi_1_1Controller_a7b2be41ec5105913230a84a6fd18d9c4}{}\label{classns3_1_1ofi_1_1Controller_a7b2be41ec5105913230a84a6fd18d9c4}
A switch calls this method to pass a message on to the \hyperlink{classns3_1_1ofi_1_1Controller}{Controller}.


\begin{DoxyParams}{Parameters}
{\em swtch} & The switch the message was received from. \\
\hline
{\em buffer} & The message. \\
\hline
\end{DoxyParams}


Reimplemented in \hyperlink{classns3_1_1ofi_1_1LearningController_a53c7efe382b753e3a434a34ba391933d}{ns3\+::ofi\+::\+Learning\+Controller}, and \hyperlink{classns3_1_1ofi_1_1DropController_a1d70593ec36fcefc3a51b24b3846f749}{ns3\+::ofi\+::\+Drop\+Controller}.


\begin{DoxyCode}
370   \{
371   \}
\end{DoxyCode}
\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}!Send\+To\+Switch@{Send\+To\+Switch}}
\index{Send\+To\+Switch@{Send\+To\+Switch}!ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}
\subsubsection[{\texorpdfstring{Send\+To\+Switch(\+Ptr$<$ Open\+Flow\+Switch\+Net\+Device $>$ swtch, void $\ast$msg, size\+\_\+t length)}{SendToSwitch(Ptr< OpenFlowSwitchNetDevice > swtch, void *msg, size_t length)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::ofi\+::\+Controller\+::\+Send\+To\+Switch (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Open\+Flow\+Switch\+Net\+Device} $>$}]{swtch, }
\item[{void $\ast$}]{msg, }
\item[{size\+\_\+t}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\hypertarget{classns3_1_1ofi_1_1Controller_a727693553f4ed5c6bf726cfcafd2ec1a}{}\label{classns3_1_1ofi_1_1Controller_a727693553f4ed5c6bf726cfcafd2ec1a}
However the controller is implemented, this method is to be used to pass a message on to a switch.


\begin{DoxyParams}{Parameters}
{\em swtch} & The switch to receive the message. \\
\hline
{\em msg} & The message to send. \\
\hline
{\em length} & The length of the message. \\
\hline
\end{DoxyParams}
\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}!Start\+Dump@{Start\+Dump}}
\index{Start\+Dump@{Start\+Dump}!ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}
\subsubsection[{\texorpdfstring{Start\+Dump(\+Stats\+Dump\+Callback $\ast$cb)}{StartDump(StatsDumpCallback *cb)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::ofi\+::\+Controller\+::\+Start\+Dump (
\begin{DoxyParamCaption}
\item[{{\bf Stats\+Dump\+Callback} $\ast$}]{cb}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1ofi_1_1Controller_ab45914c81455ec82bbc00d9cc4b0513f}{}\label{classns3_1_1ofi_1_1Controller_ab45914c81455ec82bbc00d9cc4b0513f}


Starts a callback-\/based, reliable, possibly multi-\/message reply to a request made by the controller. 

If an incoming request needs to have a reliable reply that might require multiple messages, it can use \hyperlink{classns3_1_1ofi_1_1Controller_ab45914c81455ec82bbc00d9cc4b0513f}{Start\+Dump()} to set up a callback that will be called as buffer space for replies.

A stats request made by the controller is processed by the switch, the switch then calls this method to tell the controller to start asking for information. By default (it can be overridden), the controller stops all work to run through the callback. Receive\+From\+Switch must be defined appropriately to handle the status reply messages generated by the switch, or otherwise the status reply messages will be sent and discarded.


\begin{DoxyParams}{Parameters}
{\em cb} & The callback data. \\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\index{ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}!m\+\_\+switches@{m\+\_\+switches}}
\index{m\+\_\+switches@{m\+\_\+switches}!ns3\+::ofi\+::\+Controller@{ns3\+::ofi\+::\+Controller}}
\subsubsection[{\texorpdfstring{m\+\_\+switches}{m_switches}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Switches\+\_\+t} ns3\+::ofi\+::\+Controller\+::m\+\_\+switches\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{classns3_1_1ofi_1_1Controller_a44e6c7d999d43f70416d628b61df44d2}{}\label{classns3_1_1ofi_1_1Controller_a44e6c7d999d43f70416d628b61df44d2}


The collection of switches registered to this controller. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
openflow/model/\hyperlink{openflow-interface_8h}{openflow-\/interface.\+h}\end{DoxyCompactItemize}
