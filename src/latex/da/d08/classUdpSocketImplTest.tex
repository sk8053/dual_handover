\hypertarget{classUdpSocketImplTest}{}\section{Udp\+Socket\+Impl\+Test Class Reference}
\label{classUdpSocketImplTest}\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}


U\+DP Socket over I\+Pv4 Test.  




Inheritance diagram for Udp\+Socket\+Impl\+Test\+:
% FIG 0


Collaboration diagram for Udp\+Socket\+Impl\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classUdpSocketImplTest_a186599e6487c7c550383f236042f3cd4}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
\hyperlink{classUdpSocketImplTest_a108f556465911648e4320edf060e8d93}{Udp\+Socket\+Impl\+Test} ()
\item 
void \hyperlink{classUdpSocketImplTest_ac01935324b65cb16be8f50eadcfaa8b9}{Receive\+Pkt} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Receive packets (1). \end{DoxyCompactList}\item 
void \hyperlink{classUdpSocketImplTest_a6b44ac203ae4bf29c962a7d552b2c4aa}{Receive\+Pkt2} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Receive packets (2). \end{DoxyCompactList}\item 
void \hyperlink{classUdpSocketImplTest_ad2c66c7cb086bbb4b6932becce0a01f7}{Sent\+Pkt} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1QueueDiscItem}{Queue\+Disc\+Item} $>$ item)
\begin{DoxyCompactList}\small\item\em Adds a packet to the list of sent packets. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classUdpSocketImplTest_a7afa9bafbaec77d3adca11b4c04df064}{Get\+Tos} (void)
\begin{DoxyCompactList}\small\item\em Get the T\+OS of the received packet. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classUdpSocketImplTest_a62f83f508eb6ec572ecda6ab2e43b231}{Get\+Priority} (void)
\begin{DoxyCompactList}\small\item\em Get the priority of the received packet. \end{DoxyCompactList}\item 
void \hyperlink{classUdpSocketImplTest_adc612255d5ec479a76941f697bde796a}{Do\+Send\+Data\+To} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, std\+::string to)
\begin{DoxyCompactList}\small\item\em Send data. \end{DoxyCompactList}\item 
void \hyperlink{classUdpSocketImplTest_a6d164a214837efedad2b6aa32a9fad0e}{Send\+Data\+To} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket, std\+::string to)
\begin{DoxyCompactList}\small\item\em Send data. \end{DoxyCompactList}\item 
void \hyperlink{classUdpSocketImplTest_abb4bfa5a84b8b642f22fd0f8981bf515}{Do\+Send\+Data} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Send data. \end{DoxyCompactList}\item 
void \hyperlink{classUdpSocketImplTest_a69244de27acf4b1f164091057321b414}{Send\+Data} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Socket}{Socket} $>$ socket)
\begin{DoxyCompactList}\small\item\em Send data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{m\+\_\+received\+Packet}
\begin{DoxyCompactList}\small\item\em Received packet (1). \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\+\_\+received\+Packet2}
\begin{DoxyCompactList}\small\item\em Received packet (2). \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Ipv4QueueDiscItem}{Ipv4\+Queue\+Disc\+Item} $>$ \hyperlink{classUdpSocketImplTest_abbfcd84649bf743e5af93bf2a3d51d75}{m\+\_\+sent\+Packet}
\begin{DoxyCompactList}\small\item\em Sent packet. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
U\+DP Socket over I\+Pv4 Test. 

\subsection{Constructor \& Destructor Documentation}
\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Udp\+Socket\+Impl\+Test()}{UdpSocketImplTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Udp\+Socket\+Impl\+Test\+::\+Udp\+Socket\+Impl\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classUdpSocketImplTest_a108f556465911648e4320edf060e8d93}{}\label{classUdpSocketImplTest_a108f556465911648e4320edf060e8d93}

\begin{DoxyCode}
239   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"UDP socket implementation"}) 
240 \{
241 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp\+Socket\+Impl\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classUdpSocketImplTest_a186599e6487c7c550383f236042f3cd4}{}\label{classUdpSocketImplTest_a186599e6487c7c550383f236042f3cd4}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
314 \{
315   \textcolor{comment}{// Create topology}
316 
317   \textcolor{comment}{// Receiver Node}
318   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} rxNode = CreateObject<Node> ();
319   \textcolor{comment}{// Sender Node}
320   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} txNode = CreateObject<Node> ();
321 
322   \hyperlink{classns3_1_1NodeContainer}{NodeContainer} \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes} (rxNode, txNode);
323 
324   \hyperlink{classns3_1_1SimpleNetDeviceHelper}{SimpleNetDeviceHelper} helperChannel1;
325   helperChannel1.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a474460ba6942d4933f443a97df7d4716}{SetNetDevicePointToPointMode} (\textcolor{keyword}{true});
326   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} net1 = helperChannel1.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a35bed9cee32d306362d3e24dfeef4513}{Install} (
      \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes});
327 
328   \hyperlink{classns3_1_1SimpleNetDeviceHelper}{SimpleNetDeviceHelper} helperChannel2;
329   helperChannel2.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a474460ba6942d4933f443a97df7d4716}{SetNetDevicePointToPointMode} (\textcolor{keyword}{true});
330   \hyperlink{classns3_1_1NetDeviceContainer}{NetDeviceContainer} net2 = helperChannel2.\hyperlink{classns3_1_1SimpleNetDeviceHelper_a35bed9cee32d306362d3e24dfeef4513}{Install} (
      \hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes});
331 
332   \hyperlink{classns3_1_1InternetStackHelper}{InternetStackHelper} internet;
333   internet.\hyperlink{classns3_1_1InternetStackHelper_a6645b412f31283d2d9bc3d8a95cebbc0}{Install} (\hyperlink{visualizer-ideas_8txt_a3e1b3808014a2c68ab0cd0182e041be2}{nodes});
334 
335   \hyperlink{classns3_1_1TrafficControlHelper}{TrafficControlHelper} tch = TrafficControlHelper::Default ();
336   \hyperlink{classns3_1_1QueueDiscContainer}{QueueDiscContainer} qdiscs = tch.\hyperlink{classns3_1_1TrafficControlHelper_a0aa6a8e2fbb1c196589e16f48c99f0b9}{Install} (net1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1));
337 
338   \hyperlink{classns3_1_1Ptr}{Ptr<Ipv4>} ipv4;
339   uint32\_t netdev\_idx;
340   \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} ipv4Addr;
341 
342   \textcolor{comment}{// Receiver Node}
343   ipv4 = rxNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ();
344   netdev\_idx = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (net1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
345   ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.0.1"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (0xffff0000U));
346   ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (netdev\_idx, ipv4Addr);
347   ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (netdev\_idx);
348 
349   netdev\_idx = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (net2.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (0));
350   ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.1.1"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (0xffff0000U));
351   ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (netdev\_idx, ipv4Addr);
352   ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (netdev\_idx);
353 
354   \textcolor{comment}{// Sender Node}
355   ipv4 = txNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<\hyperlink{classns3_1_1Ipv4}{Ipv4}> ();
356   netdev\_idx = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (net1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1));
357   ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.0.2"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (0xffff0000U));
358   ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (netdev\_idx, ipv4Addr);
359   ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (netdev\_idx);
360 
361   netdev\_idx = ipv4->\hyperlink{classns3_1_1Ipv4_a637354128b71bc587ea5a6eeaef42469}{AddInterface} (net2.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1));
362   ipv4Addr = \hyperlink{classns3_1_1Ipv4InterfaceAddress}{Ipv4InterfaceAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.1.2"}), 
      \hyperlink{classns3_1_1Ipv4Mask}{Ipv4Mask} (0xffff0000U));
363   ipv4->\hyperlink{classns3_1_1Ipv4_ad203526cae6a4b86f1bb89e44d2b62f7}{AddAddress} (netdev\_idx, ipv4Addr);
364   ipv4->\hyperlink{classns3_1_1Ipv4_a71b2f8acca4923aef907b50b3196bf23}{SetUp} (netdev\_idx);
365 
366   \textcolor{comment}{// Create the UDP sockets}
367   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} rxSocketFactory = rxNode->\hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{GetObject}<
      \hyperlink{classns3_1_1UdpSocketFactory}{UdpSocketFactory}> ();
368   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} rxSocket = rxSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
369   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (rxSocket->Bind (\hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (
      \hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.0.1"}), 1234)), 0, \textcolor{stringliteral}{"trivial"});
370   rxSocket->SetRecvCallback (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classUdpSocketImplTest_ac01935324b65cb16be8f50eadcfaa8b9}{UdpSocketImplTest::ReceivePkt}, \textcolor{keyword}{this}));
371 
372   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} rxSocket2 = rxSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
373   rxSocket2->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classUdpSocketImplTest_a6b44ac203ae4bf29c962a7d552b2c4aa}{UdpSocketImplTest::ReceivePkt2}, \textcolor{keyword}{this}));
374   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (rxSocket2->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} (
      \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"10.0.1.1"}), 1234)), 0, \textcolor{stringliteral}{"trivial"});
375 
376   \hyperlink{classns3_1_1Ptr}{Ptr<SocketFactory>} txSocketFactory = txNode->GetObject<
      \hyperlink{classns3_1_1UdpSocketFactory}{UdpSocketFactory}> ();
377   \hyperlink{classns3_1_1Ptr}{Ptr<Socket>} txSocket = txSocketFactory->\hyperlink{classns3_1_1Socket_ad448a62bb50ad3dbac59c879a885a8d2}{CreateSocket} ();
378   txSocket->\hyperlink{classns3_1_1Socket_a32b4fa27b732a63207c8d9054a817ed5}{SetAllowBroadcast} (\textcolor{keyword}{true});
379 
380   \textcolor{comment}{// ------ Now the tests ------------}
381 
382   \textcolor{comment}{// Unicast test}
383   \hyperlink{classUdpSocketImplTest_a6d164a214837efedad2b6aa32a9fad0e}{SendDataTo} (txSocket, \textcolor{stringliteral}{"10.0.0.1"});
384   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 123, \textcolor{stringliteral}{"trivial"});
385   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 0, \textcolor{stringliteral}{"second interface should receive it"});
386 
387   \hyperlink{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
388   \hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
389 
390   \textcolor{comment}{// Simple broadcast test}
391 
392   \hyperlink{classUdpSocketImplTest_a6d164a214837efedad2b6aa32a9fad0e}{SendDataTo} (txSocket, \textcolor{stringliteral}{"255.255.255.255"});
393   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 123, \textcolor{stringliteral}{"trivial"});
394   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 0, \textcolor{stringliteral}{"second socket should not receive it (it is bound specifically to the second
       interface's address"});
395 
396   \hyperlink{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
397   \hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
398 
399   \textcolor{comment}{// Broadcast test with multiple receiving sockets}
400 
401   \textcolor{comment}{// When receiving broadcast packets, all sockets sockets bound to}
402   \textcolor{comment}{// the address/port should receive a copy of the same packet -- if}
403   \textcolor{comment}{// the socket address matches.}
404   rxSocket2->\hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose} ();
405   rxSocket2 = rxSocketFactory->\hyperlink{classns3_1_1SocketFactory_a97351e6e7860503a4912042530449f62}{CreateSocket} ();
406   rxSocket2->\hyperlink{classns3_1_1Socket_a243f7835ef1a85f9270fd3577e3a40da}{SetRecvCallback} (\hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classUdpSocketImplTest_a6b44ac203ae4bf29c962a7d552b2c4aa}{UdpSocketImplTest::ReceivePkt2}, \textcolor{keyword}{this}));
407   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (rxSocket2->\hyperlink{classns3_1_1Socket_ada93439a43de2028b5a8fc6621dad482}{Bind} (
      \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (\textcolor{stringliteral}{"0.0.0.0"}), 1234)), 0, \textcolor{stringliteral}{"trivial"});
408 
409   \hyperlink{classUdpSocketImplTest_a6d164a214837efedad2b6aa32a9fad0e}{SendDataTo} (txSocket, \textcolor{stringliteral}{"255.255.255.255"});
410   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{m\_receivedPacket}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 123, \textcolor{stringliteral}{"trivial"});
411   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 123, \textcolor{stringliteral}{"trivial"});
412 
413   \hyperlink{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{m\_receivedPacket} = 0;
414   \hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2} = 0;
415 
416   \textcolor{comment}{// Simple Link-local multicast test}
417 
418   txSocket->BindToNetDevice (net1.\hyperlink{classns3_1_1NetDeviceContainer_a677d62594b5c9d2dea155cc5045f4d0b}{Get} (1));
419   \hyperlink{classUdpSocketImplTest_a6d164a214837efedad2b6aa32a9fad0e}{SendDataTo} (txSocket, \textcolor{stringliteral}{"224.0.0.9"});
420   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (m\_receivedPacket->GetSize (), 0, \textcolor{stringliteral}{"first socket should not
       receive it (it is bound specifically to the second interface's address"});
421   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} (), 123, \textcolor{stringliteral}{"recv2: 224.0.0.9"});
422 
423   m\_receivedPacket->RemoveAllByteTags ();
424   \hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
425 
426   \textcolor{comment}{// Simple getpeername tests}
427 
428   \hyperlink{classns3_1_1Address}{Address} peerAddress;
429   \textcolor{keywordtype}{int} err = txSocket->GetPeerName (peerAddress);
430   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, -1, \textcolor{stringliteral}{"socket GetPeerName() should fail when socket is not
       connected"});
431   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (txSocket->GetErrno (), Socket::ERROR\_NOTCONN, \textcolor{stringliteral}{"socket error
       code should be ERROR\_NOTCONN"});
432 
433   \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} peer (\textcolor{stringliteral}{"10.0.0.1"}, 1234);
434   err = txSocket->Connect (peer);
435   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, 0, \textcolor{stringliteral}{"socket Connect() should succeed"});
436 
437   err = txSocket->GetPeerName (peerAddress);
438   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (err, 0, \textcolor{stringliteral}{"socket GetPeerName() should succeed when socket is
       connected"});
439   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (peerAddress, peer, \textcolor{stringliteral}{"address from socket GetPeerName() should
       equal the connected address"});
440 
441   m\_receivedPacket->RemoveAllByteTags ();
442   \hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2}->\hyperlink{classns3_1_1Packet_a083f54c9db31aeff30551a9e20fcda42}{RemoveAllByteTags} ();
443 
444   \textcolor{comment}{// TOS and priority tests}
445 
446   \textcolor{comment}{// Intercept the packets dequeued by the queue disc on the sender node}
447   qdiscs.\hyperlink{classns3_1_1QueueDiscContainer_a236064f6321b5f0d32561bb2a14e74af}{Get} (0)->TraceConnectWithoutContext (\textcolor{stringliteral}{"Dequeue"}, \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&
      \hyperlink{classUdpSocketImplTest_ad2c66c7cb086bbb4b6932becce0a01f7}{UdpSocketImplTest::SentPkt}, \textcolor{keyword}{this}));
448 
449   \textcolor{comment}{// The socket is not connected.}
450   txSocket->SetIpTos (0x28);  \textcolor{comment}{// AF11}
451   txSocket->SetPriority (6);  \textcolor{comment}{// Interactive}
452   \textcolor{comment}{// Send a packet to a specified destination:}
453   \textcolor{comment}{// - for not connected sockets, the tos specified in the destination address (0) is used}
454   \textcolor{comment}{// - since the tos is zero, the priority set for the socket is used}
455   \hyperlink{classUdpSocketImplTest_a6d164a214837efedad2b6aa32a9fad0e}{SendDataTo} (txSocket, \textcolor{stringliteral}{"10.0.0.1"});
456   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (m\_receivedPacket->GetSize (), 123, \textcolor{stringliteral}{"trivial"});
457 
458   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_a7afa9bafbaec77d3adca11b4c04df064}{GetTos} (), 0, \textcolor{stringliteral}{"the TOS should be set to 0"});
459   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_a62f83f508eb6ec572ecda6ab2e43b231}{GetPriority} (), 6, \textcolor{stringliteral}{"Interactive (6)"});
460 
461   m\_receivedPacket->RemoveAllByteTags ();
462 
463   \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} dest (\textcolor{stringliteral}{"10.0.0.1"}, 1234);
464   dest.SetTos (0xb8);  \textcolor{comment}{// EF}
465   \textcolor{comment}{// the connect operation sets the tos (and priority) for the socket}
466   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (txSocket->Connect (dest), 0, \textcolor{stringliteral}{"the connect operation failed"});
467 
468   \hyperlink{classUdpSocketImplTest_a69244de27acf4b1f164091057321b414}{SendData} (txSocket);
469   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (m\_receivedPacket->GetSize (), 123, \textcolor{stringliteral}{"trivial"});
470 
471   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_a7afa9bafbaec77d3adca11b4c04df064}{GetTos} (), 0xb8, \textcolor{stringliteral}{"the TOS should be set to 0xb8"});
472   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (\hyperlink{classUdpSocketImplTest_a62f83f508eb6ec572ecda6ab2e43b231}{GetPriority} (), 4, \textcolor{stringliteral}{"Interactive bulk (4)"});
473 
474   m\_receivedPacket->RemoveAllByteTags ();
475 
476   Simulator::Destroy ();
477 
478 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Do\+Send\+Data@{Do\+Send\+Data}}
\index{Do\+Send\+Data@{Do\+Send\+Data}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Do\+Send\+Data(\+Ptr$<$ Socket $>$ socket)}{DoSendData(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp\+Socket\+Impl\+Test\+::\+Do\+Send\+Data (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdpSocketImplTest_abb4bfa5a84b8b642f22fd0f8981bf515}{}\label{classUdpSocketImplTest_abb4bfa5a84b8b642f22fd0f8981bf515}


Send data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The sending socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
300 \{
301   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (socket->\hyperlink{classns3_1_1Socket_a036901c8f485fe5b6eab93b7f2ec289d}{Send} (Create<Packet> (123), 0), 123, \textcolor{stringliteral}{"100"});
302 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Do\+Send\+Data\+To@{Do\+Send\+Data\+To}}
\index{Do\+Send\+Data\+To@{Do\+Send\+Data\+To}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Do\+Send\+Data\+To(\+Ptr$<$ Socket $>$ socket, std\+::string to)}{DoSendDataTo(Ptr< Socket > socket, std::string to)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp\+Socket\+Impl\+Test\+::\+Do\+Send\+Data\+To (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{std\+::string}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdpSocketImplTest_adc612255d5ec479a76941f697bde796a}{}\label{classUdpSocketImplTest_adc612255d5ec479a76941f697bde796a}


Send data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The sending socket. \\
\hline
{\em to} & The destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
282 \{
283   \hyperlink{classns3_1_1Address}{Address} realTo = \hyperlink{classns3_1_1InetSocketAddress}{InetSocketAddress} (\hyperlink{classns3_1_1Ipv4Address}{Ipv4Address} (to.c\_str ()), 1234);
284   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (socket->\hyperlink{classns3_1_1Socket_af898fce6a58e0dbba23c1c6de1d4220e}{SendTo} (Create<Packet> (123), 0, realTo),
285                          123, \textcolor{stringliteral}{"100"});
286 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Get\+Priority@{Get\+Priority}}
\index{Get\+Priority@{Get\+Priority}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Get\+Priority(void)}{GetPriority(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Udp\+Socket\+Impl\+Test\+::\+Get\+Priority (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdpSocketImplTest_a62f83f508eb6ec572ecda6ab2e43b231}{}\label{classUdpSocketImplTest_a62f83f508eb6ec572ecda6ab2e43b231}


Get the priority of the received packet. 

\begin{DoxyReturn}{Returns}
The priority. 
\end{DoxyReturn}

\begin{DoxyCode}
273 \{
274   \hyperlink{classns3_1_1SocketPriorityTag}{SocketPriorityTag} priorityTag;
275   \textcolor{keywordtype}{bool} found = \hyperlink{classUdpSocketImplTest_abbfcd84649bf743e5af93bf2a3d51d75}{m\_sentPacket}->\hyperlink{classns3_1_1QueueItem_aa8c2a59b1600fa2cee783867704f9cce}{GetPacket} ()->\hyperlink{classns3_1_1Packet_a1734de11f2ca1e78a7872461a0625168}{PeekPacketTag} (priorityTag);
276   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (found, \textcolor{keyword}{true}, \textcolor{stringliteral}{"the packet should carry a SocketPriorityTag"});
277   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>} (priorityTag.\hyperlink{classns3_1_1SocketPriorityTag_a0791b0b6aa82220a4aca19bd2701a0b7}{GetPriority} ());
278 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Get\+Tos@{Get\+Tos}}
\index{Get\+Tos@{Get\+Tos}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Get\+Tos(void)}{GetTos(void)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Udp\+Socket\+Impl\+Test\+::\+Get\+Tos (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdpSocketImplTest_a7afa9bafbaec77d3adca11b4c04df064}{}\label{classUdpSocketImplTest_a7afa9bafbaec77d3adca11b4c04df064}


Get the T\+OS of the received packet. 

\begin{DoxyReturn}{Returns}
The T\+OS. 
\end{DoxyReturn}

\begin{DoxyCode}
268 \{
269   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>} (\hyperlink{classUdpSocketImplTest_abbfcd84649bf743e5af93bf2a3d51d75}{m\_sentPacket}->\hyperlink{classns3_1_1Ipv4QueueDiscItem_a147949043a9565477f7526d17a58e8d6}{GetHeader} ().
      \hyperlink{classns3_1_1Ipv4Header_a381cd0f84a106436d49597ccdc3608a9}{GetTos} ());
270 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Receive\+Pkt@{Receive\+Pkt}}
\index{Receive\+Pkt@{Receive\+Pkt}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Pkt(\+Ptr$<$ Socket $>$ socket)}{ReceivePkt(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp\+Socket\+Impl\+Test\+::\+Receive\+Pkt (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{classUdpSocketImplTest_ac01935324b65cb16be8f50eadcfaa8b9}{}\label{classUdpSocketImplTest_ac01935324b65cb16be8f50eadcfaa8b9}


Receive packets (1). 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
244 \{
245   uint32\_t availableData;
246   availableData = socket->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ();
247   \hyperlink{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{m\_receivedPacket} = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (
      \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint32\_t>::max} (), 0);
248   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (availableData == \hyperlink{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{m\_receivedPacket}->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
249 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 11




Here is the caller graph for this function\+:
% FIG 12


\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Receive\+Pkt2@{Receive\+Pkt2}}
\index{Receive\+Pkt2@{Receive\+Pkt2}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Receive\+Pkt2(\+Ptr$<$ Socket $>$ socket)}{ReceivePkt2(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp\+Socket\+Impl\+Test\+::\+Receive\+Pkt2 (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{classUdpSocketImplTest_a6b44ac203ae4bf29c962a7d552b2c4aa}{}\label{classUdpSocketImplTest_a6b44ac203ae4bf29c962a7d552b2c4aa}


Receive packets (2). 


\begin{DoxyParams}{Parameters}
{\em socket} & The receiving socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
252 \{
253   uint32\_t availableData;
254   availableData = socket->\hyperlink{classns3_1_1Socket_ad35d8931e53ae0754ee864acb1cecd0e}{GetRxAvailable} ();
255   \hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2} = socket->\hyperlink{classns3_1_1Socket_a8949b1f844aae563446f2f4c5be8827a}{Recv} (
      \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<uint32\_t>::max} (), 0);
256   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (availableData == \hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2}->
      \hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ());
257 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




Here is the caller graph for this function\+:
% FIG 14


\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Send\+Data@{Send\+Data}}
\index{Send\+Data@{Send\+Data}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Send\+Data(\+Ptr$<$ Socket $>$ socket)}{SendData(Ptr< Socket > socket)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp\+Socket\+Impl\+Test\+::\+Send\+Data (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdpSocketImplTest_a69244de27acf4b1f164091057321b414}{}\label{classUdpSocketImplTest_a69244de27acf4b1f164091057321b414}


Send data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The sending socket. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
306 \{
307   Simulator::ScheduleWithContext (socket->\hyperlink{classns3_1_1Socket_aba642ad4301c1df47befc0aa9afa2e48}{GetNode} ()->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} (), 
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0),
308                                   &\hyperlink{classUdpSocketImplTest_abb4bfa5a84b8b642f22fd0f8981bf515}{UdpSocketImplTest::DoSendData}, \textcolor{keyword}{this}, socket
      );
309   Simulator::Run ();
310 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Send\+Data\+To@{Send\+Data\+To}}
\index{Send\+Data\+To@{Send\+Data\+To}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Send\+Data\+To(\+Ptr$<$ Socket $>$ socket, std\+::string to)}{SendDataTo(Ptr< Socket > socket, std::string to)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp\+Socket\+Impl\+Test\+::\+Send\+Data\+To (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Socket} $>$}]{socket, }
\item[{std\+::string}]{to}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdpSocketImplTest_a6d164a214837efedad2b6aa32a9fad0e}{}\label{classUdpSocketImplTest_a6d164a214837efedad2b6aa32a9fad0e}


Send data. 


\begin{DoxyParams}{Parameters}
{\em socket} & The sending socket. \\
\hline
{\em to} & The destination address. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
290 \{
291   \hyperlink{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{m\_receivedPacket} = Create<Packet> ();
292   \hyperlink{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{m\_receivedPacket2} = Create<Packet> ();
293   Simulator::ScheduleWithContext (socket->\hyperlink{classns3_1_1Socket_aba642ad4301c1df47befc0aa9afa2e48}{GetNode} ()->\hyperlink{classns3_1_1Node_aaf49b64a843565ce3812326313b370ac}{GetId} (), 
      \hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (0),
294                                   &\hyperlink{classUdpSocketImplTest_adc612255d5ec479a76941f697bde796a}{UdpSocketImplTest::DoSendDataTo}, \textcolor{keyword}{this}, 
      socket, to);
295   Simulator::Run ();
296 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!Sent\+Pkt@{Sent\+Pkt}}
\index{Sent\+Pkt@{Sent\+Pkt}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{Sent\+Pkt(\+Ptr$<$ const Queue\+Disc\+Item $>$ item)}{SentPkt(Ptr< const QueueDiscItem > item)}}]{\setlength{\rightskip}{0pt plus 5cm}void Udp\+Socket\+Impl\+Test\+::\+Sent\+Pkt (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Queue\+Disc\+Item} $>$}]{item}
\end{DoxyParamCaption}
)}\hypertarget{classUdpSocketImplTest_ad2c66c7cb086bbb4b6932becce0a01f7}{}\label{classUdpSocketImplTest_ad2c66c7cb086bbb4b6932becce0a01f7}


Adds a packet to the list of sent packets. 


\begin{DoxyParams}{Parameters}
{\em item} & The sent packet. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
260 \{
261   \hyperlink{classns3_1_1Ptr}{Ptr<const Ipv4QueueDiscItem>} ipv4Item = DynamicCast<const Ipv4QueueDiscItem> 
      (item);
262   \hyperlink{group__testing_ga6d4b162d26b8a930115b97dd5f3d9ed9}{NS\_TEST\_EXPECT\_MSG\_NE} (ipv4Item, 0, \textcolor{stringliteral}{"no IPv4 packet"});
263   \hyperlink{classns3_1_1Address}{Address} addr;
264   \hyperlink{classUdpSocketImplTest_abbfcd84649bf743e5af93bf2a3d51d75}{m\_sentPacket} = Create<Ipv4QueueDiscItem> (ipv4Item->\hyperlink{classns3_1_1QueueItem_aa8c2a59b1600fa2cee783867704f9cce}{GetPacket} ()->
      \hyperlink{classns3_1_1Packet_a5d5c70802a5f77fc5f0001e0cfc1898b}{Copy} (), addr, 0, ipv4Item->\hyperlink{classns3_1_1Ipv4QueueDiscItem_a147949043a9565477f7526d17a58e8d6}{GetHeader} ());
265 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19




Here is the caller graph for this function\+:
% FIG 20




\subsection{Member Data Documentation}
\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!m\+\_\+received\+Packet@{m\+\_\+received\+Packet}}
\index{m\+\_\+received\+Packet@{m\+\_\+received\+Packet}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+received\+Packet}{m_receivedPacket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ Udp\+Socket\+Impl\+Test\+::m\+\_\+received\+Packet\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}{}\label{classUdpSocketImplTest_a991dccdef830885aab315ac9ee3c4a06}


Received packet (1). 

\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!m\+\_\+received\+Packet2@{m\+\_\+received\+Packet2}}
\index{m\+\_\+received\+Packet2@{m\+\_\+received\+Packet2}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+received\+Packet2}{m_receivedPacket2}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Packet}$>$ Udp\+Socket\+Impl\+Test\+::m\+\_\+received\+Packet2\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}{}\label{classUdpSocketImplTest_adc156ecabbea0886db6024dbda1e8088}


Received packet (2). 

\index{Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}!m\+\_\+sent\+Packet@{m\+\_\+sent\+Packet}}
\index{m\+\_\+sent\+Packet@{m\+\_\+sent\+Packet}!Udp\+Socket\+Impl\+Test@{Udp\+Socket\+Impl\+Test}}
\subsubsection[{\texorpdfstring{m\+\_\+sent\+Packet}{m_sentPacket}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<${\bf Ipv4\+Queue\+Disc\+Item}$>$ Udp\+Socket\+Impl\+Test\+::m\+\_\+sent\+Packet\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classUdpSocketImplTest_abbfcd84649bf743e5af93bf2a3d51d75}{}\label{classUdpSocketImplTest_abbfcd84649bf743e5af93bf2a3d51d75}


Sent packet. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
internet/test/\hyperlink{udp-test_8cc}{udp-\/test.\+cc}\end{DoxyCompactItemize}
