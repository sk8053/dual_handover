\hypertarget{classPacketMetadataTest}{}\section{Packet\+Metadata\+Test Class Reference}
\label{classPacketMetadataTest}\index{Packet\+Metadata\+Test@{Packet\+Metadata\+Test}}


Inheritance diagram for Packet\+Metadata\+Test\+:
% FIG 0


Collaboration diagram for Packet\+Metadata\+Test\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classPacketMetadataTest_ac0208ad5e22f4455f5f1d2b7d16b1eb4}{Packet\+Metadata\+Test} ()
\item 
virtual \hyperlink{classPacketMetadataTest_aef57d37a23f1f326b54fef012871d274}{$\sim$\+Packet\+Metadata\+Test} ()
\item 
void \hyperlink{classPacketMetadataTest_a22fae7ba6557ced42238625fc0ccc623}{Check\+History} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p}, const char $\ast$file, int line, uint32\+\_\+t \hyperlink{lte__link__budget__x2__handover__measures_8m_abdb05bc5a064cf642a06c83b3392f148}{n},...)
\item 
virtual void \hyperlink{classPacketMetadataTest_a5157cf5ecf0e631ad2a70c61375ebfc3}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{classPacketMetadataTest_a311c0830c6c28e6430961fc5d5a05cc8}{Do\+Add\+Header} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Constructor \& Destructor Documentation}
\index{Packet\+Metadata\+Test@{Packet\+Metadata\+Test}!Packet\+Metadata\+Test@{Packet\+Metadata\+Test}}
\index{Packet\+Metadata\+Test@{Packet\+Metadata\+Test}!Packet\+Metadata\+Test@{Packet\+Metadata\+Test}}
\subsubsection[{\texorpdfstring{Packet\+Metadata\+Test()}{PacketMetadataTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Packet\+Metadata\+Test\+::\+Packet\+Metadata\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classPacketMetadataTest_ac0208ad5e22f4455f5f1d2b7d16b1eb4}{}\label{classPacketMetadataTest_ac0208ad5e22f4455f5f1d2b7d16b1eb4}

\begin{DoxyCode}
264   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Packet metadata"})
265 \{
266 \}
\end{DoxyCode}
\index{Packet\+Metadata\+Test@{Packet\+Metadata\+Test}!````~Packet\+Metadata\+Test@{$\sim$\+Packet\+Metadata\+Test}}
\index{````~Packet\+Metadata\+Test@{$\sim$\+Packet\+Metadata\+Test}!Packet\+Metadata\+Test@{Packet\+Metadata\+Test}}
\subsubsection[{\texorpdfstring{$\sim$\+Packet\+Metadata\+Test()}{~PacketMetadataTest()}}]{\setlength{\rightskip}{0pt plus 5cm}Packet\+Metadata\+Test\+::$\sim$\+Packet\+Metadata\+Test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classPacketMetadataTest_aef57d37a23f1f326b54fef012871d274}{}\label{classPacketMetadataTest_aef57d37a23f1f326b54fef012871d274}

\begin{DoxyCode}
269 \{
270 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Packet\+Metadata\+Test@{Packet\+Metadata\+Test}!Check\+History@{Check\+History}}
\index{Check\+History@{Check\+History}!Packet\+Metadata\+Test@{Packet\+Metadata\+Test}}
\subsubsection[{\texorpdfstring{Check\+History(\+Ptr$<$ Packet $>$ p, const char $\ast$file, int line, uint32\+\_\+t n,...)}{CheckHistory(Ptr< Packet > p, const char *file, int line, uint32_t n,...)}}]{\setlength{\rightskip}{0pt plus 5cm}void Packet\+Metadata\+Test\+::\+Check\+History (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p, }
\item[{const char $\ast$}]{file, }
\item[{int}]{line, }
\item[{uint32\+\_\+t}]{n, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\hypertarget{classPacketMetadataTest_a22fae7ba6557ced42238625fc0ccc623}{}\label{classPacketMetadataTest_a22fae7ba6557ced42238625fc0ccc623}

\begin{DoxyCode}
274 \{
275   std::list<int> expected;
276   va\_list ap;
277   va\_start (ap, \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n});
278   \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{namespacesample-rng-plot_aeb5ee5c431e338ef39b7ac5431242e1d}{n}; j++)
279     \{
280       \textcolor{keywordtype}{int} v = va\_arg (ap, \textcolor{keywordtype}{int});
281       expected.push\_back (v);
282     \}
283   va\_end (ap);
284 
285   \hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator}{PacketMetadata::ItemIterator} k = p->\hyperlink{classns3_1_1Packet_a0951ffaa12e116b03c4888085280501d}{BeginItem} ();
286   std::list<int> got;
287   \textcolor{keywordflow}{while} (k.\hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_abc9348e790ef50100bc1c26a9faf025b}{HasNext} ())
288     \{
289       \textcolor{keyword}{struct }\hyperlink{structns3_1_1PacketMetadata_1_1Item}{PacketMetadata::Item} item = k.\hyperlink{classns3_1_1PacketMetadata_1_1ItemIterator_a3d59a1673dca4338f41d3c788ccd3e10}{Next} ();
290       \textcolor{keywordflow}{if} (item.\hyperlink{structns3_1_1PacketMetadata_1_1Item_a26a638c974e533c90a41687217df2574}{isFragment} || item.\hyperlink{structns3_1_1PacketMetadata_1_1Item_a76d4fe6402891fd8d840442d51b0f6a0}{type} == PacketMetadata::Item::PAYLOAD)
291         \{
292           got.push\_back (item.\hyperlink{structns3_1_1PacketMetadata_1_1Item_afe99c84baf1db382630fab75a464fc63}{currentSize});
293           \textcolor{keywordflow}{continue};
294         \}
295       \textcolor{keywordflow}{if} (item.\hyperlink{structns3_1_1PacketMetadata_1_1Item_a76d4fe6402891fd8d840442d51b0f6a0}{type} == PacketMetadata::Item::HEADER)
296         \{
297           \hyperlink{classns3_1_1Callback}{Callback<ObjectBase *>} constructor = item.\hyperlink{structns3_1_1PacketMetadata_1_1Item_a07dac03d1aa1be885295bdfd113f78e7}{tid}.
      \hyperlink{classns3_1_1TypeId_ad9b0bc71ee7593a1ff23ff8d53938e95}{GetConstructor} ();
298           HistoryHeaderBase *header = \textcolor{keyword}{dynamic\_cast<}HistoryHeaderBase *\textcolor{keyword}{>} (constructor ());
299           \textcolor{keywordflow}{if} (header == 0)
300             \{
301               \textcolor{keywordflow}{goto} error;
302             \}
303           header->Deserialize (item.\hyperlink{structns3_1_1PacketMetadata_1_1Item_aa8c1eed1363b2965204125b91659f639}{current});
304           \textcolor{keywordflow}{if} (!header->IsOk ())
305             \{
306               \textcolor{keyword}{delete} header;
307               \textcolor{keywordflow}{goto} error;
308             \}
309           \textcolor{keyword}{delete} header;
310         \}
311       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (item.\hyperlink{structns3_1_1PacketMetadata_1_1Item_a76d4fe6402891fd8d840442d51b0f6a0}{type} == PacketMetadata::Item::TRAILER)
312         \{
313           \hyperlink{classns3_1_1Callback}{Callback<ObjectBase *>} constructor = item.\hyperlink{structns3_1_1PacketMetadata_1_1Item_a07dac03d1aa1be885295bdfd113f78e7}{tid}.
      \hyperlink{classns3_1_1TypeId_ad9b0bc71ee7593a1ff23ff8d53938e95}{GetConstructor} ();
314           HistoryTrailerBase *trailer = \textcolor{keyword}{dynamic\_cast<}HistoryTrailerBase *\textcolor{keyword}{>} (constructor ());
315           \textcolor{keywordflow}{if} (trailer == 0)
316             \{
317               \textcolor{keywordflow}{goto} error;
318             \}
319           trailer->Deserialize (item.\hyperlink{structns3_1_1PacketMetadata_1_1Item_aa8c1eed1363b2965204125b91659f639}{current});
320           \textcolor{keywordflow}{if} (!trailer->IsOk ())
321             \{
322               \textcolor{keyword}{delete} trailer;
323               \textcolor{keywordflow}{goto} error;
324             \}
325           \textcolor{keyword}{delete} trailer;
326         \}
327       got.push\_back (item.\hyperlink{structns3_1_1PacketMetadata_1_1Item_afe99c84baf1db382630fab75a464fc63}{currentSize});
328     \}
329 
330   \textcolor{keywordflow}{for} (std::list<int>::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = got.begin (),
331        j = expected.begin ();
332        \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != got.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++, j++)
333     \{
334       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (j != expected.end ());
335       \textcolor{keywordflow}{if} (*j != *\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})
336         \{
337           \textcolor{keywordflow}{goto} error;
338         \}
339     \}
340   \textcolor{keywordflow}{return};
341 error:
342   std::ostringstream failure;
343   failure << \textcolor{stringliteral}{"PacketMetadata error. Got:\(\backslash\)""};
344   \textcolor{keywordflow}{for} (std::list<int>::iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = got.begin (); 
345        \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} != got.end (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
346     \{
347       failure << *\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{", "};
348     \}
349   failure << \textcolor{stringliteral}{"\(\backslash\)", expected: \(\backslash\)""};
350   \textcolor{keywordflow}{for} (std::list<int>::iterator j = expected.begin ();
351        j != expected.end (); j++)
352     \{
353       failure << *j << \textcolor{stringliteral}{", "};
354     \}
355   failure << \textcolor{stringliteral}{"\(\backslash\)""};
356   \hyperlink{group__testingimpl_gaa9d54a0bd3ffaa7f4db82c4a6c1fb83b}{NS\_TEST\_ASSERT\_MSG\_EQ\_INTERNAL} (\textcolor{keyword}{false}, \textcolor{keyword}{true}, failure.str (), file, line);
357 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Packet\+Metadata\+Test@{Packet\+Metadata\+Test}!Do\+Add\+Header@{Do\+Add\+Header}}
\index{Do\+Add\+Header@{Do\+Add\+Header}!Packet\+Metadata\+Test@{Packet\+Metadata\+Test}}
\subsubsection[{\texorpdfstring{Do\+Add\+Header(\+Ptr$<$ Packet $>$ p)}{DoAddHeader(Ptr< Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Packet} $>$ Packet\+Metadata\+Test\+::\+Do\+Add\+Header (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classPacketMetadataTest_a311c0830c6c28e6430961fc5d5a05cc8}{}\label{classPacketMetadataTest_a311c0830c6c28e6430961fc5d5a05cc8}

\begin{DoxyCode}
393 \{
394   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
395   \textcolor{keywordflow}{return} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
396 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 3


\index{Packet\+Metadata\+Test@{Packet\+Metadata\+Test}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Packet\+Metadata\+Test@{Packet\+Metadata\+Test}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Packet\+Metadata\+Test\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classPacketMetadataTest_a5157cf5ecf0e631ad2a70c61375ebfc3}{}\label{classPacketMetadataTest_a5157cf5ecf0e631ad2a70c61375ebfc3}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
400 \{
401   PacketMetadata::Enable ();
402 
403   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = Create<Packet> (0);
404   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} p1 = Create<Packet> (0);
405 
406   p = Create<Packet> (10);
407   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 100);
408   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 2, 10, 100);
409 
410 
411   p = Create<Packet> (10);
412   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 1);
413   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 2);
414   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 3);
415   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 4, 
416                  3, 2, 1, 10);
417   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 5);
418   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 5, 
419                  5, 3, 2, 1, 10);
420   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 6);
421   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 6, 
422                  6, 5, 3, 2, 1, 10);
423 
424   p = Create<Packet> (10);
425   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 1);
426   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 2);
427   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 3);
428   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 3);
429   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 3, 
430                  2, 1, 10);
431 
432   p = Create<Packet> (10);
433   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 1);
434   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 2);
435   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 3);
436   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 3);
437   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 2);
438   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 2, 
439                  1, 10);
440 
441   p = Create<Packet> (10);
442   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 1);
443   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 2);
444   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 3);
445   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 3);
446   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 2);
447   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 1);
448   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 10);
449 
450   p = Create<Packet> (10);
451   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 1);
452   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 2);
453   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 3);
454   p1 = p->Copy ();
455   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p1, 3);
456   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p1, 2);
457   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p1, 1);
458   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 1, 10);
459   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 4, 
460                  3, 2, 1, 10);
461   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p1, 1);
462   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p1, 2);
463   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 3, 
464                  2, 1, 10);
465   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 4, 
466                  3, 2, 1, 10);
467   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 3);
468   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 5, 
469                  3, 3, 2, 1, 10);
470   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 4);
471   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 6, 
472                  3, 3, 2, 1, 10, 4);
473   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 5);
474   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 7, 
475                  3, 3, 2, 1, 10, 4, 5);
476   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 3);
477   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 6, 
478                  3, 2, 1, 10, 4, 5);
479   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p, 5);
480   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 5, 
481                  3, 2, 1, 10, 4);
482   p1 = p->Copy ();
483   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p, 4);
484   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 4, 
485                  3, 2, 1, 10);
486   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 5, 
487                  3, 2, 1, 10, 4);
488   p1->RemoveAtStart (3);
489   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 4, 
490                  2, 1, 10, 4);
491   p1->RemoveAtStart (1);
492   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 4, 
493                  1, 1, 10, 4);
494   p1->RemoveAtStart (1);
495   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 3, 
496                  1, 10, 4);
497   p1->RemoveAtEnd (4);
498   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 2, 
499                  1, 10);
500   p1->RemoveAtStart (1);
501   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 1, 10);
502 
503   p = Create<Packet> (10);
504   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
505   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
506   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
507   p->RemoveAtStart (8+10+8);
508   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 8);
509 
510   p = Create<Packet> (10);
511   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
512   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
513   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 6);
514   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 7);
515   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 9);
516   p->RemoveAtStart (5);
517   p->RemoveAtEnd (12);
518   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 5, 3, 10, 10, 6, 4);
519 
520   p = Create<Packet> (10);
521   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
522   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 6);
523   p->RemoveAtEnd (18);
524   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 5);
525   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 3);
526   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 3, 3, 8, 5);
527   p->RemoveAtStart (12);
528   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 4);
529   p->RemoveAtEnd (2);
530   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 2);
531   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
532   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 2, 10, 2);
533   p->RemoveAtEnd (5);
534   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 7);
535 
536   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} p2 = Create<Packet> (0);
537   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} p3 = Create<Packet> (0);
538 
539   p = Create<Packet> (40);
540   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 5);
541   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
542   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 3, 8, 5, 40);
543   p1 = p->CreateFragment (0, 5);
544   p2 = p->\hyperlink{classns3_1_1Packet_a16f6113606b355b2b346e2245fa2a3d0}{CreateFragment} (5, 5);
545   p3 = p->\hyperlink{classns3_1_1Packet_a16f6113606b355b2b346e2245fa2a3d0}{CreateFragment} (10, 43);
546   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 1, 5);
547   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p2, 2, 3, 2);
548   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p3, 2, 3, 40);
549   p1->AddAtEnd (p2);
550   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 2, 8, 2);
551   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p2, 2, 3, 2);
552   p1->AddAtEnd (p3);
553   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 3, 8, 5, 40);
554   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p2, 2, 3, 2);
555   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p3, 2, 3, 40);
556   p1 = p->CreateFragment (0, 5);
557   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 1, 5);
558 
559   p3 = Create<Packet> (50);
560   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p3, 8);
561   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p3, 2, 8, 50);
562   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 1, 5);
563   p1->AddAtEnd (p3);
564   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 3, 5, 8, 50);
565   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p1, 5);
566   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 4, 5, 5, 8, 50);
567   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p1, 2);
568   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 5, 5, 5, 8, 50, 2);
569   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p1, 5);
570   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 4, 5, 8, 50, 2);
571   p1->RemoveAtEnd (60);
572   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 1, 5);
573   p1->AddAtEnd (p2);
574   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 2, 8, 2);
575   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p2, 2, 3, 2);
576 
577   p3 = Create<Packet> (40);
578   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p3, 5);
579   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p3, 5);
580   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p3, 3, 5, 5, 40);
581   p1 = p3->CreateFragment (0, 5);
582   p2 = p3->\hyperlink{classns3_1_1Packet_a16f6113606b355b2b346e2245fa2a3d0}{CreateFragment} (5, 5);
583   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 1, 5);
584   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p2, 1, 5);
585   p1->AddAtEnd (p2);
586   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 2, 5, 5);
587 
588   p = Create<Packet> (0);
589   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 0);
590 
591   p3 = Create<Packet> (0);
592   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p3, 5);
593   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p3, 5);
594   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p3, 2, 5, 5);
595   p1 = p3->CreateFragment (0, 4);
596   p2 = p3->\hyperlink{classns3_1_1Packet_a16f6113606b355b2b346e2245fa2a3d0}{CreateFragment} (9, 1);
597   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 1, 4);
598   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p2, 1, 1);
599   p1->AddAtEnd (p2);
600   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 2, 4, 1);
601 
602 
603   p = Create<Packet> (2000);
604   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 2000);
605 
606   p = Create<Packet> ();
607   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 10);
608   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 5);
609   p1 = p->CreateFragment (0, 8);
610   p2 = p->\hyperlink{classns3_1_1Packet_a16f6113606b355b2b346e2245fa2a3d0}{CreateFragment} (8, 7);
611   p1->\hyperlink{classns3_1_1Packet_a14ec3d4250b425468764de58f5837b6b}{AddAtEnd} (p2);
612   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 2, 5, 10);
613 
614   p = Create<Packet> ();
615   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 10);
616   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p, 10);
617   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 10);
618   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 10);
619 
620   p = Create<Packet> ();
621   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
622   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 10);
623   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
624   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 10);
625 
626   p = Create<Packet> ();
627   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
628   p = \hyperlink{classPacketMetadataTest_a311c0830c6c28e6430961fc5d5a05cc8}{DoAddHeader} (p);
629   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 2, 10, 10);
630 
631   p = Create<Packet> (10);
632   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
633   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
634   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
635   p->RemoveAtStart (8+10+8);
636   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 8);
637 
638   p = Create<Packet> (0);
639   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
640   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 8);
641   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 0);
642 
643   p = Create<Packet> (0);
644   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
645   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p, 8);
646   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 0);
647 
648   p = Create<Packet> (0);
649   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
650   p->RemoveAtStart (8);
651   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 0);
652 
653   p = Create<Packet> (0);
654   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
655   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
656   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p, 8);
657   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 8);
658   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 0);
659 
660   p = Create<Packet> (0);
661   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
662   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
663   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 8);
664   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p, 8);
665   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 0);
666 
667   p = Create<Packet> (0);
668   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
669   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
670   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p, 8);
671   p->RemoveAtStart (8);
672   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 0);
673 
674   p = Create<Packet> (0);
675   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
676   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
677   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 8);
678   p->RemoveAtEnd (8);
679   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 0);
680 
681   p = Create<Packet> (0);
682   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
683   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
684   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p, 8);
685   p->RemoveAtEnd (8);
686   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 0);
687 
688   p = Create<Packet> (0);
689   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
690   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 8);
691   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 8);
692   p->RemoveAtStart (8);
693   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 0);
694 
695   p = Create<Packet> (16383);
696   p = Create<Packet> (16384);
697 
698 
701   p = Create<Packet> (40);
702   p2 = p->\hyperlink{classns3_1_1Packet_a16f6113606b355b2b346e2245fa2a3d0}{CreateFragment} (5, 5);
703   p3 = p->\hyperlink{classns3_1_1Packet_a16f6113606b355b2b346e2245fa2a3d0}{CreateFragment} (10, 30);
704   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p2, 8);
705   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p3, 8);
706   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p2, 8);
707   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p3, 8);
708   p2->AddAtEnd (p3);
709 
710 
711   p = Create<Packet> (1000);
712   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
713   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 5);
714   p1 = p->Copy ();
715   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p1, 20);
716   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p1, 20);
717   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p1, 5);
718   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (p->GetSize (), 1015, \textcolor{stringliteral}{"Correct size"});
719 
720 
721   p = Create<Packet> (1510);
722   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 8);
723   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 25);
724   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 25);
725   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 1);
726   p1 = p->CreateFragment (0, 1500);
727   p2 = p1->Copy ();
728   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p2, 24);
729   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (p->GetSize (), 1519, \textcolor{stringliteral}{"Correct size"});
730 
731   p = Create<Packet> (1000);
732   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 2);
733   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 3);
734   p1 = p->Copy ();
735   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 3, 2, 1000, 3);
736   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 2);
737   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 1);
738   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 3, 1, 1000, 3);
739   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 3, 2, 1000, 3);
740 
741   p = Create<Packet> (200);
742   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 24);
743   p1 = p->CreateFragment (0, 100);
744   p2 = p->CreateFragment (100, 100);
745   p1->AddAtEnd (p2);
746 
747   p = Create<Packet> ();
748   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
749   p1 = Create<Packet> ();
750   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p1, 11);
751   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p1, 11);
752   p->AddAtEnd (p1);
753 
754   p = Create<Packet> (500);
755   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 500);
756   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
757   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 2, 10, 500);
758   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 10);
759   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 500);
760   p->RemoveAtEnd (10);
761   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 490);
762 
763   p = Create<Packet> (500);
764   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 500);
765   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p, 10);
766   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 2, 500, 10);
767   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p, 10);
768   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 500);
769   p->RemoveAtStart (10);
770   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 490);
771 
774   p = Create<Packet> (500);
775   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 10);
776   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 20);
777   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 5);
778   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 4, 5, 20, 10, 500);
779   p1 = p->CreateFragment (0,6);
780   p2 = p->CreateFragment (6,535-6);
781   p1->AddAtEnd (p2);
782 
785   p = Create<Packet> (\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }uint8\_t*\textcolor{keyword}{>} (\textcolor{stringliteral}{"hello world"}), 11);
786   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p, 2);
787   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 2, 2, 11);
788   p1 = p->CreateFragment (0, 5);
789   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 2, 2, 3);
790   p2 = p->CreateFragment (5, 8);
791   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p2, 1, 8);
792 
793   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p1, 8+2+2*6);
794   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p1, 4);
795   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 4, 22, 2, 3, 4);
796   \hyperlink{packet-metadata-test_8cc_a120012d48d29d678b3138d5c7b9bf714}{ADD\_HEADER} (p2, 8+2+2*6);
797   \hyperlink{packet-metadata-test_8cc_ab10bc130bb7184d47509ea44f4fb24df}{ADD\_TRAILER} (p2, 4);
798   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p2, 3, 22, 8, 4);
799 
800   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p1, 4);
801   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p1, 8+2+2*6);
802   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p1, 2, 2, 3);
803   \hyperlink{packet-metadata-test_8cc_a1e12d07d4d7c9ab1695230cdf925b4d6}{REM\_TRAILER} (p2, 4);
804   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p2, 8+2+2*6);
805   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p2, 1, 8);
806 
807   p3 = p1->Copy ();
808   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p3, 2, 2, 3);
809   p3->AddAtEnd (p2);
810   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p3, 2, 2, 11);
811 
812   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 2, 2, 11);
813   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p, 2);
814   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p, 1, 11);
815   \hyperlink{packet-metadata-test_8cc_a8694c61c9ba33c72896dde3628538a84}{REM\_HEADER} (p3, 2);
816   \hyperlink{packet-metadata-test_8cc_a15a730e778d9d498a39e778bcd39684c}{CHECK\_HISTORY} (p3, 1, 11);
817 
818   uint8\_t *buf = \textcolor{keyword}{new} uint8\_t[p3->GetSize ()];
819   p3->CopyData (buf, p3->GetSize ());
820   std::string msg = std::string (reinterpret\_cast<const char *>(buf),
821                                  p3->GetSize ());
822   \textcolor{keyword}{delete} [] buf;
823   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (msg, std::string (\textcolor{stringliteral}{"hello world"}), \textcolor{stringliteral}{"Could not find original
       data in received packet"});
824 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4




The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
network/test/\hyperlink{packet-metadata-test_8cc}{packet-\/metadata-\/test.\+cc}\end{DoxyCompactItemize}
