\hypertarget{classns3_1_1TtaFfMacScheduler}{}\section{ns3\+:\+:Tta\+Ff\+Mac\+Scheduler Class Reference}
\label{classns3_1_1TtaFfMacScheduler}\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}


Implements the S\+C\+H\+ED S\+AP and C\+S\+C\+H\+ED S\+AP for a Throughput to \hyperlink{classns3_1_1Average}{Average} scheduler.  




{\ttfamily \#include $<$tta-\/ff-\/mac-\/scheduler.\+h$>$}



Inheritance diagram for ns3\+:\+:Tta\+Ff\+Mac\+Scheduler\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Tta\+Ff\+Mac\+Scheduler\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1TtaFfMacScheduler_acf57e9c1615d3e312a4fc3a9748f72ed}{Tta\+Ff\+Mac\+Scheduler} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1TtaFfMacScheduler_a6e5741ac171c6cbfd278297876b50c4e}{$\sim$\+Tta\+Ff\+Mac\+Scheduler} ()
\item 
virtual void \hyperlink{classns3_1_1TtaFfMacScheduler_ad3d4985db1ebff0babefc8a6a5a2f132}{Do\+Dispose} (void)
\item 
virtual void \hyperlink{classns3_1_1TtaFfMacScheduler_a8460e8e459ee56c2e003c96277069ad2}{Set\+Ff\+Mac\+Csched\+Sap\+User} (\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual void \hyperlink{classns3_1_1TtaFfMacScheduler_a7e11d920bdd5a74375f56a520a7b3f94}{Set\+Ff\+Mac\+Sched\+Sap\+User} (\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_a102fd6e0f2ea3080e0754c0f2b9dbe8d}{Get\+Ff\+Mac\+Csched\+Sap\+Provider} ()
\item 
virtual \hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_a9d38ae91289743cb4df5cbee6767877a}{Get\+Ff\+Mac\+Sched\+Sap\+Provider} ()
\item 
virtual void \hyperlink{classns3_1_1TtaFfMacScheduler_a574a79d890d7b5b081682b6e934aac93}{Set\+Lte\+Ffr\+Sap\+Provider} (\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_a4ced2cb91c600de0c0c74556c7c455cf}{Get\+Lte\+Ffr\+Sap\+User} ()
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ab2e643d668582cd5254f283eda5281cc}{Transmission\+Mode\+Configuration\+Update} (uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)
\item 
\hyperlink{classns3_1_1TtaFfMacScheduler_acf57e9c1615d3e312a4fc3a9748f72ed}{Tta\+Ff\+Mac\+Scheduler} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classns3_1_1TtaFfMacScheduler_a1eaf2271d4c836c32cc281bb0aa1ed9d}{$\sim$\+Tta\+Ff\+Mac\+Scheduler} ()
\item 
virtual void \hyperlink{classns3_1_1TtaFfMacScheduler_a32b42f1a70faf30540f3694872092f8d}{Do\+Dispose} (void)
\item 
virtual void \hyperlink{classns3_1_1TtaFfMacScheduler_aad31eeab4a6d5b9dc11fddcf92c54b91}{Set\+Ff\+Mac\+Csched\+Sap\+User} (\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual void \hyperlink{classns3_1_1TtaFfMacScheduler_a83d6bce64a666c9f9c71966210d93c74}{Set\+Ff\+Mac\+Sched\+Sap\+User} (\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_a7b1bc2e161c963d78fc2e2a22351379d}{Get\+Ff\+Mac\+Csched\+Sap\+Provider} ()
\item 
virtual \hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_a9b9bf261eb5176bc7a00d89066a8ccaf}{Get\+Ff\+Mac\+Sched\+Sap\+Provider} ()
\item 
virtual void \hyperlink{classns3_1_1TtaFfMacScheduler_aceb9cdcc8a3ac34414c76a02350faf34}{Set\+Lte\+Ffr\+Sap\+Provider} (\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$\hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s})
\item 
virtual \hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_aa396e4418d813cca981b2821adb29414}{Get\+Lte\+Ffr\+Sap\+User} ()
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ab2e643d668582cd5254f283eda5281cc}{Transmission\+Mode\+Configuration\+Update} (uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1TtaFfMacScheduler_a7ab69987111e3ccef33152059e3d4f04}{Get\+Type\+Id} (void)
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1TtaFfMacScheduler_a4b8f56da35395e0f29294ac7effa93d7}{Get\+Type\+Id} (void)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_afc5fedc08874048b5cdcd5a12d27d51b}{Do\+Csched\+Cell\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a56c8bff06b46b7c6255d1733cd49679c}{Do\+Csched\+Ue\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a3e912e92990df61776bec60a3e8aa0f3}{Do\+Csched\+Lc\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a0f2fafb341203a9bb23b58c150ed9b40}{Do\+Csched\+Lc\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a47b20d0f9649b7cf6d546e04bc743468}{Do\+Csched\+Ue\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_aadcf71415dcce97a8968b7b95028b133}{Do\+Sched\+Dl\+Rlc\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a2eecb18dd245957c060a390892893afe}{Do\+Sched\+Dl\+Paging\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlPagingBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a5bac4fda82874270a1cafa31d5887742}{Do\+Sched\+Dl\+Mac\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlMacBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_adc734578d3c46a0d8a9eb2cdcafb6d61}{Do\+Sched\+Dl\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ad3fb2681df7e6d411905209338ac006b}{Do\+Sched\+Dl\+Rach\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRachInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_aa50281f174f320ee1e586d9679d244ee}{Do\+Sched\+Dl\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ab4894f9f6d69451c8b8c7c2af93400b5}{Do\+Sched\+Ul\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_aeb78f56dcbfbe8a3596746b0b1239c1e}{Do\+Sched\+Ul\+Noise\+Interference\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlNoiseInterferenceReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a9c398510fc81bb7214d3401727c7d1b0}{Do\+Sched\+Ul\+Sr\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlSrInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ab235615d02e865ce3d41c1c95d49c221}{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlMacCtrlInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_aef3dcd18a72c95847900d6f0ddc9d087}{Do\+Sched\+Ul\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
int \hyperlink{classns3_1_1TtaFfMacScheduler_a496f93bd1b87f83996ba8358903ab69d}{Get\+Rbg\+Size} (int dlbandwidth)
\item 
int \hyperlink{classns3_1_1TtaFfMacScheduler_a2907ecc4ef7185be679248f833fc931b}{Lc\+Active\+Per\+Flow} (uint16\+\_\+t rnti)
\item 
double \hyperlink{classns3_1_1TtaFfMacScheduler_a51fcb3b65dbfff2b28d66930073a45c8}{Estimate\+Ul\+Sinr} (uint16\+\_\+t rnti, uint16\+\_\+t rb)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a26eadc05cfa6ac456b5149467f0b92ec}{Refresh\+Dl\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ae0cb4fb464a85be701431b9606acdf2e}{Refresh\+Ul\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a4c4e1638680640d8da95c4478ec3c06f}{Update\+Dl\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ab833bf3832b55e3483befd9d0e9b2c13}{Update\+Ul\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint16\+\_\+t size)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1TtaFfMacScheduler_aa2c9ed548b16ace6abe0f0de7501f1df}{Update\+Harq\+Process\+Id} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Update and return a new process Id for the R\+N\+TI specified. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1TtaFfMacScheduler_a3a48b5c8377a948e09078760eae6348b}{Harq\+Process\+Availability} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Return the availability of free process for the R\+N\+TI specified. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a0d70dd3503e3a8743cca82852aa35e7e}{Refresh\+Harq\+Processes} ()
\begin{DoxyCompactList}\small\item\em Refresh H\+A\+RQ processes according to the timers. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_afc5fedc08874048b5cdcd5a12d27d51b}{Do\+Csched\+Cell\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a56c8bff06b46b7c6255d1733cd49679c}{Do\+Csched\+Ue\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a3e912e92990df61776bec60a3e8aa0f3}{Do\+Csched\+Lc\+Config\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a0f2fafb341203a9bb23b58c150ed9b40}{Do\+Csched\+Lc\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedLcReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a47b20d0f9649b7cf6d546e04bc743468}{Do\+Csched\+Ue\+Release\+Req} (const struct \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedUeReleaseReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_aadcf71415dcce97a8968b7b95028b133}{Do\+Sched\+Dl\+Rlc\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a2eecb18dd245957c060a390892893afe}{Do\+Sched\+Dl\+Paging\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlPagingBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a5bac4fda82874270a1cafa31d5887742}{Do\+Sched\+Dl\+Mac\+Buffer\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlMacBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_adc734578d3c46a0d8a9eb2cdcafb6d61}{Do\+Sched\+Dl\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ad3fb2681df7e6d411905209338ac006b}{Do\+Sched\+Dl\+Rach\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRachInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_aa50281f174f320ee1e586d9679d244ee}{Do\+Sched\+Dl\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ab4894f9f6d69451c8b8c7c2af93400b5}{Do\+Sched\+Ul\+Trigger\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlTriggerReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_aeb78f56dcbfbe8a3596746b0b1239c1e}{Do\+Sched\+Ul\+Noise\+Interference\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlNoiseInterferenceReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a9c398510fc81bb7214d3401727c7d1b0}{Do\+Sched\+Ul\+Sr\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlSrInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ab235615d02e865ce3d41c1c95d49c221}{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlMacCtrlInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&params)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_aef3dcd18a72c95847900d6f0ddc9d087}{Do\+Sched\+Ul\+Cqi\+Info\+Req} (const struct \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedUlCqiInfoReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&params)
\item 
int \hyperlink{classns3_1_1TtaFfMacScheduler_a496f93bd1b87f83996ba8358903ab69d}{Get\+Rbg\+Size} (int dlbandwidth)
\item 
int \hyperlink{classns3_1_1TtaFfMacScheduler_a2907ecc4ef7185be679248f833fc931b}{Lc\+Active\+Per\+Flow} (uint16\+\_\+t rnti)
\item 
double \hyperlink{classns3_1_1TtaFfMacScheduler_a51fcb3b65dbfff2b28d66930073a45c8}{Estimate\+Ul\+Sinr} (uint16\+\_\+t rnti, uint16\+\_\+t rb)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a26eadc05cfa6ac456b5149467f0b92ec}{Refresh\+Dl\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ae0cb4fb464a85be701431b9606acdf2e}{Refresh\+Ul\+Cqi\+Maps} (void)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a4c4e1638680640d8da95c4478ec3c06f}{Update\+Dl\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)
\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_ab833bf3832b55e3483befd9d0e9b2c13}{Update\+Ul\+Rlc\+Buffer\+Info} (uint16\+\_\+t rnti, uint16\+\_\+t size)
\item 
uint8\+\_\+t \hyperlink{classns3_1_1TtaFfMacScheduler_aa2c9ed548b16ace6abe0f0de7501f1df}{Update\+Harq\+Process\+Id} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Update and return a new process Id for the R\+N\+TI specified. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{classns3_1_1TtaFfMacScheduler_a3a48b5c8377a948e09078760eae6348b}{Harq\+Process\+Availability} (uint16\+\_\+t rnti)
\begin{DoxyCompactList}\small\item\em Return the availability of free process for the R\+N\+TI specified. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1TtaFfMacScheduler_a0d70dd3503e3a8743cca82852aa35e7e}{Refresh\+Harq\+Processes} ()
\begin{DoxyCompactList}\small\item\em Refresh H\+A\+RQ processes according to the timers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1LteAmc}{Lte\+Amc} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\+\_\+amc}
\item 
std\+::map$<$ \hyperlink{structns3_1_1LteFlowId__t}{Lte\+Flow\+Id\+\_\+t}, \hyperlink{structns3_1_1FfMacSchedSapProvider_1_1SchedDlRlcBufferReqParameters}{Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\+\_\+rlc\+Buffer\+Req}
\item 
std\+::set$<$ uint16\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}{m\+\_\+flow\+Stats\+Dl}
\item 
std\+::set$<$ uint16\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a807cea079683b887a7abb9d19d71ad49}{m\+\_\+flow\+Stats\+Ul}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}{m\+\_\+p10\+Cqi\+Rxed}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a8b66a6a0a7a737e132a112c945ecefa9}{m\+\_\+p10\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{structns3_1_1SbMeasResult__s}{Sb\+Meas\+Result\+\_\+s} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\+\_\+a30\+Cqi\+Rxed}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_ac0ad6a5aaee1c2c92ae0d73d401b0d2c}{m\+\_\+a30\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ uint16\+\_\+t $>$ $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a8931533e6964833d4e1da1e8c6d20313}{m\+\_\+allocation\+Maps}
\item 
std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ double $>$ $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\+\_\+ue\+Cqi}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_adb17b15e869d53e4244bf77f3f842f67}{m\+\_\+ue\+Cqi\+Timers}
\item 
std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\+\_\+ce\+Bsr\+Rxed}
\item 
\hyperlink{classns3_1_1FfMacCschedSapUser}{Ff\+Mac\+Csched\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_a620a4509878a38fbbd97fd555dfb38aa}{m\+\_\+csched\+Sap\+User}
\item 
\hyperlink{classns3_1_1FfMacSchedSapUser}{Ff\+Mac\+Sched\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_a950cb3e5f468debf1fa002171ff299f1}{m\+\_\+sched\+Sap\+User}
\item 
\hyperlink{classns3_1_1FfMacCschedSapProvider}{Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_ac83b9f23cb828f8b40e9e4a9b6d60204}{m\+\_\+csched\+Sap\+Provider}
\item 
\hyperlink{classns3_1_1FfMacSchedSapProvider}{Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_a9b40317b5fb7668b316e0e4a4f3a6d09}{m\+\_\+sched\+Sap\+Provider}
\item 
\hyperlink{classns3_1_1LteFfrSapUser}{Lte\+Ffr\+Sap\+User} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_a72c81b130a54ac27f35db1cf6afbf472}{m\+\_\+ffr\+Sap\+User}
\item 
\hyperlink{classns3_1_1LteFfrSapProvider}{Lte\+Ffr\+Sap\+Provider} $\ast$ \hyperlink{classns3_1_1TtaFfMacScheduler_a52f7806b9c11ad3a5b9ec77817aa2616}{m\+\_\+ffr\+Sap\+Provider}
\item 
\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters}{Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\+\_\+csched\+Cell\+Config}
\item 
uint16\+\_\+t \hyperlink{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{m\+\_\+next\+Rnti\+Ul}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\+\_\+cqi\+Timers\+Threshold}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}{m\+\_\+ues\+Tx\+Mode}
\item 
bool \hyperlink{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}{m\+\_\+harq\+On}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_ad381009c30855727e1515fa58349efed}{m\+\_\+dl\+Harq\+Current\+Process\+Id}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a457b3571b67ff17d042e9894e90e2ce2}{Dl\+Harq\+Processes\+Status\+\_\+t} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\+\_\+dl\+Harq\+Processes\+Status}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a39413ade536de4b1c82d6c0074cc703e}{Dl\+Harq\+Processes\+Timer\+\_\+t} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{m\+\_\+dl\+Harq\+Processes\+Timer}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_af25599bf8f9f564075c005759c9af18c}{Dl\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_aef07d22e5c2e6acf1f711736bce49fc8}{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a4c0cbd1e72f1c667f8b5879655f13210}{Dl\+Harq\+Rlc\+Pdu\+List\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}
\item 
std\+::vector$<$ \hyperlink{structns3_1_1DlInfoListElement__s}{Dl\+Info\+List\+Element\+\_\+s} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\+\_\+dl\+Info\+List\+Buffered}
\item 
std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\+\_\+ul\+Harq\+Current\+Process\+Id}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_af765c4daaafe4ea4809c1041fc196629}{Ul\+Harq\+Processes\+Status\+\_\+t} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a2c0bc82abe6c71b7e4d85b4caca2aaa6}{m\+\_\+ul\+Harq\+Processes\+Status}
\item 
std\+::map$<$ uint16\+\_\+t, \hyperlink{namespacens3_a042cbd6bf67e73911cba35b8c070223d}{Ul\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}
\item 
std\+::vector$<$ struct \hyperlink{structns3_1_1RachListElement__s}{Rach\+List\+Element\+\_\+s} $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_ac2f848953754daa546155b20aa1d9ace}{m\+\_\+rach\+List}
\item 
std\+::vector$<$ uint16\+\_\+t $>$ \hyperlink{classns3_1_1TtaFfMacScheduler_a5cef51239a7f724ce375f0ddf883e73c}{m\+\_\+rach\+Allocation\+Map}
\item 
uint8\+\_\+t \hyperlink{classns3_1_1TtaFfMacScheduler_af999ba34a23583421c6a34df08608e47}{m\+\_\+ul\+Grant\+Mcs}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classns3_1_1TtaFfMacScheduler_a244f251af4bc7b3539849449665081eb}{Tta\+Scheduler\+Member\+Csched\+Sap\+Provider}
\item 
class \hyperlink{classns3_1_1TtaFfMacScheduler_ad38bfb5beaa096dd40ea2dc465c29c73}{Tta\+Scheduler\+Member\+Sched\+Sap\+Provider}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Implements the S\+C\+H\+ED S\+AP and C\+S\+C\+H\+ED S\+AP for a Throughput to \hyperlink{classns3_1_1Average}{Average} scheduler. 

This class implements the interface defined by the \hyperlink{classns3_1_1FfMacScheduler}{Ff\+Mac\+Scheduler} abstract class 

\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Tta\+Ff\+Mac\+Scheduler@{Tta\+Ff\+Mac\+Scheduler}}
\index{Tta\+Ff\+Mac\+Scheduler@{Tta\+Ff\+Mac\+Scheduler}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Tta\+Ff\+Mac\+Scheduler()}{TtaFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Tta\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TtaFfMacScheduler_acf57e9c1615d3e312a4fc3a9748f72ed}{}\label{classns3_1_1TtaFfMacScheduler_acf57e9c1615d3e312a4fc3a9748f72ed}


Constructor. 

Creates the M\+AC \hyperlink{classns3_1_1Scheduler}{Scheduler} interface implementation 
\begin{DoxyCode}
217   :   \hyperlink{classns3_1_1TtaFfMacScheduler_a620a4509878a38fbbd97fd555dfb38aa}{m\_cschedSapUser} (0),
218     \hyperlink{classns3_1_1TtaFfMacScheduler_a950cb3e5f468debf1fa002171ff299f1}{m\_schedSapUser} (0),
219     \hyperlink{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{m\_nextRntiUl} (0)
220 \{
221   \hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc} = CreateObject <LteAmc> ();
222   \hyperlink{classns3_1_1TtaFfMacScheduler_ac83b9f23cb828f8b40e9e4a9b6d60204}{m\_cschedSapProvider} = \textcolor{keyword}{new} 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a244f251af4bc7b3539849449665081eb}{TtaSchedulerMemberCschedSapProvider} (\textcolor{keyword}{this});
223   \hyperlink{classns3_1_1TtaFfMacScheduler_a9b40317b5fb7668b316e0e4a4f3a6d09}{m\_schedSapProvider} = \textcolor{keyword}{new} \hyperlink{classns3_1_1TtaFfMacScheduler_ad38bfb5beaa096dd40ea2dc465c29c73}{TtaSchedulerMemberSchedSapProvider}
       (\textcolor{keyword}{this});
224 \}
\end{DoxyCode}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!````~Tta\+Ff\+Mac\+Scheduler@{$\sim$\+Tta\+Ff\+Mac\+Scheduler}}
\index{````~Tta\+Ff\+Mac\+Scheduler@{$\sim$\+Tta\+Ff\+Mac\+Scheduler}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{$\sim$\+Tta\+Ff\+Mac\+Scheduler()}{~TtaFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::$\sim$\+Tta\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a6e5741ac171c6cbfd278297876b50c4e}{}\label{classns3_1_1TtaFfMacScheduler_a6e5741ac171c6cbfd278297876b50c4e}
Destructor 
\begin{DoxyCode}
227 \{
228   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
229 \}
\end{DoxyCode}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Tta\+Ff\+Mac\+Scheduler@{Tta\+Ff\+Mac\+Scheduler}}
\index{Tta\+Ff\+Mac\+Scheduler@{Tta\+Ff\+Mac\+Scheduler}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Tta\+Ff\+Mac\+Scheduler()}{TtaFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Tta\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TtaFfMacScheduler_acf57e9c1615d3e312a4fc3a9748f72ed}{}\label{classns3_1_1TtaFfMacScheduler_acf57e9c1615d3e312a4fc3a9748f72ed}


Constructor. 

Creates the M\+AC \hyperlink{classns3_1_1Scheduler}{Scheduler} interface implementation \index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!````~Tta\+Ff\+Mac\+Scheduler@{$\sim$\+Tta\+Ff\+Mac\+Scheduler}}
\index{````~Tta\+Ff\+Mac\+Scheduler@{$\sim$\+Tta\+Ff\+Mac\+Scheduler}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{$\sim$\+Tta\+Ff\+Mac\+Scheduler()}{~TtaFfMacScheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::$\sim$\+Tta\+Ff\+Mac\+Scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a1eaf2271d4c836c32cc281bb0aa1ed9d}{}\label{classns3_1_1TtaFfMacScheduler_a1eaf2271d4c836c32cc281bb0aa1ed9d}
Destructor 

\subsection{Member Function Documentation}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}}
\index{Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Cell\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters \&params)}{DoCschedCellConfigReq(const struct FfMacCschedSapProvider::CschedCellConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Cell\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_afc5fedc08874048b5cdcd5a12d27d51b}{}\label{classns3_1_1TtaFfMacScheduler_afc5fedc08874048b5cdcd5a12d27d51b}

\begin{DoxyCode}
312 \{
313   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
314   \textcolor{comment}{// Read the subset of parameters used}
315   \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig} = params;
316   \hyperlink{classns3_1_1TtaFfMacScheduler_a5cef51239a7f724ce375f0ddf883e73c}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
317   FfMacCschedSapUser::CschedUeConfigCnfParameters cnf;
318   cnf.m\_result = \hyperlink{namespacens3_a7acf2b7f9e0781dfe43a6bc54d6ecd07a4e8f5e8f6e514152d0a9fbd6b1607fd0}{SUCCESS};
319   \hyperlink{classns3_1_1TtaFfMacScheduler_a620a4509878a38fbbd97fd555dfb38aa}{m\_cschedSapUser}->\hyperlink{classns3_1_1FfMacCschedSapUser_aecc852478a4ba7e4cd868dae75e01b68}{CschedUeConfigCnf} (cnf);
320   \textcolor{keywordflow}{return};
321 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}}
\index{Do\+Csched\+Cell\+Config\+Req@{Do\+Csched\+Cell\+Config\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Cell\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters \&params)}{DoCschedCellConfigReq(const struct FfMacCschedSapProvider::CschedCellConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Cell\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_afc5fedc08874048b5cdcd5a12d27d51b}{}\label{classns3_1_1TtaFfMacScheduler_afc5fedc08874048b5cdcd5a12d27d51b}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}}
\index{Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters \&params)}{DoCschedLcConfigReq(const struct FfMacCschedSapProvider::CschedLcConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a3e912e92990df61776bec60a3e8aa0f3}{}\label{classns3_1_1TtaFfMacScheduler_a3e912e92990df61776bec60a3e8aa0f3}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}}
\index{Do\+Csched\+Lc\+Config\+Req@{Do\+Csched\+Lc\+Config\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters \&params)}{DoCschedLcConfigReq(const struct FfMacCschedSapProvider::CschedLcConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a3e912e92990df61776bec60a3e8aa0f3}{}\label{classns3_1_1TtaFfMacScheduler_a3e912e92990df61776bec60a3e8aa0f3}

\begin{DoxyCode}
364 \{
365   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" New LC, rnti: "}  << params.m\_rnti);
366 
367   std::set <uint16\_t>::iterator it;
368   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_logicalChannelConfigList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
369     \{
370       it = \hyperlink{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}{m\_flowStatsDl}.find (params.m\_rnti);
371 
372       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}{m\_flowStatsDl}.end ())
373         \{
374           \hyperlink{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}{m\_flowStatsDl}.insert (params.m\_rnti);
375           \hyperlink{classns3_1_1TtaFfMacScheduler_a807cea079683b887a7abb9d19d71ad49}{m\_flowStatsUl}.insert (params.m\_rnti);
376         \}
377     \}
378 
379   \textcolor{keywordflow}{return};
380 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}}
\index{Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters \&params)}{DoCschedLcReleaseReq(const struct FfMacCschedSapProvider::CschedLcReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a0f2fafb341203a9bb23b58c150ed9b40}{}\label{classns3_1_1TtaFfMacScheduler_a0f2fafb341203a9bb23b58c150ed9b40}

\begin{DoxyCode}
384 \{
385   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
386   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_logicalChannelIdentity.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
387     \{
388       std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.begin ();
389       std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator temp;
390       \textcolor{keywordflow}{while} (it!=\hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.end ())
391         \{
392           \textcolor{keywordflow}{if} (((*it).first.m\_rnti == params.m\_rnti) && ((*it).first.m\_lcId == params.
      m\_logicalChannelIdentity.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})))
393             \{
394               temp = it;
395               it++;
396               \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.erase (temp);
397             \}
398           \textcolor{keywordflow}{else}
399             \{
400               it++;
401             \}
402         \}
403     \}
404   \textcolor{keywordflow}{return};
405 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 5


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}}
\index{Do\+Csched\+Lc\+Release\+Req@{Do\+Csched\+Lc\+Release\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Lc\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters \&params)}{DoCschedLcReleaseReq(const struct FfMacCschedSapProvider::CschedLcReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Lc\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Lc\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a0f2fafb341203a9bb23b58c150ed9b40}{}\label{classns3_1_1TtaFfMacScheduler_a0f2fafb341203a9bb23b58c150ed9b40}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}}
\index{Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters \&params)}{DoCschedUeConfigReq(const struct FfMacCschedSapProvider::CschedUeConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a56c8bff06b46b7c6255d1733cd49679c}{}\label{classns3_1_1TtaFfMacScheduler_a56c8bff06b46b7c6255d1733cd49679c}

\begin{DoxyCode}
325 \{
326   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << params.m\_rnti << \textcolor{stringliteral}{" txMode "} << (uint16\_t)params.
      m\_transmissionMode);
327   std::map <uint16\_t,uint8\_t>::iterator it = \hyperlink{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}{m\_uesTxMode}.find (params.m\_rnti);
328   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}{m\_uesTxMode}.end ())
329     \{
330       \hyperlink{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}{m\_uesTxMode}.insert (std::pair <uint16\_t, double> (params.m\_rnti, params.m\_transmissionMode
      ));
331       \textcolor{comment}{// generate HARQ buffers}
332       \hyperlink{classns3_1_1TtaFfMacScheduler_ad381009c30855727e1515fa58349efed}{m\_dlHarqCurrentProcessId}.insert (std::pair <uint16\_t,uint8\_t > (params.m\_rnti
      , 0));
333       \hyperlink{namespacens3_a457b3571b67ff17d042e9894e90e2ce2}{DlHarqProcessesStatus\_t} dlHarqPrcStatus;
334       dlHarqPrcStatus.resize (8,0);
335       \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.insert (std::pair <uint16\_t, DlHarqProcessesStatus\_t> 
      (params.m\_rnti, dlHarqPrcStatus));
336       \hyperlink{namespacens3_a39413ade536de4b1c82d6c0074cc703e}{DlHarqProcessesTimer\_t} dlHarqProcessesTimer;
337       dlHarqProcessesTimer.resize (8,0);
338       \hyperlink{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{m\_dlHarqProcessesTimer}.insert (std::pair <uint16\_t, DlHarqProcessesTimer\_t> (
      params.m\_rnti, dlHarqProcessesTimer));
339       \hyperlink{namespacens3_af25599bf8f9f564075c005759c9af18c}{DlHarqProcessesDciBuffer\_t} dlHarqdci;
340       dlHarqdci.resize (8);
341       \hyperlink{classns3_1_1TtaFfMacScheduler_aef07d22e5c2e6acf1f711736bce49fc8}{m\_dlHarqProcessesDciBuffer}.insert (std::pair <uint16\_t,
       DlHarqProcessesDciBuffer\_t> (params.m\_rnti, dlHarqdci));
342       \hyperlink{namespacens3_a4c0cbd1e72f1c667f8b5879655f13210}{DlHarqRlcPduListBuffer\_t} dlHarqRlcPdu;
343       dlHarqRlcPdu.resize (2);
344       dlHarqRlcPdu.at (0).resize (8);
345       dlHarqRlcPdu.at (1).resize (8);
346       \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.insert (std::pair <uint16\_t,
       DlHarqRlcPduListBuffer\_t> (params.m\_rnti, dlHarqRlcPdu));
347       \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.insert (std::pair <uint16\_t,uint8\_t > (params.m\_rnti
      , 0));
348       \hyperlink{namespacens3_af765c4daaafe4ea4809c1041fc196629}{UlHarqProcessesStatus\_t} ulHarqPrcStatus;
349       ulHarqPrcStatus.resize (8,0);
350       \hyperlink{classns3_1_1TtaFfMacScheduler_a2c0bc82abe6c71b7e4d85b4caca2aaa6}{m\_ulHarqProcessesStatus}.insert (std::pair <uint16\_t, UlHarqProcessesStatus\_t> 
      (params.m\_rnti, ulHarqPrcStatus));
351       \hyperlink{namespacens3_a042cbd6bf67e73911cba35b8c070223d}{UlHarqProcessesDciBuffer\_t} ulHarqdci;
352       ulHarqdci.resize (8);
353       \hyperlink{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{m\_ulHarqProcessesDciBuffer}.insert (std::pair <uint16\_t,
       UlHarqProcessesDciBuffer\_t> (params.m\_rnti, ulHarqdci));
354     \}
355   \textcolor{keywordflow}{else}
356     \{
357       (*it).second = params.m\_transmissionMode;
358     \}
359   \textcolor{keywordflow}{return};
360 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}}
\index{Do\+Csched\+Ue\+Config\+Req@{Do\+Csched\+Ue\+Config\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Config\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters \&params)}{DoCschedUeConfigReq(const struct FfMacCschedSapProvider::CschedUeConfigReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Config\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Config\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a56c8bff06b46b7c6255d1733cd49679c}{}\label{classns3_1_1TtaFfMacScheduler_a56c8bff06b46b7c6255d1733cd49679c}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}}
\index{Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters \&params)}{DoCschedUeReleaseReq(const struct FfMacCschedSapProvider::CschedUeReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a47b20d0f9649b7cf6d546e04bc743468}{}\label{classns3_1_1TtaFfMacScheduler_a47b20d0f9649b7cf6d546e04bc743468}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}}
\index{Do\+Csched\+Ue\+Release\+Req@{Do\+Csched\+Ue\+Release\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Csched\+Ue\+Release\+Req(const struct Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters \&params)}{DoCschedUeReleaseReq(const struct FfMacCschedSapProvider::CschedUeReleaseReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Csched\+Ue\+Release\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Ue\+Release\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a47b20d0f9649b7cf6d546e04bc743468}{}\label{classns3_1_1TtaFfMacScheduler_a47b20d0f9649b7cf6d546e04bc743468}

\begin{DoxyCode}
409 \{
410   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
411   
412   \hyperlink{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}{m\_uesTxMode}.erase (params.m\_rnti);
413   \hyperlink{classns3_1_1TtaFfMacScheduler_ad381009c30855727e1515fa58349efed}{m\_dlHarqCurrentProcessId}.erase (params.m\_rnti);
414   \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.erase  (params.m\_rnti);
415   \hyperlink{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{m\_dlHarqProcessesTimer}.erase (params.m\_rnti);
416   \hyperlink{classns3_1_1TtaFfMacScheduler_aef07d22e5c2e6acf1f711736bce49fc8}{m\_dlHarqProcessesDciBuffer}.erase  (params.m\_rnti);
417   \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.erase  (params.m\_rnti);
418   \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.erase  (params.m\_rnti);
419   \hyperlink{classns3_1_1TtaFfMacScheduler_a2c0bc82abe6c71b7e4d85b4caca2aaa6}{m\_ulHarqProcessesStatus}.erase  (params.m\_rnti);
420   \hyperlink{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{m\_ulHarqProcessesDciBuffer}.erase  (params.m\_rnti);
421   \hyperlink{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}{m\_flowStatsDl}.erase  (params.m\_rnti);
422   \hyperlink{classns3_1_1TtaFfMacScheduler_a807cea079683b887a7abb9d19d71ad49}{m\_flowStatsUl}.erase  (params.m\_rnti);
423   \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.erase (params.m\_rnti);
424   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.begin ();
425   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator temp;
426   \textcolor{keywordflow}{while} (it!=\hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.end ())
427     \{
428       \textcolor{keywordflow}{if} ((*it).first.m\_rnti == params.m\_rnti)
429         \{
430           temp = it;
431           it++;
432           \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.erase (temp);
433         \}
434       \textcolor{keywordflow}{else}
435         \{
436           it++;
437         \}
438     \}
439   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{m\_nextRntiUl} == params.m\_rnti)
440     \{
441       \hyperlink{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{m\_nextRntiUl} = 0;
442     \}
443 
444   \textcolor{keywordflow}{return};
445 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 7


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a32b42f1a70faf30540f3694872092f8d}{}\label{classns3_1_1TtaFfMacScheduler_a32b42f1a70faf30540f3694872092f8d}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1TtaFfMacScheduler_ad3d4985db1ebff0babefc8a6a5a2f132}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1FfMacScheduler_a771411e455992b81d8399681779debd9}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Dispose@{Do\+Dispose}}
\index{Do\+Dispose@{Do\+Dispose}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Dispose(void)}{DoDispose(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Dispose (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ad3d4985db1ebff0babefc8a6a5a2f132}{}\label{classns3_1_1TtaFfMacScheduler_ad3d4985db1ebff0babefc8a6a5a2f132}
Destructor implementation.

This method is called by \hyperlink{classns3_1_1Object_aa90ae598863f6c251cdab3c3722afdaf}{Dispose()} or by the \hyperlink{classns3_1_1Object}{Object}\textquotesingle{}s destructor, whichever comes first.

Subclasses are expected to implement their real destruction code in an overriden version of this method and chain up to their parent\textquotesingle{}s implementation once they are done. {\itshape i.\+e}, for simplicity, the destructor of every subclass should be empty and its content should be moved to the associated \hyperlink{classns3_1_1TtaFfMacScheduler_ad3d4985db1ebff0babefc8a6a5a2f132}{Do\+Dispose()} method.

It is safe to call \hyperlink{classns3_1_1Object_a13e18c00017096c8381eb651d5bd0783}{Get\+Object()} from within this method. 

Reimplemented from \hyperlink{classns3_1_1FfMacScheduler_a771411e455992b81d8399681779debd9}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
233 \{
234   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
235   \hyperlink{classns3_1_1TtaFfMacScheduler_aef07d22e5c2e6acf1f711736bce49fc8}{m\_dlHarqProcessesDciBuffer}.clear ();
236   \hyperlink{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{m\_dlHarqProcessesTimer}.clear ();
237   \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.clear ();
238   \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.clear ();
239   \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.clear ();
240   \hyperlink{classns3_1_1TtaFfMacScheduler_a2c0bc82abe6c71b7e4d85b4caca2aaa6}{m\_ulHarqProcessesStatus}.clear ();
241   \hyperlink{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{m\_ulHarqProcessesDciBuffer}.clear ();
242   \textcolor{keyword}{delete} \hyperlink{classns3_1_1TtaFfMacScheduler_ac83b9f23cb828f8b40e9e4a9b6d60204}{m\_cschedSapProvider};
243   \textcolor{keyword}{delete} \hyperlink{classns3_1_1TtaFfMacScheduler_a9b40317b5fb7668b316e0e4a4f3a6d09}{m\_schedSapProvider};
244 \}
\end{DoxyCode}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedDlCqiInfoReq(const struct FfMacSchedSapProvider::SchedDlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aa50281f174f320ee1e586d9679d244ee}{}\label{classns3_1_1TtaFfMacScheduler_aa50281f174f320ee1e586d9679d244ee}

\begin{DoxyCode}
1329 \{
1330   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1331 
1332   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_cqiList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1333     \{
1334       \textcolor{keywordflow}{if} ( params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_cqiType == \hyperlink{structns3_1_1CqiListElement__s_a8f1bd827fd9842e7c07e39265d88299aa9db5a80433fbf06a4c98935e28ad26e8}{CqiListElement\_s::P10} )
1335         \{
1336           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{stringliteral}{"wideband CQI "} <<  (uint32\_t) params.m\_cqiList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0) << \textcolor{stringliteral}{" reported"});
1337           std::map <uint16\_t,uint8\_t>::iterator it;
1338           uint16\_t rnti = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1339           it = \hyperlink{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}{m\_p10CqiRxed}.find (rnti);
1340           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}{m\_p10CqiRxed}.end ())
1341             \{
1342               \textcolor{comment}{// create the new entry}
1343               \hyperlink{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}{m\_p10CqiRxed}.insert ( std::pair<uint16\_t, uint8\_t > (rnti, params.m\_cqiList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0)) ); \textcolor{comment}{// only codeword 0 at this stage (SISO)}
1344               \textcolor{comment}{// generate correspondent timer}
1345               \hyperlink{classns3_1_1TtaFfMacScheduler_a8b66a6a0a7a737e132a112c945ecefa9}{m\_p10CqiTimers}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold}));
1346             \}
1347           \textcolor{keywordflow}{else}
1348             \{
1349               \textcolor{comment}{// update the CQI value and refresh correspondent timer}
1350               (*it).second = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_wbCqi.at (0);
1351               \textcolor{comment}{// update correspondent timer}
1352               std::map <uint16\_t,uint32\_t>::iterator itTimers;
1353               itTimers = \hyperlink{classns3_1_1TtaFfMacScheduler_a8b66a6a0a7a737e132a112c945ecefa9}{m\_p10CqiTimers}.find (rnti);
1354               (*itTimers).second = \hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold};
1355             \}
1356         \}
1357       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_cqiType == \hyperlink{structns3_1_1CqiListElement__s_a8f1bd827fd9842e7c07e39265d88299aab9a9d64494e36c89d7932a00edb056a7}{CqiListElement\_s::A30} )
1358         \{
1359           \textcolor{comment}{// subband CQI reporting high layer configured}
1360           std::map <uint16\_t,SbMeasResult\_s>::iterator it;
1361           uint16\_t rnti = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1362           it = \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\_a30CqiRxed}.find (rnti);
1363           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\_a30CqiRxed}.end ())
1364             \{
1365               \textcolor{comment}{// create the new entry}
1366               \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\_a30CqiRxed}.insert ( std::pair<uint16\_t, SbMeasResult\_s > (rnti, params.
      m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbMeasResult) );
1367               \hyperlink{classns3_1_1TtaFfMacScheduler_ac0ad6a5aaee1c2c92ae0d73d401b0d2c}{m\_a30CqiTimers}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold}));
1368             \}
1369           \textcolor{keywordflow}{else}
1370             \{
1371               \textcolor{comment}{// update the CQI value and refresh correspondent timer}
1372               (*it).second = params.m\_cqiList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbMeasResult;
1373               std::map <uint16\_t,uint32\_t>::iterator itTimers;
1374               itTimers = \hyperlink{classns3_1_1TtaFfMacScheduler_ac0ad6a5aaee1c2c92ae0d73d401b0d2c}{m\_a30CqiTimers}.find (rnti);
1375               (*itTimers).second = \hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold};
1376             \}
1377         \}
1378       \textcolor{keywordflow}{else}
1379         \{
1380           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" CQI type unknown"});
1381         \}
1382     \}
1383 
1384   \textcolor{keywordflow}{return};
1385 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Dl\+Cqi\+Info\+Req@{Do\+Sched\+Dl\+Cqi\+Info\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedDlCqiInfoReq(const struct FfMacSchedSapProvider::SchedDlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aa50281f174f320ee1e586d9679d244ee}{}\label{classns3_1_1TtaFfMacScheduler_aa50281f174f320ee1e586d9679d244ee}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Mac\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters \&params)}{DoSchedDlMacBufferReq(const struct FfMacSchedSapProvider::SchedDlMacBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Mac\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a5bac4fda82874270a1cafa31d5887742}{}\label{classns3_1_1TtaFfMacScheduler_a5bac4fda82874270a1cafa31d5887742}

\begin{DoxyCode}
482 \{
483   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
484   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method not implemented"});
485   \textcolor{keywordflow}{return};
486 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 9


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Mac\+Buffer\+Req@{Do\+Sched\+Dl\+Mac\+Buffer\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Mac\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters \&params)}{DoSchedDlMacBufferReq(const struct FfMacSchedSapProvider::SchedDlMacBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Mac\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Mac\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a5bac4fda82874270a1cafa31d5887742}{}\label{classns3_1_1TtaFfMacScheduler_a5bac4fda82874270a1cafa31d5887742}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Paging\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters \&params)}{DoSchedDlPagingBufferReq(const struct FfMacSchedSapProvider::SchedDlPagingBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Paging\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a2eecb18dd245957c060a390892893afe}{}\label{classns3_1_1TtaFfMacScheduler_a2eecb18dd245957c060a390892893afe}

\begin{DoxyCode}
474 \{
475   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
476   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"method not implemented"});
477   \textcolor{keywordflow}{return};
478 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Paging\+Buffer\+Req@{Do\+Sched\+Dl\+Paging\+Buffer\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Paging\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters \&params)}{DoSchedDlPagingBufferReq(const struct FfMacSchedSapProvider::SchedDlPagingBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Paging\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Paging\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a2eecb18dd245957c060a390892893afe}{}\label{classns3_1_1TtaFfMacScheduler_a2eecb18dd245957c060a390892893afe}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}}
\index{Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rach\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters \&params)}{DoSchedDlRachInfoReq(const struct FfMacSchedSapProvider::SchedDlRachInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rach\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ad3fb2681df7e6d411905209338ac006b}{}\label{classns3_1_1TtaFfMacScheduler_ad3fb2681df7e6d411905209338ac006b}

\begin{DoxyCode}
1319 \{
1320   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1321 
1322   \hyperlink{classns3_1_1TtaFfMacScheduler_ac2f848953754daa546155b20aa1d9ace}{m\_rachList} = params.m\_rachList;
1323   
1324   \textcolor{keywordflow}{return};
1325 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}}
\index{Do\+Sched\+Dl\+Rach\+Info\+Req@{Do\+Sched\+Dl\+Rach\+Info\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rach\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters \&params)}{DoSchedDlRachInfoReq(const struct FfMacSchedSapProvider::SchedDlRachInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rach\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rach\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ad3fb2681df7e6d411905209338ac006b}{}\label{classns3_1_1TtaFfMacScheduler_ad3fb2681df7e6d411905209338ac006b}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rlc\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters \&params)}{DoSchedDlRlcBufferReq(const struct FfMacSchedSapProvider::SchedDlRlcBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rlc\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aadcf71415dcce97a8968b7b95028b133}{}\label{classns3_1_1TtaFfMacScheduler_aadcf71415dcce97a8968b7b95028b133}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}}
\index{Do\+Sched\+Dl\+Rlc\+Buffer\+Req@{Do\+Sched\+Dl\+Rlc\+Buffer\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Rlc\+Buffer\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters \&params)}{DoSchedDlRlcBufferReq(const struct FfMacSchedSapProvider::SchedDlRlcBufferReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Rlc\+Buffer\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aadcf71415dcce97a8968b7b95028b133}{}\label{classns3_1_1TtaFfMacScheduler_aadcf71415dcce97a8968b7b95028b133}

\begin{DoxyCode}
450 \{
451   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << params.m\_rnti << (uint32\_t) params.m\_logicalChannelIdentity);
452   \textcolor{comment}{// API generated by RLC for updating RLC parameters on a LC (tx and retx queues)}
453 
454   std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
455 
456   LteFlowId\_t flow (params.m\_rnti, params.m\_logicalChannelIdentity);
457 
458   it =  \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.find (flow);
459 
460   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.end ())
461     \{
462       \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.insert (std::pair <LteFlowId\_t,
       FfMacSchedSapProvider::SchedDlRlcBufferReqParameters> (flow, params));
463     \}
464   \textcolor{keywordflow}{else}
465     \{
466       (*it).second = params;
467     \}
468 
469   \textcolor{keywordflow}{return};
470 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 12


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}}
\index{Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters \&params)}{DoSchedDlTriggerReq(const struct FfMacSchedSapProvider::SchedDlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_adc734578d3c46a0d8a9eb2cdcafb6d61}{}\label{classns3_1_1TtaFfMacScheduler_adc734578d3c46a0d8a9eb2cdcafb6d61}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000112}{Todo}]check correct value according the D\+C\+Is txed \end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000138}{Todo}]check correct value according the D\+C\+Is txed \end{DoxyRefDesc}

\begin{DoxyCode}
635 \{
636   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{" subframe no. "} << (0
      xF & params.m\_sfnSf));
637   \textcolor{comment}{// API generated by RLC for triggering the scheduling of a DL subframe}
638 
639 
640   \textcolor{comment}{// evaluate the relative channel quality indicator for each UE per each RBG}
641   \textcolor{comment}{// (since we are using allocation type 0 the small unit of allocation is RBG)}
642   \textcolor{comment}{// Resource allocation type 0 (see sec 7.1.6.1 of 36.213)}
643 
644   \hyperlink{classns3_1_1TtaFfMacScheduler_a26eadc05cfa6ac456b5149467f0b92ec}{RefreshDlCqiMaps} ();
645 
646   \textcolor{keywordtype}{int} rbgSize = \hyperlink{classns3_1_1TtaFfMacScheduler_a496f93bd1b87f83996ba8358903ab69d}{GetRbgSize} (\hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth});
647   \textcolor{keywordtype}{int} rbgNum = \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth} / rbgSize;
648   std::map <uint16\_t, std::vector <uint16\_t> > allocationMap; \textcolor{comment}{// RBs map per RNTI}
649   std::vector <bool> rbgMap;  \textcolor{comment}{// global RBGs map}
650   uint16\_t rbgAllocatedNum = 0;
651   std::set <uint16\_t> rntiAllocated;
652   rbgMap.resize (\hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_ad18c695bd3c9d7f742ba1dab4a941e8a}{m\_dlBandwidth} / rbgSize, \textcolor{keyword}{false});
653   FfMacSchedSapUser::SchedDlConfigIndParameters ret;
654 
655   \textcolor{comment}{//   update UL HARQ proc id}
656   std::map <uint16\_t, uint8\_t>::iterator itProcId;
657   \textcolor{keywordflow}{for} (itProcId = \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.begin (); itProcId != 
      \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.end (); itProcId++)
658     \{
659       (*itProcId).second = ((*itProcId).second + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
660     \}
661 
662   \textcolor{comment}{// RACH Allocation}
663   \hyperlink{classns3_1_1TtaFfMacScheduler_a5cef51239a7f724ce375f0ddf883e73c}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
664   uint16\_t rbStart = 0;
665   std::vector <struct RachListElement\_s>::iterator itRach;
666   \textcolor{keywordflow}{for} (itRach = \hyperlink{classns3_1_1TtaFfMacScheduler_ac2f848953754daa546155b20aa1d9ace}{m\_rachList}.begin (); itRach != \hyperlink{classns3_1_1TtaFfMacScheduler_ac2f848953754daa546155b20aa1d9ace}{m\_rachList}.end (); itRach++)
667     \{
668       \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (\hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetTbSizeFromMcs (\hyperlink{classns3_1_1TtaFfMacScheduler_af999ba34a23583421c6a34df08608e47}{m\_ulGrantMcs}, 
      \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) > (*itRach).m\_estimatedSize, \textcolor{stringliteral}{" Default UL
       Grant MCS does not allow to send RACH messages"});
669       BuildRarListElement\_s newRar;
670       newRar.m\_rnti = (*itRach).m\_rnti;
671       \textcolor{comment}{// DL-RACH Allocation}
672       \textcolor{comment}{// Ideal: no needs of configuring m\_dci}
673       \textcolor{comment}{// UL-RACH Allocation}
674       newRar.m\_grant.m\_rnti = newRar.m\_rnti;
675       newRar.m\_grant.m\_mcs = \hyperlink{classns3_1_1TtaFfMacScheduler_af999ba34a23583421c6a34df08608e47}{m\_ulGrantMcs};
676       uint16\_t rbLen = 1;
677       uint16\_t tbSizeBits = 0;
678       \textcolor{comment}{// find lowest TB size that fits UL grant estimated size}
679       \textcolor{keywordflow}{while} ((tbSizeBits < (*itRach).m\_estimatedSize) && (rbStart + rbLen < 
      \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}))
680         \{
681           rbLen++;
682           tbSizeBits = \hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetTbSizeFromMcs (\hyperlink{classns3_1_1TtaFfMacScheduler_af999ba34a23583421c6a34df08608e47}{m\_ulGrantMcs}, rbLen);
683         \}
684       \textcolor{keywordflow}{if} (tbSizeBits < (*itRach).m\_estimatedSize)
685         \{
686           \textcolor{comment}{// no more allocation space: finish allocation}
687           \textcolor{keywordflow}{break};
688         \}
689       newRar.m\_grant.m\_rbStart = rbStart;
690       newRar.m\_grant.m\_rbLen = rbLen;
691       newRar.m\_grant.m\_tbSize = tbSizeBits / 8;
692       newRar.m\_grant.m\_hopping = \textcolor{keyword}{false};
693       newRar.m\_grant.m\_tpc = 0;
694       newRar.m\_grant.m\_cqiRequest = \textcolor{keyword}{false};
695       newRar.m\_grant.m\_ulDelay = \textcolor{keyword}{false};
696       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL grant allocated to RNTI "} << (*itRach).m\_rnti << \textcolor{stringliteral}{" rbStart "} << 
      rbStart << \textcolor{stringliteral}{" rbLen "} << rbLen << \textcolor{stringliteral}{" MCS "} << \hyperlink{classns3_1_1TtaFfMacScheduler_af999ba34a23583421c6a34df08608e47}{m\_ulGrantMcs} << \textcolor{stringliteral}{" tbSize "} << newRar.m\_grant.
      m\_tbSize);
697       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rbStart + rbLen; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
698         \{
699           \hyperlink{classns3_1_1TtaFfMacScheduler_a5cef51239a7f724ce375f0ddf883e73c}{m\_rachAllocationMap}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = (*itRach).m\_rnti;
700         \}
701 
702       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}{m\_harqOn} == \textcolor{keyword}{true})
703         \{
704           \textcolor{comment}{// generate UL-DCI for HARQ retransmissions}
705           UlDciListElement\_s uldci;
706           uldci.m\_rnti = newRar.m\_rnti;
707           uldci.m\_rbLen = rbLen;
708           uldci.m\_rbStart = rbStart;
709           uldci.m\_mcs = \hyperlink{classns3_1_1TtaFfMacScheduler_af999ba34a23583421c6a34df08608e47}{m\_ulGrantMcs};
710           uldci.m\_tbSize = tbSizeBits / 8;
711           uldci.m\_ndi = 1;
712           uldci.m\_cceIndex = 0;
713           uldci.m\_aggrLevel = 1;
714           uldci.m\_ueTxAntennaSelection = 3; \textcolor{comment}{// antenna selection OFF}
715           uldci.m\_hopping = \textcolor{keyword}{false};
716           uldci.m\_n2Dmrs = 0;
717           uldci.m\_tpc = 0; \textcolor{comment}{// no power control}
718           uldci.m\_cqiRequest = \textcolor{keyword}{false}; \textcolor{comment}{// only period CQI at this stage}
719           uldci.m\_ulIndex = 0; \textcolor{comment}{// TDD parameter}
720           uldci.m\_dai = 1; \textcolor{comment}{// TDD parameter}
721           uldci.m\_freqHopping = 0;
722           uldci.m\_pdcchPowerOffset = 0; \textcolor{comment}{// not used}
723 
724           uint8\_t harqId = 0;
725           std::map <uint16\_t, uint8\_t>::iterator itProcId;
726           itProcId = \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.find (uldci.m\_rnti);
727           \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.end ())
728             \{
729               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << uldci.m\_rnti);
730             \}
731           harqId = (*itProcId).second;
732           std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{m\_ulHarqProcessesDciBuffer}.find (uldci.m\_rnti);
733           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{m\_ulHarqProcessesDciBuffer}.end ())
734             \{
735               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in UL DCI HARQ buffer for RNTI "} << 
      uldci.m\_rnti);
736             \}
737           (*itDci).second.at (harqId) = uldci;
738         \}
739 
740       rbStart = rbStart + rbLen;
741       ret.m\_buildRarList.push\_back (newRar);
742     \}
743   \hyperlink{classns3_1_1TtaFfMacScheduler_ac2f848953754daa546155b20aa1d9ace}{m\_rachList}.clear ();
744 
745 
746   \textcolor{comment}{// Process DL HARQ feedback}
747   \hyperlink{classns3_1_1TtaFfMacScheduler_a0d70dd3503e3a8743cca82852aa35e7e}{RefreshHarqProcesses} ();
748   \textcolor{comment}{// retrieve past HARQ retx buffered}
749   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.size () > 0)
750     \{
751       \textcolor{keywordflow}{if} (params.m\_dlInfoList.size () > 0)
752         \{
753           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Received DL-HARQ feedback"});
754           \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.insert (\hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.end (),
       params.m\_dlInfoList.begin (), params.m\_dlInfoList.end ());
755         \}
756     \}
757   \textcolor{keywordflow}{else}
758     \{
759       \textcolor{keywordflow}{if} (params.m\_dlInfoList.size () > 0)
760         \{
761           \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered} = params.m\_dlInfoList;
762         \}
763     \}
764   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}{m\_harqOn} == \textcolor{keyword}{false})
765     \{
766       \textcolor{comment}{// Ignore HARQ feedback}
767       \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.clear ();
768     \}
769   std::vector <struct DlInfoListElement\_s> dlInfoListUntxed;
770   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
771     \{
772       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find (
      \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
773       \textcolor{keywordflow}{if} (itRnti != rntiAllocated.end ())
774         \{
775           \textcolor{comment}{// RNTI already allocated for retx}
776           \textcolor{keywordflow}{continue};
777         \}
778       uint8\_t nLayers = \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.size ();
779       std::vector <bool> retx;
780       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Processing DLHARQ feedback"});
781       \textcolor{keywordflow}{if} (nLayers == 1)
782         \{
783           retx.push\_back (\hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (0) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
784           retx.push\_back (\textcolor{keyword}{false});
785         \}
786       \textcolor{keywordflow}{else}
787         \{
788           retx.push\_back (\hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (0) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
789           retx.push\_back (\hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqStatus.at (1) == 
      \hyperlink{structns3_1_1DlInfoListElement__s_a3e55b89f756b7bd8909c8116a202a17aaf90e76e67c86729b4ee21927b7fb1770}{DlInfoListElement\_s::NACK});
790         \}
791       \textcolor{keywordflow}{if} (retx.at (0) || retx.at (1))
792         \{
793           \textcolor{comment}{// retrieve HARQ process information}
794           uint16\_t rnti = \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
795           uint8\_t harqId = \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId;
796           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ retx RNTI "} << rnti << \textcolor{stringliteral}{" harqId "} << (uint16\_t)harqId);
797           std::map <uint16\_t, DlHarqProcessesDciBuffer\_t>::iterator itHarq = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_aef07d22e5c2e6acf1f711736bce49fc8}{m\_dlHarqProcessesDciBuffer}.find (rnti);
798           \textcolor{keywordflow}{if} (itHarq == \hyperlink{classns3_1_1TtaFfMacScheduler_aef07d22e5c2e6acf1f711736bce49fc8}{m\_dlHarqProcessesDciBuffer}.end ())
799             \{
800               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << rnti);
801             \}
802 
803           DlDciListElement\_s dci = (*itHarq).second.at (harqId);
804           \textcolor{keywordtype}{int} rv = 0;
805           \textcolor{keywordflow}{if} (dci.m\_rv.size () == 1)
806             \{
807               rv = dci.m\_rv.at (0);
808             \}
809           \textcolor{keywordflow}{else}
810             \{
811               rv = (dci.m\_rv.at (0) > dci.m\_rv.at (1) ? dci.m\_rv.at (0) : dci.m\_rv.at (1));
812             \}
813 
814           \textcolor{keywordflow}{if} (rv == 3)
815             \{
816               \textcolor{comment}{// maximum number of retx reached -> drop process}
817               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Maximum number of retransmissions reached -> drop process"});
818               std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator it = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.find (rnti);
819               \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.end ())
820                 \{
821                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
822                 \}
823               (*it).second.at (harqId) = 0;
824               std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.find (rnti);
825               \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
826                 \{
827                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << 
      \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
828                 \}
829               \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.size (); k++)
830                 \{
831                   (*itRlcPdu).second.at (k).at (harqId).clear ();
832                 \}
833               \textcolor{keywordflow}{continue};
834             \}
835           \textcolor{comment}{// check the feasibility of retransmitting on the same RBGs}
836           \textcolor{comment}{// translate the DCI to Spectrum framework}
837           std::vector <int> dciRbg;
838           uint32\_t mask = 0x1;
839           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Original RBGs "} << dci.m\_rbBitmap << \textcolor{stringliteral}{" rnti "} << dci.m\_rnti);
840           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 32; j++)
841             \{
842               \textcolor{keywordflow}{if} (((dci.m\_rbBitmap & mask) >> j) == 1)
843                 \{
844                   dciRbg.push\_back (j);
845                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)t"} << j);
846                 \}
847               mask = (mask << 1);
848             \}
849           \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
850           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < dciRbg.size (); j++)
851             \{
852               \textcolor{keywordflow}{if} (rbgMap.at (dciRbg.at (j)) == \textcolor{keyword}{true})
853                 \{
854                   free = \textcolor{keyword}{false};
855                   \textcolor{keywordflow}{break};
856                 \}
857             \}
858           \textcolor{keywordflow}{if} (free)
859             \{
860               \textcolor{comment}{// use the same RBGs for the retx}
861               \textcolor{comment}{// reserve RBGs}
862               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < dciRbg.size (); j++)
863                 \{
864                   rbgMap.at (dciRbg.at (j)) = \textcolor{keyword}{true};
865                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"RBG "} << dciRbg.at (j) << \textcolor{stringliteral}{" assigned"});
866                   rbgAllocatedNum++;
867                 \}
868 
869               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Send retx in the same RBGs"});
870             \}
871           \textcolor{keywordflow}{else}
872             \{
873               \textcolor{comment}{// find RBGs for sending HARQ retx}
874               uint8\_t j = 0;
875               uint8\_t rbgId = (dciRbg.at (dciRbg.size () - 1) + 1) % rbgNum;
876               uint8\_t startRbg = dciRbg.at (dciRbg.size () - 1);
877               std::vector <bool> rbgMapCopy = rbgMap;
878               \textcolor{keywordflow}{while} ((j < dciRbg.size ())&&(startRbg != rbgId))
879                 \{
880                   \textcolor{keywordflow}{if} (rbgMapCopy.at (rbgId) == \textcolor{keyword}{false})
881                     \{
882                       rbgMapCopy.at (rbgId) = \textcolor{keyword}{true};
883                       dciRbg.at (j) = rbgId;
884                       j++;
885                     \}
886                   rbgId = (rbgId + 1) % rbgNum;
887                 \}
888               \textcolor{keywordflow}{if} (j == dciRbg.size ())
889                 \{
890                   \textcolor{comment}{// find new RBGs -> update DCI map}
891                   uint32\_t rbgMask = 0;
892                   \textcolor{keywordflow}{for} (uint16\_t k = 0; k < dciRbg.size (); k++)
893                     \{
894                       rbgMask = rbgMask + (0x1 << dciRbg.at (k));
895                       rbgAllocatedNum++;
896                     \}
897                   dci.m\_rbBitmap = rbgMask;
898                   rbgMap = rbgMapCopy;
899                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Move retx in RBGs "} << dciRbg.size ());
900                 \}
901               \textcolor{keywordflow}{else}
902                 \{
903                   \textcolor{comment}{// HARQ retx cannot be performed on this TTI -> store it}
904                   dlInfoListUntxed.push\_back (\hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
905                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" No resource for this retx -> buffer it"});
906                 \}
907             \}
908           \textcolor{comment}{// retrieve RLC PDU list for retx TBsize and update DCI}
909           BuildDataListElement\_s newEl;
910           std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.find (rnti);
911           \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
912             \{
913               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << rnti);
914             \}
915           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayers; j++)
916             \{
917               \textcolor{keywordflow}{if} (retx.at (j))
918                 \{
919                   \textcolor{keywordflow}{if} (j >= dci.m\_ndi.size ())
920                     \{
921                       \textcolor{comment}{// for avoiding errors in MIMO transient phases}
922                       dci.m\_ndi.push\_back (0);
923                       dci.m\_rv.push\_back (0);
924                       dci.m\_mcs.push\_back (0);
925                       dci.m\_tbsSize.push\_back (0);
926                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" no txed (MIMO
       transition)"});
927                     \}
928                   \textcolor{keywordflow}{else}
929                     \{
930                       dci.m\_ndi.at (j) = 0;
931                       dci.m\_rv.at (j)++;
932                       (*itHarq).second.at (harqId).m\_rv.at (j)++;
933                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" RV "} << (uint16\_t)dci.
      m\_rv.at (j));
934                     \}
935                 \}
936               \textcolor{keywordflow}{else}
937                 \{
938                   \textcolor{comment}{// empty TB of layer j}
939                   dci.m\_ndi.at (j) = 0;
940                   dci.m\_rv.at (j) = 0;
941                   dci.m\_mcs.at (j) = 0;
942                   dci.m\_tbsSize.at (j) = 0;
943                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" layer "} << (uint16\_t)j << \textcolor{stringliteral}{" no retx"});
944                 \}
945             \}
946           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.at (0).at (dci.m\_harqProcess).size (); k++)
947             \{
948               std::vector <struct RlcPduListElement\_s> rlcPduListPerLc;
949               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayers; j++)
950                 \{
951                   \textcolor{keywordflow}{if} (retx.at (j))
952                     \{
953                       \textcolor{keywordflow}{if} (j < dci.m\_ndi.size ())
954                         \{
955                           rlcPduListPerLc.push\_back ((*itRlcPdu).second.at (j).at (dci.m\_harqProcess).at (k
      ));
956                         \}
957                     \}
958                 \}
959 
960               \textcolor{keywordflow}{if} (rlcPduListPerLc.size () > 0)
961                 \{
962                   newEl.m\_rlcPduList.push\_back (rlcPduListPerLc);
963                 \}
964             \}
965           newEl.m\_rnti = rnti;
966           newEl.m\_dci = dci;
967           (*itHarq).second.at (harqId).m\_rv = dci.m\_rv;
968           \textcolor{comment}{// refresh timer}
969           std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itHarqTimer = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{m\_dlHarqProcessesTimer}.find (rnti);
970           \textcolor{keywordflow}{if} (itHarqTimer== \hyperlink{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{m\_dlHarqProcessesTimer}.end ())
971             \{
972               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find HARQ timer for RNTI "} << (uint16\_t)rnti);
973             \}
974           (*itHarqTimer).second.at (harqId) = 0;
975           ret.m\_buildDataList.push\_back (newEl);
976           rntiAllocated.insert (rnti);
977         \}
978       \textcolor{keywordflow}{else}
979         \{
980           \textcolor{comment}{// update HARQ process status}
981           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ received ACK for UE "} << 
      \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
982           std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator it = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.find (\hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
983           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.end ())
984             \{
985               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << 
      \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
986             \}
987           (*it).second.at (\hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId) = 0;
988           std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.find (
      \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
989           \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.end ())
990             \{
991               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI "} << 
      \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
992             \}
993           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itRlcPdu).second.size (); k++)
994             \{
995               (*itRlcPdu).second.at (k).at (\hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_harqProcessId).clear ();
996             \}
997         \}
998     \}
999   \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered}.clear ();
1000   \hyperlink{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{m\_dlInfoListBuffered} = dlInfoListUntxed;
1001 
1002   \textcolor{keywordflow}{if} (rbgAllocatedNum == rbgNum)
1003     \{
1004       \textcolor{comment}{// all the RBGs are already allocated -> exit}
1005       \textcolor{keywordflow}{if} ((ret.m\_buildDataList.size () > 0) || (ret.m\_buildRarList.size () > 0))
1006         \{
1007           \hyperlink{classns3_1_1TtaFfMacScheduler_a950cb3e5f468debf1fa002171ff299f1}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a28f8484af5a32a45ee6c0e51770d83f7}{SchedDlConfigInd} (ret);
1008         \}
1009       \textcolor{keywordflow}{return};
1010     \}
1011 
1012 
1013 
1014   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < rbgNum; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1015     \{
1016       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" ALLOCATION for RBG "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" of "} << rbgNum);
1017       \textcolor{keywordflow}{if} (rbgMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \textcolor{keyword}{false})
1018         \{
1019           std::set <uint16\_t>::iterator it;
1020           std::set <uint16\_t>::iterator itMax = \hyperlink{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}{m\_flowStatsDl}.end ();
1021           \textcolor{keywordtype}{double} rcqiMax = 0.0;
1022           \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}{m\_flowStatsDl}.begin (); it != \hyperlink{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}{m\_flowStatsDl}.end (); it++)
1023             \{
1024               std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it));
1025               \textcolor{keywordflow}{if} ((itRnti != rntiAllocated.end ())||(!\hyperlink{classns3_1_1TtaFfMacScheduler_a3a48b5c8377a948e09078760eae6348b}{HarqProcessAvailability} ((*it)
      )))
1026                 \{
1027                   \textcolor{comment}{// UE already allocated for HARQ or without HARQ process available -> drop it}
1028                   \textcolor{keywordflow}{if} (itRnti != rntiAllocated.end ())
1029                   \{
1030                     \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI discared for HARQ tx"} << (uint16\_t)(*it));
1031                   \}
1032                   \textcolor{keywordflow}{if} (!\hyperlink{classns3_1_1TtaFfMacScheduler_a3a48b5c8377a948e09078760eae6348b}{HarqProcessAvailability} ((*it)))
1033                   \{
1034                     \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI discared for HARQ id"} << (uint16\_t)(*it));
1035                   \}
1036                   \textcolor{keywordflow}{continue};
1037                 \}
1038 
1039               std::map <uint16\_t,SbMeasResult\_s>::iterator itSbCqi;
1040               itSbCqi = \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\_a30CqiRxed}.find ((*it));
1041               std::map <uint16\_t,uint8\_t>::iterator itWbCqi;
1042               itWbCqi = \hyperlink{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}{m\_p10CqiRxed}.find ((*it));
1043 
1044               std::map <uint16\_t,uint8\_t>::iterator itTxMode;
1045               itTxMode = \hyperlink{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}{m\_uesTxMode}.find ((*it));
1046               \textcolor{keywordflow}{if} (itTxMode == \hyperlink{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}{m\_uesTxMode}.end ())
1047                 \{
1048                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Transmission Mode info on user "} << (*it));
1049                 \}
1050               \textcolor{keywordtype}{int} nLayer = \hyperlink{classns3_1_1TransmissionModesLayers_a31f608b7bfaa77440fe4cb85ad035329}{TransmissionModesLayers::TxMode2LayerNum}
       ((*itTxMode).second);
1051 
1052               std::vector <uint8\_t> sbCqi;
1053               \textcolor{keywordflow}{if} (itSbCqi == \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\_a30CqiRxed}.end ())
1054                 \{
1055                   \textcolor{keywordflow}{for} (uint8\_t k = 0; k < nLayer; k++)
1056                     \{
1057                       sbCqi.push\_back (1);  \textcolor{comment}{// start with lowest value}
1058                     \}
1059                 \}
1060               \textcolor{keywordflow}{else}
1061                 \{
1062                   sbCqi = (*itSbCqi).second.m\_higherLayerSelected.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_sbCqi;
1063                 \}
1064 
1065               uint8\_t wbCqi = 0;
1066               \textcolor{keywordflow}{if} (itWbCqi != \hyperlink{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}{m\_p10CqiRxed}.end ())
1067                 \{
1068                   wbCqi = (*itWbCqi).second;
1069                 \}
1070               \textcolor{keywordflow}{else}
1071                 \{
1072                   wbCqi = 1; \textcolor{comment}{// lowest value fro trying a transmission}
1073                 \}
1074 
1075               uint8\_t cqi1 = sbCqi.at (0);
1076               uint8\_t cqi2 = 1;
1077               \textcolor{keywordflow}{if} (sbCqi.size () > 1)
1078                 \{
1079                   cqi2 = sbCqi.at (1);
1080                 \}
1081               \textcolor{keywordflow}{if} ((cqi1 > 0)||(cqi2 > 0)) \textcolor{comment}{// CQI == 0 means "out of range" (see table 7.2.3-1 of 36.213)}
1082                 \{
1083                   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_a2907ecc4ef7185be679248f833fc931b}{LcActivePerFlow} ((*it)) > 0)
1084                     \{
1085                       \textcolor{comment}{// this UE has data to transmit}
1086                       \textcolor{keywordtype}{double} achievableSbRate = 0.0;
1087                       \textcolor{keywordtype}{double} achievableWbRate = 0.0;
1088                       uint8\_t sbMcs = 0;
1089                       uint8\_t wbMcs = 0; 
1090                       \textcolor{keywordflow}{for} (uint8\_t k = 0; k < nLayer; k++)
1091                         \{
1092                           \textcolor{keywordflow}{if} (sbCqi.size () > k)
1093                             \{
1094                               sbMcs = \hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetMcsFromCqi (sbCqi.at (k));
1095                             \}
1096                           \textcolor{keywordflow}{else}
1097                             \{
1098                               \textcolor{comment}{// no info on this subband -> worst MCS}
1099                               sbMcs = 0;
1100                             \}
1101                           achievableSbRate += ((\hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetTbSizeFromMcs (sbMcs, rbgSize) / 8) / 0.001)
      ;   \textcolor{comment}{// = TB size / TTI}
1102                           wbMcs = \hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetMcsFromCqi (wbCqi);
1103                           achievableWbRate += ((\hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetTbSizeFromMcs (wbMcs, rbgSize) / 8) / 0.001)
      ;   \textcolor{comment}{// = TB size / TTI}
1104                         \}
1105 
1106                       \textcolor{keywordtype}{double} metric = achievableSbRate / achievableWbRate;
1107 
1108                       \textcolor{keywordflow}{if} (metric > rcqiMax)
1109                         \{
1110                           rcqiMax = metric;
1111                           itMax = it;
1112                         \}
1113                     \}
1114                 \}   \textcolor{comment}{// end if cqi}
1115               
1116             \} \textcolor{comment}{// end for m\_rlcBufferReq}
1117 
1118           \textcolor{keywordflow}{if} (itMax == \hyperlink{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}{m\_flowStatsDl}.end ())
1119             \{
1120               \textcolor{comment}{// no UE available for this RB}
1121               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" any UE found"});
1122             \}
1123           \textcolor{keywordflow}{else}
1124             \{
1125               rbgMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = \textcolor{keyword}{true};
1126               std::map <uint16\_t, std::vector <uint16\_t> >::iterator itMap;
1127               itMap = allocationMap.find ((*itMax));
1128               \textcolor{keywordflow}{if} (itMap == allocationMap.end ())
1129                 \{
1130                   \textcolor{comment}{// insert new element}
1131                   std::vector <uint16\_t> tempMap;
1132                   tempMap.push\_back (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1133                   allocationMap.insert (std::pair <uint16\_t, std::vector <uint16\_t> > ((*itMax), tempMap));
1134                 \}
1135               \textcolor{keywordflow}{else}
1136                 \{
1137                   (*itMap).second.push\_back (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1138                 \}
1139               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE assigned "} << (*itMax));
1140             \}
1141         \} \textcolor{comment}{// end for RBG free}
1142     \} \textcolor{comment}{// end for RBGs}
1143 
1144   \textcolor{comment}{// generate the transmission opportunities by grouping the RBGs of the same RNTI and}
1145   \textcolor{comment}{// creating the correspondent DCIs}
1146   std::map <uint16\_t, std::vector <uint16\_t> >::iterator itMap = allocationMap.begin ();
1147   \textcolor{keywordflow}{while} (itMap != allocationMap.end ())
1148     \{
1149       \textcolor{comment}{// create new BuildDataListElement\_s for this LC}
1150       BuildDataListElement\_s newEl;
1151       newEl.m\_rnti = (*itMap).first;
1152       \textcolor{comment}{// create the DlDciListElement\_s}
1153       DlDciListElement\_s newDci;
1154       newDci.m\_rnti = (*itMap).first;
1155       newDci.m\_harqProcess = \hyperlink{classns3_1_1TtaFfMacScheduler_aa2c9ed548b16ace6abe0f0de7501f1df}{UpdateHarqProcessId} ((*itMap).first);
1156 
1157       uint16\_t lcActives = \hyperlink{classns3_1_1TtaFfMacScheduler_a2907ecc4ef7185be679248f833fc931b}{LcActivePerFlow} ((*itMap).first);
1158       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"Allocate user "} << newEl.m\_rnti << \textcolor{stringliteral}{" rbg "} << lcActives);
1159       \textcolor{keywordflow}{if} (lcActives == 0)
1160         \{
1161           \textcolor{comment}{// Set to max value, to avoid divide by 0 below}
1162           lcActives = (uint16\_t)65535; \textcolor{comment}{// UINT16\_MAX;}
1163         \}
1164       uint16\_t RgbPerRnti = (*itMap).second.size ();
1165       std::map <uint16\_t,SbMeasResult\_s>::iterator itCqi;
1166       itCqi = \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\_a30CqiRxed}.find ((*itMap).first);
1167       std::map <uint16\_t,uint8\_t>::iterator itTxMode;
1168       itTxMode = \hyperlink{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}{m\_uesTxMode}.find ((*itMap).first);
1169       \textcolor{keywordflow}{if} (itTxMode == \hyperlink{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}{m\_uesTxMode}.end ())
1170         \{
1171           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Transmission Mode info on user "} << (*itMap).first);
1172         \}
1173       \textcolor{keywordtype}{int} nLayer = \hyperlink{classns3_1_1TransmissionModesLayers_a31f608b7bfaa77440fe4cb85ad035329}{TransmissionModesLayers::TxMode2LayerNum} (
      (*itTxMode).second);
1174       std::vector <uint8\_t> worstCqi (2, 15);
1175       \textcolor{keywordflow}{if} (itCqi != \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\_a30CqiRxed}.end ())
1176         \{
1177           \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itMap).second.size (); k++)
1178             \{
1179               \textcolor{keywordflow}{if} ((*itCqi).second.m\_higherLayerSelected.size () > (*itMap).second.at (k))
1180                 \{
1181                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RBG "} << (*itMap).second.at (k) << \textcolor{stringliteral}{" CQI "} << (uint16\_t
      )((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.at (k)).m\_sbCqi.at (0)) );
1182                   \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1183                     \{
1184                       \textcolor{keywordflow}{if} ((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.at (k)).m\_sbCqi.size ()
       > j)
1185                         \{
1186                           \textcolor{keywordflow}{if} (((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.at (k)).m\_sbCqi.at
       (j)) < worstCqi.at (j))
1187                             \{
1188                               worstCqi.at (j) = ((*itCqi).second.m\_higherLayerSelected.at ((*itMap).second.
      at (k)).m\_sbCqi.at (j));
1189                             \}
1190                         \}
1191                       \textcolor{keywordflow}{else}
1192                         \{
1193                           \textcolor{comment}{// no CQI for this layer of this suband -> worst one}
1194                           worstCqi.at (j) = 1;
1195                         \}
1196                     \}
1197                 \}
1198               \textcolor{keywordflow}{else}
1199                 \{
1200                   \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1201                     \{
1202                       worstCqi.at (j) = 1; \textcolor{comment}{// try with lowest MCS in RBG with no info on channel}
1203                     \}
1204                 \}
1205             \}
1206         \}
1207       \textcolor{keywordflow}{else}
1208         \{
1209           \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1210             \{
1211               worstCqi.at (j) = 1; \textcolor{comment}{// try with lowest MCS in RBG with no info on channel}
1212             \}
1213         \}
1214       \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1215         \{
1216           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Layer "} << (uint16\_t)j << \textcolor{stringliteral}{" CQI selected "} << (uint16\_t)
      worstCqi.at (j));
1217         \}
1218       uint32\_t bytesTxed = 0;
1219       \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1220         \{
1221           newDci.m\_mcs.push\_back (\hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetMcsFromCqi (worstCqi.at (j)));
1222           \textcolor{keywordtype}{int} tbSize = (\hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetTbSizeFromMcs (newDci.m\_mcs.at (j), RgbPerRnti * rbgSize) / 8); \textcolor{comment}{//
       (size of TB in bytes according to table 7.1.7.2.1-1 of 36.213)}
1223           newDci.m\_tbsSize.push\_back (tbSize);
1224           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Layer "} << (uint16\_t)j << \textcolor{stringliteral}{" MCS selected"} << 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetMcsFromCqi (worstCqi.at (j)));
1225 
1226           bytesTxed += tbSize;
1227         \}
1228 
1229       newDci.m\_resAlloc = 0;  \textcolor{comment}{// only allocation type 0 at this stage}
1230       newDci.m\_rbBitmap = 0; \textcolor{comment}{// TBD (32 bit bitmap see 7.1.6 of 36.213)}
1231       uint32\_t rbgMask = 0;
1232       \textcolor{keywordflow}{for} (uint16\_t k = 0; k < (*itMap).second.size (); k++)
1233         \{
1234           rbgMask = rbgMask + (0x1 << (*itMap).second.at (k));
1235           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Allocated RBG "} << (*itMap).second.at (k));
1236         \}
1237       newDci.m\_rbBitmap = rbgMask; \textcolor{comment}{// (32 bit bitmap see 7.1.6 of 36.213)}
1238 
1239       \textcolor{comment}{// create the rlc PDUs -> equally divide resources among actives LCs}
1240       std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator itBufReq;
1241       \textcolor{keywordflow}{for} (itBufReq = \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.begin (); itBufReq != 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.end (); itBufReq++)
1242         \{
1243           \textcolor{keywordflow}{if} (((*itBufReq).first.m\_rnti == (*itMap).first)
1244               && (((*itBufReq).second.m\_rlcTransmissionQueueSize > 0)
1245                   || ((*itBufReq).second.m\_rlcRetransmissionQueueSize > 0)
1246                   || ((*itBufReq).second.m\_rlcStatusPduSize > 0) ))
1247             \{
1248               std::vector <struct RlcPduListElement\_s> newRlcPduLe;
1249               \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1250                 \{
1251                   RlcPduListElement\_s newRlcEl;
1252                   newRlcEl.m\_logicalChannelIdentity = (*itBufReq).first.m\_lcId;
1253                   newRlcEl.m\_size = newDci.m\_tbsSize.at (j) / lcActives;
1254                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" LCID "} << (uint32\_t) newRlcEl.m\_logicalChannelIdentity 
      << \textcolor{stringliteral}{" size "} << newRlcEl.m\_size << \textcolor{stringliteral}{" layer "} << (uint16\_t)j);
1255                   newRlcPduLe.push\_back (newRlcEl);
1256                   \hyperlink{classns3_1_1TtaFfMacScheduler_a4c4e1638680640d8da95c4478ec3c06f}{UpdateDlRlcBufferInfo} (newDci.m\_rnti, newRlcEl.
      m\_logicalChannelIdentity, newRlcEl.m\_size);
1257                   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}{m\_harqOn} == \textcolor{keyword}{true})
1258                     \{
1259                       \textcolor{comment}{// store RLC PDU list for HARQ}
1260                       std::map <uint16\_t, DlHarqRlcPduListBuffer\_t>::iterator itRlcPdu =  
      \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.find ((*itMap).first);
1261                       \textcolor{keywordflow}{if} (itRlcPdu == \hyperlink{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{m\_dlHarqProcessesRlcPduListBuffer}.
      end ())
1262                         \{
1263                           \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RlcPdcList in HARQ buffer for RNTI 
      "} << (*itMap).first);
1264                         \}
1265                       (*itRlcPdu).second.at (j).at (newDci.m\_harqProcess).push\_back (newRlcEl);
1266                     \}
1267                 \}
1268               newEl.m\_rlcPduList.push\_back (newRlcPduLe);
1269             \}
1270           \textcolor{keywordflow}{if} ((*itBufReq).first.m\_rnti > (*itMap).first)
1271             \{
1272               \textcolor{keywordflow}{break};
1273             \}
1274         \}
1275       \textcolor{keywordflow}{for} (uint8\_t j = 0; j < nLayer; j++)
1276         \{
1277           newDci.m\_ndi.push\_back (1);
1278           newDci.m\_rv.push\_back (0);
1279         \}
1280 
1281       newDci.m\_tpc = 1; \textcolor{comment}{//1 is mapped to 0 in Accumulated Mode and to -1 in Absolute Mode}
1282 
1283       newEl.m\_dci = newDci;
1284 
1285       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}{m\_harqOn} == \textcolor{keyword}{true})
1286         \{
1287           \textcolor{comment}{// store DCI for HARQ}
1288           std::map <uint16\_t, DlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_aef07d22e5c2e6acf1f711736bce49fc8}{m\_dlHarqProcessesDciBuffer}.find (newEl.m\_rnti);
1289           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1TtaFfMacScheduler_aef07d22e5c2e6acf1f711736bce49fc8}{m\_dlHarqProcessesDciBuffer}.end ())
1290             \{
1291               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in DCI HARQ buffer for RNTI "} << 
      newEl.m\_rnti);
1292             \}
1293           (*itDci).second.at (newDci.m\_harqProcess) = newDci;
1294           \textcolor{comment}{// refresh timer}
1295           std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itHarqTimer =  
      \hyperlink{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{m\_dlHarqProcessesTimer}.find (newEl.m\_rnti);
1296           \textcolor{keywordflow}{if} (itHarqTimer== \hyperlink{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{m\_dlHarqProcessesTimer}.end ())
1297             \{
1298               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find HARQ timer for RNTI "} << (uint16\_t)newEl.m\_rnti
      );
1299             \}
1300           (*itHarqTimer).second.at (newDci.m\_harqProcess) = 0;
1301         \}
1302 
1303       \textcolor{comment}{// ...more parameters -> ingored in this version}
1304 
1305       ret.m\_buildDataList.push\_back (newEl);
1306 
1307       itMap++;
1308     \} \textcolor{comment}{// end while allocation}
1309   ret.m\_nrOfPdcchOfdmSymbols = 1;   
1310 
1311   \hyperlink{classns3_1_1TtaFfMacScheduler_a950cb3e5f468debf1fa002171ff299f1}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a28f8484af5a32a45ee6c0e51770d83f7}{SchedDlConfigInd} (ret);
1312 
1313 
1314   \textcolor{keywordflow}{return};
1315 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}}
\index{Do\+Sched\+Dl\+Trigger\+Req@{Do\+Sched\+Dl\+Trigger\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Dl\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters \&params)}{DoSchedDlTriggerReq(const struct FfMacSchedSapProvider::SchedDlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Dl\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_adc734578d3c46a0d8a9eb2cdcafb6d61}{}\label{classns3_1_1TtaFfMacScheduler_adc734578d3c46a0d8a9eb2cdcafb6d61}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedUlCqiInfoReq(const struct FfMacSchedSapProvider::SchedUlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aef3dcd18a72c95847900d6f0ddc9d087}{}\label{classns3_1_1TtaFfMacScheduler_aef3dcd18a72c95847900d6f0ddc9d087}

\begin{DoxyCode}
1839 \{
1840   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1841 \textcolor{comment}{// retrieve the allocation for this subframe}
1842   \textcolor{keywordflow}{switch} (\hyperlink{classns3_1_1FfMacScheduler_adae16e66a1c4231da80a1221297442cf}{m\_ulCqiFilter})
1843     \{
1844     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52af2e0df473ba2c8f9cb131cb760591aed}{FfMacScheduler::SRS\_UL\_CQI}:
1845       \{
1846         \textcolor{comment}{// filter all the CQIs that are not SRS based}
1847         \textcolor{keywordflow}{if} (params.m\_ulCqi.m\_type != \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af4b6dba4243636562c910c4d4761dd7e}{UlCqi\_s::SRS})
1848           \{
1849             \textcolor{keywordflow}{return};
1850           \}
1851       \}
1852       \textcolor{keywordflow}{break};
1853     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52a4a833bc779439b15bd904e1dd8eaa563}{FfMacScheduler::PUSCH\_UL\_CQI}:
1854       \{
1855         \textcolor{comment}{// filter all the CQIs that are not SRS based}
1856         \textcolor{keywordflow}{if} (params.m\_ulCqi.m\_type != \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a9716b20a3095c473ae3fde1eb5d0bb63}{UlCqi\_s::PUSCH})
1857           \{
1858             \textcolor{keywordflow}{return};
1859           \}
1860       \}
1861     \textcolor{keywordflow}{case} \hyperlink{classns3_1_1FfMacScheduler_aa47a9eb25f2c558c825b0be645304a52a84059a597c72335f0a5963c3efcbda71}{FfMacScheduler::ALL\_UL\_CQI}:
1862       \textcolor{keywordflow}{break};
1863 
1864     \textcolor{keywordflow}{default}:
1865       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown UL CQI type"});
1866     \}
1867 
1868   \textcolor{keywordflow}{switch} (params.m\_ulCqi.m\_type)
1869     \{
1870     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a9716b20a3095c473ae3fde1eb5d0bb63}{UlCqi\_s::PUSCH}:
1871       \{
1872         std::map <uint16\_t, std::vector <uint16\_t> >::iterator itMap;
1873         std::map <uint16\_t, std::vector <double> >::iterator itCqi;
1874         \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Collect PUSCH CQIs of Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{"
       subframe no. "} << (0xF & params.m\_sfnSf));
1875         itMap = \hyperlink{classns3_1_1TtaFfMacScheduler_a8931533e6964833d4e1da1e8c6d20313}{m\_allocationMaps}.find (params.m\_sfnSf);
1876         \textcolor{keywordflow}{if} (itMap == \hyperlink{classns3_1_1TtaFfMacScheduler_a8931533e6964833d4e1da1e8c6d20313}{m\_allocationMaps}.end ())
1877           \{
1878             \textcolor{keywordflow}{return};
1879           \}
1880         \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < (*itMap).second.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1881           \{
1882             \textcolor{comment}{// convert from fixed point notation Sxxxxxxxxxxx.xxx to double}
1883             \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1884             itCqi = \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.find ((*itMap).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1885             \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.end ())
1886               \{
1887                 \textcolor{comment}{// create a new entry}
1888                 std::vector <double> newCqi;
1889                 \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
1890                   \{
1891                     \textcolor{keywordflow}{if} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} == j)
1892                       \{
1893                         newCqi.push\_back (sinr);
1894                       \}
1895                     \textcolor{keywordflow}{else}
1896                       \{
1897                         \textcolor{comment}{// initialize with NO\_SINR value.}
1898                         newCqi.push\_back (\hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR});
1899                       \}
1900 
1901                   \}
1902                 \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.insert (std::pair <uint16\_t, std::vector <double> > ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), newCqi));
1903                 \textcolor{comment}{// generate correspondent timer}
1904                 \hyperlink{classns3_1_1TtaFfMacScheduler_adb17b15e869d53e4244bf77f3f842f67}{m\_ueCqiTimers}.insert (std::pair <uint16\_t, uint32\_t > ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}), \hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold}));
1905               \}
1906             \textcolor{keywordflow}{else}
1907               \{
1908                 \textcolor{comment}{// update the value}
1909                 (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = sinr;
1910                 \textcolor{comment}{//NS\_LOG\_DEBUG (this << " RNTI " << (*itMap).second.at (i) << " RB " << i << " SINR " <<
       sinr);}
1911                 \textcolor{comment}{// update correspondent timer}
1912                 std::map <uint16\_t, uint32\_t>::iterator itTimers;
1913                 itTimers = \hyperlink{classns3_1_1TtaFfMacScheduler_adb17b15e869d53e4244bf77f3f842f67}{m\_ueCqiTimers}.find ((*itMap).second.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}));
1914                 (*itTimers).second = \hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold};
1915 
1916               \}
1917 
1918           \}
1919         \textcolor{comment}{// remove obsolete info on allocation}
1920         \hyperlink{classns3_1_1TtaFfMacScheduler_a8931533e6964833d4e1da1e8c6d20313}{m\_allocationMaps}.erase (itMap);
1921       \}
1922       \textcolor{keywordflow}{break};
1923     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af4b6dba4243636562c910c4d4761dd7e}{UlCqi\_s::SRS}:
1924       \{
1925         \textcolor{comment}{// get the RNTI from vendor specific parameters}
1926         uint16\_t rnti = 0;
1927         \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (params.m\_vendorSpecificList.size () > 0);
1928         \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_vendorSpecificList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1929           \{
1930             \textcolor{keywordflow}{if} (params.m\_vendorSpecificList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_type == \hyperlink{lte-vendor-specific-parameters_8h_a3b5e6e766032ab4a8e374a1cfd237a26}{SRS\_CQI\_RNTI\_VSP})
1931               \{
1932                 Ptr<SrsCqiRntiVsp> vsp = DynamicCast<SrsCqiRntiVsp> (params.m\_vendorSpecificList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_value);
1933                 rnti = vsp->GetRnti ();
1934               \}
1935           \}
1936         std::map <uint16\_t, std::vector <double> >::iterator itCqi;
1937         itCqi = \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.find (rnti);
1938         \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.end ())
1939           \{
1940             \textcolor{comment}{// create a new entry}
1941             std::vector <double> newCqi;
1942             \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
1943               \{
1944                 \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (j));
1945                 newCqi.push\_back (sinr);
1946                 \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" new SRS-CQI for RB  "} << j << \textcolor{stringliteral}{" value
       "} << sinr);
1947 
1948               \}
1949             \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.insert (std::pair <uint16\_t, std::vector <double> > (rnti, newCqi));
1950             \textcolor{comment}{// generate correspondent timer}
1951             \hyperlink{classns3_1_1TtaFfMacScheduler_adb17b15e869d53e4244bf77f3f842f67}{m\_ueCqiTimers}.insert (std::pair <uint16\_t, uint32\_t > (rnti, 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold}));
1952           \}
1953         \textcolor{keywordflow}{else}
1954           \{
1955             \textcolor{comment}{// update the values}
1956             \textcolor{keywordflow}{for} (uint32\_t j = 0; j < \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; j++)
1957               \{
1958                 \textcolor{keywordtype}{double} sinr = \hyperlink{classns3_1_1LteFfConverter_aa5d8c2a8f988dbd63da91818c18666eb}{LteFfConverter::fpS11dot3toDouble} (params.
      m\_ulCqi.m\_sinr.at (j));
1959                 (*itCqi).second.at (j) = sinr;
1960                 \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" update SRS-CQI for RB  "} << j << \textcolor{stringliteral}{"
       value "} << sinr);
1961               \}
1962             \textcolor{comment}{// update correspondent timer}
1963             std::map <uint16\_t, uint32\_t>::iterator itTimers;
1964             itTimers = \hyperlink{classns3_1_1TtaFfMacScheduler_adb17b15e869d53e4244bf77f3f842f67}{m\_ueCqiTimers}.find (rnti);
1965             (*itTimers).second = \hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold};
1966 
1967           \}
1968 
1969 
1970       \}
1971       \textcolor{keywordflow}{break};
1972     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a05ca6554bc6fcd96a0a51fbaa8e794c7}{UlCqi\_s::PUCCH\_1}:
1973     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57a35664b4bda6f1cd6acfe9edc84c7571d}{UlCqi\_s::PUCCH\_2}:
1974     \textcolor{keywordflow}{case} \hyperlink{structns3_1_1UlCqi__s_aece9e5ebea42eb9ff1744c72c8459b57af93f36792cb1eed08f6119e4abfe58e8}{UlCqi\_s::PRACH}:
1975       \{
1976         \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"TtaFfMacScheduler supports only PUSCH and SRS UL-CQIs"});
1977       \}
1978       \textcolor{keywordflow}{break};
1979     \textcolor{keywordflow}{default}:
1980       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unknown type of UL-CQI"});
1981     \}
1982   \textcolor{keywordflow}{return};
1983 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}}
\index{Do\+Sched\+Ul\+Cqi\+Info\+Req@{Do\+Sched\+Ul\+Cqi\+Info\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Cqi\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters \&params)}{DoSchedUlCqiInfoReq(const struct FfMacSchedSapProvider::SchedUlCqiInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Cqi\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Cqi\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aef3dcd18a72c95847900d6f0ddc9d087}{}\label{classns3_1_1TtaFfMacScheduler_aef3dcd18a72c95847900d6f0ddc9d087}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}}
\index{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters \&params)}{DoSchedUlMacCtrlInfoReq(const struct FfMacSchedSapProvider::SchedUlMacCtrlInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ab235615d02e865ce3d41c1c95d49c221}{}\label{classns3_1_1TtaFfMacScheduler_ab235615d02e865ce3d41c1c95d49c221}

\begin{DoxyCode}
1795 \{
1796   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1797 
1798   std::map <uint16\_t,uint32\_t>::iterator it;
1799 
1800   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_macCeList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1801     \{
1802       \textcolor{keywordflow}{if} ( params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_macCeType == \hyperlink{structns3_1_1MacCeListElement__s_a270a6526dfc7da02e9dc91823c290f6bac50796b01160b1825ec34efa1ad9f051}{MacCeListElement\_s::BSR} )
1803         \{
1804           \textcolor{comment}{// buffer status report}
1805           \textcolor{comment}{// note that this scheduler does not differentiate the}
1806           \textcolor{comment}{// allocation according to which LCGs have more/less bytes}
1807           \textcolor{comment}{// to send.}
1808           \textcolor{comment}{// Hence the BSR of different LCGs are just summed up to get}
1809           \textcolor{comment}{// a total queue size that is used for allocation purposes.}
1810 
1811           uint32\_t buffer = 0;
1812           \textcolor{keywordflow}{for} (uint8\_t lcg = 0; lcg < 4; ++lcg)
1813             \{
1814               uint8\_t bsrId = params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_macCeValue.m\_bufferStatus.at (lcg);
1815               buffer += \hyperlink{classns3_1_1BufferSizeLevelBsr_a67fc905f267ed8ac5a617fe229699122}{BufferSizeLevelBsr::BsrId2BufferSize} (bsrId);
1816             \}
1817           
1818           uint16\_t rnti = params.m\_macCeList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1819           \hyperlink{group__logging_ga88acd260151caf2db9c0fc84997f45ce}{NS\_LOG\_LOGIC} (\textcolor{keyword}{this} << \textcolor{stringliteral}{"RNTI="} << rnti << \textcolor{stringliteral}{" buffer="} << buffer);
1820           it = \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.find (rnti);
1821           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.end ())
1822             \{
1823               \textcolor{comment}{// create the new entry}
1824               \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.insert ( std::pair<uint16\_t, uint32\_t > (rnti, buffer));
1825             \}
1826           \textcolor{keywordflow}{else}
1827             \{
1828               \textcolor{comment}{// update the buffer size value}
1829               (*it).second = buffer;
1830             \}
1831         \}
1832     \}
1833 
1834   \textcolor{keywordflow}{return};
1835 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}}
\index{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req@{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters \&params)}{DoSchedUlMacCtrlInfoReq(const struct FfMacSchedSapProvider::SchedUlMacCtrlInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Mac\+Ctrl\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ab235615d02e865ce3d41c1c95d49c221}{}\label{classns3_1_1TtaFfMacScheduler_ab235615d02e865ce3d41c1c95d49c221}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}}
\index{Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Noise\+Interference\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters \&params)}{DoSchedUlNoiseInterferenceReq(const struct FfMacSchedSapProvider::SchedUlNoiseInterferenceReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Noise\+Interference\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aeb78f56dcbfbe8a3596746b0b1239c1e}{}\label{classns3_1_1TtaFfMacScheduler_aeb78f56dcbfbe8a3596746b0b1239c1e}

\begin{DoxyCode}
1781 \{
1782   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1783   \textcolor{keywordflow}{return};
1784 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 19


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}}
\index{Do\+Sched\+Ul\+Noise\+Interference\+Req@{Do\+Sched\+Ul\+Noise\+Interference\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Noise\+Interference\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters \&params)}{DoSchedUlNoiseInterferenceReq(const struct FfMacSchedSapProvider::SchedUlNoiseInterferenceReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Noise\+Interference\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Noise\+Interference\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aeb78f56dcbfbe8a3596746b0b1239c1e}{}\label{classns3_1_1TtaFfMacScheduler_aeb78f56dcbfbe8a3596746b0b1239c1e}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}}
\index{Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Sr\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters \&params)}{DoSchedUlSrInfoReq(const struct FfMacSchedSapProvider::SchedUlSrInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Sr\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a9c398510fc81bb7214d3401727c7d1b0}{}\label{classns3_1_1TtaFfMacScheduler_a9c398510fc81bb7214d3401727c7d1b0}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}}
\index{Do\+Sched\+Ul\+Sr\+Info\+Req@{Do\+Sched\+Ul\+Sr\+Info\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Sr\+Info\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters \&params)}{DoSchedUlSrInfoReq(const struct FfMacSchedSapProvider::SchedUlSrInfoReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Sr\+Info\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Sr\+Info\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a9c398510fc81bb7214d3401727c7d1b0}{}\label{classns3_1_1TtaFfMacScheduler_a9c398510fc81bb7214d3401727c7d1b0}

\begin{DoxyCode}
1788 \{
1789   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
1790   \textcolor{keywordflow}{return};
1791 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}}
\index{Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters \&params)}{DoSchedUlTriggerReq(const struct FfMacSchedSapProvider::SchedUlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ab4894f9f6d69451c8b8c7c2af93400b5}{}\label{classns3_1_1TtaFfMacScheduler_ab4894f9f6d69451c8b8c7c2af93400b5}

\begin{DoxyCode}
1421 \{
1422   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL - Frame no. "} << (params.m\_sfnSf >> 4) << \textcolor{stringliteral}{" subframe no. "} 
      << (0xF & params.m\_sfnSf) << \textcolor{stringliteral}{" size "} << params.m\_ulInfoList.size ());
1423 
1424   \hyperlink{classns3_1_1TtaFfMacScheduler_ae0cb4fb464a85be701431b9606acdf2e}{RefreshUlCqiMaps} ();
1425 
1426   \textcolor{comment}{// Generate RBs map}
1427   FfMacSchedSapUser::SchedUlConfigIndParameters ret;
1428   std::vector <bool> rbMap;
1429   uint16\_t rbAllocatedNum = 0;
1430   std::set <uint16\_t> rntiAllocated;
1431   std::vector <uint16\_t> rbgAllocationMap;
1432   \textcolor{comment}{// update with RACH allocation map}
1433   rbgAllocationMap = \hyperlink{classns3_1_1TtaFfMacScheduler_a5cef51239a7f724ce375f0ddf883e73c}{m\_rachAllocationMap};
1434   \textcolor{comment}{//rbgAllocationMap.resize (m\_cschedCellConfig.m\_ulBandwidth, 0);}
1435   \hyperlink{classns3_1_1TtaFfMacScheduler_a5cef51239a7f724ce375f0ddf883e73c}{m\_rachAllocationMap}.clear ();
1436   \hyperlink{classns3_1_1TtaFfMacScheduler_a5cef51239a7f724ce375f0ddf883e73c}{m\_rachAllocationMap}.resize (\hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, 0);
1437 
1438   rbMap.resize (\hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}, \textcolor{keyword}{false});
1439   \textcolor{comment}{// remove RACH allocation}
1440   \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1441     \{
1442       \textcolor{keywordflow}{if} (rbgAllocationMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) != 0)
1443         \{
1444           rbMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = \textcolor{keyword}{true};
1445           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Allocated for RACH "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1446         \}
1447     \}
1448 
1449 
1450   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}{m\_harqOn} == \textcolor{keyword}{true})
1451     \{
1452       \textcolor{comment}{//   Process UL HARQ feedback}
1453       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < params.m\_ulInfoList.size (); \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1454         \{        
1455           \textcolor{keywordflow}{if} (params.m\_ulInfoList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_receptionStatus == 
      \hyperlink{structns3_1_1UlInfoListElement__s_a2a4dff5145d25c81086660e991db6f61a98aed738fd24811d3461668e394a53c8}{UlInfoListElement\_s::NotOk})
1456             \{
1457               \textcolor{comment}{// retx correspondent block: retrieve the UL-DCI}
1458               uint16\_t rnti = params.m\_ulInfoList.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti;
1459               std::map <uint16\_t, uint8\_t>::iterator itProcId = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.find (rnti);
1460               \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.end ())
1461                 \{
1462                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1463                 \}
1464               uint8\_t harqId = (uint8\_t)((*itProcId).second - \hyperlink{lte-common_8h_a275321ee206f130c3ddc81fcdaa13cfd}{HARQ\_PERIOD}) % 
      \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
1465               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-HARQ retx RNTI "} << rnti << \textcolor{stringliteral}{" harqId "} << (uint16\_t)
      harqId << \textcolor{stringliteral}{" i "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" size "}  << params.m\_ulInfoList.size ());
1466               std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itHarq = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{m\_ulHarqProcessesDciBuffer}.find (rnti);
1467               \textcolor{keywordflow}{if} (itHarq == \hyperlink{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{m\_ulHarqProcessesDciBuffer}.end ())
1468                 \{
1469                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1470                   \textcolor{keywordflow}{continue};
1471                 \}
1472               UlDciListElement\_s dci = (*itHarq).second.at (harqId);
1473               std::map <uint16\_t, UlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a2c0bc82abe6c71b7e4d85b4caca2aaa6}{m\_ulHarqProcessesStatus}.find (rnti);
1474               \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TtaFfMacScheduler_a2c0bc82abe6c71b7e4d85b4caca2aaa6}{m\_ulHarqProcessesStatus}.end ())
1475                 \{
1476                   \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << 
      rnti);
1477                 \}
1478               \textcolor{keywordflow}{if} ((*itStat).second.at (harqId) >= 3)
1479                 \{
1480                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Max number of retransmissions reached (UL)-> drop process"});
1481                   \textcolor{keywordflow}{continue};
1482                 \}
1483               \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
1484               \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = dci.m\_rbStart; j < dci.m\_rbStart + dci.m\_rbLen; j++)
1485                 \{
1486                   \textcolor{keywordflow}{if} (rbMap.at (j) == \textcolor{keyword}{true})
1487                     \{
1488                       free = \textcolor{keyword}{false};
1489                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" BUSY "} << j);
1490                     \}
1491                 \}
1492               \textcolor{keywordflow}{if} (free)
1493                 \{
1494                   \textcolor{comment}{// retx on the same RBs}
1495                   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = dci.m\_rbStart; j < dci.m\_rbStart + dci.m\_rbLen; j++)
1496                     \{
1497                       rbMap.at (j) = \textcolor{keyword}{true};
1498                       rbgAllocationMap.at (j) = dci.m\_rnti;
1499                       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"\(\backslash\)tRB "} << j);
1500                       rbAllocatedNum++;
1501                     \}
1502                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Send retx in the same RBs "} << (uint16\_t)dci.m\_rbStart 
      << \textcolor{stringliteral}{" to "} << dci.m\_rbStart + dci.m\_rbLen << \textcolor{stringliteral}{" RV "} << (*itStat).second.at (harqId) + 1);
1503                 \}
1504               \textcolor{keywordflow}{else}
1505                 \{
1506                   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Cannot allocate retx due to RACH allocations for UE "} << rnti);
1507                   \textcolor{keywordflow}{continue};
1508                 \}
1509               dci.m\_ndi = 0;
1510               \textcolor{comment}{// Update HARQ buffers with new HarqId}
1511               (*itStat).second.at ((*itProcId).second) = (*itStat).second.at (harqId) + 1;
1512               (*itStat).second.at (harqId) = 0;
1513               (*itHarq).second.at ((*itProcId).second) = dci;
1514               ret.m\_dciList.push\_back (dci);
1515               rntiAllocated.insert (dci.m\_rnti);
1516             \}
1517             \textcolor{keywordflow}{else}
1518             \{
1519               \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" HARQ-ACK feedback from RNTI "} << params.m\_ulInfoList.at (
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}).m\_rnti);
1520             \}
1521         \}
1522     \}
1523 
1524   std::map <uint16\_t,uint32\_t>::iterator it;
1525   \textcolor{keywordtype}{int} nflows = 0;
1526 
1527   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.begin (); it != \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.end (); it++)
1528     \{
1529       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1530       \textcolor{comment}{// select UEs with queues not empty and not yet allocated for HARQ}
1531       \textcolor{keywordflow}{if} (((*it).second > 0)&&(itRnti == rntiAllocated.end ()))
1532         \{
1533           nflows++;
1534         \}
1535     \}
1536 
1537   \textcolor{keywordflow}{if} (nflows == 0)
1538     \{
1539       \textcolor{keywordflow}{if} (ret.m\_dciList.size () > 0)
1540         \{
1541           \hyperlink{classns3_1_1TtaFfMacScheduler_a8931533e6964833d4e1da1e8c6d20313}{m\_allocationMaps}.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.
      m\_sfnSf, rbgAllocationMap));
1542           \hyperlink{classns3_1_1TtaFfMacScheduler_a950cb3e5f468debf1fa002171ff299f1}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a1b89636256701a84d990db7db8aea874}{SchedUlConfigInd} (ret);
1543         \}
1544         
1545       \textcolor{keywordflow}{return};  \textcolor{comment}{// no flows to be scheduled}
1546     \}
1547 
1548 
1549   \textcolor{comment}{// Divide the remaining resources equally among the active users starting from the subsequent one served
       last scheduling trigger}
1550   uint16\_t rbPerFlow = (\hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) / (nflows + 
      rntiAllocated.size ());
1551   \textcolor{keywordflow}{if} (rbPerFlow < 3)
1552     \{
1553       rbPerFlow = 3;  \textcolor{comment}{// at least 3 rbg per flow (till available resource) to ensure TxOpportunity >= 7
       bytes}
1554     \}
1555   \textcolor{keywordtype}{int} rbAllocated = 0;
1556 
1557   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{m\_nextRntiUl} != 0)
1558     \{
1559       \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.begin (); it != \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.end (); it++)
1560         \{
1561           \textcolor{keywordflow}{if} ((*it).first == \hyperlink{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{m\_nextRntiUl})
1562             \{
1563               \textcolor{keywordflow}{break};
1564             \}
1565         \}
1566       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.end ())
1567         \{
1568           \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" no user found"});
1569         \}
1570     \}
1571   \textcolor{keywordflow}{else}
1572     \{
1573       it = \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.begin ();
1574       \hyperlink{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{m\_nextRntiUl} = (*it).first;
1575     \}
1576   \textcolor{keywordflow}{do}
1577     \{
1578       std::set <uint16\_t>::iterator itRnti = rntiAllocated.find ((*it).first);
1579       \textcolor{keywordflow}{if} ((itRnti != rntiAllocated.end ())||((*it).second == 0))
1580         \{
1581           \textcolor{comment}{// UE already allocated for UL-HARQ -> skip it}
1582           \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE already allocated in HARQ -> discared, RNTI "} << (*it).
      first);
1583           it++;
1584           \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.end ())
1585             \{
1586               \textcolor{comment}{// restart from the first}
1587               it = \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.begin ();
1588             \}
1589           \textcolor{keywordflow}{continue};
1590         \}
1591       \textcolor{keywordflow}{if} (rbAllocated + rbPerFlow - 1 > \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth})
1592         \{
1593           \textcolor{comment}{// limit to physical resources last resource assignment}
1594           rbPerFlow = \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth} - rbAllocated;
1595           \textcolor{comment}{// at least 3 rbg per flow to ensure TxOpportunity >= 7 bytes}
1596           \textcolor{keywordflow}{if} (rbPerFlow < 3)
1597             \{
1598               \textcolor{comment}{// terminate allocation}
1599               rbPerFlow = 0;      
1600             \}
1601         \}
1602 
1603       UlDciListElement\_s uldci;
1604       uldci.m\_rnti = (*it).first;
1605       uldci.m\_rbLen = rbPerFlow;
1606       \textcolor{keywordtype}{bool} allocated = \textcolor{keyword}{false};
1607       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RB Allocated "} << rbAllocated << \textcolor{stringliteral}{" rbPerFlow "} << rbPerFlow << \textcolor{stringliteral}{"
       flows "} << nflows);
1608       \textcolor{keywordflow}{while} ((!allocated)&&((rbAllocated + rbPerFlow - \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) < 1) && (rbPerFlow != 0))
1609         \{
1610           \textcolor{comment}{// check availability}
1611           \textcolor{keywordtype}{bool} free = \textcolor{keyword}{true};
1612           \textcolor{keywordflow}{for} (uint16\_t j = rbAllocated; j < rbAllocated + rbPerFlow; j++)
1613             \{
1614               \textcolor{keywordflow}{if} (rbMap.at (j) == \textcolor{keyword}{true})
1615                 \{
1616                   free = \textcolor{keyword}{false};
1617                   \textcolor{keywordflow}{break};
1618                 \}
1619             \}
1620           \textcolor{keywordflow}{if} (free)
1621             \{
1622               uldci.m\_rbStart = rbAllocated;
1623 
1624               \textcolor{keywordflow}{for} (uint16\_t j = rbAllocated; j < rbAllocated + rbPerFlow; j++)
1625                 \{
1626                   rbMap.at (j) = \textcolor{keyword}{true};
1627                   \textcolor{comment}{// store info on allocation for managing ul-cqi interpretation}
1628                   rbgAllocationMap.at (j) = (*it).first;
1629                 \}
1630               rbAllocated += rbPerFlow;
1631               allocated = \textcolor{keyword}{true};
1632               \textcolor{keywordflow}{break};
1633             \}
1634           rbAllocated++;
1635           \textcolor{keywordflow}{if} (rbAllocated + rbPerFlow - 1 > \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth})
1636             \{
1637               \textcolor{comment}{// limit to physical resources last resource assignment}
1638               rbPerFlow = \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth} - rbAllocated;
1639               \textcolor{comment}{// at least 3 rbg per flow to ensure TxOpportunity >= 7 bytes}
1640               \textcolor{keywordflow}{if} (rbPerFlow < 3)
1641                 \{
1642                   \textcolor{comment}{// terminate allocation}
1643                   rbPerFlow = 0;                 
1644                 \}
1645             \}
1646         \}
1647       \textcolor{keywordflow}{if} (!allocated)
1648         \{
1649           \textcolor{comment}{// unable to allocate new resource: finish scheduling}
1650           \hyperlink{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{m\_nextRntiUl} = (*it).first;
1651           \textcolor{keywordflow}{if} (ret.m\_dciList.size () > 0)
1652             \{
1653               \hyperlink{classns3_1_1TtaFfMacScheduler_a950cb3e5f468debf1fa002171ff299f1}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a1b89636256701a84d990db7db8aea874}{SchedUlConfigInd} (ret);
1654             \}
1655           \hyperlink{classns3_1_1TtaFfMacScheduler_a8931533e6964833d4e1da1e8c6d20313}{m\_allocationMaps}.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.
      m\_sfnSf, rbgAllocationMap));
1656           \textcolor{keywordflow}{return};
1657         \}
1658 
1659 
1660 
1661       std::map <uint16\_t, std::vector <double> >::iterator itCqi = \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.find ((*it).first);
1662       \textcolor{keywordtype}{int} cqi = 0;
1663       \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.end ())
1664         \{
1665           \textcolor{comment}{// no cqi info about this UE}
1666           uldci.m\_mcs = 0; \textcolor{comment}{// MCS 0 -> UL-AMC TBD}
1667         \}
1668       \textcolor{keywordflow}{else}
1669         \{
1670           \textcolor{comment}{// take the lowest CQI value (worst RB)}
1671           \textcolor{keywordtype}{double} minSinr = (*itCqi).second.at (uldci.m\_rbStart);
1672           \textcolor{keywordflow}{if} (minSinr == \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
1673             \{
1674               minSinr = \hyperlink{classns3_1_1TtaFfMacScheduler_a51fcb3b65dbfff2b28d66930073a45c8}{EstimateUlSinr} ((*it).first, uldci.m\_rbStart);
1675             \}
1676           \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = uldci.m\_rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < uldci.m\_rbStart + uldci.m\_rbLen; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1677             \{
1678               \textcolor{keywordtype}{double} sinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1679               \textcolor{keywordflow}{if} (sinr == \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
1680                 \{
1681                   sinr = \hyperlink{classns3_1_1TtaFfMacScheduler_a51fcb3b65dbfff2b28d66930073a45c8}{EstimateUlSinr} ((*it).first, \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1682                 \}
1683               \textcolor{keywordflow}{if} ((*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) < minSinr)
1684                 \{
1685                   minSinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1686                 \}
1687             \}
1688 
1689           \textcolor{comment}{// translate SINR -> cqi: WILD ACK: same as DL}
1690           \textcolor{keywordtype}{double} \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s} = log2 ( 1 + (
1691                                  std::pow (10, minSinr / 10 )  /
1692                                  ( (-std::log (5.0 * 0.00005 )) / 1.5) ));
1693           cqi = \hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetCqiFromSpectralEfficiency (s);
1694           \textcolor{keywordflow}{if} (cqi == 0)
1695             \{
1696               it++;
1697               \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.end ())
1698                 \{
1699                   \textcolor{comment}{// restart from the first}
1700                   it = \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.begin ();
1701                 \}
1702               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE discared for CQI=0, RNTI "} << uldci.m\_rnti);
1703               \textcolor{comment}{// remove UE from allocation map}
1704               \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = uldci.m\_rbStart; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < uldci.m\_rbStart + uldci.m\_rbLen; 
      \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1705                 \{
1706                   rbgAllocationMap.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
1707                 \}
1708               \textcolor{keywordflow}{continue}; \textcolor{comment}{// CQI == 0 means "out of range" (see table 7.2.3-1 of 36.213)}
1709             \}
1710           uldci.m\_mcs = \hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetMcsFromCqi (cqi);
1711         \}
1712 
1713       uldci.m\_tbSize = (\hyperlink{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{m\_amc}->GetTbSizeFromMcs (uldci.m\_mcs, rbPerFlow) / 8);
1714       \hyperlink{classns3_1_1TtaFfMacScheduler_ab833bf3832b55e3483befd9d0e9b2c13}{UpdateUlRlcBufferInfo} (uldci.m\_rnti, uldci.m\_tbSize);
1715       uldci.m\_ndi = 1;
1716       uldci.m\_cceIndex = 0;
1717       uldci.m\_aggrLevel = 1;
1718       uldci.m\_ueTxAntennaSelection = 3; \textcolor{comment}{// antenna selection OFF}
1719       uldci.m\_hopping = \textcolor{keyword}{false};
1720       uldci.m\_n2Dmrs = 0;
1721       uldci.m\_tpc = 0; \textcolor{comment}{// no power control}
1722       uldci.m\_cqiRequest = \textcolor{keyword}{false}; \textcolor{comment}{// only period CQI at this stage}
1723       uldci.m\_ulIndex = 0; \textcolor{comment}{// TDD parameter}
1724       uldci.m\_dai = 1; \textcolor{comment}{// TDD parameter}
1725       uldci.m\_freqHopping = 0;
1726       uldci.m\_pdcchPowerOffset = 0; \textcolor{comment}{// not used}
1727       ret.m\_dciList.push\_back (uldci);
1728       \textcolor{comment}{// store DCI for HARQ\_PERIOD}
1729       uint8\_t harqId = 0;
1730       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}{m\_harqOn} == \textcolor{keyword}{true})
1731         \{
1732           std::map <uint16\_t, uint8\_t>::iterator itProcId;
1733           itProcId = \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.find (uldci.m\_rnti);
1734           \textcolor{keywordflow}{if} (itProcId == \hyperlink{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{m\_ulHarqCurrentProcessId}.end ())
1735             \{
1736               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE "} << uldci.m\_rnti);
1737             \}
1738           harqId = (*itProcId).second;
1739           std::map <uint16\_t, UlHarqProcessesDciBuffer\_t>::iterator itDci = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{m\_ulHarqProcessesDciBuffer}.find (uldci.m\_rnti);
1740           \textcolor{keywordflow}{if} (itDci == \hyperlink{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{m\_ulHarqProcessesDciBuffer}.end ())
1741             \{
1742               \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"Unable to find RNTI entry in UL DCI HARQ buffer for RNTI "} << 
      uldci.m\_rnti);
1743             \}
1744           (*itDci).second.at (harqId) = uldci;
1745           \textcolor{comment}{// Update HARQ process status (RV 0)}
1746           std::map <uint16\_t, UlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a2c0bc82abe6c71b7e4d85b4caca2aaa6}{m\_ulHarqProcessesStatus}.find (uldci.m\_rnti);
1747           \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TtaFfMacScheduler_a2c0bc82abe6c71b7e4d85b4caca2aaa6}{m\_ulHarqProcessesStatus}.end ())
1748             \{
1749               \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{stringliteral}{"No info find in HARQ buffer for UE (might change eNB) "} << uldci.
      m\_rnti);
1750             \}
1751           (*itStat).second.at (harqId) = 0;
1752         \}
1753 
1754       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE Allocation RNTI "} << (*it).first << \textcolor{stringliteral}{" startPRB "} << (uint32\_t)
      uldci.m\_rbStart << \textcolor{stringliteral}{" nPRB "} << (uint32\_t)uldci.m\_rbLen << \textcolor{stringliteral}{" CQI "} << cqi << \textcolor{stringliteral}{" MCS "} << (uint32\_t)uldci.m\_mcs 
      << \textcolor{stringliteral}{" TBsize "} << uldci.m\_tbSize << \textcolor{stringliteral}{" RbAlloc "} << rbAllocated << \textcolor{stringliteral}{" harqId "} << (uint16\_t)harqId);
1755 
1756 
1757       it++;
1758       \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.end ())
1759         \{
1760           \textcolor{comment}{// restart from the first}
1761           it = \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.begin ();
1762         \}
1763       \textcolor{keywordflow}{if} ((rbAllocated == \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.\hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}) || (rbPerFlow ==
       0))
1764         \{
1765           \textcolor{comment}{// Stop allocation: no more PRBs}
1766           \hyperlink{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{m\_nextRntiUl} = (*it).first;
1767           \textcolor{keywordflow}{break};
1768         \}
1769     \}
1770   \textcolor{keywordflow}{while} (((*it).first != \hyperlink{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{m\_nextRntiUl})&&(rbPerFlow!=0));
1771 
1772 
1773   \hyperlink{classns3_1_1TtaFfMacScheduler_a8931533e6964833d4e1da1e8c6d20313}{m\_allocationMaps}.insert (std::pair <uint16\_t, std::vector <uint16\_t> > (params.m\_sfnSf, 
      rbgAllocationMap));
1774   \hyperlink{classns3_1_1TtaFfMacScheduler_a950cb3e5f468debf1fa002171ff299f1}{m\_schedSapUser}->\hyperlink{classns3_1_1FfMacSchedSapUser_a1b89636256701a84d990db7db8aea874}{SchedUlConfigInd} (ret);
1775 
1776   \textcolor{keywordflow}{return};
1777 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 21




Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}}
\index{Do\+Sched\+Ul\+Trigger\+Req@{Do\+Sched\+Ul\+Trigger\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Do\+Sched\+Ul\+Trigger\+Req(const struct Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters \&params)}{DoSchedUlTriggerReq(const struct FfMacSchedSapProvider::SchedUlTriggerReqParameters &params)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Do\+Sched\+Ul\+Trigger\+Req (
\begin{DoxyParamCaption}
\item[{const struct {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Ul\+Trigger\+Req\+Parameters} \&}]{params}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ab4894f9f6d69451c8b8c7c2af93400b5}{}\label{classns3_1_1TtaFfMacScheduler_ab4894f9f6d69451c8b8c7c2af93400b5}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}}
\index{Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Estimate\+Ul\+Sinr(uint16\+\_\+t rnti, uint16\+\_\+t rb)}{EstimateUlSinr(uint16_t rnti, uint16_t rb)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Estimate\+Ul\+Sinr (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{rb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a51fcb3b65dbfff2b28d66930073a45c8}{}\label{classns3_1_1TtaFfMacScheduler_a51fcb3b65dbfff2b28d66930073a45c8}

\begin{DoxyCode}
1390 \{
1391   std::map <uint16\_t, std::vector <double> >::iterator itCqi = \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.find (rnti);
1392   \textcolor{keywordflow}{if} (itCqi == \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.end ())
1393     \{
1394       \textcolor{comment}{// no cqi info about this UE}
1395       \textcolor{keywordflow}{return} (\hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR});
1396 
1397     \}
1398   \textcolor{keywordflow}{else}
1399     \{
1400       \textcolor{comment}{// take the average SINR value among the available}
1401       \textcolor{keywordtype}{double} sinrSum = 0;
1402       \textcolor{keywordtype}{int} sinrNum = 0;
1403       \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{m\_cschedCellConfig}.
      \hyperlink{structns3_1_1FfMacCschedSapProvider_1_1CschedCellConfigReqParameters_a5ab5b102878e6e7e7727a14af4a64d2f}{m\_ulBandwidth}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
1404         \{
1405           \textcolor{keywordtype}{double} sinr = (*itCqi).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i});
1406           \textcolor{keywordflow}{if} (sinr != \hyperlink{cqa-ff-mac-scheduler_8h_a520d71777be043568160c783a9c65fd5}{NO\_SINR})
1407             \{
1408               sinrSum += sinr;
1409               sinrNum++;
1410             \}
1411         \}
1412       \textcolor{keywordtype}{double} estimatedSinr = (sinrNum > 0) ? (sinrSum / sinrNum) : DBL\_MAX;
1413       \textcolor{comment}{// store the value}
1414       (*itCqi).second.at (rb) = estimatedSinr;
1415       \textcolor{keywordflow}{return} (estimatedSinr);
1416     \}
1417 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 23


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}}
\index{Estimate\+Ul\+Sinr@{Estimate\+Ul\+Sinr}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Estimate\+Ul\+Sinr(uint16\+\_\+t rnti, uint16\+\_\+t rb)}{EstimateUlSinr(uint16_t rnti, uint16_t rb)}}]{\setlength{\rightskip}{0pt plus 5cm}double ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Estimate\+Ul\+Sinr (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{rb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a51fcb3b65dbfff2b28d66930073a45c8}{}\label{classns3_1_1TtaFfMacScheduler_a51fcb3b65dbfff2b28d66930073a45c8}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Csched\+Sap\+Provider()}{GetFfMacCschedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Ff\+Mac\+Csched\+Sap\+Provider}$\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Csched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a7b1bc2e161c963d78fc2e2a22351379d}{}\label{classns3_1_1TtaFfMacScheduler_a7b1bc2e161c963d78fc2e2a22351379d}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Csched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a458388c88c892d32e2d7a48883947379}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Csched\+Sap\+Provider@{Get\+Ff\+Mac\+Csched\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Csched\+Sap\+Provider()}{GetFfMacCschedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Csched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a102fd6e0f2ea3080e0754c0f2b9dbe8d}{}\label{classns3_1_1TtaFfMacScheduler_a102fd6e0f2ea3080e0754c0f2b9dbe8d}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Csched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a458388c88c892d32e2d7a48883947379}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
288 \{
289   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TtaFfMacScheduler_ac83b9f23cb828f8b40e9e4a9b6d60204}{m\_cschedSapProvider};
290 \}
\end{DoxyCode}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Sched\+Sap\+Provider()}{GetFfMacSchedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Ff\+Mac\+Sched\+Sap\+Provider}$\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Sched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a9b9bf261eb5176bc7a00d89066a8ccaf}{}\label{classns3_1_1TtaFfMacScheduler_a9b9bf261eb5176bc7a00d89066a8ccaf}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Sched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_ad3a2aca6f1c01fbddf88bfbf19cc07a4}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}}
\index{Get\+Ff\+Mac\+Sched\+Sap\+Provider@{Get\+Ff\+Mac\+Sched\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Ff\+Mac\+Sched\+Sap\+Provider()}{GetFfMacSchedSapProvider()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Get\+Ff\+Mac\+Sched\+Sap\+Provider (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a9d38ae91289743cb4df5cbee6767877a}{}\label{classns3_1_1TtaFfMacScheduler_a9d38ae91289743cb4df5cbee6767877a}
\begin{DoxyReturn}{Returns}
the Provider part of the Ff\+Mac\+Sched\+Sap provided by the \hyperlink{classns3_1_1Scheduler}{Scheduler} 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_ad3a2aca6f1c01fbddf88bfbf19cc07a4}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
294 \{
295   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TtaFfMacScheduler_a9b40317b5fb7668b316e0e4a4f3a6d09}{m\_schedSapProvider};
296 \}
\end{DoxyCode}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}}
\index{Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Lte\+Ffr\+Sap\+User()}{GetLteFfrSapUser()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+User} $\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Get\+Lte\+Ffr\+Sap\+User (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a4ced2cb91c600de0c0c74556c7c455cf}{}\label{classns3_1_1TtaFfMacScheduler_a4ced2cb91c600de0c0c74556c7c455cf}
\begin{DoxyReturn}{Returns}
the User part of the Lte\+Ffr\+Sap provided by the Ffr\+Algorithm 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a32fe62051fd6ac175116417df11e6c4e}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
306 \{
307   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1TtaFfMacScheduler_a72c81b130a54ac27f35db1cf6afbf472}{m\_ffrSapUser};
308 \}
\end{DoxyCode}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}}
\index{Get\+Lte\+Ffr\+Sap\+User@{Get\+Lte\+Ffr\+Sap\+User}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Lte\+Ffr\+Sap\+User()}{GetLteFfrSapUser()}}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf Lte\+Ffr\+Sap\+User}$\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Get\+Lte\+Ffr\+Sap\+User (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aa396e4418d813cca981b2821adb29414}{}\label{classns3_1_1TtaFfMacScheduler_aa396e4418d813cca981b2821adb29414}
\begin{DoxyReturn}{Returns}
the User part of the Lte\+Ffr\+Sap provided by the Ffr\+Algorithm 
\end{DoxyReturn}


Implements \hyperlink{classns3_1_1FfMacScheduler_a32fe62051fd6ac175116417df11e6c4e}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Get\+Rbg\+Size@{Get\+Rbg\+Size}}
\index{Get\+Rbg\+Size@{Get\+Rbg\+Size}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Rbg\+Size(int dlbandwidth)}{GetRbgSize(int dlbandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Get\+Rbg\+Size (
\begin{DoxyParamCaption}
\item[{int}]{dlbandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a496f93bd1b87f83996ba8358903ab69d}{}\label{classns3_1_1TtaFfMacScheduler_a496f93bd1b87f83996ba8358903ab69d}

\begin{DoxyCode}
490 \{
491   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 4; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
492     \{
493       \textcolor{keywordflow}{if} (dlbandwidth < \hyperlink{namespacens3_abfc91a5f143f78c6830c067c35fdc7b4}{TtaType0AllocationRbg}[\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}])
494         \{
495           \textcolor{keywordflow}{return} (i + 1);
496         \}
497     \}
498 
499   \textcolor{keywordflow}{return} (-1);
500 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Get\+Rbg\+Size@{Get\+Rbg\+Size}}
\index{Get\+Rbg\+Size@{Get\+Rbg\+Size}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Rbg\+Size(int dlbandwidth)}{GetRbgSize(int dlbandwidth)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Get\+Rbg\+Size (
\begin{DoxyParamCaption}
\item[{int}]{dlbandwidth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a496f93bd1b87f83996ba8358903ab69d}{}\label{classns3_1_1TtaFfMacScheduler_a496f93bd1b87f83996ba8358903ab69d}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Type\+Id} ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a4b8f56da35395e0f29294ac7effa93d7}{}\label{classns3_1_1TtaFfMacScheduler_a4b8f56da35395e0f29294ac7effa93d7}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a7ab69987111e3ccef33152059e3d4f04}{}\label{classns3_1_1TtaFfMacScheduler_a7ab69987111e3ccef33152059e3d4f04}

\begin{DoxyCode}
248 \{
249   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::TtaFfMacScheduler"})
250     .SetParent<\hyperlink{classns3_1_1FfMacScheduler_aa4c8ce28dbba2c19ff3328533c444045}{FfMacScheduler}> ()
251     .SetGroupName(\textcolor{stringliteral}{"Lte"})
252     .AddConstructor<\hyperlink{classns3_1_1TtaFfMacScheduler_acf57e9c1615d3e312a4fc3a9748f72ed}{TtaFfMacScheduler}> ()
253     .AddAttribute (\textcolor{stringliteral}{"CqiTimerThreshold"},
254                    \textcolor{stringliteral}{"The number of TTIs a CQI is valid (default 1000 - 1 sec.)"},
255                    UintegerValue (1000),
256                    MakeUintegerAccessor (&
      \hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{TtaFfMacScheduler::m\_cqiTimersThreshold}),
257                    MakeUintegerChecker<uint32\_t> ())
258     .AddAttribute (\textcolor{stringliteral}{"HarqEnabled"},
259                    \textcolor{stringliteral}{"Activate/Deactivate the HARQ [by default is active]."},
260                    BooleanValue (\textcolor{keyword}{true}),
261                    MakeBooleanAccessor (&\hyperlink{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}{TtaFfMacScheduler::m\_harqOn}),
262                    MakeBooleanChecker ())
263     .AddAttribute (\textcolor{stringliteral}{"UlGrantMcs"},
264                    \textcolor{stringliteral}{"The MCS of the UL grant, must be [0..15] (default 0)"},
265                    UintegerValue (0),
266                    MakeUintegerAccessor (&\hyperlink{classns3_1_1TtaFfMacScheduler_af999ba34a23583421c6a34df08608e47}{TtaFfMacScheduler::m\_ulGrantMcs}),
267                    MakeUintegerChecker<uint8\_t> ())
268   ;
269   \textcolor{keywordflow}{return} tid;
270 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 25


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Harq\+Process\+Availability@{Harq\+Process\+Availability}}
\index{Harq\+Process\+Availability@{Harq\+Process\+Availability}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Harq\+Process\+Availability(uint16\+\_\+t rnti)}{HarqProcessAvailability(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Harq\+Process\+Availability (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a3a48b5c8377a948e09078760eae6348b}{}\label{classns3_1_1TtaFfMacScheduler_a3a48b5c8377a948e09078760eae6348b}


Return the availability of free process for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}

\begin{DoxyCode}
528 \{
529   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
530 
531   std::map <uint16\_t, uint8\_t>::iterator it = \hyperlink{classns3_1_1TtaFfMacScheduler_ad381009c30855727e1515fa58349efed}{m\_dlHarqCurrentProcessId}.find (rnti);
532   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_ad381009c30855727e1515fa58349efed}{m\_dlHarqCurrentProcessId}.end ())
533     \{
534       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id found for this RNTI "} << rnti);
535     \}
536   std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.find (rnti);
537   \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.end ())
538     \{
539       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Statusfound for this RNTI "} << rnti);
540     \}
541   uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second;
542   \textcolor{keywordflow}{do}
543     \{
544       i = (i + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
545     \}
546   \textcolor{keywordflow}{while} ( ((*itStat).second.at (i) != 0)&&(i != (*it).second));
547   \textcolor{keywordflow}{if} ((*itStat).second.at (i) == 0)
548     \{
549       \textcolor{keywordflow}{return} (\textcolor{keyword}{true});
550     \}
551   \textcolor{keywordflow}{else}
552     \{
553       \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); \textcolor{comment}{// return a not valid harq proc id}
554     \}
555 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 26


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Harq\+Process\+Availability@{Harq\+Process\+Availability}}
\index{Harq\+Process\+Availability@{Harq\+Process\+Availability}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Harq\+Process\+Availability(uint16\+\_\+t rnti)}{HarqProcessAvailability(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Harq\+Process\+Availability (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a3a48b5c8377a948e09078760eae6348b}{}\label{classns3_1_1TtaFfMacScheduler_a3a48b5c8377a948e09078760eae6348b}


Return the availability of free process for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}}
\index{Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Lc\+Active\+Per\+Flow(uint16\+\_\+t rnti)}{LcActivePerFlow(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Lc\+Active\+Per\+Flow (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a2907ecc4ef7185be679248f833fc931b}{}\label{classns3_1_1TtaFfMacScheduler_a2907ecc4ef7185be679248f833fc931b}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}}
\index{Lc\+Active\+Per\+Flow@{Lc\+Active\+Per\+Flow}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Lc\+Active\+Per\+Flow(uint16\+\_\+t rnti)}{LcActivePerFlow(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}int ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Lc\+Active\+Per\+Flow (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a2907ecc4ef7185be679248f833fc931b}{}\label{classns3_1_1TtaFfMacScheduler_a2907ecc4ef7185be679248f833fc931b}

\begin{DoxyCode}
505 \{
506   std::map <LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
507   \textcolor{keywordtype}{int} lcActive = 0;
508   \textcolor{keywordflow}{for} (it = \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.begin (); it != \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.end (); it++)
509     \{
510       \textcolor{keywordflow}{if} (((*it).first.m\_rnti == rnti) && (((*it).second.m\_rlcTransmissionQueueSize > 0)
511                                            || ((*it).second.m\_rlcRetransmissionQueueSize > 0)
512                                            || ((*it).second.m\_rlcStatusPduSize > 0) ))
513         \{
514           lcActive++;
515         \}
516       \textcolor{keywordflow}{if} ((*it).first.m\_rnti > rnti)
517         \{
518           \textcolor{keywordflow}{break};
519         \}
520     \}
521   \textcolor{keywordflow}{return} (lcActive);
522 
523 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 27


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}}
\index{Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Dl\+Cqi\+Maps(void)}{RefreshDlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Refresh\+Dl\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a26eadc05cfa6ac456b5149467f0b92ec}{}\label{classns3_1_1TtaFfMacScheduler_a26eadc05cfa6ac456b5149467f0b92ec}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}}
\index{Refresh\+Dl\+Cqi\+Maps@{Refresh\+Dl\+Cqi\+Maps}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Dl\+Cqi\+Maps(void)}{RefreshDlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Refresh\+Dl\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a26eadc05cfa6ac456b5149467f0b92ec}{}\label{classns3_1_1TtaFfMacScheduler_a26eadc05cfa6ac456b5149467f0b92ec}

\begin{DoxyCode}
1987 \{
1988   \textcolor{comment}{// refresh DL CQI P01 Map}
1989   std::map <uint16\_t,uint32\_t>::iterator itP10 = \hyperlink{classns3_1_1TtaFfMacScheduler_a8b66a6a0a7a737e132a112c945ecefa9}{m\_p10CqiTimers}.begin ();
1990   \textcolor{keywordflow}{while} (itP10 != \hyperlink{classns3_1_1TtaFfMacScheduler_a8b66a6a0a7a737e132a112c945ecefa9}{m\_p10CqiTimers}.end ())
1991     \{
1992       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" P10-CQI for user "} << (*itP10).first << \textcolor{stringliteral}{" is "} << (uint32\_t)
      (*itP10).second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold});
1993       \textcolor{keywordflow}{if} ((*itP10).second == 0)
1994         \{
1995           \textcolor{comment}{// delete correspondent entries}
1996           std::map <uint16\_t,uint8\_t>::iterator itMap = \hyperlink{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}{m\_p10CqiRxed}.find ((*itP10).first);
1997           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}{m\_p10CqiRxed}.end (), \textcolor{stringliteral}{" Does not find CQI report
       for user "} << (*itP10).first);
1998           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" P10-CQI expired for user "} << (*itP10).first);
1999           \hyperlink{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}{m\_p10CqiRxed}.erase (itMap);
2000           std::map <uint16\_t,uint32\_t>::iterator temp = itP10;
2001           itP10++;
2002           \hyperlink{classns3_1_1TtaFfMacScheduler_a8b66a6a0a7a737e132a112c945ecefa9}{m\_p10CqiTimers}.erase (temp);
2003         \}
2004       \textcolor{keywordflow}{else}
2005         \{
2006           (*itP10).second--;
2007           itP10++;
2008         \}
2009     \}
2010 
2011   \textcolor{comment}{// refresh DL CQI A30 Map}
2012   std::map <uint16\_t,uint32\_t>::iterator itA30 = \hyperlink{classns3_1_1TtaFfMacScheduler_ac0ad6a5aaee1c2c92ae0d73d401b0d2c}{m\_a30CqiTimers}.begin ();
2013   \textcolor{keywordflow}{while} (itA30 != \hyperlink{classns3_1_1TtaFfMacScheduler_ac0ad6a5aaee1c2c92ae0d73d401b0d2c}{m\_a30CqiTimers}.end ())
2014     \{
2015       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" A30-CQI for user "} << (*itA30).first << \textcolor{stringliteral}{" is "} << (uint32\_t)
      (*itA30).second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold});
2016       \textcolor{keywordflow}{if} ((*itA30).second == 0)
2017         \{
2018           \textcolor{comment}{// delete correspondent entries}
2019           std::map <uint16\_t,SbMeasResult\_s>::iterator itMap = \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\_a30CqiRxed}.find ((*itA30).
      first);
2020           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\_a30CqiRxed}.end (), \textcolor{stringliteral}{" Does not find CQI report
       for user "} << (*itA30).first);
2021           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" A30-CQI expired for user "} << (*itA30).first);
2022           \hyperlink{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{m\_a30CqiRxed}.erase (itMap);
2023           std::map <uint16\_t,uint32\_t>::iterator temp = itA30;
2024           itA30++;
2025           \hyperlink{classns3_1_1TtaFfMacScheduler_ac0ad6a5aaee1c2c92ae0d73d401b0d2c}{m\_a30CqiTimers}.erase (temp);
2026         \}
2027       \textcolor{keywordflow}{else}
2028         \{
2029           (*itA30).second--;
2030           itA30++;
2031         \}
2032     \}
2033 
2034   \textcolor{keywordflow}{return};
2035 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}}
\index{Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Harq\+Processes()}{RefreshHarqProcesses()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Refresh\+Harq\+Processes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a0d70dd3503e3a8743cca82852aa35e7e}{}\label{classns3_1_1TtaFfMacScheduler_a0d70dd3503e3a8743cca82852aa35e7e}


Refresh H\+A\+RQ processes according to the timers. 


\begin{DoxyCode}
602 \{
603   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
604 
605   std::map <uint16\_t, DlHarqProcessesTimer\_t>::iterator itTimers;
606   \textcolor{keywordflow}{for} (itTimers = \hyperlink{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{m\_dlHarqProcessesTimer}.begin (); itTimers != 
      \hyperlink{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{m\_dlHarqProcessesTimer}.end (); itTimers ++)
607     \{
608       \textcolor{keywordflow}{for} (uint16\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM}; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
609         \{
610           \textcolor{keywordflow}{if} ((*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) == \hyperlink{cqa-ff-mac-scheduler_8h_add9e0c4889dc1b5b25686480b31ad166}{HARQ\_DL\_TIMEOUT})
611             \{
612               \textcolor{comment}{// reset HARQ process}
613               
614               \hyperlink{group__logging_ga413f1886406d49f59a6a0a89b77b4d0a}{NS\_LOG\_DEBUG} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Reset HARQ proc "} << \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} << \textcolor{stringliteral}{" for RNTI "} << (*itTimers).
      first);
615               std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.find ((*itTimers).first);
616               \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.end ())
617                 \{
618                   \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Status found for this RNTI "} << (*itTimers).
      first);
619                 \}
620               (*itStat).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
621               (*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}) = 0;
622             \}
623           \textcolor{keywordflow}{else}
624             \{
625               (*itTimers).second.at (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i})++;
626             \}
627         \}
628     \}
629   
630 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 29


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}}
\index{Refresh\+Harq\+Processes@{Refresh\+Harq\+Processes}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Harq\+Processes()}{RefreshHarqProcesses()}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Refresh\+Harq\+Processes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a0d70dd3503e3a8743cca82852aa35e7e}{}\label{classns3_1_1TtaFfMacScheduler_a0d70dd3503e3a8743cca82852aa35e7e}


Refresh H\+A\+RQ processes according to the timers. 

\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}}
\index{Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Ul\+Cqi\+Maps(void)}{RefreshUlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Refresh\+Ul\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ae0cb4fb464a85be701431b9606acdf2e}{}\label{classns3_1_1TtaFfMacScheduler_ae0cb4fb464a85be701431b9606acdf2e}

\begin{DoxyCode}
2040 \{
2041   \textcolor{comment}{// refresh UL CQI  Map}
2042   std::map <uint16\_t,uint32\_t>::iterator itUl = \hyperlink{classns3_1_1TtaFfMacScheduler_adb17b15e869d53e4244bf77f3f842f67}{m\_ueCqiTimers}.begin ();
2043   \textcolor{keywordflow}{while} (itUl != \hyperlink{classns3_1_1TtaFfMacScheduler_adb17b15e869d53e4244bf77f3f842f67}{m\_ueCqiTimers}.end ())
2044     \{
2045       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-CQI for user "} << (*itUl).first << \textcolor{stringliteral}{" is "} << (uint32\_t)(*itUl).
      second << \textcolor{stringliteral}{" thr "} << (uint32\_t)\hyperlink{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{m\_cqiTimersThreshold});
2046       \textcolor{keywordflow}{if} ((*itUl).second == 0)
2047         \{
2048           \textcolor{comment}{// delete correspondent entries}
2049           std::map <uint16\_t, std::vector <double> >::iterator itMap = \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.find ((*itUl).first);
2050           \hyperlink{assert_8h_aff5ece9066c74e681e74999856f08539}{NS\_ASSERT\_MSG} (itMap != \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.end (), \textcolor{stringliteral}{" Does not find CQI report for user "}
       << (*itUl).first);
2051           \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UL-CQI exired for user "} << (*itUl).first);
2052           (*itMap).second.clear ();
2053           \hyperlink{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{m\_ueCqi}.erase (itMap);
2054           std::map <uint16\_t,uint32\_t>::iterator temp = itUl;
2055           itUl++;
2056           \hyperlink{classns3_1_1TtaFfMacScheduler_adb17b15e869d53e4244bf77f3f842f67}{m\_ueCqiTimers}.erase (temp);
2057         \}
2058       \textcolor{keywordflow}{else}
2059         \{
2060           (*itUl).second--;
2061           itUl++;
2062         \}
2063     \}
2064 
2065   \textcolor{keywordflow}{return};
2066 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 30


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}}
\index{Refresh\+Ul\+Cqi\+Maps@{Refresh\+Ul\+Cqi\+Maps}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Refresh\+Ul\+Cqi\+Maps(void)}{RefreshUlCqiMaps(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Refresh\+Ul\+Cqi\+Maps (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ae0cb4fb464a85be701431b9606acdf2e}{}\label{classns3_1_1TtaFfMacScheduler_ae0cb4fb464a85be701431b9606acdf2e}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Csched\+Sap\+User(\+Ff\+Mac\+Csched\+Sap\+User $\ast$s)}{SetFfMacCschedSapUser(FfMacCschedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Csched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aad31eeab4a6d5b9dc11fddcf92c54b91}{}\label{classns3_1_1TtaFfMacScheduler_aad31eeab4a6d5b9dc11fddcf92c54b91}
set the user part of the Ff\+Mac\+Csched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a3984d8478223218fd4432a9f9ead328b}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Csched\+Sap\+User@{Set\+Ff\+Mac\+Csched\+Sap\+User}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Csched\+Sap\+User(\+Ff\+Mac\+Csched\+Sap\+User $\ast$s)}{SetFfMacCschedSapUser(FfMacCschedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Csched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a8460e8e459ee56c2e003c96277069ad2}{}\label{classns3_1_1TtaFfMacScheduler_a8460e8e459ee56c2e003c96277069ad2}
set the user part of the Ff\+Mac\+Csched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a3984d8478223218fd4432a9f9ead328b}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
276 \{
277   \hyperlink{classns3_1_1TtaFfMacScheduler_a620a4509878a38fbbd97fd555dfb38aa}{m\_cschedSapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
278 \}
\end{DoxyCode}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Sched\+Sap\+User(\+Ff\+Mac\+Sched\+Sap\+User $\ast$s)}{SetFfMacSchedSapUser(FfMacSchedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Sched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a83d6bce64a666c9f9c71966210d93c74}{}\label{classns3_1_1TtaFfMacScheduler_a83d6bce64a666c9f9c71966210d93c74}
set the user part of the Ff\+Mac\+Sched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_aa45093350c367b9a33263d5b6eecee34}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}}
\index{Set\+Ff\+Mac\+Sched\+Sap\+User@{Set\+Ff\+Mac\+Sched\+Sap\+User}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Ff\+Mac\+Sched\+Sap\+User(\+Ff\+Mac\+Sched\+Sap\+User $\ast$s)}{SetFfMacSchedSapUser(FfMacSchedSapUser *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Set\+Ff\+Mac\+Sched\+Sap\+User (
\begin{DoxyParamCaption}
\item[{{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a7e11d920bdd5a74375f56a520a7b3f94}{}\label{classns3_1_1TtaFfMacScheduler_a7e11d920bdd5a74375f56a520a7b3f94}
set the user part of the Ff\+Mac\+Sched\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with. Normally this part of the S\+AP is exported by the M\+AC.


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_aa45093350c367b9a33263d5b6eecee34}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
282 \{
283   \hyperlink{classns3_1_1TtaFfMacScheduler_a950cb3e5f468debf1fa002171ff299f1}{m\_schedSapUser} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
284 \}
\end{DoxyCode}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}}
\index{Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Lte\+Ffr\+Sap\+Provider(\+Lte\+Ffr\+Sap\+Provider $\ast$s)}{SetLteFfrSapProvider(LteFfrSapProvider *s)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Set\+Lte\+Ffr\+Sap\+Provider (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Ffr\+Sap\+Provider} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a574a79d890d7b5b081682b6e934aac93}{}\label{classns3_1_1TtaFfMacScheduler_a574a79d890d7b5b081682b6e934aac93}
Set the Provider part of the Lte\+Ffr\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a2b3a1635ada88804f035984277371926}{ns3\+::\+Ff\+Mac\+Scheduler}.


\begin{DoxyCode}
300 \{
301   \hyperlink{classns3_1_1TtaFfMacScheduler_a52f7806b9c11ad3a5b9ec77817aa2616}{m\_ffrSapProvider} = \hyperlink{generate__test__data__lte__sinr_8m_ad83eeb3a142285d1243a08c6b7026df8}{s};
302 \}
\end{DoxyCode}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}}
\index{Set\+Lte\+Ffr\+Sap\+Provider@{Set\+Lte\+Ffr\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Set\+Lte\+Ffr\+Sap\+Provider(\+Lte\+Ffr\+Sap\+Provider $\ast$s)}{SetLteFfrSapProvider(LteFfrSapProvider *s)}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Set\+Lte\+Ffr\+Sap\+Provider (
\begin{DoxyParamCaption}
\item[{{\bf Lte\+Ffr\+Sap\+Provider} $\ast$}]{s}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aceb9cdcc8a3ac34414c76a02350faf34}{}\label{classns3_1_1TtaFfMacScheduler_aceb9cdcc8a3ac34414c76a02350faf34}
Set the Provider part of the Lte\+Ffr\+Sap that this \hyperlink{classns3_1_1Scheduler}{Scheduler} will interact with


\begin{DoxyParams}{Parameters}
{\em s} & \\
\hline
\end{DoxyParams}


Implements \hyperlink{classns3_1_1FfMacScheduler_a2b3a1635ada88804f035984277371926}{ns3\+::\+Ff\+Mac\+Scheduler}.

\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}}
\index{Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Transmission\+Mode\+Configuration\+Update(uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)}{TransmissionModeConfigurationUpdate(uint16_t rnti, uint8_t txMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Transmission\+Mode\+Configuration\+Update (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{tx\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TtaFfMacScheduler_ab2e643d668582cd5254f283eda5281cc}{}\label{classns3_1_1TtaFfMacScheduler_ab2e643d668582cd5254f283eda5281cc}

\begin{DoxyCode}
2147 \{
2148   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" RNTI "} << rnti << \textcolor{stringliteral}{" txMode "} << (uint16\_t)txMode);
2149   FfMacCschedSapUser::CschedUeConfigUpdateIndParameters params;
2150   params.m\_rnti = rnti;
2151   params.m\_transmissionMode = txMode;
2152   \hyperlink{classns3_1_1TtaFfMacScheduler_a620a4509878a38fbbd97fd555dfb38aa}{m\_cschedSapUser}->\hyperlink{classns3_1_1FfMacCschedSapUser_a63f3fa5bac0cc7234a17c3241bff6a04}{CschedUeConfigUpdateInd} (params);
2153 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 31


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}}
\index{Transmission\+Mode\+Configuration\+Update@{Transmission\+Mode\+Configuration\+Update}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Transmission\+Mode\+Configuration\+Update(uint16\+\_\+t rnti, uint8\+\_\+t tx\+Mode)}{TransmissionModeConfigurationUpdate(uint16_t rnti, uint8_t txMode)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Transmission\+Mode\+Configuration\+Update (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{tx\+Mode}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1TtaFfMacScheduler_ab2e643d668582cd5254f283eda5281cc}{}\label{classns3_1_1TtaFfMacScheduler_ab2e643d668582cd5254f283eda5281cc}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}}
\index{Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Dl\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)}{UpdateDlRlcBufferInfo(uint16_t rnti, uint8_t lcid, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Update\+Dl\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{lcid, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a4c4e1638680640d8da95c4478ec3c06f}{}\label{classns3_1_1TtaFfMacScheduler_a4c4e1638680640d8da95c4478ec3c06f}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}}
\index{Update\+Dl\+Rlc\+Buffer\+Info@{Update\+Dl\+Rlc\+Buffer\+Info}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Dl\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint8\+\_\+t lcid, uint16\+\_\+t size)}{UpdateDlRlcBufferInfo(uint16_t rnti, uint8_t lcid, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Update\+Dl\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint8\+\_\+t}]{lcid, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a4c4e1638680640d8da95c4478ec3c06f}{}\label{classns3_1_1TtaFfMacScheduler_a4c4e1638680640d8da95c4478ec3c06f}

\begin{DoxyCode}
2070 \{
2071   std::map<LteFlowId\_t, FfMacSchedSapProvider::SchedDlRlcBufferReqParameters>::iterator it;
2072   LteFlowId\_t flow (rnti, lcid);
2073   it = \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.find (flow);
2074   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{m\_rlcBufferReq}.end ())
2075     \{
2076       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE "} << rnti << \textcolor{stringliteral}{" LC "} << (uint16\_t)lcid << \textcolor{stringliteral}{" txqueue "} << (*it).
      second.m\_rlcTransmissionQueueSize << \textcolor{stringliteral}{" retxqueue "} << (*it).second.m\_rlcRetransmissionQueueSize << \textcolor{stringliteral}{" status "} 
      << (*it).second.m\_rlcStatusPduSize << \textcolor{stringliteral}{" decrease "} << size);
2077       \textcolor{comment}{// Update queues: RLC tx order Status, ReTx, Tx}
2078       \textcolor{comment}{// Update status queue}
2079       \textcolor{keywordflow}{if} (((*it).second.m\_rlcStatusPduSize > 0) && (size >= (*it).second.m\_rlcStatusPduSize))
2080         \{
2081            (*it).second.m\_rlcStatusPduSize = 0;
2082         \}
2083       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (((*it).second.m\_rlcRetransmissionQueueSize > 0) && (size >= (*it).second.
      m\_rlcRetransmissionQueueSize))
2084         \{
2085           (*it).second.m\_rlcRetransmissionQueueSize = 0;
2086         \}
2087       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((*it).second.m\_rlcTransmissionQueueSize > 0)
2088         \{
2089           uint32\_t rlcOverhead;
2090           \textcolor{keywordflow}{if} (lcid == 1)
2091             \{
2092               \textcolor{comment}{// for SRB1 (using RLC AM) it's better to}
2093               \textcolor{comment}{// overestimate RLC overhead rather than}
2094               \textcolor{comment}{// underestimate it and risk unneeded}
2095               \textcolor{comment}{// segmentation which increases delay }
2096               rlcOverhead = 4;                                  
2097             \}
2098           \textcolor{keywordflow}{else}
2099             \{
2100               \textcolor{comment}{// minimum RLC overhead due to header}
2101               rlcOverhead = 2;
2102             \}
2103           \textcolor{comment}{// update transmission queue}
2104           \textcolor{keywordflow}{if} ((*it).second.m\_rlcTransmissionQueueSize <= size - rlcOverhead)
2105             \{
2106               (*it).second.m\_rlcTransmissionQueueSize = 0;
2107             \}
2108           \textcolor{keywordflow}{else}
2109             \{                    
2110               (*it).second.m\_rlcTransmissionQueueSize -= size - rlcOverhead;
2111             \}
2112         \}
2113     \}
2114   \textcolor{keywordflow}{else}
2115     \{
2116       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Does not find DL RLC Buffer Report of UE "} << rnti);
2117     \}
2118 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 32


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}}
\index{Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Harq\+Process\+Id(uint16\+\_\+t rnti)}{UpdateHarqProcessId(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Update\+Harq\+Process\+Id (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aa2c9ed548b16ace6abe0f0de7501f1df}{}\label{classns3_1_1TtaFfMacScheduler_aa2c9ed548b16ace6abe0f0de7501f1df}


Update and return a new process Id for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}

\begin{DoxyCode}
561 \{
562   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << rnti);
563 
564   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}{m\_harqOn} == \textcolor{keyword}{false})
565     \{
566       \textcolor{keywordflow}{return} (0);
567     \}
568 
569 
570   std::map <uint16\_t, uint8\_t>::iterator it = \hyperlink{classns3_1_1TtaFfMacScheduler_ad381009c30855727e1515fa58349efed}{m\_dlHarqCurrentProcessId}.find (rnti);
571   \textcolor{keywordflow}{if} (it == \hyperlink{classns3_1_1TtaFfMacScheduler_ad381009c30855727e1515fa58349efed}{m\_dlHarqCurrentProcessId}.end ())
572     \{
573       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id found for this RNTI "} << rnti);
574     \}
575   std::map <uint16\_t, DlHarqProcessesStatus\_t>::iterator itStat = 
      \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.find (rnti);
576   \textcolor{keywordflow}{if} (itStat == \hyperlink{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{m\_dlHarqProcessesStatus}.end ())
577     \{
578       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No Process Id Statusfound for this RNTI "} << rnti);
579     \}
580   uint8\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = (*it).second;
581   \textcolor{keywordflow}{do}
582     \{
583       i = (i + 1) % \hyperlink{cqa-ff-mac-scheduler_8h_a9185d8d7d2b2979181d4a7044a3d3555}{HARQ\_PROC\_NUM};
584     \}
585   \textcolor{keywordflow}{while} ( ((*itStat).second.at (i) != 0)&&(i != (*it).second));
586   \textcolor{keywordflow}{if} ((*itStat).second.at (i) == 0)
587     \{
588       (*it).second = \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i};
589       (*itStat).second.at (i) = 1;
590     \}
591   \textcolor{keywordflow}{else}
592     \{
593       \hyperlink{group__fatal_ga5131d5e3f75d7d4cbfd706ac456fdc85}{NS\_FATAL\_ERROR} (\textcolor{stringliteral}{"No HARQ process available for RNTI "} << rnti << \textcolor{stringliteral}{" check before update
       with HarqProcessAvailability"});
594     \}
595 
596   \textcolor{keywordflow}{return} ((*it).second);
597 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 33


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}}
\index{Update\+Harq\+Process\+Id@{Update\+Harq\+Process\+Id}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Harq\+Process\+Id(uint16\+\_\+t rnti)}{UpdateHarqProcessId(uint16_t rnti)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Update\+Harq\+Process\+Id (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aa2c9ed548b16ace6abe0f0de7501f1df}{}\label{classns3_1_1TtaFfMacScheduler_aa2c9ed548b16ace6abe0f0de7501f1df}


Update and return a new process Id for the R\+N\+TI specified. 


\begin{DoxyParams}{Parameters}
{\em rnti} & the R\+N\+TI of the UE to be updated \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the process id value 
\end{DoxyReturn}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}}
\index{Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Ul\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint16\+\_\+t size)}{UpdateUlRlcBufferInfo(uint16_t rnti, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Update\+Ul\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ab833bf3832b55e3483befd9d0e9b2c13}{}\label{classns3_1_1TtaFfMacScheduler_ab833bf3832b55e3483befd9d0e9b2c13}

\begin{DoxyCode}
2122 \{
2123 
2124   size = size - 2; \textcolor{comment}{// remove the minimum RLC overhead}
2125   std::map <uint16\_t,uint32\_t>::iterator it = \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.find (rnti);
2126   \textcolor{keywordflow}{if} (it != \hyperlink{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{m\_ceBsrRxed}.end ())
2127     \{
2128       \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" UE "} << rnti << \textcolor{stringliteral}{" size "} << size << \textcolor{stringliteral}{" BSR "} << (*it).second);
2129       \textcolor{keywordflow}{if} ((*it).second >= size)
2130         \{
2131           (*it).second -= size;
2132         \}
2133       \textcolor{keywordflow}{else}
2134         \{
2135           (*it).second = 0;
2136         \}
2137     \}
2138   \textcolor{keywordflow}{else}
2139     \{
2140       \hyperlink{group__logging_ga0261a8db1d4ac5f79417d117634fd455}{NS\_LOG\_ERROR} (\textcolor{keyword}{this} << \textcolor{stringliteral}{" Does not find BSR report info of UE "} << rnti);
2141     \}
2142 
2143 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 34


\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}}
\index{Update\+Ul\+Rlc\+Buffer\+Info@{Update\+Ul\+Rlc\+Buffer\+Info}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Update\+Ul\+Rlc\+Buffer\+Info(uint16\+\_\+t rnti, uint16\+\_\+t size)}{UpdateUlRlcBufferInfo(uint16_t rnti, uint16_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::\+Update\+Ul\+Rlc\+Buffer\+Info (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{rnti, }
\item[{uint16\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ab833bf3832b55e3483befd9d0e9b2c13}{}\label{classns3_1_1TtaFfMacScheduler_ab833bf3832b55e3483befd9d0e9b2c13}


\subsection{Friends And Related Function Documentation}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Tta\+Scheduler\+Member\+Csched\+Sap\+Provider@{Tta\+Scheduler\+Member\+Csched\+Sap\+Provider}}
\index{Tta\+Scheduler\+Member\+Csched\+Sap\+Provider@{Tta\+Scheduler\+Member\+Csched\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Tta\+Scheduler\+Member\+Csched\+Sap\+Provider}{TtaSchedulerMemberCschedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tta\+Scheduler\+Member\+Csched\+Sap\+Provider}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a244f251af4bc7b3539849449665081eb}{}\label{classns3_1_1TtaFfMacScheduler_a244f251af4bc7b3539849449665081eb}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!Tta\+Scheduler\+Member\+Sched\+Sap\+Provider@{Tta\+Scheduler\+Member\+Sched\+Sap\+Provider}}
\index{Tta\+Scheduler\+Member\+Sched\+Sap\+Provider@{Tta\+Scheduler\+Member\+Sched\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{Tta\+Scheduler\+Member\+Sched\+Sap\+Provider}{TtaSchedulerMemberSchedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Tta\+Scheduler\+Member\+Sched\+Sap\+Provider}\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ad38bfb5beaa096dd40ea2dc465c29c73}{}\label{classns3_1_1TtaFfMacScheduler_ad38bfb5beaa096dd40ea2dc465c29c73}


\subsection{Member Data Documentation}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+a30\+Cqi\+Rxed@{m\+\_\+a30\+Cqi\+Rxed}}
\index{m\+\_\+a30\+Cqi\+Rxed@{m\+\_\+a30\+Cqi\+Rxed}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+a30\+Cqi\+Rxed}{m_a30CqiRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Sb\+Meas\+Result\+\_\+s} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+a30\+Cqi\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}{}\label{classns3_1_1TtaFfMacScheduler_aeb3f62c230eed9a1e5488b7466c26d56}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+a30\+Cqi\+Timers@{m\+\_\+a30\+Cqi\+Timers}}
\index{m\+\_\+a30\+Cqi\+Timers@{m\+\_\+a30\+Cqi\+Timers}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+a30\+Cqi\+Timers}{m_a30CqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+a30\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ac0ad6a5aaee1c2c92ae0d73d401b0d2c}{}\label{classns3_1_1TtaFfMacScheduler_ac0ad6a5aaee1c2c92ae0d73d401b0d2c}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+allocation\+Maps@{m\+\_\+allocation\+Maps}}
\index{m\+\_\+allocation\+Maps@{m\+\_\+allocation\+Maps}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+allocation\+Maps}{m_allocationMaps}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ uint16\+\_\+t $>$ $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+allocation\+Maps\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a8931533e6964833d4e1da1e8c6d20313}{}\label{classns3_1_1TtaFfMacScheduler_a8931533e6964833d4e1da1e8c6d20313}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+amc@{m\+\_\+amc}}
\index{m\+\_\+amc@{m\+\_\+amc}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+amc}{m_amc}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ptr}$<$ {\bf Lte\+Amc} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+amc\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}{}\label{classns3_1_1TtaFfMacScheduler_a9c8e60d48cae88a03fb5621285733186}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+ce\+Bsr\+Rxed@{m\+\_\+ce\+Bsr\+Rxed}}
\index{m\+\_\+ce\+Bsr\+Rxed@{m\+\_\+ce\+Bsr\+Rxed}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ce\+Bsr\+Rxed}{m_ceBsrRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+ce\+Bsr\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}{}\label{classns3_1_1TtaFfMacScheduler_a6b88fda6059c5679b747c2e1856729b1}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+cqi\+Timers\+Threshold@{m\+\_\+cqi\+Timers\+Threshold}}
\index{m\+\_\+cqi\+Timers\+Threshold@{m\+\_\+cqi\+Timers\+Threshold}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+cqi\+Timers\+Threshold}{m_cqiTimersThreshold}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+cqi\+Timers\+Threshold\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}{}\label{classns3_1_1TtaFfMacScheduler_a3dd8aa322782db3d0f2bbaf9fede6fca}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Cell\+Config@{m\+\_\+csched\+Cell\+Config}}
\index{m\+\_\+csched\+Cell\+Config@{m\+\_\+csched\+Cell\+Config}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Cell\+Config}{m_cschedCellConfig}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider\+::\+Csched\+Cell\+Config\+Req\+Parameters} ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Cell\+Config\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}{}\label{classns3_1_1TtaFfMacScheduler_af263a06ea69ff1d096ddb48df0ac7f81}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Sap\+Provider@{m\+\_\+csched\+Sap\+Provider}}
\index{m\+\_\+csched\+Sap\+Provider@{m\+\_\+csched\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Sap\+Provider}{m_cschedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+Provider} $\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ac83b9f23cb828f8b40e9e4a9b6d60204}{}\label{classns3_1_1TtaFfMacScheduler_ac83b9f23cb828f8b40e9e4a9b6d60204}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+csched\+Sap\+User@{m\+\_\+csched\+Sap\+User}}
\index{m\+\_\+csched\+Sap\+User@{m\+\_\+csched\+Sap\+User}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+csched\+Sap\+User}{m_cschedSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Csched\+Sap\+User} $\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+csched\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a620a4509878a38fbbd97fd555dfb38aa}{}\label{classns3_1_1TtaFfMacScheduler_a620a4509878a38fbbd97fd555dfb38aa}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Current\+Process\+Id@{m\+\_\+dl\+Harq\+Current\+Process\+Id}}
\index{m\+\_\+dl\+Harq\+Current\+Process\+Id@{m\+\_\+dl\+Harq\+Current\+Process\+Id}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Current\+Process\+Id}{m_dlHarqCurrentProcessId}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Current\+Process\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ad381009c30855727e1515fa58349efed}{}\label{classns3_1_1TtaFfMacScheduler_ad381009c30855727e1515fa58349efed}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}}
\index{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer}{m_dlHarqProcessesDciBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Dci\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_aef07d22e5c2e6acf1f711736bce49fc8}{}\label{classns3_1_1TtaFfMacScheduler_aef07d22e5c2e6acf1f711736bce49fc8}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}}
\index{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer@{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer}{m_dlHarqProcessesRlcPduListBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Rlc\+Pdu\+List\+Buffer\+\_\+t} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Rlc\+Pdu\+List\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}{}\label{classns3_1_1TtaFfMacScheduler_a04e2e36b8114bfe977b8a3443822d7f1}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Status@{m\+\_\+dl\+Harq\+Processes\+Status}}
\index{m\+\_\+dl\+Harq\+Processes\+Status@{m\+\_\+dl\+Harq\+Processes\+Status}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Status}{m_dlHarqProcessesStatus}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Status\+\_\+t} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Status\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}{}\label{classns3_1_1TtaFfMacScheduler_a7fca472047b1f964ac6e2b992ed93f66}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Harq\+Processes\+Timer@{m\+\_\+dl\+Harq\+Processes\+Timer}}
\index{m\+\_\+dl\+Harq\+Processes\+Timer@{m\+\_\+dl\+Harq\+Processes\+Timer}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Harq\+Processes\+Timer}{m_dlHarqProcessesTimer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Dl\+Harq\+Processes\+Timer\+\_\+t} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Harq\+Processes\+Timer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}{}\label{classns3_1_1TtaFfMacScheduler_ac17ab46a13a0d51459cc7b1d7e5ebc06}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+dl\+Info\+List\+Buffered@{m\+\_\+dl\+Info\+List\+Buffered}}
\index{m\+\_\+dl\+Info\+List\+Buffered@{m\+\_\+dl\+Info\+List\+Buffered}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+dl\+Info\+List\+Buffered}{m_dlInfoListBuffered}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ {\bf Dl\+Info\+List\+Element\+\_\+s} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+dl\+Info\+List\+Buffered\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}{}\label{classns3_1_1TtaFfMacScheduler_af7afa3d5a610456175b21bad17cc04ae}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+ffr\+Sap\+Provider@{m\+\_\+ffr\+Sap\+Provider}}
\index{m\+\_\+ffr\+Sap\+Provider@{m\+\_\+ffr\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ffr\+Sap\+Provider}{m_ffrSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+Provider} $\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+ffr\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a52f7806b9c11ad3a5b9ec77817aa2616}{}\label{classns3_1_1TtaFfMacScheduler_a52f7806b9c11ad3a5b9ec77817aa2616}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+ffr\+Sap\+User@{m\+\_\+ffr\+Sap\+User}}
\index{m\+\_\+ffr\+Sap\+User@{m\+\_\+ffr\+Sap\+User}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ffr\+Sap\+User}{m_ffrSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Lte\+Ffr\+Sap\+User} $\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+ffr\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a72c81b130a54ac27f35db1cf6afbf472}{}\label{classns3_1_1TtaFfMacScheduler_a72c81b130a54ac27f35db1cf6afbf472}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+flow\+Stats\+Dl@{m\+\_\+flow\+Stats\+Dl}}
\index{m\+\_\+flow\+Stats\+Dl@{m\+\_\+flow\+Stats\+Dl}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+flow\+Stats\+Dl}{m_flowStatsDl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::set$<$ uint16\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+flow\+Stats\+Dl\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}{}\label{classns3_1_1TtaFfMacScheduler_ad59f8b7a0e70380e5e55053fa07a5ebc}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+flow\+Stats\+Ul@{m\+\_\+flow\+Stats\+Ul}}
\index{m\+\_\+flow\+Stats\+Ul@{m\+\_\+flow\+Stats\+Ul}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+flow\+Stats\+Ul}{m_flowStatsUl}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::set$<$ uint16\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+flow\+Stats\+Ul\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a807cea079683b887a7abb9d19d71ad49}{}\label{classns3_1_1TtaFfMacScheduler_a807cea079683b887a7abb9d19d71ad49}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+harq\+On@{m\+\_\+harq\+On}}
\index{m\+\_\+harq\+On@{m\+\_\+harq\+On}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+harq\+On}{m_harqOn}}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+harq\+On\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}{}\label{classns3_1_1TtaFfMacScheduler_a08875f91819cf2e7cf2ed3781d36cda1}
m\+\_\+harq\+On when false inhibit te H\+A\+RQ mechanisms (by default active) \index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+next\+Rnti\+Ul@{m\+\_\+next\+Rnti\+Ul}}
\index{m\+\_\+next\+Rnti\+Ul@{m\+\_\+next\+Rnti\+Ul}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+next\+Rnti\+Ul}{m_nextRntiUl}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+next\+Rnti\+Ul\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}{}\label{classns3_1_1TtaFfMacScheduler_a4342a2e63a980d852d3cb6ef1e77197b}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+p10\+Cqi\+Rxed@{m\+\_\+p10\+Cqi\+Rxed}}
\index{m\+\_\+p10\+Cqi\+Rxed@{m\+\_\+p10\+Cqi\+Rxed}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+p10\+Cqi\+Rxed}{m_p10CqiRxed}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+p10\+Cqi\+Rxed\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}{}\label{classns3_1_1TtaFfMacScheduler_a0846e060ed4b553be784ddba3098eb81}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+p10\+Cqi\+Timers@{m\+\_\+p10\+Cqi\+Timers}}
\index{m\+\_\+p10\+Cqi\+Timers@{m\+\_\+p10\+Cqi\+Timers}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+p10\+Cqi\+Timers}{m_p10CqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+p10\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a8b66a6a0a7a737e132a112c945ecefa9}{}\label{classns3_1_1TtaFfMacScheduler_a8b66a6a0a7a737e132a112c945ecefa9}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+rach\+Allocation\+Map@{m\+\_\+rach\+Allocation\+Map}}
\index{m\+\_\+rach\+Allocation\+Map@{m\+\_\+rach\+Allocation\+Map}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rach\+Allocation\+Map}{m_rachAllocationMap}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ uint16\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+rach\+Allocation\+Map\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a5cef51239a7f724ce375f0ddf883e73c}{}\label{classns3_1_1TtaFfMacScheduler_a5cef51239a7f724ce375f0ddf883e73c}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+rach\+List@{m\+\_\+rach\+List}}
\index{m\+\_\+rach\+List@{m\+\_\+rach\+List}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rach\+List}{m_rachList}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ struct {\bf Rach\+List\+Element\+\_\+s} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+rach\+List\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ac2f848953754daa546155b20aa1d9ace}{}\label{classns3_1_1TtaFfMacScheduler_ac2f848953754daa546155b20aa1d9ace}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+rlc\+Buffer\+Req@{m\+\_\+rlc\+Buffer\+Req}}
\index{m\+\_\+rlc\+Buffer\+Req@{m\+\_\+rlc\+Buffer\+Req}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+rlc\+Buffer\+Req}{m_rlcBufferReq}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ {\bf Lte\+Flow\+Id\+\_\+t}, {\bf Ff\+Mac\+Sched\+Sap\+Provider\+::\+Sched\+Dl\+Rlc\+Buffer\+Req\+Parameters} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+rlc\+Buffer\+Req\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}{}\label{classns3_1_1TtaFfMacScheduler_a55188f3ad1e0b4a62947e3e3ccb63ec5}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+sched\+Sap\+Provider@{m\+\_\+sched\+Sap\+Provider}}
\index{m\+\_\+sched\+Sap\+Provider@{m\+\_\+sched\+Sap\+Provider}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+sched\+Sap\+Provider}{m_schedSapProvider}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+Provider} $\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+sched\+Sap\+Provider\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a9b40317b5fb7668b316e0e4a4f3a6d09}{}\label{classns3_1_1TtaFfMacScheduler_a9b40317b5fb7668b316e0e4a4f3a6d09}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+sched\+Sap\+User@{m\+\_\+sched\+Sap\+User}}
\index{m\+\_\+sched\+Sap\+User@{m\+\_\+sched\+Sap\+User}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+sched\+Sap\+User}{m_schedSapUser}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ff\+Mac\+Sched\+Sap\+User} $\ast$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+sched\+Sap\+User\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a950cb3e5f468debf1fa002171ff299f1}{}\label{classns3_1_1TtaFfMacScheduler_a950cb3e5f468debf1fa002171ff299f1}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+ue\+Cqi@{m\+\_\+ue\+Cqi}}
\index{m\+\_\+ue\+Cqi@{m\+\_\+ue\+Cqi}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Cqi}{m_ueCqi}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, std\+::vector$<$ double $>$ $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+ue\+Cqi\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}{}\label{classns3_1_1TtaFfMacScheduler_ac07e60af8c68f1cfac9b8666119af78f}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+ue\+Cqi\+Timers@{m\+\_\+ue\+Cqi\+Timers}}
\index{m\+\_\+ue\+Cqi\+Timers@{m\+\_\+ue\+Cqi\+Timers}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ue\+Cqi\+Timers}{m_ueCqiTimers}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint32\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+ue\+Cqi\+Timers\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_adb17b15e869d53e4244bf77f3f842f67}{}\label{classns3_1_1TtaFfMacScheduler_adb17b15e869d53e4244bf77f3f842f67}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+ues\+Tx\+Mode@{m\+\_\+ues\+Tx\+Mode}}
\index{m\+\_\+ues\+Tx\+Mode@{m\+\_\+ues\+Tx\+Mode}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ues\+Tx\+Mode}{m_uesTxMode}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+ues\+Tx\+Mode\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}{}\label{classns3_1_1TtaFfMacScheduler_af212e1d69d8cbe7785eaea3fb3161953}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Grant\+Mcs@{m\+\_\+ul\+Grant\+Mcs}}
\index{m\+\_\+ul\+Grant\+Mcs@{m\+\_\+ul\+Grant\+Mcs}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Grant\+Mcs}{m_ulGrantMcs}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Grant\+Mcs\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_af999ba34a23583421c6a34df08608e47}{}\label{classns3_1_1TtaFfMacScheduler_af999ba34a23583421c6a34df08608e47}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Current\+Process\+Id@{m\+\_\+ul\+Harq\+Current\+Process\+Id}}
\index{m\+\_\+ul\+Harq\+Current\+Process\+Id@{m\+\_\+ul\+Harq\+Current\+Process\+Id}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Current\+Process\+Id}{m_ulHarqCurrentProcessId}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, uint8\+\_\+t $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Current\+Process\+Id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}{}\label{classns3_1_1TtaFfMacScheduler_af8bd1675d63b73c0374a39180e1cbf54}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}}
\index{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer@{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer}{m_ulHarqProcessesDciBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Ul\+Harq\+Processes\+Dci\+Buffer\+\_\+t} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Processes\+Dci\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}{}\label{classns3_1_1TtaFfMacScheduler_a9ead4d91174d42d6995978358c08689e}
\index{ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}!m\+\_\+ul\+Harq\+Processes\+Status@{m\+\_\+ul\+Harq\+Processes\+Status}}
\index{m\+\_\+ul\+Harq\+Processes\+Status@{m\+\_\+ul\+Harq\+Processes\+Status}!ns3\+::\+Tta\+Ff\+Mac\+Scheduler@{ns3\+::\+Tta\+Ff\+Mac\+Scheduler}}
\subsubsection[{\texorpdfstring{m\+\_\+ul\+Harq\+Processes\+Status}{m_ulHarqProcessesStatus}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::map$<$ uint16\+\_\+t, {\bf Ul\+Harq\+Processes\+Status\+\_\+t} $>$ ns3\+::\+Tta\+Ff\+Mac\+Scheduler\+::m\+\_\+ul\+Harq\+Processes\+Status\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1TtaFfMacScheduler_a2c0bc82abe6c71b7e4d85b4caca2aaa6}{}\label{classns3_1_1TtaFfMacScheduler_a2c0bc82abe6c71b7e4d85b4caca2aaa6}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lte/model/\hyperlink{lte_2model_2tta-ff-mac-scheduler_8h}{tta-\/ff-\/mac-\/scheduler.\+h}\item 
lte/model/\hyperlink{lte_2model_2tta-ff-mac-scheduler_8cc}{tta-\/ff-\/mac-\/scheduler.\+cc}\end{DoxyCompactItemize}
