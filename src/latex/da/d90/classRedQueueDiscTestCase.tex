\hypertarget{classRedQueueDiscTestCase}{}\section{Red\+Queue\+Disc\+Test\+Case Class Reference}
\label{classRedQueueDiscTestCase}\index{Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}}


Red Queue Disc Test Case.  




Inheritance diagram for Red\+Queue\+Disc\+Test\+Case\+:
% FIG 0


Collaboration diagram for Red\+Queue\+Disc\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classRedQueueDiscTestCase_a16eaa48b802bf9db9edd207406a8523c}{Red\+Queue\+Disc\+Test\+Case} ()
\item 
virtual void \hyperlink{classRedQueueDiscTestCase_a08dbc0c7061ec2b845ebdfceba6d13dd}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{Enqueue} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1RedQueueDisc}{Red\+Queue\+Disc} $>$ queue, uint32\+\_\+t size, uint32\+\_\+t n\+Pkt, bool ecn\+Capable)
\item 
void \hyperlink{classRedQueueDiscTestCase_adde2745516d74c1565a72d1f4e8d0478}{Run\+Red\+Test} (String\+Value mode)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Red Queue Disc Test Case. 

\subsection{Constructor \& Destructor Documentation}
\index{Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}!Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}}
\index{Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}!Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Red\+Queue\+Disc\+Test\+Case()}{RedQueueDiscTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Red\+Queue\+Disc\+Test\+Case\+::\+Red\+Queue\+Disc\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classRedQueueDiscTestCase_a16eaa48b802bf9db9edd207406a8523c}{}\label{classRedQueueDiscTestCase_a16eaa48b802bf9db9edd207406a8523c}

\begin{DoxyCode}
124   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Sanity check on the red queue implementation"})
125 \{
126 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Red\+Queue\+Disc\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classRedQueueDiscTestCase_a08dbc0c7061ec2b845ebdfceba6d13dd}{}\label{classRedQueueDiscTestCase_a08dbc0c7061ec2b845ebdfceba6d13dd}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
438 \{
439   \hyperlink{classRedQueueDiscTestCase_adde2745516d74c1565a72d1f4e8d0478}{RunRedTest} (StringValue (\textcolor{stringliteral}{"QUEUE\_DISC\_MODE\_PACKETS"}));
440   \hyperlink{classRedQueueDiscTestCase_adde2745516d74c1565a72d1f4e8d0478}{RunRedTest} (StringValue (\textcolor{stringliteral}{"QUEUE\_DISC\_MODE\_BYTES"}));
441   Simulator::Destroy ();
442 
443 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2


\index{Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}!Enqueue@{Enqueue}}
\index{Enqueue@{Enqueue}!Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Enqueue(\+Ptr$<$ Red\+Queue\+Disc $>$ queue, uint32\+\_\+t size, uint32\+\_\+t n\+Pkt, bool ecn\+Capable)}{Enqueue(Ptr< RedQueueDisc > queue, uint32_t size, uint32_t nPkt, bool ecnCapable)}}]{\setlength{\rightskip}{0pt plus 5cm}void Red\+Queue\+Disc\+Test\+Case\+::\+Enqueue (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Red\+Queue\+Disc} $>$}]{queue, }
\item[{uint32\+\_\+t}]{size, }
\item[{uint32\+\_\+t}]{n\+Pkt, }
\item[{bool}]{ecn\+Capable}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{}\label{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}
Enqueue function 
\begin{DoxyParams}{Parameters}
{\em queue} & the queue disc \\
\hline
{\em size} & the size \\
\hline
{\em n\+Pkt} & the number of packets \\
\hline
{\em ecn\+Capable} & E\+CN capable flag \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
428 \{
429   \hyperlink{classns3_1_1Address}{Address} dest;
430   \textcolor{keywordflow}{for} (uint32\_t \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < nPkt; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
431     \{
432       queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<RedQueueDiscTestItem> (Create<Packet> (size), dest, 0, ecnCapable));
433     \}
434 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}!Run\+Red\+Test@{Run\+Red\+Test}}
\index{Run\+Red\+Test@{Run\+Red\+Test}!Red\+Queue\+Disc\+Test\+Case@{Red\+Queue\+Disc\+Test\+Case}}
\subsubsection[{\texorpdfstring{Run\+Red\+Test(\+String\+Value mode)}{RunRedTest(StringValue mode)}}]{\setlength{\rightskip}{0pt plus 5cm}void Red\+Queue\+Disc\+Test\+Case\+::\+Run\+Red\+Test (
\begin{DoxyParamCaption}
\item[{String\+Value}]{mode}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classRedQueueDiscTestCase_adde2745516d74c1565a72d1f4e8d0478}{}\label{classRedQueueDiscTestCase_adde2745516d74c1565a72d1f4e8d0478}
Run R\+ED test function 
\begin{DoxyParams}{Parameters}
{\em mode} & the mode \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
130 \{
131   uint32\_t pktSize = 0;
132   \textcolor{comment}{// 1 for packets; pktSize for bytes}
133   uint32\_t modeSize = 1;
134   \textcolor{keywordtype}{double} minTh = 2;
135   \textcolor{keywordtype}{double} maxTh = 5;
136   uint32\_t qSize = 8;
137   \hyperlink{classns3_1_1Ptr}{Ptr<RedQueueDisc>} queue = CreateObject<RedQueueDisc> ();
138 
139   \textcolor{comment}{// test 1: simple enqueue/dequeue with no drops}
140   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
141                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
142   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MinTh"}, 
      DoubleValue (minTh)), \textcolor{keyword}{true},
143                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MinTh"});
144   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MaxTh"}, 
      DoubleValue (maxTh)), \textcolor{keyword}{true},
145                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxTh"});
146   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
147                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
148   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QW"}, 
      DoubleValue (0.002)), \textcolor{keyword}{true},
149                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QW"});
150 
151   \hyperlink{classns3_1_1Address}{Address} dest;
152   
153   \textcolor{keywordflow}{if} (queue->\hyperlink{classns3_1_1RedQueueDisc_af1064caa1eee00041ebfb43bc6e25abc}{GetMode} () == RedQueueDisc::QUEUE\_DISC\_MODE\_BYTES)
154     \{
155       \textcolor{comment}{// pktSize should be same as MeanPktSize to avoid performance gap between byte and packet mode}
156       pktSize = 500;
157       modeSize = pktSize;
158       queue->\hyperlink{classns3_1_1RedQueueDisc_a1c5c1f25cda04d2b92254ff908715bdf}{SetTh} (minTh * modeSize, maxTh * modeSize);
159       queue->\hyperlink{classns3_1_1RedQueueDisc_ab5348f5a688d4dff0602654f79d87477}{SetQueueLimit} (qSize * modeSize);
160     \}
161 
162   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} p1, p2, p3, p4, p5, p6, p7, p8;
163   p1 = Create<Packet> (pktSize);
164   p2 = Create<Packet> (pktSize);
165   p3 = Create<Packet> (pktSize);
166   p4 = Create<Packet> (pktSize);
167   p5 = Create<Packet> (pktSize);
168   p6 = Create<Packet> (pktSize);
169   p7 = Create<Packet> (pktSize);
170   p8 = Create<Packet> (pktSize);
171 
172   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
173   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1RedQueueDisc_aa201a831b85c287a99d7a5e04455b463}{GetQueueSize} (), 0 * modeSize, \textcolor{stringliteral}{"There
       should be no packets in there"});
174   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<RedQueueDiscTestItem> (p1, dest, 0, \textcolor{keyword}{false}));
175   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1RedQueueDisc_aa201a831b85c287a99d7a5e04455b463}{GetQueueSize} (), 1 * modeSize, \textcolor{stringliteral}{"There
       should be one packet in there"});
176   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<RedQueueDiscTestItem> (p2, dest, 0, \textcolor{keyword}{false}));
177   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1RedQueueDisc_aa201a831b85c287a99d7a5e04455b463}{GetQueueSize} (), 2 * modeSize, \textcolor{stringliteral}{"There
       should be two packets in there"});
178   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<RedQueueDiscTestItem> (p3, dest, 0, \textcolor{keyword}{false}));
179   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<RedQueueDiscTestItem> (p4, dest, 0, \textcolor{keyword}{false}));
180   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<RedQueueDiscTestItem> (p5, dest, 0, \textcolor{keyword}{false}));
181   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<RedQueueDiscTestItem> (p6, dest, 0, \textcolor{keyword}{false}));
182   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<RedQueueDiscTestItem> (p7, dest, 0, \textcolor{keyword}{false}));
183   queue->\hyperlink{classns3_1_1QueueDisc_af452fb01b98fed312125163f1fe85431}{Enqueue} (Create<RedQueueDiscTestItem> (p8, dest, 0, \textcolor{keyword}{false}));
184   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1RedQueueDisc_aa201a831b85c287a99d7a5e04455b463}{GetQueueSize} (), 8 * modeSize, \textcolor{stringliteral}{"There
       should be eight packets in there"});
185 
186   \hyperlink{classns3_1_1Ptr}{Ptr<QueueDiscItem>} item;
187 
188   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
189   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((item != 0), \textcolor{keyword}{true}, \textcolor{stringliteral}{"I want to remove the first packet"});
190   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1RedQueueDisc_aa201a831b85c287a99d7a5e04455b463}{GetQueueSize} (), 7 * modeSize, \textcolor{stringliteral}{"There
       should be seven packets in there"});
191   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (item->GetPacket ()->GetUid (), p1->
      \hyperlink{classns3_1_1Packet_a1f212c825b50e54d94f5b9ae99592e6a}{GetUid} (), \textcolor{stringliteral}{"was this the first packet ?"});
192 
193   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
194   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((item != 0), \textcolor{keyword}{true}, \textcolor{stringliteral}{"I want to remove the second packet"});
195   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1RedQueueDisc_aa201a831b85c287a99d7a5e04455b463}{GetQueueSize} (), 6 * modeSize, \textcolor{stringliteral}{"There
       should be six packet in there"});
196   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (item->GetPacket ()->GetUid (), p2->GetUid (), \textcolor{stringliteral}{"Was this the
       second packet ?"});
197 
198   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
199   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((item != 0), \textcolor{keyword}{true}, \textcolor{stringliteral}{"I want to remove the third packet"});
200   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1RedQueueDisc_aa201a831b85c287a99d7a5e04455b463}{GetQueueSize} (), 5 * modeSize, \textcolor{stringliteral}{"There
       should be five packets in there"});
201   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (item->GetPacket ()->GetUid (), p3->GetUid (), \textcolor{stringliteral}{"Was this the
       third packet ?"});
202 
203   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
204   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
205   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
206   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
207   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
208 
209   item = queue->\hyperlink{classns3_1_1QueueDisc_a6c13fc489822c1487f61c2289f2e3629}{Dequeue} ();
210   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} ((item == 0), \textcolor{keyword}{true}, \textcolor{stringliteral}{"There are really no packets in there"});
211 
212 
213   \textcolor{comment}{// test 2: more data, but with no drops}
214   queue = CreateObject<RedQueueDisc> ();
215   minTh = 70 * modeSize;
216   maxTh = 150 * modeSize;
217   qSize = 300 * modeSize;
218   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
219                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
220   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MinTh"}, 
      DoubleValue (minTh)), \textcolor{keyword}{true},
221                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MinTh"});
222   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MaxTh"}, 
      DoubleValue (maxTh)), \textcolor{keyword}{true},
223                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxTh"});
224   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
225                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
226   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
227   \hyperlink{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{Enqueue} (queue, pktSize, 300, \textcolor{keyword}{false});
228   \hyperlink{structns3_1_1RedQueueDisc_1_1Stats}{RedQueueDisc::Stats} st = StaticCast<RedQueueDisc> (queue)->GetStats ();
229   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop}, 0, \textcolor{stringliteral}{"There should zero dropped
       packets due probability mark"});
230   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a56951fa215564c8d2e59aa046dc3e494}{forcedDrop}, 0, \textcolor{stringliteral}{"There should zero dropped
       packets due hardmark mark"});
231   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a2374b8b8386ad6e42435bf1b29109bad}{qLimDrop}, 0, \textcolor{stringliteral}{"There should zero dropped packets
       due queue full"});
232 
233   \textcolor{comment}{// save number of drops from tests}
234   \textcolor{keyword}{struct }\hyperlink{buildings__pathloss_8m_a9f9b934daed17a4d3613b6886ff4cf4b}{d} \{
235     uint32\_t test3;
236     uint32\_t test4;
237     uint32\_t test5;
238     uint32\_t test6;
239     uint32\_t test7;
240   \} drop;
241 
242 
243   \textcolor{comment}{// test 3: more data, now drops due QW change}
244   queue = CreateObject<RedQueueDisc> ();
245   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
246                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
247   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MinTh"}, 
      DoubleValue (minTh)), \textcolor{keyword}{true},
248                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MinTh"});
249   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MaxTh"}, 
      DoubleValue (maxTh)), \textcolor{keyword}{true},
250                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxTh"});
251   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
252                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
253   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QW"}, 
      DoubleValue (0.020)), \textcolor{keyword}{true},
254                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QW"});
255   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
256   \hyperlink{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{Enqueue} (queue, pktSize, 300, \textcolor{keyword}{false});
257   st = StaticCast<RedQueueDisc> (queue)->GetStats ();
258   drop.test3 = st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop} + st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a56951fa215564c8d2e59aa046dc3e494}{forcedDrop} + st.
      \hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a2374b8b8386ad6e42435bf1b29109bad}{qLimDrop};
259   \hyperlink{group__testing_ga6d4b162d26b8a930115b97dd5f3d9ed9}{NS\_TEST\_EXPECT\_MSG\_NE} (drop.test3, 0, \textcolor{stringliteral}{"There should be some dropped packets"});
260 
261 
262   \textcolor{comment}{// test 4: reduced maxTh, this causes more drops}
263   maxTh = 100 * modeSize;
264   queue = CreateObject<RedQueueDisc> ();
265   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
266                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
267   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MinTh"}, 
      DoubleValue (minTh)), \textcolor{keyword}{true},
268                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MinTh"});
269   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MaxTh"}, 
      DoubleValue (maxTh)), \textcolor{keyword}{true},
270                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxTh"});
271   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
272                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
273   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QW"}, 
      DoubleValue (0.020)), \textcolor{keyword}{true},
274                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QW"});
275   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
276   \hyperlink{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{Enqueue} (queue, pktSize, 300, \textcolor{keyword}{false});
277   st = StaticCast<RedQueueDisc> (queue)->GetStats ();
278   drop.test4 = st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop} + st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a56951fa215564c8d2e59aa046dc3e494}{forcedDrop} + st.
      \hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a2374b8b8386ad6e42435bf1b29109bad}{qLimDrop};
279   \hyperlink{group__testing_ga6ba43672d44c1e85acfb1daf2af66612}{NS\_TEST\_EXPECT\_MSG\_GT} (drop.test4, drop.test3, \textcolor{stringliteral}{"Test 4 should have more drops than
       test 3"});
280 
281 
282   \textcolor{comment}{// test 5: change drop probability to a high value (LInterm)}
283   maxTh = 150 * modeSize;
284   queue = CreateObject<RedQueueDisc> ();
285   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
286                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
287   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MinTh"}, 
      DoubleValue (minTh)), \textcolor{keyword}{true},
288                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MinTh"});
289   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MaxTh"}, 
      DoubleValue (maxTh)), \textcolor{keyword}{true},
290                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxTh"});
291   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
292                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
293   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QW"}, 
      DoubleValue (0.020)), \textcolor{keyword}{true},
294                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QW"});
295   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"LInterm"}, 
      DoubleValue (5)), \textcolor{keyword}{true},
296                          \textcolor{stringliteral}{"Verify that we can actually set the attribute LInterm"});
297   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
298   \hyperlink{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{Enqueue} (queue, pktSize, 300, \textcolor{keyword}{false});
299   st = StaticCast<RedQueueDisc> (queue)->GetStats ();
300   drop.test5 = st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop} + st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a56951fa215564c8d2e59aa046dc3e494}{forcedDrop} + st.
      \hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a2374b8b8386ad6e42435bf1b29109bad}{qLimDrop};
301   \hyperlink{group__testing_ga6ba43672d44c1e85acfb1daf2af66612}{NS\_TEST\_EXPECT\_MSG\_GT} (drop.test5, drop.test3, \textcolor{stringliteral}{"Test 5 should have more drops than
       test 3"});
302 
303 
304   \textcolor{comment}{// test 6: disable Gentle param}
305   queue = CreateObject<RedQueueDisc> ();
306   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
307                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
308   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MinTh"}, 
      DoubleValue (minTh)), \textcolor{keyword}{true},
309                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MinTh"});
310   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MaxTh"}, 
      DoubleValue (maxTh)), \textcolor{keyword}{true},
311                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxTh"});
312   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
313                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
314   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QW"}, 
      DoubleValue (0.020)), \textcolor{keyword}{true},
315                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QW"});
316   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Gentle"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false})), \textcolor{keyword}{true},
317                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Gentle"});
318   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
319   \hyperlink{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{Enqueue} (queue, pktSize, 300, \textcolor{keyword}{false});
320   st = StaticCast<RedQueueDisc> (queue)->GetStats ();
321   drop.test6 = st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop} + st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a56951fa215564c8d2e59aa046dc3e494}{forcedDrop} + st.
      \hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a2374b8b8386ad6e42435bf1b29109bad}{qLimDrop};
322   \hyperlink{group__testing_ga6ba43672d44c1e85acfb1daf2af66612}{NS\_TEST\_EXPECT\_MSG\_GT} (drop.test6, drop.test3, \textcolor{stringliteral}{"Test 6 should have more drops than
       test 3"});
323 
324 
325   \textcolor{comment}{// test 7: disable Wait param}
326   queue = CreateObject<RedQueueDisc> ();
327   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
328                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
329   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MinTh"}, 
      DoubleValue (minTh)), \textcolor{keyword}{true},
330                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MinTh"});
331   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MaxTh"}, 
      DoubleValue (maxTh)), \textcolor{keyword}{true},
332                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxTh"});
333   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
334                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
335   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QW"}, 
      DoubleValue (0.020)), \textcolor{keyword}{true},
336                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QW"});
337   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Wait"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false})), \textcolor{keyword}{true},
338                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Wait"});
339   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
340   \hyperlink{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{Enqueue} (queue, pktSize, 300, \textcolor{keyword}{false});
341   st = StaticCast<RedQueueDisc> (queue)->GetStats ();
342   drop.test7 = st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop} + st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a56951fa215564c8d2e59aa046dc3e494}{forcedDrop} + st.
      \hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a2374b8b8386ad6e42435bf1b29109bad}{qLimDrop};
343   \hyperlink{group__testing_ga6ba43672d44c1e85acfb1daf2af66612}{NS\_TEST\_EXPECT\_MSG\_GT} (drop.test7, drop.test3, \textcolor{stringliteral}{"Test 7 should have more drops than
       test 3"});
344 
345 
346   \textcolor{comment}{// test 8: RED queue disc is ECN enabled, but packets are not ECN capable}
347   queue = CreateObject<RedQueueDisc> ();
348   minTh = 30 * modeSize;
349   maxTh = 90 * modeSize;
350   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
351                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
352   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MinTh"}, 
      DoubleValue (minTh)), \textcolor{keyword}{true},
353                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MinTh"});
354   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MaxTh"}, 
      DoubleValue (maxTh)), \textcolor{keyword}{true},
355                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxTh"});
356   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
357                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
358   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QW"}, 
      DoubleValue (0.002)), \textcolor{keyword}{true},
359                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QW"});
360   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"LInterm"}, 
      DoubleValue (2)), \textcolor{keyword}{true},
361                          \textcolor{stringliteral}{"Verify that we can actually set the attribute LInterm"});
362   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Gentle"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true})), \textcolor{keyword}{true},
363                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Gentle"});
364   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"UseEcn"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true})), \textcolor{keyword}{true},
365                          \textcolor{stringliteral}{"Verify that we can actually set the attribute UseECN"});
366   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
367   \hyperlink{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{Enqueue} (queue, pktSize, 300, \textcolor{keyword}{false});
368   st = StaticCast<RedQueueDisc> (queue)->GetStats ();
369   \textcolor{comment}{// Packets are not ECN capable, so there should be only unforced drops, no unforced marks}
370   \hyperlink{group__testing_ga6d4b162d26b8a930115b97dd5f3d9ed9}{NS\_TEST\_EXPECT\_MSG\_NE} (st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop}, 0, \textcolor{stringliteral}{"There should be some
       unforced drops"});
371   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_aa974fb3ee97c612e0a6d77259a3672df}{unforcedMark}, 0, \textcolor{stringliteral}{"There should be no unforced
       marks"});
372 
373 
374   \textcolor{comment}{// test 9: Packets are ECN capable, but RED queue disc is not ECN enabled}
375   queue = CreateObject<RedQueueDisc> ();
376   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
377                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
378   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MinTh"}, 
      DoubleValue (minTh)), \textcolor{keyword}{true},
379                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MinTh"});
380   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MaxTh"}, 
      DoubleValue (maxTh)), \textcolor{keyword}{true},
381                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxTh"});
382   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
383                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
384   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QW"}, 
      DoubleValue (0.002)), \textcolor{keyword}{true},
385                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QW"});
386   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"LInterm"}, 
      DoubleValue (2)), \textcolor{keyword}{true},
387                          \textcolor{stringliteral}{"Verify that we can actually set the attribute LInterm"});
388   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Gentle"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true})), \textcolor{keyword}{true},
389                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Gentle"});
390   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"UseEcn"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{false})), \textcolor{keyword}{true},
391                          \textcolor{stringliteral}{"Verify that we can actually set the attribute UseECN"});
392   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
393   \hyperlink{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{Enqueue} (queue, pktSize, 300, \textcolor{keyword}{true});
394   st = StaticCast<RedQueueDisc> (queue)->GetStats ();
395   \textcolor{comment}{// RED queue disc is not ECN enabled, so there should be only unforced drops, no unforced marks}
396   \hyperlink{group__testing_ga6d4b162d26b8a930115b97dd5f3d9ed9}{NS\_TEST\_EXPECT\_MSG\_NE} (st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop}, 0, \textcolor{stringliteral}{"There should be some
       unforced drops"});
397   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_aa974fb3ee97c612e0a6d77259a3672df}{unforcedMark}, 0, \textcolor{stringliteral}{"There should be no unforced
       marks"});
398 
399 
400   \textcolor{comment}{// test 10: Packets are ECN capable and RED queue disc is ECN enabled}
401   queue = CreateObject<RedQueueDisc> ();
402   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Mode"}, mode
      ), \textcolor{keyword}{true},
403                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Mode"});
404   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MinTh"}, 
      DoubleValue (minTh)), \textcolor{keyword}{true},
405                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MinTh"});
406   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"MaxTh"}, 
      DoubleValue (maxTh)), \textcolor{keyword}{true},
407                          \textcolor{stringliteral}{"Verify that we can actually set the attribute MaxTh"});
408   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QueueLimit"}
      , UintegerValue (qSize)), \textcolor{keyword}{true},
409                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QueueLimit"});
410   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"QW"}, 
      DoubleValue (0.002)), \textcolor{keyword}{true},
411                          \textcolor{stringliteral}{"Verify that we can actually set the attribute QW"});
412   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"LInterm"}, 
      DoubleValue (2)), \textcolor{keyword}{true},
413                          \textcolor{stringliteral}{"Verify that we can actually set the attribute LInterm"});
414   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"Gentle"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true})), \textcolor{keyword}{true},
415                          \textcolor{stringliteral}{"Verify that we can actually set the attribute Gentle"});
416   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (queue->\hyperlink{classns3_1_1ObjectBase_aa7d333004e970f925a4ed5df275541b5}{SetAttributeFailSafe} (\textcolor{stringliteral}{"UseEcn"}, 
      \hyperlink{classns3_1_1BooleanValue}{BooleanValue} (\textcolor{keyword}{true})), \textcolor{keyword}{true},
417                          \textcolor{stringliteral}{"Verify that we can actually set the attribute UseECN"});
418   queue->\hyperlink{classns3_1_1Object_af4411cb29971772fcd09203474a95078}{Initialize} ();
419   \hyperlink{classRedQueueDiscTestCase_a231b433374e4485d83bcca3088685e31}{Enqueue} (queue, pktSize, 300, \textcolor{keyword}{true});
420   st = StaticCast<RedQueueDisc> (queue)->GetStats ();
421   \textcolor{comment}{// Packets are ECN capable, RED queue disc is ECN enabled; there should be only unforced marks, no
       unforced drops}
422   \hyperlink{group__testing_ga7304ba46a28d8cf08dfdfd6499cf7068}{NS\_TEST\_EXPECT\_MSG\_EQ} (st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_a242027f6eb7d30e2cd636c52080e2c73}{unforcedDrop}, 0, \textcolor{stringliteral}{"There should be no unforced
       drops"});
423   \hyperlink{group__testing_ga6d4b162d26b8a930115b97dd5f3d9ed9}{NS\_TEST\_EXPECT\_MSG\_NE} (st.\hyperlink{structns3_1_1RedQueueDisc_1_1Stats_aa974fb3ee97c612e0a6d77259a3672df}{unforcedMark}, 0, \textcolor{stringliteral}{"There should be some
       unforced marks"});
424 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6




The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
traffic-\/control/test/\hyperlink{red-queue-disc-test-suite_8cc}{red-\/queue-\/disc-\/test-\/suite.\+cc}\end{DoxyCompactItemize}
