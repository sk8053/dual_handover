\hypertarget{classns3_1_1MsduAggregator}{}\section{ns3\+:\+:Msdu\+Aggregator Class Reference}
\label{classns3_1_1MsduAggregator}\index{ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}}


Abstract class that concrete msdu aggregators have to implement.  




{\ttfamily \#include $<$msdu-\/aggregator.\+h$>$}



Inheritance diagram for ns3\+:\+:Msdu\+Aggregator\+:
% FIG 0


Collaboration diagram for ns3\+:\+:Msdu\+Aggregator\+:
% FIG 1
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ std\+::pair$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$, \hyperlink{classns3_1_1AmsduSubframeHeader}{Amsdu\+Subframe\+Header} $>$ $>$ \hyperlink{classns3_1_1MsduAggregator_a9ca3d84483249fae3dffc35bcc98bb11}{Deaggregated\+Msdus}
\begin{DoxyCompactList}\small\item\em Deaggregated\+Msdus typedef. \end{DoxyCompactList}\item 
typedef \hyperlink{openflow-interface_8h_afd9bcfa176617760671b67580f536fa7}{std\+::list}$<$ std\+::pair$<$ \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$, \hyperlink{classns3_1_1AmsduSubframeHeader}{Amsdu\+Subframe\+Header} $>$ $>$\+::const\+\_\+iterator \hyperlink{classns3_1_1MsduAggregator_a6cc0e0e5681fa47009e6ff74d15f1656}{Deaggregated\+Msdus\+CI}
\begin{DoxyCompactList}\small\item\em Deaggregated\+Msdus\+CI typedef. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classns3_1_1MsduAggregator_a8b2951e80cae44b42bf17bfc4ba81acd}{Set\+Max\+Amsdu\+Size} (uint32\+\_\+t max\+Size)=0
\item 
virtual uint32\+\_\+t \hyperlink{classns3_1_1MsduAggregator_ab1f0da0f2e5e6c6af6940ee90cd0f7ed}{Get\+Max\+Amsdu\+Size} (void) const =0
\item 
virtual bool \hyperlink{classns3_1_1MsduAggregator_a7eb8e17d5852eeb1d1499795a4696f19}{Aggregate} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ const \hyperlink{classns3_1_1Packet}{Packet} $>$ packet, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ aggregated\+Packet, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} src, \hyperlink{classns3_1_1Mac48Address}{Mac48\+Address} dest) const =0
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classns3_1_1TypeId}{Type\+Id} \hyperlink{classns3_1_1MsduAggregator_a53f915825ca321168464433fb37af9a1}{Get\+Type\+Id} (void)
\begin{DoxyCompactList}\small\item\em Get the type ID. \end{DoxyCompactList}\item 
static \hyperlink{classns3_1_1MsduAggregator_a9ca3d84483249fae3dffc35bcc98bb11}{Deaggregated\+Msdus} \hyperlink{classns3_1_1MsduAggregator_a5fbab40dc4a2b4b8ff94508ca7c988fc}{Deaggregate} (\hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ aggregated\+Packet)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Abstract class that concrete msdu aggregators have to implement. 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}!Deaggregated\+Msdus@{Deaggregated\+Msdus}}
\index{Deaggregated\+Msdus@{Deaggregated\+Msdus}!ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}}
\subsubsection[{\texorpdfstring{Deaggregated\+Msdus}{DeaggregatedMsdus}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf std\+::list}$<$std\+::pair$<${\bf Ptr}$<${\bf Packet}$>$, {\bf Amsdu\+Subframe\+Header}$>$ $>$ {\bf ns3\+::\+Msdu\+Aggregator\+::\+Deaggregated\+Msdus}}\hypertarget{classns3_1_1MsduAggregator_a9ca3d84483249fae3dffc35bcc98bb11}{}\label{classns3_1_1MsduAggregator_a9ca3d84483249fae3dffc35bcc98bb11}


Deaggregated\+Msdus typedef. 

\index{ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}!Deaggregated\+Msdus\+CI@{Deaggregated\+Msdus\+CI}}
\index{Deaggregated\+Msdus\+CI@{Deaggregated\+Msdus\+CI}!ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}}
\subsubsection[{\texorpdfstring{Deaggregated\+Msdus\+CI}{DeaggregatedMsdusCI}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf std\+::list}$<$std\+::pair$<${\bf Ptr}$<${\bf Packet}$>$, {\bf Amsdu\+Subframe\+Header}$>$ $>$\+::const\+\_\+iterator {\bf ns3\+::\+Msdu\+Aggregator\+::\+Deaggregated\+Msdus\+CI}}\hypertarget{classns3_1_1MsduAggregator_a6cc0e0e5681fa47009e6ff74d15f1656}{}\label{classns3_1_1MsduAggregator_a6cc0e0e5681fa47009e6ff74d15f1656}


Deaggregated\+Msdus\+CI typedef. 



\subsection{Member Function Documentation}
\index{ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}!Aggregate@{Aggregate}}
\index{Aggregate@{Aggregate}!ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}}
\subsubsection[{\texorpdfstring{Aggregate(\+Ptr$<$ const Packet $>$ packet, Ptr$<$ Packet $>$ aggregated\+Packet, Mac48\+Address src, Mac48\+Address dest) const =0}{Aggregate(Ptr< const Packet > packet, Ptr< Packet > aggregatedPacket, Mac48Address src, Mac48Address dest) const =0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual bool ns3\+::\+Msdu\+Aggregator\+::\+Aggregate (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ const {\bf Packet} $>$}]{packet, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{aggregated\+Packet, }
\item[{{\bf Mac48\+Address}}]{src, }
\item[{{\bf Mac48\+Address}}]{dest}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1MsduAggregator_a7eb8e17d5852eeb1d1499795a4696f19}{}\label{classns3_1_1MsduAggregator_a7eb8e17d5852eeb1d1499795a4696f19}
Adds {\itshape packet} to {\itshape aggregated\+Packet}. In concrete aggregator\textquotesingle{}s implementation is specified how and if {\itshape packet} can be added to {\itshape aggregated\+Packet}. If {\itshape packet} can be added returns true, false otherwise.


\begin{DoxyParams}{Parameters}
{\em packet} & the packet. \\
\hline
{\em aggregated\+Packet} & the aggregated packet. \\
\hline
{\em src} & the source address. \\
\hline
{\em dest} & the destination address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successful. 
\end{DoxyReturn}


Implemented in \hyperlink{classns3_1_1MsduStandardAggregator_aab2f9fee332931c68aa8d13869a62275}{ns3\+::\+Msdu\+Standard\+Aggregator}.



Here is the caller graph for this function\+:
% FIG 2


\index{ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}!Deaggregate@{Deaggregate}}
\index{Deaggregate@{Deaggregate}!ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}}
\subsubsection[{\texorpdfstring{Deaggregate(\+Ptr$<$ Packet $>$ aggregated\+Packet)}{Deaggregate(Ptr< Packet > aggregatedPacket)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Msdu\+Aggregator\+::\+Deaggregated\+Msdus} ns3\+::\+Msdu\+Aggregator\+::\+Deaggregate (
\begin{DoxyParamCaption}
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{aggregated\+Packet}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1MsduAggregator_a5fbab40dc4a2b4b8ff94508ca7c988fc}{}\label{classns3_1_1MsduAggregator_a5fbab40dc4a2b4b8ff94508ca7c988fc}

\begin{DoxyParams}{Parameters}
{\em aggregated\+Packet} & the aggregated packet. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Deaggregated\+Msdus. 
\end{DoxyReturn}

\begin{DoxyCode}
42 \{
43   \hyperlink{log-macros-disabled_8h_a8f7e4afc291c9d29a65c18ac1f79197b}{NS\_LOG\_FUNCTION\_NOARGS} ();
44   \hyperlink{classns3_1_1MsduAggregator_a9ca3d84483249fae3dffc35bcc98bb11}{DeaggregatedMsdus} \textcolor{keyword}{set};
45 
46   AmsduSubframeHeader hdr;
47   Ptr<Packet> extractedMsdu = Create<Packet> ();
48   uint32\_t maxSize = aggregatedPacket->\hyperlink{classns3_1_1Packet_a462855c9929954d4301a4edfe55f4f1c}{GetSize} ();
49   uint16\_t extractedLength;
50   uint32\_t padding;
51   uint32\_t deserialized = 0;
52 
53   \textcolor{keywordflow}{while} (deserialized < maxSize)
54     \{
55       deserialized += aggregatedPacket->\hyperlink{classns3_1_1Packet_a0961eccf975d75f902d40956c93ba63e}{RemoveHeader} (hdr);
56       extractedLength = hdr.GetLength ();
57       extractedMsdu = aggregatedPacket->\hyperlink{classns3_1_1Packet_a16f6113606b355b2b346e2245fa2a3d0}{CreateFragment} (0, static\_cast<uint32\_t> (
      extractedLength));
58       aggregatedPacket->\hyperlink{classns3_1_1Packet_a78aa207e7921dd2f9f7e0d0b7a1c730a}{RemoveAtStart} (extractedLength);
59       deserialized += extractedLength;
60 
61       padding = (4 - ((extractedLength + 14) % 4 )) % 4;
62 
63       \textcolor{keywordflow}{if} (padding > 0 && deserialized < maxSize)
64         \{
65           aggregatedPacket->\hyperlink{classns3_1_1Packet_a78aa207e7921dd2f9f7e0d0b7a1c730a}{RemoveAtStart} (padding);
66           deserialized += padding;
67         \}
68 
69       std::pair<Ptr<Packet>, AmsduSubframeHeader> packetHdr (extractedMsdu, hdr);
70       \textcolor{keyword}{set}.push\_back (packetHdr);
71     \}
72   \hyperlink{group__logging_gafbd73ee2cf9f26b319f49086d8e860fb}{NS\_LOG\_INFO} (\textcolor{stringliteral}{"Deaggreated A-MSDU: extracted "} << \textcolor{keyword}{set}.size () << \textcolor{stringliteral}{" MSDUs"});
73   \textcolor{keywordflow}{return} \textcolor{keyword}{set};
74 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3




Here is the caller graph for this function\+:
% FIG 4


\index{ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}!Get\+Max\+Amsdu\+Size@{Get\+Max\+Amsdu\+Size}}
\index{Get\+Max\+Amsdu\+Size@{Get\+Max\+Amsdu\+Size}!ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}}
\subsubsection[{\texorpdfstring{Get\+Max\+Amsdu\+Size(void) const =0}{GetMaxAmsduSize(void) const =0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual uint32\+\_\+t ns3\+::\+Msdu\+Aggregator\+::\+Get\+Max\+Amsdu\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1MsduAggregator_ab1f0da0f2e5e6c6af6940ee90cd0f7ed}{}\label{classns3_1_1MsduAggregator_ab1f0da0f2e5e6c6af6940ee90cd0f7ed}
Returns the maximum A-\/\+M\+S\+DU size in bytes. Value 0 means that M\+S\+DU aggregation is disabled.

\begin{DoxyReturn}{Returns}
the maximum A-\/\+M\+S\+DU size in bytes. 
\end{DoxyReturn}


Implemented in \hyperlink{classns3_1_1MsduStandardAggregator_a8bbf645ef0cbd953c0c58fa84ebe94ae}{ns3\+::\+Msdu\+Standard\+Aggregator}.

\index{ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}!Get\+Type\+Id@{Get\+Type\+Id}}
\index{Get\+Type\+Id@{Get\+Type\+Id}!ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}}
\subsubsection[{\texorpdfstring{Get\+Type\+Id(void)}{GetTypeId(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Type\+Id} ns3\+::\+Msdu\+Aggregator\+::\+Get\+Type\+Id (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classns3_1_1MsduAggregator_a53f915825ca321168464433fb37af9a1}{}\label{classns3_1_1MsduAggregator_a53f915825ca321168464433fb37af9a1}


Get the type ID. 

\begin{DoxyReturn}{Returns}
the object \hyperlink{classns3_1_1TypeId}{Type\+Id} 
\end{DoxyReturn}

\begin{DoxyCode}
32 \{
33   \textcolor{keyword}{static} TypeId tid = TypeId (\textcolor{stringliteral}{"ns3::MsduAggregator"})
34     .SetParent<\hyperlink{classns3_1_1Object_a40860402e64d8008fb42329df7097cdb}{Object}> ()
35     .SetGroupName (\textcolor{stringliteral}{"Wifi"})
36   ;
37   \textcolor{keywordflow}{return} tid;
38 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5


\index{ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}!Set\+Max\+Amsdu\+Size@{Set\+Max\+Amsdu\+Size}}
\index{Set\+Max\+Amsdu\+Size@{Set\+Max\+Amsdu\+Size}!ns3\+::\+Msdu\+Aggregator@{ns3\+::\+Msdu\+Aggregator}}
\subsubsection[{\texorpdfstring{Set\+Max\+Amsdu\+Size(uint32\+\_\+t max\+Size)=0}{SetMaxAmsduSize(uint32_t maxSize)=0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ns3\+::\+Msdu\+Aggregator\+::\+Set\+Max\+Amsdu\+Size (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{max\+Size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}\hypertarget{classns3_1_1MsduAggregator_a8b2951e80cae44b42bf17bfc4ba81acd}{}\label{classns3_1_1MsduAggregator_a8b2951e80cae44b42bf17bfc4ba81acd}
Sets the maximum A-\/\+M\+S\+DU size in bytes. Value 0 means that M\+S\+DU aggregation is disabled.


\begin{DoxyParams}{Parameters}
{\em max\+Size} & the maximum A-\/\+M\+S\+DU size in bytes. \\
\hline
\end{DoxyParams}


Implemented in \hyperlink{classns3_1_1MsduStandardAggregator_a245efacf801f754510e3ce1d86c9478b}{ns3\+::\+Msdu\+Standard\+Aggregator}.



Here is the caller graph for this function\+:
% FIG 6




The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
wifi/model/\hyperlink{msdu-aggregator_8h}{msdu-\/aggregator.\+h}\item 
wifi/model/\hyperlink{msdu-aggregator_8cc}{msdu-\/aggregator.\+cc}\end{DoxyCompactItemize}
