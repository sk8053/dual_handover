\hypertarget{classLrWpanErrorDistanceTestCase}{}\section{Lr\+Wpan\+Error\+Distance\+Test\+Case Class Reference}
\label{classLrWpanErrorDistanceTestCase}\index{Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}}


Lr\+Wpan Error Vs Distance Test.  




Inheritance diagram for Lr\+Wpan\+Error\+Distance\+Test\+Case\+:
% FIG 0


Collaboration diagram for Lr\+Wpan\+Error\+Distance\+Test\+Case\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLrWpanErrorDistanceTestCase_a21702f4e4fd4ba26895c17c90a9052d5}{Lr\+Wpan\+Error\+Distance\+Test\+Case} ()
\item 
virtual \hyperlink{classLrWpanErrorDistanceTestCase_a125658df549c6adf0c53395b37087d8b}{$\sim$\+Lr\+Wpan\+Error\+Distance\+Test\+Case} ()
\item 
uint32\+\_\+t \hyperlink{classLrWpanErrorDistanceTestCase_af16058b19d3686a1fa8684f26339f3be}{Get\+Received} (void) const 
\begin{DoxyCompactList}\small\item\em Get the number of received packets. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classLrWpanErrorDistanceTestCase_a4f63a2ed4dcf517ae2a593497774b254}{Do\+Run} (void)
\begin{DoxyCompactList}\small\item\em Implementation to actually run this Test\+Case. \end{DoxyCompactList}\item 
void \hyperlink{classLrWpanErrorDistanceTestCase_a0d940a7a4e02c258c1c9613b8b791907}{Callback} (\hyperlink{structns3_1_1McpsDataIndicationParams}{Mcps\+Data\+Indication\+Params} params, \hyperlink{classns3_1_1Ptr}{Ptr}$<$ \hyperlink{classns3_1_1Packet}{Packet} $>$ \hyperlink{lte__link__budget__x2__handover__measures_8m_ac9de518908a968428863f829398a4e62}{p})
\begin{DoxyCompactList}\small\item\em Function to be called when a packet is received. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classLrWpanErrorDistanceTestCase_a771226176fd530cfac26cbc016405f93}{m\+\_\+received}
\begin{DoxyCompactList}\small\item\em The number of received packets. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Lr\+Wpan Error Vs Distance Test. 

\subsection{Constructor \& Destructor Documentation}
\index{Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}!Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}}
\index{Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}!Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}}
\subsubsection[{\texorpdfstring{Lr\+Wpan\+Error\+Distance\+Test\+Case()}{LrWpanErrorDistanceTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Lr\+Wpan\+Error\+Distance\+Test\+Case\+::\+Lr\+Wpan\+Error\+Distance\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classLrWpanErrorDistanceTestCase_a21702f4e4fd4ba26895c17c90a9052d5}{}\label{classLrWpanErrorDistanceTestCase_a21702f4e4fd4ba26895c17c90a9052d5}

\begin{DoxyCode}
90   : \hyperlink{classns3_1_1TestCase_a3b0b91a96aac1933e8d146e019b9e207}{TestCase} (\textcolor{stringliteral}{"Test the 802.15.4 error model vs distance"}),
91     \hyperlink{classLrWpanErrorDistanceTestCase_a771226176fd530cfac26cbc016405f93}{m\_received} (0)
92 \{
93 \}
\end{DoxyCode}
\index{Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}!````~Lr\+Wpan\+Error\+Distance\+Test\+Case@{$\sim$\+Lr\+Wpan\+Error\+Distance\+Test\+Case}}
\index{````~Lr\+Wpan\+Error\+Distance\+Test\+Case@{$\sim$\+Lr\+Wpan\+Error\+Distance\+Test\+Case}!Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}}
\subsubsection[{\texorpdfstring{$\sim$\+Lr\+Wpan\+Error\+Distance\+Test\+Case()}{~LrWpanErrorDistanceTestCase()}}]{\setlength{\rightskip}{0pt plus 5cm}Lr\+Wpan\+Error\+Distance\+Test\+Case\+::$\sim$\+Lr\+Wpan\+Error\+Distance\+Test\+Case (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{classLrWpanErrorDistanceTestCase_a125658df549c6adf0c53395b37087d8b}{}\label{classLrWpanErrorDistanceTestCase_a125658df549c6adf0c53395b37087d8b}

\begin{DoxyCode}
96 \{
97 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}!Callback@{Callback}}
\index{Callback@{Callback}!Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}}
\subsubsection[{\texorpdfstring{Callback(\+Mcps\+Data\+Indication\+Params params, Ptr$<$ Packet $>$ p)}{Callback(McpsDataIndicationParams params, Ptr< Packet > p)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lr\+Wpan\+Error\+Distance\+Test\+Case\+::\+Callback (
\begin{DoxyParamCaption}
\item[{{\bf Mcps\+Data\+Indication\+Params}}]{params, }
\item[{{\bf Ptr}$<$ {\bf Packet} $>$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLrWpanErrorDistanceTestCase_a0d940a7a4e02c258c1c9613b8b791907}{}\label{classLrWpanErrorDistanceTestCase_a0d940a7a4e02c258c1c9613b8b791907}


Function to be called when a packet is received. 


\begin{DoxyParams}{Parameters}
{\em params} & M\+C\+PS params. \\
\hline
{\em p} & The packet. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
101 \{
102   \hyperlink{classLrWpanErrorDistanceTestCase_a771226176fd530cfac26cbc016405f93}{m\_received}++;
103 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 2


\index{Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}!Do\+Run@{Do\+Run}}
\index{Do\+Run@{Do\+Run}!Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}}
\subsubsection[{\texorpdfstring{Do\+Run(void)}{DoRun(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void Lr\+Wpan\+Error\+Distance\+Test\+Case\+::\+Do\+Run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}\hypertarget{classLrWpanErrorDistanceTestCase_a4f63a2ed4dcf517ae2a593497774b254}{}\label{classLrWpanErrorDistanceTestCase_a4f63a2ed4dcf517ae2a593497774b254}


Implementation to actually run this Test\+Case. 

Subclasses should override this method to conduct their tests. 

Implements \hyperlink{classns3_1_1TestCase_a8ff74680cf017ed42011e4be51917a24}{ns3\+::\+Test\+Case}.


\begin{DoxyCode}
107 \{
108   \textcolor{comment}{// Set the random seed and run number for this test}
109   RngSeedManager::SetSeed (1);
110   RngSeedManager::SetRun (6);
111 
112   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} n0 = CreateObject <Node> ();
113   \hyperlink{classns3_1_1Ptr}{Ptr<Node>} n1 = CreateObject <Node> ();
114   \hyperlink{classns3_1_1Ptr}{Ptr<LrWpanNetDevice>} dev0 = CreateObject<LrWpanNetDevice> ();
115   \hyperlink{classns3_1_1Ptr}{Ptr<LrWpanNetDevice>} dev1 = CreateObject<LrWpanNetDevice> ();
116 
117   \textcolor{comment}{// Make random variable stream assignment deterministic}
118   dev0->AssignStreams (0);
119   dev1->AssignStreams (10);
120 
121   dev0->SetAddress (\hyperlink{classns3_1_1Mac16Address}{Mac16Address} (\textcolor{stringliteral}{"00:01"}));
122   dev1->SetAddress (\hyperlink{classns3_1_1Mac16Address}{Mac16Address} (\textcolor{stringliteral}{"00:02"}));
123   \hyperlink{classns3_1_1Ptr}{Ptr<SingleModelSpectrumChannel>} channel = 
      CreateObject<SingleModelSpectrumChannel> ();
124   \hyperlink{classns3_1_1Ptr}{Ptr<LogDistancePropagationLossModel>} model = 
      CreateObject<LogDistancePropagationLossModel> ();
125   channel->\hyperlink{classns3_1_1SingleModelSpectrumChannel_a3d8c68e54e0e7659fdf715260d5613ac}{AddPropagationLossModel} (model);
126   dev0->SetChannel (channel);
127   dev1->SetChannel (channel);
128   n0->\hyperlink{classns3_1_1Node_a42ff83ee1d5d1649c770d3f5b62375de}{AddDevice} (dev0);
129   n1->AddDevice (dev1);
130   \hyperlink{classns3_1_1Ptr}{Ptr<ConstantPositionMobilityModel>} mob0 = 
      CreateObject<ConstantPositionMobilityModel> ();
131   dev0->GetPhy ()->SetMobility (mob0);
132   \hyperlink{classns3_1_1Ptr}{Ptr<ConstantPositionMobilityModel>} mob1 = 
      CreateObject<ConstantPositionMobilityModel> ();
133   dev1->GetPhy ()->SetMobility (mob1);
134 
135   \hyperlink{classns3_1_1Callback}{McpsDataIndicationCallback} cb0;
136   cb0 = \hyperlink{group__makecallbackmemptr_ga9376283685aa99d204048d6a4b7610a4}{MakeCallback} (&\hyperlink{classLrWpanErrorDistanceTestCase_a0d940a7a4e02c258c1c9613b8b791907}{LrWpanErrorDistanceTestCase::Callback}
      , \textcolor{keyword}{this});
137   dev1->GetMac ()->SetMcpsDataIndicationCallback (cb0);
138 
139   \hyperlink{structns3_1_1McpsDataRequestParams}{McpsDataRequestParams} params;
140   params.\hyperlink{structns3_1_1McpsDataRequestParams_a31f4c281d07cf3b5992d45416bd71309}{m\_srcAddrMode} = \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba7bf58267dde39bdabfeeb5793450c5e3}{SHORT\_ADDR};
141   params.\hyperlink{structns3_1_1McpsDataRequestParams_a5c5e8dd4d08bfcd24de430d38ea7cd78}{m\_dstAddrMode} = \hyperlink{group__lr-wpan_gga9ea4702ab11d5329e1593afebce06bbba7bf58267dde39bdabfeeb5793450c5e3}{SHORT\_ADDR};
142   params.\hyperlink{structns3_1_1McpsDataRequestParams_a6695c180dec55fbd39f883052040e003}{m\_dstPanId} = 0;
143   params.\hyperlink{structns3_1_1McpsDataRequestParams_a68e918ac117d0fe43d6b9541ae4347c5}{m\_dstAddr} = \hyperlink{classns3_1_1Mac16Address}{Mac16Address} (\textcolor{stringliteral}{"00:02"});
144   params.\hyperlink{structns3_1_1McpsDataRequestParams_a90a54f9a082876ebe872538c8b1ce6bc}{m\_msduHandle} = 0;
145   params.\hyperlink{structns3_1_1McpsDataRequestParams_ad20ec674a277222812523b3ebbc18d4c}{m\_txOptions} = 0;
146 
147   \hyperlink{classns3_1_1Ptr}{Ptr<Packet>} \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p};
148   mob0->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (0,0,0));
149   mob1->\hyperlink{classns3_1_1MobilityModel_ac584b3d5a309709d2f13ed6ada1e7640}{SetPosition} (Vector (100,0,0));
150   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = 0; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} < 1000; \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}++)
151     \{
152       p = Create<Packet> (20);
153       Simulator::Schedule (\hyperlink{group__timecivil_ga33c34b816f8ff6628e33d5c8e9713b9e}{Seconds} (\hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i}),
154                            &LrWpanMac::McpsDataRequest,
155                            dev0->GetMac (), params, \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p});
156     \}
157 
158   Simulator::Run ();
159 
160   \textcolor{comment}{// Test that we received 977 packets out of 1000, at distance of 100 m}
161   \textcolor{comment}{// with default power of 0}
162   \hyperlink{group__testing_ga2a9d78cffb3db8e867c35fff0b698cf5}{NS\_TEST\_ASSERT\_MSG\_EQ} (\hyperlink{classLrWpanErrorDistanceTestCase_af16058b19d3686a1fa8684f26339f3be}{GetReceived} (), 977, \textcolor{stringliteral}{"Model fails"});
163 
164   Simulator::Destroy ();
165 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 3


\index{Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}!Get\+Received@{Get\+Received}}
\index{Get\+Received@{Get\+Received}!Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}}
\subsubsection[{\texorpdfstring{Get\+Received(void) const }{GetReceived(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Lr\+Wpan\+Error\+Distance\+Test\+Case\+::\+Get\+Received (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classLrWpanErrorDistanceTestCase_af16058b19d3686a1fa8684f26339f3be}{}\label{classLrWpanErrorDistanceTestCase_af16058b19d3686a1fa8684f26339f3be}


Get the number of received packets. 

\begin{DoxyReturn}{Returns}
The number of received packets. 
\end{DoxyReturn}

\begin{DoxyCode}
57   \{
58     \textcolor{keywordflow}{return} \hyperlink{classLrWpanErrorDistanceTestCase_a771226176fd530cfac26cbc016405f93}{m\_received};
59   \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 4




\subsection{Member Data Documentation}
\index{Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}!m\+\_\+received@{m\+\_\+received}}
\index{m\+\_\+received@{m\+\_\+received}!Lr\+Wpan\+Error\+Distance\+Test\+Case@{Lr\+Wpan\+Error\+Distance\+Test\+Case}}
\subsubsection[{\texorpdfstring{m\+\_\+received}{m_received}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Lr\+Wpan\+Error\+Distance\+Test\+Case\+::m\+\_\+received\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classLrWpanErrorDistanceTestCase_a771226176fd530cfac26cbc016405f93}{}\label{classLrWpanErrorDistanceTestCase_a771226176fd530cfac26cbc016405f93}


The number of received packets. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lr-\/wpan/test/\hyperlink{lr-wpan-error-model-test_8cc}{lr-\/wpan-\/error-\/model-\/test.\+cc}\end{DoxyCompactItemize}
