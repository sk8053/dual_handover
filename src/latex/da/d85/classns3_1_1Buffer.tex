\hypertarget{classns3_1_1Buffer}{}\section{ns3\+:\+:Buffer Class Reference}
\label{classns3_1_1Buffer}\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}}


automatically resized byte buffer  




{\ttfamily \#include $<$buffer.\+h$>$}



Collaboration diagram for ns3\+:\+:Buffer\+:
% FIG 0
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1Buffer_1_1Data}{Data}
\item 
class \hyperlink{classns3_1_1Buffer_1_1Iterator}{Iterator}
\begin{DoxyCompactList}\small\item\em iterator in a \hyperlink{classns3_1_1Buffer}{Buffer} instance \end{DoxyCompactList}\item 
struct \hyperlink{structns3_1_1Buffer_1_1LocalStaticDestructor}{Local\+Static\+Destructor}
\begin{DoxyCompactList}\small\item\em Local static destructor structure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_a3047b8f2dad303c6370695122f1884f0}{Get\+Size} (void) const 
\item 
uint8\+\_\+t const $\ast$ \hyperlink{classns3_1_1Buffer_a07800b41f95ec9c5bfdfae624b9351b0}{Peek\+Data} (void) const 
\item 
void \hyperlink{classns3_1_1Buffer_a8abd8164c3671d3dadc98fc66fade7b1}{Add\+At\+Start} (uint32\+\_\+t start)
\item 
void \hyperlink{classns3_1_1Buffer_a92dd87809af24fb10696fee9a9cb56cf}{Add\+At\+End} (uint32\+\_\+t end)
\item 
void \hyperlink{classns3_1_1Buffer_a60211196881cfccb64f67d71449eda83}{Add\+At\+End} (const \hyperlink{classns3_1_1Buffer}{Buffer} \&o)
\item 
void \hyperlink{classns3_1_1Buffer_adeecbb3e8f518aec6fee0437578ade4b}{Remove\+At\+Start} (uint32\+\_\+t start)
\item 
void \hyperlink{classns3_1_1Buffer_a83b30fd8e1202e778fb471757b800d47}{Remove\+At\+End} (uint32\+\_\+t end)
\item 
\hyperlink{classns3_1_1Buffer}{Buffer} \hyperlink{classns3_1_1Buffer_a9285016f38b451c65edb50196ef817f8}{Create\+Fragment} (uint32\+\_\+t start, uint32\+\_\+t length) const 
\item 
\hyperlink{classns3_1_1Buffer_1_1Iterator}{Buffer\+::\+Iterator} \hyperlink{classns3_1_1Buffer_a893d4bf50df13e730b6cd0fda91b967f}{Begin} (void) const 
\item 
\hyperlink{classns3_1_1Buffer_1_1Iterator}{Buffer\+::\+Iterator} \hyperlink{classns3_1_1Buffer_a52207c7aed7bae89fba2f9e997c82724}{End} (void) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_a0d38b182a66558a719a17ab749643c21}{Get\+Serialized\+Size} (void) const 
\begin{DoxyCompactList}\small\item\em Return the number of bytes required for serialization. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_af32e7e0a4e53c5a7e3b4e921ccb07aa8}{Serialize} (uint8\+\_\+t $\ast$buffer, uint32\+\_\+t max\+Size) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_add89f12664174aa29c08264af66437ad}{Deserialize} (const uint8\+\_\+t $\ast$buffer, uint32\+\_\+t size)
\item 
void \hyperlink{classns3_1_1Buffer_aec4a3fd349f94e449b4b2d14dd964a4c}{Copy\+Data} (std\+::ostream $\ast$os, uint32\+\_\+t size) const 
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_a06ddf3bd34aebc80f07e535bbc9ebcb2}{Copy\+Data} (uint8\+\_\+t $\ast$buffer, uint32\+\_\+t size) const 
\item 
\hyperlink{classns3_1_1Buffer_a2c97b3937de1161e3cdc40cef2cf00d6}{Buffer} (\hyperlink{classns3_1_1Buffer}{Buffer} const \&o)
\begin{DoxyCompactList}\small\item\em Copy constructor. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Buffer}{Buffer} \& \hyperlink{classns3_1_1Buffer_a7c7cba562cba1633649786fdf78c5e6f}{operator=} (\hyperlink{classns3_1_1Buffer}{Buffer} const \&o)
\begin{DoxyCompactList}\small\item\em Assignment operator. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Buffer_a287c877504ddcdbc244de0ca66227fda}{Buffer} ()
\item 
\hyperlink{classns3_1_1Buffer_a9688cd41afce38a174f394d3aabd09f6}{Buffer} (uint32\+\_\+t data\+Size)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Buffer_a0e958fc3813b98aa451cb60bdd646757}{Buffer} (uint32\+\_\+t data\+Size, bool initialize)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{classns3_1_1Buffer_a3672e1d34b98e7745a5eff5b89cdb920}{$\sim$\+Buffer} ()
\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::vector$<$ struct \hyperlink{structns3_1_1Buffer_1_1Data}{Buffer\+::\+Data} $\ast$ $>$ \hyperlink{classns3_1_1Buffer_a5438e49e26e30d5a54940cf5118078fd}{Free\+List}
\begin{DoxyCompactList}\small\item\em Container for buffer data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classns3_1_1Buffer}{Buffer} \hyperlink{classns3_1_1Buffer_a8dd09a348caee9051b2aa3a154ab09e5}{Create\+Full\+Copy} (void) const 
\begin{DoxyCompactList}\small\item\em Create a full copy of the buffer, including all the internal structures. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1Buffer_a37f603a90d9e7ddfef36f1301cc9d8b6}{Transform\+Into\+Real\+Buffer} (void) const 
\begin{DoxyCompactList}\small\item\em Transform a \char`\"{}\+Virtual byte buffer\char`\"{} into a \char`\"{}\+Real byte buffer\char`\"{}. \end{DoxyCompactList}\item 
bool \hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{Check\+Internal\+State} (void) const 
\begin{DoxyCompactList}\small\item\em Checks the internal buffer structures consistency. \end{DoxyCompactList}\item 
void \hyperlink{classns3_1_1Buffer_ac8eb4126519c379546a52035c4d5f6f4}{Initialize} (uint32\+\_\+t zero\+Size)
\begin{DoxyCompactList}\small\item\em Initializes the buffer with a number of zeroes. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_ac362d096b53b9f266eba487495120942}{Get\+Internal\+Size} (void) const 
\begin{DoxyCompactList}\small\item\em Get the buffer real size. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_a2793d327c30b626594b52047b8ec16ab}{Get\+Internal\+End} (void) const 
\begin{DoxyCompactList}\small\item\em Get the buffer end position. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{classns3_1_1Buffer_aa14d4354b6de0c9d6044805f6503ecd2}{Recycle} (struct \hyperlink{structns3_1_1Buffer_1_1Data}{Buffer\+::\+Data} $\ast$\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data})
\begin{DoxyCompactList}\small\item\em Recycle the buffer memory. \end{DoxyCompactList}\item 
static struct \hyperlink{structns3_1_1Buffer_1_1Data}{Buffer\+::\+Data} $\ast$ \hyperlink{classns3_1_1Buffer_a340c9888e35cf55d024808adfbd75913}{Create} (uint32\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Create a buffer data storage. \end{DoxyCompactList}\item 
static struct \hyperlink{structns3_1_1Buffer_1_1Data}{Buffer\+::\+Data} $\ast$ \hyperlink{classns3_1_1Buffer_a7bbfa888d618a79ee413fe01a7b4ff68}{Allocate} (uint32\+\_\+t req\+Size)
\begin{DoxyCompactList}\small\item\em Allocate a buffer data storage. \end{DoxyCompactList}\item 
static void \hyperlink{classns3_1_1Buffer_a5cf2847bcc22da58cfa7e3a6b0279a01}{Deallocate} (struct \hyperlink{structns3_1_1Buffer_1_1Data}{Buffer\+::\+Data} $\ast$\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data})
\begin{DoxyCompactList}\small\item\em Deallocate the buffer memory. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structns3_1_1Buffer_1_1Data}{Data} $\ast$ \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\+\_\+data}
\begin{DoxyCompactList}\small\item\em the buffer data storage \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\+\_\+max\+Zero\+Area\+Start}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\+\_\+zero\+Area\+Start}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\+\_\+zero\+Area\+End}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\+\_\+start}
\item 
uint32\+\_\+t \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\+\_\+end}
\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static uint32\+\_\+t \hyperlink{classns3_1_1Buffer_a62e14b22a57661cd7e026fea1c79db9e}{g\+\_\+recommended\+Start} = 0
\item 
static uint32\+\_\+t \hyperlink{classns3_1_1Buffer_a35a9e69b40e97421985973d1a48aab5a}{g\+\_\+max\+Size} = 0
\begin{DoxyCompactList}\small\item\em Max observed data size. \end{DoxyCompactList}\item 
static \hyperlink{classns3_1_1Buffer_a5438e49e26e30d5a54940cf5118078fd}{Free\+List} $\ast$ \hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\+\_\+free\+List} = 0
\begin{DoxyCompactList}\small\item\em \hyperlink{classns3_1_1Buffer}{Buffer} data container. \end{DoxyCompactList}\item 
static struct \hyperlink{structns3_1_1Buffer_1_1LocalStaticDestructor}{Local\+Static\+Destructor} \hyperlink{classns3_1_1Buffer_a42a32bf7da525c42762fa737585e8c81}{g\+\_\+local\+Static\+Destructor}
\begin{DoxyCompactList}\small\item\em Local static destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
automatically resized byte buffer 

This represents a buffer of bytes. Its size is automatically adjusted to hold any data prepended or appended by the user. Its implementation is optimized to ensure that the number of buffer resizes is minimized, by creating new Buffers of the maximum size ever used. The correct maximum size is learned at runtime during use by recording the maximum size of each packet. 

\subsection{Member Typedef Documentation}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Free\+List@{Free\+List}}
\index{Free\+List@{Free\+List}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Free\+List}{FreeList}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::vector$<$struct {\bf Buffer\+::\+Data}$\ast$$>$ {\bf ns3\+::\+Buffer\+::\+Free\+List}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a5438e49e26e30d5a54940cf5118078fd}{}\label{classns3_1_1Buffer_a5438e49e26e30d5a54940cf5118078fd}


Container for buffer data. 



\subsection{Constructor \& Destructor Documentation}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Buffer@{Buffer}}
\index{Buffer@{Buffer}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Buffer(\+Buffer const \&o)}{Buffer(Buffer const &o)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Buffer\+::\+Buffer (
\begin{DoxyParamCaption}
\item[{{\bf Buffer} const \&}]{o}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1Buffer_a2c97b3937de1161e3cdc40cef2cf00d6}{}\label{classns3_1_1Buffer_a2c97b3937de1161e3cdc40cef2cf00d6}


Copy constructor. 


\begin{DoxyParams}{Parameters}
{\em o} & the buffer to copy \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
1050   : \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data} (o.m\_data),
1051     \hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart} (o.m\_zeroAreaStart),
1052     \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} (o.m\_zeroAreaStart),
1053     \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} (o.m\_zeroAreaEnd),
1054     \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} (o.m\_start),
1055     \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} (o.m\_end)
1056 \{
1057   \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count}++;
1058   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
1059 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 1


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Buffer@{Buffer}}
\index{Buffer@{Buffer}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Buffer()}{Buffer()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Buffer\+::\+Buffer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_a287c877504ddcdbc244de0ca66227fda}{}\label{classns3_1_1Buffer_a287c877504ddcdbc244de0ca66227fda}

\begin{DoxyCode}
189 \{
190   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
191   \hyperlink{classns3_1_1Buffer_ac8eb4126519c379546a52035c4d5f6f4}{Initialize} (0);
192 \}
\end{DoxyCode}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Buffer@{Buffer}}
\index{Buffer@{Buffer}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Buffer(uint32\+\_\+t data\+Size)}{Buffer(uint32_t dataSize)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Buffer\+::\+Buffer (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{data\+Size}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_a9688cd41afce38a174f394d3aabd09f6}{}\label{classns3_1_1Buffer_a9688cd41afce38a174f394d3aabd09f6}


Constructor. 

The buffer will be initialized with zeroes up to its size.


\begin{DoxyParams}{Parameters}
{\em data\+Size} & the buffer size \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
195 \{
196   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << dataSize);
197   \hyperlink{classns3_1_1Buffer_ac8eb4126519c379546a52035c4d5f6f4}{Initialize} (dataSize);
198 \}
\end{DoxyCode}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Buffer@{Buffer}}
\index{Buffer@{Buffer}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Buffer(uint32\+\_\+t data\+Size, bool initialize)}{Buffer(uint32_t dataSize, bool initialize)}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Buffer\+::\+Buffer (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{data\+Size, }
\item[{bool}]{initialize}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_a0e958fc3813b98aa451cb60bdd646757}{}\label{classns3_1_1Buffer_a0e958fc3813b98aa451cb60bdd646757}


Constructor. 

If initialize is set to true, the buffer will be initialized with zeroes up to its size.


\begin{DoxyParams}{Parameters}
{\em data\+Size} & the buffer size. \\
\hline
{\em initialize} & initialize the buffer with zeroes. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
201 \{
202   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << dataSize << initialize);
203   \textcolor{keywordflow}{if} (initialize == \textcolor{keyword}{true})
204     \{
205       \hyperlink{classns3_1_1Buffer_ac8eb4126519c379546a52035c4d5f6f4}{Initialize} (dataSize);
206     \}
207 \}
\end{DoxyCode}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!````~Buffer@{$\sim$\+Buffer}}
\index{````~Buffer@{$\sim$\+Buffer}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{$\sim$\+Buffer()}{~Buffer()}}]{\setlength{\rightskip}{0pt plus 5cm}ns3\+::\+Buffer\+::$\sim$\+Buffer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_a3672e1d34b98e7745a5eff5b89cdb920}{}\label{classns3_1_1Buffer_a3672e1d34b98e7745a5eff5b89cdb920}

\begin{DoxyCode}
284 \{
285   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
286   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
287   \hyperlink{classns3_1_1Buffer_a62e14b22a57661cd7e026fea1c79db9e}{g\_recommendedStart} = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (\hyperlink{classns3_1_1Buffer_a62e14b22a57661cd7e026fea1c79db9e}{g\_recommendedStart}, 
      \hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart});
288   \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count}--;
289   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count} == 0) 
290     \{
291       \hyperlink{classns3_1_1Buffer_aa14d4354b6de0c9d6044805f6503ecd2}{Recycle} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data});
292     \}
293 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Add\+At\+End@{Add\+At\+End}}
\index{Add\+At\+End@{Add\+At\+End}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Add\+At\+End(uint32\+\_\+t end)}{AddAtEnd(uint32_t end)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Buffer\+::\+Add\+At\+End (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{end}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_a92dd87809af24fb10696fee9a9cb56cf}{}\label{classns3_1_1Buffer_a92dd87809af24fb10696fee9a9cb56cf}

\begin{DoxyParams}{Parameters}
{\em end} & size to reserve\\
\hline
\end{DoxyParams}
Add bytes at the end of the \hyperlink{classns3_1_1Buffer}{Buffer}. The content of these bytes is undefined but debugging builds initialize them to 0x33. Any call to this method invalidates any \hyperlink{classns3_1_1Buffer_1_1Iterator}{Iterator} pointing to this \hyperlink{classns3_1_1Buffer}{Buffer}. 
\begin{DoxyCode}
355 \{
356   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << end);
357   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
358   \textcolor{keywordtype}{bool} isDirty = \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count} > 1 && \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} < \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->
      \hyperlink{structns3_1_1Buffer_1_1Data_a76ba53202d79de545e0000aab663cb54}{m\_dirtyEnd};
359   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Buffer_a2793d327c30b626594b52047b8ec16ab}{GetInternalEnd} () + end <= m\_data->m\_size && !isDirty)
360     \{
361       \textcolor{comment}{/* enough space in buffer and not dirty}
362 \textcolor{comment}{       * Add:    |...|}
363 \textcolor{comment}{       * Before: |**----*****|}
364 \textcolor{comment}{       * After:  |**----...**|}
365 \textcolor{comment}{       */}
366       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count} == 1 || \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} == 
      \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a76ba53202d79de545e0000aab663cb54}{m\_dirtyEnd});
367       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} += end;
368       \textcolor{comment}{// update dirty area.}
369       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a76ba53202d79de545e0000aab663cb54}{m\_dirtyEnd} = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end};
370     \} 
371   \textcolor{keywordflow}{else}
372     \{
373       uint32\_t newSize = \hyperlink{classns3_1_1Buffer_ac362d096b53b9f266eba487495120942}{GetInternalSize} () + end;
374       \textcolor{keyword}{struct }Buffer::Data *newData = \hyperlink{classns3_1_1Buffer_a340c9888e35cf55d024808adfbd75913}{Buffer::Create} (newSize);
375       memcpy (newData->m\_data, \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data} + \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start}, 
      \hyperlink{classns3_1_1Buffer_ac362d096b53b9f266eba487495120942}{GetInternalSize} ());
376       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count}--;
377       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count} == 0) 
378         \{
379           \hyperlink{classns3_1_1Buffer_aa14d4354b6de0c9d6044805f6503ecd2}{Buffer::Recycle} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data});
380         \}
381       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data} = newData;
382 
383       int32\_t delta = -\hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
384       \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} += delta;
385       \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} += delta;
386       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} += delta;
387       \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} += delta;
388       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} += end;
389 
390       \textcolor{comment}{// update dirty area}
391       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_ac946973842bf5c652f6f1209668de0fe}{m\_dirtyStart} = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
392       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a76ba53202d79de545e0000aab663cb54}{m\_dirtyEnd} = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end};
393     \} 
394   \hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart} = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (\hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart}, 
      \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart});
395   \hyperlink{buffer_8cc_a002eee40749baf779e1bbe93cbc4bc30}{LOG\_INTERNAL\_STATE} (\textcolor{stringliteral}{"add end="} << end << \textcolor{stringliteral}{", "});
396   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
397 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 2




Here is the caller graph for this function\+:
% FIG 3


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Add\+At\+End@{Add\+At\+End}}
\index{Add\+At\+End@{Add\+At\+End}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Add\+At\+End(const Buffer \&o)}{AddAtEnd(const Buffer &o)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Buffer\+::\+Add\+At\+End (
\begin{DoxyParamCaption}
\item[{const {\bf Buffer} \&}]{o}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_a60211196881cfccb64f67d71449eda83}{}\label{classns3_1_1Buffer_a60211196881cfccb64f67d71449eda83}

\begin{DoxyParams}{Parameters}
{\em o} & the buffer to append to the end of this buffer.\\
\hline
\end{DoxyParams}
Add bytes at the end of the \hyperlink{classns3_1_1Buffer}{Buffer}. Any call to this method invalidates any \hyperlink{classns3_1_1Buffer_1_1Iterator}{Iterator} pointing to this \hyperlink{classns3_1_1Buffer}{Buffer}. This is an optimization which kicks in when we attempt to aggregate two buffers which contain adjacent zero areas.
\begin{DoxyCode}
401 \{
402   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &o);
403   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count} == 1 &&
404       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} == \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} &&
405       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} == \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a76ba53202d79de545e0000aab663cb54}{m\_dirtyEnd} &&
406       o.m\_start == o.m\_zeroAreaStart &&
407       o.m\_zeroAreaEnd - o.m\_zeroAreaStart > 0)
408     \{
414       uint32\_t zeroSize = o.m\_zeroAreaEnd - o.m\_zeroAreaStart;
415       \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} += zeroSize;
416       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} = \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd};
417       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a76ba53202d79de545e0000aab663cb54}{m\_dirtyEnd} = \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd};
418       uint32\_t endData = o.m\_end - o.m\_zeroAreaEnd;
419       \hyperlink{classns3_1_1Buffer_a92dd87809af24fb10696fee9a9cb56cf}{AddAtEnd} (endData);
420       Buffer::Iterator dst = \hyperlink{classns3_1_1Buffer_a52207c7aed7bae89fba2f9e997c82724}{End} ();
421       dst.Prev (endData);
422       Buffer::Iterator src = o.End ();
423       src.Prev (endData);
424       dst.Write (src, o.End ());
425       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
426       \textcolor{keywordflow}{return};
427     \}
428 
429   \hyperlink{classns3_1_1Buffer_a287c877504ddcdbc244de0ca66227fda}{Buffer} dst = \hyperlink{classns3_1_1Buffer_a8dd09a348caee9051b2aa3a154ab09e5}{CreateFullCopy} ();
430   \hyperlink{classns3_1_1Buffer_a287c877504ddcdbc244de0ca66227fda}{Buffer} src = o.CreateFullCopy ();
431 
432   dst.AddAtEnd (src.GetSize ());
433   Buffer::Iterator destStart = dst.End ();
434   destStart.Prev (src.GetSize ());
435   destStart.Write (src.Begin (), src.End ());
436   *\textcolor{keyword}{this} = dst;
437   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
438 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 4


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Add\+At\+Start@{Add\+At\+Start}}
\index{Add\+At\+Start@{Add\+At\+Start}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Add\+At\+Start(uint32\+\_\+t start)}{AddAtStart(uint32_t start)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Buffer\+::\+Add\+At\+Start (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{start}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_a8abd8164c3671d3dadc98fc66fade7b1}{}\label{classns3_1_1Buffer_a8abd8164c3671d3dadc98fc66fade7b1}

\begin{DoxyParams}{Parameters}
{\em start} & size to reserve\\
\hline
\end{DoxyParams}
Add bytes at the start of the \hyperlink{classns3_1_1Buffer}{Buffer}. The content of these bytes is undefined but debugging builds initialize them to 0x33. Any call to this method invalidates any \hyperlink{classns3_1_1Buffer_1_1Iterator}{Iterator} pointing to this \hyperlink{classns3_1_1Buffer}{Buffer}. 
\begin{DoxyCode}
310 \{
311   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start});
312   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
313   \textcolor{keywordtype}{bool} isDirty = \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count} > 1 && \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} > \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->
      \hyperlink{structns3_1_1Buffer_1_1Data_ac946973842bf5c652f6f1209668de0fe}{m\_dirtyStart};
314   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} >= \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start} && !isDirty)
315     \{
316       \textcolor{comment}{/* enough space in the buffer and not dirty. }
317 \textcolor{comment}{       * To add: |..|}
318 \textcolor{comment}{       * Before: |*****---------***|}
319 \textcolor{comment}{       * After:  |***..---------***|}
320 \textcolor{comment}{       */}
321       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count} == 1 || \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} == 
      \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_ac946973842bf5c652f6f1209668de0fe}{m\_dirtyStart});
322       \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} -= \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start};
323       \textcolor{comment}{// update dirty area}
324       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_ac946973842bf5c652f6f1209668de0fe}{m\_dirtyStart} = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
325     \} 
326   \textcolor{keywordflow}{else}
327     \{
328       uint32\_t newSize = \hyperlink{classns3_1_1Buffer_ac362d096b53b9f266eba487495120942}{GetInternalSize} () + \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start};
329       \textcolor{keyword}{struct }Buffer::Data *newData = \hyperlink{classns3_1_1Buffer_a340c9888e35cf55d024808adfbd75913}{Buffer::Create} (newSize);
330       memcpy (newData->m\_data + \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start}, \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data} + \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start}, 
      \hyperlink{classns3_1_1Buffer_ac362d096b53b9f266eba487495120942}{GetInternalSize} ());
331       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count}--;
332       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count} == 0)
333         \{
334           \hyperlink{classns3_1_1Buffer_aa14d4354b6de0c9d6044805f6503ecd2}{Buffer::Recycle} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data});
335         \}
336       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data} = newData;
337 
338       int32\_t delta = \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start} - \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
339       m\_start += delta;
340       \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} += delta;
341       \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} += delta;
342       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} += delta;
343       m\_start -= \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start};
344 
345       \textcolor{comment}{// update dirty area}
346       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_ac946973842bf5c652f6f1209668de0fe}{m\_dirtyStart} = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
347       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a76ba53202d79de545e0000aab663cb54}{m\_dirtyEnd} = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end};
348     \}
349   \hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart} = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (\hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart}, 
      \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart});
350   \hyperlink{buffer_8cc_a002eee40749baf779e1bbe93cbc4bc30}{LOG\_INTERNAL\_STATE} (\textcolor{stringliteral}{"add start="} << \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start} << \textcolor{stringliteral}{", "});
351   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
352 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 5




Here is the caller graph for this function\+:
% FIG 6


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Allocate@{Allocate}}
\index{Allocate@{Allocate}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Allocate(uint32\+\_\+t req\+Size)}{Allocate(uint32_t reqSize)}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf Buffer\+::\+Data} $\ast$ ns3\+::\+Buffer\+::\+Allocate (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{req\+Size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a7bbfa888d618a79ee413fe01a7b4ff68}{}\label{classns3_1_1Buffer_a7bbfa888d618a79ee413fe01a7b4ff68}


Allocate a buffer data storage. 


\begin{DoxyParams}{Parameters}
{\em req\+Size} & the storage size to create \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the allocated buffer storage 
\end{DoxyReturn}

\begin{DoxyCode}
164 \{
165   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (reqSize);
166   \textcolor{keywordflow}{if} (reqSize == 0) 
167     \{
168       reqSize = 1;
169     \}
170   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (reqSize >= 1);
171   uint32\_t size = reqSize - 1 + \textcolor{keyword}{sizeof} (\textcolor{keyword}{struct }Buffer::Data);
172   uint8\_t *\hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b} = \textcolor{keyword}{new} uint8\_t [size];
173   \textcolor{keyword}{struct }Buffer::Data *\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data} = \textcolor{keyword}{reinterpret\_cast<}struct Buffer::Data*\textcolor{keyword}{>}(\hyperlink{buildings__pathloss_8m_a21ad0bd836b90d08f4cf640b4c298e7c}{b});
174   data->m\_size = reqSize;
175   data->m\_count = 1;
176   \textcolor{keywordflow}{return} \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data};
177 \}
\end{DoxyCode}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Begin@{Begin}}
\index{Begin@{Begin}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Begin(void) const }{Begin(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Buffer\+::\+Iterator} ns3\+::\+Buffer\+::\+Begin (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1Buffer_a893d4bf50df13e730b6cd0fda91b967f}{}\label{classns3_1_1Buffer_a893d4bf50df13e730b6cd0fda91b967f}
\begin{DoxyReturn}{Returns}
an \hyperlink{classns3_1_1Buffer_1_1Iterator}{Iterator} which points to the start of this \hyperlink{classns3_1_1Buffer}{Buffer}. 
\end{DoxyReturn}

\begin{DoxyCode}
1069 \{
1070   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
1071   \textcolor{keywordflow}{return} Buffer::Iterator (\textcolor{keyword}{this});
1072 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 7




Here is the caller graph for this function\+:
% FIG 8


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Check\+Internal\+State@{Check\+Internal\+State}}
\index{Check\+Internal\+State@{Check\+Internal\+State}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Check\+Internal\+State(void) const }{CheckInternalState(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool ns3\+::\+Buffer\+::\+Check\+Internal\+State (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{}\label{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}


Checks the internal buffer structures consistency. 

Used only for debugging purposes.

\begin{DoxyReturn}{Returns}
true if the buffer status is consistent. 
\end{DoxyReturn}

\begin{DoxyCode}
211 \{
212   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
213 \textcolor{preprocessor}{#if 0}
214   \textcolor{comment}{// If you want to modify any code in this file, enable this checking code.}
215   \textcolor{comment}{// Otherwise, there is not much point is enabling it because the}
216   \textcolor{comment}{// current implementation has been fairly seriously tested and the cost}
217   \textcolor{comment}{// of this constant checking is pretty high, even for a debug build.}
218   \textcolor{keywordtype}{bool} offsetsOk = 
219     \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} <= \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} &&
220     \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} <= \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} &&
221     \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} <= \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end};
222   \textcolor{keywordtype}{bool} dirtyOk =
223     \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} >= \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_ac946973842bf5c652f6f1209668de0fe}{m\_dirtyStart} &&
224     \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} <= \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a76ba53202d79de545e0000aab663cb54}{m\_dirtyEnd};
225   \textcolor{keywordtype}{bool} internalSizeOk = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - (m\_zeroAreaEnd - \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart}) <= 
      \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_abebf3f94b05bb904b45a82a2f3193180}{m\_size} &&
226     m\_start <= m\_data->m\_size &&
227     m\_zeroAreaStart <= m\_data->m\_size;
228 
229   \textcolor{keywordtype}{bool} ok = \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count} > 0 && offsetsOk && dirtyOk && internalSizeOk;
230   \hyperlink{loss__ITU1238_8m_a419d895abe1313c35fa353c93802647e}{if} (!ok)
231     \{
232       \hyperlink{buffer_8cc_a002eee40749baf779e1bbe93cbc4bc30}{LOG\_INTERNAL\_STATE} (\textcolor{stringliteral}{"check "} << \textcolor{keyword}{this} << 
233                           \textcolor{stringliteral}{", "} << (offsetsOk ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}) <<
234                           \textcolor{stringliteral}{", "} << (dirtyOk ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}) <<
235                           \textcolor{stringliteral}{", "} << (internalSizeOk ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"}) << \textcolor{stringliteral}{" "});
236     \}
237   \textcolor{keywordflow}{return} ok;
238 \textcolor{preprocessor}{#else}
239   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
240 \textcolor{preprocessor}{#endif}
241 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 9




Here is the caller graph for this function\+:
% FIG 10


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Copy\+Data@{Copy\+Data}}
\index{Copy\+Data@{Copy\+Data}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Copy\+Data(std\+::ostream $\ast$os, uint32\+\_\+t size) const }{CopyData(std::ostream *os, uint32_t size) const }}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Buffer\+::\+Copy\+Data (
\begin{DoxyParamCaption}
\item[{std\+::ostream $\ast$}]{os, }
\item[{uint32\+\_\+t}]{size}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1Buffer_aec4a3fd349f94e449b4b2d14dd964a4c}{}\label{classns3_1_1Buffer_aec4a3fd349f94e449b4b2d14dd964a4c}
Copy the specified amount of data from the buffer to the given output stream.


\begin{DoxyParams}{Parameters}
{\em os} & the output stream \\
\hline
{\em size} & the maximum amount of bytes to copy. If zero, nothing is copied. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
719 \{
720   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &os << size);
721   \textcolor{keywordflow}{if} (size > 0)
722     \{
723       uint32\_t tmpsize = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (\hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart}-
      \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start}, size);
724       os->write ((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*)(\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data} + \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start}), tmpsize);
725       \textcolor{keywordflow}{if} (size > tmpsize) 
726         \{ 
727           size -= \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart}-\hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
728           tmpsize = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (\hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} - 
      \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart}, size);
729           uint32\_t left = tmpsize;
730           \textcolor{keywordflow}{while} (left > 0)
731             \{
732               uint32\_t toWrite = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (left, g\_zeroes.size);
733               os->write (g\_zeroes.buffer, toWrite);
734               left -= toWrite;
735             \}
736           \textcolor{keywordflow}{if} (size > tmpsize)
737             \{
738               size -= tmpsize;
739               tmpsize = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (\hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd}, size);
740               os->write ((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*)(\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data} + 
      \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart}), tmpsize); 
741             \}
742         \}
743     \}
744 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 11


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Copy\+Data@{Copy\+Data}}
\index{Copy\+Data@{Copy\+Data}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Copy\+Data(uint8\+\_\+t $\ast$buffer, uint32\+\_\+t size) const }{CopyData(uint8_t *buffer, uint32_t size) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::\+Copy\+Data (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer, }
\item[{uint32\+\_\+t}]{size}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1Buffer_a06ddf3bd34aebc80f07e535bbc9ebcb2}{}\label{classns3_1_1Buffer_a06ddf3bd34aebc80f07e535bbc9ebcb2}
Copy the specified amount of data from the buffer to the given buffer.


\begin{DoxyParams}{Parameters}
{\em buffer} & the output buffer \\
\hline
{\em size} & the maximum amount of bytes to copy. If zero, nothing is copied. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the amount of bytes copied 
\end{DoxyReturn}

\begin{DoxyCode}
748 \{
749   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &buffer << size);
750   uint32\_t originalSize = size;
751   \textcolor{keywordflow}{if} (size > 0)
752     \{
753       uint32\_t tmpsize = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (\hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart}-
      \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start}, size);
754       memcpy (buffer, (\textcolor{keyword}{const} \textcolor{keywordtype}{char}*)(\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data} + \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start}), tmpsize);
755       buffer += tmpsize;
756       size -= tmpsize;
757       \textcolor{keywordflow}{if} (size > 0) 
758         \{ 
759           tmpsize = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (\hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} - 
      \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart}, size);
760           uint32\_t left = tmpsize;
761           \textcolor{keywordflow}{while} (left > 0)
762             \{
763               uint32\_t toWrite = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (left, g\_zeroes.size);
764               memcpy (buffer, g\_zeroes.buffer, toWrite);
765               left -= toWrite;
766               buffer += toWrite;
767             \}
768           size -= tmpsize;
769           \textcolor{keywordflow}{if} (size > 0)
770             \{
771               tmpsize = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (\hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd}, size);
772               memcpy (buffer, (\textcolor{keyword}{const} \textcolor{keywordtype}{char}*)(\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data} + 
      \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart}), tmpsize);
773               size -= tmpsize;
774             \}
775         \}
776     \}
777   \textcolor{keywordflow}{return} originalSize - size;
778 \}
\end{DoxyCode}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Create@{Create}}
\index{Create@{Create}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Create(uint32\+\_\+t size)}{Create(uint32_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Buffer\+::\+Data} $\ast$ ns3\+::\+Buffer\+::\+Create (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a340c9888e35cf55d024808adfbd75913}{}\label{classns3_1_1Buffer_a340c9888e35cf55d024808adfbd75913}


Create a buffer data storage. 


\begin{DoxyParams}{Parameters}
{\em size} & the storage size to create \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the created buffer storage 
\end{DoxyReturn}

\begin{DoxyCode}
120 \{
121   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (dataSize);
122   \textcolor{comment}{/* try to find a buffer correctly sized. */}
123   \textcolor{keywordflow}{if} (\hyperlink{buffer_8cc_a3a842e50fc4b41729bc293c922c54eaf}{IS\_UNINITIALIZED} (\hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList}))
124     \{
125       \hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList} = \textcolor{keyword}{new} \hyperlink{classns3_1_1Buffer_a5438e49e26e30d5a54940cf5118078fd}{Buffer::FreeList} ();
126     \}
127   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{buffer_8cc_a78a2863a61b455820496436fd3c38ebc}{IS\_INITIALIZED} (\hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList}))
128     \{
129       \textcolor{keywordflow}{while} (!\hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList}->empty ()) 
130         \{
131           \textcolor{keyword}{struct }Buffer::Data *\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data} = \hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList}->back ();
132           \hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList}->pop\_back ();
133           \textcolor{keywordflow}{if} (data->m\_size >= dataSize) 
134             \{
135               data->m\_count = 1;
136               \textcolor{keywordflow}{return} \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data};
137             \}
138           \hyperlink{classns3_1_1Buffer_a5cf2847bcc22da58cfa7e3a6b0279a01}{Buffer::Deallocate} (data);
139         \}
140     \}
141   \textcolor{keyword}{struct }Buffer::Data *data = \hyperlink{classns3_1_1Buffer_a7bbfa888d618a79ee413fe01a7b4ff68}{Buffer::Allocate} (dataSize);
142   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (data->m\_count == 1);
143   \textcolor{keywordflow}{return} \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data};
144 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 12


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Create\+Fragment@{Create\+Fragment}}
\index{Create\+Fragment@{Create\+Fragment}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Create\+Fragment(uint32\+\_\+t start, uint32\+\_\+t length) const }{CreateFragment(uint32_t start, uint32_t length) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Buffer} ns3\+::\+Buffer\+::\+Create\+Fragment (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{start, }
\item[{uint32\+\_\+t}]{length}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1Buffer_a9285016f38b451c65edb50196ef817f8}{}\label{classns3_1_1Buffer_a9285016f38b451c65edb50196ef817f8}

\begin{DoxyParams}{Parameters}
{\em start} & offset from start of packet \\
\hline
{\em length} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a fragment of size length starting at offset start. 
\end{DoxyReturn}

\begin{DoxyCode}
523 \{
524   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start} << length);
525   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
526   \hyperlink{classns3_1_1Buffer_a287c877504ddcdbc244de0ca66227fda}{Buffer} tmp = *\textcolor{keyword}{this};
527   tmp.RemoveAtStart (\hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start});
528   tmp.RemoveAtEnd (\hyperlink{classns3_1_1Buffer_a3047b8f2dad303c6370695122f1884f0}{GetSize} () - (\hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start} + length));
529   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
530   \textcolor{keywordflow}{return} tmp;
531 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 13




Here is the caller graph for this function\+:
% FIG 14


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Create\+Full\+Copy@{Create\+Full\+Copy}}
\index{Create\+Full\+Copy@{Create\+Full\+Copy}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Create\+Full\+Copy(void) const }{CreateFullCopy(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Buffer} ns3\+::\+Buffer\+::\+Create\+Full\+Copy (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a8dd09a348caee9051b2aa3a154ab09e5}{}\label{classns3_1_1Buffer_a8dd09a348caee9051b2aa3a154ab09e5}


Create a full copy of the buffer, including all the internal structures. 

\begin{DoxyReturn}{Returns}
a copy of the buffer 
\end{DoxyReturn}

\begin{DoxyCode}
535 \{
536   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
537   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
538   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} - \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} != 0) 
539     \{
540       \hyperlink{classns3_1_1Buffer_a287c877504ddcdbc244de0ca66227fda}{Buffer} tmp;
541       tmp.AddAtStart (\hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} - \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart});
542       tmp.Begin ().WriteU8 (0, \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} - \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart});
543       uint32\_t dataStart = \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} - \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
544       tmp.AddAtStart (dataStart);
545       tmp.Begin ().Write (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data}+m\_start, dataStart);
546       uint32\_t dataEnd = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd};
547       tmp.AddAtEnd (dataEnd);
548       Buffer::Iterator \hyperlink{bernuolliDistribution_8m_a6f6ccfcf58b31cb6412107d9d5281426}{i} = tmp.End ();
549       i.Prev (dataEnd);
550       i.Write (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data}+\hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart},dataEnd);
551       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (tmp.CheckInternalState ());
552       \textcolor{keywordflow}{return} tmp;
553     \}
554   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
555   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
556 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 15




Here is the caller graph for this function\+:
% FIG 16


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Deallocate@{Deallocate}}
\index{Deallocate@{Deallocate}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Deallocate(struct Buffer\+::\+Data $\ast$data)}{Deallocate(struct Buffer::Data *data)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Buffer\+::\+Deallocate (
\begin{DoxyParamCaption}
\item[{struct {\bf Buffer\+::\+Data} $\ast$}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a5cf2847bcc22da58cfa7e3a6b0279a01}{}\label{classns3_1_1Buffer_a5cf2847bcc22da58cfa7e3a6b0279a01}


Deallocate the buffer memory. 


\begin{DoxyParams}{Parameters}
{\em data} & the buffer data storage \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
181 \{
182   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data});
183   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data}->m\_count == 0);
184   uint8\_t *buf = \textcolor{keyword}{reinterpret\_cast<}uint8\_t *\textcolor{keyword}{>} (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data});
185   \textcolor{keyword}{delete} [] buf;
186 \}
\end{DoxyCode}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Deserialize@{Deserialize}}
\index{Deserialize@{Deserialize}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Deserialize(const uint8\+\_\+t $\ast$buffer, uint32\+\_\+t size)}{Deserialize(const uint8_t *buffer, uint32_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::\+Deserialize (
\begin{DoxyParamCaption}
\item[{const uint8\+\_\+t $\ast$}]{buffer, }
\item[{uint32\+\_\+t}]{size}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_add89f12664174aa29c08264af66437ad}{}\label{classns3_1_1Buffer_add89f12664174aa29c08264af66437ad}
\begin{DoxyReturn}{Returns}
zero if a complete buffer is not deserialized 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em buffer} & points to buffer for deserialization \\
\hline
{\em size} & number of bytes to deserialize\\
\hline
\end{DoxyParams}
The raw character buffer is deserialized and all the data is placed into this buffer. 
\begin{DoxyCode}
652 \{
653   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &buffer << size);
654   \textcolor{keyword}{const} uint32\_t* \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }uint32\_t *\textcolor{keyword}{>} (buffer);
655   uint32\_t sizeCheck = size-4;
656 
657   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (sizeCheck >= 4);
658   uint32\_t zeroDataLength = *p++;
659   sizeCheck -= 4;
660 
661   \textcolor{comment}{// Create zero bytes}
662   \hyperlink{classns3_1_1Buffer_ac8eb4126519c379546a52035c4d5f6f4}{Initialize} (zeroDataLength);
663 
664   \textcolor{comment}{// Add start data}
665   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (sizeCheck >= 4);
666   uint32\_t dataStartLength = *p++;
667   sizeCheck -= 4;
668   \hyperlink{classns3_1_1Buffer_a8abd8164c3671d3dadc98fc66fade7b1}{AddAtStart} (dataStartLength);
669 
670   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (sizeCheck >= dataStartLength);
671   \hyperlink{classns3_1_1Buffer_a893d4bf50df13e730b6cd0fda91b967f}{Begin} ().\hyperlink{classns3_1_1Buffer_1_1Iterator_a087b4e6b5d038544c750c741e8932d69}{Write} (reinterpret\_cast<uint8\_t *> (const\_cast<uint32\_t *> (p)), dataStartLength);
672   p += (((dataStartLength+3)&(~3))/4); \textcolor{comment}{// Advance p, insuring 4 byte boundary}
673   sizeCheck -= ((dataStartLength+3)&(~3));
674 
675   \textcolor{comment}{// Add end data}
676   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (sizeCheck >= 4);
677   uint32\_t dataEndLength = *p++;
678   sizeCheck -= 4;
679   \hyperlink{classns3_1_1Buffer_a92dd87809af24fb10696fee9a9cb56cf}{AddAtEnd} (dataEndLength);
680 
681   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (sizeCheck >= dataEndLength);
682   Buffer::Iterator tmp = \hyperlink{classns3_1_1Buffer_a52207c7aed7bae89fba2f9e997c82724}{End} ();
683   tmp.Prev (dataEndLength);
684   tmp.Write (reinterpret\_cast<uint8\_t *> (const\_cast<uint32\_t *> (p)), dataEndLength);
685   \textcolor{comment}{// The following line is unnecessary.}
686   \textcolor{comment}{// p += (((dataEndLength+3)&(~3))/4); // Advance p, insuring 4 byte boundary}
687   sizeCheck -= ((dataEndLength+3)&(~3));
688 
689   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (sizeCheck == 0);
690   \textcolor{comment}{// return zero if buffer did not }
691   \textcolor{comment}{// contain a complete message}
692   \textcolor{keywordflow}{return} (sizeCheck != 0) ? 0 : 1;
693 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 17




Here is the caller graph for this function\+:
% FIG 18


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!End@{End}}
\index{End@{End}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{End(void) const }{End(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Buffer\+::\+Iterator} ns3\+::\+Buffer\+::\+End (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1Buffer_a52207c7aed7bae89fba2f9e997c82724}{}\label{classns3_1_1Buffer_a52207c7aed7bae89fba2f9e997c82724}
\begin{DoxyReturn}{Returns}
an \hyperlink{classns3_1_1Buffer_1_1Iterator}{Iterator} which points to the end of this \hyperlink{classns3_1_1Buffer}{Buffer}. 
\end{DoxyReturn}

\begin{DoxyCode}
1075 \{
1076   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
1077   \textcolor{keywordflow}{return} Buffer::Iterator (\textcolor{keyword}{this}, \textcolor{keyword}{false});
1078 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 19




Here is the caller graph for this function\+:
% FIG 20


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Get\+Internal\+End@{Get\+Internal\+End}}
\index{Get\+Internal\+End@{Get\+Internal\+End}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Get\+Internal\+End(void) const }{GetInternalEnd(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::\+Get\+Internal\+End (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a2793d327c30b626594b52047b8ec16ab}{}\label{classns3_1_1Buffer_a2793d327c30b626594b52047b8ec16ab}


Get the buffer end position. 

\begin{DoxyReturn}{Returns}
the buffer end index. 
\end{DoxyReturn}

\begin{DoxyCode}
303 \{
304   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
305   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - (\hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} - \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart});
306 \}
\end{DoxyCode}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Get\+Internal\+Size@{Get\+Internal\+Size}}
\index{Get\+Internal\+Size@{Get\+Internal\+Size}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Get\+Internal\+Size(void) const }{GetInternalSize(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::\+Get\+Internal\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_ac362d096b53b9f266eba487495120942}{}\label{classns3_1_1Buffer_ac362d096b53b9f266eba487495120942}


Get the buffer real size. 

\begin{DoxyWarning}{Warning}
The real size is the actual memory used by the buffer. 
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}
the memory used by the buffer. 
\end{DoxyReturn}

\begin{DoxyCode}
297 \{
298   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
299   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} - \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} + \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - 
      \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd};
300 \}
\end{DoxyCode}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Get\+Serialized\+Size@{Get\+Serialized\+Size}}
\index{Get\+Serialized\+Size@{Get\+Serialized\+Size}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Get\+Serialized\+Size(void) const }{GetSerializedSize(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::\+Get\+Serialized\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1Buffer_a0d38b182a66558a719a17ab749643c21}{}\label{classns3_1_1Buffer_a0d38b182a66558a719a17ab749643c21}


Return the number of bytes required for serialization. 

\begin{DoxyReturn}{Returns}
the number of bytes. 
\end{DoxyReturn}

\begin{DoxyCode}
560 \{
561   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
562   uint32\_t dataStart = (\hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} - \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} + 3) & (~0x3);
563   uint32\_t dataEnd = (\hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} + 3) & (~0x3);
564 
565   \textcolor{comment}{// total size 4-bytes for dataStart length }
566   \textcolor{comment}{// + X number of bytes for dataStart }
567   \textcolor{comment}{// + 4-bytes for dataEnd length }
568   \textcolor{comment}{// + X number of bytes for dataEnd}
569   uint32\_t sz = \textcolor{keyword}{sizeof} (uint32\_t)
570     + \textcolor{keyword}{sizeof} (uint32\_t)
571     + dataStart
572     + \textcolor{keyword}{sizeof} (uint32\_t)
573     + dataEnd;
574 
575   \textcolor{keywordflow}{return} sz;
576 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 21


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Get\+Size@{Get\+Size}}
\index{Get\+Size@{Get\+Size}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Get\+Size(void) const }{GetSize(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::\+Get\+Size (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classns3_1_1Buffer_a3047b8f2dad303c6370695122f1884f0}{}\label{classns3_1_1Buffer_a3047b8f2dad303c6370695122f1884f0}
\begin{DoxyReturn}{Returns}
the number of bytes stored in this buffer. 
\end{DoxyReturn}

\begin{DoxyCode}
1063 \{
1064   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
1065 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 22


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Initialize(uint32\+\_\+t zero\+Size)}{Initialize(uint32_t zeroSize)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Buffer\+::\+Initialize (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{zero\+Size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_ac8eb4126519c379546a52035c4d5f6f4}{}\label{classns3_1_1Buffer_ac8eb4126519c379546a52035c4d5f6f4}


Initializes the buffer with a number of zeroes. 


\begin{DoxyParams}{Parameters}
{\em zero\+Size} & the zeroes size \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
245 \{
246   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << zeroSize);
247   \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data} = \hyperlink{classns3_1_1Buffer_a340c9888e35cf55d024808adfbd75913}{Buffer::Create} (0);
248   \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} = \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_abebf3f94b05bb904b45a82a2f3193180}{m\_size}, 
      \hyperlink{classns3_1_1Buffer_a62e14b22a57661cd7e026fea1c79db9e}{g\_recommendedStart});
249   \hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart} = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
250   \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
251   \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} = \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} + zeroSize;
252   \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} = \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd};
253   \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_ac946973842bf5c652f6f1209668de0fe}{m\_dirtyStart} = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
254   \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a76ba53202d79de545e0000aab663cb54}{m\_dirtyEnd} = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end};
255   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
256 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 23


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!operator=@{operator=}}
\index{operator=@{operator=}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{operator=(\+Buffer const \&o)}{operator=(Buffer const &o)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Buffer} \& ns3\+::\+Buffer\+::operator= (
\begin{DoxyParamCaption}
\item[{{\bf Buffer} const \&}]{o}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_a7c7cba562cba1633649786fdf78c5e6f}{}\label{classns3_1_1Buffer_a7c7cba562cba1633649786fdf78c5e6f}


Assignment operator. 


\begin{DoxyParams}{Parameters}
{\em o} & the buffer to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a reference to the buffer 
\end{DoxyReturn}

\begin{DoxyCode}
260 \{
261   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
262   \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data} != o.\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data}) 
263     \{
264       \textcolor{comment}{// not assignment to self.}
265       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count}--;
266       \textcolor{keywordflow}{if} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count} == 0) 
267         \{
268           \hyperlink{classns3_1_1Buffer_aa14d4354b6de0c9d6044805f6503ecd2}{Recycle} (\hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data});
269         \}
270       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data} = o.\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data};
271       \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a9d2c411830a0a352108f900e19f0728e}{m\_count}++;
272     \}
273   \hyperlink{classns3_1_1Buffer_a62e14b22a57661cd7e026fea1c79db9e}{g\_recommendedStart} = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (\hyperlink{classns3_1_1Buffer_a62e14b22a57661cd7e026fea1c79db9e}{g\_recommendedStart}, 
      \hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart});
274   \hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart} = o.m\_maxZeroAreaStart;
275   \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} = o.m\_zeroAreaStart;
276   \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} = o.m\_zeroAreaEnd;
277   \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} = o.m\_start;
278   \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} = o.m\_end;
279   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
280   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
281 \}
\end{DoxyCode}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Peek\+Data@{Peek\+Data}}
\index{Peek\+Data@{Peek\+Data}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Peek\+Data(void) const }{PeekData(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t const $\ast$ ns3\+::\+Buffer\+::\+Peek\+Data (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1Buffer_a07800b41f95ec9c5bfdfae624b9351b0}{}\label{classns3_1_1Buffer_a07800b41f95ec9c5bfdfae624b9351b0}
\begin{DoxyReturn}{Returns}
a pointer to the start of the internal byte buffer.
\end{DoxyReturn}
The returned pointer points to an area of memory which is \hyperlink{classns3_1_1Buffer_a3047b8f2dad303c6370695122f1884f0}{ns3\+::\+Buffer\+::\+Get\+Size} () bytes big. Please, try to never ever use this method. It is really evil and is present only for a few specific uses. 
\begin{DoxyCode}
709 \{
710   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
711   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
712   \hyperlink{classns3_1_1Buffer_a37f603a90d9e7ddfef36f1301cc9d8b6}{TransformIntoRealBuffer} ();
713   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
714   \textcolor{keywordflow}{return} \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data} + \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
715 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 24


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Recycle@{Recycle}}
\index{Recycle@{Recycle}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Recycle(struct Buffer\+::\+Data $\ast$data)}{Recycle(struct Buffer::Data *data)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Buffer\+::\+Recycle (
\begin{DoxyParamCaption}
\item[{struct {\bf Buffer\+::\+Data} $\ast$}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_aa14d4354b6de0c9d6044805f6503ecd2}{}\label{classns3_1_1Buffer_aa14d4354b6de0c9d6044805f6503ecd2}


Recycle the buffer memory. 


\begin{DoxyParams}{Parameters}
{\em data} & the buffer data storage \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
99 \{
100   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data});
101   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data}->m\_count == 0);
102   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (!\hyperlink{buffer_8cc_a3a842e50fc4b41729bc293c922c54eaf}{IS\_UNINITIALIZED} (\hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList}));
103   \hyperlink{classns3_1_1Buffer_a35a9e69b40e97421985973d1a48aab5a}{g\_maxSize} = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (\hyperlink{classns3_1_1Buffer_a35a9e69b40e97421985973d1a48aab5a}{g\_maxSize}, \hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data}->m\_size);
104   \textcolor{comment}{/* feed into free list */}
105   \textcolor{keywordflow}{if} (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data}->m\_size < \hyperlink{classns3_1_1Buffer_a35a9e69b40e97421985973d1a48aab5a}{g\_maxSize} ||
106       \hyperlink{buffer_8cc_aa8a54fc8c56a4a37218693dd35e1429f}{IS\_DESTROYED} (\hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList}) ||
107       \hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList}->size () > 1000)
108     \{
109       \hyperlink{classns3_1_1Buffer_a5cf2847bcc22da58cfa7e3a6b0279a01}{Buffer::Deallocate} (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data});
110     \}
111   \textcolor{keywordflow}{else}
112     \{
113       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{buffer_8cc_a78a2863a61b455820496436fd3c38ebc}{IS\_INITIALIZED} (\hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList}));
114       \hyperlink{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{g\_freeList}->push\_back (\hyperlink{topology-example-sim_8cc_a26c65296e316af77b787dc77469bb2a4}{data});
115     \}
116 \}
\end{DoxyCode}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Remove\+At\+End@{Remove\+At\+End}}
\index{Remove\+At\+End@{Remove\+At\+End}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Remove\+At\+End(uint32\+\_\+t end)}{RemoveAtEnd(uint32_t end)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Buffer\+::\+Remove\+At\+End (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{end}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_a83b30fd8e1202e778fb471757b800d47}{}\label{classns3_1_1Buffer_a83b30fd8e1202e778fb471757b800d47}

\begin{DoxyParams}{Parameters}
{\em end} & size to remove\\
\hline
\end{DoxyParams}
Remove bytes at the end of the \hyperlink{classns3_1_1Buffer}{Buffer}. Any call to this method invalidates any \hyperlink{classns3_1_1Buffer_1_1Iterator}{Iterator} pointing to this \hyperlink{classns3_1_1Buffer}{Buffer}. 
\begin{DoxyCode}
487 \{
488   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << end);
489   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
490   uint32\_t newEnd = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - \hyperlink{80211b_8c_ac6afabdc09a49a433ee19d8a9486056d}{std::min} (end, \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start});
491   \textcolor{keywordflow}{if} (newEnd > \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd})
492     \{
493       \textcolor{comment}{/* remove part of end of buffer */}
494       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} = newEnd;
495     \}
496   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (newEnd > \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart})
497     \{
498       \textcolor{comment}{/* remove end of buffer, part of zero area */}
499       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} = newEnd;
500       \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} = newEnd;
501     \}
502   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (newEnd > \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start})
503     \{
504       \textcolor{comment}{/* remove end of buffer, zero area, part of start of buffer */}
505       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} = newEnd;
506       \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} = newEnd;
507       \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} = newEnd;
508     \}
509   \textcolor{keywordflow}{else}
510     \{
511       \textcolor{comment}{/* remove all buffer */}
512       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
513       \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
514       \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
515     \}
516   \hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart} = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (\hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart}, 
      \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart});
517   \hyperlink{buffer_8cc_a002eee40749baf779e1bbe93cbc4bc30}{LOG\_INTERNAL\_STATE} (\textcolor{stringliteral}{"rem end="} << end << \textcolor{stringliteral}{", "});
518   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
519 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 25


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Remove\+At\+Start@{Remove\+At\+Start}}
\index{Remove\+At\+Start@{Remove\+At\+Start}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Remove\+At\+Start(uint32\+\_\+t start)}{RemoveAtStart(uint32_t start)}}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Buffer\+::\+Remove\+At\+Start (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{start}
\end{DoxyParamCaption}
)}\hypertarget{classns3_1_1Buffer_adeecbb3e8f518aec6fee0437578ade4b}{}\label{classns3_1_1Buffer_adeecbb3e8f518aec6fee0437578ade4b}

\begin{DoxyParams}{Parameters}
{\em start} & size to remove\\
\hline
\end{DoxyParams}
Remove bytes at the start of the \hyperlink{classns3_1_1Buffer}{Buffer}. Any call to this method invalidates any \hyperlink{classns3_1_1Buffer_1_1Iterator}{Iterator} pointing to this \hyperlink{classns3_1_1Buffer}{Buffer}. 
\begin{DoxyCode}
442 \{
443   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start});
444   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
445   uint32\_t newStart = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} + \hyperlink{namespacevisualizer_1_1core_a2a35e5d8a34af358b508dac8635754e0}{start};
446   \textcolor{keywordflow}{if} (newStart <= \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart})
447     \{
448       \textcolor{comment}{/* only remove start of buffer }
449 \textcolor{comment}{       */}
450       \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} = newStart;
451     \}
452   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (newStart <= \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd})
453     \{
454       \textcolor{comment}{/* remove start of buffer \_and\_ start of zero area}
455 \textcolor{comment}{       */}
456       uint32\_t delta = newStart - \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart};
457       \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} = \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart};
458       \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} -= delta;
459       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} -= delta;
460     \} 
461   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (newStart <= \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end})
462     \{
463       \textcolor{comment}{/* remove start of buffer, complete zero area, and part}
464 \textcolor{comment}{       * of end of buffer }
465 \textcolor{comment}{       */}
466       \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} >= start);
467       uint32\_t zeroSize = \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} - \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart};
468       \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} = newStart - zeroSize;
469       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} -= zeroSize;
470       m\_zeroAreaStart = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
471       \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} = \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
472     \}
473   \textcolor{keywordflow}{else} 
474     \{
475       \textcolor{comment}{/* remove all buffer */}
476       \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} -= \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} - \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart};
477       \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start} = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end};
478       \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end};
479       m\_zeroAreaStart = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end};
480     \}
481   \hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart} = \hyperlink{80211b_8c_affe776513b24d84b39af8ab0930fef7f}{std::max} (\hyperlink{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{m\_maxZeroAreaStart}, 
      \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart});
482   \hyperlink{buffer_8cc_a002eee40749baf779e1bbe93cbc4bc30}{LOG\_INTERNAL\_STATE} (\textcolor{stringliteral}{"rem start="} << start << \textcolor{stringliteral}{", "});
483   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
484 \}
\end{DoxyCode}


Here is the call graph for this function\+:
% FIG 26




Here is the caller graph for this function\+:
% FIG 27


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Serialize@{Serialize}}
\index{Serialize@{Serialize}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Serialize(uint8\+\_\+t $\ast$buffer, uint32\+\_\+t max\+Size) const }{Serialize(uint8_t *buffer, uint32_t maxSize) const }}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::\+Serialize (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{buffer, }
\item[{uint32\+\_\+t}]{max\+Size}
\end{DoxyParamCaption}
) const}\hypertarget{classns3_1_1Buffer_af32e7e0a4e53c5a7e3b4e921ccb07aa8}{}\label{classns3_1_1Buffer_af32e7e0a4e53c5a7e3b4e921ccb07aa8}
\begin{DoxyReturn}{Returns}
zero if buffer not large enough 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em buffer} & points to serialization buffer \\
\hline
{\em max\+Size} & max number of bytes to write\\
\hline
\end{DoxyParams}
This buffer\textquotesingle{}s contents are serialized into the raw character buffer parameter. Note\+: The zero length data is not copied entirely. Only the length of zero byte data is serialized. 
\begin{DoxyCode}
580 \{
581   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this} << &buffer << maxSize);
582   uint32\_t* \hyperlink{lte__link__budget_8m_ac9de518908a968428863f829398a4e62}{p} = \textcolor{keyword}{reinterpret\_cast<}uint32\_t *\textcolor{keyword}{>} (buffer);
583   uint32\_t size = 0;
584 
585   \textcolor{comment}{// Add the zero data length}
586   \textcolor{keywordflow}{if} (size + 4 <= maxSize)
587     \{
588       size += 4;
589       *p++ = \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd} - \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart};
590     \}
591   \textcolor{keywordflow}{else}
592     \{
593       \textcolor{keywordflow}{return} 0;
594     \}
595 
596   \textcolor{comment}{// Add the length of actual start data}
597   uint32\_t dataStartLength = \hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart} - \hyperlink{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{m\_start};
598   \textcolor{keywordflow}{if} (size + 4 <= maxSize)
599     \{
600       size += 4;
601       *p++ = dataStartLength;
602     \}
603   \textcolor{keywordflow}{else}
604     \{
605       \textcolor{keywordflow}{return} 0;
606     \}
607 
608   \textcolor{comment}{// Add the actual data}
609   \textcolor{keywordflow}{if} (size + ((dataStartLength + 3) & (~3))  <= maxSize)
610     \{
611       size += (dataStartLength + 3) & (~3);
612       memcpy (p, \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data} + m\_start, dataStartLength);
613       p += (((dataStartLength + 3) & (~3))/4); \textcolor{comment}{// Advance p, insuring 4 byte boundary}
614     \}
615   \textcolor{keywordflow}{else}
616     \{
617       \textcolor{keywordflow}{return} 0;
618     \}
619 
620   \textcolor{comment}{// Add the length of the actual end data}
621   uint32\_t dataEndLength = \hyperlink{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{m\_end} - \hyperlink{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{m\_zeroAreaEnd};
622   \textcolor{keywordflow}{if} (size + 4 <= maxSize)
623     \{
624       size += 4;
625       *p++ = dataEndLength;
626     \}
627   \textcolor{keywordflow}{else}
628     \{
629       \textcolor{keywordflow}{return} 0;
630     \}
631 
632   \textcolor{comment}{// Add the actual data}
633   \textcolor{keywordflow}{if} (size + ((dataEndLength + 3) & (~3)) <= maxSize)
634     \{
635       \textcolor{comment}{// The following line is unnecessary.}
636       \textcolor{comment}{// size += (dataEndLength + 3) & (~3);}
637       memcpy (p, \hyperlink{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{m\_data}->\hyperlink{structns3_1_1Buffer_1_1Data_a29e7d0a3b4e7e8272d06eb8c8e51ed04}{m\_data}+\hyperlink{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{m\_zeroAreaStart}, dataEndLength);
638       \textcolor{comment}{// The following line is unnecessary.}
639       \textcolor{comment}{// p += (((dataEndLength + 3) & (~3))/4); // Advance p, insuring 4 byte boundary}
640     \}
641   \textcolor{keywordflow}{else}
642     \{
643       \textcolor{keywordflow}{return} 0;
644     \}
645 
646   \textcolor{comment}{// Serialized everything successfully}
647   \textcolor{keywordflow}{return} 1;
648 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
% FIG 28


\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!Transform\+Into\+Real\+Buffer@{Transform\+Into\+Real\+Buffer}}
\index{Transform\+Into\+Real\+Buffer@{Transform\+Into\+Real\+Buffer}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{Transform\+Into\+Real\+Buffer(void) const }{TransformIntoRealBuffer(void) const }}]{\setlength{\rightskip}{0pt plus 5cm}void ns3\+::\+Buffer\+::\+Transform\+Into\+Real\+Buffer (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a37f603a90d9e7ddfef36f1301cc9d8b6}{}\label{classns3_1_1Buffer_a37f603a90d9e7ddfef36f1301cc9d8b6}


Transform a \char`\"{}\+Virtual byte buffer\char`\"{} into a \char`\"{}\+Real byte buffer\char`\"{}. 


\begin{DoxyCode}
698 \{
699   \hyperlink{log-macros-disabled_8h_a90b90d5bad1f39cb1b64923ea94c0761}{NS\_LOG\_FUNCTION} (\textcolor{keyword}{this});
700   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
701   \hyperlink{classns3_1_1Buffer_a287c877504ddcdbc244de0ca66227fda}{Buffer} tmp = \hyperlink{classns3_1_1Buffer_a8dd09a348caee9051b2aa3a154ab09e5}{CreateFullCopy} ();
702   *\textcolor{keyword}{const\_cast<}\hyperlink{classns3_1_1Buffer_a287c877504ddcdbc244de0ca66227fda}{Buffer} *\textcolor{keyword}{>} (\textcolor{keyword}{this}) = tmp;
703   \hyperlink{assert_8h_a6dccdb0de9b252f60088ce281c49d052}{NS\_ASSERT} (\hyperlink{classns3_1_1Buffer_a6202ce7f1ecc1fc7a14cc13017375d14}{CheckInternalState} ());
704 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!g\+\_\+free\+List@{g\+\_\+free\+List}}
\index{g\+\_\+free\+List@{g\+\_\+free\+List}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{g\+\_\+free\+List}{g_freeList}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Buffer\+::\+Free\+List} $\ast$ ns3\+::\+Buffer\+::g\+\_\+free\+List = 0\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}{}\label{classns3_1_1Buffer_a2d52975c7aad897af5a953a854906582}


\hyperlink{classns3_1_1Buffer}{Buffer} data container. 

\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!g\+\_\+local\+Static\+Destructor@{g\+\_\+local\+Static\+Destructor}}
\index{g\+\_\+local\+Static\+Destructor@{g\+\_\+local\+Static\+Destructor}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{g\+\_\+local\+Static\+Destructor}{g_localStaticDestructor}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf Local\+Static\+Destructor} ns3\+::\+Buffer\+::g\+\_\+local\+Static\+Destructor\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a42a32bf7da525c42762fa737585e8c81}{}\label{classns3_1_1Buffer_a42a32bf7da525c42762fa737585e8c81}


Local static destructor. 

\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!g\+\_\+max\+Size@{g\+\_\+max\+Size}}
\index{g\+\_\+max\+Size@{g\+\_\+max\+Size}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{g\+\_\+max\+Size}{g_maxSize}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::g\+\_\+max\+Size = 0\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a35a9e69b40e97421985973d1a48aab5a}{}\label{classns3_1_1Buffer_a35a9e69b40e97421985973d1a48aab5a}


Max observed data size. 

\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!g\+\_\+recommended\+Start@{g\+\_\+recommended\+Start}}
\index{g\+\_\+recommended\+Start@{g\+\_\+recommended\+Start}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{g\+\_\+recommended\+Start}{g_recommendedStart}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::g\+\_\+recommended\+Start = 0\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a62e14b22a57661cd7e026fea1c79db9e}{}\label{classns3_1_1Buffer_a62e14b22a57661cd7e026fea1c79db9e}
location in a newly-\/allocated buffer where you should start writing data. i.\+e., m\+\_\+start should be initialized to this value. \index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!m\+\_\+data@{m\+\_\+data}}
\index{m\+\_\+data@{m\+\_\+data}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{m\+\_\+data}{m_data}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf Data}$\ast$ ns3\+::\+Buffer\+::m\+\_\+data\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}{}\label{classns3_1_1Buffer_aad1ff41b0403829d7aadfef80783484d}


the buffer data storage 

\index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!m\+\_\+end@{m\+\_\+end}}
\index{m\+\_\+end@{m\+\_\+end}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{m\+\_\+end}{m_end}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::m\+\_\+end\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}{}\label{classns3_1_1Buffer_a1f83bdf72c64ddd2a2e862b64236f29d}
offset to the end of the data referenced by this \hyperlink{classns3_1_1Buffer}{Buffer} instance from the start of m\+\_\+data-\/$>$m\+\_\+data \index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!m\+\_\+max\+Zero\+Area\+Start@{m\+\_\+max\+Zero\+Area\+Start}}
\index{m\+\_\+max\+Zero\+Area\+Start@{m\+\_\+max\+Zero\+Area\+Start}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{m\+\_\+max\+Zero\+Area\+Start}{m_maxZeroAreaStart}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::m\+\_\+max\+Zero\+Area\+Start\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}{}\label{classns3_1_1Buffer_a5dd43f19f0e7d518b0fbd677e322f2cb}
keep track of the maximum value of m\+\_\+zero\+Area\+Start across the lifetime of a \hyperlink{classns3_1_1Buffer}{Buffer} instance. This variable is used purely as a source of information for the heuristics which decide on the position of the zero area in new buffers. It is read from the \hyperlink{classns3_1_1Buffer}{Buffer} destructor to update the global heuristic data and these global heuristic data are used from the \hyperlink{classns3_1_1Buffer}{Buffer} constructor to choose an initial value for m\+\_\+zero\+Area\+Start. \index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!m\+\_\+start@{m\+\_\+start}}
\index{m\+\_\+start@{m\+\_\+start}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{m\+\_\+start}{m_start}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::m\+\_\+start\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}{}\label{classns3_1_1Buffer_afbea962435250b6a0a6c860c50b75386}
offset to the start of the data referenced by this \hyperlink{classns3_1_1Buffer}{Buffer} instance from the start of m\+\_\+data-\/$>$m\+\_\+data \index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!m\+\_\+zero\+Area\+End@{m\+\_\+zero\+Area\+End}}
\index{m\+\_\+zero\+Area\+End@{m\+\_\+zero\+Area\+End}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{m\+\_\+zero\+Area\+End}{m_zeroAreaEnd}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::m\+\_\+zero\+Area\+End\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}{}\label{classns3_1_1Buffer_a50eb9a6ce5a2a75c25718edb92b8fdc0}
offset to the end of the virtual zero area from the start of m\+\_\+data-\/$>$m\+\_\+data \index{ns3\+::\+Buffer@{ns3\+::\+Buffer}!m\+\_\+zero\+Area\+Start@{m\+\_\+zero\+Area\+Start}}
\index{m\+\_\+zero\+Area\+Start@{m\+\_\+zero\+Area\+Start}!ns3\+::\+Buffer@{ns3\+::\+Buffer}}
\subsubsection[{\texorpdfstring{m\+\_\+zero\+Area\+Start}{m_zeroAreaStart}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t ns3\+::\+Buffer\+::m\+\_\+zero\+Area\+Start\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}{}\label{classns3_1_1Buffer_ae2ebe054c3e7e2ecdfd7fcb318bf085c}
offset to the start of the virtual zero area from the start of m\+\_\+data-\/$>$m\+\_\+data 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
network/model/\hyperlink{buffer_8h}{buffer.\+h}\item 
network/model/\hyperlink{buffer_8cc}{buffer.\+cc}\end{DoxyCompactItemize}
